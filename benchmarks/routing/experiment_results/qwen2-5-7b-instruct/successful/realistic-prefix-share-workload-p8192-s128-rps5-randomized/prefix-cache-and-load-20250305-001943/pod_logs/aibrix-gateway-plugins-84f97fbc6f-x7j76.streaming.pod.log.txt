I0305 08:19:49.707187       1 cache.go:137] using AIBRIX_POD_METRIC_REFRESH_INTERVAL_MS env value for pod metrics refresh interval: 1000 ms
W0305 08:19:49.707250       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_BLOCK_SIZE is not set, using default value: 
I0305 08:19:49.707259       1 hash.go:56] using default prefix cache block size: 16
W0305 08:19:49.707264       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_EVICTION_INTERVAL_MS is not set, using default value: 
I0305 08:19:49.707267       1 hash.go:71] using default prefix cache eviction interval: 50 ms
W0305 08:19:49.707270       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_EVICTION_DURATION_MINS is not set, using default value: 
I0305 08:19:49.707281       1 hash.go:86] using default prefix cache eviction duration: 60 mins
W0305 08:19:49.707287       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_MATCH_THRESHOLD_PERCENT is not set, using default value: 
I0305 08:19:49.707293       1 prefix_cache.go:50] using default prefix cache match threshold percent: 50
I0305 08:19:49.707296       1 prefix_cache_and_load.go:46] Test getDummyVar, dummay_var: 0
Connected to Redis: PONG
starting cache
I0305 08:19:49.709309       1 main.go:63] using in-cluster configuration
W0305 08:19:49.809833       1 util.go:80] environment variable PROMETHEUS_ENDPOINT is not set, using default value: 
W0305 08:19:49.809853       1 util.go:80] environment variable PROMETHEUS_BASIC_AUTH_USERNAME is not set, using default value: 
W0305 08:19:49.809856       1 util.go:80] environment variable PROMETHEUS_BASIC_AUTH_PASSWORD is not set, using default value: 
I0305 08:19:49.810296       1 main.go:93] starting gRPC server on port :50052
I0305 08:19:50.000942       1 cache.go:268] trace ticker start at 2025-03-05 08:19:50.000923937 +0000 UTC m=+0.305826034
I0305 08:21:40.245859       1 gateway.go:207] "Processing request" requestID="ed5c8f73-25df-4795-a209-2341f23cd92c"
I0305 08:21:40.246171       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ed5c8f73-25df-4795-a209-2341f23cd92c"
I0305 08:21:40.246184       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:40.274820       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ed5c8f73-25df-4795-a209-2341f23cd92c"
I0305 08:21:40.275081       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ed5c8f73-25df-4795-a209-2341f23cd92c" model="qwen2-5-7b-instruct"
I0305 08:21:40.275166       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:40.275172       1 prefix_cache_and_load.go:460] num pods in data structure: 0
I0305 08:21:40.275176       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:40.275188       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=0 new_count=8
I0305 08:21:40.275192       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:40.275197       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:40.395585       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.1204, numInputTokens, 7601
I0305 08:21:40.395609       1 tree.go:471] Updated node(0) last access: 110.5853 seconds
I0305 08:21:40.395656       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7601 tokens:
I0305 08:21:40.395671       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:40.395678       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:40.395686       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:40.395691       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:40.3956733 +0000 UTC m=+110.700575397]
I0305 08:21:40.395717       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 0, Matching ratio: 0.0000, # Matched pods: 0, Matched pods: []
I0305 08:21:40.395727       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0000, len(matchedPods): 0)
I0305 08:21:40.395735       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-jf5j6, Cost: 0.000000
I0305 08:21:40.395740       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7hl69, Cost: 0.000000
I0305 08:21:40.395743       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-thflg, Cost: 0.000000
I0305 08:21:40.395747       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-n9b4k, Cost: 0.000000
I0305 08:21:40.395751       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-pxkzn, Cost: 0.000000
I0305 08:21:40.395752       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7f2fx, Cost: 0.000000
I0305 08:21:40.395754       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-dpbx7, Cost: 0.000000
I0305 08:21:40.395756       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-xwrnx, Cost: 0.000000
I0305 08:21:40.395762       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-58ffd5c9d5-jf5j6
I0305 08:21:40.395771       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0000
I0305 08:21:40.395786       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:40.395794       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:40.395804       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:40.395815       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:40.395828       1 prefix_cache_and_load.go:584] latency, Route, 0.1207
I0305 08:21:40.395838       1 gateway.go:415] latency, selectTargetPod, 0.1207, target pod, 10.0.0.39:8000
I0305 08:21:40.395851       1 gateway.go:235] latency, HandleRequestBody, 0.1210
I0305 08:21:40.449862       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ed5c8f73-25df-4795-a209-2341f23cd92c"
I0305 08:21:40.937652       1 gateway.go:207] "Processing request" requestID="0bef9af0-d6ea-4838-a25c-2d54e7cbcb2c"
I0305 08:21:40.937708       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0bef9af0-d6ea-4838-a25c-2d54e7cbcb2c"
I0305 08:21:40.937719       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:41.132311       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0bef9af0-d6ea-4838-a25c-2d54e7cbcb2c"
I0305 08:21:41.132561       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0bef9af0-d6ea-4838-a25c-2d54e7cbcb2c" model="qwen2-5-7b-instruct"
I0305 08:21:41.132641       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:41.132648       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:41.132652       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:41.132677       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:41.132686       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:41.132692       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:41.190188       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0575, numInputTokens, 7601
I0305 08:21:41.190204       1 tree.go:471] Updated node(0) last access: 111.3799 seconds
I0305 08:21:41.190268       1 tree.go:667] Split complete - New node(2)
I0305 08:21:41.190274       1 tree.go:668] Split complete - Child node(1)
I0305 08:21:41.190280       1 tree.go:501] latency, splitNode, 0.0001 seconds, 7601 tokens:
I0305 08:21:41.190285       1 tree.go:471] Updated node(2) last access: 111.3800 seconds
I0305 08:21:41.190359       1 tree.go:516] latency, NewTreeNode, 0.0001 seconds, 7597 tokens:
I0305 08:21:41.190365       1 tree.go:449] latency, insertHelper, 0.0002 seconds, 7601 tokens
I0305 08:21:41.190370       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:41.190378       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 08:21:41.190385       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:41.190366999 +0000 UTC m=+111.495269097]
I0305 08:21:41.190402       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 08:21:41.190412       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 08:21:41.190418       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:41.190423       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:41.190428       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:41.190438       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-dpbx7, Cost: 0.000000
I0305 08:21:41.190443       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-xwrnx, Cost: 0.000000
I0305 08:21:41.190448       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-jf5j6, Cost: 9.461418
I0305 08:21:41.190451       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7hl69, Cost: 0.000000
I0305 08:21:41.190453       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-thflg, Cost: 0.000000
I0305 08:21:41.190455       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-n9b4k, Cost: 0.000000
I0305 08:21:41.190457       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-pxkzn, Cost: 0.000000
I0305 08:21:41.190459       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7f2fx, Cost: 0.000000
I0305 08:21:41.190464       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-58ffd5c9d5-dpbx7
I0305 08:21:41.190471       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 08:21:41.190482       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:41.190486       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:41.190491       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:41.190501       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:41.190511       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:41.190522       1 prefix_cache_and_load.go:584] latency, Route, 0.0579
I0305 08:21:41.190530       1 gateway.go:415] latency, selectTargetPod, 0.0579, target pod, 10.0.1.22:8000
I0305 08:21:41.190543       1 gateway.go:235] latency, HandleRequestBody, 0.0582
I0305 08:21:41.245554       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0bef9af0-d6ea-4838-a25c-2d54e7cbcb2c"
I0305 08:21:41.510828       1 gateway.go:608] "First token received" requestID="ed5c8f73-25df-4795-a209-2341f23cd92c" ttft_ms=1235
I0305 08:21:41.668126       1 gateway.go:207] "Processing request" requestID="d54dd636-28af-4bca-a86e-dcbe1e8020db"
I0305 08:21:41.668159       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d54dd636-28af-4bca-a86e-dcbe1e8020db"
I0305 08:21:41.668167       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:41.682982       1 gateway.go:562] latency, 0.0002, summary, hash(request), 20fa863b, selectedpod, 10.0.0.39:8000, ttft, 1235, tpot, 19, e2e, 1407, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:41.683093       1 gateway.go:748] "Request completed" requestID="ed5c8f73-25df-4795-a209-2341f23cd92c" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:41.683128       1 gateway.go:764] "HandleResponseBody completed" requestID="ed5c8f73-25df-4795-a209-2341f23cd92c" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:41.798820       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d54dd636-28af-4bca-a86e-dcbe1e8020db"
I0305 08:21:41.799134       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d54dd636-28af-4bca-a86e-dcbe1e8020db" model="qwen2-5-7b-instruct"
I0305 08:21:41.799285       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:41.799295       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:41.799299       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:41.799312       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:41.799319       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:41.799323       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:41.859491       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0601, numInputTokens, 7600
I0305 08:21:41.859512       1 tree.go:471] Updated node(0) last access: 112.0492 seconds
I0305 08:21:41.859518       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:41.859522       1 tree.go:471] Updated node(2) last access: 112.0492 seconds
I0305 08:21:41.859544       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7596 tokens:
I0305 08:21:41.859550       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:21:41.859556       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:41.859565       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:41.859575       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:41.85955204 +0000 UTC m=+112.164454137]
I0305 08:21:41.859600       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 08:21:41.859617       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 08:21:41.859627       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:41.859631       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:41.859637       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:41.859643       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:41.859647       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:41.859655       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:41.859674       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-jf5j6, Cost: 9.461418
I0305 08:21:41.859684       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7hl69, Cost: 0.000000
I0305 08:21:41.859687       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-thflg, Cost: 0.000000
I0305 08:21:41.859690       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-n9b4k, Cost: 0.000000
I0305 08:21:41.859692       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-pxkzn, Cost: 0.000000
I0305 08:21:41.859694       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7f2fx, Cost: 0.000000
I0305 08:21:41.859695       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-dpbx7, Cost: 9.459991
I0305 08:21:41.859698       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-xwrnx, Cost: 0.000000
I0305 08:21:41.859704       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-58ffd5c9d5-7hl69
I0305 08:21:41.859712       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 08:21:41.859722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:41.859728       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:41.859736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:41.859747       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:41.859757       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:21:41.859772       1 prefix_cache_and_load.go:584] latency, Route, 0.0605
I0305 08:21:41.859785       1 gateway.go:415] latency, selectTargetPod, 0.0605, target pod, 10.0.3.41:8000
I0305 08:21:41.859800       1 gateway.go:235] latency, HandleRequestBody, 0.0610
I0305 08:21:41.911051       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d54dd636-28af-4bca-a86e-dcbe1e8020db"
I0305 08:21:42.183241       1 gateway.go:207] "Processing request" requestID="e3ed9689-8c4f-4b47-b446-fd6bc71804ee"
I0305 08:21:42.183284       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e3ed9689-8c4f-4b47-b446-fd6bc71804ee"
I0305 08:21:42.183293       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:42.214017       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e3ed9689-8c4f-4b47-b446-fd6bc71804ee"
I0305 08:21:42.214250       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e3ed9689-8c4f-4b47-b446-fd6bc71804ee" model="qwen2-5-7b-instruct"
I0305 08:21:42.214366       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:42.214373       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:42.214377       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:42.214392       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:42.214400       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:42.214405       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:42.272705       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0583, numInputTokens, 7601
I0305 08:21:42.272729       1 tree.go:471] Updated node(0) last access: 112.4624 seconds
I0305 08:21:42.272736       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:42.272740       1 tree.go:471] Updated node(2) last access: 112.4625 seconds
I0305 08:21:42.272808       1 tree.go:516] latency, NewTreeNode, 0.0001 seconds, 7597 tokens:
I0305 08:21:42.272817       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:42.272825       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:42.272832       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:42.272839       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:42.272820802 +0000 UTC m=+112.577722899]
I0305 08:21:42.272859       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 08:21:42.272869       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 08:21:42.272877       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:42.272880       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:42.272888       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:42.272895       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:42.272897       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:42.272903       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:42.272908       1 prefix_cache_and_load.go:226] numTokens: 7596, contextLength: 7600, targetGPU: V100
I0305 08:21:42.272910       1 prefix_cache_and_load.go:227] prefillTime: 2.7110 = (Base time(2.0735) + attnQuad(0.3665)) / 0.9
I0305 08:21:42.272914       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7096 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7110) / numPods(1)
I0305 08:21:42.272924       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-dpbx7, Cost: 9.459991
I0305 08:21:42.272929       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-xwrnx, Cost: 0.000000
I0305 08:21:42.272931       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-thflg, Cost: 0.000000
I0305 08:21:42.272933       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-n9b4k, Cost: 0.000000
I0305 08:21:42.272935       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-jf5j6, Cost: 9.461418
I0305 08:21:42.272937       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7hl69, Cost: 9.459587
I0305 08:21:42.272939       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-pxkzn, Cost: 0.000000
I0305 08:21:42.272941       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7f2fx, Cost: 0.000000
I0305 08:21:42.272947       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-58ffd5c9d5-xwrnx
I0305 08:21:42.272955       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 08:21:42.272965       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:42.272970       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:42.272974       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:42.272982       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:42.272993       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:21:42.273008       1 prefix_cache_and_load.go:584] latency, Route, 0.0586
I0305 08:21:42.273017       1 gateway.go:415] latency, selectTargetPod, 0.0587, target pod, 10.0.1.28:8000
I0305 08:21:42.273030       1 gateway.go:235] latency, HandleRequestBody, 0.0590
I0305 08:21:42.307157       1 gateway.go:608] "First token received" requestID="0bef9af0-d6ea-4838-a25c-2d54e7cbcb2c" ttft_ms=1174
I0305 08:21:42.327043       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e3ed9689-8c4f-4b47-b446-fd6bc71804ee"
I0305 08:21:42.479427       1 gateway.go:207] "Processing request" requestID="530bc27f-cef3-4401-9b04-eb75fde15d83"
I0305 08:21:42.479483       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="530bc27f-cef3-4401-9b04-eb75fde15d83"
I0305 08:21:42.479503       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:42.479687       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2f3d5171, selectedpod, 10.0.1.22:8000, ttft, 1174, tpot, 19, e2e, 1347, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:42.479757       1 gateway.go:748] "Request completed" requestID="0bef9af0-d6ea-4838-a25c-2d54e7cbcb2c" targetPod="10.0.1.22:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:42.479777       1 gateway.go:764] "HandleResponseBody completed" requestID="0bef9af0-d6ea-4838-a25c-2d54e7cbcb2c" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:42.617977       1 gateway.go:329] "-- In RequestBody processing ..." requestID="530bc27f-cef3-4401-9b04-eb75fde15d83"
I0305 08:21:42.618256       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="530bc27f-cef3-4401-9b04-eb75fde15d83" model="qwen2-5-7b-instruct"
I0305 08:21:42.618393       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:42.618401       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:42.618405       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:42.618423       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:42.618432       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:42.618436       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:42.676247       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0578, numInputTokens, 7601
I0305 08:21:42.676263       1 tree.go:471] Updated node(0) last access: 112.8660 seconds
I0305 08:21:42.676269       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:42.676274       1 tree.go:471] Updated node(2) last access: 112.8660 seconds
I0305 08:21:42.676353       1 tree.go:667] Split complete - New node(6)
I0305 08:21:42.676362       1 tree.go:668] Split complete - Child node(3)
I0305 08:21:42.676370       1 tree.go:501] latency, splitNode, 0.0001 seconds, 7597 tokens:
I0305 08:21:42.676376       1 tree.go:471] Updated node(6) last access: 112.8661 seconds
I0305 08:21:42.676387       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:42.676393       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:42.676404       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:42.676415       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:42.676423       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:42.676397661 +0000 UTC m=+112.981299764]
I0305 08:21:42.676449       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:42.676460       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:42.676485       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7478
I0305 08:21:42.676501       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:42.676519       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:42.676525       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:42.676529       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:42.676535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:42.676544       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:42.676554       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:42.676564       1 prefix_cache_and_load.go:584] latency, Route, 0.0582
I0305 08:21:42.676575       1 gateway.go:415] latency, selectTargetPod, 0.0582, target pod, 10.0.1.22:8000
I0305 08:21:42.676588       1 gateway.go:235] latency, HandleRequestBody, 0.0586
I0305 08:21:42.695399       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="530bc27f-cef3-4401-9b04-eb75fde15d83"
I0305 08:21:42.740636       1 gateway.go:608] "First token received" requestID="530bc27f-cef3-4401-9b04-eb75fde15d83" ttft_ms=122
I0305 08:21:42.844262       1 gateway.go:207] "Processing request" requestID="ccdb4f64-b571-4ee0-8f6e-f02a219825c8"
I0305 08:21:42.844291       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ccdb4f64-b571-4ee0-8f6e-f02a219825c8"
I0305 08:21:42.844299       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:42.852794       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ccdb4f64-b571-4ee0-8f6e-f02a219825c8"
I0305 08:21:42.853019       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ccdb4f64-b571-4ee0-8f6e-f02a219825c8" model="qwen2-5-7b-instruct"
I0305 08:21:42.853090       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:42.853097       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:42.853100       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:42.853115       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:42.853122       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:42.853126       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:42.910298       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0572, numInputTokens, 7603
I0305 08:21:42.910316       1 tree.go:471] Updated node(0) last access: 113.1000 seconds
I0305 08:21:42.910323       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:42.910334       1 tree.go:471] Updated node(2) last access: 113.1000 seconds
I0305 08:21:42.910373       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7599 tokens:
I0305 08:21:42.910380       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 08:21:42.910386       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:21:42.910393       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:42.910398       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:42.910381839 +0000 UTC m=+113.215283936]
I0305 08:21:42.910416       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 08:21:42.910425       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 08:21:42.910431       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:42.910437       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:42.910442       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:42.910449       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:42.910452       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:42.910456       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:42.910461       1 prefix_cache_and_load.go:226] numTokens: 7596, contextLength: 7600, targetGPU: V100
I0305 08:21:42.910465       1 prefix_cache_and_load.go:227] prefillTime: 2.7110 = (Base time(2.0735) + attnQuad(0.3665)) / 0.9
I0305 08:21:42.910470       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7096 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7110) / numPods(1)
I0305 08:21:42.910474       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:42.910477       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:42.910483       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:42.910487       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:42.910491       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:42.910495       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:42.910504       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-dpbx7, Cost: 13.564287
I0305 08:21:42.910508       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-xwrnx, Cost: 9.459991
I0305 08:21:42.910511       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-n9b4k, Cost: 0.000000
I0305 08:21:42.910513       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-jf5j6, Cost: 9.461418
I0305 08:21:42.910515       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7hl69, Cost: 9.459587
I0305 08:21:42.910517       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-thflg, Cost: 0.000000
I0305 08:21:42.910518       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-pxkzn, Cost: 0.000000
I0305 08:21:42.910520       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7f2fx, Cost: 0.000000
I0305 08:21:42.910527       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-58ffd5c9d5-n9b4k
I0305 08:21:42.910534       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 08:21:42.910544       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:42.910552       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:42.910559       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:42.910569       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:42.910579       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:21:42.910589       1 prefix_cache_and_load.go:584] latency, Route, 0.0575
I0305 08:21:42.910598       1 gateway.go:415] latency, selectTargetPod, 0.0575, target pod, 10.0.0.101:8000
I0305 08:21:42.910610       1 gateway.go:235] latency, HandleRequestBody, 0.0578
I0305 08:21:42.914401       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7f397c3b, selectedpod, 10.0.1.22:8000, ttft, 122, tpot, 19, e2e, 296, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:42.914425       1 gateway.go:748] "Request completed" requestID="530bc27f-cef3-4401-9b04-eb75fde15d83" targetPod="10.0.1.22:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:42.914437       1 gateway.go:764] "HandleResponseBody completed" requestID="530bc27f-cef3-4401-9b04-eb75fde15d83" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:42.963962       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ccdb4f64-b571-4ee0-8f6e-f02a219825c8"
I0305 08:21:42.971991       1 gateway.go:608] "First token received" requestID="d54dd636-28af-4bca-a86e-dcbe1e8020db" ttft_ms=1173
I0305 08:21:43.082378       1 gateway.go:207] "Processing request" requestID="c75aed6c-1e2c-47e6-b0ad-f4a9d9a17145"
I0305 08:21:43.082410       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c75aed6c-1e2c-47e6-b0ad-f4a9d9a17145"
I0305 08:21:43.082420       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:43.144437       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8c14c58d, selectedpod, 10.0.3.41:8000, ttft, 1173, tpot, 19, e2e, 1345, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:43.144461       1 gateway.go:748] "Request completed" requestID="d54dd636-28af-4bca-a86e-dcbe1e8020db" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:43.144473       1 gateway.go:764] "HandleResponseBody completed" requestID="d54dd636-28af-4bca-a86e-dcbe1e8020db" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:43.266070       1 gateway.go:207] "Processing request" requestID="88c1999a-31a7-4be4-87f9-4133e61d2af1"
I0305 08:21:43.266114       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="88c1999a-31a7-4be4-87f9-4133e61d2af1"
I0305 08:21:43.266128       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:43.266154       1 gateway.go:207] "Processing request" requestID="6a534aa4-7e9e-4ff2-98a3-9bf2caa54da2"
I0305 08:21:43.266190       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6a534aa4-7e9e-4ff2-98a3-9bf2caa54da2"
I0305 08:21:43.266200       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:43.388323       1 gateway.go:608] "First token received" requestID="e3ed9689-8c4f-4b47-b446-fd6bc71804ee" ttft_ms=1174
I0305 08:21:43.423162       1 gateway.go:207] "Processing request" requestID="82dee918-aa81-41ba-bd3b-849945eb7de6"
I0305 08:21:43.423188       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="82dee918-aa81-41ba-bd3b-849945eb7de6"
I0305 08:21:43.423195       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:43.458790       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c75aed6c-1e2c-47e6-b0ad-f4a9d9a17145"
I0305 08:21:43.459014       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c75aed6c-1e2c-47e6-b0ad-f4a9d9a17145" model="qwen2-5-7b-instruct"
I0305 08:21:43.459093       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:43.459100       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:43.459103       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:43.459120       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:43.459126       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:43.459132       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:43.495390       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6a534aa4-7e9e-4ff2-98a3-9bf2caa54da2"
I0305 08:21:43.495616       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6a534aa4-7e9e-4ff2-98a3-9bf2caa54da2" model="qwen2-5-7b-instruct"
I0305 08:21:43.517145       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0580, numInputTokens, 7591
I0305 08:21:43.517161       1 tree.go:471] Updated node(0) last access: 113.7069 seconds
I0305 08:21:43.517167       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:43.517173       1 tree.go:471] Updated node(2) last access: 113.7069 seconds
I0305 08:21:43.517194       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7587 tokens:
I0305 08:21:43.517199       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7591 tokens
I0305 08:21:43.517206       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7591 tokens
I0305 08:21:43.517213       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:43.517219       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:43.51720099 +0000 UTC m=+113.822103087]
I0305 08:21:43.517235       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7591, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 08:21:43.517245       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 08:21:43.517252       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:43.517257       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:43.517261       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:43.517268       1 prefix_cache_and_load.go:226] numTokens: 7596, contextLength: 7600, targetGPU: V100
I0305 08:21:43.517271       1 prefix_cache_and_load.go:227] prefillTime: 2.7110 = (Base time(2.0735) + attnQuad(0.3665)) / 0.9
I0305 08:21:43.517276       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7096 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7110) / numPods(1)
I0305 08:21:43.517281       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:43.517286       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:43.517290       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:43.517296       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:43.517298       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:43.517303       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:43.517307       1 prefix_cache_and_load.go:226] numTokens: 7599, contextLength: 7603, targetGPU: V100
I0305 08:21:43.517309       1 prefix_cache_and_load.go:227] prefillTime: 2.7122 = (Base time(2.0743) + attnQuad(0.3667)) / 0.9
I0305 08:21:43.517314       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7108 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7122) / numPods(1)
I0305 08:21:43.517320       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:43.517324       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:43.517336       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:43.517347       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-dpbx7, Cost: 13.564287
I0305 08:21:43.517353       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-xwrnx, Cost: 9.459991
I0305 08:21:43.517358       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-jf5j6, Cost: 9.461418
I0305 08:21:43.517365       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7hl69, Cost: 9.459587
I0305 08:21:43.517369       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-thflg, Cost: 0.000000
I0305 08:21:43.517375       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-n9b4k, Cost: 9.460798
I0305 08:21:43.517377       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-pxkzn, Cost: 0.000000
I0305 08:21:43.517379       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7f2fx, Cost: 0.000000
I0305 08:21:43.517385       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-58ffd5c9d5-thflg
I0305 08:21:43.517392       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 08:21:43.517399       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.517405       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.517408       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.517416       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:43.517425       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:43.517436       1 prefix_cache_and_load.go:584] latency, Route, 0.0583
I0305 08:21:43.517451       1 gateway.go:415] latency, selectTargetPod, 0.0584, target pod, 10.0.3.30:8000
I0305 08:21:43.517466       1 gateway.go:235] latency, HandleRequestBody, 0.0587
I0305 08:21:43.517487       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0218
I0305 08:21:43.517490       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:43.517493       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:43.517507       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:43.517515       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:43.517520       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:43.560654       1 gateway.go:562] latency, 0.0000, summary, hash(request), d9fab93d, selectedpod, 10.0.1.28:8000, ttft, 1174, tpot, 19, e2e, 1346, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:43.560691       1 gateway.go:748] "Request completed" requestID="e3ed9689-8c4f-4b47-b446-fd6bc71804ee" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:43.560710       1 gateway.go:764] "HandleResponseBody completed" requestID="e3ed9689-8c4f-4b47-b446-fd6bc71804ee" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:43.568468       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c75aed6c-1e2c-47e6-b0ad-f4a9d9a17145"
I0305 08:21:43.594078       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0765, numInputTokens, 7594
I0305 08:21:43.594095       1 tree.go:471] Updated node(0) last access: 113.7838 seconds
I0305 08:21:43.594102       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:43.594106       1 tree.go:471] Updated node(2) last access: 113.7838 seconds
I0305 08:21:43.594154       1 tree.go:667] Split complete - New node(10)
I0305 08:21:43.594159       1 tree.go:668] Split complete - Child node(8)
I0305 08:21:43.594165       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7590 tokens:
I0305 08:21:43.594169       1 tree.go:471] Updated node(10) last access: 113.7839 seconds
I0305 08:21:43.594175       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:21:43.594180       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 08:21:43.594186       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 08:21:43.594193       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:43.594200       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:43.59418218 +0000 UTC m=+113.899084277]
I0305 08:21:43.594216       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7478, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:21:43.594224       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:21:43.594243       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7478
I0305 08:21:43.594253       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:43.594263       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.594271       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.594277       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.594284       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.594294       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:43.594304       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:21:43.594317       1 prefix_cache_and_load.go:584] latency, Route, 0.0986
I0305 08:21:43.594338       1 gateway.go:415] latency, selectTargetPod, 0.0986, target pod, 10.0.0.101:8000
I0305 08:21:43.594351       1 gateway.go:235] latency, HandleRequestBody, 0.0990
I0305 08:21:43.612689       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6a534aa4-7e9e-4ff2-98a3-9bf2caa54da2"
I0305 08:21:43.648128       1 gateway.go:329] "-- In RequestBody processing ..." requestID="82dee918-aa81-41ba-bd3b-849945eb7de6"
I0305 08:21:43.648267       1 gateway.go:207] "Processing request" requestID="a7aad99a-ad64-4161-a264-403a9bd8c44c"
I0305 08:21:43.648302       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a7aad99a-ad64-4161-a264-403a9bd8c44c"
I0305 08:21:43.648314       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:43.648403       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="82dee918-aa81-41ba-bd3b-849945eb7de6" model="qwen2-5-7b-instruct"
I0305 08:21:43.648493       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:43.648500       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:43.648504       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:43.648531       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:43.648542       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:43.648548       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:43.706040       1 gateway.go:329] "-- In RequestBody processing ..." requestID="88c1999a-31a7-4be4-87f9-4133e61d2af1"
I0305 08:21:43.706280       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="88c1999a-31a7-4be4-87f9-4133e61d2af1" model="qwen2-5-7b-instruct"
I0305 08:21:43.710080       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0615, numInputTokens, 7594
I0305 08:21:43.710097       1 tree.go:471] Updated node(0) last access: 113.8998 seconds
I0305 08:21:43.710104       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:43.710109       1 tree.go:471] Updated node(2) last access: 113.8998 seconds
I0305 08:21:43.710130       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7590 tokens:
I0305 08:21:43.710136       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 08:21:43.710143       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 08:21:43.710150       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:43.710156       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:43.710138704 +0000 UTC m=+114.015040801]
I0305 08:21:43.710171       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 08:21:43.710181       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 08:21:43.710186       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:43.710195       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:43.710201       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:43.710208       1 prefix_cache_and_load.go:226] numTokens: 7596, contextLength: 7600, targetGPU: V100
I0305 08:21:43.710211       1 prefix_cache_and_load.go:227] prefillTime: 2.7110 = (Base time(2.0735) + attnQuad(0.3665)) / 0.9
I0305 08:21:43.710215       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7096 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7110) / numPods(1)
I0305 08:21:43.710221       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:43.710223       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:43.710229       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:43.710234       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:43.710236       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:43.710241       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:43.710245       1 prefix_cache_and_load.go:226] numTokens: 125, contextLength: 7603, targetGPU: V100
I0305 08:21:43.710250       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:43.710253       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:43.710258       1 prefix_cache_and_load.go:226] numTokens: 7587, contextLength: 7591, targetGPU: V100
I0305 08:21:43.710260       1 prefix_cache_and_load.go:227] prefillTime: 2.7074 = (Base time(2.0710) + attnQuad(0.3656)) / 0.9
I0305 08:21:43.710266       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7060 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7074) / numPods(1)
I0305 08:21:43.710271       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7594, targetGPU: V100
I0305 08:21:43.710275       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:43.710278       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0153) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:43.710283       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:43.710287       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:43.710291       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:43.710301       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-thflg, Cost: 9.455956
I0305 08:21:43.710305       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-n9b4k, Cost: 13.564230
I0305 08:21:43.710308       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-jf5j6, Cost: 9.461418
I0305 08:21:43.710310       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7hl69, Cost: 9.459587
I0305 08:21:43.710313       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-pxkzn, Cost: 0.000000
I0305 08:21:43.710315       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7f2fx, Cost: 0.000000
I0305 08:21:43.710317       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-dpbx7, Cost: 13.564287
I0305 08:21:43.710319       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-xwrnx, Cost: 9.459991
I0305 08:21:43.710325       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-58ffd5c9d5-pxkzn
I0305 08:21:43.710343       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0002
I0305 08:21:43.710352       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.710358       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.710365       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.710379       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:43.710390       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:43.710400       1 prefix_cache_and_load.go:584] latency, Route, 0.0619
I0305 08:21:43.710415       1 gateway.go:415] latency, selectTargetPod, 0.0619, target pod, 10.0.1.14:8000
I0305 08:21:43.710426       1 gateway.go:235] latency, HandleRequestBody, 0.0623
I0305 08:21:43.710452       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0040
I0305 08:21:43.710456       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:43.710459       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:43.710476       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:43.710484       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:43.710489       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:43.765490       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="82dee918-aa81-41ba-bd3b-849945eb7de6"
I0305 08:21:43.786078       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0756, numInputTokens, 7593
I0305 08:21:43.786094       1 tree.go:471] Updated node(0) last access: 113.9758 seconds
I0305 08:21:43.786102       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:43.786107       1 tree.go:471] Updated node(2) last access: 113.9758 seconds
I0305 08:21:43.786130       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7589 tokens:
I0305 08:21:43.786137       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7593 tokens
I0305 08:21:43.786145       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 08:21:43.786152       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:43.786160       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:43.786140772 +0000 UTC m=+114.091042869]
I0305 08:21:43.786174       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 08:21:43.786184       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 08:21:43.786191       1 prefix_cache_and_load.go:226] numTokens: 7587, contextLength: 7591, targetGPU: V100
I0305 08:21:43.786196       1 prefix_cache_and_load.go:227] prefillTime: 2.7074 = (Base time(2.0710) + attnQuad(0.3656)) / 0.9
I0305 08:21:43.786200       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7060 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7074) / numPods(1)
I0305 08:21:43.786207       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7594, targetGPU: V100
I0305 08:21:43.786210       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:43.786216       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0153) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:43.786220       1 prefix_cache_and_load.go:226] numTokens: 7590, contextLength: 7594, targetGPU: V100
I0305 08:21:43.786223       1 prefix_cache_and_load.go:227] prefillTime: 2.7086 = (Base time(2.0718) + attnQuad(0.3659)) / 0.9
I0305 08:21:43.786229       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7072 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7086) / numPods(1)
I0305 08:21:43.786233       1 prefix_cache_and_load.go:226] numTokens: 125, contextLength: 7603, targetGPU: V100
I0305 08:21:43.786236       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:43.786240       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:43.786245       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:43.786248       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:43.786251       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:43.786257       1 prefix_cache_and_load.go:226] numTokens: 7596, contextLength: 7600, targetGPU: V100
I0305 08:21:43.786260       1 prefix_cache_and_load.go:227] prefillTime: 2.7110 = (Base time(2.0735) + attnQuad(0.3665)) / 0.9
I0305 08:21:43.786264       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7096 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7110) / numPods(1)
I0305 08:21:43.786268       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:43.786272       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:43.786277       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:43.786281       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:43.786285       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:43.786289       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:43.786295       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:43.786298       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:43.786302       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:43.786310       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7f2fx, Cost: 0.000000
I0305 08:21:43.786316       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-pxkzn, Cost: 9.457166
I0305 08:21:43.786318       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-xwrnx, Cost: 9.459991
I0305 08:21:43.786320       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-dpbx7, Cost: 13.564287
I0305 08:21:43.786323       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7hl69, Cost: 9.459587
I0305 08:21:43.786325       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-thflg, Cost: 9.455956
I0305 08:21:43.786335       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-n9b4k, Cost: 13.564230
I0305 08:21:43.786340       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-jf5j6, Cost: 9.461418
I0305 08:21:43.786346       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-58ffd5c9d5-7f2fx
I0305 08:21:43.786355       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0002
I0305 08:21:43.786364       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.786373       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.786380       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.786389       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:43.786399       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:43.786409       1 prefix_cache_and_load.go:584] latency, Route, 0.0800
I0305 08:21:43.786418       1 gateway.go:415] latency, selectTargetPod, 0.0800, target pod, 10.0.0.134:8000
I0305 08:21:43.786428       1 gateway.go:235] latency, HandleRequestBody, 0.0804
I0305 08:21:43.797625       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a7aad99a-ad64-4161-a264-403a9bd8c44c"
I0305 08:21:43.797867       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a7aad99a-ad64-4161-a264-403a9bd8c44c" model="qwen2-5-7b-instruct"
I0305 08:21:43.797971       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:43.797979       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:43.797983       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:43.798001       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:43.798008       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:43.798014       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:43.840601       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="88c1999a-31a7-4be4-87f9-4133e61d2af1"
I0305 08:21:43.848889       1 gateway.go:207] "Processing request" requestID="e1eb16a9-3e15-41cf-b193-61e79b8235d7"
I0305 08:21:43.848912       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e1eb16a9-3e15-41cf-b193-61e79b8235d7"
I0305 08:21:43.848920       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:43.877603       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0796, numInputTokens, 7601
I0305 08:21:43.877622       1 tree.go:471] Updated node(0) last access: 114.0673 seconds
I0305 08:21:43.877628       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:43.877632       1 tree.go:471] Updated node(2) last access: 114.0673 seconds
I0305 08:21:43.877647       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:21:43.877651       1 tree.go:471] Updated node(10) last access: 114.0674 seconds
I0305 08:21:43.877661       1 tree.go:667] Split complete - New node(14)
I0305 08:21:43.877676       1 tree.go:668] Split complete - Child node(11)
I0305 08:21:43.877683       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 08:21:43.877688       1 tree.go:471] Updated node(14) last access: 114.0674 seconds
I0305 08:21:43.877693       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:43.877698       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:43.877704       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:43.877710       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:43.877716       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:43.877700227 +0000 UTC m=+114.182602325]
I0305 08:21:43.877731       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7480, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:43.877739       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:43.877759       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7480
I0305 08:21:43.877768       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:43.877778       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.877784       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.877789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.877793       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.877797       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:43.877806       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:43.877816       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:21:43.877829       1 prefix_cache_and_load.go:584] latency, Route, 0.0799
I0305 08:21:43.877844       1 gateway.go:415] latency, selectTargetPod, 0.0799, target pod, 10.0.0.101:8000
I0305 08:21:43.877856       1 gateway.go:235] latency, HandleRequestBody, 0.0802
I0305 08:21:43.895988       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a7aad99a-ad64-4161-a264-403a9bd8c44c"
I0305 08:21:43.999680       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e1eb16a9-3e15-41cf-b193-61e79b8235d7"
I0305 08:21:43.999919       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e1eb16a9-3e15-41cf-b193-61e79b8235d7" model="qwen2-5-7b-instruct"
I0305 08:21:44.000003       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:44.000010       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:44.000013       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:44.000036       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:44.000047       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:44.000052       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:44.038711       1 gateway.go:608] "First token received" requestID="ccdb4f64-b571-4ee0-8f6e-f02a219825c8" ttft_ms=1185
I0305 08:21:44.057932       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0579, numInputTokens, 7601
I0305 08:21:44.057949       1 tree.go:471] Updated node(0) last access: 114.2477 seconds
I0305 08:21:44.057956       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:44.057960       1 tree.go:471] Updated node(2) last access: 114.2477 seconds
I0305 08:21:44.058003       1 tree.go:667] Split complete - New node(16)
I0305 08:21:44.058009       1 tree.go:668] Split complete - Child node(12)
I0305 08:21:44.058015       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7597 tokens:
I0305 08:21:44.058020       1 tree.go:471] Updated node(16) last access: 114.2477 seconds
I0305 08:21:44.058025       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:44.058030       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:44.058035       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:44.058041       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:44.058047       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:44.058032088 +0000 UTC m=+114.362934185]
I0305 08:21:44.058064       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:44.058075       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:44.058100       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7478
I0305 08:21:44.058111       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:44.058120       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.058126       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.058131       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.058136       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.058145       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:44.058159       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:44.058171       1 prefix_cache_and_load.go:584] latency, Route, 0.0582
I0305 08:21:44.058182       1 gateway.go:415] latency, selectTargetPod, 0.0582, target pod, 10.0.1.14:8000
I0305 08:21:44.058193       1 gateway.go:235] latency, HandleRequestBody, 0.0585
I0305 08:21:44.076445       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e1eb16a9-3e15-41cf-b193-61e79b8235d7"
I0305 08:21:44.091294       1 gateway.go:207] "Processing request" requestID="98d477ee-e746-464c-b53d-b4d3f6d1dde4"
I0305 08:21:44.091315       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="98d477ee-e746-464c-b53d-b4d3f6d1dde4"
I0305 08:21:44.091325       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:44.091557       1 gateway.go:329] "-- In RequestBody processing ..." requestID="98d477ee-e746-464c-b53d-b4d3f6d1dde4"
I0305 08:21:44.091825       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="98d477ee-e746-464c-b53d-b4d3f6d1dde4" model="qwen2-5-7b-instruct"
I0305 08:21:44.091910       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:44.091916       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:44.091920       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:44.091942       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:44.091951       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:44.091955       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:44.096322       1 gateway.go:608] "First token received" requestID="6a534aa4-7e9e-4ff2-98a3-9bf2caa54da2" ttft_ms=600
I0305 08:21:44.096343       1 gateway.go:608] "First token received" requestID="a7aad99a-ad64-4161-a264-403a9bd8c44c" ttft_ms=298
I0305 08:21:44.150810       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0588, numInputTokens, 7595
I0305 08:21:44.150828       1 tree.go:471] Updated node(0) last access: 114.3405 seconds
I0305 08:21:44.150834       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:44.150838       1 tree.go:471] Updated node(2) last access: 114.3406 seconds
I0305 08:21:44.150851       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:21:44.150855       1 tree.go:471] Updated node(10) last access: 114.3406 seconds
I0305 08:21:44.150860       1 tree.go:490] Partial tokens match child node(14). Continue to go deeper in the radix tree
I0305 08:21:44.150864       1 tree.go:471] Updated node(14) last access: 114.3406 seconds
I0305 08:21:44.150874       1 tree.go:667] Split complete - New node(18)
I0305 08:21:44.150878       1 tree.go:668] Split complete - Child node(15)
I0305 08:21:44.150883       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 08:21:44.150889       1 tree.go:471] Updated node(18) last access: 114.3406 seconds
I0305 08:21:44.150895       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 08:21:44.150900       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 08:21:44.150907       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 08:21:44.150914       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:44.150920       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:44.15090191 +0000 UTC m=+114.455804007]
I0305 08:21:44.150937       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7484, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 08:21:44.150947       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 08:21:44.150968       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7484
I0305 08:21:44.150978       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:44.150987       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.150995       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.150999       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.151003       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.151010       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.151016       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.151025       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:44.151034       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:21:44.151045       1 prefix_cache_and_load.go:584] latency, Route, 0.0591
I0305 08:21:44.151055       1 gateway.go:415] latency, selectTargetPod, 0.0591, target pod, 10.0.0.101:8000
I0305 08:21:44.151066       1 gateway.go:235] latency, HandleRequestBody, 0.0595
I0305 08:21:44.168853       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="98d477ee-e746-464c-b53d-b4d3f6d1dde4"
I0305 08:21:44.211414       1 gateway.go:608] "First token received" requestID="98d477ee-e746-464c-b53d-b4d3f6d1dde4" ttft_ms=119
I0305 08:21:44.242613       1 gateway.go:207] "Processing request" requestID="f9bafe2b-2cdd-4772-99e0-a1b2639b6b63"
I0305 08:21:44.242655       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f9bafe2b-2cdd-4772-99e0-a1b2639b6b63"
I0305 08:21:44.242677       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:44.251255       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f9bafe2b-2cdd-4772-99e0-a1b2639b6b63"
I0305 08:21:44.251489       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f9bafe2b-2cdd-4772-99e0-a1b2639b6b63" model="qwen2-5-7b-instruct"
I0305 08:21:44.251565       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:44.251571       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:44.251574       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:44.251599       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:44.251609       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:44.251614       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:44.310561       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0589, numInputTokens, 7601
I0305 08:21:44.310580       1 tree.go:471] Updated node(0) last access: 114.5003 seconds
I0305 08:21:44.310587       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:44.310591       1 tree.go:471] Updated node(2) last access: 114.5003 seconds
I0305 08:21:44.310612       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7597 tokens:
I0305 08:21:44.310620       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:21:44.310626       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:44.310634       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:44.310640       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:44.310622157 +0000 UTC m=+114.615524254]
I0305 08:21:44.310656       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 08:21:44.310674       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 08:21:44.310682       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:44.310689       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:44.310699       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:44.310708       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:44.310713       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:44.310720       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:44.310727       1 prefix_cache_and_load.go:226] numTokens: 7596, contextLength: 7600, targetGPU: V100
I0305 08:21:44.310733       1 prefix_cache_and_load.go:227] prefillTime: 2.7110 = (Base time(2.0735) + attnQuad(0.3665)) / 0.9
I0305 08:21:44.310739       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7096 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7110) / numPods(1)
I0305 08:21:44.310747       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:44.310753       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:44.310759       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:44.310768       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:44.310772       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:44.310779       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:44.310785       1 prefix_cache_and_load.go:226] numTokens: 125, contextLength: 7603, targetGPU: V100
I0305 08:21:44.310791       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:44.310796       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:44.310803       1 prefix_cache_and_load.go:226] numTokens: 7587, contextLength: 7591, targetGPU: V100
I0305 08:21:44.310809       1 prefix_cache_and_load.go:227] prefillTime: 2.7074 = (Base time(2.0710) + attnQuad(0.3656)) / 0.9
I0305 08:21:44.310816       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7060 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7074) / numPods(1)
I0305 08:21:44.310824       1 prefix_cache_and_load.go:226] numTokens: 114, contextLength: 7594, targetGPU: V100
I0305 08:21:44.310831       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:44.310838       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0153) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:44.310844       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7594, targetGPU: V100
I0305 08:21:44.310849       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:44.310856       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:44.310865       1 prefix_cache_and_load.go:226] numTokens: 7589, contextLength: 7593, targetGPU: V100
I0305 08:21:44.310870       1 prefix_cache_and_load.go:227] prefillTime: 2.7082 = (Base time(2.0716) + attnQuad(0.3658)) / 0.9
I0305 08:21:44.310876       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7068 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7082) / numPods(1)
I0305 08:21:44.310884       1 prefix_cache_and_load.go:226] numTokens: 117, contextLength: 7601, targetGPU: V100
I0305 08:21:44.310891       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:44.310899       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:44.310908       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:44.310913       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:44.310920       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:44.310929       1 prefix_cache_and_load.go:226] numTokens: 111, contextLength: 7595, targetGPU: V100
I0305 08:21:44.310933       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:44.310940       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0009 = miss rate(0.0146) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:44.310953       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-n9b4k, Cost: 27.066163
I0305 08:21:44.310961       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-jf5j6, Cost: 9.461418
I0305 08:21:44.310965       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7hl69, Cost: 9.459587
I0305 08:21:44.310971       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-thflg, Cost: 9.455956
I0305 08:21:44.310974       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-pxkzn, Cost: 13.564285
I0305 08:21:44.310976       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7f2fx, Cost: 9.456763
I0305 08:21:44.310979       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-dpbx7, Cost: 13.564287
I0305 08:21:44.310982       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-xwrnx, Cost: 9.459991
I0305 08:21:44.310992       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-58ffd5c9d5-thflg
I0305 08:21:44.311007       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0003
I0305 08:21:44.311023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.311041       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.311054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.311069       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:44.311081       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:44.311093       1 prefix_cache_and_load.go:584] latency, Route, 0.0595
I0305 08:21:44.311106       1 gateway.go:415] latency, selectTargetPod, 0.0595, target pod, 10.0.3.30:8000
I0305 08:21:44.311122       1 gateway.go:235] latency, HandleRequestBody, 0.0599
I0305 08:21:44.317078       1 gateway.go:562] latency, 0.0000, summary, hash(request), a6e255ae, selectedpod, 10.0.0.101:8000, ttft, 298, tpot, 24, e2e, 519, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:44.317079       1 gateway.go:562] latency, 0.0000, summary, hash(request), 906a452e, selectedpod, 10.0.0.101:8000, ttft, 600, tpot, 24, e2e, 821, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 08:21:44.317079       1 gateway.go:562] latency, 0.0001, summary, hash(request), a5b5320a, selectedpod, 10.0.0.101:8000, ttft, 1185, tpot, 30, e2e, 1464, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:21:44.317103       1 gateway.go:748] "Request completed" requestID="a7aad99a-ad64-4161-a264-403a9bd8c44c" targetPod="10.0.0.101:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:44.317104       1 gateway.go:748] "Request completed" requestID="6a534aa4-7e9e-4ff2-98a3-9bf2caa54da2" targetPod="10.0.0.101:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 08:21:44.317111       1 gateway.go:748] "Request completed" requestID="ccdb4f64-b571-4ee0-8f6e-f02a219825c8" targetPod="10.0.0.101:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:21:44.317116       1 gateway.go:764] "HandleResponseBody completed" requestID="a7aad99a-ad64-4161-a264-403a9bd8c44c" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:44.317118       1 gateway.go:764] "HandleResponseBody completed" requestID="6a534aa4-7e9e-4ff2-98a3-9bf2caa54da2" promptTokens=7613 completionTokens=10 stream=true
I0305 08:21:44.317121       1 gateway.go:764] "HandleResponseBody completed" requestID="ccdb4f64-b571-4ee0-8f6e-f02a219825c8" promptTokens=7622 completionTokens=10 stream=true
I0305 08:21:44.327312       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f9bafe2b-2cdd-4772-99e0-a1b2639b6b63"
I0305 08:21:44.346492       1 gateway.go:207] "Processing request" requestID="4554c41e-9923-4fce-9909-ac8864c668ba"
I0305 08:21:44.346520       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4554c41e-9923-4fce-9909-ac8864c668ba"
I0305 08:21:44.346529       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:44.358873       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4554c41e-9923-4fce-9909-ac8864c668ba"
I0305 08:21:44.359098       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4554c41e-9923-4fce-9909-ac8864c668ba" model="qwen2-5-7b-instruct"
I0305 08:21:44.359172       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:44.359178       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:44.359181       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:44.359202       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:44.359212       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:44.359218       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:44.393688       1 gateway.go:562] latency, 0.0001, summary, hash(request), b17ff979, selectedpod, 10.0.0.101:8000, ttft, 119, tpot, 20, e2e, 302, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 08:21:44.393707       1 gateway.go:748] "Request completed" requestID="98d477ee-e746-464c-b53d-b4d3f6d1dde4" targetPod="10.0.0.101:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 08:21:44.393717       1 gateway.go:764] "HandleResponseBody completed" requestID="98d477ee-e746-464c-b53d-b4d3f6d1dde4" promptTokens=7614 completionTokens=10 stream=true
I0305 08:21:44.415487       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0563, numInputTokens, 7599
I0305 08:21:44.415504       1 tree.go:471] Updated node(0) last access: 114.6052 seconds
I0305 08:21:44.415510       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:44.415513       1 tree.go:471] Updated node(2) last access: 114.6052 seconds
I0305 08:21:44.415554       1 tree.go:667] Split complete - New node(21)
I0305 08:21:44.415559       1 tree.go:668] Split complete - Child node(4)
I0305 08:21:44.415565       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7595 tokens:
I0305 08:21:44.415571       1 tree.go:471] Updated node(21) last access: 114.6053 seconds
I0305 08:21:44.415576       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:44.415581       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:21:44.415587       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:44.415594       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:44.415600       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:44.41558359 +0000 UTC m=+114.720485687]
I0305 08:21:44.415616       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:44.415625       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:44.415648       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7478
I0305 08:21:44.415659       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:44.415680       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.415687       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.415691       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.415697       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.415708       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:44.415719       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:21:44.415732       1 prefix_cache_and_load.go:584] latency, Route, 0.0566
I0305 08:21:44.415742       1 gateway.go:415] latency, selectTargetPod, 0.0566, target pod, 10.0.3.41:8000
I0305 08:21:44.415753       1 gateway.go:235] latency, HandleRequestBody, 0.0569
I0305 08:21:44.431441       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4554c41e-9923-4fce-9909-ac8864c668ba"
I0305 08:21:44.453395       1 gateway.go:207] "Processing request" requestID="9892aec1-9ec5-4090-9857-b5f750899f74"
I0305 08:21:44.453427       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9892aec1-9ec5-4090-9857-b5f750899f74"
I0305 08:21:44.453437       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:44.476986       1 gateway.go:608] "First token received" requestID="4554c41e-9923-4fce-9909-ac8864c668ba" ttft_ms=118
I0305 08:21:44.515432       1 gateway.go:207] "Processing request" requestID="997bc5c7-592d-49b7-880b-c46c50d88d32"
I0305 08:21:44.515459       1 gateway.go:207] "Processing request" requestID="9dc56317-e4a5-4c39-8035-5059270c5d2e"
I0305 08:21:44.515467       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="997bc5c7-592d-49b7-880b-c46c50d88d32"
I0305 08:21:44.515477       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:44.515483       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9dc56317-e4a5-4c39-8035-5059270c5d2e"
I0305 08:21:44.515491       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:44.609489       1 gateway.go:207] "Processing request" requestID="e8df7d0f-f66b-4743-8ace-804ef8e90117"
I0305 08:21:44.609522       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e8df7d0f-f66b-4743-8ace-804ef8e90117"
I0305 08:21:44.609532       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:44.645106       1 gateway.go:608] "First token received" requestID="c75aed6c-1e2c-47e6-b0ad-f4a9d9a17145" ttft_ms=1186
I0305 08:21:44.650610       1 gateway.go:562] latency, 0.0000, summary, hash(request), 302e23e4, selectedpod, 10.0.3.41:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:44.650631       1 gateway.go:748] "Request completed" requestID="4554c41e-9923-4fce-9909-ac8864c668ba" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:44.650643       1 gateway.go:764] "HandleResponseBody completed" requestID="4554c41e-9923-4fce-9909-ac8864c668ba" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:44.695618       1 gateway.go:207] "Processing request" requestID="c4e2a36b-6e10-4356-a7c8-5620ad8788bc"
I0305 08:21:44.695661       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c4e2a36b-6e10-4356-a7c8-5620ad8788bc"
I0305 08:21:44.695689       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:44.717980       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9892aec1-9ec5-4090-9857-b5f750899f74"
I0305 08:21:44.718147       1 gateway.go:207] "Processing request" requestID="233c1939-852a-4987-9c6e-214fb0675db2"
I0305 08:21:44.718177       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="233c1939-852a-4987-9c6e-214fb0675db2"
I0305 08:21:44.718187       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:44.718224       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9892aec1-9ec5-4090-9857-b5f750899f74" model="qwen2-5-7b-instruct"
I0305 08:21:44.718297       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:44.718304       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:44.718308       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:44.718347       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:44.718357       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:44.718363       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:44.740302       1 gateway.go:329] "-- In RequestBody processing ..." requestID="997bc5c7-592d-49b7-880b-c46c50d88d32"
I0305 08:21:44.740564       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="997bc5c7-592d-49b7-880b-c46c50d88d32" model="qwen2-5-7b-instruct"
I0305 08:21:44.780051       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0617, numInputTokens, 7599
I0305 08:21:44.780070       1 tree.go:471] Updated node(0) last access: 114.9698 seconds
I0305 08:21:44.780077       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:44.780080       1 tree.go:471] Updated node(2) last access: 114.9698 seconds
I0305 08:21:44.780095       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:21:44.780098       1 tree.go:471] Updated node(10) last access: 114.9698 seconds
I0305 08:21:44.780104       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:44.780109       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:21:44.780117       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:44.780125       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:44.780131       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:44.780111576 +0000 UTC m=+115.085013673]
I0305 08:21:44.780146       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:44.780155       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:44.780178       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7478
I0305 08:21:44.780188       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:44.780197       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.780203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.780208       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.780213       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.780222       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:44.780232       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:21:44.780243       1 prefix_cache_and_load.go:584] latency, Route, 0.0619
I0305 08:21:44.780258       1 gateway.go:415] latency, selectTargetPod, 0.0620, target pod, 10.0.0.101:8000
I0305 08:21:44.780271       1 gateway.go:235] latency, HandleRequestBody, 0.0623
I0305 08:21:44.780296       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0397
I0305 08:21:44.780302       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:44.780306       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:44.780336       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:44.780348       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:44.780354       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:44.798388       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9892aec1-9ec5-4090-9857-b5f750899f74"
I0305 08:21:44.835606       1 gateway.go:608] "First token received" requestID="82dee918-aa81-41ba-bd3b-849945eb7de6" ttft_ms=1187
I0305 08:21:44.837578       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0572, numInputTokens, 7602
I0305 08:21:44.837593       1 tree.go:471] Updated node(0) last access: 115.0273 seconds
I0305 08:21:44.837600       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:44.837605       1 tree.go:471] Updated node(2) last access: 115.0273 seconds
I0305 08:21:44.837643       1 tree.go:667] Split complete - New node(24)
I0305 08:21:44.837648       1 tree.go:668] Split complete - Child node(20)
I0305 08:21:44.837653       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7598 tokens:
I0305 08:21:44.837659       1 tree.go:471] Updated node(24) last access: 115.0274 seconds
I0305 08:21:44.837672       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 08:21:44.837677       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:21:44.837682       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:44.837690       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:44.837695       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:44.837679053 +0000 UTC m=+115.142581150]
I0305 08:21:44.837711       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 08:21:44.837720       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 08:21:44.837742       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:44.837754       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:44.837763       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.837769       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.837777       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.837783       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:44.837792       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:44.837802       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:44.837813       1 prefix_cache_and_load.go:584] latency, Route, 0.0972
I0305 08:21:44.837827       1 gateway.go:415] latency, selectTargetPod, 0.0972, target pod, 10.0.3.30:8000
I0305 08:21:44.837838       1 gateway.go:235] latency, HandleRequestBody, 0.0975
I0305 08:21:44.842779       1 gateway.go:608] "First token received" requestID="9892aec1-9ec5-4090-9857-b5f750899f74" ttft_ms=124
I0305 08:21:44.853860       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="997bc5c7-592d-49b7-880b-c46c50d88d32"
I0305 08:21:44.866580       1 gateway.go:608] "First token received" requestID="e1eb16a9-3e15-41cf-b193-61e79b8235d7" ttft_ms=866
I0305 08:21:44.899995       1 gateway.go:608] "First token received" requestID="88c1999a-31a7-4be4-87f9-4133e61d2af1" ttft_ms=1193
I0305 08:21:45.015688       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6e0db073, selectedpod, 10.0.0.101:8000, ttft, 124, tpot, 19, e2e, 297, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:45.015721       1 gateway.go:748] "Request completed" requestID="9892aec1-9ec5-4090-9857-b5f750899f74" targetPod="10.0.0.101:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:45.015739       1 gateway.go:764] "HandleResponseBody completed" requestID="9892aec1-9ec5-4090-9857-b5f750899f74" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:45.048285       1 gateway.go:562] latency, 0.0000, summary, hash(request), b996fd25, selectedpod, 10.0.1.14:8000, ttft, 866, tpot, 20, e2e, 1048, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:45.048312       1 gateway.go:748] "Request completed" requestID="e1eb16a9-3e15-41cf-b193-61e79b8235d7" targetPod="10.0.1.14:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:45.048312       1 gateway.go:562] latency, 0.0001, summary, hash(request), 45c4d554, selectedpod, 10.0.1.14:8000, ttft, 1187, tpot, 23, e2e, 1400, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 08:21:45.048333       1 gateway.go:764] "HandleResponseBody completed" requestID="e1eb16a9-3e15-41cf-b193-61e79b8235d7" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:45.048343       1 gateway.go:748] "Request completed" requestID="82dee918-aa81-41ba-bd3b-849945eb7de6" targetPod="10.0.1.14:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 08:21:45.048355       1 gateway.go:764] "HandleResponseBody completed" requestID="82dee918-aa81-41ba-bd3b-849945eb7de6" promptTokens=7613 completionTokens=10 stream=true
I0305 08:21:45.070256       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e8df7d0f-f66b-4743-8ace-804ef8e90117"
I0305 08:21:45.070515       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e8df7d0f-f66b-4743-8ace-804ef8e90117" model="qwen2-5-7b-instruct"
I0305 08:21:45.070600       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:45.070609       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:45.070613       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:45.070647       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:45.070658       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:45.070677       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:45.071154       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c4e2a36b-6e10-4356-a7c8-5620ad8788bc"
I0305 08:21:45.071400       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c4e2a36b-6e10-4356-a7c8-5620ad8788bc" model="qwen2-5-7b-instruct"
I0305 08:21:45.071854       1 gateway.go:562] latency, 0.0000, summary, hash(request), d7c7ec98, selectedpod, 10.0.0.134:8000, ttft, 1193, tpot, 19, e2e, 1365, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 08:21:45.071872       1 gateway.go:748] "Request completed" requestID="88c1999a-31a7-4be4-87f9-4133e61d2af1" targetPod="10.0.0.134:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 08:21:45.071882       1 gateway.go:764] "HandleResponseBody completed" requestID="88c1999a-31a7-4be4-87f9-4133e61d2af1" promptTokens=7612 completionTokens=10 stream=true
I0305 08:21:45.072418       1 gateway.go:207] "Processing request" requestID="b77388e9-9f19-43bd-95c9-22de758eeea7"
I0305 08:21:45.072446       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b77388e9-9f19-43bd-95c9-22de758eeea7"
I0305 08:21:45.072456       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:45.073364       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9dc56317-e4a5-4c39-8035-5059270c5d2e"
I0305 08:21:45.073463       1 gateway.go:207] "Processing request" requestID="29a3824b-3e76-47a5-8647-2e400a883411"
I0305 08:21:45.073492       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="29a3824b-3e76-47a5-8647-2e400a883411"
I0305 08:21:45.073494       1 gateway.go:207] "Processing request" requestID="6b873d89-5c38-4122-923a-32191337de4b"
I0305 08:21:45.073502       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:45.073516       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6b873d89-5c38-4122-923a-32191337de4b"
I0305 08:21:45.073524       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:45.073627       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9dc56317-e4a5-4c39-8035-5059270c5d2e" model="qwen2-5-7b-instruct"
I0305 08:21:45.129962       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0593, numInputTokens, 7602
I0305 08:21:45.129978       1 tree.go:471] Updated node(0) last access: 115.3197 seconds
I0305 08:21:45.129984       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:45.129988       1 tree.go:471] Updated node(2) last access: 115.3197 seconds
I0305 08:21:45.130023       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7598 tokens:
I0305 08:21:45.130031       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:21:45.130038       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:45.130045       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:45.130051       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:45.130033787 +0000 UTC m=+115.434935884]
I0305 08:21:45.130068       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 08:21:45.130080       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 08:21:45.130089       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:45.130096       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130101       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130108       1 prefix_cache_and_load.go:226] numTokens: 111, contextLength: 7595, targetGPU: V100
I0305 08:21:45.130112       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130116       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0009 = miss rate(0.0146) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130122       1 prefix_cache_and_load.go:226] numTokens: 114, contextLength: 7594, targetGPU: V100
I0305 08:21:45.130125       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130131       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0153) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130135       1 prefix_cache_and_load.go:226] numTokens: 7589, contextLength: 7593, targetGPU: V100
I0305 08:21:45.130138       1 prefix_cache_and_load.go:227] prefillTime: 2.7082 = (Base time(2.0716) + attnQuad(0.3658)) / 0.9
I0305 08:21:45.130143       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7068 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7082) / numPods(1)
I0305 08:21:45.130148       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:45.130152       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130156       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130164       1 prefix_cache_and_load.go:226] numTokens: 122, contextLength: 7600, targetGPU: V100
I0305 08:21:45.130169       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130173       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130177       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7594, targetGPU: V100
I0305 08:21:45.130182       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130185       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130190       1 prefix_cache_and_load.go:226] numTokens: 117, contextLength: 7601, targetGPU: V100
I0305 08:21:45.130193       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130197       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130204       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:45.130206       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130210       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130216       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 08:21:45.130218       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130222       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130227       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 08:21:45.130230       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130234       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130240       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 7602, targetGPU: V100
I0305 08:21:45.130244       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130250       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0163) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130254       1 prefix_cache_and_load.go:226] numTokens: 125, contextLength: 7603, targetGPU: V100
I0305 08:21:45.130258       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130262       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130267       1 prefix_cache_and_load.go:226] numTokens: 7587, contextLength: 7591, targetGPU: V100
I0305 08:21:45.130271       1 prefix_cache_and_load.go:227] prefillTime: 2.7074 = (Base time(2.0710) + attnQuad(0.3656)) / 0.9
I0305 08:21:45.130275       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7060 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7074) / numPods(1)
I0305 08:21:45.130280       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 08:21:45.130282       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 08:21:45.130287       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 08:21:45.130291       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:45.130294       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:45.130297       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:45.130303       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 08:21:45.130305       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 08:21:45.130309       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 08:21:45.130323       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-pxkzn, Cost: 13.564285
I0305 08:21:45.130337       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7f2fx, Cost: 9.456763
I0305 08:21:45.130339       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-dpbx7, Cost: 13.564287
I0305 08:21:45.130342       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-xwrnx, Cost: 9.459991
I0305 08:21:45.130344       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-jf5j6, Cost: 9.461418
I0305 08:21:45.130346       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-7hl69, Cost: 13.564270
I0305 08:21:45.130348       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-thflg, Cost: 23.020251
I0305 08:21:45.130350       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-58ffd5c9d5-n9b4k, Cost: 33.817170
I0305 08:21:45.130357       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-58ffd5c9d5-7f2fx
I0305 08:21:45.130364       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0003
I0305 08:21:45.130373       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.130378       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.130384       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.130400       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:45.130411       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:45.130420       1 prefix_cache_and_load.go:584] latency, Route, 0.0598
I0305 08:21:45.130433       1 gateway.go:415] latency, selectTargetPod, 0.0598, target pod, 10.0.0.134:8000
I0305 08:21:45.130446       1 gateway.go:235] latency, HandleRequestBody, 0.0602
I0305 08:21:45.130467       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0590
I0305 08:21:45.130474       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:45.130477       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:45.130504       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:45.130514       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:45.130518       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:45.148107       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e8df7d0f-f66b-4743-8ace-804ef8e90117"
I0305 08:21:45.205729       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0752, numInputTokens, 7602
I0305 08:21:45.205750       1 tree.go:471] Updated node(0) last access: 115.3955 seconds
I0305 08:21:45.205757       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:45.205760       1 tree.go:471] Updated node(2) last access: 115.3955 seconds
I0305 08:21:45.205774       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:21:45.205777       1 tree.go:471] Updated node(6) last access: 115.3955 seconds
I0305 08:21:45.205783       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 08:21:45.205790       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 08:21:45.205797       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:45.205805       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:45.205810       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:45.205792263 +0000 UTC m=+115.510694360]
I0305 08:21:45.205827       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 08:21:45.205836       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 08:21:45.205859       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7478
I0305 08:21:45.205868       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:45.205878       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.205886       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.205892       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.205901       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.205911       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:45.205921       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:45.205933       1 prefix_cache_and_load.go:584] latency, Route, 0.1344
I0305 08:21:45.205948       1 gateway.go:415] latency, selectTargetPod, 0.1345, target pod, 10.0.1.22:8000
I0305 08:21:45.205961       1 gateway.go:235] latency, HandleRequestBody, 0.1348
I0305 08:21:45.205987       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1323
I0305 08:21:45.205992       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:45.205995       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:45.206019       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:45.206031       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:45.206034       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:45.215312       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b77388e9-9f19-43bd-95c9-22de758eeea7"
I0305 08:21:45.215552       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b77388e9-9f19-43bd-95c9-22de758eeea7" model="qwen2-5-7b-instruct"
I0305 08:21:45.224971       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c4e2a36b-6e10-4356-a7c8-5620ad8788bc"
I0305 08:21:45.266242       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0602, numInputTokens, 7602
I0305 08:21:45.266262       1 tree.go:471] Updated node(0) last access: 115.4560 seconds
I0305 08:21:45.266269       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:45.266273       1 tree.go:471] Updated node(2) last access: 115.4560 seconds
I0305 08:21:45.266309       1 tree.go:667] Split complete - New node(28)
I0305 08:21:45.266314       1 tree.go:668] Split complete - Child node(1)
I0305 08:21:45.266319       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7598 tokens:
I0305 08:21:45.266325       1 tree.go:471] Updated node(28) last access: 115.4560 seconds
I0305 08:21:45.266342       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 08:21:45.266346       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:21:45.266352       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:45.266358       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:45.266363       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:45.266348332 +0000 UTC m=+115.571250429]
I0305 08:21:45.266378       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 08:21:45.266385       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 08:21:45.266410       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7478
I0305 08:21:45.266421       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:45.266432       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.266439       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.266445       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.266451       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.266459       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:45.266470       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:45.266481       1 prefix_cache_and_load.go:584] latency, Route, 0.1928
I0305 08:21:45.266496       1 gateway.go:415] latency, selectTargetPod, 0.1928, target pod, 10.0.0.39:8000
I0305 08:21:45.266508       1 gateway.go:235] latency, HandleRequestBody, 0.1931
I0305 08:21:45.266535       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0509
I0305 08:21:45.266540       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:45.266543       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:45.266569       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:45.266579       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:45.266583       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:45.268624       1 gateway.go:608] "First token received" requestID="c4e2a36b-6e10-4356-a7c8-5620ad8788bc" ttft_ms=197
I0305 08:21:45.285156       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9dc56317-e4a5-4c39-8035-5059270c5d2e"
I0305 08:21:45.322673       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0561, numInputTokens, 7597
I0305 08:21:45.322689       1 tree.go:471] Updated node(0) last access: 115.5124 seconds
I0305 08:21:45.322695       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:45.322698       1 tree.go:471] Updated node(2) last access: 115.5124 seconds
I0305 08:21:45.322712       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:45.322716       1 tree.go:471] Updated node(16) last access: 115.5124 seconds
I0305 08:21:45.322722       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:21:45.322727       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 08:21:45.322734       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:21:45.322741       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:45.322747       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:45.322729538 +0000 UTC m=+115.627631635]
I0305 08:21:45.322761       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:21:45.322769       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:21:45.322793       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7478
I0305 08:21:45.322803       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:45.322813       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.322820       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.322825       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.322830       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.322841       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:45.322852       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:45.322861       1 prefix_cache_and_load.go:584] latency, Route, 0.1072
I0305 08:21:45.322871       1 gateway.go:415] latency, selectTargetPod, 0.1072, target pod, 10.0.1.14:8000
I0305 08:21:45.322881       1 gateway.go:235] latency, HandleRequestBody, 0.1076
I0305 08:21:45.330661       1 gateway.go:608] "First token received" requestID="9dc56317-e4a5-4c39-8035-5059270c5d2e" ttft_ms=257
I0305 08:21:45.340400       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b77388e9-9f19-43bd-95c9-22de758eeea7"
I0305 08:21:45.383724       1 gateway.go:608] "First token received" requestID="b77388e9-9f19-43bd-95c9-22de758eeea7" ttft_ms=168
I0305 08:21:45.444579       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90a27b07, selectedpod, 10.0.1.22:8000, ttft, 197, tpot, 19, e2e, 373, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:45.444600       1 gateway.go:748] "Request completed" requestID="c4e2a36b-6e10-4356-a7c8-5620ad8788bc" targetPod="10.0.1.22:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:45.444612       1 gateway.go:764] "HandleResponseBody completed" requestID="c4e2a36b-6e10-4356-a7c8-5620ad8788bc" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:45.448391       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6b873d89-5c38-4122-923a-32191337de4b"
I0305 08:21:45.448617       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6b873d89-5c38-4122-923a-32191337de4b" model="qwen2-5-7b-instruct"
I0305 08:21:45.448721       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:45.448728       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:45.448731       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:45.448768       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:45.448781       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:45.448786       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:45.501529       1 gateway.go:329] "-- In RequestBody processing ..." requestID="233c1939-852a-4987-9c6e-214fb0675db2"
I0305 08:21:45.501709       1 gateway.go:207] "Processing request" requestID="056a66a3-fd4c-43a2-82bf-e80141314303"
I0305 08:21:45.501728       1 gateway.go:207] "Processing request" requestID="8b9d6316-5340-4e2b-aab5-a2be540298ca"
I0305 08:21:45.501754       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="056a66a3-fd4c-43a2-82bf-e80141314303"
I0305 08:21:45.501760       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8b9d6316-5340-4e2b-aab5-a2be540298ca"
I0305 08:21:45.501768       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:45.501771       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:45.501785       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="233c1939-852a-4987-9c6e-214fb0675db2" model="qwen2-5-7b-instruct"
I0305 08:21:45.507630       1 gateway.go:562] latency, 0.0001, summary, hash(request), 3780117b, selectedpod, 10.0.0.39:8000, ttft, 257, tpot, 19, e2e, 434, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:45.507651       1 gateway.go:748] "Request completed" requestID="9dc56317-e4a5-4c39-8035-5059270c5d2e" targetPod="10.0.0.39:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:45.507671       1 gateway.go:764] "HandleResponseBody completed" requestID="9dc56317-e4a5-4c39-8035-5059270c5d2e" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:45.509790       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0610, numInputTokens, 7602
I0305 08:21:45.509806       1 tree.go:471] Updated node(0) last access: 115.6995 seconds
I0305 08:21:45.509813       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:45.509817       1 tree.go:471] Updated node(2) last access: 115.6995 seconds
I0305 08:21:45.509830       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:21:45.509835       1 tree.go:471] Updated node(6) last access: 115.6996 seconds
I0305 08:21:45.509845       1 tree.go:667] Split complete - New node(31)
I0305 08:21:45.509848       1 tree.go:668] Split complete - Child node(7)
I0305 08:21:45.509853       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:21:45.509858       1 tree.go:471] Updated node(31) last access: 115.6996 seconds
I0305 08:21:45.509863       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:21:45.509866       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:21:45.509873       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:45.509878       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:45.509884       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:45.509868534 +0000 UTC m=+115.814770631]
I0305 08:21:45.509902       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7482, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:21:45.509910       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:21:45.509935       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7482
I0305 08:21:45.509944       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:45.509954       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.509960       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.509967       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.509973       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.509977       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.509988       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:45.509998       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:45.510008       1 prefix_cache_and_load.go:584] latency, Route, 0.0613
I0305 08:21:45.510021       1 gateway.go:415] latency, selectTargetPod, 0.0613, target pod, 10.0.1.22:8000
I0305 08:21:45.510033       1 gateway.go:235] latency, HandleRequestBody, 0.0616
I0305 08:21:45.510057       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0080
I0305 08:21:45.510062       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:45.510065       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:45.510090       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:45.510102       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:45.510106       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:45.514807       1 gateway.go:329] "-- In RequestBody processing ..." requestID="29a3824b-3e76-47a5-8647-2e400a883411"
I0305 08:21:45.515033       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="29a3824b-3e76-47a5-8647-2e400a883411" model="qwen2-5-7b-instruct"
I0305 08:21:45.526907       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6b873d89-5c38-4122-923a-32191337de4b"
I0305 08:21:45.557678       1 gateway.go:562] latency, 0.0001, summary, hash(request), a4ae5f3d, selectedpod, 10.0.1.14:8000, ttft, 168, tpot, 19, e2e, 342, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:21:45.557696       1 gateway.go:748] "Request completed" requestID="b77388e9-9f19-43bd-95c9-22de758eeea7" targetPod="10.0.1.14:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:21:45.557707       1 gateway.go:764] "HandleResponseBody completed" requestID="b77388e9-9f19-43bd-95c9-22de758eeea7" promptTokens=7617 completionTokens=10 stream=true
I0305 08:21:45.570126       1 gateway.go:608] "First token received" requestID="6b873d89-5c38-4122-923a-32191337de4b" ttft_ms=121
I0305 08:21:45.595232       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0851, numInputTokens, 7601
I0305 08:21:45.595248       1 tree.go:471] Updated node(0) last access: 115.7850 seconds
I0305 08:21:45.595254       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:45.595258       1 tree.go:471] Updated node(2) last access: 115.7850 seconds
I0305 08:21:45.595270       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:21:45.595274       1 tree.go:471] Updated node(28) last access: 115.7850 seconds
I0305 08:21:45.595292       1 tree.go:667] Split complete - New node(33)
I0305 08:21:45.595297       1 tree.go:668] Split complete - Child node(29)
I0305 08:21:45.595302       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 08:21:45.595308       1 tree.go:471] Updated node(33) last access: 115.7850 seconds
I0305 08:21:45.595313       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:21:45.595318       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:45.595324       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:45.595339       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:45.595345       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:45.595320666 +0000 UTC m=+115.900222764]
I0305 08:21:45.595358       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:21:45.595366       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:21:45.595391       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7481
I0305 08:21:45.595401       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:45.595412       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.595419       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.595424       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.595427       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.595432       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.595441       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:45.595451       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:45.595461       1 prefix_cache_and_load.go:584] latency, Route, 0.0934
I0305 08:21:45.595475       1 gateway.go:415] latency, selectTargetPod, 0.0935, target pod, 10.0.0.39:8000
I0305 08:21:45.595484       1 gateway.go:235] latency, HandleRequestBody, 0.0940
I0305 08:21:45.595510       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0804
I0305 08:21:45.595515       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:45.595518       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:45.595545       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:45.595556       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:45.595562       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:45.613265       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="233c1939-852a-4987-9c6e-214fb0675db2"
I0305 08:21:45.655579       1 gateway.go:608] "First token received" requestID="233c1939-852a-4987-9c6e-214fb0675db2" ttft_ms=154
I0305 08:21:45.682238       1 gateway.go:329] "-- In RequestBody processing ..." requestID="056a66a3-fd4c-43a2-82bf-e80141314303"
I0305 08:21:45.682365       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0868, numInputTokens, 7601
I0305 08:21:45.682382       1 tree.go:471] Updated node(0) last access: 115.8721 seconds
I0305 08:21:45.682391       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:45.682395       1 tree.go:471] Updated node(2) last access: 115.8721 seconds
I0305 08:21:45.682408       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:21:45.682412       1 tree.go:471] Updated node(6) last access: 115.8721 seconds
I0305 08:21:45.682418       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:45.682424       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:21:45.682431       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:45.682439       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:45.682446       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:45.68242613 +0000 UTC m=+115.987328227]
I0305 08:21:45.682466       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:45.682477       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:45.682501       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7478
I0305 08:21:45.682511       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:45.682520       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.682524       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.682528       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.682535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.682533       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="056a66a3-fd4c-43a2-82bf-e80141314303" model="qwen2-5-7b-instruct"
I0305 08:21:45.682549       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:45.682559       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:45.682569       1 prefix_cache_and_load.go:584] latency, Route, 0.1675
I0305 08:21:45.682577       1 gateway.go:415] latency, selectTargetPod, 0.1675, target pod, 10.0.1.22:8000
I0305 08:21:45.682588       1 gateway.go:235] latency, HandleRequestBody, 0.1678
I0305 08:21:45.682648       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:45.682656       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:45.682659       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:45.682702       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:45.682716       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:45.682720       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:45.706721       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="29a3824b-3e76-47a5-8647-2e400a883411"
I0305 08:21:45.712759       1 gateway.go:608] "First token received" requestID="f9bafe2b-2cdd-4772-99e0-a1b2639b6b63" ttft_ms=1461
I0305 08:21:45.739499       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0568, numInputTokens, 7596
I0305 08:21:45.739515       1 tree.go:471] Updated node(0) last access: 115.9292 seconds
I0305 08:21:45.739522       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:45.739528       1 tree.go:471] Updated node(2) last access: 115.9292 seconds
I0305 08:21:45.739576       1 tree.go:667] Split complete - New node(36)
I0305 08:21:45.739584       1 tree.go:668] Split complete - Child node(9)
I0305 08:21:45.739592       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7592 tokens:
I0305 08:21:45.739599       1 tree.go:471] Updated node(36) last access: 115.9293 seconds
I0305 08:21:45.739605       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:21:45.739611       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:21:45.739618       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:21:45.739625       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:45.739631       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:45.739613312 +0000 UTC m=+116.044515411]
I0305 08:21:45.739647       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:21:45.739654       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:21:45.739692       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:45.739703       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:45.739712       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.739719       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.739725       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.739729       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.739745       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:45.739761       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:45.739776       1 prefix_cache_and_load.go:584] latency, Route, 0.0571
I0305 08:21:45.739787       1 gateway.go:415] latency, selectTargetPod, 0.0571, target pod, 10.0.3.30:8000
I0305 08:21:45.739803       1 gateway.go:235] latency, HandleRequestBody, 0.0576
I0305 08:21:45.744447       1 gateway.go:608] "First token received" requestID="997bc5c7-592d-49b7-880b-c46c50d88d32" ttft_ms=1004
I0305 08:21:45.755075       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="056a66a3-fd4c-43a2-82bf-e80141314303"
I0305 08:21:45.764990       1 gateway.go:608] "First token received" requestID="29a3824b-3e76-47a5-8647-2e400a883411" ttft_ms=250
I0305 08:21:45.785230       1 gateway.go:562] latency, 0.0001, summary, hash(request), 8df03065, selectedpod, 10.0.1.22:8000, ttft, 121, tpot, 23, e2e, 336, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:45.785252       1 gateway.go:748] "Request completed" requestID="6b873d89-5c38-4122-923a-32191337de4b" targetPod="10.0.1.22:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:45.785265       1 gateway.go:764] "HandleResponseBody completed" requestID="6b873d89-5c38-4122-923a-32191337de4b" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:45.798752       1 gateway.go:608] "First token received" requestID="056a66a3-fd4c-43a2-82bf-e80141314303" ttft_ms=116
I0305 08:21:45.828523       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8f626bd7, selectedpod, 10.0.0.39:8000, ttft, 154, tpot, 19, e2e, 326, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:45.828545       1 gateway.go:748] "Request completed" requestID="233c1939-852a-4987-9c6e-214fb0675db2" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:45.828560       1 gateway.go:764] "HandleResponseBody completed" requestID="233c1939-852a-4987-9c6e-214fb0675db2" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:45.883205       1 gateway.go:207] "Processing request" requestID="f48cf8c8-67bf-4700-a135-06204ebbeacb"
I0305 08:21:45.883234       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f48cf8c8-67bf-4700-a135-06204ebbeacb"
I0305 08:21:45.883243       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:45.883335       1 gateway.go:207] "Processing request" requestID="40eadb6c-94e3-45d2-84ac-c678049703e3"
I0305 08:21:45.883367       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="40eadb6c-94e3-45d2-84ac-c678049703e3"
I0305 08:21:45.883378       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:45.891088       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8b9d6316-5340-4e2b-aab5-a2be540298ca"
I0305 08:21:45.891174       1 gateway.go:207] "Processing request" requestID="3e082eea-ffec-4564-b3dc-3ecd7ec75520"
I0305 08:21:45.891206       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3e082eea-ffec-4564-b3dc-3ecd7ec75520"
I0305 08:21:45.891215       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:45.891176       1 gateway.go:207] "Processing request" requestID="aed7b0c5-295c-4109-9a99-0e2d0f5a6a8c"
I0305 08:21:45.891247       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="aed7b0c5-295c-4109-9a99-0e2d0f5a6a8c"
I0305 08:21:45.891256       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:45.891313       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8b9d6316-5340-4e2b-aab5-a2be540298ca" model="qwen2-5-7b-instruct"
I0305 08:21:45.891467       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:45.891475       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:45.891479       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:45.891512       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:45.891524       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:45.891528       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:45.939244       1 gateway.go:562] latency, 0.0000, summary, hash(request), 76ac87c7, selectedpod, 10.0.1.22:8000, ttft, 250, tpot, 19, e2e, 424, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:45.939264       1 gateway.go:748] "Request completed" requestID="29a3824b-3e76-47a5-8647-2e400a883411" targetPod="10.0.1.22:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:45.939275       1 gateway.go:764] "HandleResponseBody completed" requestID="29a3824b-3e76-47a5-8647-2e400a883411" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:45.951415       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0599, numInputTokens, 7603
I0305 08:21:45.951439       1 tree.go:471] Updated node(0) last access: 116.1412 seconds
I0305 08:21:45.951446       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:45.951450       1 tree.go:471] Updated node(2) last access: 116.1412 seconds
I0305 08:21:45.951552       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:21:45.951570       1 tree.go:471] Updated node(24) last access: 116.1413 seconds
I0305 08:21:45.951584       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 125 tokens:
I0305 08:21:45.951592       1 tree.go:449] latency, insertHelper, 0.0002 seconds, 7603 tokens
I0305 08:21:45.951601       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:21:45.951617       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 08:21:45.951623       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:45.951595046 +0000 UTC m=+116.256497151]
I0305 08:21:45.951648       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7478, Matching ratio: 0.9836, # Matched pods: 0, Matched pods: []
I0305 08:21:45.951678       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9836 > 0.5000)
I0305 08:21:45.951722       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:45.951742       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:45.951755       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.951791       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.951821       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.952210       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:45.952236       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:45.952265       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:45.952279       1 prefix_cache_and_load.go:584] latency, Route, 0.0608
I0305 08:21:45.952291       1 gateway.go:415] latency, selectTargetPod, 0.0608, target pod, 10.0.3.30:8000
I0305 08:21:45.952308       1 gateway.go:235] latency, HandleRequestBody, 0.0612
I0305 08:21:45.967149       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8b9d6316-5340-4e2b-aab5-a2be540298ca"
I0305 08:21:45.968003       1 gateway.go:329] "-- In RequestBody processing ..." requestID="40eadb6c-94e3-45d2-84ac-c678049703e3"
I0305 08:21:45.968261       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="40eadb6c-94e3-45d2-84ac-c678049703e3" model="qwen2-5-7b-instruct"
I0305 08:21:45.968352       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:45.968359       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:45.968363       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:45.968398       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:45.968410       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:45.968415       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:45.969384       1 gateway.go:562] latency, 0.0001, summary, hash(request), ea23fa3c, selectedpod, 10.0.3.30:8000, ttft, 1186, tpot, 147, e2e, 2510, numInputTokens, 7610, numOutputTokens, 10, numTotalTokens, 7620
I0305 08:21:45.969398       1 gateway.go:562] latency, 0.0000, summary, hash(request), 95288e39, selectedpod, 10.0.3.30:8000, ttft, 1461, tpot, 28, e2e, 1718, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:45.969404       1 gateway.go:748] "Request completed" requestID="c75aed6c-1e2c-47e6-b0ad-f4a9d9a17145" targetPod="10.0.3.30:8000" promptTokens=7610 completionTokens=10 totalTokens=7620
I0305 08:21:45.969411       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2ddde691, selectedpod, 10.0.3.30:8000, ttft, 1004, tpot, 24, e2e, 1229, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:45.969419       1 gateway.go:748] "Request completed" requestID="f9bafe2b-2cdd-4772-99e0-a1b2639b6b63" targetPod="10.0.3.30:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:45.969432       1 gateway.go:748] "Request completed" requestID="997bc5c7-592d-49b7-880b-c46c50d88d32" targetPod="10.0.3.30:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:45.969433       1 gateway.go:764] "HandleResponseBody completed" requestID="f9bafe2b-2cdd-4772-99e0-a1b2639b6b63" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:45.969444       1 gateway.go:764] "HandleResponseBody completed" requestID="997bc5c7-592d-49b7-880b-c46c50d88d32" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:45.969416       1 gateway.go:764] "HandleResponseBody completed" requestID="c75aed6c-1e2c-47e6-b0ad-f4a9d9a17145" promptTokens=7610 completionTokens=10 stream=true
I0305 08:21:45.997271       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8fd9382e, selectedpod, 10.0.3.30:8000, ttft, 116, tpot, 22, e2e, 314, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:21:45.997289       1 gateway.go:748] "Request completed" requestID="056a66a3-fd4c-43a2-82bf-e80141314303" targetPod="10.0.3.30:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:21:45.997301       1 gateway.go:764] "HandleResponseBody completed" requestID="056a66a3-fd4c-43a2-82bf-e80141314303" promptTokens=7615 completionTokens=10 stream=true
I0305 08:21:46.025504       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0571, numInputTokens, 7597
I0305 08:21:46.025520       1 tree.go:471] Updated node(0) last access: 116.2152 seconds
I0305 08:21:46.025526       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:46.025529       1 tree.go:471] Updated node(2) last access: 116.2152 seconds
I0305 08:21:46.025549       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:21:46.025553       1 tree.go:471] Updated node(10) last access: 116.2153 seconds
I0305 08:21:46.025563       1 tree.go:667] Split complete - New node(39)
I0305 08:21:46.025567       1 tree.go:668] Split complete - Child node(8)
I0305 08:21:46.025573       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:21:46.025578       1 tree.go:471] Updated node(39) last access: 116.2153 seconds
I0305 08:21:46.025584       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 08:21:46.025589       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:21:46.025595       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:21:46.025602       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:46.025608       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:46.025591354 +0000 UTC m=+116.330493451]
I0305 08:21:46.025627       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7485, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 08:21:46.025636       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 08:21:46.025672       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7485
I0305 08:21:46.025684       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:46.025694       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.025702       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.025709       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.025715       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.025721       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.025736       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:46.025751       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:21:46.025762       1 prefix_cache_and_load.go:584] latency, Route, 0.0574
I0305 08:21:46.025772       1 gateway.go:415] latency, selectTargetPod, 0.0574, target pod, 10.0.0.101:8000
I0305 08:21:46.025782       1 gateway.go:235] latency, HandleRequestBody, 0.0578
I0305 08:21:46.027964       1 gateway.go:608] "First token received" requestID="8b9d6316-5340-4e2b-aab5-a2be540298ca" ttft_ms=136
I0305 08:21:46.043849       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="40eadb6c-94e3-45d2-84ac-c678049703e3"
I0305 08:21:46.080326       1 gateway.go:608] "First token received" requestID="40eadb6c-94e3-45d2-84ac-c678049703e3" ttft_ms=112
I0305 08:21:46.186514       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f48cf8c8-67bf-4700-a135-06204ebbeacb"
I0305 08:21:46.186752       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f48cf8c8-67bf-4700-a135-06204ebbeacb" model="qwen2-5-7b-instruct"
I0305 08:21:46.186828       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:46.186835       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:46.186839       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:46.186875       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:46.186888       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:46.186893       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:46.194083       1 gateway.go:207] "Processing request" requestID="74229786-f6b3-4df7-9a13-62d7093955f3"
I0305 08:21:46.194115       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="74229786-f6b3-4df7-9a13-62d7093955f3"
I0305 08:21:46.194126       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:46.200672       1 gateway.go:562] latency, 0.0000, summary, hash(request), 29cc7d59, selectedpod, 10.0.3.30:8000, ttft, 136, tpot, 19, e2e, 309, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:21:46.200694       1 gateway.go:748] "Request completed" requestID="8b9d6316-5340-4e2b-aab5-a2be540298ca" targetPod="10.0.3.30:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:21:46.200705       1 gateway.go:764] "HandleResponseBody completed" requestID="8b9d6316-5340-4e2b-aab5-a2be540298ca" promptTokens=7622 completionTokens=10 stream=true
I0305 08:21:46.212056       1 gateway.go:329] "-- In RequestBody processing ..." requestID="aed7b0c5-295c-4109-9a99-0e2d0f5a6a8c"
I0305 08:21:46.212279       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="aed7b0c5-295c-4109-9a99-0e2d0f5a6a8c" model="qwen2-5-7b-instruct"
I0305 08:21:46.225364       1 gateway.go:608] "First token received" requestID="e8df7d0f-f66b-4743-8ace-804ef8e90117" ttft_ms=1155
I0305 08:21:46.247882       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3e082eea-ffec-4564-b3dc-3ecd7ec75520"
I0305 08:21:46.248107       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3e082eea-ffec-4564-b3dc-3ecd7ec75520" model="qwen2-5-7b-instruct"
I0305 08:21:46.248308       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0614, numInputTokens, 7602
I0305 08:21:46.248325       1 tree.go:471] Updated node(0) last access: 116.4380 seconds
I0305 08:21:46.248342       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:46.248347       1 tree.go:471] Updated node(2) last access: 116.4381 seconds
I0305 08:21:46.248360       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:46.248365       1 tree.go:471] Updated node(16) last access: 116.4381 seconds
I0305 08:21:46.248375       1 tree.go:667] Split complete - New node(41)
I0305 08:21:46.248380       1 tree.go:668] Split complete - Child node(30)
I0305 08:21:46.248385       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:21:46.248390       1 tree.go:471] Updated node(41) last access: 116.4381 seconds
I0305 08:21:46.248395       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:21:46.248401       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:21:46.248407       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:46.248414       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:46.248421       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:46.248402831 +0000 UTC m=+116.553304928]
I0305 08:21:46.248437       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7485, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:21:46.248446       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:21:46.248473       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7485
I0305 08:21:46.248483       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:46.248492       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.248498       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.248504       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.248509       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.248514       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.248527       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:46.248537       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:46.248547       1 prefix_cache_and_load.go:584] latency, Route, 0.0617
I0305 08:21:46.248564       1 gateway.go:415] latency, selectTargetPod, 0.0617, target pod, 10.0.1.14:8000
I0305 08:21:46.248575       1 gateway.go:235] latency, HandleRequestBody, 0.0621
I0305 08:21:46.248595       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0362
I0305 08:21:46.248601       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:46.248604       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:46.248643       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:46.248656       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:46.248661       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:46.253196       1 gateway.go:562] latency, 0.0000, summary, hash(request), 05ff8b0a, selectedpod, 10.0.0.101:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:21:46.253213       1 gateway.go:748] "Request completed" requestID="40eadb6c-94e3-45d2-84ac-c678049703e3" targetPod="10.0.0.101:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:21:46.253224       1 gateway.go:764] "HandleResponseBody completed" requestID="40eadb6c-94e3-45d2-84ac-c678049703e3" promptTokens=7616 completionTokens=10 stream=true
I0305 08:21:46.267155       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f48cf8c8-67bf-4700-a135-06204ebbeacb"
I0305 08:21:46.302881       1 gateway.go:608] "First token received" requestID="f48cf8c8-67bf-4700-a135-06204ebbeacb" ttft_ms=116
I0305 08:21:46.310061       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0614, numInputTokens, 7601
I0305 08:21:46.310080       1 tree.go:471] Updated node(0) last access: 116.4998 seconds
I0305 08:21:46.310086       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:46.310090       1 tree.go:471] Updated node(2) last access: 116.4998 seconds
I0305 08:21:46.310126       1 tree.go:667] Split complete - New node(43)
I0305 08:21:46.310130       1 tree.go:668] Split complete - Child node(13)
I0305 08:21:46.310135       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7597 tokens:
I0305 08:21:46.310141       1 tree.go:471] Updated node(43) last access: 116.4999 seconds
I0305 08:21:46.310146       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:21:46.310152       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:46.310158       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:46.310163       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:46.310169       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:46.310153901 +0000 UTC m=+116.615055998]
I0305 08:21:46.310186       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:21:46.310193       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:21:46.310217       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7481
I0305 08:21:46.310228       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:46.310236       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.310240       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.310248       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.310254       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.310265       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:46.310275       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:46.310286       1 prefix_cache_and_load.go:584] latency, Route, 0.0979
I0305 08:21:46.310300       1 gateway.go:415] latency, selectTargetPod, 0.0979, target pod, 10.0.0.134:8000
I0305 08:21:46.310313       1 gateway.go:235] latency, HandleRequestBody, 0.0983
I0305 08:21:46.310348       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0622
I0305 08:21:46.310353       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:46.310356       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:46.310387       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:46.310400       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:46.310404       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:46.328458       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="aed7b0c5-295c-4109-9a99-0e2d0f5a6a8c"
I0305 08:21:46.369177       1 gateway.go:329] "-- In RequestBody processing ..." requestID="74229786-f6b3-4df7-9a13-62d7093955f3"
I0305 08:21:46.369383       1 gateway.go:207] "Processing request" requestID="eb6acb1d-c26e-4a02-b97c-f3d17298de8c"
I0305 08:21:46.369411       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="eb6acb1d-c26e-4a02-b97c-f3d17298de8c"
I0305 08:21:46.369420       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:46.369441       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="74229786-f6b3-4df7-9a13-62d7093955f3" model="qwen2-5-7b-instruct"
I0305 08:21:46.381660       1 gateway.go:608] "First token received" requestID="aed7b0c5-295c-4109-9a99-0e2d0f5a6a8c" ttft_ms=169
I0305 08:21:46.388029       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0776, numInputTokens, 7599
I0305 08:21:46.388044       1 tree.go:471] Updated node(0) last access: 116.5778 seconds
I0305 08:21:46.388050       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:46.388054       1 tree.go:471] Updated node(2) last access: 116.5778 seconds
I0305 08:21:46.388130       1 tree.go:667] Split complete - New node(45)
I0305 08:21:46.388135       1 tree.go:668] Split complete - Child node(43)
I0305 08:21:46.388140       1 tree.go:501] latency, splitNode, 0.0001 seconds, 7595 tokens:
I0305 08:21:46.388146       1 tree.go:471] Updated node(45) last access: 116.5779 seconds
I0305 08:21:46.388152       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:46.388157       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:21:46.388164       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:46.388170       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:46.388176       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:46.388159707 +0000 UTC m=+116.693061804]
I0305 08:21:46.388191       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:46.388200       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:46.388223       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:46.388233       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:46.388243       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.388250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.388256       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.388261       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.388270       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:46.388279       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:46.388290       1 prefix_cache_and_load.go:584] latency, Route, 0.1401
I0305 08:21:46.388303       1 gateway.go:415] latency, selectTargetPod, 0.1401, target pod, 10.0.0.134:8000
I0305 08:21:46.388313       1 gateway.go:235] latency, HandleRequestBody, 0.1404
I0305 08:21:46.388314       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0188
I0305 08:21:46.388321       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:46.388333       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:46.388376       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:46.388392       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:46.388396       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:46.406063       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3e082eea-ffec-4564-b3dc-3ecd7ec75520"
I0305 08:21:46.406803       1 gateway.go:329] "-- In RequestBody processing ..." requestID="eb6acb1d-c26e-4a02-b97c-f3d17298de8c"
I0305 08:21:46.406985       1 gateway.go:207] "Processing request" requestID="a5087237-ea6d-48fd-8d8c-e86788d61afb"
I0305 08:21:46.407012       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a5087237-ea6d-48fd-8d8c-e86788d61afb"
I0305 08:21:46.407022       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:46.407043       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="eb6acb1d-c26e-4a02-b97c-f3d17298de8c" model="qwen2-5-7b-instruct"
I0305 08:21:46.463275       1 gateway.go:608] "First token received" requestID="3e082eea-ffec-4564-b3dc-3ecd7ec75520" ttft_ms=215
I0305 08:21:46.475455       1 gateway.go:562] latency, 0.0000, summary, hash(request), 45d64f59, selectedpod, 10.0.1.14:8000, ttft, 116, tpot, 19, e2e, 288, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:46.475475       1 gateway.go:748] "Request completed" requestID="f48cf8c8-67bf-4700-a135-06204ebbeacb" targetPod="10.0.1.14:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:46.475488       1 gateway.go:764] "HandleResponseBody completed" requestID="f48cf8c8-67bf-4700-a135-06204ebbeacb" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:46.481530       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0931, numInputTokens, 7601
I0305 08:21:46.481546       1 tree.go:471] Updated node(0) last access: 116.6713 seconds
I0305 08:21:46.481553       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:46.481557       1 tree.go:471] Updated node(2) last access: 116.6713 seconds
I0305 08:21:46.481572       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:46.481576       1 tree.go:471] Updated node(16) last access: 116.6713 seconds
I0305 08:21:46.481583       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:46.481587       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:21:46.481594       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:46.481602       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:46.481608       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:46.481589458 +0000 UTC m=+116.786491555]
I0305 08:21:46.481623       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:46.481631       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:46.481655       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7478
I0305 08:21:46.481675       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:46.481685       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.481692       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.481698       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.481703       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.481712       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:46.481722       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:46.481733       1 prefix_cache_and_load.go:584] latency, Route, 0.1122
I0305 08:21:46.481747       1 gateway.go:415] latency, selectTargetPod, 0.1122, target pod, 10.0.1.14:8000
I0305 08:21:46.481760       1 gateway.go:235] latency, HandleRequestBody, 0.1126
I0305 08:21:46.481760       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0742
I0305 08:21:46.481768       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:46.481773       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:46.481815       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:46.481829       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:46.481834       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:46.489046       1 gateway.go:562] latency, 0.0001, summary, hash(request), b76af349, selectedpod, 10.0.0.134:8000, ttft, 1155, tpot, 29, e2e, 1418, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:46.489067       1 gateway.go:748] "Request completed" requestID="e8df7d0f-f66b-4743-8ace-804ef8e90117" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:46.489080       1 gateway.go:764] "HandleResponseBody completed" requestID="e8df7d0f-f66b-4743-8ace-804ef8e90117" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:46.500032       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="74229786-f6b3-4df7-9a13-62d7093955f3"
I0305 08:21:46.522739       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a5087237-ea6d-48fd-8d8c-e86788d61afb"
I0305 08:21:46.522989       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a5087237-ea6d-48fd-8d8c-e86788d61afb" model="qwen2-5-7b-instruct"
I0305 08:21:46.531714       1 gateway.go:207] "Processing request" requestID="f320fda4-740e-4b1e-867e-b22f4954bb64"
I0305 08:21:46.531744       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f320fda4-740e-4b1e-867e-b22f4954bb64"
I0305 08:21:46.531753       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:46.538467       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0566, numInputTokens, 7597
I0305 08:21:46.538483       1 tree.go:471] Updated node(0) last access: 116.7282 seconds
I0305 08:21:46.538491       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:46.538494       1 tree.go:471] Updated node(2) last access: 116.7282 seconds
I0305 08:21:46.538505       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:21:46.538510       1 tree.go:471] Updated node(36) last access: 116.7282 seconds
I0305 08:21:46.538516       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:21:46.538522       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 08:21:46.538529       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:21:46.538536       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:46.538543       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:46.538524135 +0000 UTC m=+116.843426233]
I0305 08:21:46.538558       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:21:46.538567       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:21:46.538593       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:46.538603       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:46.538611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.538619       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.538626       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.538631       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.538640       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:46.538649       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:46.538660       1 prefix_cache_and_load.go:584] latency, Route, 0.1311
I0305 08:21:46.538686       1 gateway.go:415] latency, selectTargetPod, 0.1311, target pod, 10.0.3.30:8000
I0305 08:21:46.538696       1 gateway.go:235] latency, HandleRequestBody, 0.1319
I0305 08:21:46.538722       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0156
I0305 08:21:46.538727       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:46.538730       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:46.538761       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:46.538775       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:46.538781       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:46.542806       1 gateway.go:608] "First token received" requestID="74229786-f6b3-4df7-9a13-62d7093955f3" ttft_ms=173
I0305 08:21:46.563588       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="eb6acb1d-c26e-4a02-b97c-f3d17298de8c"
I0305 08:21:46.587526       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f320fda4-740e-4b1e-867e-b22f4954bb64"
I0305 08:21:46.587772       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f320fda4-740e-4b1e-867e-b22f4954bb64" model="qwen2-5-7b-instruct"
I0305 08:21:46.588100       1 gateway.go:608] "First token received" requestID="eb6acb1d-c26e-4a02-b97c-f3d17298de8c" ttft_ms=181
I0305 08:21:46.595325       1 gateway.go:207] "Processing request" requestID="6b90f6e1-8c77-49f0-a1b4-f45d0ff65adc"
I0305 08:21:46.595364       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6b90f6e1-8c77-49f0-a1b4-f45d0ff65adc"
I0305 08:21:46.595373       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:46.604911       1 gateway.go:562] latency, 0.0001, summary, hash(request), 3a63d958, selectedpod, 10.0.0.134:8000, ttft, 169, tpot, 24, e2e, 392, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:46.604930       1 gateway.go:748] "Request completed" requestID="aed7b0c5-295c-4109-9a99-0e2d0f5a6a8c" targetPod="10.0.0.134:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:46.604943       1 gateway.go:764] "HandleResponseBody completed" requestID="aed7b0c5-295c-4109-9a99-0e2d0f5a6a8c" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:46.613122       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0743, numInputTokens, 7597
I0305 08:21:46.613138       1 tree.go:471] Updated node(0) last access: 116.8029 seconds
I0305 08:21:46.613144       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:46.613148       1 tree.go:471] Updated node(2) last access: 116.8029 seconds
I0305 08:21:46.613165       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:21:46.613169       1 tree.go:471] Updated node(6) last access: 116.8029 seconds
I0305 08:21:46.613175       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:21:46.613181       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 08:21:46.613188       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:21:46.613195       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:46.613201       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:46.613183213 +0000 UTC m=+116.918085310]
I0305 08:21:46.613216       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:21:46.613225       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:21:46.613250       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7478
I0305 08:21:46.613260       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:46.613269       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.613277       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.613283       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.613289       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.613298       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:46.613309       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:46.613322       1 prefix_cache_and_load.go:584] latency, Route, 0.0902
I0305 08:21:46.613343       1 gateway.go:415] latency, selectTargetPod, 0.0903, target pod, 10.0.1.22:8000
I0305 08:21:46.613356       1 gateway.go:235] latency, HandleRequestBody, 0.0906
I0305 08:21:46.613381       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0255
I0305 08:21:46.613386       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:46.613389       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:46.613421       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:46.613434       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 08:21:46.613439       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:46.632176       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a5087237-ea6d-48fd-8d8c-e86788d61afb"
I0305 08:21:46.644236       1 gateway.go:562] latency, 0.0000, summary, hash(request), ea53cbfa, selectedpod, 10.0.0.134:8000, ttft, 215, tpot, 20, e2e, 396, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:46.644256       1 gateway.go:748] "Request completed" requestID="3e082eea-ffec-4564-b3dc-3ecd7ec75520" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:46.644266       1 gateway.go:764] "HandleResponseBody completed" requestID="3e082eea-ffec-4564-b3dc-3ecd7ec75520" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:46.668251       1 gateway.go:608] "First token received" requestID="a5087237-ea6d-48fd-8d8c-e86788d61afb" ttft_ms=145
I0305 08:21:46.684092       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0706, numInputTokens, 7598
I0305 08:21:46.684109       1 tree.go:471] Updated node(0) last access: 116.8738 seconds
I0305 08:21:46.684118       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:46.684123       1 tree.go:471] Updated node(2) last access: 116.8738 seconds
I0305 08:21:46.684139       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:21:46.684145       1 tree.go:471] Updated node(45) last access: 116.8739 seconds
I0305 08:21:46.684154       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:21:46.684161       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:21:46.684173       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:21:46.684182       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:46.684192       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:46.684165856 +0000 UTC m=+116.989067962]
I0305 08:21:46.684211       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:21:46.684224       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:21:46.684258       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:46.684274       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:46.684289       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.684298       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.684310       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.684315       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.684338       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:46.684355       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:46.684371       1 prefix_cache_and_load.go:584] latency, Route, 0.0965
I0305 08:21:46.684383       1 gateway.go:415] latency, selectTargetPod, 0.0965, target pod, 10.0.0.134:8000
I0305 08:21:46.684396       1 gateway.go:235] latency, HandleRequestBody, 0.0969
I0305 08:21:46.702869       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f320fda4-740e-4b1e-867e-b22f4954bb64"
I0305 08:21:46.710185       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6b90f6e1-8c77-49f0-a1b4-f45d0ff65adc"
I0305 08:21:46.710341       1 gateway.go:207] "Processing request" requestID="d2bca3fe-d005-4451-8a32-e5ff69395ea1"
I0305 08:21:46.710374       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d2bca3fe-d005-4451-8a32-e5ff69395ea1"
I0305 08:21:46.710383       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:46.710422       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6b90f6e1-8c77-49f0-a1b4-f45d0ff65adc" model="qwen2-5-7b-instruct"
I0305 08:21:46.710494       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:46.710501       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:46.710504       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:46.710548       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:46.710562       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:46.710566       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:46.715583       1 gateway.go:562] latency, 0.0000, summary, hash(request), 69f78e42, selectedpod, 10.0.1.14:8000, ttft, 173, tpot, 19, e2e, 346, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:46.715605       1 gateway.go:748] "Request completed" requestID="74229786-f6b3-4df7-9a13-62d7093955f3" targetPod="10.0.1.14:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:46.715616       1 gateway.go:764] "HandleResponseBody completed" requestID="74229786-f6b3-4df7-9a13-62d7093955f3" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:46.745318       1 gateway.go:608] "First token received" requestID="f320fda4-740e-4b1e-867e-b22f4954bb64" ttft_ms=157
I0305 08:21:46.761058       1 gateway.go:562] latency, 0.0001, summary, hash(request), fc7585eb, selectedpod, 10.0.3.30:8000, ttft, 181, tpot, 19, e2e, 354, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:21:46.761078       1 gateway.go:748] "Request completed" requestID="eb6acb1d-c26e-4a02-b97c-f3d17298de8c" targetPod="10.0.3.30:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:21:46.761089       1 gateway.go:764] "HandleResponseBody completed" requestID="eb6acb1d-c26e-4a02-b97c-f3d17298de8c" promptTokens=7616 completionTokens=10 stream=true
I0305 08:21:46.774258       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0637, numInputTokens, 7596
I0305 08:21:46.774273       1 tree.go:471] Updated node(0) last access: 116.9640 seconds
I0305 08:21:46.774280       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:46.774283       1 tree.go:471] Updated node(2) last access: 116.9640 seconds
I0305 08:21:46.774299       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:21:46.774303       1 tree.go:471] Updated node(28) last access: 116.9640 seconds
I0305 08:21:46.774309       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:21:46.774315       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 08:21:46.774322       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:21:46.774336       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:46.774343       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:46.77431775 +0000 UTC m=+117.079219847]
I0305 08:21:46.774359       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:21:46.774366       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:21:46.774391       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7478
I0305 08:21:46.774402       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:46.774410       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.774415       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.774419       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.774424       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:46.774433       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:46.774444       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:46.774455       1 prefix_cache_and_load.go:584] latency, Route, 0.0640
I0305 08:21:46.774464       1 gateway.go:415] latency, selectTargetPod, 0.0640, target pod, 10.0.0.39:8000
I0305 08:21:46.774476       1 gateway.go:235] latency, HandleRequestBody, 0.0643
I0305 08:21:46.791920       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6b90f6e1-8c77-49f0-a1b4-f45d0ff65adc"
I0305 08:21:46.827925       1 gateway.go:608] "First token received" requestID="6b90f6e1-8c77-49f0-a1b4-f45d0ff65adc" ttft_ms=117
I0305 08:21:46.841115       1 gateway.go:562] latency, 0.0000, summary, hash(request), bc011e95, selectedpod, 10.0.1.22:8000, ttft, 145, tpot, 19, e2e, 318, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:21:46.841132       1 gateway.go:748] "Request completed" requestID="a5087237-ea6d-48fd-8d8c-e86788d61afb" targetPod="10.0.1.22:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:21:46.841142       1 gateway.go:764] "HandleResponseBody completed" requestID="a5087237-ea6d-48fd-8d8c-e86788d61afb" promptTokens=7616 completionTokens=10 stream=true
I0305 08:21:46.917889       1 gateway.go:562] latency, 0.0000, summary, hash(request), a24ae043, selectedpod, 10.0.0.134:8000, ttft, 157, tpot, 19, e2e, 330, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:21:46.917906       1 gateway.go:748] "Request completed" requestID="f320fda4-740e-4b1e-867e-b22f4954bb64" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:21:46.917916       1 gateway.go:764] "HandleResponseBody completed" requestID="f320fda4-740e-4b1e-867e-b22f4954bb64" promptTokens=7617 completionTokens=10 stream=true
I0305 08:21:47.000604       1 gateway.go:562] latency, 0.0000, summary, hash(request), 07755d8a, selectedpod, 10.0.0.39:8000, ttft, 117, tpot, 19, e2e, 290, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:21:47.000622       1 gateway.go:748] "Request completed" requestID="6b90f6e1-8c77-49f0-a1b4-f45d0ff65adc" targetPod="10.0.0.39:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:21:47.000630       1 gateway.go:764] "HandleResponseBody completed" requestID="6b90f6e1-8c77-49f0-a1b4-f45d0ff65adc" promptTokens=7615 completionTokens=10 stream=true
I0305 08:21:47.070094       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d2bca3fe-d005-4451-8a32-e5ff69395ea1"
I0305 08:21:47.070259       1 gateway.go:207] "Processing request" requestID="cd93aa8d-0ab3-4bfa-8b1a-bb5f113469af"
I0305 08:21:47.070289       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cd93aa8d-0ab3-4bfa-8b1a-bb5f113469af"
I0305 08:21:47.070300       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:47.070402       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d2bca3fe-d005-4451-8a32-e5ff69395ea1" model="qwen2-5-7b-instruct"
I0305 08:21:47.070519       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:47.070527       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:47.070530       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:47.070596       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:47.070613       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:47.070620       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:47.072061       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cd93aa8d-0ab3-4bfa-8b1a-bb5f113469af"
I0305 08:21:47.072221       1 gateway.go:207] "Processing request" requestID="de932755-7a03-472d-a336-f02625360ae4"
I0305 08:21:47.072247       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="de932755-7a03-472d-a336-f02625360ae4"
I0305 08:21:47.072253       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:47.072286       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cd93aa8d-0ab3-4bfa-8b1a-bb5f113469af" model="qwen2-5-7b-instruct"
I0305 08:21:47.073099       1 gateway.go:329] "-- In RequestBody processing ..." requestID="de932755-7a03-472d-a336-f02625360ae4"
I0305 08:21:47.073314       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="de932755-7a03-472d-a336-f02625360ae4" model="qwen2-5-7b-instruct"
I0305 08:21:47.132884       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0623, numInputTokens, 7599
I0305 08:21:47.132905       1 tree.go:471] Updated node(0) last access: 117.3226 seconds
I0305 08:21:47.132911       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:47.132915       1 tree.go:471] Updated node(2) last access: 117.3226 seconds
I0305 08:21:47.132930       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:21:47.132934       1 tree.go:471] Updated node(45) last access: 117.3226 seconds
I0305 08:21:47.132944       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:47.132989       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:21:47.132996       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:47.133003       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:47.133009       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:47.132991473 +0000 UTC m=+117.437893570]
I0305 08:21:47.133031       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:47.133039       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:47.133066       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:47.133076       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:47.133085       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:47.133097       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:47.133103       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:47.133108       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:47.133120       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:47.133130       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:47.133140       1 prefix_cache_and_load.go:584] latency, Route, 0.0626
I0305 08:21:47.133169       1 gateway.go:415] latency, selectTargetPod, 0.0626, target pod, 10.0.0.134:8000
I0305 08:21:47.133183       1 gateway.go:235] latency, HandleRequestBody, 0.0631
I0305 08:21:47.133212       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0608
I0305 08:21:47.133219       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:47.133223       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:47.133269       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:47.133285       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:47.133291       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:47.152926       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d2bca3fe-d005-4451-8a32-e5ff69395ea1"
I0305 08:21:47.195805       1 gateway.go:608] "First token received" requestID="d2bca3fe-d005-4451-8a32-e5ff69395ea1" ttft_ms=125
I0305 08:21:47.212483       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0792, numInputTokens, 7598
I0305 08:21:47.212500       1 tree.go:471] Updated node(0) last access: 117.4022 seconds
I0305 08:21:47.212506       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:47.212511       1 tree.go:471] Updated node(2) last access: 117.4022 seconds
I0305 08:21:47.212528       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:21:47.212533       1 tree.go:471] Updated node(24) last access: 117.4022 seconds
I0305 08:21:47.212544       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:21:47.212551       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:21:47.212562       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:21:47.212573       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:47.212583       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:47.212555563 +0000 UTC m=+117.517457667]
I0305 08:21:47.212604       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:21:47.212617       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:21:47.212660       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:47.212689       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:47.212703       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:47.212711       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:47.212720       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:47.212726       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:47.212741       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:47.212761       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:47.212777       1 prefix_cache_and_load.go:584] latency, Route, 0.1404
I0305 08:21:47.212797       1 gateway.go:415] latency, selectTargetPod, 0.1404, target pod, 10.0.3.30:8000
I0305 08:21:47.212828       1 gateway.go:235] latency, HandleRequestBody, 0.1408
I0305 08:21:47.212871       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1395
I0305 08:21:47.212885       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:47.212889       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:47.212948       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:47.212972       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:47.212979       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:47.228375       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cd93aa8d-0ab3-4bfa-8b1a-bb5f113469af"
I0305 08:21:47.271932       1 gateway.go:608] "First token received" requestID="cd93aa8d-0ab3-4bfa-8b1a-bb5f113469af" ttft_ms=199
I0305 08:21:47.287246       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0743, numInputTokens, 7599
I0305 08:21:47.287266       1 tree.go:471] Updated node(0) last access: 117.4770 seconds
I0305 08:21:47.287273       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:47.287277       1 tree.go:471] Updated node(2) last access: 117.4770 seconds
I0305 08:21:47.287290       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:21:47.287293       1 tree.go:471] Updated node(21) last access: 117.4770 seconds
I0305 08:21:47.287300       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:47.287306       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:21:47.287314       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:47.287322       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:47.287337       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:47.287308873 +0000 UTC m=+117.592210970]
I0305 08:21:47.287355       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:47.287365       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:47.287396       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7478
I0305 08:21:47.287406       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:47.287416       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:47.287422       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:47.287429       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:47.287435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:47.287445       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:47.287456       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:21:47.287467       1 prefix_cache_and_load.go:584] latency, Route, 0.2141
I0305 08:21:47.287477       1 gateway.go:415] latency, selectTargetPod, 0.2141, target pod, 10.0.3.41:8000
I0305 08:21:47.287488       1 gateway.go:235] latency, HandleRequestBody, 0.2144
I0305 08:21:47.302913       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="de932755-7a03-472d-a336-f02625360ae4"
I0305 08:21:47.346338       1 gateway.go:608] "First token received" requestID="de932755-7a03-472d-a336-f02625360ae4" ttft_ms=273
I0305 08:21:47.368414       1 gateway.go:562] latency, 0.0000, summary, hash(request), 19023eb8, selectedpod, 10.0.0.134:8000, ttft, 125, tpot, 19, e2e, 298, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:47.368431       1 gateway.go:748] "Request completed" requestID="d2bca3fe-d005-4451-8a32-e5ff69395ea1" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:47.368442       1 gateway.go:764] "HandleResponseBody completed" requestID="d2bca3fe-d005-4451-8a32-e5ff69395ea1" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:47.444723       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7d5a1259, selectedpod, 10.0.3.30:8000, ttft, 199, tpot, 19, e2e, 372, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:21:47.444741       1 gateway.go:748] "Request completed" requestID="cd93aa8d-0ab3-4bfa-8b1a-bb5f113469af" targetPod="10.0.3.30:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:21:47.444750       1 gateway.go:764] "HandleResponseBody completed" requestID="cd93aa8d-0ab3-4bfa-8b1a-bb5f113469af" promptTokens=7617 completionTokens=10 stream=true
I0305 08:21:47.454479       1 gateway.go:207] "Processing request" requestID="87c465ac-1cca-4bbb-915f-4bcb2e41344c"
I0305 08:21:47.454507       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="87c465ac-1cca-4bbb-915f-4bcb2e41344c"
I0305 08:21:47.454515       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:47.519291       1 gateway.go:562] latency, 0.0000, summary, hash(request), 253afa9c, selectedpod, 10.0.3.41:8000, ttft, 273, tpot, 19, e2e, 446, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:47.519310       1 gateway.go:748] "Request completed" requestID="de932755-7a03-472d-a336-f02625360ae4" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:47.519324       1 gateway.go:764] "HandleResponseBody completed" requestID="de932755-7a03-472d-a336-f02625360ae4" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:48.163509       1 gateway.go:329] "-- In RequestBody processing ..." requestID="87c465ac-1cca-4bbb-915f-4bcb2e41344c"
I0305 08:21:48.163655       1 gateway.go:207] "Processing request" requestID="59b34de7-88e8-45a9-a7a1-3adf40383e4e"
I0305 08:21:48.163709       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="59b34de7-88e8-45a9-a7a1-3adf40383e4e"
I0305 08:21:48.163720       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:48.163792       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="87c465ac-1cca-4bbb-915f-4bcb2e41344c" model="qwen2-5-7b-instruct"
I0305 08:21:48.163901       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:48.163909       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:48.163913       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:48.163989       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:48.164009       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:48.164019       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:48.225290       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0613, numInputTokens, 7600
I0305 08:21:48.225313       1 tree.go:471] Updated node(0) last access: 118.4150 seconds
I0305 08:21:48.225320       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:48.225324       1 tree.go:471] Updated node(2) last access: 118.4150 seconds
I0305 08:21:48.225345       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:48.225350       1 tree.go:471] Updated node(16) last access: 118.4151 seconds
I0305 08:21:48.225356       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:21:48.225363       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:21:48.225371       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:48.225379       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:48.225385       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:48.225365558 +0000 UTC m=+118.530267655]
I0305 08:21:48.225404       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:21:48.225413       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:21:48.225442       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7478
I0305 08:21:48.225453       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:48.225462       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.225466       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.225471       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.225477       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.225489       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:48.225500       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:48.225511       1 prefix_cache_and_load.go:584] latency, Route, 0.0616
I0305 08:21:48.225522       1 gateway.go:415] latency, selectTargetPod, 0.0616, target pod, 10.0.1.14:8000
I0305 08:21:48.225535       1 gateway.go:235] latency, HandleRequestBody, 0.0620
I0305 08:21:48.243794       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="87c465ac-1cca-4bbb-915f-4bcb2e41344c"
I0305 08:21:48.287368       1 gateway.go:608] "First token received" requestID="87c465ac-1cca-4bbb-915f-4bcb2e41344c" ttft_ms=123
I0305 08:21:48.337317       1 gateway.go:329] "-- In RequestBody processing ..." requestID="59b34de7-88e8-45a9-a7a1-3adf40383e4e"
I0305 08:21:48.337552       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="59b34de7-88e8-45a9-a7a1-3adf40383e4e" model="qwen2-5-7b-instruct"
I0305 08:21:48.337572       1 gateway.go:207] "Processing request" requestID="21c78f82-8f1a-406b-bf4f-9bd218a40960"
I0305 08:21:48.337603       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="21c78f82-8f1a-406b-bf4f-9bd218a40960"
I0305 08:21:48.337614       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:48.337634       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:48.337640       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:48.337643       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:48.337706       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:48.337724       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:48.337728       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:48.394996       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0573, numInputTokens, 7602
I0305 08:21:48.395017       1 tree.go:471] Updated node(0) last access: 118.5847 seconds
I0305 08:21:48.395023       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:48.395027       1 tree.go:471] Updated node(2) last access: 118.5847 seconds
I0305 08:21:48.395040       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:21:48.395043       1 tree.go:471] Updated node(36) last access: 118.5848 seconds
I0305 08:21:48.395051       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 08:21:48.395057       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 08:21:48.395065       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:48.395071       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:48.395077       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:48.395059446 +0000 UTC m=+118.699961544]
I0305 08:21:48.395095       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 08:21:48.395105       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 08:21:48.395144       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:48.395155       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:48.395164       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.395171       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.395174       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.395181       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.395189       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:48.395200       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:48.395212       1 prefix_cache_and_load.go:584] latency, Route, 0.0576
I0305 08:21:48.395222       1 gateway.go:415] latency, selectTargetPod, 0.0576, target pod, 10.0.3.30:8000
I0305 08:21:48.395234       1 gateway.go:235] latency, HandleRequestBody, 0.0579
I0305 08:21:48.411640       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="59b34de7-88e8-45a9-a7a1-3adf40383e4e"
I0305 08:21:48.455476       1 gateway.go:608] "First token received" requestID="59b34de7-88e8-45a9-a7a1-3adf40383e4e" ttft_ms=118
I0305 08:21:48.460243       1 gateway.go:562] latency, 0.0000, summary, hash(request), 113b8978, selectedpod, 10.0.1.14:8000, ttft, 123, tpot, 19, e2e, 296, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:48.460265       1 gateway.go:748] "Request completed" requestID="87c465ac-1cca-4bbb-915f-4bcb2e41344c" targetPod="10.0.1.14:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:48.460278       1 gateway.go:764] "HandleResponseBody completed" requestID="87c465ac-1cca-4bbb-915f-4bcb2e41344c" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:48.558300       1 gateway.go:329] "-- In RequestBody processing ..." requestID="21c78f82-8f1a-406b-bf4f-9bd218a40960"
I0305 08:21:48.558499       1 gateway.go:207] "Processing request" requestID="5205c81e-af5b-41cb-b236-4ab99673456b"
I0305 08:21:48.558531       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5205c81e-af5b-41cb-b236-4ab99673456b"
I0305 08:21:48.558542       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:48.558553       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="21c78f82-8f1a-406b-bf4f-9bd218a40960" model="qwen2-5-7b-instruct"
I0305 08:21:48.558711       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:48.558720       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:48.558723       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:48.558793       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:48.558812       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:48.558818       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:48.560338       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5205c81e-af5b-41cb-b236-4ab99673456b"
I0305 08:21:48.560449       1 gateway.go:207] "Processing request" requestID="618d7e1a-5992-4a6c-a37b-7e1749ba54e3"
I0305 08:21:48.560453       1 gateway.go:207] "Processing request" requestID="29e6b075-52cc-4303-9967-afdca1a0cf04"
I0305 08:21:48.560499       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="29e6b075-52cc-4303-9967-afdca1a0cf04"
I0305 08:21:48.560503       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="618d7e1a-5992-4a6c-a37b-7e1749ba54e3"
I0305 08:21:48.560513       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:48.560516       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:48.560691       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5205c81e-af5b-41cb-b236-4ab99673456b" model="qwen2-5-7b-instruct"
I0305 08:21:48.619114       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0603, numInputTokens, 7601
I0305 08:21:48.619135       1 tree.go:471] Updated node(0) last access: 118.8088 seconds
I0305 08:21:48.619141       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:48.619146       1 tree.go:471] Updated node(2) last access: 118.8089 seconds
I0305 08:21:48.619187       1 tree.go:667] Split complete - New node(57)
I0305 08:21:48.619192       1 tree.go:668] Split complete - Child node(5)
I0305 08:21:48.619198       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7597 tokens:
I0305 08:21:48.619203       1 tree.go:471] Updated node(57) last access: 118.8089 seconds
I0305 08:21:48.619209       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:48.619213       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:48.619219       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:48.619226       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:48.619231       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:48.619215194 +0000 UTC m=+118.924117291]
I0305 08:21:48.619247       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:48.619255       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:48.619286       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7478
I0305 08:21:48.619297       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:48.619306       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.619312       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.619316       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.619320       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.619338       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:48.619350       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:21:48.619363       1 prefix_cache_and_load.go:584] latency, Route, 0.0607
I0305 08:21:48.619377       1 gateway.go:415] latency, selectTargetPod, 0.0607, target pod, 10.0.1.28:8000
I0305 08:21:48.619390       1 gateway.go:235] latency, HandleRequestBody, 0.0611
I0305 08:21:48.619417       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0586
I0305 08:21:48.619422       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:48.619425       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:48.619469       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:48.619485       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:48.619490       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:48.628407       1 gateway.go:562] latency, 0.0001, summary, hash(request), b79bc213, selectedpod, 10.0.3.30:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:48.628431       1 gateway.go:748] "Request completed" requestID="59b34de7-88e8-45a9-a7a1-3adf40383e4e" targetPod="10.0.3.30:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:48.628443       1 gateway.go:764] "HandleResponseBody completed" requestID="59b34de7-88e8-45a9-a7a1-3adf40383e4e" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:48.638280       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="21c78f82-8f1a-406b-bf4f-9bd218a40960"
I0305 08:21:48.679648       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0602, numInputTokens, 7599
I0305 08:21:48.679675       1 tree.go:471] Updated node(0) last access: 118.8694 seconds
I0305 08:21:48.679681       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:48.679685       1 tree.go:471] Updated node(2) last access: 118.8694 seconds
I0305 08:21:48.679697       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:21:48.679700       1 tree.go:471] Updated node(28) last access: 118.8694 seconds
I0305 08:21:48.679707       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:48.679712       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:21:48.679719       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:48.679728       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:48.679733       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:48.679714562 +0000 UTC m=+118.984616659]
I0305 08:21:48.679750       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:48.679759       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:48.679787       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7478
I0305 08:21:48.679799       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:48.679807       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.679814       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.679819       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.679824       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.679833       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:48.679843       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:48.679853       1 prefix_cache_and_load.go:584] latency, Route, 0.1190
I0305 08:21:48.679862       1 gateway.go:415] latency, selectTargetPod, 0.1190, target pod, 10.0.0.39:8000
I0305 08:21:48.679873       1 gateway.go:235] latency, HandleRequestBody, 0.1196
I0305 08:21:48.684581       1 gateway.go:608] "First token received" requestID="21c78f82-8f1a-406b-bf4f-9bd218a40960" ttft_ms=126
I0305 08:21:48.699267       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5205c81e-af5b-41cb-b236-4ab99673456b"
I0305 08:21:48.743016       1 gateway.go:608] "First token received" requestID="5205c81e-af5b-41cb-b236-4ab99673456b" ttft_ms=182
I0305 08:21:48.769034       1 gateway.go:329] "-- In RequestBody processing ..." requestID="618d7e1a-5992-4a6c-a37b-7e1749ba54e3"
I0305 08:21:48.769259       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="618d7e1a-5992-4a6c-a37b-7e1749ba54e3" model="qwen2-5-7b-instruct"
I0305 08:21:48.769342       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:48.769349       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:48.769353       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:48.769404       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:48.769441       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:48.769447       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:48.773589       1 gateway.go:329] "-- In RequestBody processing ..." requestID="29e6b075-52cc-4303-9967-afdca1a0cf04"
I0305 08:21:48.773825       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="29e6b075-52cc-4303-9967-afdca1a0cf04" model="qwen2-5-7b-instruct"
I0305 08:21:48.773838       1 gateway.go:207] "Processing request" requestID="75c7d9b8-c122-48d8-8f6e-470aef070e14"
I0305 08:21:48.773869       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="75c7d9b8-c122-48d8-8f6e-470aef070e14"
I0305 08:21:48.773879       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:48.825640       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0562, numInputTokens, 7601
I0305 08:21:48.825655       1 tree.go:471] Updated node(0) last access: 119.0154 seconds
I0305 08:21:48.825669       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:48.825673       1 tree.go:471] Updated node(2) last access: 119.0154 seconds
I0305 08:21:48.825687       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:21:48.825690       1 tree.go:471] Updated node(24) last access: 119.0154 seconds
I0305 08:21:48.825698       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:48.825704       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:48.825710       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:48.825718       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:48.825723       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:48.82570591 +0000 UTC m=+119.130608007]
I0305 08:21:48.825738       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:48.825747       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:48.825776       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:48.825786       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:48.825796       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.825801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.825807       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.825811       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.825820       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:48.825829       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:48.825840       1 prefix_cache_and_load.go:584] latency, Route, 0.0565
I0305 08:21:48.825855       1 gateway.go:415] latency, selectTargetPod, 0.0565, target pod, 10.0.3.30:8000
I0305 08:21:48.825865       1 gateway.go:235] latency, HandleRequestBody, 0.0568
I0305 08:21:48.825866       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0520
I0305 08:21:48.825875       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:48.825882       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:48.825936       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:48.825957       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:48.825963       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:48.841689       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="618d7e1a-5992-4a6c-a37b-7e1749ba54e3"
I0305 08:21:48.864254       1 gateway.go:562] latency, 0.0001, summary, hash(request), b9e451db, selectedpod, 10.0.1.28:8000, ttft, 126, tpot, 19, e2e, 305, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:48.864281       1 gateway.go:748] "Request completed" requestID="21c78f82-8f1a-406b-bf4f-9bd218a40960" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:48.864294       1 gateway.go:764] "HandleResponseBody completed" requestID="21c78f82-8f1a-406b-bf4f-9bd218a40960" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:48.884301       1 gateway.go:608] "First token received" requestID="618d7e1a-5992-4a6c-a37b-7e1749ba54e3" ttft_ms=115
I0305 08:21:48.903016       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0770, numInputTokens, 7596
I0305 08:21:48.903035       1 tree.go:471] Updated node(0) last access: 119.0927 seconds
I0305 08:21:48.903042       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:48.903045       1 tree.go:471] Updated node(2) last access: 119.0928 seconds
I0305 08:21:48.903059       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:48.903063       1 tree.go:471] Updated node(16) last access: 119.0928 seconds
I0305 08:21:48.903070       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:21:48.903074       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 08:21:48.903083       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:21:48.903089       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:48.903095       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:48.903078548 +0000 UTC m=+119.207980645]
I0305 08:21:48.903112       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:21:48.903122       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:21:48.903150       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7478
I0305 08:21:48.903161       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:48.903169       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.903173       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.903179       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.903185       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:48.903195       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:48.903205       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:48.903217       1 prefix_cache_and_load.go:584] latency, Route, 0.1293
I0305 08:21:48.903232       1 gateway.go:415] latency, selectTargetPod, 0.1293, target pod, 10.0.1.14:8000
I0305 08:21:48.903244       1 gateway.go:235] latency, HandleRequestBody, 0.1297
I0305 08:21:48.915838       1 gateway.go:562] latency, 0.0001, summary, hash(request), e264593e, selectedpod, 10.0.0.39:8000, ttft, 182, tpot, 19, e2e, 355, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:48.915856       1 gateway.go:748] "Request completed" requestID="5205c81e-af5b-41cb-b236-4ab99673456b" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:48.915866       1 gateway.go:764] "HandleResponseBody completed" requestID="5205c81e-af5b-41cb-b236-4ab99673456b" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:48.921032       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="29e6b075-52cc-4303-9967-afdca1a0cf04"
I0305 08:21:48.956109       1 gateway.go:608] "First token received" requestID="29e6b075-52cc-4303-9967-afdca1a0cf04" ttft_ms=182
I0305 08:21:48.981011       1 gateway.go:329] "-- In RequestBody processing ..." requestID="75c7d9b8-c122-48d8-8f6e-470aef070e14"
I0305 08:21:48.981132       1 gateway.go:207] "Processing request" requestID="6d94a624-1909-4044-a1a3-eb7b3403d8b2"
I0305 08:21:48.981137       1 gateway.go:207] "Processing request" requestID="b7bdd236-e45d-4e05-be0a-e28baca67b81"
I0305 08:21:48.981148       1 gateway.go:207] "Processing request" requestID="f88b99c3-997d-4efa-b907-1c815bd97508"
I0305 08:21:48.981209       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f88b99c3-997d-4efa-b907-1c815bd97508"
I0305 08:21:48.981219       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:48.981161       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6d94a624-1909-4044-a1a3-eb7b3403d8b2"
I0305 08:21:48.981251       1 gateway.go:230] latency, HandleRequestHeaders, 0.0001
I0305 08:21:48.981169       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b7bdd236-e45d-4e05-be0a-e28baca67b81"
I0305 08:21:48.981284       1 gateway.go:230] latency, HandleRequestHeaders, 0.0001
I0305 08:21:48.981171       1 gateway.go:207] "Processing request" requestID="dd8cadbe-59d7-4044-a29f-f7d372814ec6"
I0305 08:21:48.981306       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="75c7d9b8-c122-48d8-8f6e-470aef070e14" model="qwen2-5-7b-instruct"
I0305 08:21:48.981325       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dd8cadbe-59d7-4044-a29f-f7d372814ec6"
I0305 08:21:48.981344       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:48.981409       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:48.981418       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:48.981422       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:48.981490       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:48.981509       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:48.981518       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:49.039194       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0577, numInputTokens, 7596
I0305 08:21:49.039209       1 tree.go:471] Updated node(0) last access: 119.2289 seconds
I0305 08:21:49.039215       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:49.039219       1 tree.go:471] Updated node(2) last access: 119.2289 seconds
I0305 08:21:49.039232       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:21:49.039236       1 tree.go:471] Updated node(45) last access: 119.2290 seconds
I0305 08:21:49.039240       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 08:21:49.039244       1 tree.go:471] Updated node(43) last access: 119.2290 seconds
I0305 08:21:49.039250       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:21:49.039254       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 08:21:49.039260       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:21:49.039266       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:49.039271       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:49.039255769 +0000 UTC m=+119.344157866]
I0305 08:21:49.039286       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7481, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:21:49.039296       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:21:49.039342       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7481
I0305 08:21:49.039353       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:49.039364       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.039372       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.039380       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.039385       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.039391       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.039400       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:49.039411       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:49.039420       1 prefix_cache_and_load.go:584] latency, Route, 0.0580
I0305 08:21:49.039429       1 gateway.go:415] latency, selectTargetPod, 0.0580, target pod, 10.0.0.134:8000
I0305 08:21:49.039441       1 gateway.go:235] latency, HandleRequestBody, 0.0584
I0305 08:21:49.056748       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="75c7d9b8-c122-48d8-8f6e-470aef070e14"
I0305 08:21:49.057070       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9ff58bb6, selectedpod, 10.0.3.30:8000, ttft, 115, tpot, 19, e2e, 287, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:49.057089       1 gateway.go:748] "Request completed" requestID="618d7e1a-5992-4a6c-a37b-7e1749ba54e3" targetPod="10.0.3.30:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:49.057101       1 gateway.go:764] "HandleResponseBody completed" requestID="618d7e1a-5992-4a6c-a37b-7e1749ba54e3" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:49.088006       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6d94a624-1909-4044-a1a3-eb7b3403d8b2"
I0305 08:21:49.088240       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6d94a624-1909-4044-a1a3-eb7b3403d8b2" model="qwen2-5-7b-instruct"
I0305 08:21:49.088315       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:49.088321       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:49.088325       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:49.088381       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:49.088397       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:49.088403       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:49.093259       1 gateway.go:608] "First token received" requestID="75c7d9b8-c122-48d8-8f6e-470aef070e14" ttft_ms=112
I0305 08:21:49.129626       1 gateway.go:562] latency, 0.0001, summary, hash(request), 8a42d0fc, selectedpod, 10.0.1.14:8000, ttft, 182, tpot, 19, e2e, 355, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:21:49.129652       1 gateway.go:748] "Request completed" requestID="29e6b075-52cc-4303-9967-afdca1a0cf04" targetPod="10.0.1.14:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:21:49.129683       1 gateway.go:764] "HandleResponseBody completed" requestID="29e6b075-52cc-4303-9967-afdca1a0cf04" promptTokens=7615 completionTokens=10 stream=true
I0305 08:21:49.149460       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0610, numInputTokens, 7596
I0305 08:21:49.149480       1 tree.go:471] Updated node(0) last access: 119.3392 seconds
I0305 08:21:49.149489       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:49.149492       1 tree.go:471] Updated node(2) last access: 119.3392 seconds
I0305 08:21:49.149505       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:21:49.149508       1 tree.go:471] Updated node(28) last access: 119.3392 seconds
I0305 08:21:49.149518       1 tree.go:667] Split complete - New node(63)
I0305 08:21:49.149523       1 tree.go:668] Split complete - Child node(59)
I0305 08:21:49.149528       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:21:49.149533       1 tree.go:471] Updated node(63) last access: 119.3392 seconds
I0305 08:21:49.149538       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 08:21:49.149543       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:21:49.149549       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:21:49.149555       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:49.149562       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:49.149545331 +0000 UTC m=+119.454447428]
I0305 08:21:49.149577       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7484, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 08:21:49.149584       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 08:21:49.149612       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7484
I0305 08:21:49.149624       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:49.149633       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.149638       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.149641       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.149649       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.149654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.149673       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:49.149684       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:49.149696       1 prefix_cache_and_load.go:584] latency, Route, 0.0614
I0305 08:21:49.149705       1 gateway.go:415] latency, selectTargetPod, 0.0614, target pod, 10.0.0.39:8000
I0305 08:21:49.149719       1 gateway.go:235] latency, HandleRequestBody, 0.0617
I0305 08:21:49.167529       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6d94a624-1909-4044-a1a3-eb7b3403d8b2"
I0305 08:21:49.202774       1 gateway.go:608] "First token received" requestID="6d94a624-1909-4044-a1a3-eb7b3403d8b2" ttft_ms=114
I0305 08:21:49.266131       1 gateway.go:562] latency, 0.0001, summary, hash(request), da5d46f7, selectedpod, 10.0.0.134:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:21:49.266151       1 gateway.go:748] "Request completed" requestID="75c7d9b8-c122-48d8-8f6e-470aef070e14" targetPod="10.0.0.134:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:21:49.266162       1 gateway.go:764] "HandleResponseBody completed" requestID="75c7d9b8-c122-48d8-8f6e-470aef070e14" promptTokens=7615 completionTokens=10 stream=true
I0305 08:21:49.375924       1 gateway.go:562] latency, 0.0000, summary, hash(request), d8692829, selectedpod, 10.0.0.39:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:21:49.375944       1 gateway.go:748] "Request completed" requestID="6d94a624-1909-4044-a1a3-eb7b3403d8b2" targetPod="10.0.0.39:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:21:49.375955       1 gateway.go:764] "HandleResponseBody completed" requestID="6d94a624-1909-4044-a1a3-eb7b3403d8b2" promptTokens=7615 completionTokens=10 stream=true
I0305 08:21:49.610559       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b7bdd236-e45d-4e05-be0a-e28baca67b81"
I0305 08:21:49.610589       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dd8cadbe-59d7-4044-a29f-f7d372814ec6"
I0305 08:21:49.610799       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b7bdd236-e45d-4e05-be0a-e28baca67b81" model="qwen2-5-7b-instruct"
I0305 08:21:49.610825       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f88b99c3-997d-4efa-b907-1c815bd97508"
I0305 08:21:49.610831       1 gateway.go:207] "Processing request" requestID="f281010d-a92e-4d4b-92ac-6c3c3403aa77"
I0305 08:21:49.610836       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dd8cadbe-59d7-4044-a29f-f7d372814ec6" model="qwen2-5-7b-instruct"
I0305 08:21:49.610867       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f281010d-a92e-4d4b-92ac-6c3c3403aa77"
I0305 08:21:49.610878       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:49.610887       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:49.610895       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:49.610900       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:49.610983       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:49.611003       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:49.611007       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:49.611049       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f88b99c3-997d-4efa-b907-1c815bd97508" model="qwen2-5-7b-instruct"
I0305 08:21:49.674821       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0638, numInputTokens, 7598
I0305 08:21:49.674840       1 tree.go:471] Updated node(0) last access: 119.8646 seconds
I0305 08:21:49.674847       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:49.674850       1 tree.go:471] Updated node(2) last access: 119.8646 seconds
I0305 08:21:49.674862       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:21:49.674866       1 tree.go:471] Updated node(28) last access: 119.8646 seconds
I0305 08:21:49.674871       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 08:21:49.674876       1 tree.go:471] Updated node(33) last access: 119.8646 seconds
I0305 08:21:49.674886       1 tree.go:667] Split complete - New node(65)
I0305 08:21:49.674891       1 tree.go:668] Split complete - Child node(34)
I0305 08:21:49.674896       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:21:49.674902       1 tree.go:471] Updated node(65) last access: 119.8646 seconds
I0305 08:21:49.674908       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:21:49.674913       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:21:49.674920       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:21:49.674927       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:49.674933       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:49.674915363 +0000 UTC m=+119.979817460]
I0305 08:21:49.674950       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7485, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:21:49.674958       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:21:49.674989       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7485
I0305 08:21:49.674999       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:49.675008       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.675012       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.675016       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.675023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.675028       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.675034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.675044       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:49.675054       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:49.675065       1 prefix_cache_and_load.go:584] latency, Route, 0.0642
I0305 08:21:49.675077       1 gateway.go:415] latency, selectTargetPod, 0.0642, target pod, 10.0.0.39:8000
I0305 08:21:49.675090       1 gateway.go:235] latency, HandleRequestBody, 0.0645
I0305 08:21:49.675111       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0642
I0305 08:21:49.675122       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:49.675126       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:49.675188       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:49.675206       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:49.675210       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:49.693111       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b7bdd236-e45d-4e05-be0a-e28baca67b81"
I0305 08:21:49.704225       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f281010d-a92e-4d4b-92ac-6c3c3403aa77"
I0305 08:21:49.704425       1 gateway.go:207] "Processing request" requestID="983d5d05-81da-4f40-999a-40e042b47e11"
I0305 08:21:49.704435       1 gateway.go:207] "Processing request" requestID="78e6bb10-81eb-43c0-88bb-e624968e3ab7"
I0305 08:21:49.704456       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="983d5d05-81da-4f40-999a-40e042b47e11"
I0305 08:21:49.704467       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="78e6bb10-81eb-43c0-88bb-e624968e3ab7"
I0305 08:21:49.704468       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:49.704477       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f281010d-a92e-4d4b-92ac-6c3c3403aa77" model="qwen2-5-7b-instruct"
I0305 08:21:49.704479       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:49.728717       1 gateway.go:608] "First token received" requestID="b7bdd236-e45d-4e05-be0a-e28baca67b81" ttft_ms=118
I0305 08:21:49.730821       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0556, numInputTokens, 7600
I0305 08:21:49.730837       1 tree.go:471] Updated node(0) last access: 119.9206 seconds
I0305 08:21:49.730843       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:49.730847       1 tree.go:471] Updated node(2) last access: 119.9206 seconds
I0305 08:21:49.730859       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:21:49.730864       1 tree.go:471] Updated node(57) last access: 119.9206 seconds
I0305 08:21:49.730871       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:21:49.730876       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:21:49.730883       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:49.730890       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:49.730895       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:49.730878048 +0000 UTC m=+120.035780145]
I0305 08:21:49.730912       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:21:49.730921       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:21:49.730952       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7478
I0305 08:21:49.730962       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:49.730972       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.730979       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.730984       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.730989       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.731000       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:49.731011       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:21:49.731021       1 prefix_cache_and_load.go:584] latency, Route, 0.1201
I0305 08:21:49.731035       1 gateway.go:415] latency, selectTargetPod, 0.1201, target pod, 10.0.1.28:8000
I0305 08:21:49.731045       1 gateway.go:235] latency, HandleRequestBody, 0.1205
I0305 08:21:49.731071       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1199
I0305 08:21:49.731075       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:49.731078       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:49.731122       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:49.731141       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:49.731146       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:49.750012       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dd8cadbe-59d7-4044-a29f-f7d372814ec6"
I0305 08:21:49.793912       1 gateway.go:608] "First token received" requestID="dd8cadbe-59d7-4044-a29f-f7d372814ec6" ttft_ms=183
I0305 08:21:49.811941       1 gateway.go:329] "-- In RequestBody processing ..." requestID="983d5d05-81da-4f40-999a-40e042b47e11"
I0305 08:21:49.819695       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0885, numInputTokens, 7594
I0305 08:21:49.819713       1 tree.go:471] Updated node(0) last access: 120.0094 seconds
I0305 08:21:49.819719       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:49.819723       1 tree.go:471] Updated node(2) last access: 120.0094 seconds
I0305 08:21:49.819736       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:21:49.819739       1 tree.go:471] Updated node(24) last access: 120.0095 seconds
I0305 08:21:49.819749       1 tree.go:667] Split complete - New node(68)
I0305 08:21:49.819754       1 tree.go:668] Split complete - Child node(38)
I0305 08:21:49.819759       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 08:21:49.819764       1 tree.go:471] Updated node(68) last access: 120.0095 seconds
I0305 08:21:49.819770       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:21:49.819775       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 08:21:49.819782       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 08:21:49.819789       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:49.819795       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:49.819777401 +0000 UTC m=+120.124679497]
I0305 08:21:49.819810       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7479, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:21:49.819819       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:21:49.819851       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7479
I0305 08:21:49.819864       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:49.819876       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.819886       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.819893       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.819902       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.819909       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.819930       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:49.819946       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:49.819961       1 prefix_cache_and_load.go:584] latency, Route, 0.2088
I0305 08:21:49.819976       1 gateway.go:415] latency, selectTargetPod, 0.2088, target pod, 10.0.3.30:8000
I0305 08:21:49.819987       1 gateway.go:235] latency, HandleRequestBody, 0.2092
I0305 08:21:49.819994       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1154
I0305 08:21:49.820006       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:49.820013       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:49.820072       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:49.820090       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:49.820098       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:49.835955       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f88b99c3-997d-4efa-b907-1c815bd97508"
I0305 08:21:49.868686       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="983d5d05-81da-4f40-999a-40e042b47e11" model="qwen2-5-7b-instruct"
I0305 08:21:49.871970       1 gateway.go:608] "First token received" requestID="f88b99c3-997d-4efa-b907-1c815bd97508" ttft_ms=261
I0305 08:21:49.901677       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7489be7b, selectedpod, 10.0.0.39:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:21:49.901698       1 gateway.go:748] "Request completed" requestID="b7bdd236-e45d-4e05-be0a-e28baca67b81" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:21:49.901708       1 gateway.go:764] "HandleResponseBody completed" requestID="b7bdd236-e45d-4e05-be0a-e28baca67b81" promptTokens=7617 completionTokens=10 stream=true
I0305 08:21:49.901874       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0818, numInputTokens, 7600
I0305 08:21:49.901889       1 tree.go:471] Updated node(0) last access: 120.0916 seconds
I0305 08:21:49.901896       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:49.901899       1 tree.go:471] Updated node(2) last access: 120.0916 seconds
I0305 08:21:49.901911       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:21:49.901917       1 tree.go:471] Updated node(36) last access: 120.0916 seconds
I0305 08:21:49.901924       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:21:49.901930       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:21:49.901937       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:49.901943       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:49.901949       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:49.901932391 +0000 UTC m=+120.206834488]
I0305 08:21:49.901964       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:21:49.901981       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:21:49.902013       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:49.902024       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:49.902034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.902040       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.902045       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.902053       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.902064       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:49.902074       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:49.902084       1 prefix_cache_and_load.go:584] latency, Route, 0.1975
I0305 08:21:49.902097       1 gateway.go:415] latency, selectTargetPod, 0.1975, target pod, 10.0.3.30:8000
I0305 08:21:49.902109       1 gateway.go:235] latency, HandleRequestBody, 0.1979
I0305 08:21:49.902139       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0334
I0305 08:21:49.902145       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:49.902148       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:49.902188       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:49.902221       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:49.902230       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:49.917469       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f281010d-a92e-4d4b-92ac-6c3c3403aa77"
I0305 08:21:49.963538       1 gateway.go:329] "-- In RequestBody processing ..." requestID="78e6bb10-81eb-43c0-88bb-e624968e3ab7"
I0305 08:21:49.963799       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="78e6bb10-81eb-43c0-88bb-e624968e3ab7" model="qwen2-5-7b-instruct"
I0305 08:21:49.966059       1 gateway.go:562] latency, 0.0001, summary, hash(request), c5c37b8f, selectedpod, 10.0.1.28:8000, ttft, 183, tpot, 19, e2e, 355, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:49.966080       1 gateway.go:748] "Request completed" requestID="dd8cadbe-59d7-4044-a29f-f7d372814ec6" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:49.966094       1 gateway.go:764] "HandleResponseBody completed" requestID="dd8cadbe-59d7-4044-a29f-f7d372814ec6" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:49.970817       1 gateway.go:608] "First token received" requestID="f281010d-a92e-4d4b-92ac-6c3c3403aa77" ttft_ms=266
I0305 08:21:49.991614       1 gateway.go:207] "Processing request" requestID="1dc9a2c0-e18f-4c00-9d6e-3de310f39d3c"
I0305 08:21:49.991654       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1dc9a2c0-e18f-4c00-9d6e-3de310f39d3c"
I0305 08:21:49.991679       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:49.995993       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0938, numInputTokens, 7602
I0305 08:21:49.996007       1 tree.go:471] Updated node(0) last access: 120.1857 seconds
I0305 08:21:49.996013       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:49.996019       1 tree.go:471] Updated node(2) last access: 120.1857 seconds
I0305 08:21:49.996032       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:49.996035       1 tree.go:471] Updated node(16) last access: 120.1858 seconds
I0305 08:21:49.996046       1 tree.go:667] Split complete - New node(71)
I0305 08:21:49.996051       1 tree.go:668] Split complete - Child node(17)
I0305 08:21:49.996057       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:21:49.996062       1 tree.go:471] Updated node(71) last access: 120.1858 seconds
I0305 08:21:49.996068       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:21:49.996073       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:21:49.996080       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:49.996087       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:49.996093       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:49.996075655 +0000 UTC m=+120.300977752]
I0305 08:21:49.996109       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7486, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:21:49.996118       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:21:49.996151       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7486
I0305 08:21:49.996161       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:49.996172       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.996180       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.996186       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.996194       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.996204       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:49.996213       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:49.996222       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:49.996232       1 prefix_cache_and_load.go:584] latency, Route, 0.1275
I0305 08:21:49.996247       1 gateway.go:415] latency, selectTargetPod, 0.1275, target pod, 10.0.1.14:8000
I0305 08:21:49.996260       1 gateway.go:235] latency, HandleRequestBody, 0.1843
I0305 08:21:49.996282       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0324
I0305 08:21:49.996287       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:49.996290       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:49.996348       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:49.996365       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:49.996370       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:50.013599       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="983d5d05-81da-4f40-999a-40e042b47e11"
I0305 08:21:50.049166       1 gateway.go:608] "First token received" requestID="983d5d05-81da-4f40-999a-40e042b47e11" ttft_ms=237
I0305 08:21:50.054684       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0583, numInputTokens, 7599
I0305 08:21:50.054698       1 tree.go:471] Updated node(0) last access: 120.2444 seconds
I0305 08:21:50.054705       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:50.054710       1 tree.go:471] Updated node(2) last access: 120.2444 seconds
I0305 08:21:50.054750       1 tree.go:667] Split complete - New node(73)
I0305 08:21:50.054754       1 tree.go:668] Split complete - Child node(26)
I0305 08:21:50.054759       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7595 tokens:
I0305 08:21:50.054765       1 tree.go:471] Updated node(73) last access: 120.2445 seconds
I0305 08:21:50.054770       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:50.054774       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:21:50.054780       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:50.054787       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:50.054794       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:50.054776155 +0000 UTC m=+120.359678252]
I0305 08:21:50.054810       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:50.054817       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:50.054850       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:50.054861       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:50.054872       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.054879       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.054887       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.054891       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.054901       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:50.054911       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:50.054921       1 prefix_cache_and_load.go:584] latency, Route, 0.0910
I0305 08:21:50.054931       1 gateway.go:415] latency, selectTargetPod, 0.0910, target pod, 10.0.0.134:8000
I0305 08:21:50.054941       1 gateway.go:235] latency, HandleRequestBody, 0.0914
I0305 08:21:50.072262       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="78e6bb10-81eb-43c0-88bb-e624968e3ab7"
I0305 08:21:50.092844       1 gateway.go:562] latency, 0.0001, summary, hash(request), 329aa8ee, selectedpod, 10.0.3.30:8000, ttft, 261, tpot, 24, e2e, 481, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 08:21:50.092865       1 gateway.go:748] "Request completed" requestID="f88b99c3-997d-4efa-b907-1c815bd97508" targetPod="10.0.3.30:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 08:21:50.092879       1 gateway.go:764] "HandleResponseBody completed" requestID="f88b99c3-997d-4efa-b907-1c815bd97508" promptTokens=7613 completionTokens=10 stream=true
I0305 08:21:50.102194       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1dc9a2c0-e18f-4c00-9d6e-3de310f39d3c"
I0305 08:21:50.102416       1 gateway.go:207] "Processing request" requestID="6eb935c4-cd2c-4114-9ffd-f8ddb8f0baec"
I0305 08:21:50.102430       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1dc9a2c0-e18f-4c00-9d6e-3de310f39d3c" model="qwen2-5-7b-instruct"
I0305 08:21:50.102443       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6eb935c4-cd2c-4114-9ffd-f8ddb8f0baec"
I0305 08:21:50.102456       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:50.102504       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:50.102510       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:50.102514       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:50.102586       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:50.102603       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:50.102608       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:50.115855       1 gateway.go:608] "First token received" requestID="78e6bb10-81eb-43c0-88bb-e624968e3ab7" ttft_ms=152
I0305 08:21:50.150555       1 gateway.go:562] latency, 0.0001, summary, hash(request), 754d2c24, selectedpod, 10.0.3.30:8000, ttft, 266, tpot, 19, e2e, 446, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:50.150577       1 gateway.go:748] "Request completed" requestID="f281010d-a92e-4d4b-92ac-6c3c3403aa77" targetPod="10.0.3.30:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:50.150590       1 gateway.go:764] "HandleResponseBody completed" requestID="f281010d-a92e-4d4b-92ac-6c3c3403aa77" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:50.163002       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0604, numInputTokens, 7600
I0305 08:21:50.163017       1 tree.go:471] Updated node(0) last access: 120.3527 seconds
I0305 08:21:50.163023       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:50.163027       1 tree.go:471] Updated node(2) last access: 120.3527 seconds
I0305 08:21:50.163040       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:21:50.163085       1 tree.go:471] Updated node(45) last access: 120.3528 seconds
I0305 08:21:50.163092       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:21:50.163097       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:21:50.163105       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:50.163112       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:50.163117       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:50.163099613 +0000 UTC m=+120.468001710]
I0305 08:21:50.163134       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:21:50.163141       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:21:50.163178       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:50.163189       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:50.163198       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.163205       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.163211       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.163215       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.163234       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:50.163244       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:50.163254       1 prefix_cache_and_load.go:584] latency, Route, 0.0607
I0305 08:21:50.163267       1 gateway.go:415] latency, selectTargetPod, 0.0608, target pod, 10.0.0.134:8000
I0305 08:21:50.163280       1 gateway.go:235] latency, HandleRequestBody, 0.0611
I0305 08:21:50.179815       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1dc9a2c0-e18f-4c00-9d6e-3de310f39d3c"
I0305 08:21:50.221748       1 gateway.go:562] latency, 0.0001, summary, hash(request), 0bc01985, selectedpod, 10.0.1.14:8000, ttft, 237, tpot, 19, e2e, 409, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:50.221769       1 gateway.go:748] "Request completed" requestID="983d5d05-81da-4f40-999a-40e042b47e11" targetPod="10.0.1.14:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:50.221784       1 gateway.go:764] "HandleResponseBody completed" requestID="983d5d05-81da-4f40-999a-40e042b47e11" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:50.233578       1 gateway.go:608] "First token received" requestID="1dc9a2c0-e18f-4c00-9d6e-3de310f39d3c" ttft_ms=131
I0305 08:21:50.248129       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6eb935c4-cd2c-4114-9ffd-f8ddb8f0baec"
I0305 08:21:50.248363       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6eb935c4-cd2c-4114-9ffd-f8ddb8f0baec" model="qwen2-5-7b-instruct"
I0305 08:21:50.248457       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:50.248464       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:50.248467       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:50.248537       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:50.248554       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:50.248560       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:50.257076       1 gateway.go:207] "Processing request" requestID="7c49d9c4-7cb9-46ca-bbeb-dfa1db23a3e8"
I0305 08:21:50.257108       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7c49d9c4-7cb9-46ca-bbeb-dfa1db23a3e8"
I0305 08:21:50.257116       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:50.310208       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0616, numInputTokens, 7596
I0305 08:21:50.310229       1 tree.go:471] Updated node(0) last access: 120.4999 seconds
I0305 08:21:50.310235       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:50.310238       1 tree.go:471] Updated node(2) last access: 120.5000 seconds
I0305 08:21:50.310253       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:21:50.310258       1 tree.go:471] Updated node(10) last access: 120.5000 seconds
I0305 08:21:50.310268       1 tree.go:667] Split complete - New node(76)
I0305 08:21:50.310273       1 tree.go:668] Split complete - Child node(23)
I0305 08:21:50.310278       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:21:50.310283       1 tree.go:471] Updated node(76) last access: 120.5000 seconds
I0305 08:21:50.310289       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:21:50.310294       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:21:50.310300       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:21:50.310307       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:50.310318       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:50.310296532 +0000 UTC m=+120.615198629]
I0305 08:21:50.310344       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7481, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:21:50.310352       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:21:50.310384       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7481
I0305 08:21:50.310395       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:50.310405       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.310411       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.310416       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.310422       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.310427       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.310441       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:50.310451       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:21:50.310462       1 prefix_cache_and_load.go:584] latency, Route, 0.0620
I0305 08:21:50.310473       1 gateway.go:415] latency, selectTargetPod, 0.0620, target pod, 10.0.0.101:8000
I0305 08:21:50.310485       1 gateway.go:235] latency, HandleRequestBody, 0.0624
I0305 08:21:50.328801       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6eb935c4-cd2c-4114-9ffd-f8ddb8f0baec"
I0305 08:21:50.335565       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1b1c7493, selectedpod, 10.0.0.134:8000, ttft, 152, tpot, 24, e2e, 371, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:50.335587       1 gateway.go:748] "Request completed" requestID="78e6bb10-81eb-43c0-88bb-e624968e3ab7" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:50.335599       1 gateway.go:764] "HandleResponseBody completed" requestID="78e6bb10-81eb-43c0-88bb-e624968e3ab7" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:50.364917       1 gateway.go:608] "First token received" requestID="6eb935c4-cd2c-4114-9ffd-f8ddb8f0baec" ttft_ms=116
I0305 08:21:50.412598       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4c91744d, selectedpod, 10.0.0.134:8000, ttft, 131, tpot, 19, e2e, 310, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:50.412618       1 gateway.go:748] "Request completed" requestID="1dc9a2c0-e18f-4c00-9d6e-3de310f39d3c" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:50.412629       1 gateway.go:764] "HandleResponseBody completed" requestID="1dc9a2c0-e18f-4c00-9d6e-3de310f39d3c" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:50.537735       1 gateway.go:562] latency, 0.0000, summary, hash(request), b95e3a68, selectedpod, 10.0.0.101:8000, ttft, 116, tpot, 19, e2e, 289, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:21:50.537756       1 gateway.go:748] "Request completed" requestID="6eb935c4-cd2c-4114-9ffd-f8ddb8f0baec" targetPod="10.0.0.101:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:21:50.537767       1 gateway.go:764] "HandleResponseBody completed" requestID="6eb935c4-cd2c-4114-9ffd-f8ddb8f0baec" promptTokens=7615 completionTokens=10 stream=true
I0305 08:21:50.555229       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7c49d9c4-7cb9-46ca-bbeb-dfa1db23a3e8"
I0305 08:21:50.555467       1 gateway.go:207] "Processing request" requestID="055a411b-dab2-41c4-bb03-607211a3ca51"
I0305 08:21:50.555475       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7c49d9c4-7cb9-46ca-bbeb-dfa1db23a3e8" model="qwen2-5-7b-instruct"
I0305 08:21:50.555496       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="055a411b-dab2-41c4-bb03-607211a3ca51"
I0305 08:21:50.555506       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:50.555556       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:50.555565       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:50.555568       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:50.555648       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:50.555678       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:50.555685       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:50.556275       1 gateway.go:329] "-- In RequestBody processing ..." requestID="055a411b-dab2-41c4-bb03-607211a3ca51"
I0305 08:21:50.556474       1 gateway.go:207] "Processing request" requestID="911997df-a07f-4554-9c58-7fccb89545b4"
I0305 08:21:50.556503       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="911997df-a07f-4554-9c58-7fccb89545b4"
I0305 08:21:50.556512       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:50.556521       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="055a411b-dab2-41c4-bb03-607211a3ca51" model="qwen2-5-7b-instruct"
I0305 08:21:50.613853       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0582, numInputTokens, 7596
I0305 08:21:50.613870       1 tree.go:471] Updated node(0) last access: 120.8036 seconds
I0305 08:21:50.613877       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:50.613880       1 tree.go:471] Updated node(2) last access: 120.8036 seconds
I0305 08:21:50.613893       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:50.613896       1 tree.go:471] Updated node(16) last access: 120.8036 seconds
I0305 08:21:50.613907       1 tree.go:667] Split complete - New node(78)
I0305 08:21:50.613911       1 tree.go:668] Split complete - Child node(61)
I0305 08:21:50.613917       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:21:50.613923       1 tree.go:471] Updated node(78) last access: 120.8036 seconds
I0305 08:21:50.613929       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:21:50.613934       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:21:50.613940       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:21:50.613946       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:50.613952       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:50.613935977 +0000 UTC m=+120.918838075]
I0305 08:21:50.613968       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7480, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:21:50.613976       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:21:50.614018       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7480
I0305 08:21:50.614028       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:50.614038       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.614044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.614048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.614053       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.614058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.614071       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:50.614082       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:50.614092       1 prefix_cache_and_load.go:584] latency, Route, 0.0585
I0305 08:21:50.614110       1 gateway.go:415] latency, selectTargetPod, 0.0586, target pod, 10.0.1.14:8000
I0305 08:21:50.614122       1 gateway.go:235] latency, HandleRequestBody, 0.0589
I0305 08:21:50.614145       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0575
I0305 08:21:50.614150       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:50.614153       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:50.614207       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:50.614224       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:50.614230       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:50.631356       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7c49d9c4-7cb9-46ca-bbeb-dfa1db23a3e8"
I0305 08:21:50.666781       1 gateway.go:608] "First token received" requestID="7c49d9c4-7cb9-46ca-bbeb-dfa1db23a3e8" ttft_ms=111
I0305 08:21:50.704653       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0904, numInputTokens, 7601
I0305 08:21:50.704680       1 tree.go:471] Updated node(0) last access: 120.8944 seconds
I0305 08:21:50.704687       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:50.704690       1 tree.go:471] Updated node(2) last access: 120.8944 seconds
I0305 08:21:50.704704       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:50.704707       1 tree.go:471] Updated node(16) last access: 120.8944 seconds
I0305 08:21:50.704713       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:50.704719       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:21:50.704726       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:50.704734       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:50.704742       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:50.704721125 +0000 UTC m=+121.009623223]
I0305 08:21:50.704761       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:50.704768       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:50.704805       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7478
I0305 08:21:50.704819       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:50.704828       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.704834       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.704840       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.704843       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.704855       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:50.704865       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:50.704878       1 prefix_cache_and_load.go:584] latency, Route, 0.1483
I0305 08:21:50.704891       1 gateway.go:415] latency, selectTargetPod, 0.1483, target pod, 10.0.1.14:8000
I0305 08:21:50.704913       1 gateway.go:235] latency, HandleRequestBody, 0.1486
I0305 08:21:50.722686       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="055a411b-dab2-41c4-bb03-607211a3ca51"
I0305 08:21:50.765320       1 gateway.go:608] "First token received" requestID="055a411b-dab2-41c4-bb03-607211a3ca51" ttft_ms=208
I0305 08:21:50.888835       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d94fd2e, selectedpod, 10.0.1.14:8000, ttft, 111, tpot, 24, e2e, 333, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:21:50.888857       1 gateway.go:748] "Request completed" requestID="7c49d9c4-7cb9-46ca-bbeb-dfa1db23a3e8" targetPod="10.0.1.14:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:21:50.888873       1 gateway.go:764] "HandleResponseBody completed" requestID="7c49d9c4-7cb9-46ca-bbeb-dfa1db23a3e8" promptTokens=7615 completionTokens=10 stream=true
I0305 08:21:50.931210       1 gateway.go:329] "-- In RequestBody processing ..." requestID="911997df-a07f-4554-9c58-7fccb89545b4"
I0305 08:21:50.931391       1 gateway.go:207] "Processing request" requestID="1e2dafaa-96d2-4bc2-b33e-02bc6494e26c"
I0305 08:21:50.931424       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1e2dafaa-96d2-4bc2-b33e-02bc6494e26c"
I0305 08:21:50.931433       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:50.931480       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="911997df-a07f-4554-9c58-7fccb89545b4" model="qwen2-5-7b-instruct"
I0305 08:21:50.931574       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:50.931581       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:50.931585       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:50.931677       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:50.931697       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:50.931702       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:50.944701       1 gateway.go:562] latency, 0.0001, summary, hash(request), cafb37d4, selectedpod, 10.0.1.14:8000, ttft, 208, tpot, 19, e2e, 388, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:50.944721       1 gateway.go:748] "Request completed" requestID="055a411b-dab2-41c4-bb03-607211a3ca51" targetPod="10.0.1.14:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:50.944731       1 gateway.go:764] "HandleResponseBody completed" requestID="055a411b-dab2-41c4-bb03-607211a3ca51" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:50.990570       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0589, numInputTokens, 7601
I0305 08:21:50.990588       1 tree.go:471] Updated node(0) last access: 121.1803 seconds
I0305 08:21:50.990604       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:50.990609       1 tree.go:471] Updated node(2) last access: 121.1803 seconds
I0305 08:21:50.990628       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:21:50.990633       1 tree.go:471] Updated node(73) last access: 121.1803 seconds
I0305 08:21:50.990644       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:50.990651       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:50.990661       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:50.990680       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:50.990688       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:50.990653987 +0000 UTC m=+121.295556093]
I0305 08:21:50.990711       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:50.990725       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:50.990778       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:50.990794       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:50.990809       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.990823       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.990835       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.990843       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:50.990860       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:50.990877       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:50.990892       1 prefix_cache_and_load.go:584] latency, Route, 0.0593
I0305 08:21:50.990906       1 gateway.go:415] latency, selectTargetPod, 0.0593, target pod, 10.0.0.134:8000
I0305 08:21:50.990922       1 gateway.go:235] latency, HandleRequestBody, 0.0597
I0305 08:21:51.009911       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="911997df-a07f-4554-9c58-7fccb89545b4"
I0305 08:21:51.040002       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1e2dafaa-96d2-4bc2-b33e-02bc6494e26c"
I0305 08:21:51.040173       1 gateway.go:207] "Processing request" requestID="dbb46fdb-1435-4c53-8606-281ce56cec9c"
I0305 08:21:51.040204       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dbb46fdb-1435-4c53-8606-281ce56cec9c"
I0305 08:21:51.040212       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:51.040268       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1e2dafaa-96d2-4bc2-b33e-02bc6494e26c" model="qwen2-5-7b-instruct"
I0305 08:21:51.040418       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:51.040425       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:51.040428       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:51.040500       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:51.040517       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:51.040523       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:51.052754       1 gateway.go:608] "First token received" requestID="911997df-a07f-4554-9c58-7fccb89545b4" ttft_ms=121
I0305 08:21:51.099989       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0595, numInputTokens, 7598
I0305 08:21:51.100007       1 tree.go:471] Updated node(0) last access: 121.2897 seconds
I0305 08:21:51.100014       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:51.100017       1 tree.go:471] Updated node(2) last access: 121.2897 seconds
I0305 08:21:51.100032       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:21:51.100036       1 tree.go:471] Updated node(10) last access: 121.2898 seconds
I0305 08:21:51.100041       1 tree.go:490] Partial tokens match child node(14). Continue to go deeper in the radix tree
I0305 08:21:51.100043       1 tree.go:471] Updated node(14) last access: 121.2898 seconds
I0305 08:21:51.100054       1 tree.go:667] Split complete - New node(82)
I0305 08:21:51.100057       1 tree.go:668] Split complete - Child node(11)
I0305 08:21:51.100062       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:21:51.100068       1 tree.go:471] Updated node(82) last access: 121.2898 seconds
I0305 08:21:51.100073       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 107 tokens:
I0305 08:21:51.100078       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:21:51.100085       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:21:51.100092       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:51.100097       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:51.100079893 +0000 UTC m=+121.404981990]
I0305 08:21:51.100112       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7491, Matching ratio: 0.9859, # Matched pods: 0, Matched pods: []
I0305 08:21:51.100120       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9859 > 0.5000)
I0305 08:21:51.100157       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7491
I0305 08:21:51.100168       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:51.100177       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.100183       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.100187       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.100193       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.100198       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.100206       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.100217       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:51.100227       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:21:51.100238       1 prefix_cache_and_load.go:584] latency, Route, 0.0598
I0305 08:21:51.100246       1 gateway.go:415] latency, selectTargetPod, 0.0598, target pod, 10.0.0.101:8000
I0305 08:21:51.100259       1 gateway.go:235] latency, HandleRequestBody, 0.0603
I0305 08:21:51.118543       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1e2dafaa-96d2-4bc2-b33e-02bc6494e26c"
I0305 08:21:51.154623       1 gateway.go:608] "First token received" requestID="1e2dafaa-96d2-4bc2-b33e-02bc6494e26c" ttft_ms=114
I0305 08:21:51.225894       1 gateway.go:562] latency, 0.0000, summary, hash(request), 67ef165c, selectedpod, 10.0.0.134:8000, ttft, 121, tpot, 19, e2e, 294, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:51.225919       1 gateway.go:748] "Request completed" requestID="911997df-a07f-4554-9c58-7fccb89545b4" targetPod="10.0.0.134:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:51.225932       1 gateway.go:764] "HandleResponseBody completed" requestID="911997df-a07f-4554-9c58-7fccb89545b4" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:51.227425       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dbb46fdb-1435-4c53-8606-281ce56cec9c"
I0305 08:21:51.227606       1 gateway.go:207] "Processing request" requestID="5352db55-4efa-4b21-9964-0c1a6ade4763"
I0305 08:21:51.227635       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5352db55-4efa-4b21-9964-0c1a6ade4763"
I0305 08:21:51.227644       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:51.227646       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dbb46fdb-1435-4c53-8606-281ce56cec9c" model="qwen2-5-7b-instruct"
I0305 08:21:51.227730       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:51.227738       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:51.227741       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:51.227816       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:51.227839       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:51.227848       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:51.290981       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0631, numInputTokens, 7592
I0305 08:21:51.291002       1 tree.go:471] Updated node(0) last access: 121.4807 seconds
I0305 08:21:51.291009       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:51.291013       1 tree.go:471] Updated node(2) last access: 121.4807 seconds
I0305 08:21:51.291025       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:21:51.291029       1 tree.go:471] Updated node(73) last access: 121.4807 seconds
I0305 08:21:51.291040       1 tree.go:667] Split complete - New node(84)
I0305 08:21:51.291045       1 tree.go:668] Split complete - Child node(74)
I0305 08:21:51.291050       1 tree.go:501] latency, splitNode, 0.0000 seconds, 114 tokens:
I0305 08:21:51.291055       1 tree.go:471] Updated node(84) last access: 121.4808 seconds
I0305 08:21:51.291061       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 08:21:51.291066       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7592 tokens
I0305 08:21:51.291073       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7592 tokens
I0305 08:21:51.291080       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:51.291086       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:51.291068132 +0000 UTC m=+121.595970229]
I0305 08:21:51.291102       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7592, Matched tokens: 7483, Matching ratio: 0.9856, # Matched pods: 0, Matched pods: []
I0305 08:21:51.291111       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9856 > 0.5000)
I0305 08:21:51.291146       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7483
I0305 08:21:51.291157       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:51.291167       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.291174       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.291179       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.291185       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.291190       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.291199       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:51.291210       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:51.291220       1 prefix_cache_and_load.go:584] latency, Route, 0.0635
I0305 08:21:51.291230       1 gateway.go:415] latency, selectTargetPod, 0.0635, target pod, 10.0.0.134:8000
I0305 08:21:51.291242       1 gateway.go:235] latency, HandleRequestBody, 0.0638
I0305 08:21:51.307742       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dbb46fdb-1435-4c53-8606-281ce56cec9c"
I0305 08:21:51.327809       1 gateway.go:562] latency, 0.0000, summary, hash(request), 20151f27, selectedpod, 10.0.0.101:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:21:51.327836       1 gateway.go:748] "Request completed" requestID="1e2dafaa-96d2-4bc2-b33e-02bc6494e26c" targetPod="10.0.0.101:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:21:51.327849       1 gateway.go:764] "HandleResponseBody completed" requestID="1e2dafaa-96d2-4bc2-b33e-02bc6494e26c" promptTokens=7617 completionTokens=10 stream=true
I0305 08:21:51.342813       1 gateway.go:608] "First token received" requestID="dbb46fdb-1435-4c53-8606-281ce56cec9c" ttft_ms=115
I0305 08:21:51.385288       1 gateway.go:207] "Processing request" requestID="7b9bbde5-01a7-48ca-86c9-aee02984a35e"
I0305 08:21:51.385288       1 gateway.go:207] "Processing request" requestID="1c85bd6b-a88e-445f-836e-0544429eb6c7"
I0305 08:21:51.385316       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7b9bbde5-01a7-48ca-86c9-aee02984a35e"
I0305 08:21:51.385317       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1c85bd6b-a88e-445f-836e-0544429eb6c7"
I0305 08:21:51.385325       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:51.385326       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:51.386129       1 gateway.go:207] "Processing request" requestID="a2a25183-ca49-485d-bd91-35ff0bbbe97d"
I0305 08:21:51.386155       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a2a25183-ca49-485d-bd91-35ff0bbbe97d"
I0305 08:21:51.386163       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:51.386165       1 gateway.go:207] "Processing request" requestID="08b78c71-20f9-4f85-832d-4328b0b46605"
I0305 08:21:51.386179       1 gateway.go:207] "Processing request" requestID="55a85b56-1cf9-4d79-872b-3e9818bf379b"
I0305 08:21:51.386196       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="08b78c71-20f9-4f85-832d-4328b0b46605"
I0305 08:21:51.386207       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:51.386208       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="55a85b56-1cf9-4d79-872b-3e9818bf379b"
I0305 08:21:51.386217       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:51.515575       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9bab4dca, selectedpod, 10.0.0.134:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7611, numOutputTokens, 10, numTotalTokens, 7621
I0305 08:21:51.515599       1 gateway.go:748] "Request completed" requestID="dbb46fdb-1435-4c53-8606-281ce56cec9c" targetPod="10.0.0.134:8000" promptTokens=7611 completionTokens=10 totalTokens=7621
I0305 08:21:51.515610       1 gateway.go:764] "HandleResponseBody completed" requestID="dbb46fdb-1435-4c53-8606-281ce56cec9c" promptTokens=7611 completionTokens=10 stream=true
I0305 08:21:51.565972       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5352db55-4efa-4b21-9964-0c1a6ade4763"
I0305 08:21:51.566227       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5352db55-4efa-4b21-9964-0c1a6ade4763" model="qwen2-5-7b-instruct"
I0305 08:21:51.566311       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:51.566319       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:51.566323       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:51.566419       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:51.566439       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:51.566445       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:51.631805       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0654, numInputTokens, 7598
I0305 08:21:51.631826       1 tree.go:471] Updated node(0) last access: 121.8215 seconds
I0305 08:21:51.631834       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:51.631837       1 tree.go:471] Updated node(2) last access: 121.8216 seconds
I0305 08:21:51.631850       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:21:51.631857       1 tree.go:471] Updated node(73) last access: 121.8216 seconds
I0305 08:21:51.631863       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:21:51.631869       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 08:21:51.631875       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:21:51.631883       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:51.631890       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:51.6318709 +0000 UTC m=+121.936772997]
I0305 08:21:51.631907       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:21:51.631916       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:21:51.631949       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:51.631958       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:51.631967       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.631973       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.631979       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.631985       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:51.631994       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:51.632004       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:51.632016       1 prefix_cache_and_load.go:584] latency, Route, 0.0657
I0305 08:21:51.632024       1 gateway.go:415] latency, selectTargetPod, 0.0657, target pod, 10.0.0.134:8000
I0305 08:21:51.632036       1 gateway.go:235] latency, HandleRequestBody, 0.0661
I0305 08:21:51.648369       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5352db55-4efa-4b21-9964-0c1a6ade4763"
I0305 08:21:51.691134       1 gateway.go:608] "First token received" requestID="5352db55-4efa-4b21-9964-0c1a6ade4763" ttft_ms=125
I0305 08:21:51.863933       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7a2d037e, selectedpod, 10.0.0.134:8000, ttft, 125, tpot, 19, e2e, 297, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:21:51.863960       1 gateway.go:748] "Request completed" requestID="5352db55-4efa-4b21-9964-0c1a6ade4763" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:21:51.863972       1 gateway.go:764] "HandleResponseBody completed" requestID="5352db55-4efa-4b21-9964-0c1a6ade4763" promptTokens=7617 completionTokens=10 stream=true
I0305 08:21:52.045633       1 gateway.go:207] "Processing request" requestID="412410f1-c075-4063-a4d2-0cb77652d1b6"
I0305 08:21:52.045692       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="412410f1-c075-4063-a4d2-0cb77652d1b6"
I0305 08:21:52.045701       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:52.078282       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1c85bd6b-a88e-445f-836e-0544429eb6c7"
I0305 08:21:52.078447       1 gateway.go:207] "Processing request" requestID="a9a8edfe-8821-419c-a0d6-67a2fc8b159c"
I0305 08:21:52.078446       1 gateway.go:207] "Processing request" requestID="3d358860-ac6f-4f3d-949f-60341ebea32d"
I0305 08:21:52.078478       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a9a8edfe-8821-419c-a0d6-67a2fc8b159c"
I0305 08:21:52.078479       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3d358860-ac6f-4f3d-949f-60341ebea32d"
I0305 08:21:52.078487       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:52.078487       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:52.078538       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1c85bd6b-a88e-445f-836e-0544429eb6c7" model="qwen2-5-7b-instruct"
I0305 08:21:52.078620       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:52.078627       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:52.078631       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:52.078736       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:52.078757       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:52.078762       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:52.108844       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7b9bbde5-01a7-48ca-86c9-aee02984a35e"
I0305 08:21:52.109075       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7b9bbde5-01a7-48ca-86c9-aee02984a35e" model="qwen2-5-7b-instruct"
I0305 08:21:52.135722       1 gateway.go:329] "-- In RequestBody processing ..." requestID="08b78c71-20f9-4f85-832d-4328b0b46605"
I0305 08:21:52.135955       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="08b78c71-20f9-4f85-832d-4328b0b46605" model="qwen2-5-7b-instruct"
I0305 08:21:52.137345       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0586, numInputTokens, 7599
I0305 08:21:52.137363       1 tree.go:471] Updated node(0) last access: 122.3271 seconds
I0305 08:21:52.137371       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:52.137376       1 tree.go:471] Updated node(2) last access: 122.3271 seconds
I0305 08:21:52.137389       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:21:52.137393       1 tree.go:471] Updated node(28) last access: 122.3271 seconds
I0305 08:21:52.137401       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:52.137407       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:21:52.137415       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:52.137423       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:52.137430       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:52.13740928 +0000 UTC m=+122.442311377]
I0305 08:21:52.137449       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:52.137458       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:52.137501       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7478
I0305 08:21:52.137511       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:52.137521       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.137527       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.137531       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.137537       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.137547       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:52.137559       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:52.137567       1 prefix_cache_and_load.go:584] latency, Route, 0.0589
I0305 08:21:52.137581       1 gateway.go:415] latency, selectTargetPod, 0.0590, target pod, 10.0.0.39:8000
I0305 08:21:52.137593       1 gateway.go:235] latency, HandleRequestBody, 0.0593
I0305 08:21:52.137617       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0285
I0305 08:21:52.137628       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:52.137632       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:52.137720       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:52.137742       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:52.137749       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:52.149771       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a2a25183-ca49-485d-bd91-35ff0bbbe97d"
I0305 08:21:52.150019       1 gateway.go:207] "Processing request" requestID="add5e8f2-dfbe-46c4-8ba5-431a2cab9931"
I0305 08:21:52.150064       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="add5e8f2-dfbe-46c4-8ba5-431a2cab9931"
I0305 08:21:52.150079       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:52.150116       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a2a25183-ca49-485d-bd91-35ff0bbbe97d" model="qwen2-5-7b-instruct"
I0305 08:21:52.159202       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1c85bd6b-a88e-445f-836e-0544429eb6c7"
I0305 08:21:52.202793       1 gateway.go:608] "First token received" requestID="1c85bd6b-a88e-445f-836e-0544429eb6c7" ttft_ms=124
I0305 08:21:52.208805       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0710, numInputTokens, 7602
I0305 08:21:52.208822       1 tree.go:471] Updated node(0) last access: 122.3985 seconds
I0305 08:21:52.208829       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:52.208835       1 tree.go:471] Updated node(2) last access: 122.3985 seconds
I0305 08:21:52.208851       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:21:52.208855       1 tree.go:471] Updated node(21) last access: 122.3986 seconds
I0305 08:21:52.208862       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 08:21:52.208867       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 08:21:52.208876       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:52.208884       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:52.208889       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:52.208871215 +0000 UTC m=+122.513773312]
I0305 08:21:52.208905       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 08:21:52.208918       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 08:21:52.208958       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7478
I0305 08:21:52.208969       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:52.208978       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.208985       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.208993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.209000       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.209012       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:52.209021       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:21:52.209032       1 prefix_cache_and_load.go:584] latency, Route, 0.0999
I0305 08:21:52.209046       1 gateway.go:415] latency, selectTargetPod, 0.0999, target pod, 10.0.3.41:8000
I0305 08:21:52.209060       1 gateway.go:235] latency, HandleRequestBody, 0.1002
I0305 08:21:52.209058       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0730
I0305 08:21:52.209069       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:52.209075       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:52.209150       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:52.209171       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:52.209177       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:52.224389       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7b9bbde5-01a7-48ca-86c9-aee02984a35e"
I0305 08:21:52.268219       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0590, numInputTokens, 7602
I0305 08:21:52.268236       1 tree.go:471] Updated node(0) last access: 122.4580 seconds
I0305 08:21:52.268243       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:52.268246       1 tree.go:471] Updated node(2) last access: 122.4580 seconds
I0305 08:21:52.268260       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:21:52.268264       1 tree.go:471] Updated node(28) last access: 122.4580 seconds
I0305 08:21:52.268268       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 08:21:52.268272       1 tree.go:471] Updated node(33) last access: 122.4580 seconds
I0305 08:21:52.268283       1 tree.go:667] Split complete - New node(89)
I0305 08:21:52.268287       1 tree.go:668] Split complete - Child node(29)
I0305 08:21:52.268292       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:21:52.268299       1 tree.go:471] Updated node(89) last access: 122.4580 seconds
I0305 08:21:52.268304       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:21:52.268309       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:21:52.268317       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:52.268324       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:52.268338       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:52.268311581 +0000 UTC m=+122.573213678]
I0305 08:21:52.268357       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7484, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:21:52.268366       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:21:52.268383       1 gateway.go:608] "First token received" requestID="7b9bbde5-01a7-48ca-86c9-aee02984a35e" ttft_ms=159
I0305 08:21:52.268408       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7484
I0305 08:21:52.268418       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:52.268428       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.268433       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.268437       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.268445       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.268452       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.268456       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.268465       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:52.268475       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:52.268485       1 prefix_cache_and_load.go:584] latency, Route, 0.1324
I0305 08:21:52.268499       1 gateway.go:415] latency, selectTargetPod, 0.1325, target pod, 10.0.0.39:8000
I0305 08:21:52.268511       1 gateway.go:235] latency, HandleRequestBody, 0.1328
I0305 08:21:52.268564       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1184
I0305 08:21:52.268574       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:52.268578       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:52.268656       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:52.268684       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:52.268689       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:52.285105       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="08b78c71-20f9-4f85-832d-4328b0b46605"
I0305 08:21:52.301693       1 gateway.go:207] "Processing request" requestID="a33a51d7-a7fe-4bcc-bb60-540018ccf96a"
I0305 08:21:52.301731       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a33a51d7-a7fe-4bcc-bb60-540018ccf96a"
I0305 08:21:52.301741       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:52.313317       1 gateway.go:329] "-- In RequestBody processing ..." requestID="55a85b56-1cf9-4d79-872b-3e9818bf379b"
I0305 08:21:52.313559       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="55a85b56-1cf9-4d79-872b-3e9818bf379b" model="qwen2-5-7b-instruct"
I0305 08:21:52.329221       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0605, numInputTokens, 7601
I0305 08:21:52.329237       1 tree.go:471] Updated node(0) last access: 122.5190 seconds
I0305 08:21:52.329243       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:52.329249       1 tree.go:471] Updated node(2) last access: 122.5190 seconds
I0305 08:21:52.329266       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:21:52.329272       1 tree.go:471] Updated node(10) last access: 122.5190 seconds
I0305 08:21:52.329279       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:52.329286       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:52.329298       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:52.329308       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:52.329318       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:52.329291018 +0000 UTC m=+122.634193124]
I0305 08:21:52.329351       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:52.329364       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:52.329412       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7478
I0305 08:21:52.329423       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:52.329432       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.329438       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.329445       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.329456       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.329471       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:52.329485       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:21:52.329500       1 prefix_cache_and_load.go:584] latency, Route, 0.1793
I0305 08:21:52.329519       1 gateway.go:415] latency, selectTargetPod, 0.1793, target pod, 10.0.0.101:8000
I0305 08:21:52.329540       1 gateway.go:235] latency, HandleRequestBody, 0.1798
I0305 08:21:52.329566       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0159
I0305 08:21:52.329572       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:52.329575       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:52.329634       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:52.329651       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:52.329655       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:52.331539       1 gateway.go:608] "First token received" requestID="08b78c71-20f9-4f85-832d-4328b0b46605" ttft_ms=195
I0305 08:21:52.348843       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a2a25183-ca49-485d-bd91-35ff0bbbe97d"
I0305 08:21:52.392042       1 gateway.go:608] "First token received" requestID="a2a25183-ca49-485d-bd91-35ff0bbbe97d" ttft_ms=242
I0305 08:21:52.412133       1 gateway.go:562] latency, 0.0004, summary, hash(request), 3357b9bb, selectedpod, 10.0.0.39:8000, ttft, 124, tpot, 23, e2e, 333, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:52.412177       1 gateway.go:748] "Request completed" requestID="1c85bd6b-a88e-445f-836e-0544429eb6c7" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:52.412197       1 gateway.go:764] "HandleResponseBody completed" requestID="1c85bd6b-a88e-445f-836e-0544429eb6c7" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:52.417516       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0879, numInputTokens, 7599
I0305 08:21:52.417533       1 tree.go:471] Updated node(0) last access: 122.6072 seconds
I0305 08:21:52.417539       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:52.417543       1 tree.go:471] Updated node(2) last access: 122.6073 seconds
I0305 08:21:52.417554       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:52.417557       1 tree.go:471] Updated node(16) last access: 122.6073 seconds
I0305 08:21:52.417567       1 tree.go:667] Split complete - New node(92)
I0305 08:21:52.417572       1 tree.go:668] Split complete - Child node(55)
I0305 08:21:52.417577       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:21:52.417583       1 tree.go:471] Updated node(92) last access: 122.6073 seconds
I0305 08:21:52.417588       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:21:52.417593       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:21:52.417600       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:52.417607       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:52.417612       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:52.417595426 +0000 UTC m=+122.722497523]
I0305 08:21:52.417629       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7479, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:21:52.417639       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:21:52.417682       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7479
I0305 08:21:52.417693       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:52.417703       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.417710       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.417715       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.417720       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.417724       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.417733       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:52.417744       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:52.417757       1 prefix_cache_and_load.go:584] latency, Route, 0.1041
I0305 08:21:52.417766       1 gateway.go:415] latency, selectTargetPod, 0.1041, target pod, 10.0.1.14:8000
I0305 08:21:52.417777       1 gateway.go:235] latency, HandleRequestBody, 0.1045
I0305 08:21:52.435247       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="55a85b56-1cf9-4d79-872b-3e9818bf379b"
I0305 08:21:52.440977       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6dd1d4d2, selectedpod, 10.0.3.41:8000, ttft, 159, tpot, 19, e2e, 332, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:52.440995       1 gateway.go:748] "Request completed" requestID="7b9bbde5-01a7-48ca-86c9-aee02984a35e" targetPod="10.0.3.41:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:52.441005       1 gateway.go:764] "HandleResponseBody completed" requestID="7b9bbde5-01a7-48ca-86c9-aee02984a35e" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:52.479342       1 gateway.go:608] "First token received" requestID="55a85b56-1cf9-4d79-872b-3e9818bf379b" ttft_ms=165
I0305 08:21:52.508257       1 gateway.go:562] latency, 0.0000, summary, hash(request), f3351890, selectedpod, 10.0.0.39:8000, ttft, 195, tpot, 19, e2e, 372, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:52.508278       1 gateway.go:748] "Request completed" requestID="08b78c71-20f9-4f85-832d-4328b0b46605" targetPod="10.0.0.39:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:52.508290       1 gateway.go:764] "HandleResponseBody completed" requestID="08b78c71-20f9-4f85-832d-4328b0b46605" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:52.564811       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7eb5fc54, selectedpod, 10.0.0.101:8000, ttft, 242, tpot, 19, e2e, 414, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:52.564830       1 gateway.go:748] "Request completed" requestID="a2a25183-ca49-485d-bd91-35ff0bbbe97d" targetPod="10.0.0.101:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:52.564840       1 gateway.go:764] "HandleResponseBody completed" requestID="a2a25183-ca49-485d-bd91-35ff0bbbe97d" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:52.652174       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2e36eac4, selectedpod, 10.0.1.14:8000, ttft, 165, tpot, 19, e2e, 338, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:52.652195       1 gateway.go:748] "Request completed" requestID="55a85b56-1cf9-4d79-872b-3e9818bf379b" targetPod="10.0.1.14:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:52.652206       1 gateway.go:764] "HandleResponseBody completed" requestID="55a85b56-1cf9-4d79-872b-3e9818bf379b" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:52.831427       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a33a51d7-a7fe-4bcc-bb60-540018ccf96a"
I0305 08:21:52.850381       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a33a51d7-a7fe-4bcc-bb60-540018ccf96a" model="qwen2-5-7b-instruct"
I0305 08:21:52.850472       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:52.850480       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:52.850483       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:52.850570       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:52.850594       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:52.850599       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:52.891505       1 gateway.go:329] "-- In RequestBody processing ..." requestID="412410f1-c075-4063-a4d2-0cb77652d1b6"
I0305 08:21:52.891738       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="412410f1-c075-4063-a4d2-0cb77652d1b6" model="qwen2-5-7b-instruct"
I0305 08:21:52.910042       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a9a8edfe-8821-419c-a0d6-67a2fc8b159c"
I0305 08:21:52.910290       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a9a8edfe-8821-419c-a0d6-67a2fc8b159c" model="qwen2-5-7b-instruct"
I0305 08:21:52.910346       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0597, numInputTokens, 7593
I0305 08:21:52.910362       1 tree.go:471] Updated node(0) last access: 123.1001 seconds
I0305 08:21:52.910369       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:52.910373       1 tree.go:471] Updated node(2) last access: 123.1001 seconds
I0305 08:21:52.910387       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:21:52.910391       1 tree.go:471] Updated node(36) last access: 123.1001 seconds
I0305 08:21:52.910401       1 tree.go:667] Split complete - New node(94)
I0305 08:21:52.910406       1 tree.go:668] Split complete - Child node(48)
I0305 08:21:52.910411       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 08:21:52.910416       1 tree.go:471] Updated node(94) last access: 123.1001 seconds
I0305 08:21:52.910421       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:21:52.910425       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7593 tokens
I0305 08:21:52.910432       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 08:21:52.910439       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:52.910444       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:52.910427429 +0000 UTC m=+123.215329526]
I0305 08:21:52.910461       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7479, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:21:52.910470       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:21:52.910510       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7479
I0305 08:21:52.910521       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:52.910529       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.910535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.910538       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.910543       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.910548       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.910558       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:52.910567       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:52.910576       1 prefix_cache_and_load.go:584] latency, Route, 0.0601
I0305 08:21:52.910590       1 gateway.go:415] latency, selectTargetPod, 0.0601, target pod, 10.0.3.30:8000
I0305 08:21:52.910602       1 gateway.go:235] latency, HandleRequestBody, 0.0792
I0305 08:21:52.910625       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0188
I0305 08:21:52.910629       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:52.910632       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:52.910701       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:52.910718       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:52.910724       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:52.926945       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a33a51d7-a7fe-4bcc-bb60-540018ccf96a"
I0305 08:21:52.945133       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3d358860-ac6f-4f3d-949f-60341ebea32d"
I0305 08:21:52.945385       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3d358860-ac6f-4f3d-949f-60341ebea32d" model="qwen2-5-7b-instruct"
I0305 08:21:52.954586       1 gateway.go:207] "Processing request" requestID="7ddbb11e-3bc6-4cae-b9a6-ff9376e0208b"
I0305 08:21:52.954616       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7ddbb11e-3bc6-4cae-b9a6-ff9376e0208b"
I0305 08:21:52.954625       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:52.963546       1 gateway.go:608] "First token received" requestID="a33a51d7-a7fe-4bcc-bb60-540018ccf96a" ttft_ms=132
I0305 08:21:52.963551       1 gateway.go:207] "Processing request" requestID="d4a77036-a374-44ee-b8a3-a9245a142d1b"
I0305 08:21:52.963580       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d4a77036-a374-44ee-b8a3-a9245a142d1b"
I0305 08:21:52.963591       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:52.963545       1 gateway.go:329] "-- In RequestBody processing ..." requestID="add5e8f2-dfbe-46c4-8ba5-431a2cab9931"
I0305 08:21:52.963854       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="add5e8f2-dfbe-46c4-8ba5-431a2cab9931" model="qwen2-5-7b-instruct"
I0305 08:21:52.995596       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0849, numInputTokens, 7599
I0305 08:21:52.995613       1 tree.go:471] Updated node(0) last access: 123.1853 seconds
I0305 08:21:52.995620       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:52.995623       1 tree.go:471] Updated node(2) last access: 123.1853 seconds
I0305 08:21:52.995637       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:21:52.995642       1 tree.go:471] Updated node(45) last access: 123.1854 seconds
I0305 08:21:52.995649       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:52.995656       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:21:52.995674       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:52.995685       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:52.995692       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:52.995657848 +0000 UTC m=+123.300559945]
I0305 08:21:52.995707       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:52.995714       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:52.995757       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:52.995768       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:52.995776       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.995782       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.995789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.995794       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:52.995804       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:52.995813       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:52.995824       1 prefix_cache_and_load.go:584] latency, Route, 0.1040
I0305 08:21:52.995838       1 gateway.go:415] latency, selectTargetPod, 0.1040, target pod, 10.0.0.134:8000
I0305 08:21:52.995852       1 gateway.go:235] latency, HandleRequestBody, 0.1044
I0305 08:21:52.995879       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0855
I0305 08:21:52.995884       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:52.995887       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:52.995952       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:52.995972       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:52.995977       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:53.012937       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="412410f1-c075-4063-a4d2-0cb77652d1b6"
I0305 08:21:53.053004       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0570, numInputTokens, 7600
I0305 08:21:53.053019       1 tree.go:471] Updated node(0) last access: 123.2427 seconds
I0305 08:21:53.053026       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:53.053029       1 tree.go:471] Updated node(2) last access: 123.2427 seconds
I0305 08:21:53.053043       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:21:53.053047       1 tree.go:471] Updated node(57) last access: 123.2428 seconds
I0305 08:21:53.053054       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:21:53.053060       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:21:53.053067       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:53.053074       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:53.053081       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:53.053062242 +0000 UTC m=+123.357964339]
I0305 08:21:53.053096       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:21:53.053104       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:21:53.053142       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7478
I0305 08:21:53.053152       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:53.053161       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.053167       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.053174       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.053178       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.053188       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:53.053197       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:21:53.053207       1 prefix_cache_and_load.go:584] latency, Route, 0.1428
I0305 08:21:53.053221       1 gateway.go:415] latency, selectTargetPod, 0.1429, target pod, 10.0.1.28:8000
I0305 08:21:53.053231       1 gateway.go:235] latency, HandleRequestBody, 0.1432
I0305 08:21:53.053257       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1078
I0305 08:21:53.053262       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:53.053265       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:53.053319       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:53.053345       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:53.053351       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:53.056360       1 gateway.go:608] "First token received" requestID="412410f1-c075-4063-a4d2-0cb77652d1b6" ttft_ms=164
I0305 08:21:53.071949       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a9a8edfe-8821-419c-a0d6-67a2fc8b159c"
I0305 08:21:53.115957       1 gateway.go:608] "First token received" requestID="a9a8edfe-8821-419c-a0d6-67a2fc8b159c" ttft_ms=205
I0305 08:21:53.119106       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0657, numInputTokens, 7598
I0305 08:21:53.119125       1 tree.go:471] Updated node(0) last access: 123.3088 seconds
I0305 08:21:53.119132       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:53.119136       1 tree.go:471] Updated node(2) last access: 123.3089 seconds
I0305 08:21:53.119149       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:21:53.119153       1 tree.go:471] Updated node(28) last access: 123.3089 seconds
I0305 08:21:53.119158       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 08:21:53.119162       1 tree.go:471] Updated node(33) last access: 123.3089 seconds
I0305 08:21:53.119169       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:21:53.119175       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:21:53.119182       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:21:53.119188       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:53.119193       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:53.119176837 +0000 UTC m=+123.424078934]
I0305 08:21:53.119208       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:21:53.119215       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:21:53.119254       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7481
I0305 08:21:53.119268       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:53.119279       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.119285       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.119290       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.119297       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.119300       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.119309       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:53.119319       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:53.119342       1 prefix_cache_and_load.go:584] latency, Route, 0.1739
I0305 08:21:53.119361       1 gateway.go:415] latency, selectTargetPod, 0.1739, target pod, 10.0.0.39:8000
I0305 08:21:53.119374       1 gateway.go:235] latency, HandleRequestBody, 0.1742
I0305 08:21:53.119398       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1554
I0305 08:21:53.119403       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:53.119406       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:53.119466       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:53.119485       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:53.119492       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:53.136136       1 gateway.go:562] latency, 0.0000, summary, hash(request), bc11c86a, selectedpod, 10.0.3.30:8000, ttft, 132, tpot, 19, e2e, 304, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 08:21:53.136156       1 gateway.go:748] "Request completed" requestID="a33a51d7-a7fe-4bcc-bb60-540018ccf96a" targetPod="10.0.3.30:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 08:21:53.136173       1 gateway.go:764] "HandleResponseBody completed" requestID="a33a51d7-a7fe-4bcc-bb60-540018ccf96a" promptTokens=7613 completionTokens=10 stream=true
I0305 08:21:53.137304       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3d358860-ac6f-4f3d-949f-60341ebea32d"
I0305 08:21:53.142882       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7ddbb11e-3bc6-4cae-b9a6-ff9376e0208b"
I0305 08:21:53.143107       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7ddbb11e-3bc6-4cae-b9a6-ff9376e0208b" model="qwen2-5-7b-instruct"
I0305 08:21:53.180444       1 gateway.go:608] "First token received" requestID="3d358860-ac6f-4f3d-949f-60341ebea32d" ttft_ms=235
I0305 08:21:53.195499       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0760, numInputTokens, 7599
I0305 08:21:53.195520       1 tree.go:471] Updated node(0) last access: 123.3852 seconds
I0305 08:21:53.195529       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:53.195534       1 tree.go:471] Updated node(2) last access: 123.3852 seconds
I0305 08:21:53.195550       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:21:53.195556       1 tree.go:471] Updated node(21) last access: 123.3853 seconds
I0305 08:21:53.195566       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:53.195573       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:21:53.195582       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:53.195593       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:53.195601       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:53.195576248 +0000 UTC m=+123.500478349]
I0305 08:21:53.195622       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:53.195636       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:53.195686       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7478
I0305 08:21:53.195703       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:53.195718       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.195730       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.195740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.195751       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.195766       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:53.195780       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:21:53.195797       1 prefix_cache_and_load.go:584] latency, Route, 0.2318
I0305 08:21:53.195814       1 gateway.go:415] latency, selectTargetPod, 0.2318, target pod, 10.0.3.41:8000
I0305 08:21:53.195829       1 gateway.go:235] latency, HandleRequestBody, 0.2323
I0305 08:21:53.195858       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0527
I0305 08:21:53.195864       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:53.195868       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:53.195925       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:53.195948       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:53.195954       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:53.214439       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="add5e8f2-dfbe-46c4-8ba5-431a2cab9931"
I0305 08:21:53.229224       1 gateway.go:562] latency, 0.0001, summary, hash(request), 0bcbe15f, selectedpod, 10.0.0.134:8000, ttft, 164, tpot, 19, e2e, 337, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:53.229244       1 gateway.go:748] "Request completed" requestID="412410f1-c075-4063-a4d2-0cb77652d1b6" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:53.229258       1 gateway.go:764] "HandleResponseBody completed" requestID="412410f1-c075-4063-a4d2-0cb77652d1b6" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:53.256776       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d4a77036-a374-44ee-b8a3-a9245a142d1b"
I0305 08:21:53.256999       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d4a77036-a374-44ee-b8a3-a9245a142d1b" model="qwen2-5-7b-instruct"
I0305 08:21:53.263546       1 gateway.go:608] "First token received" requestID="add5e8f2-dfbe-46c4-8ba5-431a2cab9931" ttft_ms=299
I0305 08:21:53.282187       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0862, numInputTokens, 7599
I0305 08:21:53.282204       1 tree.go:471] Updated node(0) last access: 123.4719 seconds
I0305 08:21:53.282213       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:53.282219       1 tree.go:471] Updated node(2) last access: 123.4719 seconds
I0305 08:21:53.282235       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:21:53.282241       1 tree.go:471] Updated node(73) last access: 123.4720 seconds
I0305 08:21:53.282250       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:53.282255       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:21:53.282264       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:53.282275       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:53.282284       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:53.282258335 +0000 UTC m=+123.587160439]
I0305 08:21:53.282303       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:53.282315       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:53.282363       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:53.282378       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:53.282392       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.282404       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.282413       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.282424       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.282441       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:53.282455       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:53.282470       1 prefix_cache_and_load.go:584] latency, Route, 0.1393
I0305 08:21:53.282486       1 gateway.go:415] latency, selectTargetPod, 0.1393, target pod, 10.0.0.134:8000
I0305 08:21:53.282500       1 gateway.go:235] latency, HandleRequestBody, 0.1396
I0305 08:21:53.282528       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0255
I0305 08:21:53.282535       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:53.282539       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:53.282599       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:53.282622       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:53.282629       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:53.288900       1 gateway.go:562] latency, 0.0000, summary, hash(request), 043b2f90, selectedpod, 10.0.1.28:8000, ttft, 205, tpot, 19, e2e, 378, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:53.288928       1 gateway.go:748] "Request completed" requestID="a9a8edfe-8821-419c-a0d6-67a2fc8b159c" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:53.288945       1 gateway.go:764] "HandleResponseBody completed" requestID="a9a8edfe-8821-419c-a0d6-67a2fc8b159c" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:53.298842       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7ddbb11e-3bc6-4cae-b9a6-ff9376e0208b"
I0305 08:21:53.341757       1 gateway.go:608] "First token received" requestID="7ddbb11e-3bc6-4cae-b9a6-ff9376e0208b" ttft_ms=198
I0305 08:21:53.353520       1 gateway.go:562] latency, 0.0001, summary, hash(request), 90ca1194, selectedpod, 10.0.0.39:8000, ttft, 235, tpot, 19, e2e, 408, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:53.353540       1 gateway.go:748] "Request completed" requestID="3d358860-ac6f-4f3d-949f-60341ebea32d" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:53.353556       1 gateway.go:764] "HandleResponseBody completed" requestID="3d358860-ac6f-4f3d-949f-60341ebea32d" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:53.366992       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0844, numInputTokens, 7599
I0305 08:21:53.367009       1 tree.go:471] Updated node(0) last access: 123.5567 seconds
I0305 08:21:53.367016       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:53.367019       1 tree.go:471] Updated node(2) last access: 123.5567 seconds
I0305 08:21:53.367032       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:21:53.367037       1 tree.go:471] Updated node(36) last access: 123.5568 seconds
I0305 08:21:53.367043       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:53.367049       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:21:53.367055       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:53.367063       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:53.367069       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:53.367050955 +0000 UTC m=+123.671953052]
I0305 08:21:53.367086       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:53.367095       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:53.367130       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:53.367141       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:53.367149       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.367156       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.367163       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.367168       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.367179       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:53.367189       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:53.367200       1 prefix_cache_and_load.go:584] latency, Route, 0.1101
I0305 08:21:53.367210       1 gateway.go:415] latency, selectTargetPod, 0.1101, target pod, 10.0.3.30:8000
I0305 08:21:53.367222       1 gateway.go:235] latency, HandleRequestBody, 0.1104
I0305 08:21:53.368771       1 gateway.go:207] "Processing request" requestID="4ac9d6ec-fb45-4e42-901c-dcf91d12a599"
I0305 08:21:53.368798       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4ac9d6ec-fb45-4e42-901c-dcf91d12a599"
I0305 08:21:53.368807       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:53.382565       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d4a77036-a374-44ee-b8a3-a9245a142d1b"
I0305 08:21:53.425399       1 gateway.go:608] "First token received" requestID="d4a77036-a374-44ee-b8a3-a9245a142d1b" ttft_ms=168
I0305 08:21:53.426166       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4ac9d6ec-fb45-4e42-901c-dcf91d12a599"
I0305 08:21:53.426411       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4ac9d6ec-fb45-4e42-901c-dcf91d12a599" model="qwen2-5-7b-instruct"
I0305 08:21:53.426542       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:53.426549       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:53.426553       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:53.426629       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:53.426649       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:53.426655       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:53.431019       1 gateway.go:562] latency, 0.0001, summary, hash(request), ce738e63, selectedpod, 10.0.3.41:8000, ttft, 299, tpot, 18, e2e, 467, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:53.431040       1 gateway.go:748] "Request completed" requestID="add5e8f2-dfbe-46c4-8ba5-431a2cab9931" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:53.431054       1 gateway.go:764] "HandleResponseBody completed" requestID="add5e8f2-dfbe-46c4-8ba5-431a2cab9931" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:53.485639       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0590, numInputTokens, 7600
I0305 08:21:53.485656       1 tree.go:471] Updated node(0) last access: 123.6754 seconds
I0305 08:21:53.485675       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:53.485680       1 tree.go:471] Updated node(2) last access: 123.6754 seconds
I0305 08:21:53.485699       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:21:53.485704       1 tree.go:471] Updated node(73) last access: 123.6754 seconds
I0305 08:21:53.485712       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:21:53.485717       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:21:53.485724       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:53.485731       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:53.485738       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:53.485719219 +0000 UTC m=+123.790621316]
I0305 08:21:53.485757       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:21:53.485767       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:21:53.485804       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:53.485816       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:53.485825       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.485831       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.485835       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.485839       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.485848       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:53.485859       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:53.485868       1 prefix_cache_and_load.go:584] latency, Route, 0.0593
I0305 08:21:53.485878       1 gateway.go:415] latency, selectTargetPod, 0.0593, target pod, 10.0.0.134:8000
I0305 08:21:53.485889       1 gateway.go:235] latency, HandleRequestBody, 0.0597
I0305 08:21:53.504173       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4ac9d6ec-fb45-4e42-901c-dcf91d12a599"
I0305 08:21:53.524153       1 gateway.go:562] latency, 0.0001, summary, hash(request), 13acd843, selectedpod, 10.0.0.134:8000, ttft, 198, tpot, 20, e2e, 381, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:53.524174       1 gateway.go:748] "Request completed" requestID="7ddbb11e-3bc6-4cae-b9a6-ff9376e0208b" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:53.524186       1 gateway.go:764] "HandleResponseBody completed" requestID="7ddbb11e-3bc6-4cae-b9a6-ff9376e0208b" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:53.552034       1 gateway.go:207] "Processing request" requestID="21d9c3d1-100e-43b0-8b70-b9775f2d7e4b"
I0305 08:21:53.552058       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="21d9c3d1-100e-43b0-8b70-b9775f2d7e4b"
I0305 08:21:53.552067       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:53.555077       1 gateway.go:608] "First token received" requestID="4ac9d6ec-fb45-4e42-901c-dcf91d12a599" ttft_ms=128
I0305 08:21:53.598132       1 gateway.go:562] latency, 0.0001, summary, hash(request), 571c1b01, selectedpod, 10.0.3.30:8000, ttft, 168, tpot, 19, e2e, 341, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:53.598151       1 gateway.go:748] "Request completed" requestID="d4a77036-a374-44ee-b8a3-a9245a142d1b" targetPod="10.0.3.30:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:53.598163       1 gateway.go:764] "HandleResponseBody completed" requestID="d4a77036-a374-44ee-b8a3-a9245a142d1b" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:53.628850       1 gateway.go:329] "-- In RequestBody processing ..." requestID="21d9c3d1-100e-43b0-8b70-b9775f2d7e4b"
I0305 08:21:53.629076       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="21d9c3d1-100e-43b0-8b70-b9775f2d7e4b" model="qwen2-5-7b-instruct"
I0305 08:21:53.629146       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:53.629152       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:53.629155       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:53.629245       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:53.629263       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:53.629270       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:53.689796       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0605, numInputTokens, 7598
I0305 08:21:53.689822       1 tree.go:471] Updated node(0) last access: 123.8795 seconds
I0305 08:21:53.689830       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:53.689835       1 tree.go:471] Updated node(2) last access: 123.8796 seconds
I0305 08:21:53.689852       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:21:53.689856       1 tree.go:471] Updated node(45) last access: 123.8796 seconds
I0305 08:21:53.689867       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:21:53.689876       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:21:53.689887       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:21:53.689897       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:53.689906       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:53.689880274 +0000 UTC m=+123.994782381]
I0305 08:21:53.689932       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:21:53.689945       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:21:53.689993       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:53.690009       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:53.690023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.690034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.690044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.690054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.690068       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:53.690083       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:53.690100       1 prefix_cache_and_load.go:584] latency, Route, 0.0609
I0305 08:21:53.690113       1 gateway.go:415] latency, selectTargetPod, 0.0610, target pod, 10.0.0.134:8000
I0305 08:21:53.690128       1 gateway.go:235] latency, HandleRequestBody, 0.0613
I0305 08:21:53.706551       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="21d9c3d1-100e-43b0-8b70-b9775f2d7e4b"
I0305 08:21:53.749920       1 gateway.go:608] "First token received" requestID="21d9c3d1-100e-43b0-8b70-b9775f2d7e4b" ttft_ms=121
I0305 08:21:53.770841       1 gateway.go:562] latency, 0.0000, summary, hash(request), d5188f6e, selectedpod, 10.0.0.134:8000, ttft, 128, tpot, 23, e2e, 344, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:53.770863       1 gateway.go:748] "Request completed" requestID="4ac9d6ec-fb45-4e42-901c-dcf91d12a599" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:53.770875       1 gateway.go:764] "HandleResponseBody completed" requestID="4ac9d6ec-fb45-4e42-901c-dcf91d12a599" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:53.821343       1 gateway.go:207] "Processing request" requestID="7a6c2e6a-9604-4ef2-9ece-bb5796c5c981"
I0305 08:21:53.821382       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7a6c2e6a-9604-4ef2-9ece-bb5796c5c981"
I0305 08:21:53.821392       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:53.892607       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7a6c2e6a-9604-4ef2-9ece-bb5796c5c981"
I0305 08:21:53.892733       1 gateway.go:207] "Processing request" requestID="0963d2ba-881c-4b89-8a14-88c1dcb9b85d"
I0305 08:21:53.892760       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0963d2ba-881c-4b89-8a14-88c1dcb9b85d"
I0305 08:21:53.892768       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:53.892907       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7a6c2e6a-9604-4ef2-9ece-bb5796c5c981" model="qwen2-5-7b-instruct"
I0305 08:21:53.892992       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:53.893001       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:53.893006       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:53.893110       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:53.893129       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:53.893135       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:53.925247       1 gateway.go:562] latency, 0.0001, summary, hash(request), bd7e4698, selectedpod, 10.0.0.134:8000, ttft, 121, tpot, 19, e2e, 296, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:21:53.925265       1 gateway.go:748] "Request completed" requestID="21d9c3d1-100e-43b0-8b70-b9775f2d7e4b" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:21:53.925276       1 gateway.go:764] "HandleResponseBody completed" requestID="21d9c3d1-100e-43b0-8b70-b9775f2d7e4b" promptTokens=7617 completionTokens=10 stream=true
I0305 08:21:53.951679       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0585, numInputTokens, 7593
I0305 08:21:53.951695       1 tree.go:471] Updated node(0) last access: 124.1414 seconds
I0305 08:21:53.951701       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:53.951706       1 tree.go:471] Updated node(2) last access: 124.1414 seconds
I0305 08:21:53.951720       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:21:53.951725       1 tree.go:471] Updated node(10) last access: 124.1414 seconds
I0305 08:21:53.951737       1 tree.go:667] Split complete - New node(104)
I0305 08:21:53.951740       1 tree.go:668] Split complete - Child node(91)
I0305 08:21:53.951764       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 08:21:53.951770       1 tree.go:471] Updated node(104) last access: 124.1415 seconds
I0305 08:21:53.951776       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 08:21:53.951782       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7593 tokens
I0305 08:21:53.951789       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 08:21:53.951794       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:53.951801       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:53.951784126 +0000 UTC m=+124.256686223]
I0305 08:21:53.951816       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7483, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 08:21:53.951824       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 08:21:53.951865       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7483
I0305 08:21:53.951875       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:53.951885       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.951890       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.951896       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.951901       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.951905       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:53.951916       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:53.951928       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:21:53.951939       1 prefix_cache_and_load.go:584] latency, Route, 0.0589
I0305 08:21:53.951948       1 gateway.go:415] latency, selectTargetPod, 0.0590, target pod, 10.0.0.101:8000
I0305 08:21:53.951960       1 gateway.go:235] latency, HandleRequestBody, 0.0594
I0305 08:21:53.969486       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7a6c2e6a-9604-4ef2-9ece-bb5796c5c981"
I0305 08:21:54.005431       1 gateway.go:608] "First token received" requestID="7a6c2e6a-9604-4ef2-9ece-bb5796c5c981" ttft_ms=112
I0305 08:21:54.091249       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0963d2ba-881c-4b89-8a14-88c1dcb9b85d"
I0305 08:21:54.091444       1 gateway.go:207] "Processing request" requestID="da9b25ca-5196-40a8-851c-29975c1cb336"
I0305 08:21:54.091481       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="da9b25ca-5196-40a8-851c-29975c1cb336"
I0305 08:21:54.091537       1 gateway.go:230] latency, HandleRequestHeaders, 0.0001
I0305 08:21:54.091484       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0963d2ba-881c-4b89-8a14-88c1dcb9b85d" model="qwen2-5-7b-instruct"
I0305 08:21:54.091707       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:54.091718       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:54.091723       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:54.091836       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:54.091861       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:54.091867       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:54.151216       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0593, numInputTokens, 7598
I0305 08:21:54.151236       1 tree.go:471] Updated node(0) last access: 124.3410 seconds
I0305 08:21:54.151242       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:54.151245       1 tree.go:471] Updated node(2) last access: 124.3410 seconds
I0305 08:21:54.151260       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:21:54.151263       1 tree.go:471] Updated node(36) last access: 124.3410 seconds
I0305 08:21:54.151269       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:21:54.151276       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 08:21:54.151285       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:21:54.151295       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:54.151305       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:54.151278735 +0000 UTC m=+124.456180840]
I0305 08:21:54.151335       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:21:54.151348       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:21:54.151391       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:54.151403       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:54.151413       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.151423       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.151437       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.151446       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.151458       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:54.151468       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:54.151478       1 prefix_cache_and_load.go:584] latency, Route, 0.0598
I0305 08:21:54.151488       1 gateway.go:415] latency, selectTargetPod, 0.0598, target pod, 10.0.3.30:8000
I0305 08:21:54.151502       1 gateway.go:235] latency, HandleRequestBody, 0.0603
I0305 08:21:54.167611       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0963d2ba-881c-4b89-8a14-88c1dcb9b85d"
I0305 08:21:54.178462       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3e93b3f2, selectedpod, 10.0.0.101:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 08:21:54.178483       1 gateway.go:748] "Request completed" requestID="7a6c2e6a-9604-4ef2-9ece-bb5796c5c981" targetPod="10.0.0.101:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 08:21:54.178494       1 gateway.go:764] "HandleResponseBody completed" requestID="7a6c2e6a-9604-4ef2-9ece-bb5796c5c981" promptTokens=7612 completionTokens=10 stream=true
I0305 08:21:54.187943       1 gateway.go:329] "-- In RequestBody processing ..." requestID="da9b25ca-5196-40a8-851c-29975c1cb336"
I0305 08:21:54.188162       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="da9b25ca-5196-40a8-851c-29975c1cb336" model="qwen2-5-7b-instruct"
I0305 08:21:54.188236       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:54.188242       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:54.188245       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:54.188339       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:54.188359       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:54.188365       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:54.189976       1 gateway.go:207] "Processing request" requestID="4d27eb46-785b-4430-aa1b-8c2ac9e031e3"
I0305 08:21:54.190003       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4d27eb46-785b-4430-aa1b-8c2ac9e031e3"
I0305 08:21:54.190011       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:54.211022       1 gateway.go:608] "First token received" requestID="0963d2ba-881c-4b89-8a14-88c1dcb9b85d" ttft_ms=119
I0305 08:21:54.246703       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0583, numInputTokens, 7596
I0305 08:21:54.246719       1 tree.go:471] Updated node(0) last access: 124.4364 seconds
I0305 08:21:54.246725       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:54.246729       1 tree.go:471] Updated node(2) last access: 124.4364 seconds
I0305 08:21:54.246742       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:21:54.246746       1 tree.go:471] Updated node(6) last access: 124.4365 seconds
I0305 08:21:54.246756       1 tree.go:667] Split complete - New node(107)
I0305 08:21:54.246760       1 tree.go:668] Split complete - Child node(27)
I0305 08:21:54.246766       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:21:54.246772       1 tree.go:471] Updated node(107) last access: 124.4365 seconds
I0305 08:21:54.246777       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:21:54.246783       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:21:54.246789       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:21:54.246796       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:54.246802       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:54.24678543 +0000 UTC m=+124.551687528]
I0305 08:21:54.246818       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7483, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:21:54.246826       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:21:54.246868       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7483
I0305 08:21:54.246878       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:54.246888       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.246895       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.246902       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.246908       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.246913       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.246923       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:54.246933       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:54.246942       1 prefix_cache_and_load.go:584] latency, Route, 0.0587
I0305 08:21:54.246951       1 gateway.go:415] latency, selectTargetPod, 0.0587, target pod, 10.0.1.22:8000
I0305 08:21:54.246964       1 gateway.go:235] latency, HandleRequestBody, 0.0590
I0305 08:21:54.265755       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="da9b25ca-5196-40a8-851c-29975c1cb336"
I0305 08:21:54.302471       1 gateway.go:608] "First token received" requestID="da9b25ca-5196-40a8-851c-29975c1cb336" ttft_ms=114
I0305 08:21:54.355248       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4d27eb46-785b-4430-aa1b-8c2ac9e031e3"
I0305 08:21:54.355444       1 gateway.go:207] "Processing request" requestID="ed76dca2-cd5a-4984-94d0-75d770c5185e"
I0305 08:21:54.355447       1 gateway.go:207] "Processing request" requestID="83ced3fb-8f3c-4a63-bc95-b36d6da915d7"
I0305 08:21:54.355484       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="83ced3fb-8f3c-4a63-bc95-b36d6da915d7"
I0305 08:21:54.355492       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ed76dca2-cd5a-4984-94d0-75d770c5185e"
I0305 08:21:54.355495       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:54.355500       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:54.355505       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4d27eb46-785b-4430-aa1b-8c2ac9e031e3" model="qwen2-5-7b-instruct"
I0305 08:21:54.355575       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:54.355582       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:54.355586       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:54.355692       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:54.355716       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:54.355722       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:54.383976       1 gateway.go:562] latency, 0.0001, summary, hash(request), 90b77f3f, selectedpod, 10.0.3.30:8000, ttft, 119, tpot, 19, e2e, 292, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:21:54.383997       1 gateway.go:748] "Request completed" requestID="0963d2ba-881c-4b89-8a14-88c1dcb9b85d" targetPod="10.0.3.30:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:21:54.384008       1 gateway.go:764] "HandleResponseBody completed" requestID="0963d2ba-881c-4b89-8a14-88c1dcb9b85d" promptTokens=7617 completionTokens=10 stream=true
I0305 08:21:54.415974       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0602, numInputTokens, 7602
I0305 08:21:54.415991       1 tree.go:471] Updated node(0) last access: 124.6057 seconds
I0305 08:21:54.415997       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:54.416001       1 tree.go:471] Updated node(2) last access: 124.6057 seconds
I0305 08:21:54.416013       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:21:54.416019       1 tree.go:471] Updated node(45) last access: 124.6057 seconds
I0305 08:21:54.416029       1 tree.go:667] Split complete - New node(109)
I0305 08:21:54.416035       1 tree.go:668] Split complete - Child node(50)
I0305 08:21:54.416041       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:21:54.416046       1 tree.go:471] Updated node(109) last access: 124.6058 seconds
I0305 08:21:54.416051       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:21:54.416056       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:21:54.416064       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:54.416074       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:54.416082       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:54.4160579 +0000 UTC m=+124.720959998]
I0305 08:21:54.416102       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7487, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:21:54.416112       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:21:54.416161       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7487
I0305 08:21:54.416177       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:54.416189       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.416199       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.416206       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.416217       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.416231       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.416245       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:54.416261       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:54.416280       1 prefix_cache_and_load.go:584] latency, Route, 0.0607
I0305 08:21:54.416292       1 gateway.go:415] latency, selectTargetPod, 0.0607, target pod, 10.0.0.134:8000
I0305 08:21:54.416310       1 gateway.go:235] latency, HandleRequestBody, 0.0611
I0305 08:21:54.435400       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4d27eb46-785b-4430-aa1b-8c2ac9e031e3"
I0305 08:21:54.470586       1 gateway.go:608] "First token received" requestID="4d27eb46-785b-4430-aa1b-8c2ac9e031e3" ttft_ms=115
I0305 08:21:54.475136       1 gateway.go:562] latency, 0.0001, summary, hash(request), 777a1a47, selectedpod, 10.0.1.22:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:21:54.475155       1 gateway.go:748] "Request completed" requestID="da9b25ca-5196-40a8-851c-29975c1cb336" targetPod="10.0.1.22:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:21:54.475168       1 gateway.go:764] "HandleResponseBody completed" requestID="da9b25ca-5196-40a8-851c-29975c1cb336" promptTokens=7615 completionTokens=10 stream=true
I0305 08:21:54.562836       1 gateway.go:207] "Processing request" requestID="94c29a19-faa0-4614-8cb4-4c4d71024ec0"
I0305 08:21:54.562863       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="94c29a19-faa0-4614-8cb4-4c4d71024ec0"
I0305 08:21:54.562872       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:54.599885       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ed76dca2-cd5a-4984-94d0-75d770c5185e"
I0305 08:21:54.599976       1 gateway.go:207] "Processing request" requestID="58a99b1b-6be1-4500-bd7a-961767dfc19f"
I0305 08:21:54.599994       1 gateway.go:207] "Processing request" requestID="6a77df30-4688-478f-bd3c-c6686ca1bb9f"
I0305 08:21:54.600033       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6a77df30-4688-478f-bd3c-c6686ca1bb9f"
I0305 08:21:54.600044       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:54.599996       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="58a99b1b-6be1-4500-bd7a-961767dfc19f"
I0305 08:21:54.600067       1 gateway.go:230] latency, HandleRequestHeaders, 0.0001
I0305 08:21:54.600190       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ed76dca2-cd5a-4984-94d0-75d770c5185e" model="qwen2-5-7b-instruct"
I0305 08:21:54.600303       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:54.600314       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:54.600319       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:54.600437       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:54.600461       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:54.600470       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:54.608975       1 gateway.go:329] "-- In RequestBody processing ..." requestID="83ced3fb-8f3c-4a63-bc95-b36d6da915d7"
I0305 08:21:54.609411       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="83ced3fb-8f3c-4a63-bc95-b36d6da915d7" model="qwen2-5-7b-instruct"
I0305 08:21:54.643389       1 gateway.go:562] latency, 0.0001, summary, hash(request), fa12a647, selectedpod, 10.0.0.134:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:54.643408       1 gateway.go:748] "Request completed" requestID="4d27eb46-785b-4430-aa1b-8c2ac9e031e3" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:54.643419       1 gateway.go:764] "HandleResponseBody completed" requestID="4d27eb46-785b-4430-aa1b-8c2ac9e031e3" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:54.664462       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0640, numInputTokens, 7601
I0305 08:21:54.664481       1 tree.go:471] Updated node(0) last access: 124.8542 seconds
I0305 08:21:54.664488       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:54.664492       1 tree.go:471] Updated node(2) last access: 124.8542 seconds
I0305 08:21:54.664505       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:54.664509       1 tree.go:471] Updated node(16) last access: 124.8542 seconds
I0305 08:21:54.664513       1 tree.go:490] Partial tokens match child node(92). Continue to go deeper in the radix tree
I0305 08:21:54.664515       1 tree.go:471] Updated node(92) last access: 124.8542 seconds
I0305 08:21:54.664525       1 tree.go:667] Split complete - New node(111)
I0305 08:21:54.664530       1 tree.go:668] Split complete - Child node(93)
I0305 08:21:54.664536       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:21:54.664541       1 tree.go:471] Updated node(111) last access: 124.8543 seconds
I0305 08:21:54.664546       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:21:54.664550       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:54.664559       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:54.664565       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:54.664571       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:54.664554787 +0000 UTC m=+124.969456884]
I0305 08:21:54.664588       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7484, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:21:54.664598       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:21:54.664634       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7484
I0305 08:21:54.664644       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:54.664654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.664671       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.664675       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.664680       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.664686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.664689       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.664698       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:54.664709       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:54.664719       1 prefix_cache_and_load.go:584] latency, Route, 0.0644
I0305 08:21:54.664733       1 gateway.go:415] latency, selectTargetPod, 0.0644, target pod, 10.0.1.14:8000
I0305 08:21:54.664745       1 gateway.go:235] latency, HandleRequestBody, 0.0649
I0305 08:21:54.664776       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0552
I0305 08:21:54.664780       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:54.664783       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:54.664843       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:54.664863       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:54.664867       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:54.682501       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ed76dca2-cd5a-4984-94d0-75d770c5185e"
I0305 08:21:54.718326       1 gateway.go:608] "First token received" requestID="ed76dca2-cd5a-4984-94d0-75d770c5185e" ttft_ms=118
I0305 08:21:54.720871       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0560, numInputTokens, 7597
I0305 08:21:54.720887       1 tree.go:471] Updated node(0) last access: 124.9106 seconds
I0305 08:21:54.720894       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:54.720900       1 tree.go:471] Updated node(2) last access: 124.9106 seconds
I0305 08:21:54.720912       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:21:54.720916       1 tree.go:471] Updated node(28) last access: 124.9106 seconds
I0305 08:21:54.720921       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 08:21:54.720924       1 tree.go:471] Updated node(33) last access: 124.9106 seconds
I0305 08:21:54.720930       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:21:54.720936       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:21:54.720943       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:21:54.720950       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:54.720956       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:54.720938378 +0000 UTC m=+125.025840475]
I0305 08:21:54.720972       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7481, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:21:54.720980       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:21:54.721019       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7481
I0305 08:21:54.721029       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:54.721039       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.721044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.721050       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.721055       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.721058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:54.721067       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:54.721076       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:54.721085       1 prefix_cache_and_load.go:584] latency, Route, 0.1115
I0305 08:21:54.721094       1 gateway.go:415] latency, selectTargetPod, 0.1116, target pod, 10.0.0.39:8000
I0305 08:21:54.721104       1 gateway.go:235] latency, HandleRequestBody, 0.1121
I0305 08:21:54.739579       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="83ced3fb-8f3c-4a63-bc95-b36d6da915d7"
I0305 08:21:54.775262       1 gateway.go:608] "First token received" requestID="83ced3fb-8f3c-4a63-bc95-b36d6da915d7" ttft_ms=166
I0305 08:21:54.891026       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7f1e5862, selectedpod, 10.0.1.14:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:54.891046       1 gateway.go:748] "Request completed" requestID="ed76dca2-cd5a-4984-94d0-75d770c5185e" targetPod="10.0.1.14:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:54.891058       1 gateway.go:764] "HandleResponseBody completed" requestID="ed76dca2-cd5a-4984-94d0-75d770c5185e" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:54.947940       1 gateway.go:562] latency, 0.0000, summary, hash(request), 36bf9e31, selectedpod, 10.0.0.39:8000, ttft, 166, tpot, 19, e2e, 338, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:21:54.947960       1 gateway.go:748] "Request completed" requestID="83ced3fb-8f3c-4a63-bc95-b36d6da915d7" targetPod="10.0.0.39:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:21:54.947973       1 gateway.go:764] "HandleResponseBody completed" requestID="83ced3fb-8f3c-4a63-bc95-b36d6da915d7" promptTokens=7616 completionTokens=10 stream=true
I0305 08:21:54.971982       1 gateway.go:329] "-- In RequestBody processing ..." requestID="94c29a19-faa0-4614-8cb4-4c4d71024ec0"
I0305 08:21:54.972102       1 gateway.go:207] "Processing request" requestID="180e7d69-cd98-463b-a632-726ca9f79824"
I0305 08:21:54.972129       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="180e7d69-cd98-463b-a632-726ca9f79824"
I0305 08:21:54.972138       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:54.972237       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="94c29a19-faa0-4614-8cb4-4c4d71024ec0" model="qwen2-5-7b-instruct"
I0305 08:21:54.972321       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:54.972337       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:54.972341       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:54.972438       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:54.972458       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:54.972464       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:54.989703       1 gateway.go:329] "-- In RequestBody processing ..." requestID="58a99b1b-6be1-4500-bd7a-961767dfc19f"
I0305 08:21:54.989869       1 gateway.go:207] "Processing request" requestID="8244bbd1-6392-468a-8984-ffe66e97a760"
I0305 08:21:54.989903       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8244bbd1-6392-468a-8984-ffe66e97a760"
I0305 08:21:54.989914       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:54.989934       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="58a99b1b-6be1-4500-bd7a-961767dfc19f" model="qwen2-5-7b-instruct"
I0305 08:21:54.989867       1 gateway.go:207] "Processing request" requestID="ffa7044f-cf1f-43a4-a4d4-5fc1061cb51f"
I0305 08:21:54.989973       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ffa7044f-cf1f-43a4-a4d4-5fc1061cb51f"
I0305 08:21:54.989984       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:55.032392       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0599, numInputTokens, 7600
I0305 08:21:55.032410       1 tree.go:471] Updated node(0) last access: 125.2221 seconds
I0305 08:21:55.032417       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:55.032420       1 tree.go:471] Updated node(2) last access: 125.2221 seconds
I0305 08:21:55.032434       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:21:55.032437       1 tree.go:471] Updated node(6) last access: 125.2222 seconds
I0305 08:21:55.032449       1 tree.go:667] Split complete - New node(114)
I0305 08:21:55.032454       1 tree.go:668] Split complete - Child node(49)
I0305 08:21:55.032460       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:21:55.032466       1 tree.go:471] Updated node(114) last access: 125.2222 seconds
I0305 08:21:55.032471       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:21:55.032477       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:21:55.032483       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:55.032489       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:55.032495       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:55.032479253 +0000 UTC m=+125.337381350]
I0305 08:21:55.032512       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7481, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:21:55.032520       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:21:55.032561       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7481
I0305 08:21:55.032571       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:55.032580       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.032585       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.032590       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.032594       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.032598       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.032607       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:55.032619       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:55.032629       1 prefix_cache_and_load.go:584] latency, Route, 0.0603
I0305 08:21:55.032642       1 gateway.go:415] latency, selectTargetPod, 0.0603, target pod, 10.0.1.22:8000
I0305 08:21:55.032656       1 gateway.go:235] latency, HandleRequestBody, 0.0607
I0305 08:21:55.032682       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0427
I0305 08:21:55.032695       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:55.032699       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:55.032787       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:55.032809       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:55.032815       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:55.048020       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6a77df30-4688-478f-bd3c-c6686ca1bb9f"
I0305 08:21:55.048243       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6a77df30-4688-478f-bd3c-c6686ca1bb9f" model="qwen2-5-7b-instruct"
I0305 08:21:55.051634       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="94c29a19-faa0-4614-8cb4-4c4d71024ec0"
I0305 08:21:55.095196       1 gateway.go:608] "First token received" requestID="94c29a19-faa0-4614-8cb4-4c4d71024ec0" ttft_ms=123
I0305 08:21:55.106434       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0736, numInputTokens, 7597
I0305 08:21:55.106449       1 tree.go:471] Updated node(0) last access: 125.2962 seconds
I0305 08:21:55.106456       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:55.106460       1 tree.go:471] Updated node(2) last access: 125.2962 seconds
I0305 08:21:55.106475       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:55.106479       1 tree.go:471] Updated node(16) last access: 125.2962 seconds
I0305 08:21:55.106483       1 tree.go:490] Partial tokens match child node(92). Continue to go deeper in the radix tree
I0305 08:21:55.106487       1 tree.go:471] Updated node(92) last access: 125.2962 seconds
I0305 08:21:55.106490       1 tree.go:490] Partial tokens match child node(111). Continue to go deeper in the radix tree
I0305 08:21:55.106493       1 tree.go:471] Updated node(111) last access: 125.2962 seconds
I0305 08:21:55.106503       1 tree.go:667] Split complete - New node(116)
I0305 08:21:55.106507       1 tree.go:668] Split complete - Child node(93)
I0305 08:21:55.106512       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 08:21:55.106516       1 tree.go:471] Updated node(116) last access: 125.2962 seconds
I0305 08:21:55.106521       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0305 08:21:55.106527       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:21:55.106534       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:21:55.106541       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:55.106547       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:55.106529281 +0000 UTC m=+125.411431378]
I0305 08:21:55.106562       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7489, Matching ratio: 0.9858, # Matched pods: 0, Matched pods: []
I0305 08:21:55.106570       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9858 > 0.5000)
I0305 08:21:55.106614       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7489
I0305 08:21:55.106624       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:55.106634       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.106640       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.106645       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.106650       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.106656       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.106661       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.106676       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.106686       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:55.106696       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:55.106705       1 prefix_cache_and_load.go:584] latency, Route, 0.1167
I0305 08:21:55.106721       1 gateway.go:415] latency, selectTargetPod, 0.1167, target pod, 10.0.1.14:8000
I0305 08:21:55.106733       1 gateway.go:235] latency, HandleRequestBody, 0.1170
I0305 08:21:55.106754       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0584
I0305 08:21:55.106759       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:55.106762       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:55.106858       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:55.106884       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:55.106890       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:55.124914       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="58a99b1b-6be1-4500-bd7a-961767dfc19f"
I0305 08:21:55.159813       1 gateway.go:608] "First token received" requestID="58a99b1b-6be1-4500-bd7a-961767dfc19f" ttft_ms=170
I0305 08:21:55.188431       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0815, numInputTokens, 7599
I0305 08:21:55.188448       1 tree.go:471] Updated node(0) last access: 125.3782 seconds
I0305 08:21:55.188454       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:55.188458       1 tree.go:471] Updated node(2) last access: 125.3782 seconds
I0305 08:21:55.188474       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:21:55.188480       1 tree.go:471] Updated node(73) last access: 125.3782 seconds
I0305 08:21:55.188490       1 tree.go:667] Split complete - New node(118)
I0305 08:21:55.188494       1 tree.go:668] Split complete - Child node(81)
I0305 08:21:55.188499       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:21:55.188504       1 tree.go:471] Updated node(118) last access: 125.3782 seconds
I0305 08:21:55.188509       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:21:55.188515       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:21:55.188521       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:55.188528       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:55.188536       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:55.188516887 +0000 UTC m=+125.493418984]
I0305 08:21:55.188555       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7481, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:21:55.188564       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:21:55.188604       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7481
I0305 08:21:55.188614       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:55.188627       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.188634       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.188639       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.188644       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.188653       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.188678       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:55.188689       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:55.188702       1 prefix_cache_and_load.go:584] latency, Route, 0.1404
I0305 08:21:55.188711       1 gateway.go:415] latency, selectTargetPod, 0.1404, target pod, 10.0.0.134:8000
I0305 08:21:55.188723       1 gateway.go:235] latency, HandleRequestBody, 0.1407
I0305 08:21:55.205793       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6a77df30-4688-478f-bd3c-c6686ca1bb9f"
I0305 08:21:55.248608       1 gateway.go:608] "First token received" requestID="6a77df30-4688-478f-bd3c-c6686ca1bb9f" ttft_ms=200
I0305 08:21:55.267865       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5ff5c5d8, selectedpod, 10.0.1.22:8000, ttft, 123, tpot, 19, e2e, 295, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:55.267888       1 gateway.go:748] "Request completed" requestID="94c29a19-faa0-4614-8cb4-4c4d71024ec0" targetPod="10.0.1.22:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:55.267900       1 gateway.go:764] "HandleResponseBody completed" requestID="94c29a19-faa0-4614-8cb4-4c4d71024ec0" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:55.332655       1 gateway.go:562] latency, 0.0001, summary, hash(request), 89033503, selectedpod, 10.0.1.14:8000, ttft, 170, tpot, 19, e2e, 342, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:21:55.332689       1 gateway.go:748] "Request completed" requestID="58a99b1b-6be1-4500-bd7a-961767dfc19f" targetPod="10.0.1.14:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:21:55.332703       1 gateway.go:764] "HandleResponseBody completed" requestID="58a99b1b-6be1-4500-bd7a-961767dfc19f" promptTokens=7616 completionTokens=10 stream=true
I0305 08:21:55.345262       1 gateway.go:207] "Processing request" requestID="564bcaea-1db0-41c3-9d78-3ce36df3ca55"
I0305 08:21:55.345292       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="564bcaea-1db0-41c3-9d78-3ce36df3ca55"
I0305 08:21:55.345301       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:55.367602       1 gateway.go:329] "-- In RequestBody processing ..." requestID="180e7d69-cd98-463b-a632-726ca9f79824"
I0305 08:21:55.367901       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="180e7d69-cd98-463b-a632-726ca9f79824" model="qwen2-5-7b-instruct"
I0305 08:21:55.367986       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:55.367993       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:55.367996       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:55.368109       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:55.368132       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:55.368138       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:55.376508       1 gateway.go:207] "Processing request" requestID="58f8b8cc-43d9-4dcc-9973-96c20fbff6fd"
I0305 08:21:55.376550       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="58f8b8cc-43d9-4dcc-9973-96c20fbff6fd"
I0305 08:21:55.376562       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:55.389920       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ffa7044f-cf1f-43a4-a4d4-5fc1061cb51f"
I0305 08:21:55.390032       1 gateway.go:207] "Processing request" requestID="c4fff505-a75b-41b1-9fb1-903aec8aa10a"
I0305 08:21:55.390072       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c4fff505-a75b-41b1-9fb1-903aec8aa10a"
I0305 08:21:55.390085       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:55.390145       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ffa7044f-cf1f-43a4-a4d4-5fc1061cb51f" model="qwen2-5-7b-instruct"
I0305 08:21:55.421625       1 gateway.go:562] latency, 0.0000, summary, hash(request), 87b3ce5e, selectedpod, 10.0.0.134:8000, ttft, 200, tpot, 19, e2e, 373, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:55.421646       1 gateway.go:748] "Request completed" requestID="6a77df30-4688-478f-bd3c-c6686ca1bb9f" targetPod="10.0.0.134:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:55.421656       1 gateway.go:764] "HandleResponseBody completed" requestID="6a77df30-4688-478f-bd3c-c6686ca1bb9f" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:55.422409       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8244bbd1-6392-468a-8984-ffe66e97a760"
I0305 08:21:55.422649       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8244bbd1-6392-468a-8984-ffe66e97a760" model="qwen2-5-7b-instruct"
I0305 08:21:55.428884       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0607, numInputTokens, 7600
I0305 08:21:55.428900       1 tree.go:471] Updated node(0) last access: 125.6186 seconds
I0305 08:21:55.428907       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:55.428910       1 tree.go:471] Updated node(2) last access: 125.6186 seconds
I0305 08:21:55.428925       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:21:55.428929       1 tree.go:471] Updated node(10) last access: 125.6186 seconds
I0305 08:21:55.428933       1 tree.go:490] Partial tokens match child node(14). Continue to go deeper in the radix tree
I0305 08:21:55.428937       1 tree.go:471] Updated node(14) last access: 125.6187 seconds
I0305 08:21:55.428940       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 08:21:55.428943       1 tree.go:471] Updated node(18) last access: 125.6187 seconds
I0305 08:21:55.428949       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:21:55.428954       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:21:55.428961       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:55.428969       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:55.428974       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:55.428955993 +0000 UTC m=+125.733858090]
I0305 08:21:55.428991       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:21:55.428998       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:21:55.429044       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7484
I0305 08:21:55.429054       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:55.429064       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.429070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.429075       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.429081       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.429086       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.429092       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.429102       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:55.429113       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:21:55.429125       1 prefix_cache_and_load.go:584] latency, Route, 0.0611
I0305 08:21:55.429138       1 gateway.go:415] latency, selectTargetPod, 0.0612, target pod, 10.0.0.101:8000
I0305 08:21:55.429147       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0389
I0305 08:21:55.429152       1 gateway.go:235] latency, HandleRequestBody, 0.0616
I0305 08:21:55.429153       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:55.429158       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:55.429253       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:55.429279       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:55.429285       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:55.463519       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="180e7d69-cd98-463b-a632-726ca9f79824"
I0305 08:21:55.484464       1 gateway.go:608] "First token received" requestID="180e7d69-cd98-463b-a632-726ca9f79824" ttft_ms=116
I0305 08:21:55.509670       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0804, numInputTokens, 7596
I0305 08:21:55.509688       1 tree.go:471] Updated node(0) last access: 125.6994 seconds
I0305 08:21:55.509695       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:55.509698       1 tree.go:471] Updated node(2) last access: 125.6994 seconds
I0305 08:21:55.509710       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:21:55.509715       1 tree.go:471] Updated node(24) last access: 125.6994 seconds
I0305 08:21:55.509721       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:21:55.509727       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 08:21:55.509734       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:21:55.509741       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:55.509747       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:55.509729258 +0000 UTC m=+125.814631356]
I0305 08:21:55.509763       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:21:55.509772       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:21:55.509811       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:55.509821       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:55.509830       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.509837       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.509843       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.509848       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.509858       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:55.509867       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:55.509878       1 prefix_cache_and_load.go:584] latency, Route, 0.1196
I0305 08:21:55.509891       1 gateway.go:415] latency, selectTargetPod, 0.1197, target pod, 10.0.3.30:8000
I0305 08:21:55.509903       1 gateway.go:235] latency, HandleRequestBody, 0.1200
I0305 08:21:55.509929       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0872
I0305 08:21:55.509934       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:55.509937       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:55.510009       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:55.510055       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:55.510063       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:55.526048       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ffa7044f-cf1f-43a4-a4d4-5fc1061cb51f"
I0305 08:21:55.563527       1 gateway.go:608] "First token received" requestID="ffa7044f-cf1f-43a4-a4d4-5fc1061cb51f" ttft_ms=173
I0305 08:21:55.588038       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0780, numInputTokens, 7598
I0305 08:21:55.588057       1 tree.go:471] Updated node(0) last access: 125.7778 seconds
I0305 08:21:55.588066       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:55.588071       1 tree.go:471] Updated node(2) last access: 125.7778 seconds
I0305 08:21:55.588089       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:21:55.588095       1 tree.go:471] Updated node(73) last access: 125.7778 seconds
I0305 08:21:55.588100       1 tree.go:490] Partial tokens match child node(118). Continue to go deeper in the radix tree
I0305 08:21:55.588104       1 tree.go:471] Updated node(118) last access: 125.7778 seconds
I0305 08:21:55.588117       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:21:55.588124       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:21:55.588136       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:21:55.588147       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:55.588157       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:55.588127898 +0000 UTC m=+125.893029998]
I0305 08:21:55.588180       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:21:55.588193       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:21:55.588235       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7481
I0305 08:21:55.588250       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:55.588264       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.588272       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.588281       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.588289       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.588295       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:55.588307       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:55.588322       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:55.588347       1 prefix_cache_and_load.go:584] latency, Route, 0.1656
I0305 08:21:55.588359       1 gateway.go:415] latency, selectTargetPod, 0.1656, target pod, 10.0.0.134:8000
I0305 08:21:55.588373       1 gateway.go:235] latency, HandleRequestBody, 0.1660
I0305 08:21:55.607938       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8244bbd1-6392-468a-8984-ffe66e97a760"
I0305 08:21:55.650843       1 gateway.go:608] "First token received" requestID="8244bbd1-6392-468a-8984-ffe66e97a760" ttft_ms=228
I0305 08:21:55.657074       1 gateway.go:562] latency, 0.0001, summary, hash(request), 96efbd11, selectedpod, 10.0.0.101:8000, ttft, 116, tpot, 19, e2e, 289, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:55.657101       1 gateway.go:748] "Request completed" requestID="180e7d69-cd98-463b-a632-726ca9f79824" targetPod="10.0.0.101:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:55.657123       1 gateway.go:764] "HandleResponseBody completed" requestID="180e7d69-cd98-463b-a632-726ca9f79824" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:55.735271       1 gateway.go:562] latency, 0.0001, summary, hash(request), 682eb173, selectedpod, 10.0.3.30:8000, ttft, 173, tpot, 19, e2e, 345, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:21:55.735291       1 gateway.go:748] "Request completed" requestID="ffa7044f-cf1f-43a4-a4d4-5fc1061cb51f" targetPod="10.0.3.30:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:21:55.735302       1 gateway.go:764] "HandleResponseBody completed" requestID="ffa7044f-cf1f-43a4-a4d4-5fc1061cb51f" promptTokens=7615 completionTokens=10 stream=true
I0305 08:21:55.823691       1 gateway.go:562] latency, 0.0001, summary, hash(request), d7b03bd1, selectedpod, 10.0.0.134:8000, ttft, 228, tpot, 19, e2e, 401, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:21:55.823712       1 gateway.go:748] "Request completed" requestID="8244bbd1-6392-468a-8984-ffe66e97a760" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:21:55.823726       1 gateway.go:764] "HandleResponseBody completed" requestID="8244bbd1-6392-468a-8984-ffe66e97a760" promptTokens=7617 completionTokens=10 stream=true
I0305 08:21:56.063313       1 gateway.go:329] "-- In RequestBody processing ..." requestID="564bcaea-1db0-41c3-9d78-3ce36df3ca55"
I0305 08:21:56.063583       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="564bcaea-1db0-41c3-9d78-3ce36df3ca55" model="qwen2-5-7b-instruct"
I0305 08:21:56.063679       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:56.063687       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:56.063690       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:56.063797       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:56.063829       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:56.063835       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:56.086456       1 gateway.go:329] "-- In RequestBody processing ..." requestID="58f8b8cc-43d9-4dcc-9973-96c20fbff6fd"
I0305 08:21:56.086719       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="58f8b8cc-43d9-4dcc-9973-96c20fbff6fd" model="qwen2-5-7b-instruct"
I0305 08:21:56.099881       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c4fff505-a75b-41b1-9fb1-903aec8aa10a"
I0305 08:21:56.100097       1 gateway.go:207] "Processing request" requestID="3037bda3-9c81-4ca0-ab92-893f3fb599fe"
I0305 08:21:56.100132       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3037bda3-9c81-4ca0-ab92-893f3fb599fe"
I0305 08:21:56.100142       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:56.100386       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c4fff505-a75b-41b1-9fb1-903aec8aa10a" model="qwen2-5-7b-instruct"
I0305 08:21:56.124244       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0604, numInputTokens, 7602
I0305 08:21:56.124270       1 tree.go:471] Updated node(0) last access: 126.3140 seconds
I0305 08:21:56.124277       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:56.124281       1 tree.go:471] Updated node(2) last access: 126.3140 seconds
I0305 08:21:56.124294       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:21:56.124298       1 tree.go:471] Updated node(6) last access: 126.3140 seconds
I0305 08:21:56.124310       1 tree.go:667] Split complete - New node(123)
I0305 08:21:56.124316       1 tree.go:668] Split complete - Child node(35)
I0305 08:21:56.124321       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:21:56.124342       1 tree.go:471] Updated node(123) last access: 126.3140 seconds
I0305 08:21:56.124351       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:21:56.124360       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:21:56.124370       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:56.124381       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:56.124390       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:56.124362721 +0000 UTC m=+126.429264822]
I0305 08:21:56.124417       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7482, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:21:56.124430       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:21:56.124507       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7482
I0305 08:21:56.124518       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:56.124529       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.124535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.124540       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.124544       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.124553       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.124562       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:56.124572       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:56.124586       1 prefix_cache_and_load.go:584] latency, Route, 0.0609
I0305 08:21:56.124602       1 gateway.go:415] latency, selectTargetPod, 0.0609, target pod, 10.0.1.22:8000
I0305 08:21:56.124613       1 gateway.go:235] latency, HandleRequestBody, 0.0613
I0305 08:21:56.124650       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0378
I0305 08:21:56.124676       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:56.124688       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:56.124835       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:56.124889       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:21:56.124896       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:56.142353       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="564bcaea-1db0-41c3-9d78-3ce36df3ca55"
I0305 08:21:56.185717       1 gateway.go:608] "First token received" requestID="564bcaea-1db0-41c3-9d78-3ce36df3ca55" ttft_ms=122
I0305 08:21:56.210867       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0860, numInputTokens, 7599
I0305 08:21:56.210887       1 tree.go:471] Updated node(0) last access: 126.4006 seconds
I0305 08:21:56.210894       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:56.210898       1 tree.go:471] Updated node(2) last access: 126.4006 seconds
I0305 08:21:56.210913       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:56.210918       1 tree.go:471] Updated node(16) last access: 126.4006 seconds
I0305 08:21:56.210924       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:56.210930       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:21:56.210938       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:56.210945       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:56.210951       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:56.210932563 +0000 UTC m=+126.515834660]
I0305 08:21:56.210968       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:56.210977       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:56.211018       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7478
I0305 08:21:56.211029       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:56.211039       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.211046       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.211053       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.211058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.211067       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:56.211076       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:56.211088       1 prefix_cache_and_load.go:584] latency, Route, 0.1243
I0305 08:21:56.211104       1 gateway.go:415] latency, selectTargetPod, 0.1243, target pod, 10.0.1.14:8000
I0305 08:21:56.211118       1 gateway.go:235] latency, HandleRequestBody, 0.1247
I0305 08:21:56.211145       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1106
I0305 08:21:56.211150       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:56.211153       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:56.211247       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:56.211270       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:56.211275       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:56.228815       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="58f8b8cc-43d9-4dcc-9973-96c20fbff6fd"
I0305 08:21:56.270783       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0595, numInputTokens, 7602
I0305 08:21:56.270805       1 tree.go:471] Updated node(0) last access: 126.4605 seconds
I0305 08:21:56.270812       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:56.270815       1 tree.go:471] Updated node(2) last access: 126.4605 seconds
I0305 08:21:56.270829       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:21:56.270834       1 tree.go:471] Updated node(73) last access: 126.4606 seconds
I0305 08:21:56.270844       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 08:21:56.270850       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 08:21:56.270859       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:56.270866       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:56.270872       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:56.270852537 +0000 UTC m=+126.575754634]
I0305 08:21:56.270891       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 08:21:56.270900       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 08:21:56.270945       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:56.270955       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:56.270965       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.270969       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.270973       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.270977       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.270986       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:56.270998       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:56.271010       1 prefix_cache_and_load.go:584] latency, Route, 0.1705
I0305 08:21:56.271020       1 gateway.go:415] latency, selectTargetPod, 0.1705, target pod, 10.0.0.134:8000
I0305 08:21:56.271029       1 gateway.go:235] latency, HandleRequestBody, 0.1712
I0305 08:21:56.271744       1 gateway.go:608] "First token received" requestID="58f8b8cc-43d9-4dcc-9973-96c20fbff6fd" ttft_ms=185
I0305 08:21:56.287687       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c4fff505-a75b-41b1-9fb1-903aec8aa10a"
I0305 08:21:56.301280       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3037bda3-9c81-4ca0-ab92-893f3fb599fe"
I0305 08:21:56.301553       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3037bda3-9c81-4ca0-ab92-893f3fb599fe" model="qwen2-5-7b-instruct"
I0305 08:21:56.301699       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:56.301709       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:56.301712       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:56.301821       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:56.301850       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:56.301859       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:56.310200       1 gateway.go:207] "Processing request" requestID="23be0586-5330-445b-9bde-6e0489be8373"
I0305 08:21:56.310231       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="23be0586-5330-445b-9bde-6e0489be8373"
I0305 08:21:56.310240       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:56.310299       1 gateway.go:207] "Processing request" requestID="96cc2d4d-50df-4b91-b557-1320b53c4ed2"
I0305 08:21:56.310334       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="96cc2d4d-50df-4b91-b557-1320b53c4ed2"
I0305 08:21:56.310349       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:56.310299       1 gateway.go:207] "Processing request" requestID="c8e2a852-1838-416a-a8fe-59ae16d79fbd"
I0305 08:21:56.310393       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c8e2a852-1838-416a-a8fe-59ae16d79fbd"
I0305 08:21:56.310402       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:56.330057       1 gateway.go:608] "First token received" requestID="c4fff505-a75b-41b1-9fb1-903aec8aa10a" ttft_ms=230
I0305 08:21:56.359067       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3ccb81f7, selectedpod, 10.0.1.22:8000, ttft, 122, tpot, 19, e2e, 295, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:56.359085       1 gateway.go:748] "Request completed" requestID="564bcaea-1db0-41c3-9d78-3ce36df3ca55" targetPod="10.0.1.22:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:56.359097       1 gateway.go:764] "HandleResponseBody completed" requestID="564bcaea-1db0-41c3-9d78-3ce36df3ca55" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:56.363051       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0612, numInputTokens, 7599
I0305 08:21:56.363068       1 tree.go:471] Updated node(0) last access: 126.5528 seconds
I0305 08:21:56.363074       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:56.363078       1 tree.go:471] Updated node(2) last access: 126.5528 seconds
I0305 08:21:56.363091       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:21:56.363094       1 tree.go:471] Updated node(6) last access: 126.5528 seconds
I0305 08:21:56.363098       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 08:21:56.363103       1 tree.go:471] Updated node(123) last access: 126.5528 seconds
I0305 08:21:56.363112       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:21:56.363117       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:21:56.363124       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:56.363131       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:56.363137       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:56.363118851 +0000 UTC m=+126.668020948]
I0305 08:21:56.363153       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7482, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:21:56.363160       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:21:56.363204       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7482
I0305 08:21:56.363214       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:56.363223       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.363229       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.363232       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.363236       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.363243       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.363252       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:56.363262       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:56.363272       1 prefix_cache_and_load.go:584] latency, Route, 0.0616
I0305 08:21:56.363281       1 gateway.go:415] latency, selectTargetPod, 0.0616, target pod, 10.0.1.22:8000
I0305 08:21:56.363292       1 gateway.go:235] latency, HandleRequestBody, 0.0620
I0305 08:21:56.383558       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3037bda3-9c81-4ca0-ab92-893f3fb599fe"
I0305 08:21:56.426504       1 gateway.go:608] "First token received" requestID="3037bda3-9c81-4ca0-ab92-893f3fb599fe" ttft_ms=125
I0305 08:21:56.444455       1 gateway.go:562] latency, 0.0000, summary, hash(request), e608a3a9, selectedpod, 10.0.1.14:8000, ttft, 185, tpot, 19, e2e, 357, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:56.444476       1 gateway.go:748] "Request completed" requestID="58f8b8cc-43d9-4dcc-9973-96c20fbff6fd" targetPod="10.0.1.14:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:56.444487       1 gateway.go:764] "HandleResponseBody completed" requestID="58f8b8cc-43d9-4dcc-9973-96c20fbff6fd" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:56.504358       1 gateway.go:562] latency, 0.0001, summary, hash(request), 053eff7b, selectedpod, 10.0.0.134:8000, ttft, 230, tpot, 19, e2e, 404, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:56.504378       1 gateway.go:748] "Request completed" requestID="c4fff505-a75b-41b1-9fb1-903aec8aa10a" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:56.504392       1 gateway.go:764] "HandleResponseBody completed" requestID="c4fff505-a75b-41b1-9fb1-903aec8aa10a" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:56.509161       1 gateway.go:329] "-- In RequestBody processing ..." requestID="23be0586-5330-445b-9bde-6e0489be8373"
I0305 08:21:56.509419       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="23be0586-5330-445b-9bde-6e0489be8373" model="qwen2-5-7b-instruct"
I0305 08:21:56.509512       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:56.509522       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:56.509526       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:56.509636       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:56.509659       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:56.509681       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:56.569880       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0602, numInputTokens, 7595
I0305 08:21:56.569900       1 tree.go:471] Updated node(0) last access: 126.7596 seconds
I0305 08:21:56.569906       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:56.569910       1 tree.go:471] Updated node(2) last access: 126.7596 seconds
I0305 08:21:56.569922       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:21:56.569924       1 tree.go:471] Updated node(24) last access: 126.7596 seconds
I0305 08:21:56.569938       1 tree.go:667] Split complete - New node(128)
I0305 08:21:56.569945       1 tree.go:668] Split complete - Child node(121)
I0305 08:21:56.569953       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:21:56.569959       1 tree.go:471] Updated node(128) last access: 126.7597 seconds
I0305 08:21:56.569966       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:21:56.569971       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 08:21:56.569978       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 08:21:56.569986       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:56.569994       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:56.569973475 +0000 UTC m=+126.874875572]
I0305 08:21:56.570013       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7480, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:21:56.570025       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:21:56.570078       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7480
I0305 08:21:56.570089       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:56.570099       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.570109       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.570117       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.570126       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.570132       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.570143       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:56.570153       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:56.570163       1 prefix_cache_and_load.go:584] latency, Route, 0.0606
I0305 08:21:56.570173       1 gateway.go:415] latency, selectTargetPod, 0.0607, target pod, 10.0.3.30:8000
I0305 08:21:56.570188       1 gateway.go:235] latency, HandleRequestBody, 0.0610
I0305 08:21:56.572267       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c8e2a852-1838-416a-a8fe-59ae16d79fbd"
I0305 08:21:56.572523       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c8e2a852-1838-416a-a8fe-59ae16d79fbd" model="qwen2-5-7b-instruct"
I0305 08:21:56.572615       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:56.572622       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:56.572625       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:56.572721       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:56.572746       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:56.572754       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:56.586548       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="23be0586-5330-445b-9bde-6e0489be8373"
I0305 08:21:56.600466       1 gateway.go:562] latency, 0.0001, summary, hash(request), f7af61af, selectedpod, 10.0.1.22:8000, ttft, 125, tpot, 19, e2e, 299, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:56.600488       1 gateway.go:748] "Request completed" requestID="3037bda3-9c81-4ca0-ab92-893f3fb599fe" targetPod="10.0.1.22:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:56.600501       1 gateway.go:764] "HandleResponseBody completed" requestID="3037bda3-9c81-4ca0-ab92-893f3fb599fe" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:56.622791       1 gateway.go:608] "First token received" requestID="23be0586-5330-445b-9bde-6e0489be8373" ttft_ms=113
I0305 08:21:56.631560       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0588, numInputTokens, 7597
I0305 08:21:56.631579       1 tree.go:471] Updated node(0) last access: 126.8213 seconds
I0305 08:21:56.631585       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:56.631589       1 tree.go:471] Updated node(2) last access: 126.8213 seconds
I0305 08:21:56.631602       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:21:56.631606       1 tree.go:471] Updated node(21) last access: 126.8213 seconds
I0305 08:21:56.631613       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:21:56.631618       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 08:21:56.631625       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:21:56.631673       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:56.631679       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:56.631620495 +0000 UTC m=+126.936522591]
I0305 08:21:56.631694       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:21:56.631704       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:21:56.631740       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7478
I0305 08:21:56.631750       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:56.631759       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.631765       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.631771       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.631775       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.631784       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:56.631795       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:21:56.631806       1 prefix_cache_and_load.go:584] latency, Route, 0.0592
I0305 08:21:56.631815       1 gateway.go:415] latency, selectTargetPod, 0.0592, target pod, 10.0.3.41:8000
I0305 08:21:56.631825       1 gateway.go:235] latency, HandleRequestBody, 0.0596
I0305 08:21:56.647303       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c8e2a852-1838-416a-a8fe-59ae16d79fbd"
I0305 08:21:56.683537       1 gateway.go:608] "First token received" requestID="c8e2a852-1838-416a-a8fe-59ae16d79fbd" ttft_ms=111
I0305 08:21:56.795672       1 gateway.go:562] latency, 0.0001, summary, hash(request), d5f9798e, selectedpod, 10.0.3.30:8000, ttft, 113, tpot, 19, e2e, 286, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 08:21:56.795695       1 gateway.go:748] "Request completed" requestID="23be0586-5330-445b-9bde-6e0489be8373" targetPod="10.0.3.30:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 08:21:56.795706       1 gateway.go:764] "HandleResponseBody completed" requestID="23be0586-5330-445b-9bde-6e0489be8373" promptTokens=7614 completionTokens=10 stream=true
I0305 08:21:56.809360       1 gateway.go:207] "Processing request" requestID="b6732e6e-a0df-44b3-b32b-00802d047306"
I0305 08:21:56.809380       1 gateway.go:207] "Processing request" requestID="7f1e5ca1-abe5-458e-a6bb-b23097de8d8e"
I0305 08:21:56.809397       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b6732e6e-a0df-44b3-b32b-00802d047306"
I0305 08:21:56.809404       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7f1e5ca1-abe5-458e-a6bb-b23097de8d8e"
I0305 08:21:56.809409       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:56.809414       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:56.809362       1 gateway.go:207] "Processing request" requestID="f01106e3-0126-4770-95c0-3cf4682ea3d8"
I0305 08:21:56.809466       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f01106e3-0126-4770-95c0-3cf4682ea3d8"
I0305 08:21:56.809471       1 gateway.go:207] "Processing request" requestID="53085ff7-c0e6-404b-b457-7f3119f4d8b0"
I0305 08:21:56.809478       1 gateway.go:207] "Processing request" requestID="fcd9f0d4-5ce5-4f6e-b212-007dd62cfe8e"
I0305 08:21:56.809515       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="53085ff7-c0e6-404b-b457-7f3119f4d8b0"
I0305 08:21:56.809517       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fcd9f0d4-5ce5-4f6e-b212-007dd62cfe8e"
I0305 08:21:56.809526       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:56.809527       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:56.809479       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:56.827510       1 gateway.go:329] "-- In RequestBody processing ..." requestID="96cc2d4d-50df-4b91-b557-1320b53c4ed2"
I0305 08:21:56.852725       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="96cc2d4d-50df-4b91-b557-1320b53c4ed2" model="qwen2-5-7b-instruct"
I0305 08:21:56.852823       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:56.852830       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:56.852833       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:56.852932       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:56.852955       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:56.852960       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:56.856535       1 gateway.go:562] latency, 0.0000, summary, hash(request), 465a9d90, selectedpod, 10.0.3.41:8000, ttft, 111, tpot, 19, e2e, 284, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:21:56.856554       1 gateway.go:748] "Request completed" requestID="c8e2a852-1838-416a-a8fe-59ae16d79fbd" targetPod="10.0.3.41:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:21:56.856564       1 gateway.go:764] "HandleResponseBody completed" requestID="c8e2a852-1838-416a-a8fe-59ae16d79fbd" promptTokens=7616 completionTokens=10 stream=true
I0305 08:21:56.910509       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0575, numInputTokens, 7595
I0305 08:21:56.910525       1 tree.go:471] Updated node(0) last access: 127.1002 seconds
I0305 08:21:56.910532       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:56.910535       1 tree.go:471] Updated node(2) last access: 127.1003 seconds
I0305 08:21:56.910550       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:21:56.910553       1 tree.go:471] Updated node(16) last access: 127.1003 seconds
I0305 08:21:56.910556       1 tree.go:490] Partial tokens match child node(92). Continue to go deeper in the radix tree
I0305 08:21:56.910561       1 tree.go:471] Updated node(92) last access: 127.1003 seconds
I0305 08:21:56.910564       1 tree.go:490] Partial tokens match child node(111). Continue to go deeper in the radix tree
I0305 08:21:56.910568       1 tree.go:471] Updated node(111) last access: 127.1003 seconds
I0305 08:21:56.910574       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 08:21:56.910580       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 08:21:56.910587       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 08:21:56.910594       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:56.910599       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:56.910581803 +0000 UTC m=+127.215483900]
I0305 08:21:56.910621       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7484, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 08:21:56.910634       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 08:21:56.910715       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7484
I0305 08:21:56.910730       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:56.910740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.910747       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.910752       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.910757       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.910762       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.910767       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:56.910782       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:56.910797       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:21:56.910813       1 prefix_cache_and_load.go:584] latency, Route, 0.0580
I0305 08:21:56.910826       1 gateway.go:415] latency, selectTargetPod, 0.0580, target pod, 10.0.1.14:8000
I0305 08:21:56.910844       1 gateway.go:235] latency, HandleRequestBody, 0.0833
I0305 08:21:56.929991       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="96cc2d4d-50df-4b91-b557-1320b53c4ed2"
I0305 08:21:56.953492       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7f1e5ca1-abe5-458e-a6bb-b23097de8d8e"
I0305 08:21:56.953753       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7f1e5ca1-abe5-458e-a6bb-b23097de8d8e" model="qwen2-5-7b-instruct"
I0305 08:21:56.953963       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:56.953979       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:56.953984       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:56.954341       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:56.954439       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:21:56.954449       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:56.964929       1 gateway.go:608] "First token received" requestID="96cc2d4d-50df-4b91-b557-1320b53c4ed2" ttft_ms=137
I0305 08:21:57.013038       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0586, numInputTokens, 7597
I0305 08:21:57.013056       1 tree.go:471] Updated node(0) last access: 127.2028 seconds
I0305 08:21:57.013062       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:57.013066       1 tree.go:471] Updated node(2) last access: 127.2028 seconds
I0305 08:21:57.013080       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:21:57.013084       1 tree.go:471] Updated node(24) last access: 127.2028 seconds
I0305 08:21:57.013091       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:21:57.013096       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 08:21:57.013103       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:21:57.013110       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:57.013116       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:57.013098333 +0000 UTC m=+127.318000430]
I0305 08:21:57.013132       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:21:57.013141       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:21:57.013183       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:57.013195       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:57.013204       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.013211       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.013216       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.013222       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.013232       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:57.013243       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:57.013253       1 prefix_cache_and_load.go:584] latency, Route, 0.0593
I0305 08:21:57.013263       1 gateway.go:415] latency, selectTargetPod, 0.0593, target pod, 10.0.3.30:8000
I0305 08:21:57.013275       1 gateway.go:235] latency, HandleRequestBody, 0.0598
I0305 08:21:57.028846       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7f1e5ca1-abe5-458e-a6bb-b23097de8d8e"
I0305 08:21:57.064223       1 gateway.go:608] "First token received" requestID="7f1e5ca1-abe5-458e-a6bb-b23097de8d8e" ttft_ms=110
I0305 08:21:57.137458       1 gateway.go:562] latency, 0.0001, summary, hash(request), 19b4fb4d, selectedpod, 10.0.1.14:8000, ttft, 137, tpot, 19, e2e, 309, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 08:21:57.137481       1 gateway.go:748] "Request completed" requestID="96cc2d4d-50df-4b91-b557-1320b53c4ed2" targetPod="10.0.1.14:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 08:21:57.137494       1 gateway.go:764] "HandleResponseBody completed" requestID="96cc2d4d-50df-4b91-b557-1320b53c4ed2" promptTokens=7614 completionTokens=10 stream=true
I0305 08:21:57.237167       1 gateway.go:562] latency, 0.0000, summary, hash(request), e99bd382, selectedpod, 10.0.3.30:8000, ttft, 110, tpot, 19, e2e, 283, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:21:57.237188       1 gateway.go:748] "Request completed" requestID="7f1e5ca1-abe5-458e-a6bb-b23097de8d8e" targetPod="10.0.3.30:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:21:57.237201       1 gateway.go:764] "HandleResponseBody completed" requestID="7f1e5ca1-abe5-458e-a6bb-b23097de8d8e" promptTokens=7616 completionTokens=10 stream=true
I0305 08:21:57.404760       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b6732e6e-a0df-44b3-b32b-00802d047306"
I0305 08:21:57.404922       1 gateway.go:207] "Processing request" requestID="3cc1478a-8cb1-4e9b-aa6f-eb7f4c6a2557"
I0305 08:21:57.404923       1 gateway.go:207] "Processing request" requestID="815fa822-e767-4d06-8d66-bfb45ca5701c"
I0305 08:21:57.404963       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3cc1478a-8cb1-4e9b-aa6f-eb7f4c6a2557"
I0305 08:21:57.404965       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="815fa822-e767-4d06-8d66-bfb45ca5701c"
I0305 08:21:57.404974       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:57.404976       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:57.405002       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b6732e6e-a0df-44b3-b32b-00802d047306" model="qwen2-5-7b-instruct"
I0305 08:21:57.405084       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:57.405090       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:57.405094       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:57.405223       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:57.405248       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:21:57.405253       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:57.421302       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fcd9f0d4-5ce5-4f6e-b212-007dd62cfe8e"
I0305 08:21:57.421542       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fcd9f0d4-5ce5-4f6e-b212-007dd62cfe8e" model="qwen2-5-7b-instruct"
I0305 08:21:57.448369       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f01106e3-0126-4770-95c0-3cf4682ea3d8"
I0305 08:21:57.448589       1 gateway.go:207] "Processing request" requestID="d0dfd84c-c4f9-4679-be6b-bde47dbbea9a"
I0305 08:21:57.448613       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f01106e3-0126-4770-95c0-3cf4682ea3d8" model="qwen2-5-7b-instruct"
I0305 08:21:57.448613       1 gateway.go:207] "Processing request" requestID="f38c0304-8d9d-46ac-b7fb-7e96568ae784"
I0305 08:21:57.448630       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d0dfd84c-c4f9-4679-be6b-bde47dbbea9a"
I0305 08:21:57.448640       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:57.448643       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f38c0304-8d9d-46ac-b7fb-7e96568ae784"
I0305 08:21:57.448651       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:57.465893       1 gateway.go:329] "-- In RequestBody processing ..." requestID="53085ff7-c0e6-404b-b457-7f3119f4d8b0"
I0305 08:21:57.466139       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="53085ff7-c0e6-404b-b457-7f3119f4d8b0" model="qwen2-5-7b-instruct"
I0305 08:21:57.467358       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0621, numInputTokens, 7600
I0305 08:21:57.467374       1 tree.go:471] Updated node(0) last access: 127.6571 seconds
I0305 08:21:57.467381       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:57.467388       1 tree.go:471] Updated node(2) last access: 127.6571 seconds
I0305 08:21:57.467407       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:21:57.467414       1 tree.go:471] Updated node(57) last access: 127.6571 seconds
I0305 08:21:57.467425       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:21:57.467432       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:21:57.467442       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:57.467453       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:57.467463       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:57.467435451 +0000 UTC m=+127.772337551]
I0305 08:21:57.467487       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:21:57.467501       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:21:57.467557       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7478
I0305 08:21:57.467574       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:57.467589       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.467600       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.467610       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.467618       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.467628       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:57.467639       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:21:57.467648       1 prefix_cache_and_load.go:584] latency, Route, 0.0626
I0305 08:21:57.467672       1 gateway.go:415] latency, selectTargetPod, 0.0626, target pod, 10.0.1.28:8000
I0305 08:21:57.467692       1 gateway.go:235] latency, HandleRequestBody, 0.0629
I0305 08:21:57.467725       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0461
I0305 08:21:57.467732       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:57.467737       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:57.467862       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:57.467891       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:57.467897       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:57.489376       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b6732e6e-a0df-44b3-b32b-00802d047306"
I0305 08:21:57.527471       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0596, numInputTokens, 7601
I0305 08:21:57.527489       1 tree.go:471] Updated node(0) last access: 127.7172 seconds
I0305 08:21:57.527496       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:57.527499       1 tree.go:471] Updated node(2) last access: 127.7172 seconds
I0305 08:21:57.527512       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:21:57.527516       1 tree.go:471] Updated node(6) last access: 127.7172 seconds
I0305 08:21:57.527523       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:57.527529       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:21:57.527536       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:57.527543       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:57.527550       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:57.527531005 +0000 UTC m=+127.832433102]
I0305 08:21:57.527567       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:57.527575       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:57.527614       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7478
I0305 08:21:57.527624       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:57.527633       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.527640       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.527645       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.527652       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.527661       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:57.527682       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:57.527691       1 prefix_cache_and_load.go:584] latency, Route, 0.1061
I0305 08:21:57.527705       1 gateway.go:415] latency, selectTargetPod, 0.1061, target pod, 10.0.1.22:8000
I0305 08:21:57.527719       1 gateway.go:235] latency, HandleRequestBody, 0.1064
I0305 08:21:57.527744       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0790
I0305 08:21:57.527749       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:57.527752       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:57.527829       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:57.527859       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:57.527865       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:57.530607       1 gateway.go:608] "First token received" requestID="b6732e6e-a0df-44b3-b32b-00802d047306" ttft_ms=125
I0305 08:21:57.546569       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fcd9f0d4-5ce5-4f6e-b212-007dd62cfe8e"
I0305 08:21:57.590204       1 gateway.go:608] "First token received" requestID="fcd9f0d4-5ce5-4f6e-b212-007dd62cfe8e" ttft_ms=168
I0305 08:21:57.611980       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0841, numInputTokens, 7601
I0305 08:21:57.611998       1 tree.go:471] Updated node(0) last access: 127.8017 seconds
I0305 08:21:57.612004       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:57.612008       1 tree.go:471] Updated node(2) last access: 127.8017 seconds
I0305 08:21:57.612021       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:21:57.612025       1 tree.go:471] Updated node(21) last access: 127.8017 seconds
I0305 08:21:57.612031       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:57.612037       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:21:57.612045       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:57.612051       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:57.612057       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:57.612038879 +0000 UTC m=+127.916940976]
I0305 08:21:57.612074       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:57.612083       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:57.612129       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7478
I0305 08:21:57.612139       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:57.612149       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.612156       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.612164       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.612170       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.612179       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:57.612189       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:21:57.612199       1 prefix_cache_and_load.go:584] latency, Route, 0.1635
I0305 08:21:57.612214       1 gateway.go:415] latency, selectTargetPod, 0.1635, target pod, 10.0.3.41:8000
I0305 08:21:57.612224       1 gateway.go:235] latency, HandleRequestBody, 0.1639
I0305 08:21:57.612227       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1460
I0305 08:21:57.612240       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:57.612246       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:57.612377       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:57.612416       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:21:57.612422       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:57.627748       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f01106e3-0126-4770-95c0-3cf4682ea3d8"
I0305 08:21:57.671462       1 gateway.go:608] "First token received" requestID="f01106e3-0126-4770-95c0-3cf4682ea3d8" ttft_ms=223
I0305 08:21:57.702241       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0898, numInputTokens, 7596
I0305 08:21:57.702262       1 tree.go:471] Updated node(0) last access: 127.8920 seconds
I0305 08:21:57.702269       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:57.702272       1 tree.go:471] Updated node(2) last access: 127.8920 seconds
I0305 08:21:57.702285       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:21:57.702289       1 tree.go:471] Updated node(36) last access: 127.8920 seconds
I0305 08:21:57.702300       1 tree.go:667] Split complete - New node(136)
I0305 08:21:57.702304       1 tree.go:668] Split complete - Child node(106)
I0305 08:21:57.702310       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:21:57.702315       1 tree.go:471] Updated node(136) last access: 127.8920 seconds
I0305 08:21:57.702320       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:21:57.702326       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:21:57.702342       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:21:57.702350       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:57.702355       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:57.702335581 +0000 UTC m=+128.007237686]
I0305 08:21:57.702371       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7483, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:21:57.702380       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:21:57.702430       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7483
I0305 08:21:57.702441       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:57.702450       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.702457       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.702462       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.702467       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.702472       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.702482       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:57.702493       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:57.702506       1 prefix_cache_and_load.go:584] latency, Route, 0.2363
I0305 08:21:57.702516       1 gateway.go:415] latency, selectTargetPod, 0.2363, target pod, 10.0.3.30:8000
I0305 08:21:57.702528       1 gateway.go:235] latency, HandleRequestBody, 0.2366
I0305 08:21:57.704674       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6e515901, selectedpod, 10.0.1.28:8000, ttft, 125, tpot, 19, e2e, 299, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:57.704698       1 gateway.go:748] "Request completed" requestID="b6732e6e-a0df-44b3-b32b-00802d047306" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:57.704710       1 gateway.go:764] "HandleResponseBody completed" requestID="b6732e6e-a0df-44b3-b32b-00802d047306" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:57.718074       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="53085ff7-c0e6-404b-b457-7f3119f4d8b0"
I0305 08:21:57.753469       1 gateway.go:608] "First token received" requestID="53085ff7-c0e6-404b-b457-7f3119f4d8b0" ttft_ms=287
I0305 08:21:57.762984       1 gateway.go:562] latency, 0.0001, summary, hash(request), c124c593, selectedpod, 10.0.1.22:8000, ttft, 168, tpot, 19, e2e, 341, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:57.763004       1 gateway.go:748] "Request completed" requestID="fcd9f0d4-5ce5-4f6e-b212-007dd62cfe8e" targetPod="10.0.1.22:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:57.763014       1 gateway.go:764] "HandleResponseBody completed" requestID="fcd9f0d4-5ce5-4f6e-b212-007dd62cfe8e" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:57.844461       1 gateway.go:562] latency, 0.0000, summary, hash(request), c9adebde, selectedpod, 10.0.3.41:8000, ttft, 223, tpot, 19, e2e, 396, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:57.844478       1 gateway.go:748] "Request completed" requestID="f01106e3-0126-4770-95c0-3cf4682ea3d8" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:57.844487       1 gateway.go:764] "HandleResponseBody completed" requestID="f01106e3-0126-4770-95c0-3cf4682ea3d8" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:57.900677       1 gateway.go:329] "-- In RequestBody processing ..." requestID="815fa822-e767-4d06-8d66-bfb45ca5701c"
I0305 08:21:57.900839       1 gateway.go:207] "Processing request" requestID="6d0c18df-a3e9-4027-90b1-b449b1690047"
I0305 08:21:57.900868       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6d0c18df-a3e9-4027-90b1-b449b1690047"
I0305 08:21:57.900877       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:57.900921       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="815fa822-e767-4d06-8d66-bfb45ca5701c" model="qwen2-5-7b-instruct"
I0305 08:21:57.901000       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:57.901009       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:57.901015       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:57.901138       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:57.901171       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:21:57.901177       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:57.919084       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3cc1478a-8cb1-4e9b-aa6f-eb7f4c6a2557"
I0305 08:21:57.919338       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3cc1478a-8cb1-4e9b-aa6f-eb7f4c6a2557" model="qwen2-5-7b-instruct"
I0305 08:21:57.926364       1 gateway.go:562] latency, 0.0001, summary, hash(request), b8b17bc9, selectedpod, 10.0.3.30:8000, ttft, 287, tpot, 19, e2e, 460, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:21:57.926386       1 gateway.go:748] "Request completed" requestID="53085ff7-c0e6-404b-b457-7f3119f4d8b0" targetPod="10.0.3.30:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:21:57.926398       1 gateway.go:764] "HandleResponseBody completed" requestID="53085ff7-c0e6-404b-b457-7f3119f4d8b0" promptTokens=7615 completionTokens=10 stream=true
I0305 08:21:57.936533       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f38c0304-8d9d-46ac-b7fb-7e96568ae784"
I0305 08:21:57.936786       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f38c0304-8d9d-46ac-b7fb-7e96568ae784" model="qwen2-5-7b-instruct"
I0305 08:21:57.950004       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d0dfd84c-c4f9-4679-be6b-bde47dbbea9a"
I0305 08:21:57.950276       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d0dfd84c-c4f9-4679-be6b-bde47dbbea9a" model="qwen2-5-7b-instruct"
I0305 08:21:57.961386       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0602, numInputTokens, 7598
I0305 08:21:57.961403       1 tree.go:471] Updated node(0) last access: 128.1511 seconds
I0305 08:21:57.961409       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:57.961413       1 tree.go:471] Updated node(2) last access: 128.1511 seconds
I0305 08:21:57.961429       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:21:57.961434       1 tree.go:471] Updated node(28) last access: 128.1511 seconds
I0305 08:21:57.961441       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:21:57.961446       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 08:21:57.961453       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:21:57.961461       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:57.961466       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:57.961448526 +0000 UTC m=+128.266350623]
I0305 08:21:57.961483       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:21:57.961490       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:21:57.961536       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7478
I0305 08:21:57.961546       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:57.961556       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.961563       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.961570       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.961575       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:57.961585       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:57.961597       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:57.961614       1 prefix_cache_and_load.go:584] latency, Route, 0.0606
I0305 08:21:57.961628       1 gateway.go:415] latency, selectTargetPod, 0.0606, target pod, 10.0.0.39:8000
I0305 08:21:57.961641       1 gateway.go:235] latency, HandleRequestBody, 0.0610
I0305 08:21:57.961681       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0423
I0305 08:21:57.961692       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:57.961697       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:57.961797       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:57.961824       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:57.961830       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:57.980796       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="815fa822-e767-4d06-8d66-bfb45ca5701c"
I0305 08:21:58.021808       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0600, numInputTokens, 7601
I0305 08:21:58.021829       1 tree.go:471] Updated node(0) last access: 128.2115 seconds
I0305 08:21:58.021836       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:58.021840       1 tree.go:471] Updated node(2) last access: 128.2116 seconds
I0305 08:21:58.021852       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:21:58.021857       1 tree.go:471] Updated node(10) last access: 128.2116 seconds
I0305 08:21:58.021860       1 tree.go:490] Partial tokens match child node(76). Continue to go deeper in the radix tree
I0305 08:21:58.021865       1 tree.go:471] Updated node(76) last access: 128.2116 seconds
I0305 08:21:58.021875       1 tree.go:667] Split complete - New node(139)
I0305 08:21:58.021879       1 tree.go:668] Split complete - Child node(23)
I0305 08:21:58.021885       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:21:58.021890       1 tree.go:471] Updated node(139) last access: 128.2116 seconds
I0305 08:21:58.021897       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:21:58.021902       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:58.021908       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:58.021918       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:58.021928       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:58.021904019 +0000 UTC m=+128.326806117]
I0305 08:21:58.021952       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7486, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:21:58.021963       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:21:58.022021       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7486
I0305 08:21:58.022033       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:58.022042       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.022051       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.022056       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.022062       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.022068       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.022078       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.022092       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:58.022102       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:21:58.022114       1 prefix_cache_and_load.go:584] latency, Route, 0.1027
I0305 08:21:58.022127       1 gateway.go:415] latency, selectTargetPod, 0.1027, target pod, 10.0.0.101:8000
I0305 08:21:58.022141       1 gateway.go:235] latency, HandleRequestBody, 0.1031
I0305 08:21:58.022174       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0853
I0305 08:21:58.022182       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:58.022186       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:58.022265       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:58.022289       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:58.022294       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:58.024497       1 gateway.go:608] "First token received" requestID="815fa822-e767-4d06-8d66-bfb45ca5701c" ttft_ms=123
I0305 08:21:58.043375       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3cc1478a-8cb1-4e9b-aa6f-eb7f4c6a2557"
I0305 08:21:58.080631       1 gateway.go:608] "First token received" requestID="3cc1478a-8cb1-4e9b-aa6f-eb7f4c6a2557" ttft_ms=161
I0305 08:21:58.081871       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6d0c18df-a3e9-4027-90b1-b449b1690047"
I0305 08:21:58.082092       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6d0c18df-a3e9-4027-90b1-b449b1690047" model="qwen2-5-7b-instruct"
I0305 08:21:58.097987       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0757, numInputTokens, 7597
I0305 08:21:58.098003       1 tree.go:471] Updated node(0) last access: 128.2877 seconds
I0305 08:21:58.098009       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:58.098013       1 tree.go:471] Updated node(2) last access: 128.2877 seconds
I0305 08:21:58.098026       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:21:58.098030       1 tree.go:471] Updated node(73) last access: 128.2877 seconds
I0305 08:21:58.098039       1 tree.go:667] Split complete - New node(141)
I0305 08:21:58.098044       1 tree.go:668] Split complete - Child node(84)
I0305 08:21:58.098049       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:21:58.098054       1 tree.go:471] Updated node(141) last access: 128.2878 seconds
I0305 08:21:58.098062       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:21:58.098068       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:21:58.098077       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:21:58.098084       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:58.098090       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:58.098071036 +0000 UTC m=+128.402973138]
I0305 08:21:58.098105       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7480, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:21:58.098113       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:21:58.098154       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7480
I0305 08:21:58.098164       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:58.098172       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.098177       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.098181       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.098187       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.098192       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.098203       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:58.098213       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:58.098222       1 prefix_cache_and_load.go:584] latency, Route, 0.1614
I0305 08:21:58.098236       1 gateway.go:415] latency, selectTargetPod, 0.1614, target pod, 10.0.0.134:8000
I0305 08:21:58.098247       1 gateway.go:235] latency, HandleRequestBody, 0.1617
I0305 08:21:58.098273       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1479
I0305 08:21:58.098278       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:58.098281       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:58.098358       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:58.098381       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:58.098386       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:58.099728       1 gateway.go:207] "Processing request" requestID="7499b051-4302-429a-9595-6c0ca9e7b11a"
I0305 08:21:58.099766       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7499b051-4302-429a-9595-6c0ca9e7b11a"
I0305 08:21:58.099780       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:58.115627       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f38c0304-8d9d-46ac-b7fb-7e96568ae784"
I0305 08:21:58.151516       1 gateway.go:608] "First token received" requestID="f38c0304-8d9d-46ac-b7fb-7e96568ae784" ttft_ms=214
I0305 08:21:58.164894       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0665, numInputTokens, 7600
I0305 08:21:58.164932       1 tree.go:471] Updated node(0) last access: 128.3546 seconds
I0305 08:21:58.164939       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:58.164942       1 tree.go:471] Updated node(2) last access: 128.3547 seconds
I0305 08:21:58.164955       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:21:58.164959       1 tree.go:471] Updated node(73) last access: 128.3547 seconds
I0305 08:21:58.164963       1 tree.go:490] Partial tokens match child node(141). Continue to go deeper in the radix tree
I0305 08:21:58.164966       1 tree.go:471] Updated node(141) last access: 128.3547 seconds
I0305 08:21:58.164971       1 tree.go:490] Partial tokens match child node(84). Continue to go deeper in the radix tree
I0305 08:21:58.164973       1 tree.go:471] Updated node(84) last access: 128.3547 seconds
I0305 08:21:58.164984       1 tree.go:667] Split complete - New node(143)
I0305 08:21:58.164989       1 tree.go:668] Split complete - Child node(74)
I0305 08:21:58.164996       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:21:58.165004       1 tree.go:471] Updated node(143) last access: 128.3547 seconds
I0305 08:21:58.165013       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:21:58.165019       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:21:58.165026       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:58.165034       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:58.165040       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:58.165020888 +0000 UTC m=+128.469922985]
I0305 08:21:58.165054       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7487, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:21:58.165062       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:21:58.165100       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7487
I0305 08:21:58.165110       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:58.165120       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.165128       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.165133       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.165138       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.165144       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.165149       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.165154       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.165163       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:58.165173       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:58.165185       1 prefix_cache_and_load.go:584] latency, Route, 0.2148
I0305 08:21:58.165198       1 gateway.go:415] latency, selectTargetPod, 0.2148, target pod, 10.0.0.134:8000
I0305 08:21:58.165210       1 gateway.go:235] latency, HandleRequestBody, 0.2152
I0305 08:21:58.165242       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0831
I0305 08:21:58.165247       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:58.165250       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:58.165324       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:58.165358       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:58.165364       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:58.181640       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d0dfd84c-c4f9-4679-be6b-bde47dbbea9a"
I0305 08:21:58.197269       1 gateway.go:562] latency, 0.0001, summary, hash(request), eb2f7e4a, selectedpod, 10.0.0.39:8000, ttft, 123, tpot, 19, e2e, 296, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:21:58.197291       1 gateway.go:748] "Request completed" requestID="815fa822-e767-4d06-8d66-bfb45ca5701c" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:21:58.197305       1 gateway.go:764] "HandleResponseBody completed" requestID="815fa822-e767-4d06-8d66-bfb45ca5701c" promptTokens=7617 completionTokens=10 stream=true
I0305 08:21:58.220988       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0556, numInputTokens, 7600
I0305 08:21:58.221002       1 tree.go:471] Updated node(0) last access: 128.4107 seconds
I0305 08:21:58.221008       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:58.221012       1 tree.go:471] Updated node(2) last access: 128.4107 seconds
I0305 08:21:58.221024       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:21:58.221027       1 tree.go:471] Updated node(6) last access: 128.4107 seconds
I0305 08:21:58.221032       1 tree.go:490] Partial tokens match child node(114). Continue to go deeper in the radix tree
I0305 08:21:58.221034       1 tree.go:471] Updated node(114) last access: 128.4108 seconds
I0305 08:21:58.221047       1 tree.go:667] Split complete - New node(145)
I0305 08:21:58.221051       1 tree.go:668] Split complete - Child node(115)
I0305 08:21:58.221055       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:21:58.221060       1 tree.go:471] Updated node(145) last access: 128.4108 seconds
I0305 08:21:58.221065       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 08:21:58.221071       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:21:58.221077       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:58.221083       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:58.221090       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:58.221072985 +0000 UTC m=+128.525975082]
I0305 08:21:58.221105       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7488, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 08:21:58.221114       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 08:21:58.221154       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7488
I0305 08:21:58.221165       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 08:21:58.221174       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.221180       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.221184       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.221189       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.221193       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.221199       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.221208       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:58.221217       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:58.221225       1 prefix_cache_and_load.go:584] latency, Route, 0.1391
I0305 08:21:58.221234       1 gateway.go:415] latency, selectTargetPod, 0.1391, target pod, 10.0.1.22:8000
I0305 08:21:58.221244       1 gateway.go:235] latency, HandleRequestBody, 0.1394
I0305 08:21:58.223124       1 gateway.go:608] "First token received" requestID="d0dfd84c-c4f9-4679-be6b-bde47dbbea9a" ttft_ms=273
I0305 08:21:58.234260       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7499b051-4302-429a-9595-6c0ca9e7b11a"
I0305 08:21:58.234461       1 gateway.go:207] "Processing request" requestID="efc214e8-eb0b-4a64-8263-cc055489166e"
I0305 08:21:58.234490       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="efc214e8-eb0b-4a64-8263-cc055489166e"
I0305 08:21:58.234499       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:58.234499       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7499b051-4302-429a-9595-6c0ca9e7b11a" model="qwen2-5-7b-instruct"
I0305 08:21:58.234571       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:58.234581       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:58.234584       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:58.234681       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:58.234707       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:58.234711       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:58.238701       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6d0c18df-a3e9-4027-90b1-b449b1690047"
I0305 08:21:58.254206       1 gateway.go:562] latency, 0.0000, summary, hash(request), 71199108, selectedpod, 10.0.0.101:8000, ttft, 161, tpot, 19, e2e, 335, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:58.254225       1 gateway.go:748] "Request completed" requestID="3cc1478a-8cb1-4e9b-aa6f-eb7f4c6a2557" targetPod="10.0.0.101:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:58.254236       1 gateway.go:764] "HandleResponseBody completed" requestID="3cc1478a-8cb1-4e9b-aa6f-eb7f4c6a2557" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:58.274194       1 gateway.go:608] "First token received" requestID="6d0c18df-a3e9-4027-90b1-b449b1690047" ttft_ms=192
I0305 08:21:58.310368       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0756, numInputTokens, 7599
I0305 08:21:58.310388       1 tree.go:471] Updated node(0) last access: 128.5001 seconds
I0305 08:21:58.310394       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:58.310400       1 tree.go:471] Updated node(2) last access: 128.5001 seconds
I0305 08:21:58.310416       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:21:58.310419       1 tree.go:471] Updated node(57) last access: 128.5001 seconds
I0305 08:21:58.310426       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:21:58.310431       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:21:58.310438       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:21:58.310444       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:58.310451       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:58.31043354 +0000 UTC m=+128.615335637]
I0305 08:21:58.310472       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:21:58.310485       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:21:58.310528       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7478
I0305 08:21:58.310539       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:58.310547       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.310554       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.310560       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.310568       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.310578       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:58.310588       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:21:58.310598       1 prefix_cache_and_load.go:584] latency, Route, 0.0760
I0305 08:21:58.310608       1 gateway.go:415] latency, selectTargetPod, 0.0760, target pod, 10.0.1.28:8000
I0305 08:21:58.310620       1 gateway.go:235] latency, HandleRequestBody, 0.0764
I0305 08:21:58.329282       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7499b051-4302-429a-9595-6c0ca9e7b11a"
I0305 08:21:58.342072       1 gateway.go:329] "-- In RequestBody processing ..." requestID="efc214e8-eb0b-4a64-8263-cc055489166e"
I0305 08:21:58.342311       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="efc214e8-eb0b-4a64-8263-cc055489166e" model="qwen2-5-7b-instruct"
I0305 08:21:58.342417       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:58.342426       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:58.342432       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:58.342538       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:58.342566       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:58.342572       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:58.350919       1 gateway.go:207] "Processing request" requestID="5e8ea022-a67a-4753-b69a-874961f110cb"
I0305 08:21:58.350949       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5e8ea022-a67a-4753-b69a-874961f110cb"
I0305 08:21:58.350956       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:58.363860       1 gateway.go:562] latency, 0.0000, summary, hash(request), b70166ca, selectedpod, 10.0.0.134:8000, ttft, 214, tpot, 23, e2e, 427, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:21:58.363884       1 gateway.go:748] "Request completed" requestID="f38c0304-8d9d-46ac-b7fb-7e96568ae784" targetPod="10.0.0.134:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:21:58.363897       1 gateway.go:764] "HandleResponseBody completed" requestID="f38c0304-8d9d-46ac-b7fb-7e96568ae784" promptTokens=7616 completionTokens=10 stream=true
I0305 08:21:58.372564       1 gateway.go:608] "First token received" requestID="7499b051-4302-429a-9595-6c0ca9e7b11a" ttft_ms=138
I0305 08:21:58.403459       1 gateway.go:562] latency, 0.0000, summary, hash(request), c17e6f2a, selectedpod, 10.0.0.134:8000, ttft, 273, tpot, 20, e2e, 453, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:58.403480       1 gateway.go:748] "Request completed" requestID="d0dfd84c-c4f9-4679-be6b-bde47dbbea9a" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:58.403491       1 gateway.go:764] "HandleResponseBody completed" requestID="d0dfd84c-c4f9-4679-be6b-bde47dbbea9a" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:58.403544       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0610, numInputTokens, 7601
I0305 08:21:58.403559       1 tree.go:471] Updated node(0) last access: 128.5933 seconds
I0305 08:21:58.403565       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:58.403574       1 tree.go:471] Updated node(2) last access: 128.5933 seconds
I0305 08:21:58.403587       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:21:58.403591       1 tree.go:471] Updated node(24) last access: 128.5933 seconds
I0305 08:21:58.403598       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:58.403604       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:21:58.403611       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:58.403618       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:58.403625       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:58.403606395 +0000 UTC m=+128.708508492]
I0305 08:21:58.403639       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:58.403648       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:58.403698       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:58.403710       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:58.403718       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.403724       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.403729       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.403736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.403755       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:58.403766       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:58.403775       1 prefix_cache_and_load.go:584] latency, Route, 0.0614
I0305 08:21:58.403787       1 gateway.go:415] latency, selectTargetPod, 0.0614, target pod, 10.0.3.30:8000
I0305 08:21:58.403798       1 gateway.go:235] latency, HandleRequestBody, 0.0617
I0305 08:21:58.419913       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="efc214e8-eb0b-4a64-8263-cc055489166e"
I0305 08:21:58.446913       1 gateway.go:562] latency, 0.0000, summary, hash(request), c62f97b8, selectedpod, 10.0.1.22:8000, ttft, 192, tpot, 19, e2e, 364, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:58.446932       1 gateway.go:748] "Request completed" requestID="6d0c18df-a3e9-4027-90b1-b449b1690047" targetPod="10.0.1.22:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:58.446943       1 gateway.go:764] "HandleResponseBody completed" requestID="6d0c18df-a3e9-4027-90b1-b449b1690047" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:58.454275       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5e8ea022-a67a-4753-b69a-874961f110cb"
I0305 08:21:58.454413       1 gateway.go:207] "Processing request" requestID="60ff60b1-d357-4608-b232-15569fc277a9"
I0305 08:21:58.454440       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="60ff60b1-d357-4608-b232-15569fc277a9"
I0305 08:21:58.454449       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:58.454542       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5e8ea022-a67a-4753-b69a-874961f110cb" model="qwen2-5-7b-instruct"
I0305 08:21:58.454625       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:58.454634       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:58.454639       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:58.454750       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:58.454778       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:58.454784       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:58.463294       1 gateway.go:608] "First token received" requestID="efc214e8-eb0b-4a64-8263-cc055489166e" ttft_ms=121
I0305 08:21:58.513540       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0587, numInputTokens, 7598
I0305 08:21:58.513559       1 tree.go:471] Updated node(0) last access: 128.7033 seconds
I0305 08:21:58.513566       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:58.513570       1 tree.go:471] Updated node(2) last access: 128.7033 seconds
I0305 08:21:58.513582       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:21:58.513585       1 tree.go:471] Updated node(36) last access: 128.7033 seconds
I0305 08:21:58.513595       1 tree.go:667] Split complete - New node(149)
I0305 08:21:58.513600       1 tree.go:668] Split complete - Child node(70)
I0305 08:21:58.513606       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:21:58.513610       1 tree.go:471] Updated node(149) last access: 128.7033 seconds
I0305 08:21:58.513616       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 08:21:58.513621       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:21:58.513627       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:21:58.513634       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:58.513641       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:58.513622897 +0000 UTC m=+128.818524994]
I0305 08:21:58.513656       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7488, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 08:21:58.513675       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 08:21:58.513723       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7488
I0305 08:21:58.513734       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:58.513742       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.513750       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.513756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.513762       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.513769       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.513783       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:58.513794       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:58.513804       1 prefix_cache_and_load.go:584] latency, Route, 0.0592
I0305 08:21:58.513816       1 gateway.go:415] latency, selectTargetPod, 0.0592, target pod, 10.0.3.30:8000
I0305 08:21:58.513827       1 gateway.go:235] latency, HandleRequestBody, 0.0596
I0305 08:21:58.529063       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5e8ea022-a67a-4753-b69a-874961f110cb"
I0305 08:21:58.545831       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8c9ac2eb, selectedpod, 10.0.1.28:8000, ttft, 138, tpot, 19, e2e, 311, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:21:58.545851       1 gateway.go:748] "Request completed" requestID="7499b051-4302-429a-9595-6c0ca9e7b11a" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:21:58.545862       1 gateway.go:764] "HandleResponseBody completed" requestID="7499b051-4302-429a-9595-6c0ca9e7b11a" promptTokens=7618 completionTokens=10 stream=true
I0305 08:21:58.573484       1 gateway.go:608] "First token received" requestID="5e8ea022-a67a-4753-b69a-874961f110cb" ttft_ms=119
I0305 08:21:58.594046       1 gateway.go:329] "-- In RequestBody processing ..." requestID="60ff60b1-d357-4608-b232-15569fc277a9"
I0305 08:21:58.594248       1 gateway.go:207] "Processing request" requestID="166a833c-0578-46ab-a95f-530817c6db07"
I0305 08:21:58.594278       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="60ff60b1-d357-4608-b232-15569fc277a9" model="qwen2-5-7b-instruct"
I0305 08:21:58.594278       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="166a833c-0578-46ab-a95f-530817c6db07"
I0305 08:21:58.594290       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:58.594372       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:58.594380       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:58.594383       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:58.594479       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:58.594503       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:58.594509       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:58.650696       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0562, numInputTokens, 7605
I0305 08:21:58.650710       1 tree.go:471] Updated node(0) last access: 128.8404 seconds
I0305 08:21:58.650717       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:58.650721       1 tree.go:471] Updated node(2) last access: 128.8404 seconds
I0305 08:21:58.650734       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:21:58.650738       1 tree.go:471] Updated node(57) last access: 128.8405 seconds
I0305 08:21:58.650746       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 127 tokens:
I0305 08:21:58.650752       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7605 tokens
I0305 08:21:58.650759       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7605 tokens
I0305 08:21:58.650766       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:58.650772       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:58.650754532 +0000 UTC m=+128.955656629]
I0305 08:21:58.650790       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7605, Matched tokens: 7478, Matching ratio: 0.9833, # Matched pods: 0, Matched pods: []
I0305 08:21:58.650798       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9833 > 0.5000)
I0305 08:21:58.650842       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7478
I0305 08:21:58.650852       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:58.650861       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.650865       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.650872       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.650879       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.650899       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:58.650908       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:21:58.650918       1 prefix_cache_and_load.go:584] latency, Route, 0.0565
I0305 08:21:58.650931       1 gateway.go:415] latency, selectTargetPod, 0.0566, target pod, 10.0.1.28:8000
I0305 08:21:58.650943       1 gateway.go:235] latency, HandleRequestBody, 0.0569
I0305 08:21:58.667855       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="60ff60b1-d357-4608-b232-15569fc277a9"
I0305 08:21:58.675741       1 gateway.go:562] latency, 0.0000, summary, hash(request), bebd767c, selectedpod, 10.0.3.30:8000, ttft, 121, tpot, 23, e2e, 333, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:58.675761       1 gateway.go:748] "Request completed" requestID="efc214e8-eb0b-4a64-8263-cc055489166e" targetPod="10.0.3.30:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:58.675772       1 gateway.go:764] "HandleResponseBody completed" requestID="efc214e8-eb0b-4a64-8263-cc055489166e" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:58.710598       1 gateway.go:608] "First token received" requestID="60ff60b1-d357-4608-b232-15569fc277a9" ttft_ms=116
I0305 08:21:58.732586       1 gateway.go:329] "-- In RequestBody processing ..." requestID="166a833c-0578-46ab-a95f-530817c6db07"
I0305 08:21:58.732704       1 gateway.go:207] "Processing request" requestID="a3a3ee5b-86ba-4035-bb8c-1c6f43c08e47"
I0305 08:21:58.732734       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a3a3ee5b-86ba-4035-bb8c-1c6f43c08e47"
I0305 08:21:58.732743       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:58.732836       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="166a833c-0578-46ab-a95f-530817c6db07" model="qwen2-5-7b-instruct"
I0305 08:21:58.732928       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:58.732934       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:58.732937       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:58.733049       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:58.733077       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:58.733082       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:58.753146       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7091c449, selectedpod, 10.0.3.30:8000, ttft, 119, tpot, 19, e2e, 298, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:21:58.753163       1 gateway.go:748] "Request completed" requestID="5e8ea022-a67a-4753-b69a-874961f110cb" targetPod="10.0.3.30:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:21:58.753173       1 gateway.go:764] "HandleResponseBody completed" requestID="5e8ea022-a67a-4753-b69a-874961f110cb" promptTokens=7617 completionTokens=10 stream=true
I0305 08:21:58.792221       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0591, numInputTokens, 7604
I0305 08:21:58.792239       1 tree.go:471] Updated node(0) last access: 128.9820 seconds
I0305 08:21:58.792245       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:58.792249       1 tree.go:471] Updated node(2) last access: 128.9820 seconds
I0305 08:21:58.792262       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:21:58.792268       1 tree.go:471] Updated node(24) last access: 128.9820 seconds
I0305 08:21:58.792277       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 08:21:58.792282       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 08:21:58.792291       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 08:21:58.792297       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:58.792303       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:58.792286075 +0000 UTC m=+129.097188171]
I0305 08:21:58.792319       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 08:21:58.792336       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 08:21:58.792384       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:21:58.792396       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:58.792405       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.792412       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.792422       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.792429       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.792443       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:58.792454       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:21:58.792465       1 prefix_cache_and_load.go:584] latency, Route, 0.0595
I0305 08:21:58.792476       1 gateway.go:415] latency, selectTargetPod, 0.0595, target pod, 10.0.3.30:8000
I0305 08:21:58.792487       1 gateway.go:235] latency, HandleRequestBody, 0.0599
I0305 08:21:58.808260       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="166a833c-0578-46ab-a95f-530817c6db07"
I0305 08:21:58.849293       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a3a3ee5b-86ba-4035-bb8c-1c6f43c08e47"
I0305 08:21:58.851618       1 gateway.go:608] "First token received" requestID="166a833c-0578-46ab-a95f-530817c6db07" ttft_ms=118
I0305 08:21:58.851634       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a3a3ee5b-86ba-4035-bb8c-1c6f43c08e47" model="qwen2-5-7b-instruct"
I0305 08:21:58.851752       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:58.851761       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:58.851766       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:58.851853       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:58.851876       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:21:58.851882       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:58.883853       1 gateway.go:562] latency, 0.0000, summary, hash(request), edf3a57c, selectedpod, 10.0.1.28:8000, ttft, 116, tpot, 19, e2e, 289, numInputTokens, 7624, numOutputTokens, 10, numTotalTokens, 7634
I0305 08:21:58.883871       1 gateway.go:748] "Request completed" requestID="60ff60b1-d357-4608-b232-15569fc277a9" targetPod="10.0.1.28:8000" promptTokens=7624 completionTokens=10 totalTokens=7634
I0305 08:21:58.883885       1 gateway.go:764] "HandleResponseBody completed" requestID="60ff60b1-d357-4608-b232-15569fc277a9" promptTokens=7624 completionTokens=10 stream=true
I0305 08:21:58.907662       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0558, numInputTokens, 7601
I0305 08:21:58.907682       1 tree.go:471] Updated node(0) last access: 129.0974 seconds
I0305 08:21:58.907688       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:58.907692       1 tree.go:471] Updated node(2) last access: 129.0974 seconds
I0305 08:21:58.907705       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:21:58.907709       1 tree.go:471] Updated node(45) last access: 129.0974 seconds
I0305 08:21:58.907720       1 tree.go:667] Split complete - New node(153)
I0305 08:21:58.907725       1 tree.go:668] Split complete - Child node(75)
I0305 08:21:58.907730       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 08:21:58.907736       1 tree.go:471] Updated node(153) last access: 129.0975 seconds
I0305 08:21:58.907743       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:21:58.907748       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:21:58.907754       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:58.907760       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:58.907765       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:58.907750047 +0000 UTC m=+129.212652144]
I0305 08:21:58.907781       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7486, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:21:58.907788       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:21:58.907839       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7486
I0305 08:21:58.907849       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:58.907858       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.907864       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.907870       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.907874       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.907881       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:58.907898       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:58.907909       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:58.907918       1 prefix_cache_and_load.go:584] latency, Route, 0.0562
I0305 08:21:58.907930       1 gateway.go:415] latency, selectTargetPod, 0.0562, target pod, 10.0.0.134:8000
I0305 08:21:58.907941       1 gateway.go:235] latency, HandleRequestBody, 0.0587
I0305 08:21:58.925244       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a3a3ee5b-86ba-4035-bb8c-1c6f43c08e47"
I0305 08:21:58.961002       1 gateway.go:608] "First token received" requestID="a3a3ee5b-86ba-4035-bb8c-1c6f43c08e47" ttft_ms=111
I0305 08:21:59.024077       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8de50e11, selectedpod, 10.0.3.30:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 08:21:59.024096       1 gateway.go:748] "Request completed" requestID="166a833c-0578-46ab-a95f-530817c6db07" targetPod="10.0.3.30:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 08:21:59.024112       1 gateway.go:764] "HandleResponseBody completed" requestID="166a833c-0578-46ab-a95f-530817c6db07" promptTokens=7623 completionTokens=10 stream=true
I0305 08:21:59.133964       1 gateway.go:562] latency, 0.0000, summary, hash(request), 63292ecc, selectedpod, 10.0.0.134:8000, ttft, 111, tpot, 19, e2e, 284, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:21:59.133983       1 gateway.go:748] "Request completed" requestID="a3a3ee5b-86ba-4035-bb8c-1c6f43c08e47" targetPod="10.0.0.134:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:21:59.133994       1 gateway.go:764] "HandleResponseBody completed" requestID="a3a3ee5b-86ba-4035-bb8c-1c6f43c08e47" promptTokens=7620 completionTokens=10 stream=true
I0305 08:21:59.209660       1 gateway.go:207] "Processing request" requestID="68be39d9-c400-4243-8646-c19ea2664cd0"
I0305 08:21:59.209697       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="68be39d9-c400-4243-8646-c19ea2664cd0"
I0305 08:21:59.209705       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:59.236047       1 gateway.go:329] "-- In RequestBody processing ..." requestID="68be39d9-c400-4243-8646-c19ea2664cd0"
I0305 08:21:59.236312       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="68be39d9-c400-4243-8646-c19ea2664cd0" model="qwen2-5-7b-instruct"
I0305 08:21:59.236409       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:59.236418       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:59.236423       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:59.236588       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:59.236621       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:21:59.236629       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:59.296922       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0603, numInputTokens, 7602
I0305 08:21:59.296943       1 tree.go:471] Updated node(0) last access: 129.4867 seconds
I0305 08:21:59.296950       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:59.296953       1 tree.go:471] Updated node(2) last access: 129.4867 seconds
I0305 08:21:59.296965       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:21:59.296970       1 tree.go:471] Updated node(6) last access: 129.4867 seconds
I0305 08:21:59.296977       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 08:21:59.296982       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 08:21:59.296989       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:21:59.296996       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:59.297002       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:59.296984222 +0000 UTC m=+129.601886320]
I0305 08:21:59.297019       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 08:21:59.297028       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 08:21:59.297099       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7478
I0305 08:21:59.297116       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:59.297129       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:59.297139       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:59.297149       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:59.297159       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:59.297181       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:59.297199       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:21:59.297212       1 prefix_cache_and_load.go:584] latency, Route, 0.0608
I0305 08:21:59.297223       1 gateway.go:415] latency, selectTargetPod, 0.0608, target pod, 10.0.1.22:8000
I0305 08:21:59.297237       1 gateway.go:235] latency, HandleRequestBody, 0.0612
I0305 08:21:59.317552       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="68be39d9-c400-4243-8646-c19ea2664cd0"
I0305 08:21:59.338063       1 gateway.go:207] "Processing request" requestID="38fa3a90-0428-42a5-bdd2-f118bc71f11b"
I0305 08:21:59.338089       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="38fa3a90-0428-42a5-bdd2-f118bc71f11b"
I0305 08:21:59.338098       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:59.360867       1 gateway.go:608] "First token received" requestID="68be39d9-c400-4243-8646-c19ea2664cd0" ttft_ms=124
I0305 08:21:59.452208       1 gateway.go:329] "-- In RequestBody processing ..." requestID="38fa3a90-0428-42a5-bdd2-f118bc71f11b"
I0305 08:21:59.452448       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="38fa3a90-0428-42a5-bdd2-f118bc71f11b" model="qwen2-5-7b-instruct"
I0305 08:21:59.452527       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:59.452534       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:59.452537       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:59.452679       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:59.452706       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:21:59.452712       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:59.510634       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0579, numInputTokens, 7600
I0305 08:21:59.510651       1 tree.go:471] Updated node(0) last access: 129.7004 seconds
I0305 08:21:59.510658       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:59.510670       1 tree.go:471] Updated node(2) last access: 129.7004 seconds
I0305 08:21:59.510683       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:21:59.510688       1 tree.go:471] Updated node(73) last access: 129.7004 seconds
I0305 08:21:59.510694       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:21:59.510699       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:21:59.510706       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:21:59.510713       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:59.510719       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:59.51070144 +0000 UTC m=+129.815603537]
I0305 08:21:59.510737       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:21:59.510746       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:21:59.510805       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:21:59.510819       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:59.510833       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:59.510842       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:59.510849       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:59.510855       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:59.510874       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:59.510890       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:21:59.510908       1 prefix_cache_and_load.go:584] latency, Route, 0.0584
I0305 08:21:59.510924       1 gateway.go:415] latency, selectTargetPod, 0.0584, target pod, 10.0.0.134:8000
I0305 08:21:59.510940       1 gateway.go:235] latency, HandleRequestBody, 0.0587
I0305 08:21:59.529735       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="38fa3a90-0428-42a5-bdd2-f118bc71f11b"
I0305 08:21:59.535753       1 gateway.go:562] latency, 0.0000, summary, hash(request), 682acebf, selectedpod, 10.0.1.22:8000, ttft, 124, tpot, 19, e2e, 299, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:21:59.535771       1 gateway.go:748] "Request completed" requestID="68be39d9-c400-4243-8646-c19ea2664cd0" targetPod="10.0.1.22:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:21:59.535783       1 gateway.go:764] "HandleResponseBody completed" requestID="68be39d9-c400-4243-8646-c19ea2664cd0" promptTokens=7621 completionTokens=10 stream=true
I0305 08:21:59.573080       1 gateway.go:608] "First token received" requestID="38fa3a90-0428-42a5-bdd2-f118bc71f11b" ttft_ms=120
I0305 08:21:59.715257       1 gateway.go:207] "Processing request" requestID="8315d7cb-e226-454f-87dc-eb4dba66671f"
I0305 08:21:59.715289       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8315d7cb-e226-454f-87dc-eb4dba66671f"
I0305 08:21:59.715298       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:21:59.746132       1 gateway.go:562] latency, 0.0000, summary, hash(request), fea8936d, selectedpod, 10.0.0.134:8000, ttft, 120, tpot, 19, e2e, 293, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:21:59.746154       1 gateway.go:748] "Request completed" requestID="38fa3a90-0428-42a5-bdd2-f118bc71f11b" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:21:59.746166       1 gateway.go:764] "HandleResponseBody completed" requestID="38fa3a90-0428-42a5-bdd2-f118bc71f11b" promptTokens=7619 completionTokens=10 stream=true
I0305 08:21:59.901084       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8315d7cb-e226-454f-87dc-eb4dba66671f"
I0305 08:21:59.901371       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8315d7cb-e226-454f-87dc-eb4dba66671f" model="qwen2-5-7b-instruct"
I0305 08:21:59.901472       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:21:59.901480       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:21:59.901483       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:21:59.901622       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:21:59.901655       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:21:59.901661       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:21:59.959830       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0581, numInputTokens, 7601
I0305 08:21:59.959846       1 tree.go:471] Updated node(0) last access: 130.1496 seconds
I0305 08:21:59.959852       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:21:59.959856       1 tree.go:471] Updated node(2) last access: 130.1496 seconds
I0305 08:21:59.959869       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:21:59.959873       1 tree.go:471] Updated node(28) last access: 130.1496 seconds
I0305 08:21:59.959879       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:21:59.959885       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:21:59.959892       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:21:59.959898       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:21:59.959905       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:21:59.959887027 +0000 UTC m=+130.264789124]
I0305 08:21:59.959921       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:21:59.959929       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:21:59.960020       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7478
I0305 08:21:59.960038       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:21:59.960054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:59.960067       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:59.960075       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:59.960085       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:21:59.960105       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:21:59.960123       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:21:59.960137       1 prefix_cache_and_load.go:584] latency, Route, 0.0587
I0305 08:21:59.960155       1 gateway.go:415] latency, selectTargetPod, 0.0587, target pod, 10.0.0.39:8000
I0305 08:21:59.960174       1 gateway.go:235] latency, HandleRequestBody, 0.0591
I0305 08:21:59.978681       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8315d7cb-e226-454f-87dc-eb4dba66671f"
I0305 08:22:00.022616       1 gateway.go:608] "First token received" requestID="8315d7cb-e226-454f-87dc-eb4dba66671f" ttft_ms=121
I0305 08:22:00.026942       1 gateway.go:207] "Processing request" requestID="911bc920-43ea-4770-8997-3c34530bd746"
I0305 08:22:00.026977       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="911bc920-43ea-4770-8997-3c34530bd746"
I0305 08:22:00.026988       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:00.109167       1 gateway.go:329] "-- In RequestBody processing ..." requestID="911bc920-43ea-4770-8997-3c34530bd746"
I0305 08:22:00.109452       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="911bc920-43ea-4770-8997-3c34530bd746" model="qwen2-5-7b-instruct"
I0305 08:22:00.109526       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:00.109533       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:00.109537       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:00.109712       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:00.109739       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:00.109744       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:00.113718       1 gateway.go:207] "Processing request" requestID="eb3af058-55f9-433b-a467-0535a6d080dd"
I0305 08:22:00.113749       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="eb3af058-55f9-433b-a467-0535a6d080dd"
I0305 08:22:00.113759       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:00.170886       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0611, numInputTokens, 7597
I0305 08:22:00.170907       1 tree.go:471] Updated node(0) last access: 130.3606 seconds
I0305 08:22:00.170913       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:00.170917       1 tree.go:471] Updated node(2) last access: 130.3606 seconds
I0305 08:22:00.170929       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:00.170933       1 tree.go:471] Updated node(36) last access: 130.3606 seconds
I0305 08:22:00.170939       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:22:00.170945       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 08:22:00.170953       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:00.170960       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:00.170967       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:00.170947807 +0000 UTC m=+130.475849904]
I0305 08:22:00.170985       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:22:00.170994       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:22:00.171050       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:22:00.171061       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:00.171071       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.171079       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.171084       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.171088       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.171101       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:00.171112       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:00.171125       1 prefix_cache_and_load.go:584] latency, Route, 0.0616
I0305 08:22:00.171136       1 gateway.go:415] latency, selectTargetPod, 0.0616, target pod, 10.0.3.30:8000
I0305 08:22:00.171148       1 gateway.go:235] latency, HandleRequestBody, 0.0620
I0305 08:22:00.187540       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="911bc920-43ea-4770-8997-3c34530bd746"
I0305 08:22:00.195434       1 gateway.go:562] latency, 0.0000, summary, hash(request), 18376846, selectedpod, 10.0.0.39:8000, ttft, 121, tpot, 19, e2e, 294, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:00.195469       1 gateway.go:748] "Request completed" requestID="8315d7cb-e226-454f-87dc-eb4dba66671f" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:00.195488       1 gateway.go:764] "HandleResponseBody completed" requestID="8315d7cb-e226-454f-87dc-eb4dba66671f" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:00.223722       1 gateway.go:608] "First token received" requestID="911bc920-43ea-4770-8997-3c34530bd746" ttft_ms=114
I0305 08:22:00.273628       1 gateway.go:329] "-- In RequestBody processing ..." requestID="eb3af058-55f9-433b-a467-0535a6d080dd"
I0305 08:22:00.273870       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="eb3af058-55f9-433b-a467-0535a6d080dd" model="qwen2-5-7b-instruct"
I0305 08:22:00.273948       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:00.273955       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:00.273958       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:00.274160       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:00.274191       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:00.274197       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:00.336544       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0623, numInputTokens, 7599
I0305 08:22:00.336567       1 tree.go:471] Updated node(0) last access: 130.5263 seconds
I0305 08:22:00.336573       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:00.336577       1 tree.go:471] Updated node(2) last access: 130.5263 seconds
I0305 08:22:00.336591       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:00.336594       1 tree.go:471] Updated node(10) last access: 130.5263 seconds
I0305 08:22:00.336601       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:22:00.336606       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:22:00.336613       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:00.336621       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:00.336627       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:00.336607838 +0000 UTC m=+130.641509935]
I0305 08:22:00.336647       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:22:00.336654       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:22:00.336715       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7478
I0305 08:22:00.336726       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:00.336736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.336742       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.336748       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.336753       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.336764       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:00.336775       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:00.336785       1 prefix_cache_and_load.go:584] latency, Route, 0.0628
I0305 08:22:00.336797       1 gateway.go:415] latency, selectTargetPod, 0.0628, target pod, 10.0.0.101:8000
I0305 08:22:00.336809       1 gateway.go:235] latency, HandleRequestBody, 0.0632
I0305 08:22:00.353800       1 gateway.go:207] "Processing request" requestID="385aa278-7ee1-40b3-b028-858e4d05dcd0"
I0305 08:22:00.353828       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="385aa278-7ee1-40b3-b028-858e4d05dcd0"
I0305 08:22:00.353835       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:00.354112       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="eb3af058-55f9-433b-a467-0535a6d080dd"
I0305 08:22:00.396969       1 gateway.go:562] latency, 0.0001, summary, hash(request), cfac6cd7, selectedpod, 10.0.3.30:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:00.396996       1 gateway.go:748] "Request completed" requestID="911bc920-43ea-4770-8997-3c34530bd746" targetPod="10.0.3.30:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:00.397012       1 gateway.go:764] "HandleResponseBody completed" requestID="911bc920-43ea-4770-8997-3c34530bd746" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:00.398133       1 gateway.go:608] "First token received" requestID="eb3af058-55f9-433b-a467-0535a6d080dd" ttft_ms=124
I0305 08:22:00.474825       1 gateway.go:329] "-- In RequestBody processing ..." requestID="385aa278-7ee1-40b3-b028-858e4d05dcd0"
I0305 08:22:00.475075       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="385aa278-7ee1-40b3-b028-858e4d05dcd0" model="qwen2-5-7b-instruct"
I0305 08:22:00.475175       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:00.475184       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:00.475188       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:00.475351       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:00.475381       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:00.475387       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:00.511017       1 gateway.go:207] "Processing request" requestID="6edd049a-dbb7-4043-a066-e2dc53f3a709"
I0305 08:22:00.511049       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6edd049a-dbb7-4043-a066-e2dc53f3a709"
I0305 08:22:00.511058       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:00.533479       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0581, numInputTokens, 7601
I0305 08:22:00.533497       1 tree.go:471] Updated node(0) last access: 130.7232 seconds
I0305 08:22:00.533504       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:00.533509       1 tree.go:471] Updated node(2) last access: 130.7232 seconds
I0305 08:22:00.533525       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:00.533530       1 tree.go:471] Updated node(10) last access: 130.7232 seconds
I0305 08:22:00.533536       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:22:00.533543       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:22:00.533554       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:00.533561       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:00.533567       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:00.533546568 +0000 UTC m=+130.838448677]
I0305 08:22:00.533584       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:22:00.533594       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:22:00.533681       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7478
I0305 08:22:00.533699       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:00.533710       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.533717       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.533722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.533729       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.533741       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:00.533753       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:00.533768       1 prefix_cache_and_load.go:584] latency, Route, 0.0586
I0305 08:22:00.533780       1 gateway.go:415] latency, selectTargetPod, 0.0586, target pod, 10.0.0.101:8000
I0305 08:22:00.533792       1 gateway.go:235] latency, HandleRequestBody, 0.0590
I0305 08:22:00.552499       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="385aa278-7ee1-40b3-b028-858e4d05dcd0"
I0305 08:22:00.584822       1 gateway.go:562] latency, 0.0001, summary, hash(request), 165adebb, selectedpod, 10.0.0.101:8000, ttft, 124, tpot, 20, e2e, 311, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:00.584846       1 gateway.go:748] "Request completed" requestID="eb3af058-55f9-433b-a467-0535a6d080dd" targetPod="10.0.0.101:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:00.584859       1 gateway.go:764] "HandleResponseBody completed" requestID="eb3af058-55f9-433b-a467-0535a6d080dd" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:00.612212       1 gateway.go:608] "First token received" requestID="385aa278-7ee1-40b3-b028-858e4d05dcd0" ttft_ms=137
I0305 08:22:00.623043       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6edd049a-dbb7-4043-a066-e2dc53f3a709"
I0305 08:22:00.623371       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6edd049a-dbb7-4043-a066-e2dc53f3a709" model="qwen2-5-7b-instruct"
I0305 08:22:00.623472       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:00.623479       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:00.623483       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:00.623635       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:00.623675       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:00.623683       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:00.684819       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0611, numInputTokens, 7598
I0305 08:22:00.684846       1 tree.go:471] Updated node(0) last access: 130.8746 seconds
I0305 08:22:00.684852       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:00.684857       1 tree.go:471] Updated node(2) last access: 130.8746 seconds
I0305 08:22:00.684871       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:00.684875       1 tree.go:471] Updated node(6) last access: 130.8746 seconds
I0305 08:22:00.684879       1 tree.go:490] Partial tokens match child node(114). Continue to go deeper in the radix tree
I0305 08:22:00.684882       1 tree.go:471] Updated node(114) last access: 130.8746 seconds
I0305 08:22:00.684886       1 tree.go:490] Partial tokens match child node(145). Continue to go deeper in the radix tree
I0305 08:22:00.684890       1 tree.go:471] Updated node(145) last access: 130.8746 seconds
I0305 08:22:00.684902       1 tree.go:667] Split complete - New node(161)
I0305 08:22:00.684906       1 tree.go:668] Split complete - Child node(146)
I0305 08:22:00.684912       1 tree.go:501] latency, splitNode, 0.0000 seconds, 110 tokens:
I0305 08:22:00.684917       1 tree.go:471] Updated node(161) last access: 130.8746 seconds
I0305 08:22:00.684922       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 08:22:00.684927       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:00.684934       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:00.684942       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:00.684948       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:00.684929619 +0000 UTC m=+130.989831716]
I0305 08:22:00.684967       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7489, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 08:22:00.684976       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 08:22:00.685032       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7489
I0305 08:22:00.685043       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:00.685052       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.685059       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.685064       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.685071       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.685076       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.685081       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.685086       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:00.685097       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:00.685108       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:00.685120       1 prefix_cache_and_load.go:584] latency, Route, 0.0616
I0305 08:22:00.685129       1 gateway.go:415] latency, selectTargetPod, 0.0617, target pod, 10.0.1.22:8000
I0305 08:22:00.685141       1 gateway.go:235] latency, HandleRequestBody, 0.0621
I0305 08:22:00.703792       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6edd049a-dbb7-4043-a066-e2dc53f3a709"
I0305 08:22:00.740007       1 gateway.go:608] "First token received" requestID="6edd049a-dbb7-4043-a066-e2dc53f3a709" ttft_ms=116
I0305 08:22:00.785812       1 gateway.go:562] latency, 0.0001, summary, hash(request), 64e13894, selectedpod, 10.0.0.101:8000, ttft, 137, tpot, 19, e2e, 310, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:00.785841       1 gateway.go:748] "Request completed" requestID="385aa278-7ee1-40b3-b028-858e4d05dcd0" targetPod="10.0.0.101:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:00.785857       1 gateway.go:764] "HandleResponseBody completed" requestID="385aa278-7ee1-40b3-b028-858e4d05dcd0" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:00.887975       1 gateway.go:207] "Processing request" requestID="4cfa686f-8392-4495-95e6-833b49a2b3e7"
I0305 08:22:00.888008       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4cfa686f-8392-4495-95e6-833b49a2b3e7"
I0305 08:22:00.888018       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:00.913253       1 gateway.go:562] latency, 0.0000, summary, hash(request), ab77e84c, selectedpod, 10.0.1.22:8000, ttft, 116, tpot, 19, e2e, 290, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:00.913275       1 gateway.go:748] "Request completed" requestID="6edd049a-dbb7-4043-a066-e2dc53f3a709" targetPod="10.0.1.22:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:00.913288       1 gateway.go:764] "HandleResponseBody completed" requestID="6edd049a-dbb7-4043-a066-e2dc53f3a709" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:01.004618       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4cfa686f-8392-4495-95e6-833b49a2b3e7"
I0305 08:22:01.004867       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4cfa686f-8392-4495-95e6-833b49a2b3e7" model="qwen2-5-7b-instruct"
I0305 08:22:01.004947       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:01.004954       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:01.004957       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:01.005105       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:01.005132       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:01.005138       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:01.054191       1 gateway.go:207] "Processing request" requestID="5485dfc2-8338-4f3c-bcac-7fbcb29901a2"
I0305 08:22:01.054228       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5485dfc2-8338-4f3c-bcac-7fbcb29901a2"
I0305 08:22:01.054240       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:01.063354       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0582, numInputTokens, 7600
I0305 08:22:01.063371       1 tree.go:471] Updated node(0) last access: 131.2531 seconds
I0305 08:22:01.063377       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:01.063381       1 tree.go:471] Updated node(2) last access: 131.2531 seconds
I0305 08:22:01.063395       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:01.063399       1 tree.go:471] Updated node(16) last access: 131.2531 seconds
I0305 08:22:01.063410       1 tree.go:667] Split complete - New node(163)
I0305 08:22:01.063415       1 tree.go:668] Split complete - Child node(80)
I0305 08:22:01.063421       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:22:01.063426       1 tree.go:471] Updated node(163) last access: 131.2531 seconds
I0305 08:22:01.063432       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:01.063439       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:01.063451       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:01.063459       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:01.063469       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:01.063444489 +0000 UTC m=+131.368346591]
I0305 08:22:01.063494       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7483, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:01.063506       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:01.063590       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7483
I0305 08:22:01.063608       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:01.063624       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.063636       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.063646       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.063658       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.063684       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.063703       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:01.063718       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:01.063735       1 prefix_cache_and_load.go:584] latency, Route, 0.0588
I0305 08:22:01.063750       1 gateway.go:415] latency, selectTargetPod, 0.0588, target pod, 10.0.1.14:8000
I0305 08:22:01.063770       1 gateway.go:235] latency, HandleRequestBody, 0.0592
I0305 08:22:01.082362       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4cfa686f-8392-4495-95e6-833b49a2b3e7"
I0305 08:22:01.113811       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5485dfc2-8338-4f3c-bcac-7fbcb29901a2"
I0305 08:22:01.114072       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5485dfc2-8338-4f3c-bcac-7fbcb29901a2" model="qwen2-5-7b-instruct"
I0305 08:22:01.114167       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:01.114174       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:01.114177       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:01.114373       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:01.114412       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:01.114420       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:01.126008       1 gateway.go:608] "First token received" requestID="4cfa686f-8392-4495-95e6-833b49a2b3e7" ttft_ms=121
I0305 08:22:01.172976       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0585, numInputTokens, 7603
I0305 08:22:01.172994       1 tree.go:471] Updated node(0) last access: 131.3627 seconds
I0305 08:22:01.173000       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:01.173003       1 tree.go:471] Updated node(2) last access: 131.3627 seconds
I0305 08:22:01.173016       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:01.173018       1 tree.go:471] Updated node(45) last access: 131.3627 seconds
I0305 08:22:01.173025       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 125 tokens:
I0305 08:22:01.173031       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 08:22:01.173038       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:22:01.173045       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:01.173050       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:01.17303293 +0000 UTC m=+131.477935027]
I0305 08:22:01.173067       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7478, Matching ratio: 0.9836, # Matched pods: 0, Matched pods: []
I0305 08:22:01.173075       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9836 > 0.5000)
I0305 08:22:01.173125       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:22:01.173138       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:01.173148       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.173154       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.173159       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.173162       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.173171       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:01.173181       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:01.173191       1 prefix_cache_and_load.go:584] latency, Route, 0.0590
I0305 08:22:01.173200       1 gateway.go:415] latency, selectTargetPod, 0.0590, target pod, 10.0.0.134:8000
I0305 08:22:01.173211       1 gateway.go:235] latency, HandleRequestBody, 0.0594
I0305 08:22:01.190467       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5485dfc2-8338-4f3c-bcac-7fbcb29901a2"
I0305 08:22:01.234515       1 gateway.go:608] "First token received" requestID="5485dfc2-8338-4f3c-bcac-7fbcb29901a2" ttft_ms=120
I0305 08:22:01.298615       1 gateway.go:562] latency, 0.0001, summary, hash(request), 18ac63a0, selectedpod, 10.0.1.14:8000, ttft, 121, tpot, 19, e2e, 293, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:01.298643       1 gateway.go:748] "Request completed" requestID="4cfa686f-8392-4495-95e6-833b49a2b3e7" targetPod="10.0.1.14:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:01.298660       1 gateway.go:764] "HandleResponseBody completed" requestID="4cfa686f-8392-4495-95e6-833b49a2b3e7" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:01.407237       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0e7b3b9b, selectedpod, 10.0.0.134:8000, ttft, 120, tpot, 19, e2e, 293, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:22:01.407258       1 gateway.go:748] "Request completed" requestID="5485dfc2-8338-4f3c-bcac-7fbcb29901a2" targetPod="10.0.0.134:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:22:01.407269       1 gateway.go:764] "HandleResponseBody completed" requestID="5485dfc2-8338-4f3c-bcac-7fbcb29901a2" promptTokens=7622 completionTokens=10 stream=true
I0305 08:22:01.486473       1 gateway.go:207] "Processing request" requestID="17f63acf-98f4-4130-be78-4bb32bab6f4b"
I0305 08:22:01.486503       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="17f63acf-98f4-4130-be78-4bb32bab6f4b"
I0305 08:22:01.486512       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:01.593995       1 gateway.go:329] "-- In RequestBody processing ..." requestID="17f63acf-98f4-4130-be78-4bb32bab6f4b"
I0305 08:22:01.594224       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="17f63acf-98f4-4130-be78-4bb32bab6f4b" model="qwen2-5-7b-instruct"
I0305 08:22:01.594303       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:01.594310       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:01.594313       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:01.594475       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:01.594504       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:01.594510       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:01.656770       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0623, numInputTokens, 7603
I0305 08:22:01.656790       1 tree.go:471] Updated node(0) last access: 131.8465 seconds
I0305 08:22:01.656797       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:01.656801       1 tree.go:471] Updated node(2) last access: 131.8465 seconds
I0305 08:22:01.656814       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:01.656817       1 tree.go:471] Updated node(10) last access: 131.8465 seconds
I0305 08:22:01.656821       1 tree.go:490] Partial tokens match child node(76). Continue to go deeper in the radix tree
I0305 08:22:01.656825       1 tree.go:471] Updated node(76) last access: 131.8465 seconds
I0305 08:22:01.656833       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:22:01.656838       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 08:22:01.656846       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:22:01.656854       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:01.656860       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:01.656840754 +0000 UTC m=+131.961742850]
I0305 08:22:01.656877       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7481, Matching ratio: 0.9840, # Matched pods: 0, Matched pods: []
I0305 08:22:01.656884       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9840 > 0.5000)
I0305 08:22:01.656934       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7481
I0305 08:22:01.656947       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:01.656957       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.656964       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.656971       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.656976       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.656981       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.656989       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:01.656999       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:01.657010       1 prefix_cache_and_load.go:584] latency, Route, 0.0627
I0305 08:22:01.657021       1 gateway.go:415] latency, selectTargetPod, 0.0627, target pod, 10.0.0.101:8000
I0305 08:22:01.657033       1 gateway.go:235] latency, HandleRequestBody, 0.0630
I0305 08:22:01.675627       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="17f63acf-98f4-4130-be78-4bb32bab6f4b"
I0305 08:22:01.719817       1 gateway.go:608] "First token received" requestID="17f63acf-98f4-4130-be78-4bb32bab6f4b" ttft_ms=125
I0305 08:22:01.724276       1 gateway.go:207] "Processing request" requestID="8ca7a16f-ba9b-421b-b33e-2cd9e46c284c"
I0305 08:22:01.724304       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8ca7a16f-ba9b-421b-b33e-2cd9e46c284c"
I0305 08:22:01.724314       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:01.822920       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8ca7a16f-ba9b-421b-b33e-2cd9e46c284c"
I0305 08:22:01.850908       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8ca7a16f-ba9b-421b-b33e-2cd9e46c284c" model="qwen2-5-7b-instruct"
I0305 08:22:01.850993       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:01.850999       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:01.851003       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:01.851137       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:01.851163       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:01.851168       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:01.893375       1 gateway.go:562] latency, 0.0001, summary, hash(request), 82c0004a, selectedpod, 10.0.0.101:8000, ttft, 125, tpot, 19, e2e, 299, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:22:01.893400       1 gateway.go:748] "Request completed" requestID="17f63acf-98f4-4130-be78-4bb32bab6f4b" targetPod="10.0.0.101:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:22:01.893416       1 gateway.go:764] "HandleResponseBody completed" requestID="17f63acf-98f4-4130-be78-4bb32bab6f4b" promptTokens=7622 completionTokens=10 stream=true
I0305 08:22:01.909216       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0580, numInputTokens, 7600
I0305 08:22:01.909231       1 tree.go:471] Updated node(0) last access: 132.0989 seconds
I0305 08:22:01.909238       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:01.909242       1 tree.go:471] Updated node(2) last access: 132.0990 seconds
I0305 08:22:01.909255       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:01.909260       1 tree.go:471] Updated node(73) last access: 132.0990 seconds
I0305 08:22:01.909264       1 tree.go:490] Partial tokens match child node(118). Continue to go deeper in the radix tree
I0305 08:22:01.909267       1 tree.go:471] Updated node(118) last access: 132.0990 seconds
I0305 08:22:01.909277       1 tree.go:667] Split complete - New node(167)
I0305 08:22:01.909280       1 tree.go:668] Split complete - Child node(119)
I0305 08:22:01.909285       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:01.909290       1 tree.go:471] Updated node(167) last access: 132.0990 seconds
I0305 08:22:01.909296       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:01.909302       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:01.909309       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:01.909316       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:01.909322       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:01.909304017 +0000 UTC m=+132.214206114]
I0305 08:22:01.909348       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:01.909356       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:01.909415       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7484
I0305 08:22:01.909425       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:01.909435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.909442       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.909448       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.909452       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.909458       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.909461       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:01.909471       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:01.909481       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:01.909491       1 prefix_cache_and_load.go:584] latency, Route, 0.0585
I0305 08:22:01.909500       1 gateway.go:415] latency, selectTargetPod, 0.0585, target pod, 10.0.0.134:8000
I0305 08:22:01.909512       1 gateway.go:235] latency, HandleRequestBody, 0.0866
I0305 08:22:01.926421       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8ca7a16f-ba9b-421b-b33e-2cd9e46c284c"
I0305 08:22:01.961575       1 gateway.go:608] "First token received" requestID="8ca7a16f-ba9b-421b-b33e-2cd9e46c284c" ttft_ms=138
I0305 08:22:01.972796       1 gateway.go:207] "Processing request" requestID="ed3721cc-8198-495a-85c3-f6781006518c"
I0305 08:22:01.972823       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ed3721cc-8198-495a-85c3-f6781006518c"
I0305 08:22:01.972831       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:02.039981       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ed3721cc-8198-495a-85c3-f6781006518c"
I0305 08:22:02.040208       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ed3721cc-8198-495a-85c3-f6781006518c" model="qwen2-5-7b-instruct"
I0305 08:22:02.040278       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:02.040285       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:02.040289       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:02.040454       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:02.040481       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:02.040487       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:02.100031       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0595, numInputTokens, 7598
I0305 08:22:02.100056       1 tree.go:471] Updated node(0) last access: 132.2898 seconds
I0305 08:22:02.100063       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:02.100066       1 tree.go:471] Updated node(2) last access: 132.2898 seconds
I0305 08:22:02.100079       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:02.100082       1 tree.go:471] Updated node(24) last access: 132.2898 seconds
I0305 08:22:02.100092       1 tree.go:667] Split complete - New node(169)
I0305 08:22:02.100124       1 tree.go:668] Split complete - Child node(20)
I0305 08:22:02.100130       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:22:02.100135       1 tree.go:471] Updated node(169) last access: 132.2899 seconds
I0305 08:22:02.100142       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:22:02.100146       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:02.100163       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:02.100170       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:02.100175       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:02.100147965 +0000 UTC m=+132.405050061]
I0305 08:22:02.100192       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7485, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:22:02.100200       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:22:02.100258       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7485
I0305 08:22:02.100269       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:02.100277       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.100284       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.100289       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.100294       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.100299       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.100309       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:02.100320       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:02.100342       1 prefix_cache_and_load.go:584] latency, Route, 0.0601
I0305 08:22:02.100353       1 gateway.go:415] latency, selectTargetPod, 0.0601, target pod, 10.0.3.30:8000
I0305 08:22:02.100365       1 gateway.go:235] latency, HandleRequestBody, 0.0604
I0305 08:22:02.116453       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ed3721cc-8198-495a-85c3-f6781006518c"
I0305 08:22:02.122735       1 gateway.go:207] "Processing request" requestID="84bee9f3-6f80-40b3-a913-50cbfa1079f5"
I0305 08:22:02.122761       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="84bee9f3-6f80-40b3-a913-50cbfa1079f5"
I0305 08:22:02.122771       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:02.134371       1 gateway.go:562] latency, 0.0001, summary, hash(request), c97a36a4, selectedpod, 10.0.0.134:8000, ttft, 138, tpot, 19, e2e, 311, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:02.134394       1 gateway.go:748] "Request completed" requestID="8ca7a16f-ba9b-421b-b33e-2cd9e46c284c" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:02.134407       1 gateway.go:764] "HandleResponseBody completed" requestID="8ca7a16f-ba9b-421b-b33e-2cd9e46c284c" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:02.152491       1 gateway.go:608] "First token received" requestID="ed3721cc-8198-495a-85c3-f6781006518c" ttft_ms=112
I0305 08:22:02.175992       1 gateway.go:329] "-- In RequestBody processing ..." requestID="84bee9f3-6f80-40b3-a913-50cbfa1079f5"
I0305 08:22:02.176274       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="84bee9f3-6f80-40b3-a913-50cbfa1079f5" model="qwen2-5-7b-instruct"
I0305 08:22:02.176445       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:02.176455       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:02.176460       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:02.176642       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:02.176692       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:02.176699       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:02.234394       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0577, numInputTokens, 7601
I0305 08:22:02.234411       1 tree.go:471] Updated node(0) last access: 132.4241 seconds
I0305 08:22:02.234417       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:02.234421       1 tree.go:471] Updated node(2) last access: 132.4241 seconds
I0305 08:22:02.234433       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:02.234442       1 tree.go:471] Updated node(6) last access: 132.4242 seconds
I0305 08:22:02.234451       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:22:02.234456       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:22:02.234464       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:02.234470       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:02.234476       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:02.234458804 +0000 UTC m=+132.539360901]
I0305 08:22:02.234493       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:22:02.234502       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:22:02.234566       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7478
I0305 08:22:02.234577       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:02.234590       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.234595       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.234599       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.234608       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.234622       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:02.234635       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:02.234645       1 prefix_cache_and_load.go:584] latency, Route, 0.0582
I0305 08:22:02.234657       1 gateway.go:415] latency, selectTargetPod, 0.0582, target pod, 10.0.1.22:8000
I0305 08:22:02.234680       1 gateway.go:235] latency, HandleRequestBody, 0.0587
I0305 08:22:02.252467       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="84bee9f3-6f80-40b3-a913-50cbfa1079f5"
I0305 08:22:02.296545       1 gateway.go:608] "First token received" requestID="84bee9f3-6f80-40b3-a913-50cbfa1079f5" ttft_ms=120
I0305 08:22:02.325433       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2e0f441f, selectedpod, 10.0.3.30:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:02.325456       1 gateway.go:748] "Request completed" requestID="ed3721cc-8198-495a-85c3-f6781006518c" targetPod="10.0.3.30:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:02.325469       1 gateway.go:764] "HandleResponseBody completed" requestID="ed3721cc-8198-495a-85c3-f6781006518c" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:02.469656       1 gateway.go:562] latency, 0.0001, summary, hash(request), 0a42ca7e, selectedpod, 10.0.1.22:8000, ttft, 120, tpot, 19, e2e, 293, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:02.469698       1 gateway.go:748] "Request completed" requestID="84bee9f3-6f80-40b3-a913-50cbfa1079f5" targetPod="10.0.1.22:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:02.469715       1 gateway.go:764] "HandleResponseBody completed" requestID="84bee9f3-6f80-40b3-a913-50cbfa1079f5" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:02.750765       1 gateway.go:207] "Processing request" requestID="5547e910-521e-4bb5-876b-03a2ba24ecfe"
I0305 08:22:02.750809       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5547e910-521e-4bb5-876b-03a2ba24ecfe"
I0305 08:22:02.750819       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:02.845537       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5547e910-521e-4bb5-876b-03a2ba24ecfe"
I0305 08:22:02.854218       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5547e910-521e-4bb5-876b-03a2ba24ecfe" model="qwen2-5-7b-instruct"
I0305 08:22:02.854391       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:02.854428       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:02.854435       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:02.854645       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:02.854747       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:02.854756       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:02.914488       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0597, numInputTokens, 7592
I0305 08:22:02.914507       1 tree.go:471] Updated node(0) last access: 133.1042 seconds
I0305 08:22:02.914514       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:02.914517       1 tree.go:471] Updated node(2) last access: 133.1042 seconds
I0305 08:22:02.914531       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:02.914535       1 tree.go:471] Updated node(28) last access: 133.1043 seconds
I0305 08:22:02.914541       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:02.914546       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7592 tokens
I0305 08:22:02.914554       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7592 tokens
I0305 08:22:02.914560       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:02.914566       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:02.914548647 +0000 UTC m=+133.219450744]
I0305 08:22:02.914582       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7592, Matched tokens: 7478, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:02.914590       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:02.914642       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7478
I0305 08:22:02.914653       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:02.914671       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.914678       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.914682       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.914686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:02.914695       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:02.914705       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:02.914718       1 prefix_cache_and_load.go:584] latency, Route, 0.0603
I0305 08:22:02.914728       1 gateway.go:415] latency, selectTargetPod, 0.0603, target pod, 10.0.0.39:8000
I0305 08:22:02.914740       1 gateway.go:235] latency, HandleRequestBody, 0.0692
I0305 08:22:02.933498       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5547e910-521e-4bb5-876b-03a2ba24ecfe"
I0305 08:22:02.950134       1 gateway.go:207] "Processing request" requestID="d1280e57-d846-47c6-8409-cc5f821306bd"
I0305 08:22:02.950166       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d1280e57-d846-47c6-8409-cc5f821306bd"
I0305 08:22:02.950177       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:02.954404       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d1280e57-d846-47c6-8409-cc5f821306bd"
I0305 08:22:02.954634       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d1280e57-d846-47c6-8409-cc5f821306bd" model="qwen2-5-7b-instruct"
I0305 08:22:02.954730       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:02.954737       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:02.954741       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:02.954866       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:02.954896       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:02.954902       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:02.970317       1 gateway.go:608] "First token received" requestID="5547e910-521e-4bb5-876b-03a2ba24ecfe" ttft_ms=124
I0305 08:22:03.014371       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0595, numInputTokens, 7597
I0305 08:22:03.014390       1 tree.go:471] Updated node(0) last access: 133.2041 seconds
I0305 08:22:03.014396       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:03.014400       1 tree.go:471] Updated node(2) last access: 133.2041 seconds
I0305 08:22:03.014413       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:03.014416       1 tree.go:471] Updated node(57) last access: 133.2041 seconds
I0305 08:22:03.014428       1 tree.go:667] Split complete - New node(173)
I0305 08:22:03.014433       1 tree.go:668] Split complete - Child node(67)
I0305 08:22:03.014438       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:03.014443       1 tree.go:471] Updated node(173) last access: 133.2042 seconds
I0305 08:22:03.014450       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:03.014455       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:03.014462       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:03.014469       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:03.014475       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:03.014457469 +0000 UTC m=+133.319359567]
I0305 08:22:03.014491       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7483, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:03.014498       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:03.014550       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7483
I0305 08:22:03.014560       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:03.014570       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.014577       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.014580       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.014585       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.014592       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.014601       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:03.014611       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:03.014622       1 prefix_cache_and_load.go:584] latency, Route, 0.0599
I0305 08:22:03.014632       1 gateway.go:415] latency, selectTargetPod, 0.0599, target pod, 10.0.1.28:8000
I0305 08:22:03.014644       1 gateway.go:235] latency, HandleRequestBody, 0.0602
I0305 08:22:03.032563       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d1280e57-d846-47c6-8409-cc5f821306bd"
I0305 08:22:03.068765       1 gateway.go:608] "First token received" requestID="d1280e57-d846-47c6-8409-cc5f821306bd" ttft_ms=114
I0305 08:22:03.101882       1 gateway.go:207] "Processing request" requestID="e3529eb9-5068-4746-98fd-eae275c561d6"
I0305 08:22:03.101909       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e3529eb9-5068-4746-98fd-eae275c561d6"
I0305 08:22:03.101918       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:03.102148       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e3529eb9-5068-4746-98fd-eae275c561d6"
I0305 08:22:03.102382       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e3529eb9-5068-4746-98fd-eae275c561d6" model="qwen2-5-7b-instruct"
I0305 08:22:03.102475       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:03.102482       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:03.102486       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:03.102622       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:03.102649       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:03.102654       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:03.143231       1 gateway.go:562] latency, 0.0000, summary, hash(request), f63f2ffb, selectedpod, 10.0.0.39:8000, ttft, 124, tpot, 19, e2e, 297, numInputTokens, 7611, numOutputTokens, 10, numTotalTokens, 7621
I0305 08:22:03.143254       1 gateway.go:748] "Request completed" requestID="5547e910-521e-4bb5-876b-03a2ba24ecfe" targetPod="10.0.0.39:8000" promptTokens=7611 completionTokens=10 totalTokens=7621
I0305 08:22:03.143274       1 gateway.go:764] "HandleResponseBody completed" requestID="5547e910-521e-4bb5-876b-03a2ba24ecfe" promptTokens=7611 completionTokens=10 stream=true
I0305 08:22:03.163700       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0610, numInputTokens, 7599
I0305 08:22:03.163719       1 tree.go:471] Updated node(0) last access: 133.3534 seconds
I0305 08:22:03.163726       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:03.163730       1 tree.go:471] Updated node(2) last access: 133.3534 seconds
I0305 08:22:03.163743       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:03.163748       1 tree.go:471] Updated node(57) last access: 133.3535 seconds
I0305 08:22:03.163759       1 tree.go:667] Split complete - New node(175)
I0305 08:22:03.163764       1 tree.go:668] Split complete - Child node(5)
I0305 08:22:03.163770       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:22:03.163774       1 tree.go:471] Updated node(175) last access: 133.3535 seconds
I0305 08:22:03.163780       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:03.163788       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:03.163799       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:03.163811       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:03.163816       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:03.163793231 +0000 UTC m=+133.468695330]
I0305 08:22:03.163837       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7481, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:03.163845       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:03.163905       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7481
I0305 08:22:03.163918       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:03.163927       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.163934       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.163939       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.163946       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.163955       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.163967       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:03.163979       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:03.163991       1 prefix_cache_and_load.go:584] latency, Route, 0.0615
I0305 08:22:03.164000       1 gateway.go:415] latency, selectTargetPod, 0.0615, target pod, 10.0.1.28:8000
I0305 08:22:03.164011       1 gateway.go:235] latency, HandleRequestBody, 0.0619
I0305 08:22:03.182236       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e3529eb9-5068-4746-98fd-eae275c561d6"
I0305 08:22:03.242816       1 gateway.go:608] "First token received" requestID="e3529eb9-5068-4746-98fd-eae275c561d6" ttft_ms=140
I0305 08:22:03.249754       1 gateway.go:207] "Processing request" requestID="5bafef81-79b9-44a7-bfca-7a08abf2d523"
I0305 08:22:03.249782       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5bafef81-79b9-44a7-bfca-7a08abf2d523"
I0305 08:22:03.249790       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:03.283035       1 gateway.go:562] latency, 0.0001, summary, hash(request), 5b6a1f29, selectedpod, 10.0.1.28:8000, ttft, 114, tpot, 23, e2e, 328, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:03.283056       1 gateway.go:748] "Request completed" requestID="d1280e57-d846-47c6-8409-cc5f821306bd" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:03.283070       1 gateway.go:764] "HandleResponseBody completed" requestID="d1280e57-d846-47c6-8409-cc5f821306bd" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:03.337651       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5bafef81-79b9-44a7-bfca-7a08abf2d523"
I0305 08:22:03.337892       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5bafef81-79b9-44a7-bfca-7a08abf2d523" model="qwen2-5-7b-instruct"
I0305 08:22:03.337977       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:03.337983       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:03.337987       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:03.338138       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:03.338166       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:03.338171       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:03.377283       1 gateway.go:207] "Processing request" requestID="7f241765-2b79-401b-add3-8eaf4091ba81"
I0305 08:22:03.377324       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7f241765-2b79-401b-add3-8eaf4091ba81"
I0305 08:22:03.377345       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:03.394895       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7f241765-2b79-401b-add3-8eaf4091ba81"
I0305 08:22:03.395122       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7f241765-2b79-401b-add3-8eaf4091ba81" model="qwen2-5-7b-instruct"
I0305 08:22:03.396384       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0582, numInputTokens, 7591
I0305 08:22:03.396400       1 tree.go:471] Updated node(0) last access: 133.5861 seconds
I0305 08:22:03.396407       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:03.396413       1 tree.go:471] Updated node(2) last access: 133.5861 seconds
I0305 08:22:03.396426       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:03.396430       1 tree.go:471] Updated node(28) last access: 133.5861 seconds
I0305 08:22:03.396441       1 tree.go:667] Split complete - New node(177)
I0305 08:22:03.396446       1 tree.go:668] Split complete - Child node(172)
I0305 08:22:03.396451       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 08:22:03.396457       1 tree.go:471] Updated node(177) last access: 133.5862 seconds
I0305 08:22:03.396462       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 08:22:03.396467       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7591 tokens
I0305 08:22:03.396474       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7591 tokens
I0305 08:22:03.396482       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:03.396488       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:03.39646951 +0000 UTC m=+133.701371608]
I0305 08:22:03.396506       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7591, Matched tokens: 7480, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 08:22:03.396515       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 08:22:03.396572       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7480
I0305 08:22:03.396583       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:03.396593       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.396599       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.396604       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.396610       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.396616       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.396626       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:03.396637       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:03.396648       1 prefix_cache_and_load.go:584] latency, Route, 0.0587
I0305 08:22:03.396676       1 gateway.go:415] latency, selectTargetPod, 0.0587, target pod, 10.0.0.39:8000
I0305 08:22:03.396688       1 gateway.go:235] latency, HandleRequestBody, 0.0590
I0305 08:22:03.396708       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0015
I0305 08:22:03.396713       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:03.396716       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:03.396814       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:03.396841       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:22:03.396846       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:03.403896       1 gateway.go:207] "Processing request" requestID="1f37fcbc-a1b1-474f-8aad-6a174ba50bc8"
I0305 08:22:03.403925       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1f37fcbc-a1b1-474f-8aad-6a174ba50bc8"
I0305 08:22:03.403934       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:03.415286       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5bafef81-79b9-44a7-bfca-7a08abf2d523"
I0305 08:22:03.418607       1 gateway.go:562] latency, 0.0001, summary, hash(request), e21b7797, selectedpod, 10.0.1.28:8000, ttft, 140, tpot, 19, e2e, 316, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:03.418645       1 gateway.go:748] "Request completed" requestID="e3529eb9-5068-4746-98fd-eae275c561d6" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:03.418682       1 gateway.go:764] "HandleResponseBody completed" requestID="e3529eb9-5068-4746-98fd-eae275c561d6" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:03.451439       1 gateway.go:608] "First token received" requestID="5bafef81-79b9-44a7-bfca-7a08abf2d523" ttft_ms=113
I0305 08:22:03.486687       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0898, numInputTokens, 7600
I0305 08:22:03.486704       1 tree.go:471] Updated node(0) last access: 133.6764 seconds
I0305 08:22:03.486711       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:03.486714       1 tree.go:471] Updated node(2) last access: 133.6764 seconds
I0305 08:22:03.486729       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:03.486735       1 tree.go:471] Updated node(57) last access: 133.6765 seconds
I0305 08:22:03.486742       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 08:22:03.486746       1 tree.go:471] Updated node(175) last access: 133.6765 seconds
I0305 08:22:03.486756       1 tree.go:667] Split complete - New node(179)
I0305 08:22:03.486761       1 tree.go:668] Split complete - Child node(176)
I0305 08:22:03.486766       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:03.486772       1 tree.go:471] Updated node(179) last access: 133.6765 seconds
I0305 08:22:03.486777       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:03.486782       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:03.486788       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:03.486795       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:03.486801       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:03.48678413 +0000 UTC m=+133.791686227]
I0305 08:22:03.486821       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:03.486830       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:03.486880       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7484
I0305 08:22:03.486896       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:03.486906       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.486914       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.486921       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.486929       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.486934       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.486940       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.486950       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:03.486964       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:03.486979       1 prefix_cache_and_load.go:584] latency, Route, 0.0918
I0305 08:22:03.486988       1 gateway.go:415] latency, selectTargetPod, 0.0918, target pod, 10.0.1.28:8000
I0305 08:22:03.487000       1 gateway.go:235] latency, HandleRequestBody, 0.0921
I0305 08:22:03.506808       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7f241765-2b79-401b-add3-8eaf4091ba81"
I0305 08:22:03.541897       1 gateway.go:608] "First token received" requestID="7f241765-2b79-401b-add3-8eaf4091ba81" ttft_ms=146
I0305 08:22:03.564702       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1f37fcbc-a1b1-474f-8aad-6a174ba50bc8"
I0305 08:22:03.564844       1 gateway.go:207] "Processing request" requestID="8469bffd-51a1-46eb-8b29-fbdd3732e7bb"
I0305 08:22:03.564875       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8469bffd-51a1-46eb-8b29-fbdd3732e7bb"
I0305 08:22:03.564884       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:03.564966       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1f37fcbc-a1b1-474f-8aad-6a174ba50bc8" model="qwen2-5-7b-instruct"
I0305 08:22:03.565074       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:03.565085       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:03.565090       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:03.565267       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:03.565299       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:03.565304       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:03.621977       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0567, numInputTokens, 7599
I0305 08:22:03.621992       1 tree.go:471] Updated node(0) last access: 133.8117 seconds
I0305 08:22:03.621998       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:03.622002       1 tree.go:471] Updated node(2) last access: 133.8117 seconds
I0305 08:22:03.622013       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:03.622017       1 tree.go:471] Updated node(36) last access: 133.8117 seconds
I0305 08:22:03.622024       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:22:03.622031       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:22:03.622038       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:03.622045       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:03.622050       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:03.622033099 +0000 UTC m=+133.926935196]
I0305 08:22:03.622069       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:22:03.622080       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:22:03.622127       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:22:03.622138       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:03.622148       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.622154       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.622161       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.622165       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.622175       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:03.622186       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:03.622196       1 prefix_cache_and_load.go:584] latency, Route, 0.0571
I0305 08:22:03.622204       1 gateway.go:415] latency, selectTargetPod, 0.0571, target pod, 10.0.3.30:8000
I0305 08:22:03.622214       1 gateway.go:235] latency, HandleRequestBody, 0.0575
I0305 08:22:03.624356       1 gateway.go:562] latency, 0.0001, summary, hash(request), a6d0f85c, selectedpod, 10.0.0.39:8000, ttft, 113, tpot, 19, e2e, 286, numInputTokens, 7610, numOutputTokens, 10, numTotalTokens, 7620
I0305 08:22:03.624381       1 gateway.go:748] "Request completed" requestID="5bafef81-79b9-44a7-bfca-7a08abf2d523" targetPod="10.0.0.39:8000" promptTokens=7610 completionTokens=10 totalTokens=7620
I0305 08:22:03.624396       1 gateway.go:764] "HandleResponseBody completed" requestID="5bafef81-79b9-44a7-bfca-7a08abf2d523" promptTokens=7610 completionTokens=10 stream=true
I0305 08:22:03.638605       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1f37fcbc-a1b1-474f-8aad-6a174ba50bc8"
I0305 08:22:03.658842       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8469bffd-51a1-46eb-8b29-fbdd3732e7bb"
I0305 08:22:03.659117       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8469bffd-51a1-46eb-8b29-fbdd3732e7bb" model="qwen2-5-7b-instruct"
I0305 08:22:03.659204       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:03.659211       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:03.659216       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:03.659350       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:03.659385       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:03.659393       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:03.668017       1 gateway.go:207] "Processing request" requestID="798cb8d7-70f2-4d49-a246-7adec8454f0b"
I0305 08:22:03.668048       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="798cb8d7-70f2-4d49-a246-7adec8454f0b"
I0305 08:22:03.668056       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:03.682748       1 gateway.go:608] "First token received" requestID="1f37fcbc-a1b1-474f-8aad-6a174ba50bc8" ttft_ms=117
I0305 08:22:03.714942       1 gateway.go:562] latency, 0.0001, summary, hash(request), bbf7e859, selectedpod, 10.0.1.28:8000, ttft, 146, tpot, 19, e2e, 319, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:03.714963       1 gateway.go:748] "Request completed" requestID="7f241765-2b79-401b-add3-8eaf4091ba81" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:03.714974       1 gateway.go:764] "HandleResponseBody completed" requestID="7f241765-2b79-401b-add3-8eaf4091ba81" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:03.718654       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0593, numInputTokens, 7602
I0305 08:22:03.718680       1 tree.go:471] Updated node(0) last access: 133.9084 seconds
I0305 08:22:03.718686       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:03.718690       1 tree.go:471] Updated node(2) last access: 133.9084 seconds
I0305 08:22:03.718709       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:03.718714       1 tree.go:471] Updated node(73) last access: 133.9084 seconds
I0305 08:22:03.718720       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 08:22:03.718726       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 08:22:03.718733       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:03.718740       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:03.718745       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:03.718728269 +0000 UTC m=+134.023630366]
I0305 08:22:03.718761       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 08:22:03.718770       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 08:22:03.718818       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:22:03.718828       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:03.718838       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.718844       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.718850       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.718858       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.718869       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:03.718879       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:03.718889       1 prefix_cache_and_load.go:584] latency, Route, 0.0597
I0305 08:22:03.718898       1 gateway.go:415] latency, selectTargetPod, 0.0597, target pod, 10.0.0.134:8000
I0305 08:22:03.718911       1 gateway.go:235] latency, HandleRequestBody, 0.0601
I0305 08:22:03.736362       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8469bffd-51a1-46eb-8b29-fbdd3732e7bb"
I0305 08:22:03.771781       1 gateway.go:329] "-- In RequestBody processing ..." requestID="798cb8d7-70f2-4d49-a246-7adec8454f0b"
I0305 08:22:03.772057       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="798cb8d7-70f2-4d49-a246-7adec8454f0b" model="qwen2-5-7b-instruct"
I0305 08:22:03.772167       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:03.772175       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:03.772178       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:03.772303       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:03.772340       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:03.772346       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:03.780135       1 gateway.go:608] "First token received" requestID="8469bffd-51a1-46eb-8b29-fbdd3732e7bb" ttft_ms=121
I0305 08:22:03.816834       1 gateway.go:207] "Processing request" requestID="cc90aff8-0780-45ff-bc4f-68c422999b46"
I0305 08:22:03.816863       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cc90aff8-0780-45ff-bc4f-68c422999b46"
I0305 08:22:03.816872       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:03.831520       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0592, numInputTokens, 7595
I0305 08:22:03.831537       1 tree.go:471] Updated node(0) last access: 134.0213 seconds
I0305 08:22:03.831544       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:03.831547       1 tree.go:471] Updated node(2) last access: 134.0213 seconds
I0305 08:22:03.831560       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:03.831564       1 tree.go:471] Updated node(36) last access: 134.0213 seconds
I0305 08:22:03.831568       1 tree.go:490] Partial tokens match child node(94). Continue to go deeper in the radix tree
I0305 08:22:03.831570       1 tree.go:471] Updated node(94) last access: 134.0213 seconds
I0305 08:22:03.831580       1 tree.go:667] Split complete - New node(183)
I0305 08:22:03.831585       1 tree.go:668] Split complete - Child node(48)
I0305 08:22:03.831590       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 08:22:03.831596       1 tree.go:471] Updated node(183) last access: 134.0213 seconds
I0305 08:22:03.831601       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 106 tokens:
I0305 08:22:03.831607       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 08:22:03.831613       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 08:22:03.831620       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:03.831626       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:03.831608865 +0000 UTC m=+134.136510962]
I0305 08:22:03.831648       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7489, Matching ratio: 0.9860, # Matched pods: 0, Matched pods: []
I0305 08:22:03.831659       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9860 > 0.5000)
I0305 08:22:03.831720       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7489
I0305 08:22:03.831736       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:03.831747       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.831758       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.831768       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.831772       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.831777       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.831790       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.831805       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:03.831821       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:03.831835       1 prefix_cache_and_load.go:584] latency, Route, 0.0597
I0305 08:22:03.831844       1 gateway.go:415] latency, selectTargetPod, 0.0597, target pod, 10.0.3.30:8000
I0305 08:22:03.831859       1 gateway.go:235] latency, HandleRequestBody, 0.0601
I0305 08:22:03.847141       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="798cb8d7-70f2-4d49-a246-7adec8454f0b"
I0305 08:22:03.865086       1 gateway.go:562] latency, 0.0000, summary, hash(request), aed63f91, selectedpod, 10.0.3.30:8000, ttft, 117, tpot, 20, e2e, 300, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:03.865112       1 gateway.go:748] "Request completed" requestID="1f37fcbc-a1b1-474f-8aad-6a174ba50bc8" targetPod="10.0.3.30:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:03.865128       1 gateway.go:764] "HandleResponseBody completed" requestID="1f37fcbc-a1b1-474f-8aad-6a174ba50bc8" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:03.887859       1 gateway.go:608] "First token received" requestID="798cb8d7-70f2-4d49-a246-7adec8454f0b" ttft_ms=116
I0305 08:22:03.923638       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cc90aff8-0780-45ff-bc4f-68c422999b46"
I0305 08:22:03.923902       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cc90aff8-0780-45ff-bc4f-68c422999b46" model="qwen2-5-7b-instruct"
I0305 08:22:03.923977       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:03.923983       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:03.923987       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:03.924101       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:03.924128       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:22:03.924134       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:03.950793       1 gateway.go:207] "Processing request" requestID="020d3a5b-d230-4a75-b71c-4de0341c1875"
I0305 08:22:03.950828       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="020d3a5b-d230-4a75-b71c-4de0341c1875"
I0305 08:22:03.950836       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:03.953029       1 gateway.go:562] latency, 0.0000, summary, hash(request), 70adb513, selectedpod, 10.0.0.134:8000, ttft, 121, tpot, 19, e2e, 294, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:03.953048       1 gateway.go:748] "Request completed" requestID="8469bffd-51a1-46eb-8b29-fbdd3732e7bb" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:03.953062       1 gateway.go:764] "HandleResponseBody completed" requestID="8469bffd-51a1-46eb-8b29-fbdd3732e7bb" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:03.981387       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0572, numInputTokens, 7602
I0305 08:22:03.981402       1 tree.go:471] Updated node(0) last access: 134.1711 seconds
I0305 08:22:03.981408       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:03.981412       1 tree.go:471] Updated node(2) last access: 134.1711 seconds
I0305 08:22:03.981425       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:03.981428       1 tree.go:471] Updated node(6) last access: 134.1711 seconds
I0305 08:22:03.981434       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 08:22:03.981441       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 08:22:03.981447       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:03.981454       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:03.981460       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:03.981443428 +0000 UTC m=+134.286345525]
I0305 08:22:03.981475       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 08:22:03.981483       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 08:22:03.981533       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7478
I0305 08:22:03.981544       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:03.981554       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.981562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.981566       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.981571       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:03.981580       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:03.981589       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:03.981599       1 prefix_cache_and_load.go:584] latency, Route, 0.0576
I0305 08:22:03.981607       1 gateway.go:415] latency, selectTargetPod, 0.0576, target pod, 10.0.1.22:8000
I0305 08:22:03.981617       1 gateway.go:235] latency, HandleRequestBody, 0.0580
I0305 08:22:03.995635       1 gateway.go:329] "-- In RequestBody processing ..." requestID="020d3a5b-d230-4a75-b71c-4de0341c1875"
I0305 08:22:03.995776       1 gateway.go:207] "Processing request" requestID="2d3d6bb4-d066-4f2d-a70b-cb64afdf05ea"
I0305 08:22:03.995804       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2d3d6bb4-d066-4f2d-a70b-cb64afdf05ea"
I0305 08:22:03.995812       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:03.995931       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="020d3a5b-d230-4a75-b71c-4de0341c1875" model="qwen2-5-7b-instruct"
I0305 08:22:03.996047       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:03.996056       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:03.996064       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:03.996218       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:03.996248       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:03.996254       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:03.999482       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cc90aff8-0780-45ff-bc4f-68c422999b46"
I0305 08:22:04.035942       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2d3d6bb4-d066-4f2d-a70b-cb64afdf05ea"
I0305 08:22:04.036143       1 gateway.go:207] "Processing request" requestID="dbebecb2-e76f-4a4e-8062-d749d5fd0012"
I0305 08:22:04.036175       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dbebecb2-e76f-4a4e-8062-d749d5fd0012"
I0305 08:22:04.036185       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:04.036245       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2d3d6bb4-d066-4f2d-a70b-cb64afdf05ea" model="qwen2-5-7b-instruct"
I0305 08:22:04.043053       1 gateway.go:608] "First token received" requestID="cc90aff8-0780-45ff-bc4f-68c422999b46" ttft_ms=119
I0305 08:22:04.062688       1 gateway.go:562] latency, 0.0001, summary, hash(request), adcc98d7, selectedpod, 10.0.3.30:8000, ttft, 116, tpot, 19, e2e, 290, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 08:22:04.062714       1 gateway.go:748] "Request completed" requestID="798cb8d7-70f2-4d49-a246-7adec8454f0b" targetPod="10.0.3.30:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 08:22:04.062732       1 gateway.go:764] "HandleResponseBody completed" requestID="798cb8d7-70f2-4d49-a246-7adec8454f0b" promptTokens=7614 completionTokens=10 stream=true
I0305 08:22:04.070659       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0744, numInputTokens, 7601
I0305 08:22:04.070685       1 tree.go:471] Updated node(0) last access: 134.2604 seconds
I0305 08:22:04.070692       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:04.070698       1 tree.go:471] Updated node(2) last access: 134.2604 seconds
I0305 08:22:04.070711       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:04.070715       1 tree.go:471] Updated node(21) last access: 134.2604 seconds
I0305 08:22:04.070726       1 tree.go:667] Split complete - New node(186)
I0305 08:22:04.070730       1 tree.go:668] Split complete - Child node(4)
I0305 08:22:04.070737       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 08:22:04.070743       1 tree.go:471] Updated node(186) last access: 134.2605 seconds
I0305 08:22:04.070748       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:22:04.070752       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:04.070758       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:04.070765       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:04.070771       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:04.070754107 +0000 UTC m=+134.375656204]
I0305 08:22:04.070787       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:22:04.070795       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:22:04.070849       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7481
I0305 08:22:04.070859       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:04.070869       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.070876       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.070880       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.070887       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.070893       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.070902       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:04.070913       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:04.070925       1 prefix_cache_and_load.go:584] latency, Route, 0.0749
I0305 08:22:04.070940       1 gateway.go:415] latency, selectTargetPod, 0.0749, target pod, 10.0.3.41:8000
I0305 08:22:04.070956       1 gateway.go:235] latency, HandleRequestBody, 0.0753
I0305 08:22:04.070981       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0347
I0305 08:22:04.070985       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:04.070988       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:04.071088       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:04.071115       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:22:04.071121       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:04.086440       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="020d3a5b-d230-4a75-b71c-4de0341c1875"
I0305 08:22:04.128869       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0577, numInputTokens, 7600
I0305 08:22:04.128886       1 tree.go:471] Updated node(0) last access: 134.3186 seconds
I0305 08:22:04.128893       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:04.128897       1 tree.go:471] Updated node(2) last access: 134.3186 seconds
I0305 08:22:04.128910       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:04.128913       1 tree.go:471] Updated node(36) last access: 134.3186 seconds
I0305 08:22:04.128925       1 tree.go:667] Split complete - New node(188)
I0305 08:22:04.128930       1 tree.go:668] Split complete - Child node(181)
I0305 08:22:04.128935       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:22:04.128942       1 tree.go:471] Updated node(188) last access: 134.3187 seconds
I0305 08:22:04.128950       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 08:22:04.128957       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:04.128966       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:04.128975       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:04.128985       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:04.128960003 +0000 UTC m=+134.433862104]
I0305 08:22:04.129007       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7489, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 08:22:04.129020       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 08:22:04.129072       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7489
I0305 08:22:04.129087       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:04.129098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.129104       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.129109       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.129116       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.129121       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.129131       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:04.129140       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:04.129150       1 prefix_cache_and_load.go:584] latency, Route, 0.0928
I0305 08:22:04.129161       1 gateway.go:415] latency, selectTargetPod, 0.0928, target pod, 10.0.3.30:8000
I0305 08:22:04.129176       1 gateway.go:235] latency, HandleRequestBody, 0.0932
I0305 08:22:04.130294       1 gateway.go:608] "First token received" requestID="020d3a5b-d230-4a75-b71c-4de0341c1875" ttft_ms=134
I0305 08:22:04.136152       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dbebecb2-e76f-4a4e-8062-d749d5fd0012"
I0305 08:22:04.136384       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dbebecb2-e76f-4a4e-8062-d749d5fd0012" model="qwen2-5-7b-instruct"
I0305 08:22:04.136474       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:04.136481       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:04.136485       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:04.136606       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:04.136632       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:22:04.136637       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:04.145258       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2d3d6bb4-d066-4f2d-a70b-cb64afdf05ea"
I0305 08:22:04.180317       1 gateway.go:608] "First token received" requestID="2d3d6bb4-d066-4f2d-a70b-cb64afdf05ea" ttft_ms=144
I0305 08:22:04.190117       1 gateway.go:207] "Processing request" requestID="2430eeca-6029-45a8-8718-e289e2fcdda0"
I0305 08:22:04.190147       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2430eeca-6029-45a8-8718-e289e2fcdda0"
I0305 08:22:04.190156       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:04.213631       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0770, numInputTokens, 7599
I0305 08:22:04.213649       1 tree.go:471] Updated node(0) last access: 134.4034 seconds
I0305 08:22:04.213655       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:04.213659       1 tree.go:471] Updated node(2) last access: 134.4034 seconds
I0305 08:22:04.213681       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:04.213686       1 tree.go:471] Updated node(16) last access: 134.4034 seconds
I0305 08:22:04.213693       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:22:04.213700       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:04.213707       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:04.213713       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:04.213720       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:04.213702302 +0000 UTC m=+134.518604399]
I0305 08:22:04.213735       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:22:04.213743       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:22:04.213845       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7478
I0305 08:22:04.213856       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:04.213864       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.213868       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.213874       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.213881       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.213890       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:04.213901       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:04.213912       1 prefix_cache_and_load.go:584] latency, Route, 0.0774
I0305 08:22:04.213922       1 gateway.go:415] latency, selectTargetPod, 0.0774, target pod, 10.0.1.14:8000
I0305 08:22:04.213933       1 gateway.go:235] latency, HandleRequestBody, 0.0778
I0305 08:22:04.215982       1 gateway.go:562] latency, 0.0000, summary, hash(request), cce348a5, selectedpod, 10.0.1.22:8000, ttft, 119, tpot, 19, e2e, 292, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:04.216000       1 gateway.go:748] "Request completed" requestID="cc90aff8-0780-45ff-bc4f-68c422999b46" targetPod="10.0.1.22:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:04.216013       1 gateway.go:764] "HandleResponseBody completed" requestID="cc90aff8-0780-45ff-bc4f-68c422999b46" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:04.217773       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2430eeca-6029-45a8-8718-e289e2fcdda0"
I0305 08:22:04.217996       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2430eeca-6029-45a8-8718-e289e2fcdda0" model="qwen2-5-7b-instruct"
I0305 08:22:04.218062       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:04.218069       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:04.218073       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:04.218195       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:04.218222       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 08:22:04.218227       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:04.232975       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dbebecb2-e76f-4a4e-8062-d749d5fd0012"
I0305 08:22:04.279399       1 gateway.go:608] "First token received" requestID="dbebecb2-e76f-4a4e-8062-d749d5fd0012" ttft_ms=143
I0305 08:22:04.283268       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0650, numInputTokens, 7602
I0305 08:22:04.283285       1 tree.go:471] Updated node(0) last access: 134.4730 seconds
I0305 08:22:04.283292       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:04.283295       1 tree.go:471] Updated node(2) last access: 134.4730 seconds
I0305 08:22:04.283309       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:04.283313       1 tree.go:471] Updated node(73) last access: 134.4730 seconds
I0305 08:22:04.283324       1 tree.go:667] Split complete - New node(191)
I0305 08:22:04.283337       1 tree.go:668] Split complete - Child node(86)
I0305 08:22:04.283342       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:22:04.283392       1 tree.go:471] Updated node(191) last access: 134.4731 seconds
I0305 08:22:04.283396       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 104 tokens:
I0305 08:22:04.283400       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:04.283406       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:04.283414       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:04.283419       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:04.283402423 +0000 UTC m=+134.588304520]
I0305 08:22:04.283435       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7498, Matching ratio: 0.9863, # Matched pods: 0, Matched pods: []
I0305 08:22:04.283443       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9863 > 0.5000)
I0305 08:22:04.283497       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7498
I0305 08:22:04.283507       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:04.283516       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.283522       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.283528       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.283534       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.283539       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.283549       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:04.283559       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:04.283568       1 prefix_cache_and_load.go:584] latency, Route, 0.0655
I0305 08:22:04.283577       1 gateway.go:415] latency, selectTargetPod, 0.0655, target pod, 10.0.0.134:8000
I0305 08:22:04.283586       1 gateway.go:235] latency, HandleRequestBody, 0.0658
I0305 08:22:04.300274       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2430eeca-6029-45a8-8718-e289e2fcdda0"
I0305 08:22:04.303024       1 gateway.go:562] latency, 0.0001, summary, hash(request), b6592c04, selectedpod, 10.0.3.41:8000, ttft, 134, tpot, 19, e2e, 307, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:04.303045       1 gateway.go:748] "Request completed" requestID="020d3a5b-d230-4a75-b71c-4de0341c1875" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:04.303056       1 gateway.go:764] "HandleResponseBody completed" requestID="020d3a5b-d230-4a75-b71c-4de0341c1875" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:04.335489       1 gateway.go:608] "First token received" requestID="2430eeca-6029-45a8-8718-e289e2fcdda0" ttft_ms=117
I0305 08:22:04.353334       1 gateway.go:562] latency, 0.0000, summary, hash(request), 09cfa368, selectedpod, 10.0.3.30:8000, ttft, 144, tpot, 19, e2e, 317, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:04.353355       1 gateway.go:748] "Request completed" requestID="2d3d6bb4-d066-4f2d-a70b-cb64afdf05ea" targetPod="10.0.3.30:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:04.353368       1 gateway.go:764] "HandleResponseBody completed" requestID="2d3d6bb4-d066-4f2d-a70b-cb64afdf05ea" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:04.359989       1 gateway.go:207] "Processing request" requestID="4afbe1f2-abfe-4482-960c-04271681574a"
I0305 08:22:04.360018       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4afbe1f2-abfe-4482-960c-04271681574a"
I0305 08:22:04.360027       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:04.449388       1 gateway.go:562] latency, 0.0000, summary, hash(request), de7ee06d, selectedpod, 10.0.1.14:8000, ttft, 143, tpot, 18, e2e, 313, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:04.449407       1 gateway.go:748] "Request completed" requestID="dbebecb2-e76f-4a4e-8062-d749d5fd0012" targetPod="10.0.1.14:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:04.449418       1 gateway.go:764] "HandleResponseBody completed" requestID="dbebecb2-e76f-4a4e-8062-d749d5fd0012" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:04.458548       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4afbe1f2-abfe-4482-960c-04271681574a"
I0305 08:22:04.458829       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4afbe1f2-abfe-4482-960c-04271681574a" model="qwen2-5-7b-instruct"
I0305 08:22:04.458934       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:04.458944       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:04.458949       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:04.459395       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:04.459532       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0006
I0305 08:22:04.459545       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:04.508573       1 gateway.go:562] latency, 0.0000, summary, hash(request), 52847f86, selectedpod, 10.0.0.134:8000, ttft, 117, tpot, 19, e2e, 290, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:04.508594       1 gateway.go:748] "Request completed" requestID="2430eeca-6029-45a8-8718-e289e2fcdda0" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:04.508608       1 gateway.go:764] "HandleResponseBody completed" requestID="2430eeca-6029-45a8-8718-e289e2fcdda0" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:04.518284       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0587, numInputTokens, 7598
I0305 08:22:04.518301       1 tree.go:471] Updated node(0) last access: 134.7080 seconds
I0305 08:22:04.518308       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:04.518313       1 tree.go:471] Updated node(2) last access: 134.7080 seconds
I0305 08:22:04.518333       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:04.518339       1 tree.go:471] Updated node(28) last access: 134.7081 seconds
I0305 08:22:04.518344       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 08:22:04.518348       1 tree.go:471] Updated node(63) last access: 134.7081 seconds
I0305 08:22:04.518355       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:04.518361       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:04.518368       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:04.518375       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:04.518381       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:04.518363118 +0000 UTC m=+134.823265215]
I0305 08:22:04.518397       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:04.518405       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:04.518458       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7484
I0305 08:22:04.518469       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:04.518477       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.518483       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.518488       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.518493       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.518499       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.518508       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:04.518517       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:04.518530       1 prefix_cache_and_load.go:584] latency, Route, 0.0596
I0305 08:22:04.518540       1 gateway.go:415] latency, selectTargetPod, 0.0596, target pod, 10.0.0.39:8000
I0305 08:22:04.518552       1 gateway.go:235] latency, HandleRequestBody, 0.0600
I0305 08:22:04.522269       1 gateway.go:207] "Processing request" requestID="053f343e-e36f-428c-a7a2-c9ae5a673d6f"
I0305 08:22:04.522295       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="053f343e-e36f-428c-a7a2-c9ae5a673d6f"
I0305 08:22:04.522304       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:04.532430       1 gateway.go:329] "-- In RequestBody processing ..." requestID="053f343e-e36f-428c-a7a2-c9ae5a673d6f"
I0305 08:22:04.532690       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="053f343e-e36f-428c-a7a2-c9ae5a673d6f" model="qwen2-5-7b-instruct"
I0305 08:22:04.532784       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:04.532793       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:04.532798       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:04.532950       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:04.532980       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:04.532988       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:04.536931       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4afbe1f2-abfe-4482-960c-04271681574a"
I0305 08:22:04.572915       1 gateway.go:608] "First token received" requestID="4afbe1f2-abfe-4482-960c-04271681574a" ttft_ms=114
I0305 08:22:04.607247       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0743, numInputTokens, 7603
I0305 08:22:04.607265       1 tree.go:471] Updated node(0) last access: 134.7970 seconds
I0305 08:22:04.607271       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:04.607275       1 tree.go:471] Updated node(2) last access: 134.7970 seconds
I0305 08:22:04.607287       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:04.607291       1 tree.go:471] Updated node(57) last access: 134.7970 seconds
I0305 08:22:04.607296       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 08:22:04.607299       1 tree.go:471] Updated node(175) last access: 134.7970 seconds
I0305 08:22:04.607312       1 tree.go:667] Split complete - New node(194)
I0305 08:22:04.607317       1 tree.go:668] Split complete - Child node(5)
I0305 08:22:04.607322       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:22:04.607336       1 tree.go:471] Updated node(194) last access: 134.7970 seconds
I0305 08:22:04.607344       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:04.607348       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 08:22:04.607357       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:22:04.607363       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:04.607370       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:04.60735242 +0000 UTC m=+134.912254517]
I0305 08:22:04.607386       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7488, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:04.607394       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:04.607445       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7488
I0305 08:22:04.607455       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:04.607463       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.607468       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.607474       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.607479       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.607486       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.607494       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.607502       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:04.607512       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:04.607523       1 prefix_cache_and_load.go:584] latency, Route, 0.0747
I0305 08:22:04.607532       1 gateway.go:415] latency, selectTargetPod, 0.0747, target pod, 10.0.1.28:8000
I0305 08:22:04.607543       1 gateway.go:235] latency, HandleRequestBody, 0.0751
I0305 08:22:04.625465       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="053f343e-e36f-428c-a7a2-c9ae5a673d6f"
I0305 08:22:04.661702       1 gateway.go:608] "First token received" requestID="053f343e-e36f-428c-a7a2-c9ae5a673d6f" ttft_ms=129
I0305 08:22:04.737013       1 gateway.go:207] "Processing request" requestID="1c334651-3e37-4d20-ae67-83251dee0d6d"
I0305 08:22:04.737043       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1c334651-3e37-4d20-ae67-83251dee0d6d"
I0305 08:22:04.737053       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:04.746003       1 gateway.go:562] latency, 0.0000, summary, hash(request), c30c9fe8, selectedpod, 10.0.0.39:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:04.746025       1 gateway.go:748] "Request completed" requestID="4afbe1f2-abfe-4482-960c-04271681574a" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:04.746037       1 gateway.go:764] "HandleResponseBody completed" requestID="4afbe1f2-abfe-4482-960c-04271681574a" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:04.746008       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1c334651-3e37-4d20-ae67-83251dee0d6d"
I0305 08:22:04.746263       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1c334651-3e37-4d20-ae67-83251dee0d6d" model="qwen2-5-7b-instruct"
I0305 08:22:04.746347       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:04.746353       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:04.746357       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:04.746490       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:04.746527       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:04.746536       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:04.805368       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0588, numInputTokens, 7598
I0305 08:22:04.805392       1 tree.go:471] Updated node(0) last access: 134.9951 seconds
I0305 08:22:04.805398       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:04.805402       1 tree.go:471] Updated node(2) last access: 134.9951 seconds
I0305 08:22:04.805417       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:04.805423       1 tree.go:471] Updated node(24) last access: 134.9951 seconds
I0305 08:22:04.805432       1 tree.go:490] Partial tokens match child node(169). Continue to go deeper in the radix tree
I0305 08:22:04.805438       1 tree.go:471] Updated node(169) last access: 134.9952 seconds
I0305 08:22:04.805457       1 tree.go:667] Split complete - New node(196)
I0305 08:22:04.805462       1 tree.go:668] Split complete - Child node(20)
I0305 08:22:04.805467       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 08:22:04.805473       1 tree.go:471] Updated node(196) last access: 134.9952 seconds
I0305 08:22:04.805479       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 08:22:04.805484       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:04.805493       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:04.805501       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:04.805511       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:04.805488902 +0000 UTC m=+135.110390999]
I0305 08:22:04.805534       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7488, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 08:22:04.805543       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 08:22:04.805622       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7488
I0305 08:22:04.805634       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:04.805647       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.805656       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.805676       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.805683       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.805688       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.805693       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:04.805704       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:04.805715       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:04.805727       1 prefix_cache_and_load.go:584] latency, Route, 0.0594
I0305 08:22:04.805741       1 gateway.go:415] latency, selectTargetPod, 0.0594, target pod, 10.0.3.30:8000
I0305 08:22:04.805758       1 gateway.go:235] latency, HandleRequestBody, 0.0598
I0305 08:22:04.821658       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1c334651-3e37-4d20-ae67-83251dee0d6d"
I0305 08:22:04.835044       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6b9e9514, selectedpod, 10.0.1.28:8000, ttft, 129, tpot, 19, e2e, 302, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:22:04.835066       1 gateway.go:748] "Request completed" requestID="053f343e-e36f-428c-a7a2-c9ae5a673d6f" targetPod="10.0.1.28:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:22:04.835077       1 gateway.go:764] "HandleResponseBody completed" requestID="053f343e-e36f-428c-a7a2-c9ae5a673d6f" promptTokens=7622 completionTokens=10 stream=true
I0305 08:22:04.857198       1 gateway.go:608] "First token received" requestID="1c334651-3e37-4d20-ae67-83251dee0d6d" ttft_ms=111
I0305 08:22:04.961534       1 gateway.go:207] "Processing request" requestID="7aea2210-db0d-4dc7-88a4-cb3e49614037"
I0305 08:22:04.961564       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7aea2210-db0d-4dc7-88a4-cb3e49614037"
I0305 08:22:04.961572       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:05.030062       1 gateway.go:562] latency, 0.0000, summary, hash(request), ea5e9c2d, selectedpod, 10.0.3.30:8000, ttft, 111, tpot, 19, e2e, 283, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:05.030082       1 gateway.go:748] "Request completed" requestID="1c334651-3e37-4d20-ae67-83251dee0d6d" targetPod="10.0.3.30:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:05.030094       1 gateway.go:764] "HandleResponseBody completed" requestID="1c334651-3e37-4d20-ae67-83251dee0d6d" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:05.069068       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7aea2210-db0d-4dc7-88a4-cb3e49614037"
I0305 08:22:05.069305       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7aea2210-db0d-4dc7-88a4-cb3e49614037" model="qwen2-5-7b-instruct"
I0305 08:22:05.069397       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:05.069406       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:05.069409       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:05.069581       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:05.069610       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:05.069616       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:05.078230       1 gateway.go:207] "Processing request" requestID="e81f8a9f-2c79-4fb6-a4f8-0720be6b38a6"
I0305 08:22:05.078260       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e81f8a9f-2c79-4fb6-a4f8-0720be6b38a6"
I0305 08:22:05.078269       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:05.127292       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0577, numInputTokens, 7601
I0305 08:22:05.127307       1 tree.go:471] Updated node(0) last access: 135.3170 seconds
I0305 08:22:05.127313       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:05.127317       1 tree.go:471] Updated node(2) last access: 135.3170 seconds
I0305 08:22:05.127341       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:05.127345       1 tree.go:471] Updated node(28) last access: 135.3171 seconds
I0305 08:22:05.127356       1 tree.go:667] Split complete - New node(198)
I0305 08:22:05.127360       1 tree.go:668] Split complete - Child node(157)
I0305 08:22:05.127365       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 08:22:05.127370       1 tree.go:471] Updated node(198) last access: 135.3171 seconds
I0305 08:22:05.127378       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:22:05.127383       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:05.127390       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:05.127396       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:05.127403       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:05.127386317 +0000 UTC m=+135.432288414]
I0305 08:22:05.127418       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7482, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:22:05.127425       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:22:05.127486       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7482
I0305 08:22:05.127497       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:05.127506       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:05.127513       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:05.127519       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:05.127525       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:05.127528       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:05.127537       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:05.127547       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:05.127557       1 prefix_cache_and_load.go:584] latency, Route, 0.0582
I0305 08:22:05.127567       1 gateway.go:415] latency, selectTargetPod, 0.0582, target pod, 10.0.0.39:8000
I0305 08:22:05.127577       1 gateway.go:235] latency, HandleRequestBody, 0.0585
I0305 08:22:05.144895       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7aea2210-db0d-4dc7-88a4-cb3e49614037"
I0305 08:22:05.187646       1 gateway.go:608] "First token received" requestID="7aea2210-db0d-4dc7-88a4-cb3e49614037" ttft_ms=118
I0305 08:22:05.360683       1 gateway.go:562] latency, 0.0001, summary, hash(request), 3a3e8db2, selectedpod, 10.0.0.39:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:05.360706       1 gateway.go:748] "Request completed" requestID="7aea2210-db0d-4dc7-88a4-cb3e49614037" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:05.360717       1 gateway.go:764] "HandleResponseBody completed" requestID="7aea2210-db0d-4dc7-88a4-cb3e49614037" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:05.414205       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e81f8a9f-2c79-4fb6-a4f8-0720be6b38a6"
I0305 08:22:05.414437       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e81f8a9f-2c79-4fb6-a4f8-0720be6b38a6" model="qwen2-5-7b-instruct"
I0305 08:22:05.414533       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:05.414540       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:05.414543       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:05.414732       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:05.414761       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:05.414765       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:05.475260       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0605, numInputTokens, 7596
I0305 08:22:05.475278       1 tree.go:471] Updated node(0) last access: 135.6650 seconds
I0305 08:22:05.475285       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:05.475288       1 tree.go:471] Updated node(2) last access: 135.6650 seconds
I0305 08:22:05.475301       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:05.475305       1 tree.go:471] Updated node(57) last access: 135.6650 seconds
I0305 08:22:05.475316       1 tree.go:667] Split complete - New node(200)
I0305 08:22:05.475321       1 tree.go:668] Split complete - Child node(133)
I0305 08:22:05.475333       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:05.475339       1 tree.go:471] Updated node(200) last access: 135.6651 seconds
I0305 08:22:05.475345       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:05.475351       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:22:05.475357       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:05.475363       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:05.475369       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:05.475352851 +0000 UTC m=+135.780254955]
I0305 08:22:05.475389       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7480, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:05.475403       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:05.475462       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7480
I0305 08:22:05.475478       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:05.475492       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:05.475500       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:05.475510       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:05.475521       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:05.475532       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:05.475548       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:05.475566       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:05.475585       1 prefix_cache_and_load.go:584] latency, Route, 0.0610
I0305 08:22:05.475600       1 gateway.go:415] latency, selectTargetPod, 0.0611, target pod, 10.0.1.28:8000
I0305 08:22:05.475618       1 gateway.go:235] latency, HandleRequestBody, 0.0614
I0305 08:22:05.493395       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e81f8a9f-2c79-4fb6-a4f8-0720be6b38a6"
I0305 08:22:05.528853       1 gateway.go:608] "First token received" requestID="e81f8a9f-2c79-4fb6-a4f8-0720be6b38a6" ttft_ms=114
I0305 08:22:05.622283       1 gateway.go:207] "Processing request" requestID="05a6a156-c858-4de8-90b3-537a395543e3"
I0305 08:22:05.622321       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="05a6a156-c858-4de8-90b3-537a395543e3"
I0305 08:22:05.622341       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:05.701652       1 gateway.go:562] latency, 0.0000, summary, hash(request), 924a935c, selectedpod, 10.0.1.28:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:05.701683       1 gateway.go:748] "Request completed" requestID="e81f8a9f-2c79-4fb6-a4f8-0720be6b38a6" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:05.701697       1 gateway.go:764] "HandleResponseBody completed" requestID="e81f8a9f-2c79-4fb6-a4f8-0720be6b38a6" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:06.062757       1 gateway.go:329] "-- In RequestBody processing ..." requestID="05a6a156-c858-4de8-90b3-537a395543e3"
I0305 08:22:06.063032       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="05a6a156-c858-4de8-90b3-537a395543e3" model="qwen2-5-7b-instruct"
I0305 08:22:06.063109       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:06.063116       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:06.063121       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:06.063306       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:06.063354       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:06.063361       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:06.123831       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0605, numInputTokens, 7597
I0305 08:22:06.123852       1 tree.go:471] Updated node(0) last access: 136.3136 seconds
I0305 08:22:06.123858       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:06.123862       1 tree.go:471] Updated node(2) last access: 136.3136 seconds
I0305 08:22:06.123875       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:06.123879       1 tree.go:471] Updated node(28) last access: 136.3136 seconds
I0305 08:22:06.123891       1 tree.go:667] Split complete - New node(202)
I0305 08:22:06.123895       1 tree.go:668] Split complete - Child node(1)
I0305 08:22:06.123900       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:06.123905       1 tree.go:471] Updated node(202) last access: 136.3136 seconds
I0305 08:22:06.123911       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:06.123916       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:06.123922       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:06.123930       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:06.123935       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:06.123918431 +0000 UTC m=+136.428820528]
I0305 08:22:06.123952       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7483, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:06.123959       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:06.124016       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7483
I0305 08:22:06.124026       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:06.124035       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.124041       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.124045       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.124050       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.124054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.124064       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:06.124076       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:06.124086       1 prefix_cache_and_load.go:584] latency, Route, 0.0610
I0305 08:22:06.124096       1 gateway.go:415] latency, selectTargetPod, 0.0610, target pod, 10.0.0.39:8000
I0305 08:22:06.124108       1 gateway.go:235] latency, HandleRequestBody, 0.0614
I0305 08:22:06.141535       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="05a6a156-c858-4de8-90b3-537a395543e3"
I0305 08:22:06.176876       1 gateway.go:608] "First token received" requestID="05a6a156-c858-4de8-90b3-537a395543e3" ttft_ms=114
I0305 08:22:06.279063       1 gateway.go:207] "Processing request" requestID="ecb6f964-c4ac-4b36-b9cd-1145f6da2ece"
I0305 08:22:06.279094       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ecb6f964-c4ac-4b36-b9cd-1145f6da2ece"
I0305 08:22:06.279103       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:06.349543       1 gateway.go:562] latency, 0.0000, summary, hash(request), 899e781f, selectedpod, 10.0.0.39:8000, ttft, 114, tpot, 19, e2e, 286, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:06.349566       1 gateway.go:748] "Request completed" requestID="05a6a156-c858-4de8-90b3-537a395543e3" targetPod="10.0.0.39:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:06.349578       1 gateway.go:764] "HandleResponseBody completed" requestID="05a6a156-c858-4de8-90b3-537a395543e3" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:06.445449       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ecb6f964-c4ac-4b36-b9cd-1145f6da2ece"
I0305 08:22:06.445684       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ecb6f964-c4ac-4b36-b9cd-1145f6da2ece" model="qwen2-5-7b-instruct"
I0305 08:22:06.445754       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:06.445761       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:06.445765       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:06.445947       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:06.445976       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:06.445982       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:06.455350       1 gateway.go:207] "Processing request" requestID="9d7d514b-6f46-48d4-b884-2c80efb51f1a"
I0305 08:22:06.455419       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9d7d514b-6f46-48d4-b884-2c80efb51f1a"
I0305 08:22:06.455434       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:06.507186       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0612, numInputTokens, 7598
I0305 08:22:06.507207       1 tree.go:471] Updated node(0) last access: 136.6969 seconds
I0305 08:22:06.507216       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:06.507220       1 tree.go:471] Updated node(2) last access: 136.6969 seconds
I0305 08:22:06.507239       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:06.507243       1 tree.go:471] Updated node(45) last access: 136.6970 seconds
I0305 08:22:06.507257       1 tree.go:667] Split complete - New node(204)
I0305 08:22:06.507264       1 tree.go:668] Split complete - Child node(153)
I0305 08:22:06.507272       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:22:06.507280       1 tree.go:471] Updated node(204) last access: 136.6970 seconds
I0305 08:22:06.507289       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:06.507296       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:06.507306       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:06.507315       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:06.507324       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:06.507299296 +0000 UTC m=+136.812201396]
I0305 08:22:06.507353       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7483, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:06.507367       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:06.507433       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7483
I0305 08:22:06.507449       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:06.507465       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.507475       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.507481       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.507492       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.507499       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.507513       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:06.507528       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:06.507544       1 prefix_cache_and_load.go:584] latency, Route, 0.0618
I0305 08:22:06.507557       1 gateway.go:415] latency, selectTargetPod, 0.0618, target pod, 10.0.0.134:8000
I0305 08:22:06.507572       1 gateway.go:235] latency, HandleRequestBody, 0.0621
I0305 08:22:06.526287       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ecb6f964-c4ac-4b36-b9cd-1145f6da2ece"
I0305 08:22:06.570844       1 gateway.go:608] "First token received" requestID="ecb6f964-c4ac-4b36-b9cd-1145f6da2ece" ttft_ms=125
I0305 08:22:06.679259       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9d7d514b-6f46-48d4-b884-2c80efb51f1a"
I0305 08:22:06.679494       1 gateway.go:207] "Processing request" requestID="25558cb3-3561-40be-afc1-88d8c46af521"
I0305 08:22:06.679495       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9d7d514b-6f46-48d4-b884-2c80efb51f1a" model="qwen2-5-7b-instruct"
I0305 08:22:06.679520       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="25558cb3-3561-40be-afc1-88d8c46af521"
I0305 08:22:06.679529       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:06.679580       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:06.679586       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:06.679590       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:06.679755       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:06.679785       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:06.679791       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:06.741723       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0619, numInputTokens, 7604
I0305 08:22:06.741743       1 tree.go:471] Updated node(0) last access: 136.9315 seconds
I0305 08:22:06.741750       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:06.741753       1 tree.go:471] Updated node(2) last access: 136.9315 seconds
I0305 08:22:06.741766       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:06.741769       1 tree.go:471] Updated node(28) last access: 136.9315 seconds
I0305 08:22:06.741773       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 08:22:06.741778       1 tree.go:471] Updated node(33) last access: 136.9315 seconds
I0305 08:22:06.741783       1 tree.go:490] Partial tokens match child node(65). Continue to go deeper in the radix tree
I0305 08:22:06.741785       1 tree.go:471] Updated node(65) last access: 136.9315 seconds
I0305 08:22:06.741796       1 tree.go:667] Split complete - New node(206)
I0305 08:22:06.741800       1 tree.go:668] Split complete - Child node(66)
I0305 08:22:06.741805       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:06.741811       1 tree.go:471] Updated node(206) last access: 136.9315 seconds
I0305 08:22:06.741818       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:06.741823       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7604 tokens
I0305 08:22:06.741830       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 08:22:06.741840       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:06.741850       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:06.741825605 +0000 UTC m=+137.046727702]
I0305 08:22:06.741874       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7488, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:06.741885       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:06.741957       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7488
I0305 08:22:06.741976       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:06.741993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.742006       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.742014       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.742020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.742023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.742031       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.742039       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.742049       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:06.742066       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:06.742086       1 prefix_cache_and_load.go:584] latency, Route, 0.0625
I0305 08:22:06.742101       1 gateway.go:415] latency, selectTargetPod, 0.0625, target pod, 10.0.0.39:8000
I0305 08:22:06.742118       1 gateway.go:235] latency, HandleRequestBody, 0.0629
I0305 08:22:06.743487       1 gateway.go:562] latency, 0.0001, summary, hash(request), 87ae73f2, selectedpod, 10.0.0.134:8000, ttft, 125, tpot, 19, e2e, 297, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:06.743510       1 gateway.go:748] "Request completed" requestID="ecb6f964-c4ac-4b36-b9cd-1145f6da2ece" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:06.743523       1 gateway.go:764] "HandleResponseBody completed" requestID="ecb6f964-c4ac-4b36-b9cd-1145f6da2ece" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:06.759188       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9d7d514b-6f46-48d4-b884-2c80efb51f1a"
I0305 08:22:06.794419       1 gateway.go:608] "First token received" requestID="9d7d514b-6f46-48d4-b884-2c80efb51f1a" ttft_ms=115
I0305 08:22:06.899814       1 gateway.go:329] "-- In RequestBody processing ..." requestID="25558cb3-3561-40be-afc1-88d8c46af521"
I0305 08:22:06.900045       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="25558cb3-3561-40be-afc1-88d8c46af521" model="qwen2-5-7b-instruct"
I0305 08:22:06.900139       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:06.900145       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:06.900148       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:06.900299       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:06.900342       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:06.900352       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:06.913342       1 gateway.go:207] "Processing request" requestID="6ef696fc-f213-4a34-a745-d61c15f50f87"
I0305 08:22:06.913383       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6ef696fc-f213-4a34-a745-d61c15f50f87"
I0305 08:22:06.913396       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:06.958720       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0584, numInputTokens, 7601
I0305 08:22:06.958735       1 tree.go:471] Updated node(0) last access: 137.1484 seconds
I0305 08:22:06.958741       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:06.958746       1 tree.go:471] Updated node(2) last access: 137.1485 seconds
I0305 08:22:06.958757       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:06.958762       1 tree.go:471] Updated node(24) last access: 137.1485 seconds
I0305 08:22:06.958766       1 tree.go:490] Partial tokens match child node(169). Continue to go deeper in the radix tree
I0305 08:22:06.958769       1 tree.go:471] Updated node(169) last access: 137.1485 seconds
I0305 08:22:06.958774       1 tree.go:490] Partial tokens match child node(196). Continue to go deeper in the radix tree
I0305 08:22:06.958777       1 tree.go:471] Updated node(196) last access: 137.1485 seconds
I0305 08:22:06.958785       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:22:06.958793       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:06.958803       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:06.958814       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:06.958824       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:06.958796076 +0000 UTC m=+137.263698173]
I0305 08:22:06.958841       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7488, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:22:06.958850       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:22:06.958909       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7488
I0305 08:22:06.958919       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:06.958930       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.958937       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.958944       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.958948       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.958955       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.958959       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:06.958968       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:06.958977       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:06.958988       1 prefix_cache_and_load.go:584] latency, Route, 0.0588
I0305 08:22:06.959000       1 gateway.go:415] latency, selectTargetPod, 0.0589, target pod, 10.0.3.30:8000
I0305 08:22:06.959010       1 gateway.go:235] latency, HandleRequestBody, 0.0592
I0305 08:22:06.967148       1 gateway.go:562] latency, 0.0001, summary, hash(request), 5762d23b, selectedpod, 10.0.0.39:8000, ttft, 115, tpot, 19, e2e, 287, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 08:22:06.967167       1 gateway.go:748] "Request completed" requestID="9d7d514b-6f46-48d4-b884-2c80efb51f1a" targetPod="10.0.0.39:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 08:22:06.967179       1 gateway.go:764] "HandleResponseBody completed" requestID="9d7d514b-6f46-48d4-b884-2c80efb51f1a" promptTokens=7623 completionTokens=10 stream=true
I0305 08:22:06.975097       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="25558cb3-3561-40be-afc1-88d8c46af521"
I0305 08:22:07.014381       1 gateway.go:608] "First token received" requestID="25558cb3-3561-40be-afc1-88d8c46af521" ttft_ms=114
I0305 08:22:07.147498       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6ef696fc-f213-4a34-a745-d61c15f50f87"
I0305 08:22:07.147641       1 gateway.go:207] "Processing request" requestID="860ceee2-dbdf-47cd-8e5b-8d1336570def"
I0305 08:22:07.147688       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="860ceee2-dbdf-47cd-8e5b-8d1336570def"
I0305 08:22:07.147698       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:07.147747       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6ef696fc-f213-4a34-a745-d61c15f50f87" model="qwen2-5-7b-instruct"
I0305 08:22:07.147839       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:07.147845       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:07.147849       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:07.148016       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:07.148043       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:07.148049       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:07.184492       1 gateway.go:562] latency, 0.0001, summary, hash(request), 3ba2db3c, selectedpod, 10.0.3.30:8000, ttft, 114, tpot, 18, e2e, 284, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:07.184515       1 gateway.go:748] "Request completed" requestID="25558cb3-3561-40be-afc1-88d8c46af521" targetPod="10.0.3.30:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:07.184528       1 gateway.go:764] "HandleResponseBody completed" requestID="25558cb3-3561-40be-afc1-88d8c46af521" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:07.207507       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0595, numInputTokens, 7604
I0305 08:22:07.207523       1 tree.go:471] Updated node(0) last access: 137.3972 seconds
I0305 08:22:07.207530       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:07.207534       1 tree.go:471] Updated node(2) last access: 137.3973 seconds
I0305 08:22:07.207546       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:07.207549       1 tree.go:471] Updated node(57) last access: 137.3973 seconds
I0305 08:22:07.207556       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 08:22:07.207563       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 08:22:07.207570       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 08:22:07.207576       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:07.207583       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:07.207565095 +0000 UTC m=+137.512467192]
I0305 08:22:07.207599       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 08:22:07.207608       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 08:22:07.207661       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7478
I0305 08:22:07.207698       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:07.207706       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.207711       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.207718       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.207723       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.207733       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:07.207742       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:07.207753       1 prefix_cache_and_load.go:584] latency, Route, 0.0599
I0305 08:22:07.207762       1 gateway.go:415] latency, selectTargetPod, 0.0599, target pod, 10.0.1.28:8000
I0305 08:22:07.207775       1 gateway.go:235] latency, HandleRequestBody, 0.0603
I0305 08:22:07.227911       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6ef696fc-f213-4a34-a745-d61c15f50f87"
I0305 08:22:07.271730       1 gateway.go:608] "First token received" requestID="6ef696fc-f213-4a34-a745-d61c15f50f87" ttft_ms=124
I0305 08:22:07.385575       1 gateway.go:329] "-- In RequestBody processing ..." requestID="860ceee2-dbdf-47cd-8e5b-8d1336570def"
I0305 08:22:07.385841       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="860ceee2-dbdf-47cd-8e5b-8d1336570def" model="qwen2-5-7b-instruct"
I0305 08:22:07.385938       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:07.385946       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:07.385951       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:07.386138       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:07.386178       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:07.386186       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:07.439245       1 gateway.go:207] "Processing request" requestID="04f6cd27-afe2-4a1b-91c4-5d12be19c14d"
I0305 08:22:07.439275       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="04f6cd27-afe2-4a1b-91c4-5d12be19c14d"
I0305 08:22:07.439285       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:07.444543       1 gateway.go:562] latency, 0.0001, summary, hash(request), a596fc02, selectedpod, 10.0.1.28:8000, ttft, 124, tpot, 19, e2e, 296, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 08:22:07.444567       1 gateway.go:748] "Request completed" requestID="6ef696fc-f213-4a34-a745-d61c15f50f87" targetPod="10.0.1.28:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 08:22:07.444581       1 gateway.go:764] "HandleResponseBody completed" requestID="6ef696fc-f213-4a34-a745-d61c15f50f87" promptTokens=7623 completionTokens=10 stream=true
I0305 08:22:07.447452       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0613, numInputTokens, 7597
I0305 08:22:07.447473       1 tree.go:471] Updated node(0) last access: 137.6372 seconds
I0305 08:22:07.447480       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:07.447485       1 tree.go:471] Updated node(2) last access: 137.6372 seconds
I0305 08:22:07.447499       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:07.447502       1 tree.go:471] Updated node(57) last access: 137.6372 seconds
I0305 08:22:07.447505       1 tree.go:490] Partial tokens match child node(173). Continue to go deeper in the radix tree
I0305 08:22:07.447510       1 tree.go:471] Updated node(173) last access: 137.6372 seconds
I0305 08:22:07.447517       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:07.447523       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:07.447530       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:07.447537       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:07.447544       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:07.447525096 +0000 UTC m=+137.752427193]
I0305 08:22:07.447560       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7483, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:07.447567       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:07.447619       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7483
I0305 08:22:07.447629       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:07.447639       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.447646       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.447651       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.447655       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.447671       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.447681       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:07.447691       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:07.447702       1 prefix_cache_and_load.go:584] latency, Route, 0.0618
I0305 08:22:07.447712       1 gateway.go:415] latency, selectTargetPod, 0.0618, target pod, 10.0.1.28:8000
I0305 08:22:07.447724       1 gateway.go:235] latency, HandleRequestBody, 0.0622
I0305 08:22:07.465940       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="860ceee2-dbdf-47cd-8e5b-8d1336570def"
I0305 08:22:07.501131       1 gateway.go:608] "First token received" requestID="860ceee2-dbdf-47cd-8e5b-8d1336570def" ttft_ms=115
I0305 08:22:07.674314       1 gateway.go:562] latency, 0.0001, summary, hash(request), 05ec3e72, selectedpod, 10.0.1.28:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:07.674345       1 gateway.go:748] "Request completed" requestID="860ceee2-dbdf-47cd-8e5b-8d1336570def" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:07.674356       1 gateway.go:764] "HandleResponseBody completed" requestID="860ceee2-dbdf-47cd-8e5b-8d1336570def" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:07.745174       1 gateway.go:329] "-- In RequestBody processing ..." requestID="04f6cd27-afe2-4a1b-91c4-5d12be19c14d"
I0305 08:22:07.745356       1 gateway.go:207] "Processing request" requestID="713b8d8f-469f-4036-bf6e-efd8659be063"
I0305 08:22:07.745390       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="713b8d8f-469f-4036-bf6e-efd8659be063"
I0305 08:22:07.745402       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:07.745416       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="04f6cd27-afe2-4a1b-91c4-5d12be19c14d" model="qwen2-5-7b-instruct"
I0305 08:22:07.745497       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:07.745504       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:07.745508       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:07.745718       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:07.745752       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:07.745758       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:07.803723       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0580, numInputTokens, 7599
I0305 08:22:07.803740       1 tree.go:471] Updated node(0) last access: 137.9935 seconds
I0305 08:22:07.803750       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:07.803753       1 tree.go:471] Updated node(2) last access: 137.9935 seconds
I0305 08:22:07.803768       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:07.803772       1 tree.go:471] Updated node(28) last access: 137.9935 seconds
I0305 08:22:07.803780       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:22:07.803787       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:22:07.803794       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:07.803802       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:07.803807       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:07.803788875 +0000 UTC m=+138.108690974]
I0305 08:22:07.803825       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:22:07.803833       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:22:07.803901       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7478
I0305 08:22:07.803912       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:07.803920       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.803925       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.803932       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.803938       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:07.803948       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:07.803958       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:07.803968       1 prefix_cache_and_load.go:584] latency, Route, 0.0585
I0305 08:22:07.803979       1 gateway.go:415] latency, selectTargetPod, 0.0585, target pod, 10.0.0.39:8000
I0305 08:22:07.803990       1 gateway.go:235] latency, HandleRequestBody, 0.0588
I0305 08:22:07.823411       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="04f6cd27-afe2-4a1b-91c4-5d12be19c14d"
I0305 08:22:07.866835       1 gateway.go:608] "First token received" requestID="04f6cd27-afe2-4a1b-91c4-5d12be19c14d" ttft_ms=121
I0305 08:22:07.980933       1 gateway.go:329] "-- In RequestBody processing ..." requestID="713b8d8f-469f-4036-bf6e-efd8659be063"
I0305 08:22:07.981187       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="713b8d8f-469f-4036-bf6e-efd8659be063" model="qwen2-5-7b-instruct"
I0305 08:22:07.981285       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:07.981291       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:07.981295       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:07.981507       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:07.981541       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:07.981547       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:08.021559       1 gateway.go:207] "Processing request" requestID="b4351cfe-e5f7-4221-867c-73473902f348"
I0305 08:22:08.021598       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b4351cfe-e5f7-4221-867c-73473902f348"
I0305 08:22:08.021610       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:08.039515       1 gateway.go:562] latency, 0.0000, summary, hash(request), bf1bee4e, selectedpod, 10.0.0.39:8000, ttft, 121, tpot, 19, e2e, 294, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:08.039545       1 gateway.go:748] "Request completed" requestID="04f6cd27-afe2-4a1b-91c4-5d12be19c14d" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:08.039562       1 gateway.go:764] "HandleResponseBody completed" requestID="04f6cd27-afe2-4a1b-91c4-5d12be19c14d" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:08.043236       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0617, numInputTokens, 7604
I0305 08:22:08.043253       1 tree.go:471] Updated node(0) last access: 138.2330 seconds
I0305 08:22:08.043259       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:08.043263       1 tree.go:471] Updated node(2) last access: 138.2330 seconds
I0305 08:22:08.043275       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:08.043280       1 tree.go:471] Updated node(36) last access: 138.2330 seconds
I0305 08:22:08.043285       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 08:22:08.043293       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 08:22:08.043301       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 08:22:08.043311       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:08.043318       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:08.043295543 +0000 UTC m=+138.348197643]
I0305 08:22:08.043342       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 08:22:08.043351       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 08:22:08.043414       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:22:08.043425       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:08.043435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:08.043441       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:08.043445       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:08.043452       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:08.043464       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:08.043474       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:08.043485       1 prefix_cache_and_load.go:584] latency, Route, 0.0622
I0305 08:22:08.043495       1 gateway.go:415] latency, selectTargetPod, 0.0622, target pod, 10.0.3.30:8000
I0305 08:22:08.043508       1 gateway.go:235] latency, HandleRequestBody, 0.0626
I0305 08:22:08.060232       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="713b8d8f-469f-4036-bf6e-efd8659be063"
I0305 08:22:08.104265       1 gateway.go:608] "First token received" requestID="713b8d8f-469f-4036-bf6e-efd8659be063" ttft_ms=123
I0305 08:22:08.208990       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b4351cfe-e5f7-4221-867c-73473902f348"
I0305 08:22:08.209275       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b4351cfe-e5f7-4221-867c-73473902f348" model="qwen2-5-7b-instruct"
I0305 08:22:08.209378       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:08.209386       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:08.209391       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:08.209572       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:08.209609       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:08.209617       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:08.270587       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0610, numInputTokens, 7599
I0305 08:22:08.270607       1 tree.go:471] Updated node(0) last access: 138.4603 seconds
I0305 08:22:08.270614       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:08.270617       1 tree.go:471] Updated node(2) last access: 138.4603 seconds
I0305 08:22:08.270630       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:08.270634       1 tree.go:471] Updated node(28) last access: 138.4604 seconds
I0305 08:22:08.270638       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 08:22:08.270641       1 tree.go:471] Updated node(63) last access: 138.4604 seconds
I0305 08:22:08.270683       1 tree.go:667] Split complete - New node(213)
I0305 08:22:08.270687       1 tree.go:668] Split complete - Child node(59)
I0305 08:22:08.270693       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 08:22:08.270698       1 tree.go:471] Updated node(213) last access: 138.4604 seconds
I0305 08:22:08.270703       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 08:22:08.270708       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:08.270715       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:08.270723       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:08.270729       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:08.270710139 +0000 UTC m=+138.575612237]
I0305 08:22:08.270746       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7490, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 08:22:08.270755       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 08:22:08.270808       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7490
I0305 08:22:08.270819       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:08.270829       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:08.270836       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:08.270842       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:08.270846       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:08.270851       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:08.270857       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:08.270865       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:08.270876       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:08.270887       1 prefix_cache_and_load.go:584] latency, Route, 0.0615
I0305 08:22:08.270896       1 gateway.go:415] latency, selectTargetPod, 0.0615, target pod, 10.0.0.39:8000
I0305 08:22:08.270908       1 gateway.go:235] latency, HandleRequestBody, 0.0619
I0305 08:22:08.277098       1 gateway.go:562] latency, 0.0000, summary, hash(request), b58ebdd3, selectedpod, 10.0.3.30:8000, ttft, 123, tpot, 19, e2e, 296, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 08:22:08.277121       1 gateway.go:748] "Request completed" requestID="713b8d8f-469f-4036-bf6e-efd8659be063" targetPod="10.0.3.30:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 08:22:08.277134       1 gateway.go:764] "HandleResponseBody completed" requestID="713b8d8f-469f-4036-bf6e-efd8659be063" promptTokens=7623 completionTokens=10 stream=true
I0305 08:22:08.288320       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b4351cfe-e5f7-4221-867c-73473902f348"
I0305 08:22:08.323255       1 gateway.go:608] "First token received" requestID="b4351cfe-e5f7-4221-867c-73473902f348" ttft_ms=114
I0305 08:22:08.496212       1 gateway.go:562] latency, 0.0001, summary, hash(request), aa2820a2, selectedpod, 10.0.0.39:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:08.496233       1 gateway.go:748] "Request completed" requestID="b4351cfe-e5f7-4221-867c-73473902f348" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:08.496244       1 gateway.go:764] "HandleResponseBody completed" requestID="b4351cfe-e5f7-4221-867c-73473902f348" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:08.861953       1 gateway.go:207] "Processing request" requestID="63139e42-e058-4c9d-8875-cd11ff75cea3"
I0305 08:22:08.861992       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="63139e42-e058-4c9d-8875-cd11ff75cea3"
I0305 08:22:08.862002       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:09.100226       1 gateway.go:329] "-- In RequestBody processing ..." requestID="63139e42-e058-4c9d-8875-cd11ff75cea3"
I0305 08:22:09.100377       1 gateway.go:207] "Processing request" requestID="56c09d46-f61d-44c7-bb94-e155ff0c1f57"
I0305 08:22:09.100415       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="56c09d46-f61d-44c7-bb94-e155ff0c1f57"
I0305 08:22:09.100428       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:09.100484       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="63139e42-e058-4c9d-8875-cd11ff75cea3" model="qwen2-5-7b-instruct"
I0305 08:22:09.100582       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:09.100588       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:09.100592       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:09.100797       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:09.100832       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:09.100845       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:09.160112       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0593, numInputTokens, 7601
I0305 08:22:09.160131       1 tree.go:471] Updated node(0) last access: 139.3498 seconds
I0305 08:22:09.160137       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:09.160141       1 tree.go:471] Updated node(2) last access: 139.3499 seconds
I0305 08:22:09.160157       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:09.160161       1 tree.go:471] Updated node(24) last access: 139.3499 seconds
I0305 08:22:09.160171       1 tree.go:667] Split complete - New node(215)
I0305 08:22:09.160176       1 tree.go:668] Split complete - Child node(152)
I0305 08:22:09.160182       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 08:22:09.160187       1 tree.go:471] Updated node(215) last access: 139.3499 seconds
I0305 08:22:09.160193       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:22:09.160198       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:09.160205       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:09.160212       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:09.160217       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:09.160200501 +0000 UTC m=+139.465102598]
I0305 08:22:09.160235       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:22:09.160242       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:22:09.160366       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7481
I0305 08:22:09.160379       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:09.160389       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.160396       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.160403       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.160406       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.160411       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.160420       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:09.160431       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:09.160442       1 prefix_cache_and_load.go:584] latency, Route, 0.0599
I0305 08:22:09.160453       1 gateway.go:415] latency, selectTargetPod, 0.0599, target pod, 10.0.3.30:8000
I0305 08:22:09.160465       1 gateway.go:235] latency, HandleRequestBody, 0.0602
I0305 08:22:09.176287       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="63139e42-e058-4c9d-8875-cd11ff75cea3"
I0305 08:22:09.219625       1 gateway.go:608] "First token received" requestID="63139e42-e058-4c9d-8875-cd11ff75cea3" ttft_ms=119
I0305 08:22:09.314684       1 gateway.go:329] "-- In RequestBody processing ..." requestID="56c09d46-f61d-44c7-bb94-e155ff0c1f57"
I0305 08:22:09.314850       1 gateway.go:207] "Processing request" requestID="3d139c0a-3444-4f59-ab0b-463da987e957"
I0305 08:22:09.314876       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3d139c0a-3444-4f59-ab0b-463da987e957"
I0305 08:22:09.314885       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:09.314924       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="56c09d46-f61d-44c7-bb94-e155ff0c1f57" model="qwen2-5-7b-instruct"
I0305 08:22:09.315005       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:09.315058       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:09.315066       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:09.315259       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:09.315291       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:09.315296       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:09.377019       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0617, numInputTokens, 7598
I0305 08:22:09.377040       1 tree.go:471] Updated node(0) last access: 139.5668 seconds
I0305 08:22:09.377047       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:09.377050       1 tree.go:471] Updated node(2) last access: 139.5668 seconds
I0305 08:22:09.377063       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:09.377067       1 tree.go:471] Updated node(21) last access: 139.5668 seconds
I0305 08:22:09.377078       1 tree.go:667] Split complete - New node(217)
I0305 08:22:09.377084       1 tree.go:668] Split complete - Child node(130)
I0305 08:22:09.377090       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:22:09.377094       1 tree.go:471] Updated node(217) last access: 139.5668 seconds
I0305 08:22:09.377099       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:09.377105       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:09.377111       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:09.377118       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:09.377125       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:09.377106976 +0000 UTC m=+139.682009073]
I0305 08:22:09.377142       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7480, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:09.377151       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:09.377214       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7480
I0305 08:22:09.377224       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:09.377232       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.377240       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.377243       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.377252       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.377258       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.377273       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:09.377290       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:09.377302       1 prefix_cache_and_load.go:584] latency, Route, 0.0623
I0305 08:22:09.377312       1 gateway.go:415] latency, selectTargetPod, 0.0623, target pod, 10.0.3.41:8000
I0305 08:22:09.377325       1 gateway.go:235] latency, HandleRequestBody, 0.0626
I0305 08:22:09.392418       1 gateway.go:562] latency, 0.0000, summary, hash(request), e3f195b9, selectedpod, 10.0.3.30:8000, ttft, 119, tpot, 19, e2e, 292, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:09.392441       1 gateway.go:748] "Request completed" requestID="63139e42-e058-4c9d-8875-cd11ff75cea3" targetPod="10.0.3.30:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:09.392455       1 gateway.go:764] "HandleResponseBody completed" requestID="63139e42-e058-4c9d-8875-cd11ff75cea3" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:09.392811       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="56c09d46-f61d-44c7-bb94-e155ff0c1f57"
I0305 08:22:09.436710       1 gateway.go:608] "First token received" requestID="56c09d46-f61d-44c7-bb94-e155ff0c1f57" ttft_ms=121
I0305 08:22:09.536265       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3d139c0a-3444-4f59-ab0b-463da987e957"
I0305 08:22:09.536503       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3d139c0a-3444-4f59-ab0b-463da987e957" model="qwen2-5-7b-instruct"
I0305 08:22:09.536581       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:09.536588       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:09.536591       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:09.536773       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:09.536804       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:09.536810       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:09.540926       1 gateway.go:207] "Processing request" requestID="e851f8e9-1c31-4f02-b4b0-58df5c6253d9"
I0305 08:22:09.540953       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e851f8e9-1c31-4f02-b4b0-58df5c6253d9"
I0305 08:22:09.540961       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:09.594308       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0575, numInputTokens, 7595
I0305 08:22:09.594324       1 tree.go:471] Updated node(0) last access: 139.7840 seconds
I0305 08:22:09.594340       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:09.594344       1 tree.go:471] Updated node(2) last access: 139.7841 seconds
I0305 08:22:09.594358       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:09.594363       1 tree.go:471] Updated node(36) last access: 139.7841 seconds
I0305 08:22:09.594372       1 tree.go:667] Split complete - New node(219)
I0305 08:22:09.594376       1 tree.go:668] Split complete - Child node(149)
I0305 08:22:09.594382       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:22:09.594387       1 tree.go:471] Updated node(219) last access: 139.7841 seconds
I0305 08:22:09.594393       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:09.594398       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 08:22:09.594404       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 08:22:09.594412       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:09.594418       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:09.594400263 +0000 UTC m=+139.899302360]
I0305 08:22:09.594435       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7481, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:09.594444       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:09.594506       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7481
I0305 08:22:09.594517       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:09.594525       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.594531       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.594536       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.594541       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.594545       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.594557       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:09.594568       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:09.594578       1 prefix_cache_and_load.go:584] latency, Route, 0.0580
I0305 08:22:09.594586       1 gateway.go:415] latency, selectTargetPod, 0.0580, target pod, 10.0.3.30:8000
I0305 08:22:09.594599       1 gateway.go:235] latency, HandleRequestBody, 0.0583
I0305 08:22:09.609621       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6c66e40b, selectedpod, 10.0.3.41:8000, ttft, 121, tpot, 19, e2e, 294, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:09.609639       1 gateway.go:748] "Request completed" requestID="56c09d46-f61d-44c7-bb94-e155ff0c1f57" targetPod="10.0.3.41:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:09.609649       1 gateway.go:764] "HandleResponseBody completed" requestID="56c09d46-f61d-44c7-bb94-e155ff0c1f57" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:09.611338       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3d139c0a-3444-4f59-ab0b-463da987e957"
I0305 08:22:09.649654       1 gateway.go:608] "First token received" requestID="3d139c0a-3444-4f59-ab0b-463da987e957" ttft_ms=113
I0305 08:22:09.752428       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e851f8e9-1c31-4f02-b4b0-58df5c6253d9"
I0305 08:22:09.752597       1 gateway.go:207] "Processing request" requestID="c4f43ab9-c0fe-4a5b-ad48-e516e13ede07"
I0305 08:22:09.752624       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c4f43ab9-c0fe-4a5b-ad48-e516e13ede07"
I0305 08:22:09.752634       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:09.752701       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e851f8e9-1c31-4f02-b4b0-58df5c6253d9" model="qwen2-5-7b-instruct"
I0305 08:22:09.752797       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:09.752804       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:09.752807       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:09.752976       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:09.753005       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:09.753011       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:09.812078       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0591, numInputTokens, 7596
I0305 08:22:09.812098       1 tree.go:471] Updated node(0) last access: 140.0018 seconds
I0305 08:22:09.812105       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:09.812108       1 tree.go:471] Updated node(2) last access: 140.0018 seconds
I0305 08:22:09.812120       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:09.812125       1 tree.go:471] Updated node(57) last access: 140.0018 seconds
I0305 08:22:09.812135       1 tree.go:667] Split complete - New node(221)
I0305 08:22:09.812140       1 tree.go:668] Split complete - Child node(147)
I0305 08:22:09.812146       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:09.812150       1 tree.go:471] Updated node(221) last access: 140.0019 seconds
I0305 08:22:09.812156       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 107 tokens:
I0305 08:22:09.812161       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:22:09.812168       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:09.812174       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:09.812180       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:09.812163534 +0000 UTC m=+140.117065631]
I0305 08:22:09.812197       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7489, Matching ratio: 0.9859, # Matched pods: 0, Matched pods: []
I0305 08:22:09.812205       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9859 > 0.5000)
I0305 08:22:09.812257       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7489
I0305 08:22:09.812268       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:09.812276       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.812284       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.812289       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.812293       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.812297       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:09.812306       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:09.812317       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:09.812337       1 prefix_cache_and_load.go:584] latency, Route, 0.0595
I0305 08:22:09.812353       1 gateway.go:415] latency, selectTargetPod, 0.0596, target pod, 10.0.1.28:8000
I0305 08:22:09.812369       1 gateway.go:235] latency, HandleRequestBody, 0.0599
I0305 08:22:09.819443       1 gateway.go:562] latency, 0.0001, summary, hash(request), d61034cc, selectedpod, 10.0.3.30:8000, ttft, 113, tpot, 18, e2e, 283, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:09.819465       1 gateway.go:748] "Request completed" requestID="3d139c0a-3444-4f59-ab0b-463da987e957" targetPod="10.0.3.30:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:09.819477       1 gateway.go:764] "HandleResponseBody completed" requestID="3d139c0a-3444-4f59-ab0b-463da987e957" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:09.836494       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e851f8e9-1c31-4f02-b4b0-58df5c6253d9"
I0305 08:22:09.872904       1 gateway.go:608] "First token received" requestID="e851f8e9-1c31-4f02-b4b0-58df5c6253d9" ttft_ms=120
I0305 08:22:09.944654       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c4f43ab9-c0fe-4a5b-ad48-e516e13ede07"
I0305 08:22:09.944855       1 gateway.go:207] "Processing request" requestID="92d729ec-ef75-476b-b5c6-242beb17fb06"
I0305 08:22:09.944886       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c4f43ab9-c0fe-4a5b-ad48-e516e13ede07" model="qwen2-5-7b-instruct"
I0305 08:22:09.944890       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="92d729ec-ef75-476b-b5c6-242beb17fb06"
I0305 08:22:09.944898       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:09.944980       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:09.944986       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:09.944990       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:09.945149       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:09.945177       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:09.945183       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:10.002130       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0569, numInputTokens, 7598
I0305 08:22:10.002146       1 tree.go:471] Updated node(0) last access: 140.1919 seconds
I0305 08:22:10.002153       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:10.002156       1 tree.go:471] Updated node(2) last access: 140.1919 seconds
I0305 08:22:10.002170       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:10.002173       1 tree.go:471] Updated node(6) last access: 140.1919 seconds
I0305 08:22:10.002178       1 tree.go:490] Partial tokens match child node(114). Continue to go deeper in the radix tree
I0305 08:22:10.002181       1 tree.go:471] Updated node(114) last access: 140.1919 seconds
I0305 08:22:10.002187       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:10.002195       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:10.002202       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:10.002210       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:10.002220       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:10.002197465 +0000 UTC m=+140.307099562]
I0305 08:22:10.002242       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:10.002252       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:10.002318       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7481
I0305 08:22:10.002339       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:10.002349       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.002355       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.002361       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.002365       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.002370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.002383       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:10.002394       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:10.002403       1 prefix_cache_and_load.go:584] latency, Route, 0.0574
I0305 08:22:10.002411       1 gateway.go:415] latency, selectTargetPod, 0.0574, target pod, 10.0.1.22:8000
I0305 08:22:10.002423       1 gateway.go:235] latency, HandleRequestBody, 0.0578
I0305 08:22:10.021400       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c4f43ab9-c0fe-4a5b-ad48-e516e13ede07"
I0305 08:22:10.045731       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2af473e3, selectedpod, 10.0.1.28:8000, ttft, 120, tpot, 19, e2e, 293, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:22:10.045753       1 gateway.go:748] "Request completed" requestID="e851f8e9-1c31-4f02-b4b0-58df5c6253d9" targetPod="10.0.1.28:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:22:10.045765       1 gateway.go:764] "HandleResponseBody completed" requestID="e851f8e9-1c31-4f02-b4b0-58df5c6253d9" promptTokens=7615 completionTokens=10 stream=true
I0305 08:22:10.064959       1 gateway.go:608] "First token received" requestID="c4f43ab9-c0fe-4a5b-ad48-e516e13ede07" ttft_ms=120
I0305 08:22:10.137691       1 gateway.go:329] "-- In RequestBody processing ..." requestID="92d729ec-ef75-476b-b5c6-242beb17fb06"
I0305 08:22:10.137843       1 gateway.go:207] "Processing request" requestID="a0cacc1f-6a7f-44e1-9130-1b38fc60859a"
I0305 08:22:10.137884       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a0cacc1f-6a7f-44e1-9130-1b38fc60859a"
I0305 08:22:10.137895       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:10.137936       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="92d729ec-ef75-476b-b5c6-242beb17fb06" model="qwen2-5-7b-instruct"
I0305 08:22:10.138018       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:10.138025       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:10.138028       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:10.138232       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:10.138267       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:10.138273       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:10.198367       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0601, numInputTokens, 7603
I0305 08:22:10.198389       1 tree.go:471] Updated node(0) last access: 140.3881 seconds
I0305 08:22:10.198395       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:10.198399       1 tree.go:471] Updated node(2) last access: 140.3881 seconds
I0305 08:22:10.198412       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:10.198415       1 tree.go:471] Updated node(16) last access: 140.3881 seconds
I0305 08:22:10.198426       1 tree.go:667] Split complete - New node(224)
I0305 08:22:10.198431       1 tree.go:668] Split complete - Child node(190)
I0305 08:22:10.198437       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0305 08:22:10.198442       1 tree.go:471] Updated node(224) last access: 140.3882 seconds
I0305 08:22:10.198447       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:10.198452       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 08:22:10.198459       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:22:10.198466       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:10.198471       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:10.198453974 +0000 UTC m=+140.503356071]
I0305 08:22:10.198491       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7485, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:10.198503       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:10.198582       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7485
I0305 08:22:10.198594       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:10.198604       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.198611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.198618       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.198625       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.198633       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.198643       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:10.198653       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:10.198683       1 prefix_cache_and_load.go:584] latency, Route, 0.0606
I0305 08:22:10.198695       1 gateway.go:415] latency, selectTargetPod, 0.0607, target pod, 10.0.1.14:8000
I0305 08:22:10.198714       1 gateway.go:235] latency, HandleRequestBody, 0.0610
I0305 08:22:10.217520       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="92d729ec-ef75-476b-b5c6-242beb17fb06"
I0305 08:22:10.237735       1 gateway.go:562] latency, 0.0001, summary, hash(request), d34c5d59, selectedpod, 10.0.1.22:8000, ttft, 120, tpot, 19, e2e, 293, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:10.237758       1 gateway.go:748] "Request completed" requestID="c4f43ab9-c0fe-4a5b-ad48-e516e13ede07" targetPod="10.0.1.22:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:10.237770       1 gateway.go:764] "HandleResponseBody completed" requestID="c4f43ab9-c0fe-4a5b-ad48-e516e13ede07" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:10.254168       1 gateway.go:608] "First token received" requestID="92d729ec-ef75-476b-b5c6-242beb17fb06" ttft_ms=116
I0305 08:22:10.286531       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a0cacc1f-6a7f-44e1-9130-1b38fc60859a"
I0305 08:22:10.286732       1 gateway.go:207] "Processing request" requestID="096658da-a15e-4bf4-a87a-069146a1b487"
I0305 08:22:10.286771       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a0cacc1f-6a7f-44e1-9130-1b38fc60859a" model="qwen2-5-7b-instruct"
I0305 08:22:10.286774       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="096658da-a15e-4bf4-a87a-069146a1b487"
I0305 08:22:10.286788       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:10.286859       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:10.286866       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:10.286870       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:10.287058       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:10.287092       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:10.287098       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:10.346777       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0597, numInputTokens, 7600
I0305 08:22:10.346798       1 tree.go:471] Updated node(0) last access: 140.5365 seconds
I0305 08:22:10.346805       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:10.346810       1 tree.go:471] Updated node(2) last access: 140.5365 seconds
I0305 08:22:10.346826       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:10.346829       1 tree.go:471] Updated node(28) last access: 140.5365 seconds
I0305 08:22:10.346839       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:22:10.346847       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:10.346862       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:10.346871       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:10.346881       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:10.346850287 +0000 UTC m=+140.651752390]
I0305 08:22:10.346907       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:22:10.346921       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:22:10.347009       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7478
I0305 08:22:10.347022       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:10.347037       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.347048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.347059       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.347067       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.347090       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:10.347108       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:10.347128       1 prefix_cache_and_load.go:584] latency, Route, 0.0603
I0305 08:22:10.347143       1 gateway.go:415] latency, selectTargetPod, 0.0603, target pod, 10.0.0.39:8000
I0305 08:22:10.347160       1 gateway.go:235] latency, HandleRequestBody, 0.0606
I0305 08:22:10.364946       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a0cacc1f-6a7f-44e1-9130-1b38fc60859a"
I0305 08:22:10.408600       1 gateway.go:608] "First token received" requestID="a0cacc1f-6a7f-44e1-9130-1b38fc60859a" ttft_ms=122
I0305 08:22:10.426808       1 gateway.go:562] latency, 0.0001, summary, hash(request), b2df60cf, selectedpod, 10.0.1.14:8000, ttft, 116, tpot, 19, e2e, 289, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:22:10.426830       1 gateway.go:748] "Request completed" requestID="92d729ec-ef75-476b-b5c6-242beb17fb06" targetPod="10.0.1.14:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:22:10.426841       1 gateway.go:764] "HandleResponseBody completed" requestID="92d729ec-ef75-476b-b5c6-242beb17fb06" promptTokens=7622 completionTokens=10 stream=true
I0305 08:22:10.492325       1 gateway.go:329] "-- In RequestBody processing ..." requestID="096658da-a15e-4bf4-a87a-069146a1b487"
I0305 08:22:10.492506       1 gateway.go:207] "Processing request" requestID="a888f318-35fd-4793-9354-933956663ae8"
I0305 08:22:10.492541       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a888f318-35fd-4793-9354-933956663ae8"
I0305 08:22:10.492559       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:10.492645       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="096658da-a15e-4bf4-a87a-069146a1b487" model="qwen2-5-7b-instruct"
I0305 08:22:10.492804       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:10.492815       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:10.492820       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:10.493108       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:10.493157       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:10.493164       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:10.551452       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0583, numInputTokens, 7597
I0305 08:22:10.551469       1 tree.go:471] Updated node(0) last access: 140.7412 seconds
I0305 08:22:10.551476       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:10.551479       1 tree.go:471] Updated node(2) last access: 140.7412 seconds
I0305 08:22:10.551492       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:10.551495       1 tree.go:471] Updated node(16) last access: 140.7412 seconds
I0305 08:22:10.551506       1 tree.go:667] Split complete - New node(227)
I0305 08:22:10.551510       1 tree.go:668] Split complete - Child node(41)
I0305 08:22:10.551517       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:10.551522       1 tree.go:471] Updated node(227) last access: 140.7412 seconds
I0305 08:22:10.551529       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:10.551534       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:10.551541       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:10.551549       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:10.551554       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:10.551536653 +0000 UTC m=+140.856438750]
I0305 08:22:10.551571       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7482, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:10.551580       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:10.551649       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7482
I0305 08:22:10.551660       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:10.551679       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.551686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.551692       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.551697       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.551701       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.551710       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:10.551721       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:10.551731       1 prefix_cache_and_load.go:584] latency, Route, 0.0589
I0305 08:22:10.551741       1 gateway.go:415] latency, selectTargetPod, 0.0589, target pod, 10.0.1.14:8000
I0305 08:22:10.551753       1 gateway.go:235] latency, HandleRequestBody, 0.0594
I0305 08:22:10.570347       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="096658da-a15e-4bf4-a87a-069146a1b487"
I0305 08:22:10.581402       1 gateway.go:562] latency, 0.0000, summary, hash(request), 688aa7f1, selectedpod, 10.0.0.39:8000, ttft, 122, tpot, 19, e2e, 294, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:10.581421       1 gateway.go:748] "Request completed" requestID="a0cacc1f-6a7f-44e1-9130-1b38fc60859a" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:10.581436       1 gateway.go:764] "HandleResponseBody completed" requestID="a0cacc1f-6a7f-44e1-9130-1b38fc60859a" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:10.605515       1 gateway.go:608] "First token received" requestID="096658da-a15e-4bf4-a87a-069146a1b487" ttft_ms=113
I0305 08:22:10.667542       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a888f318-35fd-4793-9354-933956663ae8"
I0305 08:22:10.667793       1 gateway.go:207] "Processing request" requestID="43ff4aa7-f0e2-45aa-9a01-a4c627bbd615"
I0305 08:22:10.667802       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a888f318-35fd-4793-9354-933956663ae8" model="qwen2-5-7b-instruct"
I0305 08:22:10.667828       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="43ff4aa7-f0e2-45aa-9a01-a4c627bbd615"
I0305 08:22:10.667838       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:10.667926       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:10.667934       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:10.667937       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:10.668151       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:10.668185       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:10.668191       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:10.729231       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0610, numInputTokens, 7600
I0305 08:22:10.729253       1 tree.go:471] Updated node(0) last access: 140.9190 seconds
I0305 08:22:10.729261       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:10.729264       1 tree.go:471] Updated node(2) last access: 140.9190 seconds
I0305 08:22:10.729277       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:10.729281       1 tree.go:471] Updated node(45) last access: 140.9190 seconds
I0305 08:22:10.729289       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:22:10.729297       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:22:10.729305       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:10.729316       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:10.729322       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:10.729299605 +0000 UTC m=+141.034201702]
I0305 08:22:10.729348       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:22:10.729360       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:22:10.729502       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:22:10.729524       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 08:22:10.729536       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.729545       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.729552       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.729558       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.729568       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:10.729579       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:10.729590       1 prefix_cache_and_load.go:584] latency, Route, 0.0617
I0305 08:22:10.729601       1 gateway.go:415] latency, selectTargetPod, 0.0617, target pod, 10.0.0.134:8000
I0305 08:22:10.729639       1 gateway.go:235] latency, HandleRequestBody, 0.0621
I0305 08:22:10.749323       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a888f318-35fd-4793-9354-933956663ae8"
I0305 08:22:10.778081       1 gateway.go:562] latency, 0.0000, summary, hash(request), e0a21ebb, selectedpod, 10.0.1.14:8000, ttft, 113, tpot, 19, e2e, 285, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:10.778104       1 gateway.go:748] "Request completed" requestID="096658da-a15e-4bf4-a87a-069146a1b487" targetPod="10.0.1.14:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:10.778117       1 gateway.go:764] "HandleResponseBody completed" requestID="096658da-a15e-4bf4-a87a-069146a1b487" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:10.793693       1 gateway.go:608] "First token received" requestID="a888f318-35fd-4793-9354-933956663ae8" ttft_ms=126
I0305 08:22:10.843936       1 gateway.go:329] "-- In RequestBody processing ..." requestID="43ff4aa7-f0e2-45aa-9a01-a4c627bbd615"
I0305 08:22:10.852687       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="43ff4aa7-f0e2-45aa-9a01-a4c627bbd615" model="qwen2-5-7b-instruct"
I0305 08:22:10.852768       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:10.852775       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:10.852778       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:10.852938       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:10.852970       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:10.852976       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:10.857425       1 gateway.go:207] "Processing request" requestID="4b15690d-97c2-4859-a298-992a057b631d"
I0305 08:22:10.857454       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4b15690d-97c2-4859-a298-992a057b631d"
I0305 08:22:10.857462       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:10.910346       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0574, numInputTokens, 7599
I0305 08:22:10.910363       1 tree.go:471] Updated node(0) last access: 141.1001 seconds
I0305 08:22:10.910370       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:10.910374       1 tree.go:471] Updated node(2) last access: 141.1001 seconds
I0305 08:22:10.910387       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:10.910392       1 tree.go:471] Updated node(16) last access: 141.1001 seconds
I0305 08:22:10.910395       1 tree.go:490] Partial tokens match child node(92). Continue to go deeper in the radix tree
I0305 08:22:10.910400       1 tree.go:471] Updated node(92) last access: 141.1001 seconds
I0305 08:22:10.910412       1 tree.go:667] Split complete - New node(230)
I0305 08:22:10.910417       1 tree.go:668] Split complete - Child node(55)
I0305 08:22:10.910422       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:22:10.910427       1 tree.go:471] Updated node(230) last access: 141.1001 seconds
I0305 08:22:10.910438       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:10.910444       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:10.910450       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:10.910457       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:10.910464       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:10.910445961 +0000 UTC m=+141.215348059]
I0305 08:22:10.910481       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:10.910489       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:10.910551       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7483
I0305 08:22:10.910562       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:10.910571       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.910578       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.910585       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.910591       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.910596       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.910601       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:10.910610       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:10.910621       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:10.910633       1 prefix_cache_and_load.go:584] latency, Route, 0.0579
I0305 08:22:10.910643       1 gateway.go:415] latency, selectTargetPod, 0.0579, target pod, 10.0.1.14:8000
I0305 08:22:10.910654       1 gateway.go:235] latency, HandleRequestBody, 0.0667
I0305 08:22:10.929450       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="43ff4aa7-f0e2-45aa-9a01-a4c627bbd615"
I0305 08:22:10.966393       1 gateway.go:562] latency, 0.0000, summary, hash(request), cf0c998f, selectedpod, 10.0.0.134:8000, ttft, 126, tpot, 19, e2e, 298, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:10.966416       1 gateway.go:748] "Request completed" requestID="a888f318-35fd-4793-9354-933956663ae8" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:10.966428       1 gateway.go:764] "HandleResponseBody completed" requestID="a888f318-35fd-4793-9354-933956663ae8" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:10.972621       1 gateway.go:608] "First token received" requestID="43ff4aa7-f0e2-45aa-9a01-a4c627bbd615" ttft_ms=128
I0305 08:22:11.040833       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4b15690d-97c2-4859-a298-992a057b631d"
I0305 08:22:11.040990       1 gateway.go:207] "Processing request" requestID="a62b6939-d143-4b57-a6b9-345e8e84210f"
I0305 08:22:11.041022       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a62b6939-d143-4b57-a6b9-345e8e84210f"
I0305 08:22:11.041034       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:11.041055       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4b15690d-97c2-4859-a298-992a057b631d" model="qwen2-5-7b-instruct"
I0305 08:22:11.041130       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:11.041136       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:11.041140       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:11.041315       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:11.041359       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:11.041366       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:11.099916       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0585, numInputTokens, 7601
I0305 08:22:11.099936       1 tree.go:471] Updated node(0) last access: 141.2897 seconds
I0305 08:22:11.099942       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:11.099945       1 tree.go:471] Updated node(2) last access: 141.2897 seconds
I0305 08:22:11.099960       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:11.099964       1 tree.go:471] Updated node(6) last access: 141.2897 seconds
I0305 08:22:11.099974       1 tree.go:667] Split complete - New node(232)
I0305 08:22:11.099980       1 tree.go:668] Split complete - Child node(185)
I0305 08:22:11.099985       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 08:22:11.099991       1 tree.go:471] Updated node(232) last access: 141.2897 seconds
I0305 08:22:11.099996       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 08:22:11.100002       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:11.100008       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:11.100016       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:11.100021       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:11.100004015 +0000 UTC m=+141.404906112]
I0305 08:22:11.100037       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7489, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 08:22:11.100046       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 08:22:11.100103       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7489
I0305 08:22:11.100114       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:11.100124       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.100130       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.100135       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.100140       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.100145       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.100155       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:11.100167       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:11.100176       1 prefix_cache_and_load.go:584] latency, Route, 0.0590
I0305 08:22:11.100185       1 gateway.go:415] latency, selectTargetPod, 0.0591, target pod, 10.0.1.22:8000
I0305 08:22:11.100198       1 gateway.go:235] latency, HandleRequestBody, 0.0594
I0305 08:22:11.118034       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4b15690d-97c2-4859-a298-992a057b631d"
I0305 08:22:11.145657       1 gateway.go:562] latency, 0.0000, summary, hash(request), bef21ae0, selectedpod, 10.0.1.14:8000, ttft, 128, tpot, 19, e2e, 301, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:11.145689       1 gateway.go:748] "Request completed" requestID="43ff4aa7-f0e2-45aa-9a01-a4c627bbd615" targetPod="10.0.1.14:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:11.145703       1 gateway.go:764] "HandleResponseBody completed" requestID="43ff4aa7-f0e2-45aa-9a01-a4c627bbd615" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:11.153699       1 gateway.go:608] "First token received" requestID="4b15690d-97c2-4859-a298-992a057b631d" ttft_ms=112
I0305 08:22:11.216540       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a62b6939-d143-4b57-a6b9-345e8e84210f"
I0305 08:22:11.216792       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a62b6939-d143-4b57-a6b9-345e8e84210f" model="qwen2-5-7b-instruct"
I0305 08:22:11.216883       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:11.216891       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:11.216895       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:11.217064       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:11.217101       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:11.217107       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:11.222027       1 gateway.go:207] "Processing request" requestID="8603bca8-26e6-459d-ae63-3cf26bfce159"
I0305 08:22:11.222066       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8603bca8-26e6-459d-ae63-3cf26bfce159"
I0305 08:22:11.222079       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:11.275830       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0587, numInputTokens, 7601
I0305 08:22:11.275846       1 tree.go:471] Updated node(0) last access: 141.4656 seconds
I0305 08:22:11.275853       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:11.275856       1 tree.go:471] Updated node(2) last access: 141.4656 seconds
I0305 08:22:11.275869       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:11.275872       1 tree.go:471] Updated node(16) last access: 141.4656 seconds
I0305 08:22:11.275876       1 tree.go:490] Partial tokens match child node(71). Continue to go deeper in the radix tree
I0305 08:22:11.275880       1 tree.go:471] Updated node(71) last access: 141.4656 seconds
I0305 08:22:11.275890       1 tree.go:667] Split complete - New node(234)
I0305 08:22:11.275895       1 tree.go:668] Split complete - Child node(17)
I0305 08:22:11.275900       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 08:22:11.275906       1 tree.go:471] Updated node(234) last access: 141.4656 seconds
I0305 08:22:11.275911       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 08:22:11.275916       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:11.275923       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:11.275932       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:11.275941       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:11.275918386 +0000 UTC m=+141.580820483]
I0305 08:22:11.275963       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7490, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 08:22:11.275976       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 08:22:11.276063       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7490
I0305 08:22:11.276081       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:11.276095       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.276109       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.276117       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.276124       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.276132       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.276138       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.276147       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:11.276157       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:11.276172       1 prefix_cache_and_load.go:584] latency, Route, 0.0593
I0305 08:22:11.276186       1 gateway.go:415] latency, selectTargetPod, 0.0593, target pod, 10.0.1.14:8000
I0305 08:22:11.276200       1 gateway.go:235] latency, HandleRequestBody, 0.0597
I0305 08:22:11.293212       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a62b6939-d143-4b57-a6b9-345e8e84210f"
I0305 08:22:11.326754       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6cad6d6c, selectedpod, 10.0.1.22:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:11.326772       1 gateway.go:748] "Request completed" requestID="4b15690d-97c2-4859-a298-992a057b631d" targetPod="10.0.1.22:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:11.326783       1 gateway.go:764] "HandleResponseBody completed" requestID="4b15690d-97c2-4859-a298-992a057b631d" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:11.329709       1 gateway.go:608] "First token received" requestID="a62b6939-d143-4b57-a6b9-345e8e84210f" ttft_ms=113
I0305 08:22:11.355636       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8603bca8-26e6-459d-ae63-3cf26bfce159"
I0305 08:22:11.355818       1 gateway.go:207] "Processing request" requestID="1118f924-4960-4fce-85d9-621c02ea7852"
I0305 08:22:11.355843       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1118f924-4960-4fce-85d9-621c02ea7852"
I0305 08:22:11.355850       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:11.356154       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8603bca8-26e6-459d-ae63-3cf26bfce159" model="qwen2-5-7b-instruct"
I0305 08:22:11.356235       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:11.356243       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:11.356248       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:11.356451       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:11.356489       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:11.356495       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:11.415507       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0590, numInputTokens, 7599
I0305 08:22:11.415528       1 tree.go:471] Updated node(0) last access: 141.6052 seconds
I0305 08:22:11.415535       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:11.415539       1 tree.go:471] Updated node(2) last access: 141.6053 seconds
I0305 08:22:11.415550       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:11.415555       1 tree.go:471] Updated node(57) last access: 141.6053 seconds
I0305 08:22:11.415559       1 tree.go:490] Partial tokens match child node(173). Continue to go deeper in the radix tree
I0305 08:22:11.415563       1 tree.go:471] Updated node(173) last access: 141.6053 seconds
I0305 08:22:11.415570       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:11.415576       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:22:11.415583       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:11.415595       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:11.415602       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:11.415578233 +0000 UTC m=+141.720480330]
I0305 08:22:11.415620       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:11.415629       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:11.415701       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7483
I0305 08:22:11.415712       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:11.415721       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.415726       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.415732       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.415736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.415741       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.415752       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:11.415762       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:11.415771       1 prefix_cache_and_load.go:584] latency, Route, 0.0595
I0305 08:22:11.415782       1 gateway.go:415] latency, selectTargetPod, 0.0595, target pod, 10.0.1.28:8000
I0305 08:22:11.415798       1 gateway.go:235] latency, HandleRequestBody, 0.0602
I0305 08:22:11.433685       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8603bca8-26e6-459d-ae63-3cf26bfce159"
I0305 08:22:11.477374       1 gateway.go:608] "First token received" requestID="8603bca8-26e6-459d-ae63-3cf26bfce159" ttft_ms=121
I0305 08:22:11.500983       1 gateway.go:562] latency, 0.0001, summary, hash(request), dbbee7c2, selectedpod, 10.0.1.14:8000, ttft, 113, tpot, 19, e2e, 284, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:11.501007       1 gateway.go:748] "Request completed" requestID="a62b6939-d143-4b57-a6b9-345e8e84210f" targetPod="10.0.1.14:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:11.501023       1 gateway.go:764] "HandleResponseBody completed" requestID="a62b6939-d143-4b57-a6b9-345e8e84210f" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:11.535831       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1118f924-4960-4fce-85d9-621c02ea7852"
I0305 08:22:11.536055       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1118f924-4960-4fce-85d9-621c02ea7852" model="qwen2-5-7b-instruct"
I0305 08:22:11.536143       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:11.536150       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:11.536153       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:11.536326       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:11.536368       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:11.536374       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:11.572268       1 gateway.go:207] "Processing request" requestID="e249d7b2-c8e2-4afe-af1f-9a4b5c4b5f4f"
I0305 08:22:11.572305       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e249d7b2-c8e2-4afe-af1f-9a4b5c4b5f4f"
I0305 08:22:11.572316       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:11.593307       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0569, numInputTokens, 7600
I0305 08:22:11.593322       1 tree.go:471] Updated node(0) last access: 141.7830 seconds
I0305 08:22:11.593337       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:11.593341       1 tree.go:471] Updated node(2) last access: 141.7831 seconds
I0305 08:22:11.593353       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:11.593356       1 tree.go:471] Updated node(10) last access: 141.7831 seconds
I0305 08:22:11.593364       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:22:11.593369       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:22:11.593376       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:11.593382       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:11.593387       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:11.593371615 +0000 UTC m=+141.898273712]
I0305 08:22:11.593404       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:22:11.593413       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:22:11.593477       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7478
I0305 08:22:11.593488       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:11.593497       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.593505       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.593512       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.593518       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.593526       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:11.593536       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:11.593546       1 prefix_cache_and_load.go:584] latency, Route, 0.0574
I0305 08:22:11.593555       1 gateway.go:415] latency, selectTargetPod, 0.0574, target pod, 10.0.0.101:8000
I0305 08:22:11.593567       1 gateway.go:235] latency, HandleRequestBody, 0.0577
I0305 08:22:11.615366       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1118f924-4960-4fce-85d9-621c02ea7852"
I0305 08:22:11.650099       1 gateway.go:562] latency, 0.0000, summary, hash(request), bdbf9111, selectedpod, 10.0.1.28:8000, ttft, 121, tpot, 19, e2e, 294, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:11.650122       1 gateway.go:748] "Request completed" requestID="8603bca8-26e6-459d-ae63-3cf26bfce159" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:11.650136       1 gateway.go:764] "HandleResponseBody completed" requestID="8603bca8-26e6-459d-ae63-3cf26bfce159" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:11.659085       1 gateway.go:608] "First token received" requestID="1118f924-4960-4fce-85d9-621c02ea7852" ttft_ms=123
I0305 08:22:11.702020       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e249d7b2-c8e2-4afe-af1f-9a4b5c4b5f4f"
I0305 08:22:11.702259       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e249d7b2-c8e2-4afe-af1f-9a4b5c4b5f4f" model="qwen2-5-7b-instruct"
I0305 08:22:11.702353       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:11.702360       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:11.702364       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:11.702546       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:11.702582       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:11.702588       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:11.764050       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0615, numInputTokens, 7599
I0305 08:22:11.764071       1 tree.go:471] Updated node(0) last access: 141.9538 seconds
I0305 08:22:11.764078       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:11.764081       1 tree.go:471] Updated node(2) last access: 141.9538 seconds
I0305 08:22:11.764094       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:11.764100       1 tree.go:471] Updated node(36) last access: 141.9538 seconds
I0305 08:22:11.764111       1 tree.go:667] Split complete - New node(238)
I0305 08:22:11.764116       1 tree.go:668] Split complete - Child node(37)
I0305 08:22:11.764122       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:22:11.764128       1 tree.go:471] Updated node(238) last access: 141.9538 seconds
I0305 08:22:11.764134       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:22:11.764139       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:11.764145       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:11.764152       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:11.764158       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:11.76414132 +0000 UTC m=+142.069043417]
I0305 08:22:11.764175       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7480, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:22:11.764184       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:22:11.764246       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7480
I0305 08:22:11.764256       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:11.764265       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.764275       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.764281       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.764285       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.764290       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:11.764299       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:11.764310       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:11.764320       1 prefix_cache_and_load.go:584] latency, Route, 0.0620
I0305 08:22:11.764339       1 gateway.go:415] latency, selectTargetPod, 0.0620, target pod, 10.0.3.30:8000
I0305 08:22:11.764350       1 gateway.go:235] latency, HandleRequestBody, 0.0623
I0305 08:22:11.780398       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e249d7b2-c8e2-4afe-af1f-9a4b5c4b5f4f"
I0305 08:22:11.824916       1 gateway.go:608] "First token received" requestID="e249d7b2-c8e2-4afe-af1f-9a4b5c4b5f4f" ttft_ms=122
I0305 08:22:11.832209       1 gateway.go:562] latency, 0.0001, summary, hash(request), 3898c26d, selectedpod, 10.0.0.101:8000, ttft, 123, tpot, 19, e2e, 296, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:11.832229       1 gateway.go:748] "Request completed" requestID="1118f924-4960-4fce-85d9-621c02ea7852" targetPod="10.0.0.101:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:11.832241       1 gateway.go:764] "HandleResponseBody completed" requestID="1118f924-4960-4fce-85d9-621c02ea7852" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:11.998009       1 gateway.go:562] latency, 0.0001, summary, hash(request), 867a3881, selectedpod, 10.0.3.30:8000, ttft, 122, tpot, 19, e2e, 295, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:11.998031       1 gateway.go:748] "Request completed" requestID="e249d7b2-c8e2-4afe-af1f-9a4b5c4b5f4f" targetPod="10.0.3.30:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:11.998043       1 gateway.go:764] "HandleResponseBody completed" requestID="e249d7b2-c8e2-4afe-af1f-9a4b5c4b5f4f" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:12.304674       1 gateway.go:207] "Processing request" requestID="6f257a05-39be-4367-88e7-243f1a0bae45"
I0305 08:22:12.304717       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6f257a05-39be-4367-88e7-243f1a0bae45"
I0305 08:22:12.304726       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:12.317625       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6f257a05-39be-4367-88e7-243f1a0bae45"
I0305 08:22:12.317873       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6f257a05-39be-4367-88e7-243f1a0bae45" model="qwen2-5-7b-instruct"
I0305 08:22:12.317955       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:12.317962       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:12.317965       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:12.318177       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:12.318233       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:12.318239       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:12.379724       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0615, numInputTokens, 7602
I0305 08:22:12.379748       1 tree.go:471] Updated node(0) last access: 142.5695 seconds
I0305 08:22:12.379755       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:12.379759       1 tree.go:471] Updated node(2) last access: 142.5695 seconds
I0305 08:22:12.379772       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:12.379775       1 tree.go:471] Updated node(45) last access: 142.5695 seconds
I0305 08:22:12.379782       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 08:22:12.379788       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 08:22:12.379795       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:12.379802       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:12.379809       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:12.379790367 +0000 UTC m=+142.684692464]
I0305 08:22:12.379825       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 08:22:12.379833       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 08:22:12.379899       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:22:12.379909       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:12.379919       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.379927       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.379932       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.379938       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.379948       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:12.379959       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:12.379970       1 prefix_cache_and_load.go:584] latency, Route, 0.0620
I0305 08:22:12.379982       1 gateway.go:415] latency, selectTargetPod, 0.0620, target pod, 10.0.0.134:8000
I0305 08:22:12.379995       1 gateway.go:235] latency, HandleRequestBody, 0.0624
I0305 08:22:12.398384       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6f257a05-39be-4367-88e7-243f1a0bae45"
I0305 08:22:12.441760       1 gateway.go:608] "First token received" requestID="6f257a05-39be-4367-88e7-243f1a0bae45" ttft_ms=124
I0305 08:22:12.614426       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2ac88e96, selectedpod, 10.0.0.134:8000, ttft, 124, tpot, 19, e2e, 296, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:12.614452       1 gateway.go:748] "Request completed" requestID="6f257a05-39be-4367-88e7-243f1a0bae45" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:12.614465       1 gateway.go:764] "HandleResponseBody completed" requestID="6f257a05-39be-4367-88e7-243f1a0bae45" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:12.695698       1 gateway.go:207] "Processing request" requestID="39371855-9799-419b-beaf-350e2a3a2dfc"
I0305 08:22:12.695733       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="39371855-9799-419b-beaf-350e2a3a2dfc"
I0305 08:22:12.695742       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:12.727100       1 gateway.go:329] "-- In RequestBody processing ..." requestID="39371855-9799-419b-beaf-350e2a3a2dfc"
I0305 08:22:12.727237       1 gateway.go:207] "Processing request" requestID="c16df058-620f-4783-b570-2995c2df609f"
I0305 08:22:12.727270       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c16df058-620f-4783-b570-2995c2df609f"
I0305 08:22:12.727279       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:12.727351       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="39371855-9799-419b-beaf-350e2a3a2dfc" model="qwen2-5-7b-instruct"
I0305 08:22:12.727453       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:12.727461       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:12.727465       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:12.727704       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:12.727748       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:12.727757       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:12.785969       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0582, numInputTokens, 7593
I0305 08:22:12.785988       1 tree.go:471] Updated node(0) last access: 142.9757 seconds
I0305 08:22:12.785994       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:12.785998       1 tree.go:471] Updated node(2) last access: 142.9757 seconds
I0305 08:22:12.786010       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:12.786015       1 tree.go:471] Updated node(16) last access: 142.9757 seconds
I0305 08:22:12.786022       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:12.786028       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7593 tokens
I0305 08:22:12.786035       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 08:22:12.786043       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:12.786050       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:12.786030171 +0000 UTC m=+143.090932269]
I0305 08:22:12.786068       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7478, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:12.786080       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:12.786170       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7478
I0305 08:22:12.786182       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:12.786192       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.786199       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.786208       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.786213       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.786223       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:12.786234       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:12.786244       1 prefix_cache_and_load.go:584] latency, Route, 0.0588
I0305 08:22:12.786255       1 gateway.go:415] latency, selectTargetPod, 0.0588, target pod, 10.0.1.14:8000
I0305 08:22:12.786266       1 gateway.go:235] latency, HandleRequestBody, 0.0592
I0305 08:22:12.804046       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="39371855-9799-419b-beaf-350e2a3a2dfc"
I0305 08:22:12.839993       1 gateway.go:608] "First token received" requestID="39371855-9799-419b-beaf-350e2a3a2dfc" ttft_ms=112
I0305 08:22:12.928585       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c16df058-620f-4783-b570-2995c2df609f"
I0305 08:22:12.928748       1 gateway.go:207] "Processing request" requestID="eae13108-f986-45a5-8f17-4e01cb34e86b"
I0305 08:22:12.928790       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="eae13108-f986-45a5-8f17-4e01cb34e86b"
I0305 08:22:12.928803       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:12.928836       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c16df058-620f-4783-b570-2995c2df609f" model="qwen2-5-7b-instruct"
I0305 08:22:12.929064       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:12.929087       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:12.929091       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:12.929630       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:12.929907       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0008
I0305 08:22:12.929932       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:12.947243       1 gateway.go:329] "-- In RequestBody processing ..." requestID="eae13108-f986-45a5-8f17-4e01cb34e86b"
I0305 08:22:12.947484       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="eae13108-f986-45a5-8f17-4e01cb34e86b" model="qwen2-5-7b-instruct"
I0305 08:22:12.988989       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0590, numInputTokens, 7599
I0305 08:22:12.989009       1 tree.go:471] Updated node(0) last access: 143.1787 seconds
I0305 08:22:12.989016       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:12.989019       1 tree.go:471] Updated node(2) last access: 143.1787 seconds
I0305 08:22:12.989034       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:12.989039       1 tree.go:471] Updated node(36) last access: 143.1788 seconds
I0305 08:22:12.989042       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 08:22:12.989045       1 tree.go:471] Updated node(219) last access: 143.1788 seconds
I0305 08:22:12.989057       1 tree.go:667] Split complete - New node(242)
I0305 08:22:12.989062       1 tree.go:668] Split complete - Child node(220)
I0305 08:22:12.989067       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:12.989074       1 tree.go:471] Updated node(242) last access: 143.1788 seconds
I0305 08:22:12.989080       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:12.989084       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:12.989091       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:12.989098       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:12.989103       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:12.989086087 +0000 UTC m=+143.293988184]
I0305 08:22:12.989122       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7484, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:12.989129       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:12.989205       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7484
I0305 08:22:12.989216       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:12.989224       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.989228       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.989234       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.989239       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.989246       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.989251       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:12.989260       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:12.989271       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:12.989283       1 prefix_cache_and_load.go:584] latency, Route, 0.0603
I0305 08:22:12.989299       1 gateway.go:415] latency, selectTargetPod, 0.0603, target pod, 10.0.3.30:8000
I0305 08:22:12.989315       1 gateway.go:235] latency, HandleRequestBody, 0.0607
I0305 08:22:12.989371       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0418
I0305 08:22:12.989382       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:12.989387       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:12.989576       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:12.989625       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:12.989632       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:13.005484       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c16df058-620f-4783-b570-2995c2df609f"
I0305 08:22:13.012812       1 gateway.go:562] latency, 0.0001, summary, hash(request), ee618cae, selectedpod, 10.0.1.14:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 08:22:13.012835       1 gateway.go:748] "Request completed" requestID="39371855-9799-419b-beaf-350e2a3a2dfc" targetPod="10.0.1.14:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 08:22:13.012845       1 gateway.go:764] "HandleResponseBody completed" requestID="39371855-9799-419b-beaf-350e2a3a2dfc" promptTokens=7612 completionTokens=10 stream=true
I0305 08:22:13.041576       1 gateway.go:608] "First token received" requestID="c16df058-620f-4783-b570-2995c2df609f" ttft_ms=112
I0305 08:22:13.050622       1 gateway.go:207] "Processing request" requestID="eb964344-236b-4ed2-a5e8-14e498e877b5"
I0305 08:22:13.050646       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="eb964344-236b-4ed2-a5e8-14e498e877b5"
I0305 08:22:13.050655       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:13.073271       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0836, numInputTokens, 7598
I0305 08:22:13.073287       1 tree.go:471] Updated node(0) last access: 143.2630 seconds
I0305 08:22:13.073293       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:13.073296       1 tree.go:471] Updated node(2) last access: 143.2630 seconds
I0305 08:22:13.073309       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:13.073314       1 tree.go:471] Updated node(57) last access: 143.2630 seconds
I0305 08:22:13.073318       1 tree.go:490] Partial tokens match child node(221). Continue to go deeper in the radix tree
I0305 08:22:13.073321       1 tree.go:471] Updated node(221) last access: 143.2630 seconds
I0305 08:22:13.073340       1 tree.go:667] Split complete - New node(244)
I0305 08:22:13.073345       1 tree.go:668] Split complete - Child node(147)
I0305 08:22:13.073350       1 tree.go:501] latency, splitNode, 0.0000 seconds, 109 tokens:
I0305 08:22:13.073357       1 tree.go:471] Updated node(244) last access: 143.2631 seconds
I0305 08:22:13.073363       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 105 tokens:
I0305 08:22:13.073368       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:13.073375       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:13.073384       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:13.073389       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:13.073370737 +0000 UTC m=+143.378272834]
I0305 08:22:13.073406       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7493, Matching ratio: 0.9862, # Matched pods: 0, Matched pods: []
I0305 08:22:13.073413       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9862 > 0.5000)
I0305 08:22:13.073469       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7493
I0305 08:22:13.073479       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:13.073490       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.073497       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.073501       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.073508       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.073512       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.073519       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.073528       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:13.073539       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:13.073549       1 prefix_cache_and_load.go:584] latency, Route, 0.1260
I0305 08:22:13.073560       1 gateway.go:415] latency, selectTargetPod, 0.1260, target pod, 10.0.1.28:8000
I0305 08:22:13.073570       1 gateway.go:235] latency, HandleRequestBody, 0.1263
I0305 08:22:13.091806       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="eae13108-f986-45a5-8f17-4e01cb34e86b"
I0305 08:22:13.128026       1 gateway.go:608] "First token received" requestID="eae13108-f986-45a5-8f17-4e01cb34e86b" ttft_ms=180
I0305 08:22:13.147874       1 gateway.go:329] "-- In RequestBody processing ..." requestID="eb964344-236b-4ed2-a5e8-14e498e877b5"
I0305 08:22:13.148058       1 gateway.go:207] "Processing request" requestID="cf878fb9-ecac-4f62-8c53-22bdd5e14f99"
I0305 08:22:13.148095       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cf878fb9-ecac-4f62-8c53-22bdd5e14f99"
I0305 08:22:13.148110       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:13.148201       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="eb964344-236b-4ed2-a5e8-14e498e877b5" model="qwen2-5-7b-instruct"
I0305 08:22:13.148339       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:13.148349       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:13.148354       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:13.148597       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:13.148648       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:13.148658       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:13.208424       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0598, numInputTokens, 7599
I0305 08:22:13.208444       1 tree.go:471] Updated node(0) last access: 143.3982 seconds
I0305 08:22:13.208451       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:13.208454       1 tree.go:471] Updated node(2) last access: 143.3982 seconds
I0305 08:22:13.208466       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:13.208471       1 tree.go:471] Updated node(10) last access: 143.3982 seconds
I0305 08:22:13.208475       1 tree.go:490] Partial tokens match child node(76). Continue to go deeper in the radix tree
I0305 08:22:13.208478       1 tree.go:471] Updated node(76) last access: 143.3982 seconds
I0305 08:22:13.208494       1 tree.go:667] Split complete - New node(246)
I0305 08:22:13.208498       1 tree.go:668] Split complete - Child node(166)
I0305 08:22:13.208506       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:13.208513       1 tree.go:471] Updated node(246) last access: 143.3982 seconds
I0305 08:22:13.208521       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 08:22:13.208528       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:13.208538       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:13.208548       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:13.208557       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:13.208531239 +0000 UTC m=+143.513433344]
I0305 08:22:13.208581       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7487, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 08:22:13.208595       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 08:22:13.208712       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7487
I0305 08:22:13.208733       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:13.208750       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.208763       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.208771       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.208779       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.208786       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.208792       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.208803       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:13.208818       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:13.208833       1 prefix_cache_and_load.go:584] latency, Route, 0.0605
I0305 08:22:13.208847       1 gateway.go:415] latency, selectTargetPod, 0.0605, target pod, 10.0.0.101:8000
I0305 08:22:13.208862       1 gateway.go:235] latency, HandleRequestBody, 0.0610
I0305 08:22:13.214499       1 gateway.go:562] latency, 0.0000, summary, hash(request), daf000ab, selectedpod, 10.0.3.30:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:13.214519       1 gateway.go:748] "Request completed" requestID="c16df058-620f-4783-b570-2995c2df609f" targetPod="10.0.3.30:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:13.214530       1 gateway.go:764] "HandleResponseBody completed" requestID="c16df058-620f-4783-b570-2995c2df609f" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:13.227817       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="eb964344-236b-4ed2-a5e8-14e498e877b5"
I0305 08:22:13.231982       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cf878fb9-ecac-4f62-8c53-22bdd5e14f99"
I0305 08:22:13.232202       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cf878fb9-ecac-4f62-8c53-22bdd5e14f99" model="qwen2-5-7b-instruct"
I0305 08:22:13.232283       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:13.232289       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:13.232293       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:13.232436       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:13.232471       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:13.232476       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:13.263513       1 gateway.go:207] "Processing request" requestID="65010980-0902-4cf0-a944-e1101d8ceeb3"
I0305 08:22:13.263541       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="65010980-0902-4cf0-a944-e1101d8ceeb3"
I0305 08:22:13.263550       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:13.263918       1 gateway.go:608] "First token received" requestID="eb964344-236b-4ed2-a5e8-14e498e877b5" ttft_ms=115
I0305 08:22:13.288926       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0564, numInputTokens, 7598
I0305 08:22:13.288941       1 tree.go:471] Updated node(0) last access: 143.4787 seconds
I0305 08:22:13.288947       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:13.288951       1 tree.go:471] Updated node(2) last access: 143.4787 seconds
I0305 08:22:13.288963       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:13.288967       1 tree.go:471] Updated node(21) last access: 143.4787 seconds
I0305 08:22:13.288971       1 tree.go:490] Partial tokens match child node(186). Continue to go deeper in the radix tree
I0305 08:22:13.288976       1 tree.go:471] Updated node(186) last access: 143.4787 seconds
I0305 08:22:13.288986       1 tree.go:667] Split complete - New node(248)
I0305 08:22:13.288989       1 tree.go:668] Split complete - Child node(187)
I0305 08:22:13.288994       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:22:13.289000       1 tree.go:471] Updated node(248) last access: 143.4787 seconds
I0305 08:22:13.289005       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:13.289011       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:13.289017       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:13.289025       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:13.289030       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:13.289012761 +0000 UTC m=+143.593914858]
I0305 08:22:13.289046       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:13.289054       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:13.289114       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7484
I0305 08:22:13.289124       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:13.289133       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.289141       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.289147       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.289152       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.289157       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.289162       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.289172       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:13.289181       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:13.289191       1 prefix_cache_and_load.go:584] latency, Route, 0.0569
I0305 08:22:13.289201       1 gateway.go:415] latency, selectTargetPod, 0.0569, target pod, 10.0.3.41:8000
I0305 08:22:13.289212       1 gateway.go:235] latency, HandleRequestBody, 0.0572
I0305 08:22:13.300932       1 gateway.go:562] latency, 0.0000, summary, hash(request), 02edd6c1, selectedpod, 10.0.1.28:8000, ttft, 180, tpot, 19, e2e, 353, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:13.300950       1 gateway.go:748] "Request completed" requestID="eae13108-f986-45a5-8f17-4e01cb34e86b" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:13.300964       1 gateway.go:764] "HandleResponseBody completed" requestID="eae13108-f986-45a5-8f17-4e01cb34e86b" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:13.304910       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cf878fb9-ecac-4f62-8c53-22bdd5e14f99"
I0305 08:22:13.341045       1 gateway.go:608] "First token received" requestID="cf878fb9-ecac-4f62-8c53-22bdd5e14f99" ttft_ms=109
I0305 08:22:13.358596       1 gateway.go:329] "-- In RequestBody processing ..." requestID="65010980-0902-4cf0-a944-e1101d8ceeb3"
I0305 08:22:13.358729       1 gateway.go:207] "Processing request" requestID="1b5e8fac-8fd0-4c1f-a3c7-f8c30f456d68"
I0305 08:22:13.358760       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1b5e8fac-8fd0-4c1f-a3c7-f8c30f456d68"
I0305 08:22:13.358771       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:13.358981       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="65010980-0902-4cf0-a944-e1101d8ceeb3" model="qwen2-5-7b-instruct"
I0305 08:22:13.359053       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:13.359059       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:13.359062       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:13.359228       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:13.359262       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:13.359268       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:13.419292       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0600, numInputTokens, 7600
I0305 08:22:13.419311       1 tree.go:471] Updated node(0) last access: 143.6090 seconds
I0305 08:22:13.419317       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:13.419320       1 tree.go:471] Updated node(2) last access: 143.6090 seconds
I0305 08:22:13.419344       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:13.419349       1 tree.go:471] Updated node(21) last access: 143.6091 seconds
I0305 08:22:13.419356       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:22:13.419361       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:13.419369       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:13.419376       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:13.419383       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:13.419363697 +0000 UTC m=+143.724265794]
I0305 08:22:13.419400       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:22:13.419409       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:22:13.419460       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7478
I0305 08:22:13.419470       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:13.419481       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.419486       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.419489       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.419495       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.419504       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:13.419513       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:13.419524       1 prefix_cache_and_load.go:584] latency, Route, 0.0605
I0305 08:22:13.419534       1 gateway.go:415] latency, selectTargetPod, 0.0605, target pod, 10.0.3.41:8000
I0305 08:22:13.419544       1 gateway.go:235] latency, HandleRequestBody, 0.0610
I0305 08:22:13.436862       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2bbe411b, selectedpod, 10.0.0.101:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:13.436884       1 gateway.go:748] "Request completed" requestID="eb964344-236b-4ed2-a5e8-14e498e877b5" targetPod="10.0.0.101:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:13.436896       1 gateway.go:764] "HandleResponseBody completed" requestID="eb964344-236b-4ed2-a5e8-14e498e877b5" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:13.448510       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1b5e8fac-8fd0-4c1f-a3c7-f8c30f456d68"
I0305 08:22:13.448744       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1b5e8fac-8fd0-4c1f-a3c7-f8c30f456d68" model="qwen2-5-7b-instruct"
I0305 08:22:13.448818       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:13.448824       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:13.448827       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:13.448957       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:13.448991       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:13.448996       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:13.510408       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0614, numInputTokens, 7602
I0305 08:22:13.510423       1 tree.go:471] Updated node(0) last access: 143.7001 seconds
I0305 08:22:13.510430       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:13.510434       1 tree.go:471] Updated node(2) last access: 143.7001 seconds
I0305 08:22:13.510447       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:13.510451       1 tree.go:471] Updated node(73) last access: 143.7002 seconds
I0305 08:22:13.510456       1 tree.go:490] Partial tokens match child node(118). Continue to go deeper in the radix tree
I0305 08:22:13.510460       1 tree.go:471] Updated node(118) last access: 143.7002 seconds
I0305 08:22:13.510469       1 tree.go:667] Split complete - New node(251)
I0305 08:22:13.510474       1 tree.go:668] Split complete - Child node(81)
I0305 08:22:13.510479       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:22:13.510484       1 tree.go:471] Updated node(251) last access: 143.7002 seconds
I0305 08:22:13.510490       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:13.510495       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:13.510501       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:13.510508       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:13.510514       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:13.510496954 +0000 UTC m=+143.815399051]
I0305 08:22:13.510530       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7484, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:13.510538       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:13.510592       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7484
I0305 08:22:13.510603       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:13.510616       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.510623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.510629       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.510633       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.510641       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.510644       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.510652       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:13.510671       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:13.510680       1 prefix_cache_and_load.go:584] latency, Route, 0.0619
I0305 08:22:13.510690       1 gateway.go:415] latency, selectTargetPod, 0.0619, target pod, 10.0.0.134:8000
I0305 08:22:13.510701       1 gateway.go:235] latency, HandleRequestBody, 0.0622
I0305 08:22:13.514156       1 gateway.go:562] latency, 0.0001, summary, hash(request), 28034c92, selectedpod, 10.0.3.41:8000, ttft, 109, tpot, 19, e2e, 282, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:13.514178       1 gateway.go:748] "Request completed" requestID="cf878fb9-ecac-4f62-8c53-22bdd5e14f99" targetPod="10.0.3.41:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:13.514191       1 gateway.go:764] "HandleResponseBody completed" requestID="cf878fb9-ecac-4f62-8c53-22bdd5e14f99" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:13.518459       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="65010980-0902-4cf0-a944-e1101d8ceeb3"
I0305 08:22:13.528807       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1b5e8fac-8fd0-4c1f-a3c7-f8c30f456d68"
I0305 08:22:13.564547       1 gateway.go:608] "First token received" requestID="1b5e8fac-8fd0-4c1f-a3c7-f8c30f456d68" ttft_ms=115
I0305 08:22:13.573681       1 gateway.go:608] "First token received" requestID="65010980-0902-4cf0-a944-e1101d8ceeb3" ttft_ms=215
I0305 08:22:13.618257       1 gateway.go:207] "Processing request" requestID="50aaca9e-1896-4146-9187-6ea0923c5827"
I0305 08:22:13.618285       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="50aaca9e-1896-4146-9187-6ea0923c5827"
I0305 08:22:13.618294       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:13.655639       1 gateway.go:329] "-- In RequestBody processing ..." requestID="50aaca9e-1896-4146-9187-6ea0923c5827"
I0305 08:22:13.655878       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="50aaca9e-1896-4146-9187-6ea0923c5827" model="qwen2-5-7b-instruct"
I0305 08:22:13.655947       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:13.655953       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:13.655957       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:13.656121       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:13.656153       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:13.656159       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:13.675287       1 gateway.go:207] "Processing request" requestID="9aec46a9-7872-4783-a78a-79eda949b000"
I0305 08:22:13.675314       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9aec46a9-7872-4783-a78a-79eda949b000"
I0305 08:22:13.675324       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:13.718770       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0626, numInputTokens, 7593
I0305 08:22:13.718793       1 tree.go:471] Updated node(0) last access: 143.9085 seconds
I0305 08:22:13.718802       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:13.718807       1 tree.go:471] Updated node(2) last access: 143.9085 seconds
I0305 08:22:13.718825       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:13.718831       1 tree.go:471] Updated node(28) last access: 143.9085 seconds
I0305 08:22:13.718838       1 tree.go:490] Partial tokens match child node(177). Continue to go deeper in the radix tree
I0305 08:22:13.718843       1 tree.go:471] Updated node(177) last access: 143.9086 seconds
I0305 08:22:13.718857       1 tree.go:667] Split complete - New node(253)
I0305 08:22:13.718863       1 tree.go:668] Split complete - Child node(178)
I0305 08:22:13.718871       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 08:22:13.718878       1 tree.go:471] Updated node(253) last access: 143.9086 seconds
I0305 08:22:13.718886       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 08:22:13.718894       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7593 tokens
I0305 08:22:13.718903       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 08:22:13.718914       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:13.718924       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:13.718896327 +0000 UTC m=+144.023798429]
I0305 08:22:13.718948       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7483, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 08:22:13.718960       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 08:22:13.719016       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7483
I0305 08:22:13.719032       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:13.719045       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.719057       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.719064       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.719073       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.719080       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.719084       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.719096       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:13.719112       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:13.719129       1 prefix_cache_and_load.go:584] latency, Route, 0.0632
I0305 08:22:13.719141       1 gateway.go:415] latency, selectTargetPod, 0.0632, target pod, 10.0.0.39:8000
I0305 08:22:13.719155       1 gateway.go:235] latency, HandleRequestBody, 0.0635
I0305 08:22:13.737434       1 gateway.go:562] latency, 0.0000, summary, hash(request), 053baff8, selectedpod, 10.0.0.134:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:13.737458       1 gateway.go:748] "Request completed" requestID="1b5e8fac-8fd0-4c1f-a3c7-f8c30f456d68" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:13.737478       1 gateway.go:764] "HandleResponseBody completed" requestID="1b5e8fac-8fd0-4c1f-a3c7-f8c30f456d68" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:13.737636       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="50aaca9e-1896-4146-9187-6ea0923c5827"
I0305 08:22:13.746874       1 gateway.go:562] latency, 0.0000, summary, hash(request), da5b7be7, selectedpod, 10.0.3.41:8000, ttft, 215, tpot, 19, e2e, 388, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:13.746906       1 gateway.go:748] "Request completed" requestID="65010980-0902-4cf0-a944-e1101d8ceeb3" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:13.746918       1 gateway.go:764] "HandleResponseBody completed" requestID="65010980-0902-4cf0-a944-e1101d8ceeb3" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:13.770000       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9aec46a9-7872-4783-a78a-79eda949b000"
I0305 08:22:13.770227       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9aec46a9-7872-4783-a78a-79eda949b000" model="qwen2-5-7b-instruct"
I0305 08:22:13.770300       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:13.770306       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:13.770310       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:13.770454       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:13.770488       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:13.770495       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:13.773877       1 gateway.go:608] "First token received" requestID="50aaca9e-1896-4146-9187-6ea0923c5827" ttft_ms=118
I0305 08:22:13.779041       1 gateway.go:207] "Processing request" requestID="e9b06661-eba6-4ce2-b4c3-7041f542a048"
I0305 08:22:13.779073       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e9b06661-eba6-4ce2-b4c3-7041f542a048"
I0305 08:22:13.779084       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:13.826825       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0563, numInputTokens, 7600
I0305 08:22:13.826841       1 tree.go:471] Updated node(0) last access: 144.0166 seconds
I0305 08:22:13.826851       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:13.826855       1 tree.go:471] Updated node(2) last access: 144.0166 seconds
I0305 08:22:13.826873       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:13.826879       1 tree.go:471] Updated node(73) last access: 144.0166 seconds
I0305 08:22:13.826886       1 tree.go:490] Partial tokens match child node(118). Continue to go deeper in the radix tree
I0305 08:22:13.826891       1 tree.go:471] Updated node(118) last access: 144.0166 seconds
I0305 08:22:13.826903       1 tree.go:667] Split complete - New node(255)
I0305 08:22:13.826910       1 tree.go:668] Split complete - Child node(122)
I0305 08:22:13.826918       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:13.826925       1 tree.go:471] Updated node(255) last access: 144.0166 seconds
I0305 08:22:13.826934       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:13.826940       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:13.826949       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:13.826958       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:13.826968       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:13.826943242 +0000 UTC m=+144.131845347]
I0305 08:22:13.826989       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:13.827000       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:13.827061       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7484
I0305 08:22:13.827076       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:13.827090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.827098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.827109       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.827117       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.827122       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.827133       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.827149       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:13.827166       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:13.827183       1 prefix_cache_and_load.go:584] latency, Route, 0.0569
I0305 08:22:13.827200       1 gateway.go:415] latency, selectTargetPod, 0.0569, target pod, 10.0.0.134:8000
I0305 08:22:13.827214       1 gateway.go:235] latency, HandleRequestBody, 0.0572
I0305 08:22:13.845510       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9aec46a9-7872-4783-a78a-79eda949b000"
I0305 08:22:13.879262       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e9b06661-eba6-4ce2-b4c3-7041f542a048"
I0305 08:22:13.879537       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e9b06661-eba6-4ce2-b4c3-7041f542a048" model="qwen2-5-7b-instruct"
I0305 08:22:13.879615       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:13.879622       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:13.879625       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:13.879777       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:13.879812       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:13.879818       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:13.880414       1 gateway.go:608] "First token received" requestID="9aec46a9-7872-4783-a78a-79eda949b000" ttft_ms=110
I0305 08:22:13.939683       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0599, numInputTokens, 7601
I0305 08:22:13.939703       1 tree.go:471] Updated node(0) last access: 144.1294 seconds
I0305 08:22:13.939710       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:13.939715       1 tree.go:471] Updated node(2) last access: 144.1294 seconds
I0305 08:22:13.939730       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:13.939735       1 tree.go:471] Updated node(10) last access: 144.1295 seconds
I0305 08:22:13.939739       1 tree.go:490] Partial tokens match child node(39). Continue to go deeper in the radix tree
I0305 08:22:13.939742       1 tree.go:471] Updated node(39) last access: 144.1295 seconds
I0305 08:22:13.939752       1 tree.go:667] Split complete - New node(257)
I0305 08:22:13.939757       1 tree.go:668] Split complete - Child node(8)
I0305 08:22:13.939762       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 08:22:13.939769       1 tree.go:471] Updated node(257) last access: 144.1295 seconds
I0305 08:22:13.939774       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 08:22:13.939778       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:13.939786       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:13.939794       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:13.939802       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:13.939782076 +0000 UTC m=+144.244684173]
I0305 08:22:13.939821       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7491, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 08:22:13.939829       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 08:22:13.939885       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7491
I0305 08:22:13.939899       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:13.939910       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.939917       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.939923       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.939928       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.939934       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.939939       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:13.939948       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:13.939959       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:13.939969       1 prefix_cache_and_load.go:584] latency, Route, 0.0604
I0305 08:22:13.939982       1 gateway.go:415] latency, selectTargetPod, 0.0604, target pod, 10.0.0.101:8000
I0305 08:22:13.939993       1 gateway.go:235] latency, HandleRequestBody, 0.0607
I0305 08:22:13.947264       1 gateway.go:562] latency, 0.0001, summary, hash(request), 70bad0fb, selectedpod, 10.0.0.39:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 08:22:13.947286       1 gateway.go:748] "Request completed" requestID="50aaca9e-1896-4146-9187-6ea0923c5827" targetPod="10.0.0.39:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 08:22:13.947300       1 gateway.go:764] "HandleResponseBody completed" requestID="50aaca9e-1896-4146-9187-6ea0923c5827" promptTokens=7612 completionTokens=10 stream=true
I0305 08:22:13.958067       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e9b06661-eba6-4ce2-b4c3-7041f542a048"
I0305 08:22:13.993513       1 gateway.go:608] "First token received" requestID="e9b06661-eba6-4ce2-b4c3-7041f542a048" ttft_ms=114
I0305 08:22:14.053264       1 gateway.go:562] latency, 0.0001, summary, hash(request), 942c3bc9, selectedpod, 10.0.0.134:8000, ttft, 110, tpot, 19, e2e, 283, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:14.053286       1 gateway.go:748] "Request completed" requestID="9aec46a9-7872-4783-a78a-79eda949b000" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:14.053297       1 gateway.go:764] "HandleResponseBody completed" requestID="9aec46a9-7872-4783-a78a-79eda949b000" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:14.166800       1 gateway.go:562] latency, 0.0000, summary, hash(request), ee57a001, selectedpod, 10.0.0.101:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:14.166820       1 gateway.go:748] "Request completed" requestID="e9b06661-eba6-4ce2-b4c3-7041f542a048" targetPod="10.0.0.101:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:14.166832       1 gateway.go:764] "HandleResponseBody completed" requestID="e9b06661-eba6-4ce2-b4c3-7041f542a048" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:14.380611       1 gateway.go:207] "Processing request" requestID="c554f060-4748-4ff9-8f65-f7d30535f5f0"
I0305 08:22:14.380654       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c554f060-4748-4ff9-8f65-f7d30535f5f0"
I0305 08:22:14.380678       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:14.380971       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c554f060-4748-4ff9-8f65-f7d30535f5f0"
I0305 08:22:14.381222       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c554f060-4748-4ff9-8f65-f7d30535f5f0" model="qwen2-5-7b-instruct"
I0305 08:22:14.381307       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:14.381314       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:14.381317       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:14.381561       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:14.381573       1 gateway.go:207] "Processing request" requestID="0025cfcc-cd8d-472e-ba40-d4c327c8ae50"
I0305 08:22:14.381600       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:14.381607       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:14.381616       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0025cfcc-cd8d-472e-ba40-d4c327c8ae50"
I0305 08:22:14.381627       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:14.381767       1 gateway.go:207] "Processing request" requestID="aa9ef805-900b-4a3c-a175-23244240766f"
I0305 08:22:14.381802       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="aa9ef805-900b-4a3c-a175-23244240766f"
I0305 08:22:14.381815       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:14.382095       1 gateway.go:329] "-- In RequestBody processing ..." requestID="aa9ef805-900b-4a3c-a175-23244240766f"
I0305 08:22:14.382344       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="aa9ef805-900b-4a3c-a175-23244240766f" model="qwen2-5-7b-instruct"
I0305 08:22:14.382461       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0025cfcc-cd8d-472e-ba40-d4c327c8ae50"
I0305 08:22:14.382697       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0025cfcc-cd8d-472e-ba40-d4c327c8ae50" model="qwen2-5-7b-instruct"
I0305 08:22:14.441984       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0604, numInputTokens, 7596
I0305 08:22:14.442003       1 tree.go:471] Updated node(0) last access: 144.6317 seconds
I0305 08:22:14.442010       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:14.442014       1 tree.go:471] Updated node(2) last access: 144.6317 seconds
I0305 08:22:14.442027       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:14.442031       1 tree.go:471] Updated node(24) last access: 144.6317 seconds
I0305 08:22:14.442042       1 tree.go:667] Split complete - New node(259)
I0305 08:22:14.442047       1 tree.go:668] Split complete - Child node(132)
I0305 08:22:14.442052       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:14.442057       1 tree.go:471] Updated node(259) last access: 144.6318 seconds
I0305 08:22:14.442064       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 08:22:14.442069       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:22:14.442075       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:14.442082       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:14.442089       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:14.442071196 +0000 UTC m=+144.746973293]
I0305 08:22:14.442105       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7487, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 08:22:14.442114       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 08:22:14.442193       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7487
I0305 08:22:14.442203       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:14.442214       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.442222       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.442227       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.442234       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.442240       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.442250       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:14.442262       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:14.442272       1 prefix_cache_and_load.go:584] latency, Route, 0.0610
I0305 08:22:14.442286       1 gateway.go:415] latency, selectTargetPod, 0.0610, target pod, 10.0.3.30:8000
I0305 08:22:14.442300       1 gateway.go:235] latency, HandleRequestBody, 0.0613
I0305 08:22:14.442338       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0599
I0305 08:22:14.442343       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:14.442346       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:14.442509       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:14.442545       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:14.442551       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:14.458116       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c554f060-4748-4ff9-8f65-f7d30535f5f0"
I0305 08:22:14.494279       1 gateway.go:608] "First token received" requestID="c554f060-4748-4ff9-8f65-f7d30535f5f0" ttft_ms=113
I0305 08:22:14.509469       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0669, numInputTokens, 7594
I0305 08:22:14.509489       1 tree.go:471] Updated node(0) last access: 144.6992 seconds
I0305 08:22:14.509495       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:14.509499       1 tree.go:471] Updated node(2) last access: 144.6992 seconds
I0305 08:22:14.509512       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:14.509516       1 tree.go:471] Updated node(24) last access: 144.6992 seconds
I0305 08:22:14.509520       1 tree.go:490] Partial tokens match child node(128). Continue to go deeper in the radix tree
I0305 08:22:14.509522       1 tree.go:471] Updated node(128) last access: 144.6992 seconds
I0305 08:22:14.509538       1 tree.go:667] Split complete - New node(261)
I0305 08:22:14.509542       1 tree.go:668] Split complete - Child node(121)
I0305 08:22:14.509550       1 tree.go:501] latency, splitNode, 0.0000 seconds, 114 tokens:
I0305 08:22:14.509556       1 tree.go:471] Updated node(261) last access: 144.6993 seconds
I0305 08:22:14.509566       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 08:22:14.509574       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 08:22:14.509583       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 08:22:14.509594       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:14.509605       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:14.509576237 +0000 UTC m=+144.814478337]
I0305 08:22:14.509626       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7483, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 08:22:14.509638       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 08:22:14.509757       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7483
I0305 08:22:14.509777       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:14.509787       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.509798       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.509810       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.509819       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.509830       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.509837       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.509851       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:14.509866       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:14.509885       1 prefix_cache_and_load.go:584] latency, Route, 0.1274
I0305 08:22:14.509906       1 gateway.go:415] latency, selectTargetPod, 0.1275, target pod, 10.0.3.30:8000
I0305 08:22:14.509926       1 gateway.go:235] latency, HandleRequestBody, 0.1278
I0305 08:22:14.509960       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1272
I0305 08:22:14.509967       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:14.509972       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:14.510135       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:14.510171       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:14.510177       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:14.524531       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="aa9ef805-900b-4a3c-a175-23244240766f"
I0305 08:22:14.545496       1 gateway.go:207] "Processing request" requestID="6c9cdcf6-b704-432f-8c0a-2f206ae75738"
I0305 08:22:14.545522       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6c9cdcf6-b704-432f-8c0a-2f206ae75738"
I0305 08:22:14.545530       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:14.565722       1 gateway.go:608] "First token received" requestID="aa9ef805-900b-4a3c-a175-23244240766f" ttft_ms=183
I0305 08:22:14.569453       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0593, numInputTokens, 7599
I0305 08:22:14.569470       1 tree.go:471] Updated node(0) last access: 144.7592 seconds
I0305 08:22:14.569476       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:14.569482       1 tree.go:471] Updated node(2) last access: 144.7592 seconds
I0305 08:22:14.569494       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:14.569498       1 tree.go:471] Updated node(73) last access: 144.7592 seconds
I0305 08:22:14.569504       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:22:14.569510       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:22:14.569517       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:14.569524       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:14.569529       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:14.569512001 +0000 UTC m=+144.874414098]
I0305 08:22:14.569549       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:22:14.569561       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:22:14.569646       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:22:14.569659       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:14.569680       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.569689       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.569694       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.569699       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.569710       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:14.569719       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:14.569730       1 prefix_cache_and_load.go:584] latency, Route, 0.1869
I0305 08:22:14.569739       1 gateway.go:415] latency, selectTargetPod, 0.1870, target pod, 10.0.0.134:8000
I0305 08:22:14.569751       1 gateway.go:235] latency, HandleRequestBody, 0.1873
I0305 08:22:14.589372       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0025cfcc-cd8d-472e-ba40-d4c327c8ae50"
I0305 08:22:14.632239       1 gateway.go:608] "First token received" requestID="0025cfcc-cd8d-472e-ba40-d4c327c8ae50" ttft_ms=249
I0305 08:22:14.706775       1 gateway.go:562] latency, 0.0001, summary, hash(request), 5fed9d4a, selectedpod, 10.0.3.30:8000, ttft, 113, tpot, 23, e2e, 325, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:22:14.706797       1 gateway.go:748] "Request completed" requestID="c554f060-4748-4ff9-8f65-f7d30535f5f0" targetPod="10.0.3.30:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:22:14.706813       1 gateway.go:764] "HandleResponseBody completed" requestID="c554f060-4748-4ff9-8f65-f7d30535f5f0" promptTokens=7615 completionTokens=10 stream=true
I0305 08:22:14.746189       1 gateway.go:562] latency, 0.0000, summary, hash(request), 28d78b9d, selectedpod, 10.0.3.30:8000, ttft, 183, tpot, 20, e2e, 364, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 08:22:14.746208       1 gateway.go:748] "Request completed" requestID="aa9ef805-900b-4a3c-a175-23244240766f" targetPod="10.0.3.30:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 08:22:14.746218       1 gateway.go:764] "HandleResponseBody completed" requestID="aa9ef805-900b-4a3c-a175-23244240766f" promptTokens=7613 completionTokens=10 stream=true
I0305 08:22:14.799982       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6c9cdcf6-b704-432f-8c0a-2f206ae75738"
I0305 08:22:14.800167       1 gateway.go:207] "Processing request" requestID="1001ec95-c8ae-499a-b0c6-954525d7ed1c"
I0305 08:22:14.800199       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1001ec95-c8ae-499a-b0c6-954525d7ed1c"
I0305 08:22:14.800209       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6c9cdcf6-b704-432f-8c0a-2f206ae75738" model="qwen2-5-7b-instruct"
I0305 08:22:14.800208       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:14.800285       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:14.800291       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:14.800294       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:14.800532       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:14.800571       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:14.800577       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:14.805379       1 gateway.go:562] latency, 0.0001, summary, hash(request), 198c550f, selectedpod, 10.0.0.134:8000, ttft, 249, tpot, 19, e2e, 422, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:14.805410       1 gateway.go:748] "Request completed" requestID="0025cfcc-cd8d-472e-ba40-d4c327c8ae50" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:14.805429       1 gateway.go:764] "HandleResponseBody completed" requestID="0025cfcc-cd8d-472e-ba40-d4c327c8ae50" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:14.860762       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0602, numInputTokens, 7604
I0305 08:22:14.860779       1 tree.go:471] Updated node(0) last access: 145.0505 seconds
I0305 08:22:14.860786       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:14.860789       1 tree.go:471] Updated node(2) last access: 145.0505 seconds
I0305 08:22:14.860802       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:14.860805       1 tree.go:471] Updated node(57) last access: 145.0505 seconds
I0305 08:22:14.860813       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 08:22:14.860820       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 08:22:14.860827       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 08:22:14.860834       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:14.860840       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:14.860821827 +0000 UTC m=+145.165723924]
I0305 08:22:14.860857       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 08:22:14.860866       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 08:22:14.860933       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7478
I0305 08:22:14.860943       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:14.860953       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.860959       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.860964       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.860969       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:14.860980       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:14.860990       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:14.861002       1 prefix_cache_and_load.go:584] latency, Route, 0.0607
I0305 08:22:14.861015       1 gateway.go:415] latency, selectTargetPod, 0.0607, target pod, 10.0.1.28:8000
I0305 08:22:14.861028       1 gateway.go:235] latency, HandleRequestBody, 0.0610
I0305 08:22:14.879715       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6c9cdcf6-b704-432f-8c0a-2f206ae75738"
I0305 08:22:14.923373       1 gateway.go:608] "First token received" requestID="6c9cdcf6-b704-432f-8c0a-2f206ae75738" ttft_ms=123
I0305 08:22:14.974027       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1001ec95-c8ae-499a-b0c6-954525d7ed1c"
I0305 08:22:14.974219       1 gateway.go:207] "Processing request" requestID="d4f30c5a-b5cc-4671-b26d-e1bf327b925f"
I0305 08:22:14.974247       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d4f30c5a-b5cc-4671-b26d-e1bf327b925f"
I0305 08:22:14.974255       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1001ec95-c8ae-499a-b0c6-954525d7ed1c" model="qwen2-5-7b-instruct"
I0305 08:22:14.974258       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:14.974343       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:14.974350       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:14.974354       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:14.974554       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:14.974588       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:14.974595       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:15.035806       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0612, numInputTokens, 7594
I0305 08:22:15.035827       1 tree.go:471] Updated node(0) last access: 145.2255 seconds
I0305 08:22:15.035833       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:15.035837       1 tree.go:471] Updated node(2) last access: 145.2256 seconds
I0305 08:22:15.035849       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:15.035852       1 tree.go:471] Updated node(16) last access: 145.2256 seconds
I0305 08:22:15.035859       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:15.035865       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 08:22:15.035872       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 08:22:15.035879       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:15.035886       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:15.035866914 +0000 UTC m=+145.340769011]
I0305 08:22:15.035904       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7478, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:15.035913       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:15.035984       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7478
I0305 08:22:15.035995       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:15.036005       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.036012       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.036018       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.036023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.036034       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:15.036044       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:15.036055       1 prefix_cache_and_load.go:584] latency, Route, 0.0617
I0305 08:22:15.036064       1 gateway.go:415] latency, selectTargetPod, 0.0617, target pod, 10.0.1.14:8000
I0305 08:22:15.036078       1 gateway.go:235] latency, HandleRequestBody, 0.0621
I0305 08:22:15.053085       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d4f30c5a-b5cc-4671-b26d-e1bf327b925f"
I0305 08:22:15.053249       1 gateway.go:207] "Processing request" requestID="3e3bd243-4842-442e-aa4e-17099cdd46a2"
I0305 08:22:15.053281       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3e3bd243-4842-442e-aa4e-17099cdd46a2"
I0305 08:22:15.053291       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:15.053311       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d4f30c5a-b5cc-4671-b26d-e1bf327b925f" model="qwen2-5-7b-instruct"
I0305 08:22:15.053393       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:15.053401       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:15.053404       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:15.053582       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:15.053621       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:15.053628       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:15.057270       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1001ec95-c8ae-499a-b0c6-954525d7ed1c"
I0305 08:22:15.093261       1 gateway.go:608] "First token received" requestID="1001ec95-c8ae-499a-b0c6-954525d7ed1c" ttft_ms=119
I0305 08:22:15.096301       1 gateway.go:562] latency, 0.0001, summary, hash(request), 92a8bfab, selectedpod, 10.0.1.28:8000, ttft, 123, tpot, 19, e2e, 296, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 08:22:15.096323       1 gateway.go:748] "Request completed" requestID="6c9cdcf6-b704-432f-8c0a-2f206ae75738" targetPod="10.0.1.28:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 08:22:15.096347       1 gateway.go:764] "HandleResponseBody completed" requestID="6c9cdcf6-b704-432f-8c0a-2f206ae75738" promptTokens=7623 completionTokens=10 stream=true
I0305 08:22:15.118768       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0651, numInputTokens, 7597
I0305 08:22:15.118783       1 tree.go:471] Updated node(0) last access: 145.3085 seconds
I0305 08:22:15.118789       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:15.118793       1 tree.go:471] Updated node(2) last access: 145.3085 seconds
I0305 08:22:15.118804       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:15.118809       1 tree.go:471] Updated node(6) last access: 145.3085 seconds
I0305 08:22:15.118816       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:22:15.118822       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 08:22:15.118828       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:15.118836       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:15.118843       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:15.118824089 +0000 UTC m=+145.423726186]
I0305 08:22:15.118860       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:22:15.118868       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:22:15.118933       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7478
I0305 08:22:15.118943       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:15.118953       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.118958       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.118965       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.118971       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.118980       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:15.118991       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:15.119000       1 prefix_cache_and_load.go:584] latency, Route, 0.0656
I0305 08:22:15.119009       1 gateway.go:415] latency, selectTargetPod, 0.0656, target pod, 10.0.1.22:8000
I0305 08:22:15.119020       1 gateway.go:235] latency, HandleRequestBody, 0.0659
I0305 08:22:15.136759       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3e3bd243-4842-442e-aa4e-17099cdd46a2"
I0305 08:22:15.137024       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3e3bd243-4842-442e-aa4e-17099cdd46a2" model="qwen2-5-7b-instruct"
I0305 08:22:15.137161       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:15.137168       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:15.137172       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:15.137380       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:15.137428       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:15.137435       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:15.140698       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d4f30c5a-b5cc-4671-b26d-e1bf327b925f"
I0305 08:22:15.147052       1 gateway.go:207] "Processing request" requestID="1cf93e1e-0a7a-49dd-b9b1-babd17b76503"
I0305 08:22:15.147101       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1cf93e1e-0a7a-49dd-b9b1-babd17b76503"
I0305 08:22:15.147116       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:15.177397       1 gateway.go:608] "First token received" requestID="d4f30c5a-b5cc-4671-b26d-e1bf327b925f" ttft_ms=124
I0305 08:22:15.205643       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0682, numInputTokens, 7594
I0305 08:22:15.205672       1 tree.go:471] Updated node(0) last access: 145.3954 seconds
I0305 08:22:15.205679       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:15.205683       1 tree.go:471] Updated node(2) last access: 145.3954 seconds
I0305 08:22:15.205695       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:15.205700       1 tree.go:471] Updated node(21) last access: 145.3954 seconds
I0305 08:22:15.205707       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:15.205714       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 08:22:15.205723       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 08:22:15.205731       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:15.205737       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:15.205718019 +0000 UTC m=+145.510620116]
I0305 08:22:15.205755       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7478, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:15.205764       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:15.205829       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7478
I0305 08:22:15.205840       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:15.205849       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.205858       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.205863       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.205868       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.205878       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:15.205887       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:15.205897       1 prefix_cache_and_load.go:584] latency, Route, 0.0687
I0305 08:22:15.205907       1 gateway.go:415] latency, selectTargetPod, 0.0687, target pod, 10.0.3.41:8000
I0305 08:22:15.205918       1 gateway.go:235] latency, HandleRequestBody, 0.0692
I0305 08:22:15.221077       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3e3bd243-4842-442e-aa4e-17099cdd46a2"
I0305 08:22:15.257119       1 gateway.go:608] "First token received" requestID="3e3bd243-4842-442e-aa4e-17099cdd46a2" ttft_ms=120
I0305 08:22:15.262387       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1cf93e1e-0a7a-49dd-b9b1-babd17b76503"
I0305 08:22:15.262542       1 gateway.go:207] "Processing request" requestID="193ed8e3-ffe3-4fbe-949e-35e003447fca"
I0305 08:22:15.262568       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="193ed8e3-ffe3-4fbe-949e-35e003447fca"
I0305 08:22:15.262578       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:15.262623       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1cf93e1e-0a7a-49dd-b9b1-babd17b76503" model="qwen2-5-7b-instruct"
I0305 08:22:15.262765       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:15.262773       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:15.262777       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:15.262958       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:15.262996       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:15.263002       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:15.266121       1 gateway.go:562] latency, 0.0000, summary, hash(request), 851252c1, selectedpod, 10.0.1.14:8000, ttft, 119, tpot, 19, e2e, 292, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 08:22:15.266141       1 gateway.go:748] "Request completed" requestID="1001ec95-c8ae-499a-b0c6-954525d7ed1c" targetPod="10.0.1.14:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 08:22:15.266154       1 gateway.go:764] "HandleResponseBody completed" requestID="1001ec95-c8ae-499a-b0c6-954525d7ed1c" promptTokens=7613 completionTokens=10 stream=true
I0305 08:22:15.318951       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0559, numInputTokens, 7601
I0305 08:22:15.318966       1 tree.go:471] Updated node(0) last access: 145.5087 seconds
I0305 08:22:15.318972       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:15.318976       1 tree.go:471] Updated node(2) last access: 145.5087 seconds
I0305 08:22:15.318988       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:15.318992       1 tree.go:471] Updated node(36) last access: 145.5087 seconds
I0305 08:22:15.318998       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:22:15.319003       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:22:15.319011       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:15.319018       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:15.319023       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:15.31900566 +0000 UTC m=+145.623907757]
I0305 08:22:15.319039       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:22:15.319048       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:22:15.319108       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:22:15.319119       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:15.319128       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.319136       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.319140       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.319145       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.319153       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:15.319163       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:15.319171       1 prefix_cache_and_load.go:584] latency, Route, 0.0564
I0305 08:22:15.319179       1 gateway.go:415] latency, selectTargetPod, 0.0564, target pod, 10.0.3.30:8000
I0305 08:22:15.319189       1 gateway.go:235] latency, HandleRequestBody, 0.0568
I0305 08:22:15.334605       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1cf93e1e-0a7a-49dd-b9b1-babd17b76503"
I0305 08:22:15.340208       1 gateway.go:329] "-- In RequestBody processing ..." requestID="193ed8e3-ffe3-4fbe-949e-35e003447fca"
I0305 08:22:15.340451       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="193ed8e3-ffe3-4fbe-949e-35e003447fca" model="qwen2-5-7b-instruct"
I0305 08:22:15.340522       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:15.340529       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:15.340532       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:15.340725       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:15.340762       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:15.340768       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:15.350000       1 gateway.go:562] latency, 0.0000, summary, hash(request), e82cf0c1, selectedpod, 10.0.1.22:8000, ttft, 124, tpot, 19, e2e, 296, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:15.350025       1 gateway.go:748] "Request completed" requestID="d4f30c5a-b5cc-4671-b26d-e1bf327b925f" targetPod="10.0.1.22:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:15.350037       1 gateway.go:764] "HandleResponseBody completed" requestID="d4f30c5a-b5cc-4671-b26d-e1bf327b925f" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:15.377843       1 gateway.go:608] "First token received" requestID="1cf93e1e-0a7a-49dd-b9b1-babd17b76503" ttft_ms=115
I0305 08:22:15.407182       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0664, numInputTokens, 7601
I0305 08:22:15.407201       1 tree.go:471] Updated node(0) last access: 145.5969 seconds
I0305 08:22:15.407208       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:15.407212       1 tree.go:471] Updated node(2) last access: 145.5969 seconds
I0305 08:22:15.407223       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:15.407228       1 tree.go:471] Updated node(21) last access: 145.5969 seconds
I0305 08:22:15.407234       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:22:15.407240       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:22:15.407247       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:15.407254       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:15.407259       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:15.40724245 +0000 UTC m=+145.712144547]
I0305 08:22:15.407277       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:22:15.407286       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:22:15.407364       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7478
I0305 08:22:15.407375       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:15.407384       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.407390       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.407394       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.407399       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.407408       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:15.407417       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:15.407431       1 prefix_cache_and_load.go:584] latency, Route, 0.0669
I0305 08:22:15.407440       1 gateway.go:415] latency, selectTargetPod, 0.0669, target pod, 10.0.3.41:8000
I0305 08:22:15.407452       1 gateway.go:235] latency, HandleRequestBody, 0.0672
I0305 08:22:15.424629       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="193ed8e3-ffe3-4fbe-949e-35e003447fca"
I0305 08:22:15.440196       1 gateway.go:562] latency, 0.0000, summary, hash(request), b42e7146, selectedpod, 10.0.3.41:8000, ttft, 120, tpot, 20, e2e, 303, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 08:22:15.440216       1 gateway.go:748] "Request completed" requestID="3e3bd243-4842-442e-aa4e-17099cdd46a2" targetPod="10.0.3.41:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 08:22:15.440228       1 gateway.go:764] "HandleResponseBody completed" requestID="3e3bd243-4842-442e-aa4e-17099cdd46a2" promptTokens=7613 completionTokens=10 stream=true
I0305 08:22:15.470692       1 gateway.go:608] "First token received" requestID="193ed8e3-ffe3-4fbe-949e-35e003447fca" ttft_ms=130
I0305 08:22:15.533298       1 gateway.go:207] "Processing request" requestID="69e5dac2-7880-4739-a4db-05b41b8491d5"
I0305 08:22:15.533334       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="69e5dac2-7880-4739-a4db-05b41b8491d5"
I0305 08:22:15.533344       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:15.551034       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d8bdfa4, selectedpod, 10.0.3.30:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:15.551053       1 gateway.go:748] "Request completed" requestID="1cf93e1e-0a7a-49dd-b9b1-babd17b76503" targetPod="10.0.3.30:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:15.551064       1 gateway.go:764] "HandleResponseBody completed" requestID="1cf93e1e-0a7a-49dd-b9b1-babd17b76503" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:15.640933       1 gateway.go:329] "-- In RequestBody processing ..." requestID="69e5dac2-7880-4739-a4db-05b41b8491d5"
I0305 08:22:15.641161       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="69e5dac2-7880-4739-a4db-05b41b8491d5" model="qwen2-5-7b-instruct"
I0305 08:22:15.641257       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:15.641265       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:15.641268       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:15.641502       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:15.641540       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:15.641547       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:15.643883       1 gateway.go:562] latency, 0.0000, summary, hash(request), 54f8ce90, selectedpod, 10.0.3.41:8000, ttft, 130, tpot, 19, e2e, 303, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:15.643905       1 gateway.go:748] "Request completed" requestID="193ed8e3-ffe3-4fbe-949e-35e003447fca" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:15.643918       1 gateway.go:764] "HandleResponseBody completed" requestID="193ed8e3-ffe3-4fbe-949e-35e003447fca" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:15.705199       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0636, numInputTokens, 7600
I0305 08:22:15.705219       1 tree.go:471] Updated node(0) last access: 145.8949 seconds
I0305 08:22:15.705226       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:15.705229       1 tree.go:471] Updated node(2) last access: 145.8949 seconds
I0305 08:22:15.705242       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:15.705246       1 tree.go:471] Updated node(21) last access: 145.8950 seconds
I0305 08:22:15.705258       1 tree.go:667] Split complete - New node(270)
I0305 08:22:15.705264       1 tree.go:668] Split complete - Child node(250)
I0305 08:22:15.705271       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:22:15.705279       1 tree.go:471] Updated node(270) last access: 145.8950 seconds
I0305 08:22:15.705289       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:22:15.705297       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:15.705305       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:15.705316       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:15.705333       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:15.705299795 +0000 UTC m=+146.010201901]
I0305 08:22:15.705357       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7479, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:22:15.705370       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:22:15.705443       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7479
I0305 08:22:15.705456       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:15.705470       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.705480       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.705485       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.705494       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.705504       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.705515       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:15.705526       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:15.705537       1 prefix_cache_and_load.go:584] latency, Route, 0.0643
I0305 08:22:15.705547       1 gateway.go:415] latency, selectTargetPod, 0.0643, target pod, 10.0.3.41:8000
I0305 08:22:15.705563       1 gateway.go:235] latency, HandleRequestBody, 0.0646
I0305 08:22:15.718496       1 gateway.go:207] "Processing request" requestID="c0a11d23-d54f-4ab1-a0a5-a29d829566dc"
I0305 08:22:15.718529       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c0a11d23-d54f-4ab1-a0a5-a29d829566dc"
I0305 08:22:15.718539       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:15.720679       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="69e5dac2-7880-4739-a4db-05b41b8491d5"
I0305 08:22:15.763452       1 gateway.go:608] "First token received" requestID="69e5dac2-7880-4739-a4db-05b41b8491d5" ttft_ms=122
I0305 08:22:15.816619       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c0a11d23-d54f-4ab1-a0a5-a29d829566dc"
I0305 08:22:15.849858       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c0a11d23-d54f-4ab1-a0a5-a29d829566dc" model="qwen2-5-7b-instruct"
I0305 08:22:15.849931       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:15.849938       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:15.849941       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:15.850118       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:15.850154       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:15.850159       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:15.874427       1 gateway.go:207] "Processing request" requestID="27093b6f-f34b-4bf9-866c-1d0c313e9987"
I0305 08:22:15.874455       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="27093b6f-f34b-4bf9-866c-1d0c313e9987"
I0305 08:22:15.874465       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:15.897451       1 gateway.go:329] "-- In RequestBody processing ..." requestID="27093b6f-f34b-4bf9-866c-1d0c313e9987"
I0305 08:22:15.897710       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="27093b6f-f34b-4bf9-866c-1d0c313e9987" model="qwen2-5-7b-instruct"
I0305 08:22:15.910095       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0599, numInputTokens, 7600
I0305 08:22:15.910110       1 tree.go:471] Updated node(0) last access: 146.0998 seconds
I0305 08:22:15.910117       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:15.910120       1 tree.go:471] Updated node(2) last access: 146.0998 seconds
I0305 08:22:15.910132       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:15.910136       1 tree.go:471] Updated node(21) last access: 146.0999 seconds
I0305 08:22:15.910147       1 tree.go:667] Split complete - New node(272)
I0305 08:22:15.910151       1 tree.go:668] Split complete - Child node(135)
I0305 08:22:15.910156       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:22:15.910162       1 tree.go:471] Updated node(272) last access: 146.0999 seconds
I0305 08:22:15.910168       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:15.910172       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:15.910178       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:15.910185       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:15.910191       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:15.910174065 +0000 UTC m=+146.215076162]
I0305 08:22:15.910206       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7482, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:15.910215       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:15.910277       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7482
I0305 08:22:15.910288       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:15.910299       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.910304       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.910309       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.910312       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.910316       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.910335       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:15.910348       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:15.910358       1 prefix_cache_and_load.go:584] latency, Route, 0.0604
I0305 08:22:15.910372       1 gateway.go:415] latency, selectTargetPod, 0.0604, target pod, 10.0.3.41:8000
I0305 08:22:15.910384       1 gateway.go:235] latency, HandleRequestBody, 0.0938
I0305 08:22:15.910405       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0126
I0305 08:22:15.910410       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:15.910414       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:15.910551       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:15.910639       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:15.910645       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:15.926846       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c0a11d23-d54f-4ab1-a0a5-a29d829566dc"
I0305 08:22:15.946162       1 gateway.go:562] latency, 0.0001, summary, hash(request), 53cf18e6, selectedpod, 10.0.3.41:8000, ttft, 122, tpot, 20, e2e, 305, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:15.946181       1 gateway.go:748] "Request completed" requestID="69e5dac2-7880-4739-a4db-05b41b8491d5" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:15.946194       1 gateway.go:764] "HandleResponseBody completed" requestID="69e5dac2-7880-4739-a4db-05b41b8491d5" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:15.974189       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0635, numInputTokens, 7600
I0305 08:22:15.974207       1 tree.go:471] Updated node(0) last access: 146.1639 seconds
I0305 08:22:15.974213       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:15.974216       1 tree.go:471] Updated node(2) last access: 146.1639 seconds
I0305 08:22:15.974229       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:15.974235       1 tree.go:471] Updated node(6) last access: 146.1640 seconds
I0305 08:22:15.974240       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 08:22:15.974246       1 tree.go:471] Updated node(31) last access: 146.1640 seconds
I0305 08:22:15.974257       1 tree.go:667] Split complete - New node(274)
I0305 08:22:15.974261       1 tree.go:668] Split complete - Child node(7)
I0305 08:22:15.974266       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:15.974272       1 tree.go:471] Updated node(274) last access: 146.1640 seconds
I0305 08:22:15.974278       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 08:22:15.974283       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:15.974290       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:15.974297       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:15.974302       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:15.974285699 +0000 UTC m=+146.279187796]
I0305 08:22:15.974322       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7488, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 08:22:15.974340       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 08:22:15.974405       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7488
I0305 08:22:15.974416       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:15.974430       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.974437       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.974442       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.974448       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.974454       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.974458       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:15.974467       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:15.974477       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:15.974488       1 prefix_cache_and_load.go:584] latency, Route, 0.0767
I0305 08:22:15.974499       1 gateway.go:415] latency, selectTargetPod, 0.0767, target pod, 10.0.1.22:8000
I0305 08:22:15.974513       1 gateway.go:235] latency, HandleRequestBody, 0.0771
I0305 08:22:15.976998       1 gateway.go:608] "First token received" requestID="c0a11d23-d54f-4ab1-a0a5-a29d829566dc" ttft_ms=160
I0305 08:22:15.993076       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="27093b6f-f34b-4bf9-866c-1d0c313e9987"
I0305 08:22:16.028554       1 gateway.go:608] "First token received" requestID="27093b6f-f34b-4bf9-866c-1d0c313e9987" ttft_ms=131
I0305 08:22:16.058538       1 gateway.go:207] "Processing request" requestID="12f551c8-f9a9-482e-93d0-db77f7fef925"
I0305 08:22:16.058564       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="12f551c8-f9a9-482e-93d0-db77f7fef925"
I0305 08:22:16.058572       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:16.112934       1 gateway.go:329] "-- In RequestBody processing ..." requestID="12f551c8-f9a9-482e-93d0-db77f7fef925"
I0305 08:22:16.113161       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="12f551c8-f9a9-482e-93d0-db77f7fef925" model="qwen2-5-7b-instruct"
I0305 08:22:16.113246       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:16.113252       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:16.113255       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:16.113451       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:16.113493       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:16.113499       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:16.150421       1 gateway.go:562] latency, 0.0000, summary, hash(request), dd75f6e7, selectedpod, 10.0.3.41:8000, ttft, 160, tpot, 19, e2e, 333, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:16.150442       1 gateway.go:748] "Request completed" requestID="c0a11d23-d54f-4ab1-a0a5-a29d829566dc" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:16.150454       1 gateway.go:764] "HandleResponseBody completed" requestID="c0a11d23-d54f-4ab1-a0a5-a29d829566dc" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:16.170749       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0572, numInputTokens, 7598
I0305 08:22:16.170764       1 tree.go:471] Updated node(0) last access: 146.3605 seconds
I0305 08:22:16.170771       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:16.170775       1 tree.go:471] Updated node(2) last access: 146.3605 seconds
I0305 08:22:16.170789       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:16.170794       1 tree.go:471] Updated node(73) last access: 146.3605 seconds
I0305 08:22:16.170805       1 tree.go:667] Split complete - New node(276)
I0305 08:22:16.170808       1 tree.go:668] Split complete - Child node(182)
I0305 08:22:16.170813       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:22:16.170818       1 tree.go:471] Updated node(276) last access: 146.3605 seconds
I0305 08:22:16.170823       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 08:22:16.170861       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:16.170867       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:16.170874       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:16.170880       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:16.170862902 +0000 UTC m=+146.475764999]
I0305 08:22:16.170896       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7486, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 08:22:16.170904       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 08:22:16.170965       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7486
I0305 08:22:16.170975       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:16.170983       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.170988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.170992       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.170997       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.171002       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.171012       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:16.171021       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:16.171031       1 prefix_cache_and_load.go:584] latency, Route, 0.0578
I0305 08:22:16.171040       1 gateway.go:415] latency, selectTargetPod, 0.0578, target pod, 10.0.0.134:8000
I0305 08:22:16.171051       1 gateway.go:235] latency, HandleRequestBody, 0.0581
I0305 08:22:16.189543       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="12f551c8-f9a9-482e-93d0-db77f7fef925"
I0305 08:22:16.201318       1 gateway.go:562] latency, 0.0001, summary, hash(request), 04e5c08e, selectedpod, 10.0.1.22:8000, ttft, 131, tpot, 19, e2e, 303, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:16.201347       1 gateway.go:748] "Request completed" requestID="27093b6f-f34b-4bf9-866c-1d0c313e9987" targetPod="10.0.1.22:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:16.201360       1 gateway.go:764] "HandleResponseBody completed" requestID="27093b6f-f34b-4bf9-866c-1d0c313e9987" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:16.225966       1 gateway.go:608] "First token received" requestID="12f551c8-f9a9-482e-93d0-db77f7fef925" ttft_ms=112
I0305 08:22:16.306102       1 gateway.go:207] "Processing request" requestID="1f0e37c1-68c6-45d1-8fb5-55a2e00668d3"
I0305 08:22:16.306130       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1f0e37c1-68c6-45d1-8fb5-55a2e00668d3"
I0305 08:22:16.306139       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:16.319016       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1f0e37c1-68c6-45d1-8fb5-55a2e00668d3"
I0305 08:22:16.319238       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1f0e37c1-68c6-45d1-8fb5-55a2e00668d3" model="qwen2-5-7b-instruct"
I0305 08:22:16.319315       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:16.319320       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:16.319324       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:16.319545       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:16.319582       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:16.319587       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:16.378626       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0590, numInputTokens, 7598
I0305 08:22:16.378645       1 tree.go:471] Updated node(0) last access: 146.5684 seconds
I0305 08:22:16.378652       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:16.378655       1 tree.go:471] Updated node(2) last access: 146.5684 seconds
I0305 08:22:16.378682       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:16.378686       1 tree.go:471] Updated node(24) last access: 146.5684 seconds
I0305 08:22:16.378691       1 tree.go:490] Partial tokens match child node(215). Continue to go deeper in the radix tree
I0305 08:22:16.378694       1 tree.go:471] Updated node(215) last access: 146.5684 seconds
I0305 08:22:16.378708       1 tree.go:667] Split complete - New node(278)
I0305 08:22:16.378713       1 tree.go:668] Split complete - Child node(216)
I0305 08:22:16.378724       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:22:16.378734       1 tree.go:471] Updated node(278) last access: 146.5684 seconds
I0305 08:22:16.378742       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:16.378750       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:16.378759       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:16.378769       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:16.378779       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:16.378753054 +0000 UTC m=+146.683655161]
I0305 08:22:16.378804       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:16.378816       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:16.378902       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7484
I0305 08:22:16.378921       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:16.378938       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.378948       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.378959       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.378964       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.378972       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.378982       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.378999       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:16.379017       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:16.379035       1 prefix_cache_and_load.go:584] latency, Route, 0.0597
I0305 08:22:16.379049       1 gateway.go:415] latency, selectTargetPod, 0.0597, target pod, 10.0.3.30:8000
I0305 08:22:16.379066       1 gateway.go:235] latency, HandleRequestBody, 0.0600
I0305 08:22:16.394833       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1f0e37c1-68c6-45d1-8fb5-55a2e00668d3"
I0305 08:22:16.400431       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6832be95, selectedpod, 10.0.0.134:8000, ttft, 112, tpot, 19, e2e, 287, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:16.400461       1 gateway.go:748] "Request completed" requestID="12f551c8-f9a9-482e-93d0-db77f7fef925" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:16.400479       1 gateway.go:764] "HandleResponseBody completed" requestID="12f551c8-f9a9-482e-93d0-db77f7fef925" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:16.400609       1 gateway.go:207] "Processing request" requestID="96427ca0-33d4-4f63-8390-513c57a7dca0"
I0305 08:22:16.400641       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="96427ca0-33d4-4f63-8390-513c57a7dca0"
I0305 08:22:16.400653       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:16.401586       1 gateway.go:329] "-- In RequestBody processing ..." requestID="96427ca0-33d4-4f63-8390-513c57a7dca0"
I0305 08:22:16.401828       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="96427ca0-33d4-4f63-8390-513c57a7dca0" model="qwen2-5-7b-instruct"
I0305 08:22:16.401906       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:16.401912       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:16.401916       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:16.402086       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:16.402122       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:16.402128       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:16.430562       1 gateway.go:608] "First token received" requestID="1f0e37c1-68c6-45d1-8fb5-55a2e00668d3" ttft_ms=111
I0305 08:22:16.467472       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0653, numInputTokens, 7597
I0305 08:22:16.467487       1 tree.go:471] Updated node(0) last access: 146.6572 seconds
I0305 08:22:16.467494       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:16.467499       1 tree.go:471] Updated node(2) last access: 146.6572 seconds
I0305 08:22:16.467513       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:16.467517       1 tree.go:471] Updated node(21) last access: 146.6572 seconds
I0305 08:22:16.467528       1 tree.go:667] Split complete - New node(280)
I0305 08:22:16.467533       1 tree.go:668] Split complete - Child node(269)
I0305 08:22:16.467538       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:16.467544       1 tree.go:471] Updated node(280) last access: 146.6573 seconds
I0305 08:22:16.467550       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 08:22:16.467556       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:16.467562       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:16.467568       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:16.467575       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:16.46755782 +0000 UTC m=+146.772459917]
I0305 08:22:16.467590       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7485, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 08:22:16.467599       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 08:22:16.467656       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7485
I0305 08:22:16.467675       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:16.467684       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.467689       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.467694       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.467700       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.467704       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.467713       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:16.467724       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:16.467735       1 prefix_cache_and_load.go:584] latency, Route, 0.0658
I0305 08:22:16.467744       1 gateway.go:415] latency, selectTargetPod, 0.0658, target pod, 10.0.3.41:8000
I0305 08:22:16.467756       1 gateway.go:235] latency, HandleRequestBody, 0.0662
I0305 08:22:16.483907       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="96427ca0-33d4-4f63-8390-513c57a7dca0"
I0305 08:22:16.486343       1 gateway.go:207] "Processing request" requestID="bec89308-8816-4dcc-9718-6678e922b435"
I0305 08:22:16.486368       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bec89308-8816-4dcc-9718-6678e922b435"
I0305 08:22:16.486409       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:16.519898       1 gateway.go:608] "First token received" requestID="96427ca0-33d4-4f63-8390-513c57a7dca0" ttft_ms=118
I0305 08:22:16.522250       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bec89308-8816-4dcc-9718-6678e922b435"
I0305 08:22:16.522482       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bec89308-8816-4dcc-9718-6678e922b435" model="qwen2-5-7b-instruct"
I0305 08:22:16.522550       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:16.522557       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:16.522560       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:16.522746       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:16.522783       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:16.522789       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:16.540189       1 gateway.go:207] "Processing request" requestID="492e67ae-21b9-42a8-8e94-1ef2955d6fa8"
I0305 08:22:16.540219       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="492e67ae-21b9-42a8-8e94-1ef2955d6fa8"
I0305 08:22:16.540227       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:16.580902       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0581, numInputTokens, 7600
I0305 08:22:16.580920       1 tree.go:471] Updated node(0) last access: 146.7706 seconds
I0305 08:22:16.580926       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:16.580930       1 tree.go:471] Updated node(2) last access: 146.7706 seconds
I0305 08:22:16.580942       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:16.580946       1 tree.go:471] Updated node(10) last access: 146.7707 seconds
I0305 08:22:16.580950       1 tree.go:490] Partial tokens match child node(39). Continue to go deeper in the radix tree
I0305 08:22:16.580955       1 tree.go:471] Updated node(39) last access: 146.7707 seconds
I0305 08:22:16.580961       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:16.580967       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:22:16.580973       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:16.580979       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:16.580986       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:16.580968748 +0000 UTC m=+146.885870845]
I0305 08:22:16.581003       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7485, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:16.581010       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:16.581064       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7485
I0305 08:22:16.581075       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:16.581084       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.581091       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.581096       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.581102       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.581106       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.581117       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:16.581126       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:16.581138       1 prefix_cache_and_load.go:584] latency, Route, 0.0586
I0305 08:22:16.581148       1 gateway.go:415] latency, selectTargetPod, 0.0586, target pod, 10.0.0.101:8000
I0305 08:22:16.581160       1 gateway.go:235] latency, HandleRequestBody, 0.0589
I0305 08:22:16.599779       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bec89308-8816-4dcc-9718-6678e922b435"
I0305 08:22:16.603383       1 gateway.go:562] latency, 0.0001, summary, hash(request), 8fb86165, selectedpod, 10.0.3.30:8000, ttft, 111, tpot, 19, e2e, 284, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:16.603405       1 gateway.go:748] "Request completed" requestID="1f0e37c1-68c6-45d1-8fb5-55a2e00668d3" targetPod="10.0.3.30:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:16.603415       1 gateway.go:764] "HandleResponseBody completed" requestID="1f0e37c1-68c6-45d1-8fb5-55a2e00668d3" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:16.635786       1 gateway.go:608] "First token received" requestID="bec89308-8816-4dcc-9718-6678e922b435" ttft_ms=113
I0305 08:22:16.665837       1 gateway.go:329] "-- In RequestBody processing ..." requestID="492e67ae-21b9-42a8-8e94-1ef2955d6fa8"
I0305 08:22:16.665981       1 gateway.go:207] "Processing request" requestID="eaff3779-e332-41a4-a610-778978fc13ba"
I0305 08:22:16.666007       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="eaff3779-e332-41a4-a610-778978fc13ba"
I0305 08:22:16.666014       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:16.666070       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="492e67ae-21b9-42a8-8e94-1ef2955d6fa8" model="qwen2-5-7b-instruct"
I0305 08:22:16.666154       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:16.666161       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:16.666164       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:16.666345       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:16.666396       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:16.666405       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:16.693336       1 gateway.go:562] latency, 0.0000, summary, hash(request), 18a50659, selectedpod, 10.0.3.41:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:16.693358       1 gateway.go:748] "Request completed" requestID="96427ca0-33d4-4f63-8390-513c57a7dca0" targetPod="10.0.3.41:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:16.693370       1 gateway.go:764] "HandleResponseBody completed" requestID="96427ca0-33d4-4f63-8390-513c57a7dca0" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:16.724824       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0584, numInputTokens, 7598
I0305 08:22:16.724839       1 tree.go:471] Updated node(0) last access: 146.9146 seconds
I0305 08:22:16.724846       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:16.724850       1 tree.go:471] Updated node(2) last access: 146.9146 seconds
I0305 08:22:16.724865       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:16.724869       1 tree.go:471] Updated node(57) last access: 146.9146 seconds
I0305 08:22:16.724873       1 tree.go:490] Partial tokens match child node(200). Continue to go deeper in the radix tree
I0305 08:22:16.724877       1 tree.go:471] Updated node(200) last access: 146.9146 seconds
I0305 08:22:16.724883       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:16.724888       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:16.724896       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:16.724902       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:16.724908       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:16.724891515 +0000 UTC m=+147.029793612]
I0305 08:22:16.724926       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7480, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:16.724937       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:16.725006       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7480
I0305 08:22:16.725022       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:16.725034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.725043       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.725049       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.725058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.725065       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.725083       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:16.725098       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:16.725114       1 prefix_cache_and_load.go:584] latency, Route, 0.0590
I0305 08:22:16.725124       1 gateway.go:415] latency, selectTargetPod, 0.0590, target pod, 10.0.1.28:8000
I0305 08:22:16.725135       1 gateway.go:235] latency, HandleRequestBody, 0.0593
I0305 08:22:16.745016       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="492e67ae-21b9-42a8-8e94-1ef2955d6fa8"
I0305 08:22:16.759950       1 gateway.go:329] "-- In RequestBody processing ..." requestID="eaff3779-e332-41a4-a610-778978fc13ba"
I0305 08:22:16.760179       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="eaff3779-e332-41a4-a610-778978fc13ba" model="qwen2-5-7b-instruct"
I0305 08:22:16.760254       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:16.760260       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:16.760263       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:16.760447       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:16.760496       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:16.760503       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:16.789876       1 gateway.go:608] "First token received" requestID="492e67ae-21b9-42a8-8e94-1ef2955d6fa8" ttft_ms=123
I0305 08:22:16.809808       1 gateway.go:562] latency, 0.0000, summary, hash(request), 159f470e, selectedpod, 10.0.0.101:8000, ttft, 113, tpot, 19, e2e, 287, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:16.809828       1 gateway.go:748] "Request completed" requestID="bec89308-8816-4dcc-9718-6678e922b435" targetPod="10.0.0.101:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:16.809839       1 gateway.go:764] "HandleResponseBody completed" requestID="bec89308-8816-4dcc-9718-6678e922b435" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:16.818633       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0581, numInputTokens, 7600
I0305 08:22:16.818649       1 tree.go:471] Updated node(0) last access: 147.0084 seconds
I0305 08:22:16.818655       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:16.818658       1 tree.go:471] Updated node(2) last access: 147.0084 seconds
I0305 08:22:16.818680       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:16.818684       1 tree.go:471] Updated node(28) last access: 147.0084 seconds
I0305 08:22:16.818688       1 tree.go:490] Partial tokens match child node(177). Continue to go deeper in the radix tree
I0305 08:22:16.818691       1 tree.go:471] Updated node(177) last access: 147.0084 seconds
I0305 08:22:16.818697       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:22:16.818703       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:16.818710       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:16.818717       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:16.818723       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:16.818704941 +0000 UTC m=+147.123607038]
I0305 08:22:16.818738       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7480, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:22:16.818746       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:22:16.818808       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7480
I0305 08:22:16.818818       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:16.818827       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.818833       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.818839       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.818845       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.818852       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:16.818863       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:16.818873       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:16.818884       1 prefix_cache_and_load.go:584] latency, Route, 0.0586
I0305 08:22:16.818899       1 gateway.go:415] latency, selectTargetPod, 0.0586, target pod, 10.0.0.39:8000
I0305 08:22:16.818910       1 gateway.go:235] latency, HandleRequestBody, 0.0590
I0305 08:22:16.837581       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="eaff3779-e332-41a4-a610-778978fc13ba"
I0305 08:22:16.881565       1 gateway.go:608] "First token received" requestID="eaff3779-e332-41a4-a610-778978fc13ba" ttft_ms=121
I0305 08:22:16.961528       1 gateway.go:562] latency, 0.0001, summary, hash(request), c910d9a1, selectedpod, 10.0.1.28:8000, ttft, 123, tpot, 19, e2e, 295, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:16.961547       1 gateway.go:748] "Request completed" requestID="492e67ae-21b9-42a8-8e94-1ef2955d6fa8" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:16.961557       1 gateway.go:764] "HandleResponseBody completed" requestID="492e67ae-21b9-42a8-8e94-1ef2955d6fa8" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:17.054739       1 gateway.go:562] latency, 0.0001, summary, hash(request), 90c9e070, selectedpod, 10.0.0.39:8000, ttft, 121, tpot, 19, e2e, 294, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:17.054758       1 gateway.go:748] "Request completed" requestID="eaff3779-e332-41a4-a610-778978fc13ba" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:17.054768       1 gateway.go:764] "HandleResponseBody completed" requestID="eaff3779-e332-41a4-a610-778978fc13ba" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:17.155353       1 gateway.go:207] "Processing request" requestID="cb68fb2a-da8b-4c19-a8cc-2f744cdb1310"
I0305 08:22:17.155385       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cb68fb2a-da8b-4c19-a8cc-2f744cdb1310"
I0305 08:22:17.155396       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:17.244869       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cb68fb2a-da8b-4c19-a8cc-2f744cdb1310"
I0305 08:22:17.245144       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cb68fb2a-da8b-4c19-a8cc-2f744cdb1310" model="qwen2-5-7b-instruct"
I0305 08:22:17.245246       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:17.245256       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:17.245259       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:17.245541       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:17.245598       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:17.245608       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:17.306389       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0608, numInputTokens, 7599
I0305 08:22:17.306410       1 tree.go:471] Updated node(0) last access: 147.4961 seconds
I0305 08:22:17.306417       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:17.306421       1 tree.go:471] Updated node(2) last access: 147.4961 seconds
I0305 08:22:17.306434       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:17.306438       1 tree.go:471] Updated node(45) last access: 147.4962 seconds
I0305 08:22:17.306441       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 08:22:17.306444       1 tree.go:471] Updated node(43) last access: 147.4962 seconds
I0305 08:22:17.306458       1 tree.go:667] Split complete - New node(285)
I0305 08:22:17.306463       1 tree.go:668] Split complete - Child node(44)
I0305 08:22:17.306468       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:17.306474       1 tree.go:471] Updated node(285) last access: 147.4962 seconds
I0305 08:22:17.306480       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:17.306485       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:17.306491       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:17.306498       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:17.306504       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:17.306486937 +0000 UTC m=+147.611389034]
I0305 08:22:17.306520       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7485, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:17.306528       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:17.306600       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7485
I0305 08:22:17.306612       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:17.306622       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.306629       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.306635       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.306640       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.306645       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.306650       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.306661       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:17.306680       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:17.306691       1 prefix_cache_and_load.go:584] latency, Route, 0.0614
I0305 08:22:17.306700       1 gateway.go:415] latency, selectTargetPod, 0.0615, target pod, 10.0.0.134:8000
I0305 08:22:17.306712       1 gateway.go:235] latency, HandleRequestBody, 0.0618
I0305 08:22:17.323849       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cb68fb2a-da8b-4c19-a8cc-2f744cdb1310"
I0305 08:22:17.360154       1 gateway.go:608] "First token received" requestID="cb68fb2a-da8b-4c19-a8cc-2f744cdb1310" ttft_ms=115
I0305 08:22:17.421144       1 gateway.go:207] "Processing request" requestID="106b1fda-0e7d-4d6b-85f7-0756373d06ec"
I0305 08:22:17.421175       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="106b1fda-0e7d-4d6b-85f7-0756373d06ec"
I0305 08:22:17.421186       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:17.448294       1 gateway.go:329] "-- In RequestBody processing ..." requestID="106b1fda-0e7d-4d6b-85f7-0756373d06ec"
I0305 08:22:17.448529       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="106b1fda-0e7d-4d6b-85f7-0756373d06ec" model="qwen2-5-7b-instruct"
I0305 08:22:17.448609       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:17.448615       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:17.448619       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:17.448828       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:17.448867       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:17.448873       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:17.506400       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0575, numInputTokens, 7602
I0305 08:22:17.506418       1 tree.go:471] Updated node(0) last access: 147.6961 seconds
I0305 08:22:17.506425       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:17.506428       1 tree.go:471] Updated node(2) last access: 147.6961 seconds
I0305 08:22:17.506441       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:17.506445       1 tree.go:471] Updated node(21) last access: 147.6962 seconds
I0305 08:22:17.506456       1 tree.go:667] Split complete - New node(287)
I0305 08:22:17.506461       1 tree.go:668] Split complete - Child node(88)
I0305 08:22:17.506466       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:22:17.506472       1 tree.go:471] Updated node(287) last access: 147.6962 seconds
I0305 08:22:17.506477       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:17.506482       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:17.506488       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:17.506495       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:17.506501       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:17.506483993 +0000 UTC m=+147.811386091]
I0305 08:22:17.506517       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7485, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:17.506524       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:17.506589       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7485
I0305 08:22:17.506600       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:17.506609       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.506615       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.506621       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.506627       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.506632       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.506643       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:17.506654       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:17.506672       1 prefix_cache_and_load.go:584] latency, Route, 0.0581
I0305 08:22:17.506683       1 gateway.go:415] latency, selectTargetPod, 0.0581, target pod, 10.0.3.41:8000
I0305 08:22:17.506694       1 gateway.go:235] latency, HandleRequestBody, 0.0584
I0305 08:22:17.521987       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="106b1fda-0e7d-4d6b-85f7-0756373d06ec"
I0305 08:22:17.533066       1 gateway.go:562] latency, 0.0001, summary, hash(request), 9869fc8a, selectedpod, 10.0.0.134:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:17.533086       1 gateway.go:748] "Request completed" requestID="cb68fb2a-da8b-4c19-a8cc-2f744cdb1310" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:17.533097       1 gateway.go:764] "HandleResponseBody completed" requestID="cb68fb2a-da8b-4c19-a8cc-2f744cdb1310" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:17.558180       1 gateway.go:608] "First token received" requestID="106b1fda-0e7d-4d6b-85f7-0756373d06ec" ttft_ms=109
I0305 08:22:17.559874       1 gateway.go:207] "Processing request" requestID="3cf259c6-a311-4e99-874d-8ee0b4e27caf"
I0305 08:22:17.559902       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3cf259c6-a311-4e99-874d-8ee0b4e27caf"
I0305 08:22:17.559910       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:17.658448       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3cf259c6-a311-4e99-874d-8ee0b4e27caf"
I0305 08:22:17.658706       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3cf259c6-a311-4e99-874d-8ee0b4e27caf" model="qwen2-5-7b-instruct"
I0305 08:22:17.658787       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:17.658794       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:17.658798       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:17.659009       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:17.659048       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:17.659054       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:17.672893       1 gateway.go:207] "Processing request" requestID="8633b68a-ce1e-4e34-b169-dd1532921300"
I0305 08:22:17.672924       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8633b68a-ce1e-4e34-b169-dd1532921300"
I0305 08:22:17.672933       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:17.717821       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0588, numInputTokens, 7603
I0305 08:22:17.717836       1 tree.go:471] Updated node(0) last access: 147.9076 seconds
I0305 08:22:17.717842       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:17.717846       1 tree.go:471] Updated node(2) last access: 147.9076 seconds
I0305 08:22:17.717858       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:17.717862       1 tree.go:471] Updated node(24) last access: 147.9076 seconds
I0305 08:22:17.717874       1 tree.go:667] Split complete - New node(289)
I0305 08:22:17.717879       1 tree.go:668] Split complete - Child node(25)
I0305 08:22:17.717887       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0305 08:22:17.717895       1 tree.go:471] Updated node(289) last access: 147.9076 seconds
I0305 08:22:17.717903       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:17.717910       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 08:22:17.717922       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:22:17.717933       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:17.717942       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:17.717915231 +0000 UTC m=+148.022817332]
I0305 08:22:17.717965       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7489, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:17.717974       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:17.718054       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7489
I0305 08:22:17.718065       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:17.718075       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.718086       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.718094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.718099       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.718104       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.718115       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:17.718125       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:17.718137       1 prefix_cache_and_load.go:584] latency, Route, 0.0593
I0305 08:22:17.718149       1 gateway.go:415] latency, selectTargetPod, 0.0594, target pod, 10.0.3.30:8000
I0305 08:22:17.718165       1 gateway.go:235] latency, HandleRequestBody, 0.0597
I0305 08:22:17.731127       1 gateway.go:562] latency, 0.0001, summary, hash(request), f6cdad13, selectedpod, 10.0.3.41:8000, ttft, 109, tpot, 19, e2e, 282, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:17.731152       1 gateway.go:748] "Request completed" requestID="106b1fda-0e7d-4d6b-85f7-0756373d06ec" targetPod="10.0.3.41:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:17.731169       1 gateway.go:764] "HandleResponseBody completed" requestID="106b1fda-0e7d-4d6b-85f7-0756373d06ec" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:17.733421       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3cf259c6-a311-4e99-874d-8ee0b4e27caf"
I0305 08:22:17.769831       1 gateway.go:608] "First token received" requestID="3cf259c6-a311-4e99-874d-8ee0b4e27caf" ttft_ms=111
I0305 08:22:17.780354       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8633b68a-ce1e-4e34-b169-dd1532921300"
I0305 08:22:17.780599       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8633b68a-ce1e-4e34-b169-dd1532921300" model="qwen2-5-7b-instruct"
I0305 08:22:17.780690       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:17.780702       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:17.780707       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:17.780929       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:17.780980       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:17.780990       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:17.786220       1 gateway.go:207] "Processing request" requestID="a0423644-40d6-40a9-a281-74c591578d79"
I0305 08:22:17.786247       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a0423644-40d6-40a9-a281-74c591578d79"
I0305 08:22:17.786273       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:17.841657       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0607, numInputTokens, 7602
I0305 08:22:17.841682       1 tree.go:471] Updated node(0) last access: 148.0314 seconds
I0305 08:22:17.841689       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:17.841692       1 tree.go:471] Updated node(2) last access: 148.0314 seconds
I0305 08:22:17.841706       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:17.841711       1 tree.go:471] Updated node(36) last access: 148.0314 seconds
I0305 08:22:17.841721       1 tree.go:667] Split complete - New node(291)
I0305 08:22:17.841726       1 tree.go:668] Split complete - Child node(158)
I0305 08:22:17.841731       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:22:17.841737       1 tree.go:471] Updated node(291) last access: 148.0315 seconds
I0305 08:22:17.841742       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:22:17.841748       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:17.841755       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:17.841765       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:17.841776       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:17.841750835 +0000 UTC m=+148.146652941]
I0305 08:22:17.841797       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7483, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:22:17.841807       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:22:17.841866       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7483
I0305 08:22:17.841877       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:17.841887       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.841893       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.841899       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.841905       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.841912       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.841922       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:17.841932       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:17.841942       1 prefix_cache_and_load.go:584] latency, Route, 0.0613
I0305 08:22:17.841955       1 gateway.go:415] latency, selectTargetPod, 0.0613, target pod, 10.0.3.30:8000
I0305 08:22:17.841967       1 gateway.go:235] latency, HandleRequestBody, 0.0616
I0305 08:22:17.856798       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8633b68a-ce1e-4e34-b169-dd1532921300"
I0305 08:22:17.883619       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a0423644-40d6-40a9-a281-74c591578d79"
I0305 08:22:17.883879       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a0423644-40d6-40a9-a281-74c591578d79" model="qwen2-5-7b-instruct"
I0305 08:22:17.883988       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:17.883995       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:17.883998       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:17.884183       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:17.884240       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:17.884250       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:17.893083       1 gateway.go:207] "Processing request" requestID="3c2f571c-d34d-428b-8115-114669483e32"
I0305 08:22:17.893115       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3c2f571c-d34d-428b-8115-114669483e32"
I0305 08:22:17.893125       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:17.907288       1 gateway.go:608] "First token received" requestID="8633b68a-ce1e-4e34-b169-dd1532921300" ttft_ms=126
I0305 08:22:17.937725       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3c2f571c-d34d-428b-8115-114669483e32"
I0305 08:22:17.937878       1 gateway.go:207] "Processing request" requestID="2eb00267-af37-4fae-ac69-b57f8beb79f6"
I0305 08:22:17.937911       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2eb00267-af37-4fae-ac69-b57f8beb79f6"
I0305 08:22:17.937922       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:17.937947       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3c2f571c-d34d-428b-8115-114669483e32" model="qwen2-5-7b-instruct"
I0305 08:22:17.942384       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0581, numInputTokens, 7599
I0305 08:22:17.942400       1 tree.go:471] Updated node(0) last access: 148.1321 seconds
I0305 08:22:17.942406       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:17.942411       1 tree.go:471] Updated node(2) last access: 148.1321 seconds
I0305 08:22:17.942424       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:17.942428       1 tree.go:471] Updated node(21) last access: 148.1321 seconds
I0305 08:22:17.942432       1 tree.go:490] Partial tokens match child node(287). Continue to go deeper in the radix tree
I0305 08:22:17.942435       1 tree.go:471] Updated node(287) last access: 148.1322 seconds
I0305 08:22:17.942444       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:17.942449       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:17.942458       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:17.942466       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:17.942474       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:17.942451543 +0000 UTC m=+148.247353640]
I0305 08:22:17.942496       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7485, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:17.942507       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:17.942593       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7485
I0305 08:22:17.942610       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:17.942627       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.942642       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.942650       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.942659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.942676       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:17.942692       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:17.942709       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:17.942726       1 prefix_cache_and_load.go:584] latency, Route, 0.0587
I0305 08:22:17.942745       1 gateway.go:415] latency, selectTargetPod, 0.0588, target pod, 10.0.3.41:8000
I0305 08:22:17.942761       1 gateway.go:235] latency, HandleRequestBody, 0.0591
I0305 08:22:17.942786       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0048
I0305 08:22:17.942793       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:17.942797       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:17.942999       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:17.943043       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:17.943049       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:17.963499       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a0423644-40d6-40a9-a281-74c591578d79"
I0305 08:22:17.965338       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2eb00267-af37-4fae-ac69-b57f8beb79f6"
I0305 08:22:17.965426       1 gateway.go:207] "Processing request" requestID="d312fb9c-9e4b-42dc-9a5c-4a764faa5b36"
I0305 08:22:17.965456       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d312fb9c-9e4b-42dc-9a5c-4a764faa5b36"
I0305 08:22:17.965464       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:17.965587       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2eb00267-af37-4fae-ac69-b57f8beb79f6" model="qwen2-5-7b-instruct"
I0305 08:22:17.988919       1 gateway.go:562] latency, 0.0001, summary, hash(request), 5213ce8b, selectedpod, 10.0.3.30:8000, ttft, 111, tpot, 24, e2e, 330, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:22:17.988940       1 gateway.go:748] "Request completed" requestID="3cf259c6-a311-4e99-874d-8ee0b4e27caf" targetPod="10.0.3.30:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:22:17.988954       1 gateway.go:764] "HandleResponseBody completed" requestID="3cf259c6-a311-4e99-874d-8ee0b4e27caf" promptTokens=7622 completionTokens=10 stream=true
I0305 08:22:17.994464       1 gateway.go:608] "First token received" requestID="a0423644-40d6-40a9-a281-74c591578d79" ttft_ms=110
I0305 08:22:18.006586       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0635, numInputTokens, 7596
I0305 08:22:18.006602       1 tree.go:471] Updated node(0) last access: 148.1963 seconds
I0305 08:22:18.006609       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:18.006612       1 tree.go:471] Updated node(2) last access: 148.1963 seconds
I0305 08:22:18.006627       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:18.006631       1 tree.go:471] Updated node(45) last access: 148.1963 seconds
I0305 08:22:18.006643       1 tree.go:667] Split complete - New node(294)
I0305 08:22:18.006648       1 tree.go:668] Split complete - Child node(96)
I0305 08:22:18.006653       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:18.006658       1 tree.go:471] Updated node(294) last access: 148.1964 seconds
I0305 08:22:18.006673       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 106 tokens:
I0305 08:22:18.006681       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:22:18.006688       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:18.006696       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:18.006701       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:18.006683657 +0000 UTC m=+148.311585757]
I0305 08:22:18.006724       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7490, Matching ratio: 0.9860, # Matched pods: 0, Matched pods: []
I0305 08:22:18.006733       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9860 > 0.5000)
I0305 08:22:18.006827       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7490
I0305 08:22:18.006837       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:18.006851       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.006858       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.006861       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.006868       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.006873       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.006886       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:18.006897       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:18.006906       1 prefix_cache_and_load.go:584] latency, Route, 0.0689
I0305 08:22:18.006920       1 gateway.go:415] latency, selectTargetPod, 0.0689, target pod, 10.0.0.134:8000
I0305 08:22:18.006933       1 gateway.go:235] latency, HandleRequestBody, 0.0692
I0305 08:22:18.006958       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0412
I0305 08:22:18.006963       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:18.006966       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:18.007124       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:18.007166       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:18.007180       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:18.023965       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3c2f571c-d34d-428b-8115-114669483e32"
I0305 08:22:18.059130       1 gateway.go:608] "First token received" requestID="3c2f571c-d34d-428b-8115-114669483e32" ttft_ms=121
I0305 08:22:18.073144       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d312fb9c-9e4b-42dc-9a5c-4a764faa5b36"
I0305 08:22:18.073417       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d312fb9c-9e4b-42dc-9a5c-4a764faa5b36" model="qwen2-5-7b-instruct"
I0305 08:22:18.079810       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0726, numInputTokens, 7595
I0305 08:22:18.079824       1 tree.go:471] Updated node(0) last access: 148.2695 seconds
I0305 08:22:18.079830       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:18.079833       1 tree.go:471] Updated node(2) last access: 148.2695 seconds
I0305 08:22:18.079848       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:18.079852       1 tree.go:471] Updated node(45) last access: 148.2696 seconds
I0305 08:22:18.079862       1 tree.go:667] Split complete - New node(296)
I0305 08:22:18.079867       1 tree.go:668] Split complete - Child node(103)
I0305 08:22:18.079872       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:22:18.079877       1 tree.go:471] Updated node(296) last access: 148.2696 seconds
I0305 08:22:18.079883       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 08:22:18.079888       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 08:22:18.079896       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 08:22:18.079901       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:18.079908       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:18.079891593 +0000 UTC m=+148.384793690]
I0305 08:22:18.079926       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7483, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 08:22:18.079935       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 08:22:18.080000       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7483
I0305 08:22:18.080011       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:18.080020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.080026       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.080031       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.080040       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.080048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.080060       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:18.080069       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:18.080079       1 prefix_cache_and_load.go:584] latency, Route, 0.1143
I0305 08:22:18.080093       1 gateway.go:415] latency, selectTargetPod, 0.1143, target pod, 10.0.0.134:8000
I0305 08:22:18.080103       1 gateway.go:235] latency, HandleRequestBody, 0.1149
I0305 08:22:18.080121       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0066
I0305 08:22:18.080142       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:18.080147       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:18.080294       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:18.080339       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:18.080345       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:18.085531       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1978ef9f, selectedpod, 10.0.3.30:8000, ttft, 126, tpot, 19, e2e, 305, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:18.085552       1 gateway.go:748] "Request completed" requestID="8633b68a-ce1e-4e34-b169-dd1532921300" targetPod="10.0.3.30:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:18.085564       1 gateway.go:764] "HandleResponseBody completed" requestID="8633b68a-ce1e-4e34-b169-dd1532921300" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:18.096559       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2eb00267-af37-4fae-ac69-b57f8beb79f6"
I0305 08:22:18.117964       1 gateway.go:207] "Processing request" requestID="80590a92-9933-476a-9534-fcdda2ee459d"
I0305 08:22:18.117989       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="80590a92-9933-476a-9534-fcdda2ee459d"
I0305 08:22:18.117999       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:18.149221       1 gateway.go:608] "First token received" requestID="2eb00267-af37-4fae-ac69-b57f8beb79f6" ttft_ms=183
I0305 08:22:18.167452       1 gateway.go:562] latency, 0.0000, summary, hash(request), 184b3928, selectedpod, 10.0.3.41:8000, ttft, 110, tpot, 19, e2e, 283, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:18.167473       1 gateway.go:748] "Request completed" requestID="a0423644-40d6-40a9-a281-74c591578d79" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:18.167485       1 gateway.go:764] "HandleResponseBody completed" requestID="a0423644-40d6-40a9-a281-74c591578d79" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:18.171188       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0908, numInputTokens, 7598
I0305 08:22:18.171204       1 tree.go:471] Updated node(0) last access: 148.3609 seconds
I0305 08:22:18.171210       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:18.171213       1 tree.go:471] Updated node(2) last access: 148.3609 seconds
I0305 08:22:18.171227       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:18.171231       1 tree.go:471] Updated node(6) last access: 148.3609 seconds
I0305 08:22:18.171236       1 tree.go:490] Partial tokens match child node(114). Continue to go deeper in the radix tree
I0305 08:22:18.171240       1 tree.go:471] Updated node(114) last access: 148.3610 seconds
I0305 08:22:18.171247       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:18.171251       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 08:22:18.171257       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:18.171265       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:18.171270       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:18.171253214 +0000 UTC m=+148.476155311]
I0305 08:22:18.171285       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:18.171294       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:18.171361       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7481
I0305 08:22:18.171373       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:18.171383       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.171390       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.171396       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.171401       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.171409       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.171418       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:18.171429       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:18.171437       1 prefix_cache_and_load.go:584] latency, Route, 0.0979
I0305 08:22:18.171447       1 gateway.go:415] latency, selectTargetPod, 0.0979, target pod, 10.0.1.22:8000
I0305 08:22:18.171459       1 gateway.go:235] latency, HandleRequestBody, 0.0983
I0305 08:22:18.190309       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d312fb9c-9e4b-42dc-9a5c-4a764faa5b36"
I0305 08:22:18.225534       1 gateway.go:329] "-- In RequestBody processing ..." requestID="80590a92-9933-476a-9534-fcdda2ee459d"
I0305 08:22:18.225764       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="80590a92-9933-476a-9534-fcdda2ee459d" model="qwen2-5-7b-instruct"
I0305 08:22:18.225840       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:18.225846       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:18.225849       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:18.226021       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:18.226058       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:18.226064       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:18.234037       1 gateway.go:608] "First token received" requestID="d312fb9c-9e4b-42dc-9a5c-4a764faa5b36" ttft_ms=160
I0305 08:22:18.259118       1 gateway.go:207] "Processing request" requestID="1537bbed-f75f-4a47-84db-92488e79c50f"
I0305 08:22:18.259148       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1537bbed-f75f-4a47-84db-92488e79c50f"
I0305 08:22:18.259156       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:18.269886       1 gateway.go:562] latency, 0.0000, summary, hash(request), 46d1fa4c, selectedpod, 10.0.0.134:8000, ttft, 121, tpot, 23, e2e, 332, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:22:18.269905       1 gateway.go:748] "Request completed" requestID="3c2f571c-d34d-428b-8115-114669483e32" targetPod="10.0.0.134:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:22:18.269919       1 gateway.go:764] "HandleResponseBody completed" requestID="3c2f571c-d34d-428b-8115-114669483e32" promptTokens=7615 completionTokens=10 stream=true
I0305 08:22:18.282786       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0567, numInputTokens, 7599
I0305 08:22:18.282801       1 tree.go:471] Updated node(0) last access: 148.4725 seconds
I0305 08:22:18.282808       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:18.282812       1 tree.go:471] Updated node(2) last access: 148.4725 seconds
I0305 08:22:18.282824       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:18.282828       1 tree.go:471] Updated node(28) last access: 148.4725 seconds
I0305 08:22:18.282833       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 08:22:18.282837       1 tree.go:471] Updated node(33) last access: 148.4726 seconds
I0305 08:22:18.282841       1 tree.go:490] Partial tokens match child node(65). Continue to go deeper in the radix tree
I0305 08:22:18.282843       1 tree.go:471] Updated node(65) last access: 148.4726 seconds
I0305 08:22:18.282852       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:18.282856       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:18.282866       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:18.282872       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:18.282879       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:18.282860296 +0000 UTC m=+148.587762393]
I0305 08:22:18.282894       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7485, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:18.282902       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:18.282972       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7485
I0305 08:22:18.282983       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:18.282994       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.283000       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.283008       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.283013       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.283016       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.283023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.283032       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:18.283042       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:18.283051       1 prefix_cache_and_load.go:584] latency, Route, 0.0572
I0305 08:22:18.283063       1 gateway.go:415] latency, selectTargetPod, 0.0572, target pod, 10.0.0.39:8000
I0305 08:22:18.283074       1 gateway.go:235] latency, HandleRequestBody, 0.0575
I0305 08:22:18.301517       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="80590a92-9933-476a-9534-fcdda2ee459d"
I0305 08:22:18.328604       1 gateway.go:562] latency, 0.0000, summary, hash(request), f3f79d1a, selectedpod, 10.0.0.134:8000, ttft, 183, tpot, 19, e2e, 363, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 08:22:18.328626       1 gateway.go:748] "Request completed" requestID="2eb00267-af37-4fae-ac69-b57f8beb79f6" targetPod="10.0.0.134:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 08:22:18.328640       1 gateway.go:764] "HandleResponseBody completed" requestID="2eb00267-af37-4fae-ac69-b57f8beb79f6" promptTokens=7614 completionTokens=10 stream=true
I0305 08:22:18.337832       1 gateway.go:608] "First token received" requestID="80590a92-9933-476a-9534-fcdda2ee459d" ttft_ms=112
I0305 08:22:18.355028       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1537bbed-f75f-4a47-84db-92488e79c50f"
I0305 08:22:18.355249       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1537bbed-f75f-4a47-84db-92488e79c50f" model="qwen2-5-7b-instruct"
I0305 08:22:18.355324       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:18.355339       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:18.355343       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:18.355537       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:18.355576       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:18.355582       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:18.368594       1 gateway.go:207] "Processing request" requestID="1b438d28-af14-4488-a66e-e166c923e497"
I0305 08:22:18.368625       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1b438d28-af14-4488-a66e-e166c923e497"
I0305 08:22:18.368633       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:18.409972       1 gateway.go:562] latency, 0.0000, summary, hash(request), 10b8fc89, selectedpod, 10.0.1.22:8000, ttft, 160, tpot, 19, e2e, 336, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:18.409994       1 gateway.go:748] "Request completed" requestID="d312fb9c-9e4b-42dc-9a5c-4a764faa5b36" targetPod="10.0.1.22:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:18.410007       1 gateway.go:764] "HandleResponseBody completed" requestID="d312fb9c-9e4b-42dc-9a5c-4a764faa5b36" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:18.415072       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0595, numInputTokens, 7598
I0305 08:22:18.415089       1 tree.go:471] Updated node(0) last access: 148.6048 seconds
I0305 08:22:18.415096       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:18.415099       1 tree.go:471] Updated node(2) last access: 148.6048 seconds
I0305 08:22:18.415116       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:18.415120       1 tree.go:471] Updated node(45) last access: 148.6048 seconds
I0305 08:22:18.415132       1 tree.go:667] Split complete - New node(300)
I0305 08:22:18.415138       1 tree.go:668] Split complete - Child node(52)
I0305 08:22:18.415143       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:22:18.415148       1 tree.go:471] Updated node(300) last access: 148.6049 seconds
I0305 08:22:18.415153       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:18.415157       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:18.415164       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:18.415170       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:18.415177       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:18.415159718 +0000 UTC m=+148.720061816]
I0305 08:22:18.415193       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7483, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:18.415203       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:18.415271       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7483
I0305 08:22:18.415282       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:18.415292       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.415299       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.415305       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.415311       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.415315       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.415325       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:18.415343       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:18.415356       1 prefix_cache_and_load.go:584] latency, Route, 0.0600
I0305 08:22:18.415367       1 gateway.go:415] latency, selectTargetPod, 0.0600, target pod, 10.0.0.134:8000
I0305 08:22:18.415380       1 gateway.go:235] latency, HandleRequestBody, 0.0604
I0305 08:22:18.417934       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1b438d28-af14-4488-a66e-e166c923e497"
I0305 08:22:18.418157       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1b438d28-af14-4488-a66e-e166c923e497" model="qwen2-5-7b-instruct"
I0305 08:22:18.418227       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:18.418233       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:18.418237       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:18.418431       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:18.418470       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:18.418476       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:18.432908       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1537bbed-f75f-4a47-84db-92488e79c50f"
I0305 08:22:18.475657       1 gateway.go:608] "First token received" requestID="1537bbed-f75f-4a47-84db-92488e79c50f" ttft_ms=120
I0305 08:22:18.477986       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0595, numInputTokens, 7599
I0305 08:22:18.478004       1 tree.go:471] Updated node(0) last access: 148.6677 seconds
I0305 08:22:18.478010       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:18.478015       1 tree.go:471] Updated node(2) last access: 148.6677 seconds
I0305 08:22:18.478028       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:18.478032       1 tree.go:471] Updated node(45) last access: 148.6677 seconds
I0305 08:22:18.478037       1 tree.go:490] Partial tokens match child node(204). Continue to go deeper in the radix tree
I0305 08:22:18.478041       1 tree.go:471] Updated node(204) last access: 148.6678 seconds
I0305 08:22:18.478049       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:18.478054       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:18.478062       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:18.478069       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:18.478078       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:18.47805688 +0000 UTC m=+148.782958977]
I0305 08:22:18.478101       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:18.478112       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:18.478180       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7483
I0305 08:22:18.478192       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:18.478206       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.478217       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.478227       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.478232       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.478238       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.478249       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:18.478259       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:18.478270       1 prefix_cache_and_load.go:584] latency, Route, 0.0600
I0305 08:22:18.478283       1 gateway.go:415] latency, selectTargetPod, 0.0601, target pod, 10.0.0.134:8000
I0305 08:22:18.478296       1 gateway.go:235] latency, HandleRequestBody, 0.0604
I0305 08:22:18.486749       1 gateway.go:207] "Processing request" requestID="c6609dbe-003c-47fa-860d-fdbb3d3d6c86"
I0305 08:22:18.486775       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c6609dbe-003c-47fa-860d-fdbb3d3d6c86"
I0305 08:22:18.486782       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:18.498757       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1b438d28-af14-4488-a66e-e166c923e497"
I0305 08:22:18.510884       1 gateway.go:562] latency, 0.0001, summary, hash(request), f2217700, selectedpod, 10.0.0.39:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:18.510907       1 gateway.go:748] "Request completed" requestID="80590a92-9933-476a-9534-fcdda2ee459d" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:18.510921       1 gateway.go:764] "HandleResponseBody completed" requestID="80590a92-9933-476a-9534-fcdda2ee459d" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:18.554552       1 gateway.go:608] "First token received" requestID="1b438d28-af14-4488-a66e-e166c923e497" ttft_ms=136
I0305 08:22:18.698290       1 gateway.go:562] latency, 0.0001, summary, hash(request), a6cc659e, selectedpod, 10.0.0.134:8000, ttft, 120, tpot, 24, e2e, 343, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:18.698313       1 gateway.go:748] "Request completed" requestID="1537bbed-f75f-4a47-84db-92488e79c50f" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:18.698325       1 gateway.go:764] "HandleResponseBody completed" requestID="1537bbed-f75f-4a47-84db-92488e79c50f" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:18.734693       1 gateway.go:562] latency, 0.0001, summary, hash(request), 4746dbed, selectedpod, 10.0.0.134:8000, ttft, 136, tpot, 20, e2e, 316, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:18.734712       1 gateway.go:748] "Request completed" requestID="1b438d28-af14-4488-a66e-e166c923e497" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:18.734723       1 gateway.go:764] "HandleResponseBody completed" requestID="1b438d28-af14-4488-a66e-e166c923e497" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:18.822797       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c6609dbe-003c-47fa-860d-fdbb3d3d6c86"
I0305 08:22:18.841002       1 gateway.go:207] "Processing request" requestID="44be921d-e494-4938-9ca8-3e8b30a2fd6c"
I0305 08:22:18.841032       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="44be921d-e494-4938-9ca8-3e8b30a2fd6c"
I0305 08:22:18.841041       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:18.851738       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c6609dbe-003c-47fa-860d-fdbb3d3d6c86" model="qwen2-5-7b-instruct"
I0305 08:22:18.851821       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:18.851828       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:18.851831       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:18.852079       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:18.852117       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:18.852123       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:18.909986       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0579, numInputTokens, 7594
I0305 08:22:18.910003       1 tree.go:471] Updated node(0) last access: 149.0997 seconds
I0305 08:22:18.910010       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:18.910014       1 tree.go:471] Updated node(2) last access: 149.0997 seconds
I0305 08:22:18.910028       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:18.910032       1 tree.go:471] Updated node(28) last access: 149.0997 seconds
I0305 08:22:18.910038       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 08:22:18.910042       1 tree.go:471] Updated node(63) last access: 149.0998 seconds
I0305 08:22:18.910049       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 08:22:18.910055       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 08:22:18.910063       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 08:22:18.910070       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:18.910077       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:18.910057385 +0000 UTC m=+149.214959483]
I0305 08:22:18.910095       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7484, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 08:22:18.910103       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 08:22:18.910191       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7484
I0305 08:22:18.910201       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:18.910212       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.910218       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.910224       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.910232       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.910237       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:18.910247       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:18.910257       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:18.910267       1 prefix_cache_and_load.go:584] latency, Route, 0.0584
I0305 08:22:18.910276       1 gateway.go:415] latency, selectTargetPod, 0.0585, target pod, 10.0.0.39:8000
I0305 08:22:18.910289       1 gateway.go:235] latency, HandleRequestBody, 0.0875
I0305 08:22:18.928373       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c6609dbe-003c-47fa-860d-fdbb3d3d6c86"
I0305 08:22:18.963642       1 gateway.go:608] "First token received" requestID="c6609dbe-003c-47fa-860d-fdbb3d3d6c86" ttft_ms=140
I0305 08:22:19.047786       1 gateway.go:329] "-- In RequestBody processing ..." requestID="44be921d-e494-4938-9ca8-3e8b30a2fd6c"
I0305 08:22:19.048052       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="44be921d-e494-4938-9ca8-3e8b30a2fd6c" model="qwen2-5-7b-instruct"
I0305 08:22:19.048172       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:19.048183       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:19.048188       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:19.048493       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:19.048544       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:19.048550       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:19.106426       1 gateway.go:207] "Processing request" requestID="20005630-57a5-42b8-97eb-e1b3b421fc4e"
I0305 08:22:19.106458       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="20005630-57a5-42b8-97eb-e1b3b421fc4e"
I0305 08:22:19.106468       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:19.108549       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0600, numInputTokens, 7599
I0305 08:22:19.108567       1 tree.go:471] Updated node(0) last access: 149.2983 seconds
I0305 08:22:19.108573       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:19.108579       1 tree.go:471] Updated node(2) last access: 149.2983 seconds
I0305 08:22:19.108591       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:19.108595       1 tree.go:471] Updated node(45) last access: 149.2983 seconds
I0305 08:22:19.108599       1 tree.go:490] Partial tokens match child node(204). Continue to go deeper in the radix tree
I0305 08:22:19.108604       1 tree.go:471] Updated node(204) last access: 149.2983 seconds
I0305 08:22:19.108611       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:19.108617       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:19.108624       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:19.108630       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:19.108636       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:19.108618979 +0000 UTC m=+149.413521076]
I0305 08:22:19.108654       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:19.108662       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:19.108745       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7483
I0305 08:22:19.108757       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:19.108767       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.108774       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.108779       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.108784       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.108788       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.108798       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:19.108809       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:19.108822       1 prefix_cache_and_load.go:584] latency, Route, 0.0606
I0305 08:22:19.108832       1 gateway.go:415] latency, selectTargetPod, 0.0607, target pod, 10.0.0.134:8000
I0305 08:22:19.108844       1 gateway.go:235] latency, HandleRequestBody, 0.0611
I0305 08:22:19.125396       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="44be921d-e494-4938-9ca8-3e8b30a2fd6c"
I0305 08:22:19.136584       1 gateway.go:562] latency, 0.0000, summary, hash(request), db40a31f, selectedpod, 10.0.0.39:8000, ttft, 140, tpot, 19, e2e, 313, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 08:22:19.136604       1 gateway.go:748] "Request completed" requestID="c6609dbe-003c-47fa-860d-fdbb3d3d6c86" targetPod="10.0.0.39:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 08:22:19.136616       1 gateway.go:764] "HandleResponseBody completed" requestID="c6609dbe-003c-47fa-860d-fdbb3d3d6c86" promptTokens=7613 completionTokens=10 stream=true
I0305 08:22:19.168080       1 gateway.go:608] "First token received" requestID="44be921d-e494-4938-9ca8-3e8b30a2fd6c" ttft_ms=120
I0305 08:22:19.236257       1 gateway.go:329] "-- In RequestBody processing ..." requestID="20005630-57a5-42b8-97eb-e1b3b421fc4e"
I0305 08:22:19.236522       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="20005630-57a5-42b8-97eb-e1b3b421fc4e" model="qwen2-5-7b-instruct"
I0305 08:22:19.236631       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:19.236638       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:19.236641       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:19.236881       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:19.236922       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:19.236928       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:19.283212       1 gateway.go:207] "Processing request" requestID="0a44dddc-511b-4873-82ec-8c931eca2b86"
I0305 08:22:19.283246       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0a44dddc-511b-4873-82ec-8c931eca2b86"
I0305 08:22:19.283255       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:19.294254       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0573, numInputTokens, 7600
I0305 08:22:19.294271       1 tree.go:471] Updated node(0) last access: 149.4840 seconds
I0305 08:22:19.294277       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:19.294280       1 tree.go:471] Updated node(2) last access: 149.4840 seconds
I0305 08:22:19.294293       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:19.294299       1 tree.go:471] Updated node(21) last access: 149.4840 seconds
I0305 08:22:19.294306       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:22:19.294310       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:22:19.294317       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:19.294325       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:19.294341       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:19.294312032 +0000 UTC m=+149.599214130]
I0305 08:22:19.294357       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:22:19.294365       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:22:19.294444       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7478
I0305 08:22:19.294455       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:19.294464       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.294471       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.294479       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.294484       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.294495       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:19.294506       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:19.294516       1 prefix_cache_and_load.go:584] latency, Route, 0.0579
I0305 08:22:19.294526       1 gateway.go:415] latency, selectTargetPod, 0.0579, target pod, 10.0.3.41:8000
I0305 08:22:19.294538       1 gateway.go:235] latency, HandleRequestBody, 0.0583
I0305 08:22:19.300509       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0a44dddc-511b-4873-82ec-8c931eca2b86"
I0305 08:22:19.300803       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0a44dddc-511b-4873-82ec-8c931eca2b86" model="qwen2-5-7b-instruct"
I0305 08:22:19.300931       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:19.300940       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:19.300943       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:19.301166       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:19.301212       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:19.301221       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:19.309936       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="20005630-57a5-42b8-97eb-e1b3b421fc4e"
I0305 08:22:19.341001       1 gateway.go:562] latency, 0.0001, summary, hash(request), 4292a327, selectedpod, 10.0.0.134:8000, ttft, 120, tpot, 19, e2e, 293, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:19.341021       1 gateway.go:748] "Request completed" requestID="44be921d-e494-4938-9ca8-3e8b30a2fd6c" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:19.341034       1 gateway.go:764] "HandleResponseBody completed" requestID="44be921d-e494-4938-9ca8-3e8b30a2fd6c" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:19.353908       1 gateway.go:608] "First token received" requestID="20005630-57a5-42b8-97eb-e1b3b421fc4e" ttft_ms=117
I0305 08:22:19.377473       1 gateway.go:207] "Processing request" requestID="b5e78b32-7fcc-4511-b92f-b914e4a3748a"
I0305 08:22:19.377500       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b5e78b32-7fcc-4511-b92f-b914e4a3748a"
I0305 08:22:19.377508       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:19.377779       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0766, numInputTokens, 7600
I0305 08:22:19.377794       1 tree.go:471] Updated node(0) last access: 149.5675 seconds
I0305 08:22:19.377801       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:19.377805       1 tree.go:471] Updated node(2) last access: 149.5675 seconds
I0305 08:22:19.377819       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:19.377823       1 tree.go:471] Updated node(10) last access: 149.5675 seconds
I0305 08:22:19.377825       1 tree.go:490] Partial tokens match child node(76). Continue to go deeper in the radix tree
I0305 08:22:19.377828       1 tree.go:471] Updated node(76) last access: 149.5675 seconds
I0305 08:22:19.377837       1 tree.go:667] Split complete - New node(306)
I0305 08:22:19.377841       1 tree.go:668] Split complete - Child node(246)
I0305 08:22:19.377846       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:19.377852       1 tree.go:471] Updated node(306) last access: 149.5676 seconds
I0305 08:22:19.377857       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:19.377862       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:19.377868       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:19.377875       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:19.377882       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:19.377864066 +0000 UTC m=+149.682766163]
I0305 08:22:19.377897       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:19.377906       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:19.377967       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7484
I0305 08:22:19.377979       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:19.377988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.377995       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.378002       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.378008       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.378015       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.378020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.378029       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:19.378040       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:19.378051       1 prefix_cache_and_load.go:584] latency, Route, 0.0771
I0305 08:22:19.378059       1 gateway.go:415] latency, selectTargetPod, 0.0771, target pod, 10.0.0.101:8000
I0305 08:22:19.378070       1 gateway.go:235] latency, HandleRequestBody, 0.0776
I0305 08:22:19.395757       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0a44dddc-511b-4873-82ec-8c931eca2b86"
I0305 08:22:19.434215       1 gateway.go:608] "First token received" requestID="0a44dddc-511b-4873-82ec-8c931eca2b86" ttft_ms=133
I0305 08:22:19.526810       1 gateway.go:562] latency, 0.0000, summary, hash(request), 340fc362, selectedpod, 10.0.3.41:8000, ttft, 117, tpot, 19, e2e, 290, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:19.526830       1 gateway.go:748] "Request completed" requestID="20005630-57a5-42b8-97eb-e1b3b421fc4e" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:19.526841       1 gateway.go:764] "HandleResponseBody completed" requestID="20005630-57a5-42b8-97eb-e1b3b421fc4e" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:19.604515       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5b7afd2e, selectedpod, 10.0.0.101:8000, ttft, 133, tpot, 18, e2e, 303, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:19.604544       1 gateway.go:748] "Request completed" requestID="0a44dddc-511b-4873-82ec-8c931eca2b86" targetPod="10.0.0.101:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:19.604557       1 gateway.go:764] "HandleResponseBody completed" requestID="0a44dddc-511b-4873-82ec-8c931eca2b86" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:19.736090       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b5e78b32-7fcc-4511-b92f-b914e4a3748a"
I0305 08:22:19.736341       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b5e78b32-7fcc-4511-b92f-b914e4a3748a" model="qwen2-5-7b-instruct"
I0305 08:22:19.736419       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:19.736426       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:19.736429       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:19.736698       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:19.736742       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:19.736748       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:19.754221       1 gateway.go:207] "Processing request" requestID="05bf4c4a-335a-4a9a-a695-e1ff948a5f8b"
I0305 08:22:19.754251       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="05bf4c4a-335a-4a9a-a695-e1ff948a5f8b"
I0305 08:22:19.754260       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:19.754509       1 gateway.go:329] "-- In RequestBody processing ..." requestID="05bf4c4a-335a-4a9a-a695-e1ff948a5f8b"
I0305 08:22:19.754766       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="05bf4c4a-335a-4a9a-a695-e1ff948a5f8b" model="qwen2-5-7b-instruct"
I0305 08:22:19.798796       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0620, numInputTokens, 7602
I0305 08:22:19.798816       1 tree.go:471] Updated node(0) last access: 149.9885 seconds
I0305 08:22:19.798822       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:19.798825       1 tree.go:471] Updated node(2) last access: 149.9885 seconds
I0305 08:22:19.798839       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:19.798843       1 tree.go:471] Updated node(36) last access: 149.9886 seconds
I0305 08:22:19.798854       1 tree.go:667] Split complete - New node(308)
I0305 08:22:19.798858       1 tree.go:668] Split complete - Child node(268)
I0305 08:22:19.798863       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:22:19.798869       1 tree.go:471] Updated node(308) last access: 149.9886 seconds
I0305 08:22:19.798874       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:22:19.798878       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:19.798887       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:19.798894       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:19.798900       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:19.798881991 +0000 UTC m=+150.103784088]
I0305 08:22:19.798917       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7489, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:22:19.798925       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:22:19.798996       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7489
I0305 08:22:19.799007       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:19.799017       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.799022       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.799028       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.799033       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.799037       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.799059       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:19.799069       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:19.799082       1 prefix_cache_and_load.go:584] latency, Route, 0.0627
I0305 08:22:19.799100       1 gateway.go:415] latency, selectTargetPod, 0.0627, target pod, 10.0.3.30:8000
I0305 08:22:19.799113       1 gateway.go:235] latency, HandleRequestBody, 0.0630
I0305 08:22:19.799155       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0443
I0305 08:22:19.799169       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:19.799173       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:19.799370       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:19.799418       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:19.799424       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:19.814848       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b5e78b32-7fcc-4511-b92f-b914e4a3748a"
I0305 08:22:19.863577       1 gateway.go:608] "First token received" requestID="b5e78b32-7fcc-4511-b92f-b914e4a3748a" ttft_ms=127
I0305 08:22:19.891890       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0925, numInputTokens, 7603
I0305 08:22:19.891905       1 tree.go:471] Updated node(0) last access: 150.0816 seconds
I0305 08:22:19.891912       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:19.891916       1 tree.go:471] Updated node(2) last access: 150.0816 seconds
I0305 08:22:19.891929       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:19.891932       1 tree.go:471] Updated node(21) last access: 150.0816 seconds
I0305 08:22:19.891942       1 tree.go:667] Split complete - New node(310)
I0305 08:22:19.891948       1 tree.go:668] Split complete - Child node(267)
I0305 08:22:19.891952       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0305 08:22:19.891958       1 tree.go:471] Updated node(310) last access: 150.0817 seconds
I0305 08:22:19.891963       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:22:19.891968       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 08:22:19.891974       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:22:19.891985       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:19.891992       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:19.891969793 +0000 UTC m=+150.196871890]
I0305 08:22:19.892009       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7480, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:22:19.892018       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:22:19.892113       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7480
I0305 08:22:19.892124       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:19.892134       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.892141       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.892147       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.892151       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.892157       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:19.892170       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:19.892181       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:19.892190       1 prefix_cache_and_load.go:584] latency, Route, 0.1373
I0305 08:22:19.892206       1 gateway.go:415] latency, selectTargetPod, 0.1374, target pod, 10.0.3.41:8000
I0305 08:22:19.892217       1 gateway.go:235] latency, HandleRequestBody, 0.1377
I0305 08:22:19.908786       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="05bf4c4a-335a-4a9a-a695-e1ff948a5f8b"
I0305 08:22:19.952425       1 gateway.go:608] "First token received" requestID="05bf4c4a-335a-4a9a-a695-e1ff948a5f8b" ttft_ms=197
I0305 08:22:20.023928       1 gateway.go:562] latency, 0.0001, summary, hash(request), 9a40b6d9, selectedpod, 10.0.3.30:8000, ttft, 127, tpot, 17, e2e, 287, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:20.023951       1 gateway.go:748] "Request completed" requestID="b5e78b32-7fcc-4511-b92f-b914e4a3748a" targetPod="10.0.3.30:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:20.023964       1 gateway.go:764] "HandleResponseBody completed" requestID="b5e78b32-7fcc-4511-b92f-b914e4a3748a" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:20.125494       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6597b6bb, selectedpod, 10.0.3.41:8000, ttft, 197, tpot, 19, e2e, 370, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:22:20.125516       1 gateway.go:748] "Request completed" requestID="05bf4c4a-335a-4a9a-a695-e1ff948a5f8b" targetPod="10.0.3.41:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:22:20.125527       1 gateway.go:764] "HandleResponseBody completed" requestID="05bf4c4a-335a-4a9a-a695-e1ff948a5f8b" promptTokens=7622 completionTokens=10 stream=true
I0305 08:22:20.155912       1 gateway.go:207] "Processing request" requestID="f192f715-5fb5-40c4-87fe-59bec7e92f2d"
I0305 08:22:20.155936       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f192f715-5fb5-40c4-87fe-59bec7e92f2d"
I0305 08:22:20.155945       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:20.883714       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f192f715-5fb5-40c4-87fe-59bec7e92f2d"
I0305 08:22:20.883874       1 gateway.go:207] "Processing request" requestID="07d049d8-9c4b-40f5-9960-391ef95478c7"
I0305 08:22:20.883908       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="07d049d8-9c4b-40f5-9960-391ef95478c7"
I0305 08:22:20.883916       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:20.883956       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f192f715-5fb5-40c4-87fe-59bec7e92f2d" model="qwen2-5-7b-instruct"
I0305 08:22:20.884083       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:20.884090       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:20.884097       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:20.884382       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:20.884436       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:20.884442       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:20.943600       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0591, numInputTokens, 7597
I0305 08:22:20.943626       1 tree.go:471] Updated node(0) last access: 151.1333 seconds
I0305 08:22:20.943633       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:20.943636       1 tree.go:471] Updated node(2) last access: 151.1334 seconds
I0305 08:22:20.943650       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:20.943655       1 tree.go:471] Updated node(10) last access: 151.1334 seconds
I0305 08:22:20.943659       1 tree.go:490] Partial tokens match child node(76). Continue to go deeper in the radix tree
I0305 08:22:20.943672       1 tree.go:471] Updated node(76) last access: 151.1334 seconds
I0305 08:22:20.943678       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:20.943684       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:20.943692       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:20.943699       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:20.943705       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:20.943686554 +0000 UTC m=+151.248588651]
I0305 08:22:20.943723       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7481, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:20.943730       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:20.943825       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7481
I0305 08:22:20.943836       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:20.943846       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:20.943853       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:20.943857       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:20.943863       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:20.943869       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:20.943881       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:20.943894       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:20.943904       1 prefix_cache_and_load.go:584] latency, Route, 0.0598
I0305 08:22:20.943916       1 gateway.go:415] latency, selectTargetPod, 0.0598, target pod, 10.0.0.101:8000
I0305 08:22:20.943930       1 gateway.go:235] latency, HandleRequestBody, 0.0602
I0305 08:22:20.962526       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f192f715-5fb5-40c4-87fe-59bec7e92f2d"
I0305 08:22:21.006907       1 gateway.go:608] "First token received" requestID="f192f715-5fb5-40c4-87fe-59bec7e92f2d" ttft_ms=123
I0305 08:22:21.091034       1 gateway.go:329] "-- In RequestBody processing ..." requestID="07d049d8-9c4b-40f5-9960-391ef95478c7"
I0305 08:22:21.091228       1 gateway.go:207] "Processing request" requestID="dc97349e-dbfb-446a-8803-29e858775234"
I0305 08:22:21.091254       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dc97349e-dbfb-446a-8803-29e858775234"
I0305 08:22:21.091263       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:21.091292       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="07d049d8-9c4b-40f5-9960-391ef95478c7" model="qwen2-5-7b-instruct"
I0305 08:22:21.091393       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:21.091401       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:21.091405       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:21.091648       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:21.091717       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:21.091724       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:21.150150       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0584, numInputTokens, 7601
I0305 08:22:21.150172       1 tree.go:471] Updated node(0) last access: 151.3399 seconds
I0305 08:22:21.150191       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:21.150213       1 tree.go:471] Updated node(2) last access: 151.3399 seconds
I0305 08:22:21.150239       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:21.150247       1 tree.go:471] Updated node(16) last access: 151.3400 seconds
I0305 08:22:21.150253       1 tree.go:490] Partial tokens match child node(71). Continue to go deeper in the radix tree
I0305 08:22:21.150260       1 tree.go:471] Updated node(71) last access: 151.3400 seconds
I0305 08:22:21.150266       1 tree.go:490] Partial tokens match child node(234). Continue to go deeper in the radix tree
I0305 08:22:21.150272       1 tree.go:471] Updated node(234) last access: 151.3400 seconds
I0305 08:22:21.150299       1 tree.go:667] Split complete - New node(313)
I0305 08:22:21.150306       1 tree.go:668] Split complete - Child node(17)
I0305 08:22:21.150320       1 tree.go:501] latency, splitNode, 0.0000 seconds, 111 tokens:
I0305 08:22:21.150337       1 tree.go:471] Updated node(313) last access: 151.3401 seconds
I0305 08:22:21.150347       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0305 08:22:21.150354       1 tree.go:449] latency, insertHelper, 0.0002 seconds, 7601 tokens
I0305 08:22:21.150365       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:21.150374       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 08:22:21.150379       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:21.150357323 +0000 UTC m=+151.455259425]
I0305 08:22:21.150398       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7493, Matching ratio: 0.9858, # Matched pods: 0, Matched pods: []
I0305 08:22:21.150411       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9858 > 0.5000)
I0305 08:22:21.150534       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7493
I0305 08:22:21.150546       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:21.150555       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.150559       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.150564       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.150570       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.150574       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.150582       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.150595       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.150616       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:21.150635       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:21.150656       1 prefix_cache_and_load.go:584] latency, Route, 0.0593
I0305 08:22:21.150682       1 gateway.go:415] latency, selectTargetPod, 0.0593, target pod, 10.0.1.14:8000
I0305 08:22:21.150707       1 gateway.go:235] latency, HandleRequestBody, 0.0597
I0305 08:22:21.170396       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="07d049d8-9c4b-40f5-9960-391ef95478c7"
I0305 08:22:21.179616       1 gateway.go:562] latency, 0.0001, summary, hash(request), 956641d3, selectedpod, 10.0.0.101:8000, ttft, 123, tpot, 19, e2e, 295, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:21.179641       1 gateway.go:748] "Request completed" requestID="f192f715-5fb5-40c4-87fe-59bec7e92f2d" targetPod="10.0.0.101:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:21.179651       1 gateway.go:764] "HandleResponseBody completed" requestID="f192f715-5fb5-40c4-87fe-59bec7e92f2d" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:21.206822       1 gateway.go:608] "First token received" requestID="07d049d8-9c4b-40f5-9960-391ef95478c7" ttft_ms=115
I0305 08:22:21.243535       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dc97349e-dbfb-446a-8803-29e858775234"
I0305 08:22:21.243761       1 gateway.go:207] "Processing request" requestID="62f68fcf-717a-4b13-ba21-393a8f186dde"
I0305 08:22:21.243797       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="62f68fcf-717a-4b13-ba21-393a8f186dde"
I0305 08:22:21.243801       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dc97349e-dbfb-446a-8803-29e858775234" model="qwen2-5-7b-instruct"
I0305 08:22:21.243811       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:21.243890       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:21.243897       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:21.243902       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:21.244156       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:21.244197       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:21.244203       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:21.301561       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0574, numInputTokens, 7599
I0305 08:22:21.301578       1 tree.go:471] Updated node(0) last access: 151.4913 seconds
I0305 08:22:21.301584       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:21.301588       1 tree.go:471] Updated node(2) last access: 151.4913 seconds
I0305 08:22:21.301601       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:21.301605       1 tree.go:471] Updated node(45) last access: 151.4913 seconds
I0305 08:22:21.301610       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 08:22:21.301614       1 tree.go:471] Updated node(43) last access: 151.4913 seconds
I0305 08:22:21.301618       1 tree.go:490] Partial tokens match child node(285). Continue to go deeper in the radix tree
I0305 08:22:21.301622       1 tree.go:471] Updated node(285) last access: 151.4913 seconds
I0305 08:22:21.301629       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:21.301635       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:21.301645       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:21.301653       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:21.301660       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:21.301638009 +0000 UTC m=+151.606540111]
I0305 08:22:21.301686       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7485, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:21.301695       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:21.301793       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7485
I0305 08:22:21.301823       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:21.301833       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.301838       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.301843       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.301848       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.301854       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.301860       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.301876       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:21.301887       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:21.301897       1 prefix_cache_and_load.go:584] latency, Route, 0.0580
I0305 08:22:21.301908       1 gateway.go:415] latency, selectTargetPod, 0.0580, target pod, 10.0.0.134:8000
I0305 08:22:21.301919       1 gateway.go:235] latency, HandleRequestBody, 0.0584
I0305 08:22:21.319339       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dc97349e-dbfb-446a-8803-29e858775234"
I0305 08:22:21.350790       1 gateway.go:329] "-- In RequestBody processing ..." requestID="62f68fcf-717a-4b13-ba21-393a8f186dde"
I0305 08:22:21.351048       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="62f68fcf-717a-4b13-ba21-393a8f186dde" model="qwen2-5-7b-instruct"
I0305 08:22:21.351149       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:21.351157       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:21.351160       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:21.351400       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:21.351453       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:21.351462       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:21.355585       1 gateway.go:608] "First token received" requestID="dc97349e-dbfb-446a-8803-29e858775234" ttft_ms=111
I0305 08:22:21.359850       1 gateway.go:207] "Processing request" requestID="7be9f4da-08ac-4716-8bbf-29a148ad92b0"
I0305 08:22:21.359876       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7be9f4da-08ac-4716-8bbf-29a148ad92b0"
I0305 08:22:21.359884       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:21.359890       1 gateway.go:207] "Processing request" requestID="c0f856ff-d093-4ee9-b87a-052b89ac6df2"
I0305 08:22:21.359911       1 gateway.go:207] "Processing request" requestID="1c0e2a42-c848-4c77-ae4d-8f06c60608b6"
I0305 08:22:21.359946       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1c0e2a42-c848-4c77-ae4d-8f06c60608b6"
I0305 08:22:21.359952       1 gateway.go:207] "Processing request" requestID="29d5692a-3281-4183-a8db-4f137e974e5a"
I0305 08:22:21.359974       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="29d5692a-3281-4183-a8db-4f137e974e5a"
I0305 08:22:21.359982       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:21.359955       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:21.359915       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c0f856ff-d093-4ee9-b87a-052b89ac6df2"
I0305 08:22:21.360000       1 gateway.go:230] latency, HandleRequestHeaders, 0.0001
I0305 08:22:21.379577       1 gateway.go:562] latency, 0.0001, summary, hash(request), df84980f, selectedpod, 10.0.1.14:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:21.379600       1 gateway.go:748] "Request completed" requestID="07d049d8-9c4b-40f5-9960-391ef95478c7" targetPod="10.0.1.14:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:21.379615       1 gateway.go:764] "HandleResponseBody completed" requestID="07d049d8-9c4b-40f5-9960-391ef95478c7" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:21.411891       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0604, numInputTokens, 7598
I0305 08:22:21.411913       1 tree.go:471] Updated node(0) last access: 151.6016 seconds
I0305 08:22:21.411920       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:21.411924       1 tree.go:471] Updated node(2) last access: 151.6016 seconds
I0305 08:22:21.411940       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:21.411944       1 tree.go:471] Updated node(73) last access: 151.6017 seconds
I0305 08:22:21.411954       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:22:21.411960       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 08:22:21.411971       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:21.411982       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:21.411992       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:21.411962732 +0000 UTC m=+151.716864829]
I0305 08:22:21.412009       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:22:21.412018       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:22:21.412128       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:22:21.412138       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:21.412148       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.412156       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.412162       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.412166       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.412183       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:21.412194       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:21.412207       1 prefix_cache_and_load.go:584] latency, Route, 0.0611
I0305 08:22:21.412242       1 gateway.go:415] latency, selectTargetPod, 0.0611, target pod, 10.0.0.134:8000
I0305 08:22:21.412263       1 gateway.go:235] latency, HandleRequestBody, 0.0615
I0305 08:22:21.429674       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="62f68fcf-717a-4b13-ba21-393a8f186dde"
I0305 08:22:21.462655       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7be9f4da-08ac-4716-8bbf-29a148ad92b0"
I0305 08:22:21.462889       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7be9f4da-08ac-4716-8bbf-29a148ad92b0" model="qwen2-5-7b-instruct"
I0305 08:22:21.462966       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:21.462972       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:21.462975       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:21.463139       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:21.463179       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:21.463184       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:21.473429       1 gateway.go:608] "First token received" requestID="62f68fcf-717a-4b13-ba21-393a8f186dde" ttft_ms=122
I0305 08:22:21.519311       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0561, numInputTokens, 7598
I0305 08:22:21.519337       1 tree.go:471] Updated node(0) last access: 151.7091 seconds
I0305 08:22:21.519344       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:21.519348       1 tree.go:471] Updated node(2) last access: 151.7091 seconds
I0305 08:22:21.519362       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:21.519366       1 tree.go:471] Updated node(45) last access: 151.7091 seconds
I0305 08:22:21.519371       1 tree.go:490] Partial tokens match child node(204). Continue to go deeper in the radix tree
I0305 08:22:21.519375       1 tree.go:471] Updated node(204) last access: 151.7091 seconds
I0305 08:22:21.519386       1 tree.go:667] Split complete - New node(317)
I0305 08:22:21.519390       1 tree.go:668] Split complete - Child node(205)
I0305 08:22:21.519395       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 08:22:21.519399       1 tree.go:471] Updated node(317) last access: 151.7091 seconds
I0305 08:22:21.519405       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 08:22:21.519411       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:21.519418       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:21.519424       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:21.519429       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:21.51941307 +0000 UTC m=+151.824315167]
I0305 08:22:21.519443       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7486, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 08:22:21.519452       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 08:22:21.519538       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7486
I0305 08:22:21.519549       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:21.519559       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.519564       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.519571       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.519575       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.519581       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.519586       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.519601       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:21.519612       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:21.519621       1 prefix_cache_and_load.go:584] latency, Route, 0.0567
I0305 08:22:21.519634       1 gateway.go:415] latency, selectTargetPod, 0.0567, target pod, 10.0.0.134:8000
I0305 08:22:21.519644       1 gateway.go:235] latency, HandleRequestBody, 0.0570
I0305 08:22:21.539979       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7be9f4da-08ac-4716-8bbf-29a148ad92b0"
I0305 08:22:21.572045       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1c0e2a42-c848-4c77-ae4d-8f06c60608b6"
I0305 08:22:21.572270       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1c0e2a42-c848-4c77-ae4d-8f06c60608b6" model="qwen2-5-7b-instruct"
I0305 08:22:21.572353       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:21.572360       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:21.572364       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:21.572571       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:21.572612       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:21.572617       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:21.587566       1 gateway.go:608] "First token received" requestID="7be9f4da-08ac-4716-8bbf-29a148ad92b0" ttft_ms=124
I0305 08:22:21.610011       1 gateway.go:562] latency, 0.0000, summary, hash(request), fca3135c, selectedpod, 10.0.0.134:8000, ttft, 111, tpot, 28, e2e, 366, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:21.610033       1 gateway.go:748] "Request completed" requestID="dc97349e-dbfb-446a-8803-29e858775234" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:21.610045       1 gateway.go:764] "HandleResponseBody completed" requestID="dc97349e-dbfb-446a-8803-29e858775234" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:21.629929       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0573, numInputTokens, 7597
I0305 08:22:21.629951       1 tree.go:471] Updated node(0) last access: 151.8197 seconds
I0305 08:22:21.629958       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:21.629961       1 tree.go:471] Updated node(2) last access: 151.8197 seconds
I0305 08:22:21.629974       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:21.629977       1 tree.go:471] Updated node(73) last access: 151.8197 seconds
I0305 08:22:21.629989       1 tree.go:667] Split complete - New node(319)
I0305 08:22:21.629994       1 tree.go:668] Split complete - Child node(191)
I0305 08:22:21.629999       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:21.630009       1 tree.go:471] Updated node(319) last access: 151.8197 seconds
I0305 08:22:21.630015       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:21.630020       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:21.630028       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:21.630035       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:21.630042       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:21.630023754 +0000 UTC m=+151.934925851]
I0305 08:22:21.630061       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7482, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:21.630074       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:21.630178       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7482
I0305 08:22:21.630189       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:21.630200       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.630206       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.630211       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.630216       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.630221       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.630238       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:21.630249       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:21.630261       1 prefix_cache_and_load.go:584] latency, Route, 0.0579
I0305 08:22:21.630275       1 gateway.go:415] latency, selectTargetPod, 0.0579, target pod, 10.0.0.134:8000
I0305 08:22:21.630288       1 gateway.go:235] latency, HandleRequestBody, 0.0582
I0305 08:22:21.646508       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1c0e2a42-c848-4c77-ae4d-8f06c60608b6"
I0305 08:22:21.682481       1 gateway.go:608] "First token received" requestID="1c0e2a42-c848-4c77-ae4d-8f06c60608b6" ttft_ms=110
I0305 08:22:21.692583       1 gateway.go:207] "Processing request" requestID="ead56a38-d0fb-488a-aaa2-dc91728a333d"
I0305 08:22:21.692609       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ead56a38-d0fb-488a-aaa2-dc91728a333d"
I0305 08:22:21.692618       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:21.724911       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6467654c, selectedpod, 10.0.0.134:8000, ttft, 122, tpot, 27, e2e, 374, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:21.724929       1 gateway.go:748] "Request completed" requestID="62f68fcf-717a-4b13-ba21-393a8f186dde" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:21.724940       1 gateway.go:764] "HandleResponseBody completed" requestID="62f68fcf-717a-4b13-ba21-393a8f186dde" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:21.728429       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c0f856ff-d093-4ee9-b87a-052b89ac6df2"
I0305 08:22:21.728652       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c0f856ff-d093-4ee9-b87a-052b89ac6df2" model="qwen2-5-7b-instruct"
I0305 08:22:21.728753       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:21.728760       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:21.728763       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:21.728958       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:21.728997       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:21.729003       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:21.755651       1 gateway.go:329] "-- In RequestBody processing ..." requestID="29d5692a-3281-4183-a8db-4f137e974e5a"
I0305 08:22:21.755988       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="29d5692a-3281-4183-a8db-4f137e974e5a" model="qwen2-5-7b-instruct"
I0305 08:22:21.790150       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0611, numInputTokens, 7600
I0305 08:22:21.790170       1 tree.go:471] Updated node(0) last access: 151.9799 seconds
I0305 08:22:21.790197       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:21.790202       1 tree.go:471] Updated node(2) last access: 151.9799 seconds
I0305 08:22:21.790217       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:21.790219       1 tree.go:471] Updated node(45) last access: 151.9799 seconds
I0305 08:22:21.790229       1 tree.go:667] Split complete - New node(321)
I0305 08:22:21.790232       1 tree.go:668] Split complete - Child node(204)
I0305 08:22:21.790237       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:22:21.790242       1 tree.go:471] Updated node(321) last access: 151.9800 seconds
I0305 08:22:21.790250       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:22:21.790254       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:21.790264       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:21.790273       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:21.790282       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:21.790257809 +0000 UTC m=+152.095159909]
I0305 08:22:21.790300       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7479, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:22:21.790307       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:22:21.790419       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7479
I0305 08:22:21.790431       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:21.790443       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.790449       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.790454       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.790462       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.790469       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.790483       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:21.790494       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:21.790510       1 prefix_cache_and_load.go:584] latency, Route, 0.0617
I0305 08:22:21.790532       1 gateway.go:415] latency, selectTargetPod, 0.0618, target pod, 10.0.0.134:8000
I0305 08:22:21.790545       1 gateway.go:235] latency, HandleRequestBody, 0.0621
I0305 08:22:21.790566       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0345
I0305 08:22:21.790571       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:21.790574       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:21.790768       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:21.790812       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:21.790818       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:21.808440       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c0f856ff-d093-4ee9-b87a-052b89ac6df2"
I0305 08:22:21.808547       1 gateway.go:562] latency, 0.0000, summary, hash(request), a05adb8e, selectedpod, 10.0.0.134:8000, ttft, 124, tpot, 24, e2e, 345, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:21.808573       1 gateway.go:748] "Request completed" requestID="7be9f4da-08ac-4716-8bbf-29a148ad92b0" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:21.808589       1 gateway.go:764] "HandleResponseBody completed" requestID="7be9f4da-08ac-4716-8bbf-29a148ad92b0" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:21.863557       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ead56a38-d0fb-488a-aaa2-dc91728a333d"
I0305 08:22:21.863616       1 gateway.go:207] "Processing request" requestID="d6f55a4b-732f-46d5-ba16-42139fa7cdea"
I0305 08:22:21.863680       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d6f55a4b-732f-46d5-ba16-42139fa7cdea"
I0305 08:22:21.863736       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:21.866431       1 gateway.go:608] "First token received" requestID="c0f856ff-d093-4ee9-b87a-052b89ac6df2" ttft_ms=137
I0305 08:22:21.867405       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0766, numInputTokens, 7599
I0305 08:22:21.867422       1 tree.go:471] Updated node(0) last access: 152.0571 seconds
I0305 08:22:21.867431       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:21.867437       1 tree.go:471] Updated node(2) last access: 152.0572 seconds
I0305 08:22:21.867450       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:21.867453       1 tree.go:471] Updated node(57) last access: 152.0572 seconds
I0305 08:22:21.867458       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 08:22:21.867463       1 tree.go:471] Updated node(175) last access: 152.0572 seconds
I0305 08:22:21.867466       1 tree.go:490] Partial tokens match child node(179). Continue to go deeper in the radix tree
I0305 08:22:21.867469       1 tree.go:471] Updated node(179) last access: 152.0572 seconds
I0305 08:22:21.867475       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:21.867480       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:21.867487       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:21.867495       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:21.867500       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:21.867481748 +0000 UTC m=+152.172383845]
I0305 08:22:21.867521       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7484, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:21.867532       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:21.867613       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7484
I0305 08:22:21.867626       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:21.867636       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.867642       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.867648       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.867654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.867658       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.867673       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.867688       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:21.867699       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:21.867711       1 prefix_cache_and_load.go:584] latency, Route, 0.1116
I0305 08:22:21.867728       1 gateway.go:415] latency, selectTargetPod, 0.1116, target pod, 10.0.1.28:8000
I0305 08:22:21.867741       1 gateway.go:235] latency, HandleRequestBody, 0.1121
I0305 08:22:21.873364       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ead56a38-d0fb-488a-aaa2-dc91728a333d" model="qwen2-5-7b-instruct"
I0305 08:22:21.873441       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:21.873450       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:21.873454       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:21.873673       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:21.873727       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:21.873734       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:21.886465       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="29d5692a-3281-4183-a8db-4f137e974e5a"
I0305 08:22:21.907920       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0f49b66d, selectedpod, 10.0.0.134:8000, ttft, 110, tpot, 25, e2e, 335, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:21.907943       1 gateway.go:748] "Request completed" requestID="1c0e2a42-c848-4c77-ae4d-8f06c60608b6" targetPod="10.0.0.134:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:21.907957       1 gateway.go:764] "HandleResponseBody completed" requestID="1c0e2a42-c848-4c77-ae4d-8f06c60608b6" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:21.922895       1 gateway.go:608] "First token received" requestID="29d5692a-3281-4183-a8db-4f137e974e5a" ttft_ms=167
I0305 08:22:21.932279       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0585, numInputTokens, 7596
I0305 08:22:21.932295       1 tree.go:471] Updated node(0) last access: 152.1220 seconds
I0305 08:22:21.932301       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:21.932305       1 tree.go:471] Updated node(2) last access: 152.1220 seconds
I0305 08:22:21.932321       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:21.932333       1 tree.go:471] Updated node(24) last access: 152.1220 seconds
I0305 08:22:21.932345       1 tree.go:667] Split complete - New node(324)
I0305 08:22:21.932350       1 tree.go:668] Split complete - Child node(148)
I0305 08:22:21.932355       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:21.932359       1 tree.go:471] Updated node(324) last access: 152.1221 seconds
I0305 08:22:21.932365       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:21.932370       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:22:21.932377       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:21.932383       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:21.932389       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:21.932372832 +0000 UTC m=+152.237274929]
I0305 08:22:21.932403       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7480, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:21.932412       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:21.932495       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7480
I0305 08:22:21.932505       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:21.932515       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.932523       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.932528       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.932534       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.932540       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:21.932552       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:21.932562       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:21.932571       1 prefix_cache_and_load.go:584] latency, Route, 0.0591
I0305 08:22:21.932582       1 gateway.go:415] latency, selectTargetPod, 0.0591, target pod, 10.0.3.30:8000
I0305 08:22:21.932591       1 gateway.go:235] latency, HandleRequestBody, 0.0690
I0305 08:22:21.948396       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ead56a38-d0fb-488a-aaa2-dc91728a333d"
I0305 08:22:21.966995       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d6f55a4b-732f-46d5-ba16-42139fa7cdea"
I0305 08:22:21.967170       1 gateway.go:207] "Processing request" requestID="92c2bd6e-de5b-4bc5-9be8-175c73ce4dab"
I0305 08:22:21.967199       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="92c2bd6e-de5b-4bc5-9be8-175c73ce4dab"
I0305 08:22:21.967211       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:21.967256       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d6f55a4b-732f-46d5-ba16-42139fa7cdea" model="qwen2-5-7b-instruct"
I0305 08:22:21.967356       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:21.967363       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:21.967366       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:21.967602       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:21.967648       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:21.967654       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:21.984264       1 gateway.go:608] "First token received" requestID="ead56a38-d0fb-488a-aaa2-dc91728a333d" ttft_ms=120
I0305 08:22:22.026711       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0590, numInputTokens, 7600
I0305 08:22:22.026734       1 tree.go:471] Updated node(0) last access: 152.2164 seconds
I0305 08:22:22.026740       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:22.026744       1 tree.go:471] Updated node(2) last access: 152.2165 seconds
I0305 08:22:22.026756       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:22.026760       1 tree.go:471] Updated node(57) last access: 152.2165 seconds
I0305 08:22:22.026764       1 tree.go:490] Partial tokens match child node(221). Continue to go deeper in the radix tree
I0305 08:22:22.026767       1 tree.go:471] Updated node(221) last access: 152.2165 seconds
I0305 08:22:22.026774       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 08:22:22.026779       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:22:22.026792       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:22.026799       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:22.026805       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:22.026781566 +0000 UTC m=+152.331683663]
I0305 08:22:22.026821       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7489, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 08:22:22.026830       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 08:22:22.026906       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7489
I0305 08:22:22.026916       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:22.026925       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.026932       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.026937       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.026941       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.026947       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.026959       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:22.026970       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:22.026981       1 prefix_cache_and_load.go:584] latency, Route, 0.0596
I0305 08:22:22.026994       1 gateway.go:415] latency, selectTargetPod, 0.0596, target pod, 10.0.1.28:8000
I0305 08:22:22.027006       1 gateway.go:235] latency, HandleRequestBody, 0.0600
I0305 08:22:22.045584       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d6f55a4b-732f-46d5-ba16-42139fa7cdea"
I0305 08:22:22.045967       1 gateway.go:562] latency, 0.0000, summary, hash(request), 084b2d87, selectedpod, 10.0.0.134:8000, ttft, 137, tpot, 19, e2e, 317, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:22.045990       1 gateway.go:748] "Request completed" requestID="c0f856ff-d093-4ee9-b87a-052b89ac6df2" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:22.046004       1 gateway.go:764] "HandleResponseBody completed" requestID="c0f856ff-d093-4ee9-b87a-052b89ac6df2" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:22.089558       1 gateway.go:608] "First token received" requestID="d6f55a4b-732f-46d5-ba16-42139fa7cdea" ttft_ms=122
I0305 08:22:22.092703       1 gateway.go:329] "-- In RequestBody processing ..." requestID="92c2bd6e-de5b-4bc5-9be8-175c73ce4dab"
I0305 08:22:22.092950       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="92c2bd6e-de5b-4bc5-9be8-175c73ce4dab" model="qwen2-5-7b-instruct"
I0305 08:22:22.093042       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:22.093050       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:22.093055       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:22.093334       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:22.093385       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:22.093391       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:22.110855       1 gateway.go:207] "Processing request" requestID="c57ab6b5-5195-4b40-86b2-df3473c41c4a"
I0305 08:22:22.110885       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c57ab6b5-5195-4b40-86b2-df3473c41c4a"
I0305 08:22:22.110895       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:22.130023       1 gateway.go:562] latency, 0.0001, summary, hash(request), 9f056416, selectedpod, 10.0.1.28:8000, ttft, 167, tpot, 23, e2e, 374, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:22.130045       1 gateway.go:748] "Request completed" requestID="29d5692a-3281-4183-a8db-4f137e974e5a" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:22.130059       1 gateway.go:764] "HandleResponseBody completed" requestID="29d5692a-3281-4183-a8db-4f137e974e5a" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:22.151691       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0583, numInputTokens, 7604
I0305 08:22:22.151709       1 tree.go:471] Updated node(0) last access: 152.3414 seconds
I0305 08:22:22.151716       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:22.151719       1 tree.go:471] Updated node(2) last access: 152.3414 seconds
I0305 08:22:22.151732       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:22.151735       1 tree.go:471] Updated node(24) last access: 152.3415 seconds
I0305 08:22:22.151743       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 08:22:22.151749       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 08:22:22.151756       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 08:22:22.151762       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:22.151769       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:22.151751367 +0000 UTC m=+152.456653464]
I0305 08:22:22.151786       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 08:22:22.151794       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 08:22:22.151890       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:22:22.151900       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:22.151909       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.151915       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.151921       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.151930       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.151942       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:22.151953       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:22.151966       1 prefix_cache_and_load.go:584] latency, Route, 0.0589
I0305 08:22:22.151976       1 gateway.go:415] latency, selectTargetPod, 0.0589, target pod, 10.0.3.30:8000
I0305 08:22:22.151989       1 gateway.go:235] latency, HandleRequestBody, 0.0593
I0305 08:22:22.157287       1 gateway.go:562] latency, 0.0000, summary, hash(request), 00d585ee, selectedpod, 10.0.3.30:8000, ttft, 120, tpot, 19, e2e, 293, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:22:22.157305       1 gateway.go:748] "Request completed" requestID="ead56a38-d0fb-488a-aaa2-dc91728a333d" targetPod="10.0.3.30:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:22:22.157316       1 gateway.go:764] "HandleResponseBody completed" requestID="ead56a38-d0fb-488a-aaa2-dc91728a333d" promptTokens=7615 completionTokens=10 stream=true
I0305 08:22:22.167196       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="92c2bd6e-de5b-4bc5-9be8-175c73ce4dab"
I0305 08:22:22.216302       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c57ab6b5-5195-4b40-86b2-df3473c41c4a"
I0305 08:22:22.216555       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c57ab6b5-5195-4b40-86b2-df3473c41c4a" model="qwen2-5-7b-instruct"
I0305 08:22:22.216631       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:22.216639       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:22.216644       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:22.216907       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:22.216949       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:22.216956       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:22.217184       1 gateway.go:608] "First token received" requestID="92c2bd6e-de5b-4bc5-9be8-175c73ce4dab" ttft_ms=124
I0305 08:22:22.220922       1 gateway.go:207] "Processing request" requestID="30553960-f0f7-41e5-bd70-fc4779261814"
I0305 08:22:22.220951       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="30553960-f0f7-41e5-bd70-fc4779261814"
I0305 08:22:22.220960       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:22.265387       1 gateway.go:562] latency, 0.0002, summary, hash(request), 9535754c, selectedpod, 10.0.1.28:8000, ttft, 122, tpot, 19, e2e, 298, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:22.265548       1 gateway.go:748] "Request completed" requestID="d6f55a4b-732f-46d5-ba16-42139fa7cdea" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:22.265582       1 gateway.go:764] "HandleResponseBody completed" requestID="d6f55a4b-732f-46d5-ba16-42139fa7cdea" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:22.277891       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0609, numInputTokens, 7602
I0305 08:22:22.277910       1 tree.go:471] Updated node(0) last access: 152.4676 seconds
I0305 08:22:22.277917       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:22.277921       1 tree.go:471] Updated node(2) last access: 152.4676 seconds
I0305 08:22:22.277935       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:22.277939       1 tree.go:471] Updated node(10) last access: 152.4677 seconds
I0305 08:22:22.277943       1 tree.go:490] Partial tokens match child node(39). Continue to go deeper in the radix tree
I0305 08:22:22.277947       1 tree.go:471] Updated node(39) last access: 152.4677 seconds
I0305 08:22:22.277954       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:22.277959       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:22.277968       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:22.277977       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:22.277982       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:22.277962606 +0000 UTC m=+152.582864703]
I0305 08:22:22.277999       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7485, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:22.278007       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:22.278096       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7485
I0305 08:22:22.278108       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:22.278118       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.278124       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.278127       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.278130       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.278134       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.278149       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:22.278159       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:22.278171       1 prefix_cache_and_load.go:584] latency, Route, 0.0615
I0305 08:22:22.278182       1 gateway.go:415] latency, selectTargetPod, 0.0616, target pod, 10.0.0.101:8000
I0305 08:22:22.278196       1 gateway.go:235] latency, HandleRequestBody, 0.0619
I0305 08:22:22.295857       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c57ab6b5-5195-4b40-86b2-df3473c41c4a"
I0305 08:22:22.310491       1 gateway.go:329] "-- In RequestBody processing ..." requestID="30553960-f0f7-41e5-bd70-fc4779261814"
I0305 08:22:22.310739       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="30553960-f0f7-41e5-bd70-fc4779261814" model="qwen2-5-7b-instruct"
I0305 08:22:22.310822       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:22.310829       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:22.310832       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:22.311081       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:22.311125       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:22.311131       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:22.331606       1 gateway.go:608] "First token received" requestID="c57ab6b5-5195-4b40-86b2-df3473c41c4a" ttft_ms=115
I0305 08:22:22.369933       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0588, numInputTokens, 7599
I0305 08:22:22.369951       1 tree.go:471] Updated node(0) last access: 152.5597 seconds
I0305 08:22:22.369957       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:22.369961       1 tree.go:471] Updated node(2) last access: 152.5597 seconds
I0305 08:22:22.369974       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:22.369978       1 tree.go:471] Updated node(28) last access: 152.5597 seconds
I0305 08:22:22.369987       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:22:22.369993       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:22:22.370005       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:22.370014       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:22.370024       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:22.369997784 +0000 UTC m=+152.674899884]
I0305 08:22:22.370050       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:22:22.370063       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:22:22.370174       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7478
I0305 08:22:22.370186       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:22.370197       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.370205       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.370214       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.370222       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.370235       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:22.370246       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:22.370256       1 prefix_cache_and_load.go:584] latency, Route, 0.0594
I0305 08:22:22.370273       1 gateway.go:415] latency, selectTargetPod, 0.0595, target pod, 10.0.0.39:8000
I0305 08:22:22.370289       1 gateway.go:235] latency, HandleRequestBody, 0.0598
I0305 08:22:22.388110       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="30553960-f0f7-41e5-bd70-fc4779261814"
I0305 08:22:22.390361       1 gateway.go:562] latency, 0.0001, summary, hash(request), 753b638d, selectedpod, 10.0.3.30:8000, ttft, 124, tpot, 19, e2e, 297, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 08:22:22.390383       1 gateway.go:748] "Request completed" requestID="92c2bd6e-de5b-4bc5-9be8-175c73ce4dab" targetPod="10.0.3.30:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 08:22:22.390395       1 gateway.go:764] "HandleResponseBody completed" requestID="92c2bd6e-de5b-4bc5-9be8-175c73ce4dab" promptTokens=7623 completionTokens=10 stream=true
I0305 08:22:22.431846       1 gateway.go:608] "First token received" requestID="30553960-f0f7-41e5-bd70-fc4779261814" ttft_ms=121
I0305 08:22:22.469830       1 gateway.go:207] "Processing request" requestID="cf2d4b44-f021-4e9f-aa36-792b68b43b51"
I0305 08:22:22.469867       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cf2d4b44-f021-4e9f-aa36-792b68b43b51"
I0305 08:22:22.469878       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:22.504633       1 gateway.go:562] latency, 0.0001, summary, hash(request), cb96da21, selectedpod, 10.0.0.101:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:22.504649       1 gateway.go:748] "Request completed" requestID="c57ab6b5-5195-4b40-86b2-df3473c41c4a" targetPod="10.0.0.101:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:22.504660       1 gateway.go:764] "HandleResponseBody completed" requestID="c57ab6b5-5195-4b40-86b2-df3473c41c4a" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:22.572900       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cf2d4b44-f021-4e9f-aa36-792b68b43b51"
I0305 08:22:22.573152       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cf2d4b44-f021-4e9f-aa36-792b68b43b51" model="qwen2-5-7b-instruct"
I0305 08:22:22.573237       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:22.573243       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:22.573247       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:22.573511       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:22.573555       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:22.573561       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:22.582264       1 gateway.go:207] "Processing request" requestID="b506277c-bd43-492d-9d4d-d8c189f6b677"
I0305 08:22:22.582320       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b506277c-bd43-492d-9d4d-d8c189f6b677"
I0305 08:22:22.582342       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:22.604497       1 gateway.go:562] latency, 0.0001, summary, hash(request), b398fcb2, selectedpod, 10.0.0.39:8000, ttft, 121, tpot, 19, e2e, 293, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:22.604518       1 gateway.go:748] "Request completed" requestID="30553960-f0f7-41e5-bd70-fc4779261814" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:22.604530       1 gateway.go:764] "HandleResponseBody completed" requestID="30553960-f0f7-41e5-bd70-fc4779261814" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:22.633908       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0603, numInputTokens, 7602
I0305 08:22:22.633926       1 tree.go:471] Updated node(0) last access: 152.8236 seconds
I0305 08:22:22.633933       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:22.633939       1 tree.go:471] Updated node(2) last access: 152.8237 seconds
I0305 08:22:22.633955       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:22.633959       1 tree.go:471] Updated node(24) last access: 152.8237 seconds
I0305 08:22:22.633963       1 tree.go:490] Partial tokens match child node(215). Continue to go deeper in the radix tree
I0305 08:22:22.633966       1 tree.go:471] Updated node(215) last access: 152.8237 seconds
I0305 08:22:22.633970       1 tree.go:490] Partial tokens match child node(278). Continue to go deeper in the radix tree
I0305 08:22:22.633975       1 tree.go:471] Updated node(278) last access: 152.8237 seconds
I0305 08:22:22.633987       1 tree.go:667] Split complete - New node(330)
I0305 08:22:22.633993       1 tree.go:668] Split complete - Child node(216)
I0305 08:22:22.633999       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:22.634008       1 tree.go:471] Updated node(330) last access: 152.8237 seconds
I0305 08:22:22.634017       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:22.634023       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:22.634034       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:22.634045       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:22.634052       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:22.634026008 +0000 UTC m=+152.938928116]
I0305 08:22:22.634071       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7486, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:22.634079       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:22.634188       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7486
I0305 08:22:22.634207       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:22.634222       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.634233       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.634240       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.634250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.634258       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.634264       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.634271       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.634287       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:22.634298       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:22.634316       1 prefix_cache_and_load.go:584] latency, Route, 0.0611
I0305 08:22:22.634340       1 gateway.go:415] latency, selectTargetPod, 0.0611, target pod, 10.0.3.30:8000
I0305 08:22:22.634358       1 gateway.go:235] latency, HandleRequestBody, 0.0615
I0305 08:22:22.649829       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cf2d4b44-f021-4e9f-aa36-792b68b43b51"
I0305 08:22:22.688571       1 gateway.go:608] "First token received" requestID="cf2d4b44-f021-4e9f-aa36-792b68b43b51" ttft_ms=115
I0305 08:22:22.858604       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6139fd6c, selectedpod, 10.0.3.30:8000, ttft, 115, tpot, 18, e2e, 285, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:22.858626       1 gateway.go:748] "Request completed" requestID="cf2d4b44-f021-4e9f-aa36-792b68b43b51" targetPod="10.0.3.30:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:22.858638       1 gateway.go:764] "HandleResponseBody completed" requestID="cf2d4b44-f021-4e9f-aa36-792b68b43b51" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:22.937472       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b506277c-bd43-492d-9d4d-d8c189f6b677"
I0305 08:22:22.937777       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b506277c-bd43-492d-9d4d-d8c189f6b677" model="qwen2-5-7b-instruct"
I0305 08:22:22.937927       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:22.937937       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:22.937941       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:22.938225       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:22.938280       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:22.938287       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:22.996669       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0584, numInputTokens, 7595
I0305 08:22:22.996686       1 tree.go:471] Updated node(0) last access: 153.1864 seconds
I0305 08:22:22.996692       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:22.996696       1 tree.go:471] Updated node(2) last access: 153.1864 seconds
I0305 08:22:22.996708       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:22.996713       1 tree.go:471] Updated node(73) last access: 153.1864 seconds
I0305 08:22:22.996727       1 tree.go:667] Split complete - New node(332)
I0305 08:22:22.996733       1 tree.go:668] Split complete - Child node(102)
I0305 08:22:22.996741       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:22:22.996748       1 tree.go:471] Updated node(332) last access: 153.1865 seconds
I0305 08:22:22.996757       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 105 tokens:
I0305 08:22:22.996761       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 08:22:22.996771       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 08:22:22.996779       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:22.996784       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:22.996765266 +0000 UTC m=+153.301667363]
I0305 08:22:22.996801       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7490, Matching ratio: 0.9862, # Matched pods: 0, Matched pods: []
I0305 08:22:22.996810       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9862 > 0.5000)
I0305 08:22:22.996921       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7490
I0305 08:22:22.996932       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:22.996942       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.996949       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.996957       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.996968       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.996975       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:22.996988       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:22.996998       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:22.997007       1 prefix_cache_and_load.go:584] latency, Route, 0.0591
I0305 08:22:22.997019       1 gateway.go:415] latency, selectTargetPod, 0.0591, target pod, 10.0.0.134:8000
I0305 08:22:22.997050       1 gateway.go:235] latency, HandleRequestBody, 0.0596
I0305 08:22:23.014413       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b506277c-bd43-492d-9d4d-d8c189f6b677"
I0305 08:22:23.050815       1 gateway.go:608] "First token received" requestID="b506277c-bd43-492d-9d4d-d8c189f6b677" ttft_ms=113
I0305 08:22:23.145848       1 gateway.go:207] "Processing request" requestID="ffd91e2b-a1f9-4788-afc5-7216faa0b464"
I0305 08:22:23.145880       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ffd91e2b-a1f9-4788-afc5-7216faa0b464"
I0305 08:22:23.145889       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:23.224217       1 gateway.go:562] latency, 0.0002, summary, hash(request), 80ff0963, selectedpod, 10.0.0.134:8000, ttft, 113, tpot, 19, e2e, 286, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 08:22:23.224252       1 gateway.go:748] "Request completed" requestID="b506277c-bd43-492d-9d4d-d8c189f6b677" targetPod="10.0.0.134:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 08:22:23.224275       1 gateway.go:764] "HandleResponseBody completed" requestID="b506277c-bd43-492d-9d4d-d8c189f6b677" promptTokens=7614 completionTokens=10 stream=true
I0305 08:22:23.574441       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ffd91e2b-a1f9-4788-afc5-7216faa0b464"
I0305 08:22:23.574610       1 gateway.go:207] "Processing request" requestID="3c210654-99b1-4892-982d-ac9570ee517a"
I0305 08:22:23.574652       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3c210654-99b1-4892-982d-ac9570ee517a"
I0305 08:22:23.574672       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:23.574697       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ffd91e2b-a1f9-4788-afc5-7216faa0b464" model="qwen2-5-7b-instruct"
I0305 08:22:23.574791       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:23.574798       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:23.574802       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:23.575090       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:23.575135       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:23.575141       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:23.634658       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0595, numInputTokens, 7599
I0305 08:22:23.634697       1 tree.go:471] Updated node(0) last access: 153.8244 seconds
I0305 08:22:23.634708       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:23.634713       1 tree.go:471] Updated node(2) last access: 153.8244 seconds
I0305 08:22:23.634734       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:23.634739       1 tree.go:471] Updated node(73) last access: 153.8245 seconds
I0305 08:22:23.634761       1 tree.go:667] Split complete - New node(334)
I0305 08:22:23.634768       1 tree.go:668] Split complete - Child node(263)
I0305 08:22:23.634777       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:22:23.634787       1 tree.go:471] Updated node(334) last access: 153.8245 seconds
I0305 08:22:23.634796       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 08:22:23.634804       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:23.634817       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:23.634827       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:23.634839       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:23.634808936 +0000 UTC m=+153.939711042]
I0305 08:22:23.634869       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7490, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 08:22:23.634884       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 08:22:23.635036       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7490
I0305 08:22:23.635055       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 08:22:23.635073       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:23.635086       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:23.635092       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:23.635100       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:23.635109       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:23.635135       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:23.635156       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:23.635176       1 prefix_cache_and_load.go:584] latency, Route, 0.0604
I0305 08:22:23.635197       1 gateway.go:415] latency, selectTargetPod, 0.0604, target pod, 10.0.0.134:8000
I0305 08:22:23.635218       1 gateway.go:235] latency, HandleRequestBody, 0.0608
I0305 08:22:23.655536       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ffd91e2b-a1f9-4788-afc5-7216faa0b464"
I0305 08:22:23.690704       1 gateway.go:608] "First token received" requestID="ffd91e2b-a1f9-4788-afc5-7216faa0b464" ttft_ms=116
I0305 08:22:23.787074       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3c210654-99b1-4892-982d-ac9570ee517a"
I0305 08:22:23.787300       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3c210654-99b1-4892-982d-ac9570ee517a" model="qwen2-5-7b-instruct"
I0305 08:22:23.787386       1 gateway.go:207] "Processing request" requestID="27a9404e-1e5c-4923-9a99-2152f3b084f6"
I0305 08:22:23.787391       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:23.787398       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:23.787402       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:23.787417       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="27a9404e-1e5c-4923-9a99-2152f3b084f6"
I0305 08:22:23.787426       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:23.787707       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:23.787757       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:23.787763       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:23.847403       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0596, numInputTokens, 7599
I0305 08:22:23.847426       1 tree.go:471] Updated node(0) last access: 154.0371 seconds
I0305 08:22:23.847432       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:23.847436       1 tree.go:471] Updated node(2) last access: 154.0372 seconds
I0305 08:22:23.847449       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:23.847453       1 tree.go:471] Updated node(45) last access: 154.0372 seconds
I0305 08:22:23.847458       1 tree.go:490] Partial tokens match child node(296). Continue to go deeper in the radix tree
I0305 08:22:23.847462       1 tree.go:471] Updated node(296) last access: 154.0372 seconds
I0305 08:22:23.847469       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:23.847474       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:23.847482       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:23.847490       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:23.847497       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:23.847476649 +0000 UTC m=+154.152378746]
I0305 08:22:23.847514       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:23.847523       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:23.847627       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7483
I0305 08:22:23.847638       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:23.847647       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:23.847654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:23.847659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:23.847675       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:23.847684       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:23.847696       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:23.847708       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:23.847722       1 prefix_cache_and_load.go:584] latency, Route, 0.0603
I0305 08:22:23.847738       1 gateway.go:415] latency, selectTargetPod, 0.0603, target pod, 10.0.0.134:8000
I0305 08:22:23.847751       1 gateway.go:235] latency, HandleRequestBody, 0.0607
I0305 08:22:23.864985       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3c210654-99b1-4892-982d-ac9570ee517a"
I0305 08:22:23.865162       1 gateway.go:562] latency, 0.0000, summary, hash(request), f25531ca, selectedpod, 10.0.0.134:8000, ttft, 116, tpot, 19, e2e, 290, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:23.865184       1 gateway.go:748] "Request completed" requestID="ffd91e2b-a1f9-4788-afc5-7216faa0b464" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:23.865198       1 gateway.go:764] "HandleResponseBody completed" requestID="ffd91e2b-a1f9-4788-afc5-7216faa0b464" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:23.923358       1 gateway.go:608] "First token received" requestID="3c210654-99b1-4892-982d-ac9570ee517a" ttft_ms=136
I0305 08:22:23.991728       1 gateway.go:329] "-- In RequestBody processing ..." requestID="27a9404e-1e5c-4923-9a99-2152f3b084f6"
I0305 08:22:23.991924       1 gateway.go:207] "Processing request" requestID="41f0cc56-0cf9-4f67-9bce-67d5a2a16367"
I0305 08:22:23.991951       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="41f0cc56-0cf9-4f67-9bce-67d5a2a16367"
I0305 08:22:23.991957       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="27a9404e-1e5c-4923-9a99-2152f3b084f6" model="qwen2-5-7b-instruct"
I0305 08:22:23.991960       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:23.992054       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:23.992060       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:23.992066       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:23.992383       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:23.992438       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:23.992446       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:24.049870       1 gateway.go:329] "-- In RequestBody processing ..." requestID="41f0cc56-0cf9-4f67-9bce-67d5a2a16367"
I0305 08:22:24.050098       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="41f0cc56-0cf9-4f67-9bce-67d5a2a16367" model="qwen2-5-7b-instruct"
I0305 08:22:24.054970       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0625, numInputTokens, 7599
I0305 08:22:24.054989       1 tree.go:471] Updated node(0) last access: 154.2447 seconds
I0305 08:22:24.054998       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:24.055004       1 tree.go:471] Updated node(2) last access: 154.2447 seconds
I0305 08:22:24.055017       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:24.055020       1 tree.go:471] Updated node(57) last access: 154.2447 seconds
I0305 08:22:24.055024       1 tree.go:490] Partial tokens match child node(221). Continue to go deeper in the radix tree
I0305 08:22:24.055027       1 tree.go:471] Updated node(221) last access: 154.2447 seconds
I0305 08:22:24.055033       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 08:22:24.055039       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:24.055046       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:24.055053       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:24.055059       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:24.055040665 +0000 UTC m=+154.359942762]
I0305 08:22:24.055081       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7489, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 08:22:24.055092       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 08:22:24.055182       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7489
I0305 08:22:24.055194       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:24.055205       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.055212       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.055217       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.055221       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.055227       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.055238       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:24.055251       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:24.055261       1 prefix_cache_and_load.go:584] latency, Route, 0.0632
I0305 08:22:24.055281       1 gateway.go:415] latency, selectTargetPod, 0.0632, target pod, 10.0.1.28:8000
I0305 08:22:24.055297       1 gateway.go:235] latency, HandleRequestBody, 0.0636
I0305 08:22:24.055323       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0051
I0305 08:22:24.055339       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:24.055342       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:24.055526       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:24.055572       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:24.055578       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:24.074132       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="27a9404e-1e5c-4923-9a99-2152f3b084f6"
I0305 08:22:24.096157       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7e6a5ef0, selectedpod, 10.0.0.134:8000, ttft, 136, tpot, 19, e2e, 309, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:24.096177       1 gateway.go:748] "Request completed" requestID="3c210654-99b1-4892-982d-ac9570ee517a" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:24.096188       1 gateway.go:764] "HandleResponseBody completed" requestID="3c210654-99b1-4892-982d-ac9570ee517a" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:24.110427       1 gateway.go:608] "First token received" requestID="27a9404e-1e5c-4923-9a99-2152f3b084f6" ttft_ms=118
I0305 08:22:24.111942       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0564, numInputTokens, 7602
I0305 08:22:24.111960       1 tree.go:471] Updated node(0) last access: 154.3017 seconds
I0305 08:22:24.111966       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:24.111974       1 tree.go:471] Updated node(2) last access: 154.3017 seconds
I0305 08:22:24.111988       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:24.111991       1 tree.go:471] Updated node(10) last access: 154.3017 seconds
I0305 08:22:24.111998       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 08:22:24.112004       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 08:22:24.112013       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:24.112020       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:24.112028       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:24.112006337 +0000 UTC m=+154.416908434]
I0305 08:22:24.112045       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 08:22:24.112054       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 08:22:24.112146       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7478
I0305 08:22:24.112156       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:24.112168       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.112175       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.112180       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.112184       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.112196       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:24.112207       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:24.112220       1 prefix_cache_and_load.go:584] latency, Route, 0.0620
I0305 08:22:24.112231       1 gateway.go:415] latency, selectTargetPod, 0.0621, target pod, 10.0.0.101:8000
I0305 08:22:24.112242       1 gateway.go:235] latency, HandleRequestBody, 0.0624
I0305 08:22:24.129694       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="41f0cc56-0cf9-4f67-9bce-67d5a2a16367"
I0305 08:22:24.173510       1 gateway.go:608] "First token received" requestID="41f0cc56-0cf9-4f67-9bce-67d5a2a16367" ttft_ms=123
I0305 08:22:24.252884       1 gateway.go:207] "Processing request" requestID="5fd7bea1-e97f-47be-afcb-ff6f899f8d80"
I0305 08:22:24.252914       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5fd7bea1-e97f-47be-afcb-ff6f899f8d80"
I0305 08:22:24.252922       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:24.283401       1 gateway.go:562] latency, 0.0000, summary, hash(request), 30e705c5, selectedpod, 10.0.1.28:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:24.283421       1 gateway.go:748] "Request completed" requestID="27a9404e-1e5c-4923-9a99-2152f3b084f6" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:24.283434       1 gateway.go:764] "HandleResponseBody completed" requestID="27a9404e-1e5c-4923-9a99-2152f3b084f6" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:24.337753       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5fd7bea1-e97f-47be-afcb-ff6f899f8d80"
I0305 08:22:24.338040       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5fd7bea1-e97f-47be-afcb-ff6f899f8d80" model="qwen2-5-7b-instruct"
I0305 08:22:24.338160       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:24.338170       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:24.338173       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:24.338472       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:24.338545       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:24.338556       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:24.346360       1 gateway.go:562] latency, 0.0001, summary, hash(request), d99c6fba, selectedpod, 10.0.0.101:8000, ttft, 123, tpot, 19, e2e, 296, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:24.346383       1 gateway.go:748] "Request completed" requestID="41f0cc56-0cf9-4f67-9bce-67d5a2a16367" targetPod="10.0.0.101:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:24.346399       1 gateway.go:764] "HandleResponseBody completed" requestID="41f0cc56-0cf9-4f67-9bce-67d5a2a16367" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:24.348742       1 gateway.go:207] "Processing request" requestID="5fa8d00d-caff-4a14-9b4d-cc482b785a75"
I0305 08:22:24.348815       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5fa8d00d-caff-4a14-9b4d-cc482b785a75"
I0305 08:22:24.348827       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:24.399832       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0613, numInputTokens, 7600
I0305 08:22:24.399852       1 tree.go:471] Updated node(0) last access: 154.5896 seconds
I0305 08:22:24.399858       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:24.399862       1 tree.go:471] Updated node(2) last access: 154.5896 seconds
I0305 08:22:24.399875       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:24.399878       1 tree.go:471] Updated node(10) last access: 154.5896 seconds
I0305 08:22:24.399886       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:22:24.399893       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:22:24.399900       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:24.399907       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:24.399914       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:24.399895188 +0000 UTC m=+154.704797285]
I0305 08:22:24.399932       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:22:24.399942       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:22:24.400034       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7478
I0305 08:22:24.400045       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:24.400054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.400061       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.400066       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.400071       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.400083       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:24.400093       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:24.400106       1 prefix_cache_and_load.go:584] latency, Route, 0.0619
I0305 08:22:24.400115       1 gateway.go:415] latency, selectTargetPod, 0.0620, target pod, 10.0.0.101:8000
I0305 08:22:24.400128       1 gateway.go:235] latency, HandleRequestBody, 0.0624
I0305 08:22:24.418367       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5fd7bea1-e97f-47be-afcb-ff6f899f8d80"
I0305 08:22:24.444677       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5fa8d00d-caff-4a14-9b4d-cc482b785a75"
I0305 08:22:24.444922       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5fa8d00d-caff-4a14-9b4d-cc482b785a75" model="qwen2-5-7b-instruct"
I0305 08:22:24.445002       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:24.445009       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:24.445013       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:24.445256       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:24.445301       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:24.445307       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:24.453348       1 gateway.go:207] "Processing request" requestID="1d7e3faa-4367-4a7c-8d33-b8896885af6d"
I0305 08:22:24.453380       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1d7e3faa-4367-4a7c-8d33-b8896885af6d"
I0305 08:22:24.453388       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:24.463270       1 gateway.go:608] "First token received" requestID="5fd7bea1-e97f-47be-afcb-ff6f899f8d80" ttft_ms=125
I0305 08:22:24.501602       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0563, numInputTokens, 7602
I0305 08:22:24.501622       1 tree.go:471] Updated node(0) last access: 154.6913 seconds
I0305 08:22:24.501628       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:24.501632       1 tree.go:471] Updated node(2) last access: 154.6913 seconds
I0305 08:22:24.501646       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:24.501649       1 tree.go:471] Updated node(45) last access: 154.6914 seconds
I0305 08:22:24.501659       1 tree.go:667] Split complete - New node(340)
I0305 08:22:24.501673       1 tree.go:668] Split complete - Child node(46)
I0305 08:22:24.501678       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:22:24.501684       1 tree.go:471] Updated node(340) last access: 154.6914 seconds
I0305 08:22:24.501690       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:24.501695       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:24.501702       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:24.501709       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:24.501715       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:24.501697262 +0000 UTC m=+154.806599359]
I0305 08:22:24.501731       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7486, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:24.501739       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:24.501821       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7486
I0305 08:22:24.501832       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:24.501842       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.501847       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.501851       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.501857       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.501862       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.501872       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:24.501883       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:24.501895       1 prefix_cache_and_load.go:584] latency, Route, 0.0569
I0305 08:22:24.501906       1 gateway.go:415] latency, selectTargetPod, 0.0569, target pod, 10.0.0.134:8000
I0305 08:22:24.501919       1 gateway.go:235] latency, HandleRequestBody, 0.0572
I0305 08:22:24.518355       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5fa8d00d-caff-4a14-9b4d-cc482b785a75"
I0305 08:22:24.553736       1 gateway.go:608] "First token received" requestID="5fa8d00d-caff-4a14-9b4d-cc482b785a75" ttft_ms=109
I0305 08:22:24.554241       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1d7e3faa-4367-4a7c-8d33-b8896885af6d"
I0305 08:22:24.554452       1 gateway.go:207] "Processing request" requestID="fb704c5e-3630-477e-8461-9adac0b3cfb5"
I0305 08:22:24.554480       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fb704c5e-3630-477e-8461-9adac0b3cfb5"
I0305 08:22:24.554489       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:24.554518       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1d7e3faa-4367-4a7c-8d33-b8896885af6d" model="qwen2-5-7b-instruct"
I0305 08:22:24.554605       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:24.554614       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:24.554619       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:24.554919       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:24.554977       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:24.554985       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:24.613947       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0590, numInputTokens, 7601
I0305 08:22:24.613966       1 tree.go:471] Updated node(0) last access: 154.8037 seconds
I0305 08:22:24.613972       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:24.613976       1 tree.go:471] Updated node(2) last access: 154.8037 seconds
I0305 08:22:24.613991       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:24.613997       1 tree.go:471] Updated node(6) last access: 154.8037 seconds
I0305 08:22:24.614007       1 tree.go:667] Split complete - New node(342)
I0305 08:22:24.614010       1 tree.go:668] Split complete - Child node(134)
I0305 08:22:24.614015       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 08:22:24.614022       1 tree.go:471] Updated node(342) last access: 154.8037 seconds
I0305 08:22:24.614028       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:24.614034       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:24.614040       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:24.614047       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:24.614053       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:24.61403626 +0000 UTC m=+154.918938357]
I0305 08:22:24.614074       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7483, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:24.614084       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:24.614161       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7483
I0305 08:22:24.614172       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:24.614186       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.614195       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.614202       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.614207       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.614211       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.614222       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:24.614233       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:24.614243       1 prefix_cache_and_load.go:584] latency, Route, 0.0596
I0305 08:22:24.614254       1 gateway.go:415] latency, selectTargetPod, 0.0596, target pod, 10.0.1.22:8000
I0305 08:22:24.614269       1 gateway.go:235] latency, HandleRequestBody, 0.0600
I0305 08:22:24.633555       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1d7e3faa-4367-4a7c-8d33-b8896885af6d"
I0305 08:22:24.633916       1 gateway.go:562] latency, 0.0001, summary, hash(request), 40f003cd, selectedpod, 10.0.0.101:8000, ttft, 125, tpot, 18, e2e, 296, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:24.633939       1 gateway.go:748] "Request completed" requestID="5fd7bea1-e97f-47be-afcb-ff6f899f8d80" targetPod="10.0.0.101:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:24.633953       1 gateway.go:764] "HandleResponseBody completed" requestID="5fd7bea1-e97f-47be-afcb-ff6f899f8d80" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:24.652858       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fb704c5e-3630-477e-8461-9adac0b3cfb5"
I0305 08:22:24.652990       1 gateway.go:207] "Processing request" requestID="9c97e7cd-eb77-4a30-9582-823c4b0a081c"
I0305 08:22:24.653023       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9c97e7cd-eb77-4a30-9582-823c4b0a081c"
I0305 08:22:24.653036       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:24.653176       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fb704c5e-3630-477e-8461-9adac0b3cfb5" model="qwen2-5-7b-instruct"
I0305 08:22:24.653253       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:24.653259       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:24.653262       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:24.653482       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:24.653531       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:24.653537       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:24.677812       1 gateway.go:608] "First token received" requestID="1d7e3faa-4367-4a7c-8d33-b8896885af6d" ttft_ms=123
I0305 08:22:24.709607       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0561, numInputTokens, 7596
I0305 08:22:24.709623       1 tree.go:471] Updated node(0) last access: 154.8993 seconds
I0305 08:22:24.709629       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:24.709633       1 tree.go:471] Updated node(2) last access: 154.8993 seconds
I0305 08:22:24.709645       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:24.709650       1 tree.go:471] Updated node(6) last access: 154.8994 seconds
I0305 08:22:24.709660       1 tree.go:667] Split complete - New node(344)
I0305 08:22:24.709673       1 tree.go:668] Split complete - Child node(232)
I0305 08:22:24.709678       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:24.709684       1 tree.go:471] Updated node(344) last access: 154.8994 seconds
I0305 08:22:24.709691       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:24.709696       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:22:24.709702       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:24.709709       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:24.709715       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:24.709698391 +0000 UTC m=+155.014600488]
I0305 08:22:24.709731       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7479, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:24.709740       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:24.709813       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7479
I0305 08:22:24.709824       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:24.709834       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.709842       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.709848       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.709853       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.709856       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.709868       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:24.709877       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:24.709886       1 prefix_cache_and_load.go:584] latency, Route, 0.0566
I0305 08:22:24.709895       1 gateway.go:415] latency, selectTargetPod, 0.0566, target pod, 10.0.1.22:8000
I0305 08:22:24.709907       1 gateway.go:235] latency, HandleRequestBody, 0.0571
I0305 08:22:24.726539       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7f96813e, selectedpod, 10.0.0.134:8000, ttft, 109, tpot, 19, e2e, 281, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:24.726557       1 gateway.go:748] "Request completed" requestID="5fa8d00d-caff-4a14-9b4d-cc482b785a75" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:24.726567       1 gateway.go:764] "HandleResponseBody completed" requestID="5fa8d00d-caff-4a14-9b4d-cc482b785a75" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:24.735656       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fb704c5e-3630-477e-8461-9adac0b3cfb5"
I0305 08:22:24.764175       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9c97e7cd-eb77-4a30-9582-823c4b0a081c"
I0305 08:22:24.764346       1 gateway.go:207] "Processing request" requestID="ba3ef96e-3739-4c6c-9ab0-a45cf31a7b77"
I0305 08:22:24.764376       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ba3ef96e-3739-4c6c-9ab0-a45cf31a7b77"
I0305 08:22:24.764383       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:24.764433       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9c97e7cd-eb77-4a30-9582-823c4b0a081c" model="qwen2-5-7b-instruct"
I0305 08:22:24.764516       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:24.764525       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:24.764530       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:24.764835       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:24.764897       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:24.764904       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:24.788134       1 gateway.go:608] "First token received" requestID="fb704c5e-3630-477e-8461-9adac0b3cfb5" ttft_ms=135
I0305 08:22:24.824730       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0598, numInputTokens, 7594
I0305 08:22:24.824748       1 tree.go:471] Updated node(0) last access: 155.0145 seconds
I0305 08:22:24.824754       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:24.824758       1 tree.go:471] Updated node(2) last access: 155.0145 seconds
I0305 08:22:24.824771       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:24.824775       1 tree.go:471] Updated node(45) last access: 155.0145 seconds
I0305 08:22:24.824782       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:24.824788       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 08:22:24.824794       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 08:22:24.824802       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:24.824809       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:24.824790015 +0000 UTC m=+155.129692112]
I0305 08:22:24.824824       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7478, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:24.824836       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:24.824929       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:22:24.824940       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:24.824953       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.824963       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.824970       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.824977       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:24.824987       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:24.824996       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:24.825006       1 prefix_cache_and_load.go:584] latency, Route, 0.0605
I0305 08:22:24.825022       1 gateway.go:415] latency, selectTargetPod, 0.0605, target pod, 10.0.0.134:8000
I0305 08:22:24.825036       1 gateway.go:235] latency, HandleRequestBody, 0.0609
I0305 08:22:24.843215       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9c97e7cd-eb77-4a30-9582-823c4b0a081c"
I0305 08:22:24.879278       1 gateway.go:608] "First token received" requestID="9c97e7cd-eb77-4a30-9582-823c4b0a081c" ttft_ms=115
I0305 08:22:24.889078       1 gateway.go:562] latency, 0.0001, summary, hash(request), be249b14, selectedpod, 10.0.1.22:8000, ttft, 123, tpot, 23, e2e, 334, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:24.889105       1 gateway.go:748] "Request completed" requestID="1d7e3faa-4367-4a7c-8d33-b8896885af6d" targetPod="10.0.1.22:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:24.889121       1 gateway.go:764] "HandleResponseBody completed" requestID="1d7e3faa-4367-4a7c-8d33-b8896885af6d" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:24.967113       1 gateway.go:562] latency, 0.0000, summary, hash(request), e667d0be, selectedpod, 10.0.1.22:8000, ttft, 135, tpot, 19, e2e, 314, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:22:24.967133       1 gateway.go:748] "Request completed" requestID="fb704c5e-3630-477e-8461-9adac0b3cfb5" targetPod="10.0.1.22:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:22:24.967143       1 gateway.go:764] "HandleResponseBody completed" requestID="fb704c5e-3630-477e-8461-9adac0b3cfb5" promptTokens=7615 completionTokens=10 stream=true
I0305 08:22:25.051291       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5f820975, selectedpod, 10.0.0.134:8000, ttft, 115, tpot, 19, e2e, 287, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 08:22:25.051310       1 gateway.go:748] "Request completed" requestID="9c97e7cd-eb77-4a30-9582-823c4b0a081c" targetPod="10.0.0.134:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 08:22:25.051322       1 gateway.go:764] "HandleResponseBody completed" requestID="9c97e7cd-eb77-4a30-9582-823c4b0a081c" promptTokens=7613 completionTokens=10 stream=true
I0305 08:22:25.092051       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ba3ef96e-3739-4c6c-9ab0-a45cf31a7b77"
I0305 08:22:25.092251       1 gateway.go:207] "Processing request" requestID="ccc84b45-f27b-4d3b-b72e-1bed0203227f"
I0305 08:22:25.092281       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ba3ef96e-3739-4c6c-9ab0-a45cf31a7b77" model="qwen2-5-7b-instruct"
I0305 08:22:25.092284       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ccc84b45-f27b-4d3b-b72e-1bed0203227f"
I0305 08:22:25.092372       1 gateway.go:230] latency, HandleRequestHeaders, 0.0001
I0305 08:22:25.092378       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:25.092387       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:25.092390       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:25.092688       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:25.092765       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:25.092772       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:25.093144       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ccc84b45-f27b-4d3b-b72e-1bed0203227f"
I0305 08:22:25.093293       1 gateway.go:207] "Processing request" requestID="7851f97a-a385-4217-92f2-1f8670ec8ab4"
I0305 08:22:25.093323       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7851f97a-a385-4217-92f2-1f8670ec8ab4"
I0305 08:22:25.093340       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:25.093472       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ccc84b45-f27b-4d3b-b72e-1bed0203227f" model="qwen2-5-7b-instruct"
I0305 08:22:25.151778       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0590, numInputTokens, 7598
I0305 08:22:25.151793       1 tree.go:471] Updated node(0) last access: 155.3415 seconds
I0305 08:22:25.151800       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:25.151803       1 tree.go:471] Updated node(2) last access: 155.3415 seconds
I0305 08:22:25.151814       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:25.151819       1 tree.go:471] Updated node(6) last access: 155.3415 seconds
I0305 08:22:25.151829       1 tree.go:667] Split complete - New node(347)
I0305 08:22:25.151833       1 tree.go:668] Split complete - Child node(3)
I0305 08:22:25.151838       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:22:25.151843       1 tree.go:471] Updated node(347) last access: 155.3416 seconds
I0305 08:22:25.151850       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 08:22:25.151855       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:25.151861       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:25.151868       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:25.151874       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:25.151856868 +0000 UTC m=+155.456758965]
I0305 08:22:25.151890       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7489, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 08:22:25.151900       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 08:22:25.151994       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7489
I0305 08:22:25.152005       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:25.152015       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.152023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.152029       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.152034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.152041       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.152050       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:25.152062       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:25.152071       1 prefix_cache_and_load.go:584] latency, Route, 0.0597
I0305 08:22:25.152086       1 gateway.go:415] latency, selectTargetPod, 0.0597, target pod, 10.0.1.22:8000
I0305 08:22:25.152098       1 gateway.go:235] latency, HandleRequestBody, 0.0601
I0305 08:22:25.152117       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0586
I0305 08:22:25.152122       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:25.152125       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:25.152303       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:25.152355       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:25.152361       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:25.170841       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ba3ef96e-3739-4c6c-9ab0-a45cf31a7b77"
I0305 08:22:25.206107       1 gateway.go:608] "First token received" requestID="ba3ef96e-3739-4c6c-9ab0-a45cf31a7b77" ttft_ms=114
I0305 08:22:25.212384       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0600, numInputTokens, 7595
I0305 08:22:25.212402       1 tree.go:471] Updated node(0) last access: 155.4021 seconds
I0305 08:22:25.212408       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:25.212412       1 tree.go:471] Updated node(2) last access: 155.4021 seconds
I0305 08:22:25.212425       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:25.212428       1 tree.go:471] Updated node(73) last access: 155.4021 seconds
I0305 08:22:25.212438       1 tree.go:667] Split complete - New node(349)
I0305 08:22:25.212443       1 tree.go:668] Split complete - Child node(26)
I0305 08:22:25.212449       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:22:25.212454       1 tree.go:471] Updated node(349) last access: 155.4022 seconds
I0305 08:22:25.212460       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:22:25.212465       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 08:22:25.212471       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 08:22:25.212478       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:25.212484       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:25.212467081 +0000 UTC m=+155.517369178]
I0305 08:22:25.212501       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7482, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:22:25.212509       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:22:25.212592       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7482
I0305 08:22:25.212603       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:25.212612       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.212621       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.212626       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.212633       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.212638       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.212647       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:25.212657       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:25.212676       1 prefix_cache_and_load.go:584] latency, Route, 0.1191
I0305 08:22:25.212685       1 gateway.go:415] latency, selectTargetPod, 0.1191, target pod, 10.0.0.134:8000
I0305 08:22:25.212699       1 gateway.go:235] latency, HandleRequestBody, 0.1196
I0305 08:22:25.229231       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ccc84b45-f27b-4d3b-b72e-1bed0203227f"
I0305 08:22:25.246222       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7851f97a-a385-4217-92f2-1f8670ec8ab4"
I0305 08:22:25.246385       1 gateway.go:207] "Processing request" requestID="3524a4a7-941d-42bd-b272-efbb8242ea14"
I0305 08:22:25.246413       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3524a4a7-941d-42bd-b272-efbb8242ea14"
I0305 08:22:25.246422       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:25.246493       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7851f97a-a385-4217-92f2-1f8670ec8ab4" model="qwen2-5-7b-instruct"
I0305 08:22:25.246564       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:25.246570       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:25.246573       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:25.246833       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:25.246880       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:25.246886       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:25.264175       1 gateway.go:608] "First token received" requestID="ccc84b45-f27b-4d3b-b72e-1bed0203227f" ttft_ms=170
I0305 08:22:25.306927       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0600, numInputTokens, 7598
I0305 08:22:25.306950       1 tree.go:471] Updated node(0) last access: 155.4967 seconds
I0305 08:22:25.306957       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:25.306961       1 tree.go:471] Updated node(2) last access: 155.4967 seconds
I0305 08:22:25.306973       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:25.306976       1 tree.go:471] Updated node(21) last access: 155.4967 seconds
I0305 08:22:25.306980       1 tree.go:490] Partial tokens match child node(217). Continue to go deeper in the radix tree
I0305 08:22:25.306983       1 tree.go:471] Updated node(217) last access: 155.4967 seconds
I0305 08:22:25.306999       1 tree.go:667] Split complete - New node(351)
I0305 08:22:25.307009       1 tree.go:668] Split complete - Child node(130)
I0305 08:22:25.307014       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:25.307020       1 tree.go:471] Updated node(351) last access: 155.4967 seconds
I0305 08:22:25.307026       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:25.307032       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:25.307039       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:25.307046       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:25.307051       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:25.307033905 +0000 UTC m=+155.611936002]
I0305 08:22:25.307073       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7483, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:25.307082       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:25.307225       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7483
I0305 08:22:25.307236       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 08:22:25.307246       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.307253       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.307258       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.307264       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.307269       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.307275       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.307285       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:25.307297       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:25.307311       1 prefix_cache_and_load.go:584] latency, Route, 0.0607
I0305 08:22:25.307321       1 gateway.go:415] latency, selectTargetPod, 0.0608, target pod, 10.0.3.41:8000
I0305 08:22:25.307344       1 gateway.go:235] latency, HandleRequestBody, 0.0611
I0305 08:22:25.323220       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7851f97a-a385-4217-92f2-1f8670ec8ab4"
I0305 08:22:25.367038       1 gateway.go:608] "First token received" requestID="7851f97a-a385-4217-92f2-1f8670ec8ab4" ttft_ms=120
I0305 08:22:25.379858       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90d49eaa, selectedpod, 10.0.1.22:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:25.379878       1 gateway.go:748] "Request completed" requestID="ba3ef96e-3739-4c6c-9ab0-a45cf31a7b77" targetPod="10.0.1.22:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:25.379889       1 gateway.go:764] "HandleResponseBody completed" requestID="ba3ef96e-3739-4c6c-9ab0-a45cf31a7b77" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:25.437323       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7fe716c2, selectedpod, 10.0.0.134:8000, ttft, 170, tpot, 19, e2e, 344, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 08:22:25.437350       1 gateway.go:748] "Request completed" requestID="ccc84b45-f27b-4d3b-b72e-1bed0203227f" targetPod="10.0.0.134:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 08:22:25.437360       1 gateway.go:764] "HandleResponseBody completed" requestID="ccc84b45-f27b-4d3b-b72e-1bed0203227f" promptTokens=7614 completionTokens=10 stream=true
I0305 08:22:25.505660       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3524a4a7-941d-42bd-b272-efbb8242ea14"
I0305 08:22:25.505817       1 gateway.go:207] "Processing request" requestID="ae9704cc-62b1-4b68-adb3-df5c20708e57"
I0305 08:22:25.505859       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ae9704cc-62b1-4b68-adb3-df5c20708e57"
I0305 08:22:25.505871       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:25.505931       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3524a4a7-941d-42bd-b272-efbb8242ea14" model="qwen2-5-7b-instruct"
I0305 08:22:25.506006       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:25.506012       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:25.506016       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:25.506279       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:25.506323       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:25.506341       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:25.540128       1 gateway.go:562] latency, 0.0001, summary, hash(request), 442a2ae2, selectedpod, 10.0.3.41:8000, ttft, 120, tpot, 19, e2e, 293, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:25.540150       1 gateway.go:748] "Request completed" requestID="7851f97a-a385-4217-92f2-1f8670ec8ab4" targetPod="10.0.3.41:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:25.540162       1 gateway.go:764] "HandleResponseBody completed" requestID="7851f97a-a385-4217-92f2-1f8670ec8ab4" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:25.564947       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0586, numInputTokens, 7601
I0305 08:22:25.564963       1 tree.go:471] Updated node(0) last access: 155.7547 seconds
I0305 08:22:25.564970       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:25.564973       1 tree.go:471] Updated node(2) last access: 155.7547 seconds
I0305 08:22:25.564987       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:25.564990       1 tree.go:471] Updated node(36) last access: 155.7547 seconds
I0305 08:22:25.564994       1 tree.go:490] Partial tokens match child node(94). Continue to go deeper in the radix tree
I0305 08:22:25.564997       1 tree.go:471] Updated node(94) last access: 155.7547 seconds
I0305 08:22:25.565009       1 tree.go:667] Split complete - New node(353)
I0305 08:22:25.565013       1 tree.go:668] Split complete - Child node(183)
I0305 08:22:25.565018       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:22:25.565022       1 tree.go:471] Updated node(353) last access: 155.7547 seconds
I0305 08:22:25.565029       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:25.565034       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:25.565040       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:25.565048       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:25.565053       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:25.565036111 +0000 UTC m=+155.869938208]
I0305 08:22:25.565070       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7484, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:25.565079       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:25.565174       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7484
I0305 08:22:25.565185       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:25.565195       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.565200       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.565204       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.565210       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.565216       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.565222       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.565232       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:25.565242       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:25.565251       1 prefix_cache_and_load.go:584] latency, Route, 0.0592
I0305 08:22:25.565261       1 gateway.go:415] latency, selectTargetPod, 0.0593, target pod, 10.0.3.30:8000
I0305 08:22:25.565272       1 gateway.go:235] latency, HandleRequestBody, 0.0596
I0305 08:22:25.580535       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3524a4a7-941d-42bd-b272-efbb8242ea14"
I0305 08:22:25.616765       1 gateway.go:608] "First token received" requestID="3524a4a7-941d-42bd-b272-efbb8242ea14" ttft_ms=111
I0305 08:22:25.682848       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ae9704cc-62b1-4b68-adb3-df5c20708e57"
I0305 08:22:25.682993       1 gateway.go:207] "Processing request" requestID="b3191899-71bc-450e-96e0-fb115eb4b057"
I0305 08:22:25.683026       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b3191899-71bc-450e-96e0-fb115eb4b057"
I0305 08:22:25.683035       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:25.683074       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ae9704cc-62b1-4b68-adb3-df5c20708e57" model="qwen2-5-7b-instruct"
I0305 08:22:25.683150       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:25.683156       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:25.683159       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:25.683437       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:25.683488       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:25.683494       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:25.744002       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0605, numInputTokens, 7601
I0305 08:22:25.744022       1 tree.go:471] Updated node(0) last access: 155.9337 seconds
I0305 08:22:25.744031       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:25.744037       1 tree.go:471] Updated node(2) last access: 155.9338 seconds
I0305 08:22:25.744052       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:25.744055       1 tree.go:471] Updated node(16) last access: 155.9338 seconds
I0305 08:22:25.744065       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:22:25.744071       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:25.744077       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:25.744085       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:25.744090       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:25.744073273 +0000 UTC m=+156.048975370]
I0305 08:22:25.744115       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:22:25.744127       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:22:25.744242       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7478
I0305 08:22:25.744254       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:25.744266       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.744271       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.744277       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.744281       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.744290       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:25.744300       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:25.744312       1 prefix_cache_and_load.go:584] latency, Route, 0.0612
I0305 08:22:25.744321       1 gateway.go:415] latency, selectTargetPod, 0.0612, target pod, 10.0.1.14:8000
I0305 08:22:25.744345       1 gateway.go:235] latency, HandleRequestBody, 0.0615
I0305 08:22:25.763085       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b3191899-71bc-450e-96e0-fb115eb4b057"
I0305 08:22:25.763229       1 gateway.go:207] "Processing request" requestID="bfc22d5a-de66-4b7c-96f2-810f858966b6"
I0305 08:22:25.763259       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bfc22d5a-de66-4b7c-96f2-810f858966b6"
I0305 08:22:25.763268       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:25.763311       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b3191899-71bc-450e-96e0-fb115eb4b057" model="qwen2-5-7b-instruct"
I0305 08:22:25.763410       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:25.763417       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:25.763420       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:25.763563       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ae9704cc-62b1-4b68-adb3-df5c20708e57"
I0305 08:22:25.763607       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:25.763649       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:25.763657       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:25.789799       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7289b4be, selectedpod, 10.0.3.30:8000, ttft, 111, tpot, 19, e2e, 284, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:25.789823       1 gateway.go:748] "Request completed" requestID="3524a4a7-941d-42bd-b272-efbb8242ea14" targetPod="10.0.3.30:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:25.789837       1 gateway.go:764] "HandleResponseBody completed" requestID="3524a4a7-941d-42bd-b272-efbb8242ea14" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:25.807689       1 gateway.go:608] "First token received" requestID="ae9704cc-62b1-4b68-adb3-df5c20708e57" ttft_ms=124
I0305 08:22:25.819958       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0563, numInputTokens, 7601
I0305 08:22:25.819973       1 tree.go:471] Updated node(0) last access: 156.0097 seconds
I0305 08:22:25.819979       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:25.819983       1 tree.go:471] Updated node(2) last access: 156.0097 seconds
I0305 08:22:25.819998       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:25.820002       1 tree.go:471] Updated node(21) last access: 156.0097 seconds
I0305 08:22:25.820007       1 tree.go:490] Partial tokens match child node(186). Continue to go deeper in the radix tree
I0305 08:22:25.820012       1 tree.go:471] Updated node(186) last access: 156.0097 seconds
I0305 08:22:25.820018       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:22:25.820023       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:25.820031       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:25.820038       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:25.820044       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:25.820025767 +0000 UTC m=+156.124927864]
I0305 08:22:25.820060       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:22:25.820068       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:22:25.820152       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7481
I0305 08:22:25.820166       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:25.820177       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.820186       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.820191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.820198       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.820203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.820214       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:25.820225       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:25.820238       1 prefix_cache_and_load.go:584] latency, Route, 0.0568
I0305 08:22:25.820255       1 gateway.go:415] latency, selectTargetPod, 0.0568, target pod, 10.0.3.41:8000
I0305 08:22:25.820292       1 gateway.go:235] latency, HandleRequestBody, 0.0572
I0305 08:22:25.835445       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b3191899-71bc-450e-96e0-fb115eb4b057"
I0305 08:22:25.878489       1 gateway.go:608] "First token received" requestID="b3191899-71bc-450e-96e0-fb115eb4b057" ttft_ms=115
I0305 08:22:25.923769       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bfc22d5a-de66-4b7c-96f2-810f858966b6"
I0305 08:22:25.923941       1 gateway.go:207] "Processing request" requestID="1fa8a635-b248-4d08-94af-69e8ccf67080"
I0305 08:22:25.923969       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1fa8a635-b248-4d08-94af-69e8ccf67080"
I0305 08:22:25.923979       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:25.923991       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bfc22d5a-de66-4b7c-96f2-810f858966b6" model="qwen2-5-7b-instruct"
I0305 08:22:25.924056       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:25.924063       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:25.924066       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:25.924297       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:25.924351       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:25.924357       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:25.981038       1 gateway.go:562] latency, 0.0004, summary, hash(request), 0773876d, selectedpod, 10.0.1.14:8000, ttft, 124, tpot, 19, e2e, 297, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:25.981087       1 gateway.go:748] "Request completed" requestID="ae9704cc-62b1-4b68-adb3-df5c20708e57" targetPod="10.0.1.14:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:25.981103       1 gateway.go:764] "HandleResponseBody completed" requestID="ae9704cc-62b1-4b68-adb3-df5c20708e57" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:25.985579       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0612, numInputTokens, 7596
I0305 08:22:25.985596       1 tree.go:471] Updated node(0) last access: 156.1753 seconds
I0305 08:22:25.985602       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:25.985606       1 tree.go:471] Updated node(2) last access: 156.1753 seconds
I0305 08:22:25.985617       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:25.985621       1 tree.go:471] Updated node(36) last access: 156.1753 seconds
I0305 08:22:25.985631       1 tree.go:667] Split complete - New node(357)
I0305 08:22:25.985636       1 tree.go:668] Split complete - Child node(136)
I0305 08:22:25.985642       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:25.985646       1 tree.go:471] Updated node(357) last access: 156.1754 seconds
I0305 08:22:25.985654       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:25.985658       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:22:25.985675       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:25.985681       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:25.985688       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:25.985661096 +0000 UTC m=+156.290563193]
I0305 08:22:25.985702       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7480, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:25.985710       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:25.985777       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7480
I0305 08:22:25.985788       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:25.985798       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.985805       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.985809       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.985816       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.985821       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:25.985831       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:25.985840       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:25.985851       1 prefix_cache_and_load.go:584] latency, Route, 0.0618
I0305 08:22:25.985859       1 gateway.go:415] latency, selectTargetPod, 0.0618, target pod, 10.0.3.30:8000
I0305 08:22:25.985872       1 gateway.go:235] latency, HandleRequestBody, 0.0621
I0305 08:22:26.001006       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bfc22d5a-de66-4b7c-96f2-810f858966b6"
I0305 08:22:26.035972       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1fa8a635-b248-4d08-94af-69e8ccf67080"
I0305 08:22:26.036117       1 gateway.go:207] "Processing request" requestID="c9ccf2dc-71a8-410e-b2da-c0068658995d"
I0305 08:22:26.036143       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c9ccf2dc-71a8-410e-b2da-c0068658995d"
I0305 08:22:26.036151       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:26.036195       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1fa8a635-b248-4d08-94af-69e8ccf67080" model="qwen2-5-7b-instruct"
I0305 08:22:26.036274       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:26.036280       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:26.036283       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:26.036501       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:26.036545       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:26.036551       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:26.038650       1 gateway.go:608] "First token received" requestID="bfc22d5a-de66-4b7c-96f2-810f858966b6" ttft_ms=114
I0305 08:22:26.051403       1 gateway.go:562] latency, 0.0001, summary, hash(request), 40940932, selectedpod, 10.0.3.41:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:26.051433       1 gateway.go:748] "Request completed" requestID="b3191899-71bc-450e-96e0-fb115eb4b057" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:26.051449       1 gateway.go:764] "HandleResponseBody completed" requestID="b3191899-71bc-450e-96e0-fb115eb4b057" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:26.093742       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0572, numInputTokens, 7602
I0305 08:22:26.093759       1 tree.go:471] Updated node(0) last access: 156.2835 seconds
I0305 08:22:26.093765       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:26.093769       1 tree.go:471] Updated node(2) last access: 156.2835 seconds
I0305 08:22:26.093781       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:26.093783       1 tree.go:471] Updated node(16) last access: 156.2835 seconds
I0305 08:22:26.093793       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 08:22:26.093798       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 08:22:26.093805       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:26.093813       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:26.093820       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:26.093800392 +0000 UTC m=+156.398702490]
I0305 08:22:26.093834       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 08:22:26.093842       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 08:22:26.093916       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7478
I0305 08:22:26.093926       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:26.093935       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.093942       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.093947       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.093954       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.093964       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:26.093976       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:26.093985       1 prefix_cache_and_load.go:584] latency, Route, 0.0577
I0305 08:22:26.093995       1 gateway.go:415] latency, selectTargetPod, 0.0577, target pod, 10.0.1.14:8000
I0305 08:22:26.094006       1 gateway.go:235] latency, HandleRequestBody, 0.0580
I0305 08:22:26.113591       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1fa8a635-b248-4d08-94af-69e8ccf67080"
I0305 08:22:26.135626       1 gateway.go:207] "Processing request" requestID="8545459c-88f1-4106-a01d-448f499dba4f"
I0305 08:22:26.135655       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8545459c-88f1-4106-a01d-448f499dba4f"
I0305 08:22:26.135673       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:26.156973       1 gateway.go:608] "First token received" requestID="1fa8a635-b248-4d08-94af-69e8ccf67080" ttft_ms=120
I0305 08:22:26.209723       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2e64666b, selectedpod, 10.0.3.30:8000, ttft, 114, tpot, 19, e2e, 285, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:22:26.209741       1 gateway.go:748] "Request completed" requestID="bfc22d5a-de66-4b7c-96f2-810f858966b6" targetPod="10.0.3.30:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:22:26.209752       1 gateway.go:764] "HandleResponseBody completed" requestID="bfc22d5a-de66-4b7c-96f2-810f858966b6" promptTokens=7615 completionTokens=10 stream=true
I0305 08:22:26.258846       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8545459c-88f1-4106-a01d-448f499dba4f"
I0305 08:22:26.259084       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8545459c-88f1-4106-a01d-448f499dba4f" model="qwen2-5-7b-instruct"
I0305 08:22:26.259192       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:26.259199       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:26.259202       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:26.259472       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:26.259517       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:26.259523       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:26.276174       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c9ccf2dc-71a8-410e-b2da-c0068658995d"
I0305 08:22:26.276396       1 gateway.go:207] "Processing request" requestID="0c7b394b-41e4-4c35-bd3d-d0a367d15c48"
I0305 08:22:26.276416       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c9ccf2dc-71a8-410e-b2da-c0068658995d" model="qwen2-5-7b-instruct"
I0305 08:22:26.276430       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0c7b394b-41e4-4c35-bd3d-d0a367d15c48"
I0305 08:22:26.276440       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:26.319073       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0595, numInputTokens, 7596
I0305 08:22:26.319091       1 tree.go:471] Updated node(0) last access: 156.5088 seconds
I0305 08:22:26.319098       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:26.319101       1 tree.go:471] Updated node(2) last access: 156.5088 seconds
I0305 08:22:26.319115       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:26.319119       1 tree.go:471] Updated node(36) last access: 156.5088 seconds
I0305 08:22:26.319123       1 tree.go:490] Partial tokens match child node(357). Continue to go deeper in the radix tree
I0305 08:22:26.319126       1 tree.go:471] Updated node(357) last access: 156.5088 seconds
I0305 08:22:26.319136       1 tree.go:667] Split complete - New node(360)
I0305 08:22:26.319141       1 tree.go:668] Split complete - Child node(358)
I0305 08:22:26.319146       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 08:22:26.319153       1 tree.go:471] Updated node(360) last access: 156.5089 seconds
I0305 08:22:26.319158       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:22:26.319161       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:22:26.319168       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:26.319175       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:26.319181       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:26.31916348 +0000 UTC m=+156.624065577]
I0305 08:22:26.319198       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7483, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:22:26.319207       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:22:26.319277       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7483
I0305 08:22:26.319291       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:26.319299       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.319305       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.319311       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.319317       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.319321       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.319337       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.319347       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:26.319358       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:26.319373       1 prefix_cache_and_load.go:584] latency, Route, 0.0602
I0305 08:22:26.319387       1 gateway.go:415] latency, selectTargetPod, 0.0602, target pod, 10.0.3.30:8000
I0305 08:22:26.319399       1 gateway.go:235] latency, HandleRequestBody, 0.0606
I0305 08:22:26.319424       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0429
I0305 08:22:26.319431       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:26.319434       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:26.319599       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:26.319643       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 08:22:26.319650       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:26.329865       1 gateway.go:562] latency, 0.0001, summary, hash(request), 8fcfe942, selectedpod, 10.0.1.14:8000, ttft, 120, tpot, 19, e2e, 293, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:26.329886       1 gateway.go:748] "Request completed" requestID="1fa8a635-b248-4d08-94af-69e8ccf67080" targetPod="10.0.1.14:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:26.329904       1 gateway.go:764] "HandleResponseBody completed" requestID="1fa8a635-b248-4d08-94af-69e8ccf67080" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:26.334800       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8545459c-88f1-4106-a01d-448f499dba4f"
I0305 08:22:26.370188       1 gateway.go:608] "First token received" requestID="8545459c-88f1-4106-a01d-448f499dba4f" ttft_ms=111
I0305 08:22:26.404002       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0843, numInputTokens, 7598
I0305 08:22:26.404018       1 tree.go:471] Updated node(0) last access: 156.5937 seconds
I0305 08:22:26.404024       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:26.404028       1 tree.go:471] Updated node(2) last access: 156.5937 seconds
I0305 08:22:26.404043       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:26.404047       1 tree.go:471] Updated node(21) last access: 156.5938 seconds
I0305 08:22:26.404052       1 tree.go:490] Partial tokens match child node(310). Continue to go deeper in the radix tree
I0305 08:22:26.404056       1 tree.go:471] Updated node(310) last access: 156.5938 seconds
I0305 08:22:26.404066       1 tree.go:667] Split complete - New node(362)
I0305 08:22:26.404070       1 tree.go:668] Split complete - Child node(311)
I0305 08:22:26.404076       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:26.404081       1 tree.go:471] Updated node(362) last access: 156.5938 seconds
I0305 08:22:26.404086       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:26.404092       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:26.404099       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:26.404106       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:26.404112       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:26.40409405 +0000 UTC m=+156.708996147]
I0305 08:22:26.404127       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7482, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:26.404135       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:26.404225       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7482
I0305 08:22:26.404235       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:26.404245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.404250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.404255       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.404259       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.404263       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.404269       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.404279       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:26.404289       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:26.404299       1 prefix_cache_and_load.go:584] latency, Route, 0.1278
I0305 08:22:26.404308       1 gateway.go:415] latency, selectTargetPod, 0.1278, target pod, 10.0.3.41:8000
I0305 08:22:26.404319       1 gateway.go:235] latency, HandleRequestBody, 0.1282
I0305 08:22:26.419402       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c9ccf2dc-71a8-410e-b2da-c0068658995d"
I0305 08:22:26.463776       1 gateway.go:608] "First token received" requestID="c9ccf2dc-71a8-410e-b2da-c0068658995d" ttft_ms=187
I0305 08:22:26.543371       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6660bb85, selectedpod, 10.0.3.30:8000, ttft, 111, tpot, 19, e2e, 284, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:22:26.543395       1 gateway.go:748] "Request completed" requestID="8545459c-88f1-4106-a01d-448f499dba4f" targetPod="10.0.3.30:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:22:26.543406       1 gateway.go:764] "HandleResponseBody completed" requestID="8545459c-88f1-4106-a01d-448f499dba4f" promptTokens=7615 completionTokens=10 stream=true
I0305 08:22:26.594323       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0c7b394b-41e4-4c35-bd3d-d0a367d15c48"
I0305 08:22:26.594529       1 gateway.go:207] "Processing request" requestID="7e0517e3-5d99-40f6-99cf-be7720e600b5"
I0305 08:22:26.594570       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7e0517e3-5d99-40f6-99cf-be7720e600b5"
I0305 08:22:26.594581       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:26.594608       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0c7b394b-41e4-4c35-bd3d-d0a367d15c48" model="qwen2-5-7b-instruct"
I0305 08:22:26.594707       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:26.594715       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:26.594718       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:26.595037       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:26.595106       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:26.595116       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:26.595388       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7e0517e3-5d99-40f6-99cf-be7720e600b5"
I0305 08:22:26.595528       1 gateway.go:207] "Processing request" requestID="adcb94ef-fa1a-430a-b876-c4944daf633a"
I0305 08:22:26.595564       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="adcb94ef-fa1a-430a-b876-c4944daf633a"
I0305 08:22:26.595575       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:26.595631       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7e0517e3-5d99-40f6-99cf-be7720e600b5" model="qwen2-5-7b-instruct"
I0305 08:22:26.635661       1 gateway.go:562] latency, 0.0001, summary, hash(request), d5033f16, selectedpod, 10.0.3.41:8000, ttft, 187, tpot, 19, e2e, 359, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:26.635691       1 gateway.go:748] "Request completed" requestID="c9ccf2dc-71a8-410e-b2da-c0068658995d" targetPod="10.0.3.41:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:26.635704       1 gateway.go:764] "HandleResponseBody completed" requestID="c9ccf2dc-71a8-410e-b2da-c0068658995d" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:26.657214       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0621, numInputTokens, 7598
I0305 08:22:26.657233       1 tree.go:471] Updated node(0) last access: 156.8469 seconds
I0305 08:22:26.657239       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:26.657243       1 tree.go:471] Updated node(2) last access: 156.8470 seconds
I0305 08:22:26.657256       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:26.657261       1 tree.go:471] Updated node(6) last access: 156.8470 seconds
I0305 08:22:26.657267       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:22:26.657273       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 08:22:26.657279       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:26.657287       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:26.657293       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:26.657274943 +0000 UTC m=+156.962177040]
I0305 08:22:26.657310       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:22:26.657317       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:22:26.657399       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7478
I0305 08:22:26.657410       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:26.657420       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.657428       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.657434       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.657439       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.657450       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:26.657459       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:26.657471       1 prefix_cache_and_load.go:584] latency, Route, 0.0628
I0305 08:22:26.657485       1 gateway.go:415] latency, selectTargetPod, 0.0628, target pod, 10.0.1.22:8000
I0305 08:22:26.657498       1 gateway.go:235] latency, HandleRequestBody, 0.0632
I0305 08:22:26.657523       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0618
I0305 08:22:26.657528       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:26.657531       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:26.657782       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:26.657847       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:26.657854       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:26.677364       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0c7b394b-41e4-4c35-bd3d-d0a367d15c48"
I0305 08:22:26.714278       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0564, numInputTokens, 7592
I0305 08:22:26.714295       1 tree.go:471] Updated node(0) last access: 156.9040 seconds
I0305 08:22:26.714301       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:26.714305       1 tree.go:471] Updated node(2) last access: 156.9040 seconds
I0305 08:22:26.714318       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:26.714321       1 tree.go:471] Updated node(10) last access: 156.9040 seconds
I0305 08:22:26.714333       1 tree.go:490] Partial tokens match child node(14). Continue to go deeper in the radix tree
I0305 08:22:26.714338       1 tree.go:471] Updated node(14) last access: 156.9041 seconds
I0305 08:22:26.714342       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 08:22:26.714347       1 tree.go:471] Updated node(18) last access: 156.9041 seconds
I0305 08:22:26.714358       1 tree.go:667] Split complete - New node(365)
I0305 08:22:26.714361       1 tree.go:668] Split complete - Child node(19)
I0305 08:22:26.714366       1 tree.go:501] latency, splitNode, 0.0000 seconds, 108 tokens:
I0305 08:22:26.714372       1 tree.go:471] Updated node(365) last access: 156.9041 seconds
I0305 08:22:26.714377       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 104 tokens:
I0305 08:22:26.714382       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7592 tokens
I0305 08:22:26.714389       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7592 tokens
I0305 08:22:26.714396       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:26.714401       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:26.714384181 +0000 UTC m=+157.019286278]
I0305 08:22:26.714417       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7592, Matched tokens: 7488, Matching ratio: 0.9863, # Matched pods: 0, Matched pods: []
I0305 08:22:26.714426       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9863 > 0.5000)
I0305 08:22:26.714503       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7488
I0305 08:22:26.714514       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:26.714523       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.714531       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.714536       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.714541       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.714547       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.714551       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.714558       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.714566       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:26.714576       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:26.714586       1 prefix_cache_and_load.go:584] latency, Route, 0.1189
I0305 08:22:26.714595       1 gateway.go:415] latency, selectTargetPod, 0.1189, target pod, 10.0.0.101:8000
I0305 08:22:26.714606       1 gateway.go:235] latency, HandleRequestBody, 0.1192
I0305 08:22:26.721089       1 gateway.go:608] "First token received" requestID="0c7b394b-41e4-4c35-bd3d-d0a367d15c48" ttft_ms=126
I0305 08:22:26.731928       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7e0517e3-5d99-40f6-99cf-be7720e600b5"
I0305 08:22:26.767588       1 gateway.go:608] "First token received" requestID="7e0517e3-5d99-40f6-99cf-be7720e600b5" ttft_ms=172
I0305 08:22:26.782266       1 gateway.go:329] "-- In RequestBody processing ..." requestID="adcb94ef-fa1a-430a-b876-c4944daf633a"
I0305 08:22:26.782502       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="adcb94ef-fa1a-430a-b876-c4944daf633a" model="qwen2-5-7b-instruct"
I0305 08:22:26.782579       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:26.782586       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:26.782590       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:26.782843       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:26.782888       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:26.782894       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:26.818131       1 gateway.go:207] "Processing request" requestID="c8ea6876-9a84-4280-a1b9-03161360b7cd"
I0305 08:22:26.818159       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c8ea6876-9a84-4280-a1b9-03161360b7cd"
I0305 08:22:26.818169       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:26.818179       1 gateway.go:207] "Processing request" requestID="03f9da2e-61df-499b-b7e4-5058f2388778"
I0305 08:22:26.818213       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="03f9da2e-61df-499b-b7e4-5058f2388778"
I0305 08:22:26.818226       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:26.842837       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0599, numInputTokens, 7601
I0305 08:22:26.842854       1 tree.go:471] Updated node(0) last access: 157.0326 seconds
I0305 08:22:26.842860       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:26.842864       1 tree.go:471] Updated node(2) last access: 157.0326 seconds
I0305 08:22:26.842878       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:26.842884       1 tree.go:471] Updated node(21) last access: 157.0326 seconds
I0305 08:22:26.842893       1 tree.go:667] Split complete - New node(367)
I0305 08:22:26.842896       1 tree.go:668] Split complete - Child node(305)
I0305 08:22:26.842901       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 08:22:26.842948       1 tree.go:471] Updated node(367) last access: 157.0327 seconds
I0305 08:22:26.842954       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:26.842958       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:26.842965       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:26.842971       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:26.842977       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:26.842961418 +0000 UTC m=+157.147863515]
I0305 08:22:26.842993       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7486, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:26.843003       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:26.843067       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7486
I0305 08:22:26.843078       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:26.843086       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.843091       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.843097       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.843103       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.843109       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:26.843118       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:26.843128       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:26.843137       1 prefix_cache_and_load.go:584] latency, Route, 0.0606
I0305 08:22:26.843150       1 gateway.go:415] latency, selectTargetPod, 0.0606, target pod, 10.0.3.41:8000
I0305 08:22:26.843162       1 gateway.go:235] latency, HandleRequestBody, 0.0609
I0305 08:22:26.858410       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="adcb94ef-fa1a-430a-b876-c4944daf633a"
I0305 08:22:26.894131       1 gateway.go:608] "First token received" requestID="adcb94ef-fa1a-430a-b876-c4944daf633a" ttft_ms=111
I0305 08:22:26.894360       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6372f41e, selectedpod, 10.0.1.22:8000, ttft, 126, tpot, 19, e2e, 299, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:26.894387       1 gateway.go:748] "Request completed" requestID="0c7b394b-41e4-4c35-bd3d-d0a367d15c48" targetPod="10.0.1.22:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:26.894399       1 gateway.go:764] "HandleResponseBody completed" requestID="0c7b394b-41e4-4c35-bd3d-d0a367d15c48" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:26.940592       1 gateway.go:562] latency, 0.0001, summary, hash(request), 42237fe3, selectedpod, 10.0.0.101:8000, ttft, 172, tpot, 19, e2e, 345, numInputTokens, 7611, numOutputTokens, 10, numTotalTokens, 7621
I0305 08:22:26.940616       1 gateway.go:748] "Request completed" requestID="7e0517e3-5d99-40f6-99cf-be7720e600b5" targetPod="10.0.0.101:8000" promptTokens=7611 completionTokens=10 totalTokens=7621
I0305 08:22:26.940629       1 gateway.go:764] "HandleResponseBody completed" requestID="7e0517e3-5d99-40f6-99cf-be7720e600b5" promptTokens=7611 completionTokens=10 stream=true
I0305 08:22:27.067083       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6e206519, selectedpod, 10.0.3.41:8000, ttft, 111, tpot, 19, e2e, 284, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:27.067103       1 gateway.go:748] "Request completed" requestID="adcb94ef-fa1a-430a-b876-c4944daf633a" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:27.067113       1 gateway.go:764] "HandleResponseBody completed" requestID="adcb94ef-fa1a-430a-b876-c4944daf633a" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:27.230249       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c8ea6876-9a84-4280-a1b9-03161360b7cd"
I0305 08:22:27.230487       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c8ea6876-9a84-4280-a1b9-03161360b7cd" model="qwen2-5-7b-instruct"
I0305 08:22:27.230582       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:27.230589       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:27.230592       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:27.230928       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:27.230979       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:27.230985       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:27.289630       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0586, numInputTokens, 7603
I0305 08:22:27.289649       1 tree.go:471] Updated node(0) last access: 157.4794 seconds
I0305 08:22:27.289655       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:27.289660       1 tree.go:471] Updated node(2) last access: 157.4794 seconds
I0305 08:22:27.289686       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:27.289693       1 tree.go:471] Updated node(16) last access: 157.4794 seconds
I0305 08:22:27.289709       1 tree.go:667] Split complete - New node(369)
I0305 08:22:27.289713       1 tree.go:668] Split complete - Child node(47)
I0305 08:22:27.289719       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0305 08:22:27.289725       1 tree.go:471] Updated node(369) last access: 157.4794 seconds
I0305 08:22:27.289731       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:22:27.289735       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 08:22:27.289742       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:22:27.289748       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:27.289754       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:27.289737408 +0000 UTC m=+157.594639505]
I0305 08:22:27.289772       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7484, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:22:27.289779       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:22:27.289883       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7484
I0305 08:22:27.289894       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:27.289903       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.289913       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.289919       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.289924       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.289928       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.289938       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:27.289949       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:27.289959       1 prefix_cache_and_load.go:584] latency, Route, 0.0594
I0305 08:22:27.289971       1 gateway.go:415] latency, selectTargetPod, 0.0594, target pod, 10.0.1.14:8000
I0305 08:22:27.289985       1 gateway.go:235] latency, HandleRequestBody, 0.0597
I0305 08:22:27.308433       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c8ea6876-9a84-4280-a1b9-03161360b7cd"
I0305 08:22:27.332768       1 gateway.go:207] "Processing request" requestID="5776abc8-a181-41a8-9ba1-2893a14a5889"
I0305 08:22:27.332798       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5776abc8-a181-41a8-9ba1-2893a14a5889"
I0305 08:22:27.332807       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:27.343902       1 gateway.go:608] "First token received" requestID="c8ea6876-9a84-4280-a1b9-03161360b7cd" ttft_ms=113
I0305 08:22:27.345948       1 gateway.go:329] "-- In RequestBody processing ..." requestID="03f9da2e-61df-499b-b7e4-5058f2388778"
I0305 08:22:27.346175       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="03f9da2e-61df-499b-b7e4-5058f2388778" model="qwen2-5-7b-instruct"
I0305 08:22:27.346251       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:27.346258       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:27.346261       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:27.346561       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:27.346614       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:27.346620       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:27.406193       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0596, numInputTokens, 7603
I0305 08:22:27.406213       1 tree.go:471] Updated node(0) last access: 157.5959 seconds
I0305 08:22:27.406219       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:27.406223       1 tree.go:471] Updated node(2) last access: 157.5959 seconds
I0305 08:22:27.406237       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:27.406241       1 tree.go:471] Updated node(28) last access: 157.5960 seconds
I0305 08:22:27.406252       1 tree.go:667] Split complete - New node(371)
I0305 08:22:27.406257       1 tree.go:668] Split complete - Child node(87)
I0305 08:22:27.406262       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0305 08:22:27.406268       1 tree.go:471] Updated node(371) last access: 157.5960 seconds
I0305 08:22:27.406273       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:27.406279       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 08:22:27.406285       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:22:27.406291       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:27.406298       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:27.40628071 +0000 UTC m=+157.711182807]
I0305 08:22:27.406317       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7485, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:27.406324       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:27.406407       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7485
I0305 08:22:27.406418       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:27.406429       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.406435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.406442       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.406449       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.406454       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.406463       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:27.406473       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:27.406483       1 prefix_cache_and_load.go:584] latency, Route, 0.0602
I0305 08:22:27.406493       1 gateway.go:415] latency, selectTargetPod, 0.0602, target pod, 10.0.0.39:8000
I0305 08:22:27.406505       1 gateway.go:235] latency, HandleRequestBody, 0.0606
I0305 08:22:27.425190       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="03f9da2e-61df-499b-b7e4-5058f2388778"
I0305 08:22:27.461428       1 gateway.go:608] "First token received" requestID="03f9da2e-61df-499b-b7e4-5058f2388778" ttft_ms=115
I0305 08:22:27.513583       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5776abc8-a181-41a8-9ba1-2893a14a5889"
I0305 08:22:27.513824       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5776abc8-a181-41a8-9ba1-2893a14a5889" model="qwen2-5-7b-instruct"
I0305 08:22:27.513906       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:27.513913       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:27.513917       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:27.514194       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:27.514246       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:27.514252       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:27.516608       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4a62c86d, selectedpod, 10.0.1.14:8000, ttft, 113, tpot, 19, e2e, 286, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:22:27.516633       1 gateway.go:748] "Request completed" requestID="c8ea6876-9a84-4280-a1b9-03161360b7cd" targetPod="10.0.1.14:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:22:27.516649       1 gateway.go:764] "HandleResponseBody completed" requestID="c8ea6876-9a84-4280-a1b9-03161360b7cd" promptTokens=7622 completionTokens=10 stream=true
I0305 08:22:27.518248       1 gateway.go:207] "Processing request" requestID="1866cb80-a3e1-4538-8b51-007120305983"
I0305 08:22:27.518276       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1866cb80-a3e1-4538-8b51-007120305983"
I0305 08:22:27.518285       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:27.574240       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0600, numInputTokens, 7595
I0305 08:22:27.574258       1 tree.go:471] Updated node(0) last access: 157.7640 seconds
I0305 08:22:27.574265       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:27.574269       1 tree.go:471] Updated node(2) last access: 157.7640 seconds
I0305 08:22:27.574281       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:27.574284       1 tree.go:471] Updated node(21) last access: 157.7640 seconds
I0305 08:22:27.574291       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:27.574296       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7595 tokens
I0305 08:22:27.574304       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 08:22:27.574311       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:27.574317       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:27.574298668 +0000 UTC m=+157.879200765]
I0305 08:22:27.574343       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7478, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:27.574352       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:27.574442       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7478
I0305 08:22:27.574453       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:27.574463       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.574469       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.574474       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.574479       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.574488       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:27.574499       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:27.574508       1 prefix_cache_and_load.go:584] latency, Route, 0.0606
I0305 08:22:27.574517       1 gateway.go:415] latency, selectTargetPod, 0.0606, target pod, 10.0.3.41:8000
I0305 08:22:27.574530       1 gateway.go:235] latency, HandleRequestBody, 0.0610
I0305 08:22:27.590006       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5776abc8-a181-41a8-9ba1-2893a14a5889"
I0305 08:22:27.625985       1 gateway.go:608] "First token received" requestID="5776abc8-a181-41a8-9ba1-2893a14a5889" ttft_ms=112
I0305 08:22:27.634037       1 gateway.go:562] latency, 0.0000, summary, hash(request), d86e9ae5, selectedpod, 10.0.0.39:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:22:27.634058       1 gateway.go:748] "Request completed" requestID="03f9da2e-61df-499b-b7e4-5058f2388778" targetPod="10.0.0.39:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:22:27.634071       1 gateway.go:764] "HandleResponseBody completed" requestID="03f9da2e-61df-499b-b7e4-5058f2388778" promptTokens=7622 completionTokens=10 stream=true
I0305 08:22:27.663192       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1866cb80-a3e1-4538-8b51-007120305983"
I0305 08:22:27.663392       1 gateway.go:207] "Processing request" requestID="1ecf8b34-1108-48c7-9791-31d83bad9941"
I0305 08:22:27.663419       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1ecf8b34-1108-48c7-9791-31d83bad9941"
I0305 08:22:27.663428       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:27.663449       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1866cb80-a3e1-4538-8b51-007120305983" model="qwen2-5-7b-instruct"
I0305 08:22:27.663552       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:27.663559       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:27.663564       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:27.663880       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:27.663930       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:27.663936       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:27.724468       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0605, numInputTokens, 7598
I0305 08:22:27.724492       1 tree.go:471] Updated node(0) last access: 157.9142 seconds
I0305 08:22:27.724498       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:27.724501       1 tree.go:471] Updated node(2) last access: 157.9142 seconds
I0305 08:22:27.724514       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:27.724517       1 tree.go:471] Updated node(45) last access: 157.9142 seconds
I0305 08:22:27.724521       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 08:22:27.724525       1 tree.go:471] Updated node(43) last access: 157.9142 seconds
I0305 08:22:27.724537       1 tree.go:667] Split complete - New node(374)
I0305 08:22:27.724541       1 tree.go:668] Split complete - Child node(62)
I0305 08:22:27.724547       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:22:27.724552       1 tree.go:471] Updated node(374) last access: 157.9143 seconds
I0305 08:22:27.724558       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:27.724563       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:27.724570       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:27.724577       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:27.724584       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:27.724565096 +0000 UTC m=+158.029467193]
I0305 08:22:27.724601       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:27.724610       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:27.724703       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7484
I0305 08:22:27.724715       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:27.724724       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.724732       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.724739       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.724745       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.724749       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.724755       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.724764       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:27.724775       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:27.724786       1 prefix_cache_and_load.go:584] latency, Route, 0.0612
I0305 08:22:27.724796       1 gateway.go:415] latency, selectTargetPod, 0.0612, target pod, 10.0.0.134:8000
I0305 08:22:27.724809       1 gateway.go:235] latency, HandleRequestBody, 0.0616
I0305 08:22:27.742243       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1866cb80-a3e1-4538-8b51-007120305983"
I0305 08:22:27.777632       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1ecf8b34-1108-48c7-9791-31d83bad9941"
I0305 08:22:27.777881       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1ecf8b34-1108-48c7-9791-31d83bad9941" model="qwen2-5-7b-instruct"
I0305 08:22:27.777960       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:27.777967       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:27.777971       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:27.778202       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:27.778247       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:27.778253       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:27.778680       1 gateway.go:608] "First token received" requestID="1866cb80-a3e1-4538-8b51-007120305983" ttft_ms=115
I0305 08:22:27.786948       1 gateway.go:207] "Processing request" requestID="34d3733d-e9e0-4316-b294-53caea59122b"
I0305 08:22:27.786980       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="34d3733d-e9e0-4316-b294-53caea59122b"
I0305 08:22:27.786991       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:27.798795       1 gateway.go:562] latency, 0.0000, summary, hash(request), 290f10a8, selectedpod, 10.0.3.41:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 08:22:27.798814       1 gateway.go:748] "Request completed" requestID="5776abc8-a181-41a8-9ba1-2893a14a5889" targetPod="10.0.3.41:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 08:22:27.798825       1 gateway.go:764] "HandleResponseBody completed" requestID="5776abc8-a181-41a8-9ba1-2893a14a5889" promptTokens=7614 completionTokens=10 stream=true
I0305 08:22:27.835205       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0569, numInputTokens, 7599
I0305 08:22:27.835220       1 tree.go:471] Updated node(0) last access: 158.0249 seconds
I0305 08:22:27.835226       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:27.835229       1 tree.go:471] Updated node(2) last access: 158.0249 seconds
I0305 08:22:27.835243       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:27.835248       1 tree.go:471] Updated node(24) last access: 158.0250 seconds
I0305 08:22:27.835258       1 tree.go:667] Split complete - New node(376)
I0305 08:22:27.835261       1 tree.go:668] Split complete - Child node(259)
I0305 08:22:27.835266       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:22:27.835271       1 tree.go:471] Updated node(376) last access: 158.0250 seconds
I0305 08:22:27.835276       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:27.835282       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:27.835288       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:27.835296       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:27.835303       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:27.835283812 +0000 UTC m=+158.140185909]
I0305 08:22:27.835319       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:27.835337       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:27.835415       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7483
I0305 08:22:27.835425       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:27.835435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.835441       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.835445       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.835452       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.835461       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.835469       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:27.835480       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:27.835490       1 prefix_cache_and_load.go:584] latency, Route, 0.0575
I0305 08:22:27.835503       1 gateway.go:415] latency, selectTargetPod, 0.0575, target pod, 10.0.3.30:8000
I0305 08:22:27.835514       1 gateway.go:235] latency, HandleRequestBody, 0.0579
I0305 08:22:27.852711       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1ecf8b34-1108-48c7-9791-31d83bad9941"
I0305 08:22:27.896418       1 gateway.go:608] "First token received" requestID="1ecf8b34-1108-48c7-9791-31d83bad9941" ttft_ms=118
I0305 08:22:27.939376       1 gateway.go:329] "-- In RequestBody processing ..." requestID="34d3733d-e9e0-4316-b294-53caea59122b"
I0305 08:22:27.939638       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="34d3733d-e9e0-4316-b294-53caea59122b" model="qwen2-5-7b-instruct"
I0305 08:22:27.939756       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:27.939767       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:27.939772       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:27.940093       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:27.940168       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:27.940175       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:27.952595       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2fd17c28, selectedpod, 10.0.0.134:8000, ttft, 115, tpot, 19, e2e, 289, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:27.952617       1 gateway.go:748] "Request completed" requestID="1866cb80-a3e1-4538-8b51-007120305983" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:27.952628       1 gateway.go:764] "HandleResponseBody completed" requestID="1866cb80-a3e1-4538-8b51-007120305983" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:27.999272       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0591, numInputTokens, 7603
I0305 08:22:27.999289       1 tree.go:471] Updated node(0) last access: 158.1890 seconds
I0305 08:22:27.999296       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:27.999299       1 tree.go:471] Updated node(2) last access: 158.1890 seconds
I0305 08:22:27.999312       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:27.999316       1 tree.go:471] Updated node(28) last access: 158.1890 seconds
I0305 08:22:27.999320       1 tree.go:490] Partial tokens match child node(198). Continue to go deeper in the radix tree
I0305 08:22:27.999324       1 tree.go:471] Updated node(198) last access: 158.1890 seconds
I0305 08:22:27.999338       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:22:27.999344       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 08:22:27.999353       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:22:27.999360       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:27.999367       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:27.999346851 +0000 UTC m=+158.304248948]
I0305 08:22:27.999384       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7482, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:22:27.999399       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:22:27.999505       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7482
I0305 08:22:27.999516       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:27.999535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.999551       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.999562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.999574       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.999581       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:27.999599       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:27.999612       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:27.999629       1 prefix_cache_and_load.go:584] latency, Route, 0.0599
I0305 08:22:27.999639       1 gateway.go:415] latency, selectTargetPod, 0.0599, target pod, 10.0.0.39:8000
I0305 08:22:27.999652       1 gateway.go:235] latency, HandleRequestBody, 0.0603
I0305 08:22:28.017552       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="34d3733d-e9e0-4316-b294-53caea59122b"
I0305 08:22:28.060441       1 gateway.go:608] "First token received" requestID="34d3733d-e9e0-4316-b294-53caea59122b" ttft_ms=121
I0305 08:22:28.069415       1 gateway.go:562] latency, 0.0001, summary, hash(request), 0020de9f, selectedpod, 10.0.3.30:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:28.069437       1 gateway.go:748] "Request completed" requestID="1ecf8b34-1108-48c7-9791-31d83bad9941" targetPod="10.0.3.30:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:28.069448       1 gateway.go:764] "HandleResponseBody completed" requestID="1ecf8b34-1108-48c7-9791-31d83bad9941" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:28.073699       1 gateway.go:207] "Processing request" requestID="96b13391-ac74-4605-8951-102a37045026"
I0305 08:22:28.073727       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="96b13391-ac74-4605-8951-102a37045026"
I0305 08:22:28.073736       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:28.073969       1 gateway.go:329] "-- In RequestBody processing ..." requestID="96b13391-ac74-4605-8951-102a37045026"
I0305 08:22:28.074204       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="96b13391-ac74-4605-8951-102a37045026" model="qwen2-5-7b-instruct"
I0305 08:22:28.074274       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:28.074282       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:28.074285       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:28.074518       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:28.074563       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:28.074569       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:28.133188       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0586, numInputTokens, 7601
I0305 08:22:28.133206       1 tree.go:471] Updated node(0) last access: 158.3229 seconds
I0305 08:22:28.133212       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:28.133216       1 tree.go:471] Updated node(2) last access: 158.3229 seconds
I0305 08:22:28.133228       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:28.133231       1 tree.go:471] Updated node(10) last access: 158.3229 seconds
I0305 08:22:28.133235       1 tree.go:490] Partial tokens match child node(76). Continue to go deeper in the radix tree
I0305 08:22:28.133240       1 tree.go:471] Updated node(76) last access: 158.3230 seconds
I0305 08:22:28.133250       1 tree.go:667] Split complete - New node(379)
I0305 08:22:28.133254       1 tree.go:668] Split complete - Child node(77)
I0305 08:22:28.133259       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:22:28.133263       1 tree.go:471] Updated node(379) last access: 158.3230 seconds
I0305 08:22:28.133269       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:28.133275       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:28.133281       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:28.133287       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:28.133295       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:28.133277016 +0000 UTC m=+158.438179113]
I0305 08:22:28.133313       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7485, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:28.133320       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:28.133405       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7485
I0305 08:22:28.133417       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:28.133426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.133432       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.133438       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.133443       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.133450       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.133455       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.133464       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:28.133474       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:28.133483       1 prefix_cache_and_load.go:584] latency, Route, 0.0592
I0305 08:22:28.133493       1 gateway.go:415] latency, selectTargetPod, 0.0592, target pod, 10.0.0.101:8000
I0305 08:22:28.133502       1 gateway.go:235] latency, HandleRequestBody, 0.0595
I0305 08:22:28.145080       1 gateway.go:207] "Processing request" requestID="5f5796b0-35bc-4701-8d83-151585c2dff3"
I0305 08:22:28.145111       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5f5796b0-35bc-4701-8d83-151585c2dff3"
I0305 08:22:28.145120       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:28.151438       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="96b13391-ac74-4605-8951-102a37045026"
I0305 08:22:28.185618       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5f5796b0-35bc-4701-8d83-151585c2dff3"
I0305 08:22:28.185756       1 gateway.go:207] "Processing request" requestID="3ec7ba9d-080e-44ee-b20d-33e78076ce2b"
I0305 08:22:28.185779       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3ec7ba9d-080e-44ee-b20d-33e78076ce2b"
I0305 08:22:28.185787       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:28.185872       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5f5796b0-35bc-4701-8d83-151585c2dff3" model="qwen2-5-7b-instruct"
I0305 08:22:28.185958       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:28.185965       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:28.185968       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:28.186210       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:28.186257       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:28.186262       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:28.187361       1 gateway.go:608] "First token received" requestID="96b13391-ac74-4605-8951-102a37045026" ttft_ms=113
I0305 08:22:28.233483       1 gateway.go:562] latency, 0.0001, summary, hash(request), 157b8e4b, selectedpod, 10.0.0.39:8000, ttft, 121, tpot, 19, e2e, 294, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:22:28.233505       1 gateway.go:748] "Request completed" requestID="34d3733d-e9e0-4316-b294-53caea59122b" targetPod="10.0.0.39:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:22:28.233521       1 gateway.go:764] "HandleResponseBody completed" requestID="34d3733d-e9e0-4316-b294-53caea59122b" promptTokens=7622 completionTokens=10 stream=true
I0305 08:22:28.245122       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0589, numInputTokens, 7602
I0305 08:22:28.245139       1 tree.go:471] Updated node(0) last access: 158.4349 seconds
I0305 08:22:28.245145       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:28.245149       1 tree.go:471] Updated node(2) last access: 158.4349 seconds
I0305 08:22:28.245164       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:28.245168       1 tree.go:471] Updated node(24) last access: 158.4349 seconds
I0305 08:22:28.245173       1 tree.go:490] Partial tokens match child node(289). Continue to go deeper in the radix tree
I0305 08:22:28.245177       1 tree.go:471] Updated node(289) last access: 158.4349 seconds
I0305 08:22:28.245186       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:22:28.245194       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:28.245203       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:28.245215       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:28.245225       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:28.24519676 +0000 UTC m=+158.550098862]
I0305 08:22:28.245250       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7489, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:22:28.245261       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:22:28.245364       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7489
I0305 08:22:28.245375       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:28.245390       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.245400       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.245405       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.245411       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.245416       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.245425       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:28.245434       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:28.245452       1 prefix_cache_and_load.go:584] latency, Route, 0.0595
I0305 08:22:28.245463       1 gateway.go:415] latency, selectTargetPod, 0.0595, target pod, 10.0.3.30:8000
I0305 08:22:28.245480       1 gateway.go:235] latency, HandleRequestBody, 0.0599
I0305 08:22:28.263472       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5f5796b0-35bc-4701-8d83-151585c2dff3"
I0305 08:22:28.298849       1 gateway.go:608] "First token received" requestID="5f5796b0-35bc-4701-8d83-151585c2dff3" ttft_ms=113
I0305 08:22:28.360024       1 gateway.go:562] latency, 0.0001, summary, hash(request), dcb09a05, selectedpod, 10.0.0.101:8000, ttft, 113, tpot, 19, e2e, 285, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:28.360045       1 gateway.go:748] "Request completed" requestID="96b13391-ac74-4605-8951-102a37045026" targetPod="10.0.0.101:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:28.360060       1 gateway.go:764] "HandleResponseBody completed" requestID="96b13391-ac74-4605-8951-102a37045026" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:28.381497       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3ec7ba9d-080e-44ee-b20d-33e78076ce2b"
I0305 08:22:28.381658       1 gateway.go:207] "Processing request" requestID="83714691-75b6-4ad5-ac7a-05274d696096"
I0305 08:22:28.381700       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="83714691-75b6-4ad5-ac7a-05274d696096"
I0305 08:22:28.381711       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:28.381735       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3ec7ba9d-080e-44ee-b20d-33e78076ce2b" model="qwen2-5-7b-instruct"
I0305 08:22:28.381811       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:28.381818       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:28.381821       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:28.382085       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:28.382132       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:28.382138       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:28.442458       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0603, numInputTokens, 7600
I0305 08:22:28.442477       1 tree.go:471] Updated node(0) last access: 158.6322 seconds
I0305 08:22:28.442484       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:28.442488       1 tree.go:471] Updated node(2) last access: 158.6322 seconds
I0305 08:22:28.442501       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:28.442503       1 tree.go:471] Updated node(21) last access: 158.6322 seconds
I0305 08:22:28.442507       1 tree.go:490] Partial tokens match child node(280). Continue to go deeper in the radix tree
I0305 08:22:28.442511       1 tree.go:471] Updated node(280) last access: 158.6322 seconds
I0305 08:22:28.442518       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:28.442523       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:22:28.442530       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:28.442538       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:28.442544       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:28.442525626 +0000 UTC m=+158.747427723]
I0305 08:22:28.442561       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7485, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:28.442570       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:28.442643       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7485
I0305 08:22:28.442654       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:28.442690       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.442698       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.442704       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.442708       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.442714       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.442724       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:28.442734       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:28.442753       1 prefix_cache_and_load.go:584] latency, Route, 0.0609
I0305 08:22:28.442762       1 gateway.go:415] latency, selectTargetPod, 0.0610, target pod, 10.0.3.41:8000
I0305 08:22:28.442775       1 gateway.go:235] latency, HandleRequestBody, 0.0613
I0305 08:22:28.458041       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3ec7ba9d-080e-44ee-b20d-33e78076ce2b"
I0305 08:22:28.471828       1 gateway.go:562] latency, 0.0000, summary, hash(request), be7387cd, selectedpod, 10.0.3.30:8000, ttft, 113, tpot, 19, e2e, 286, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:28.471849       1 gateway.go:748] "Request completed" requestID="5f5796b0-35bc-4701-8d83-151585c2dff3" targetPod="10.0.3.30:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:28.471859       1 gateway.go:764] "HandleResponseBody completed" requestID="5f5796b0-35bc-4701-8d83-151585c2dff3" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:28.486390       1 gateway.go:329] "-- In RequestBody processing ..." requestID="83714691-75b6-4ad5-ac7a-05274d696096"
I0305 08:22:28.486599       1 gateway.go:207] "Processing request" requestID="8ed7c0e8-8f03-45ec-9dc4-63aea9efcce5"
I0305 08:22:28.486621       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="83714691-75b6-4ad5-ac7a-05274d696096" model="qwen2-5-7b-instruct"
I0305 08:22:28.486631       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8ed7c0e8-8f03-45ec-9dc4-63aea9efcce5"
I0305 08:22:28.486644       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:28.486706       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:28.486713       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:28.486716       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:28.486936       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:28.486982       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:28.486988       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:28.493994       1 gateway.go:608] "First token received" requestID="3ec7ba9d-080e-44ee-b20d-33e78076ce2b" ttft_ms=112
I0305 08:22:28.546288       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0593, numInputTokens, 7596
I0305 08:22:28.546307       1 tree.go:471] Updated node(0) last access: 158.7360 seconds
I0305 08:22:28.546315       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:28.546320       1 tree.go:471] Updated node(2) last access: 158.7360 seconds
I0305 08:22:28.546345       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:28.546351       1 tree.go:471] Updated node(6) last access: 158.7361 seconds
I0305 08:22:28.546358       1 tree.go:490] Partial tokens match child node(114). Continue to go deeper in the radix tree
I0305 08:22:28.546364       1 tree.go:471] Updated node(114) last access: 158.7361 seconds
I0305 08:22:28.546378       1 tree.go:667] Split complete - New node(383)
I0305 08:22:28.546383       1 tree.go:668] Split complete - Child node(223)
I0305 08:22:28.546391       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 08:22:28.546397       1 tree.go:471] Updated node(383) last access: 158.7361 seconds
I0305 08:22:28.546407       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 104 tokens:
I0305 08:22:28.546413       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:22:28.546423       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:28.546431       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:28.546439       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:28.546416353 +0000 UTC m=+158.851318467]
I0305 08:22:28.546477       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7492, Matching ratio: 0.9863, # Matched pods: 0, Matched pods: []
I0305 08:22:28.546490       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9863 > 0.5000)
I0305 08:22:28.546569       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7492
I0305 08:22:28.546584       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:28.546598       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.546607       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.546617       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.546626       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.546633       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.546642       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.546657       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:28.546681       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:28.546696       1 prefix_cache_and_load.go:584] latency, Route, 0.0600
I0305 08:22:28.546709       1 gateway.go:415] latency, selectTargetPod, 0.0600, target pod, 10.0.1.22:8000
I0305 08:22:28.546724       1 gateway.go:235] latency, HandleRequestBody, 0.0603
I0305 08:22:28.565307       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="83714691-75b6-4ad5-ac7a-05274d696096"
I0305 08:22:28.601210       1 gateway.go:608] "First token received" requestID="83714691-75b6-4ad5-ac7a-05274d696096" ttft_ms=114
I0305 08:22:28.627773       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8ed7c0e8-8f03-45ec-9dc4-63aea9efcce5"
I0305 08:22:28.628004       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8ed7c0e8-8f03-45ec-9dc4-63aea9efcce5" model="qwen2-5-7b-instruct"
I0305 08:22:28.628106       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:28.628115       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:28.628118       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:28.628361       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:28.628453       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:28.628461       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:28.666804       1 gateway.go:562] latency, 0.0001, summary, hash(request), c048a8a8, selectedpod, 10.0.3.41:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:28.666824       1 gateway.go:748] "Request completed" requestID="3ec7ba9d-080e-44ee-b20d-33e78076ce2b" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:28.666835       1 gateway.go:764] "HandleResponseBody completed" requestID="3ec7ba9d-080e-44ee-b20d-33e78076ce2b" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:28.689400       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0609, numInputTokens, 7597
I0305 08:22:28.689418       1 tree.go:471] Updated node(0) last access: 158.8791 seconds
I0305 08:22:28.689424       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:28.689428       1 tree.go:471] Updated node(2) last access: 158.8791 seconds
I0305 08:22:28.689440       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:28.689445       1 tree.go:471] Updated node(73) last access: 158.8792 seconds
I0305 08:22:28.689452       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:22:28.689458       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 08:22:28.689464       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:28.689471       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:28.689477       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:28.689459707 +0000 UTC m=+158.994361804]
I0305 08:22:28.689493       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:22:28.689503       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:22:28.689574       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:22:28.689585       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:28.689594       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.689600       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.689606       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.689610       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:28.689620       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:28.689628       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:28.689640       1 prefix_cache_and_load.go:584] latency, Route, 0.0615
I0305 08:22:28.689649       1 gateway.go:415] latency, selectTargetPod, 0.0615, target pod, 10.0.0.134:8000
I0305 08:22:28.689674       1 gateway.go:235] latency, HandleRequestBody, 0.0619
I0305 08:22:28.706734       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8ed7c0e8-8f03-45ec-9dc4-63aea9efcce5"
I0305 08:22:28.743119       1 gateway.go:608] "First token received" requestID="8ed7c0e8-8f03-45ec-9dc4-63aea9efcce5" ttft_ms=115
I0305 08:22:28.773856       1 gateway.go:562] latency, 0.0000, summary, hash(request), cd0a8c41, selectedpod, 10.0.1.22:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:28.773876       1 gateway.go:748] "Request completed" requestID="83714691-75b6-4ad5-ac7a-05274d696096" targetPod="10.0.1.22:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:28.773891       1 gateway.go:764] "HandleResponseBody completed" requestID="83714691-75b6-4ad5-ac7a-05274d696096" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:28.916777       1 gateway.go:562] latency, 0.0000, summary, hash(request), 09037716, selectedpod, 10.0.0.134:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:28.916796       1 gateway.go:748] "Request completed" requestID="8ed7c0e8-8f03-45ec-9dc4-63aea9efcce5" targetPod="10.0.0.134:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:28.916806       1 gateway.go:764] "HandleResponseBody completed" requestID="8ed7c0e8-8f03-45ec-9dc4-63aea9efcce5" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:29.146153       1 gateway.go:207] "Processing request" requestID="68679cf5-5cc2-4052-b83e-dd44ba2870a7"
I0305 08:22:29.146188       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="68679cf5-5cc2-4052-b83e-dd44ba2870a7"
I0305 08:22:29.146200       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:29.230449       1 gateway.go:329] "-- In RequestBody processing ..." requestID="68679cf5-5cc2-4052-b83e-dd44ba2870a7"
I0305 08:22:29.230695       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="68679cf5-5cc2-4052-b83e-dd44ba2870a7" model="qwen2-5-7b-instruct"
I0305 08:22:29.230783       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:29.230790       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:29.230794       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:29.231120       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:29.231171       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:29.231177       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:29.244254       1 gateway.go:207] "Processing request" requestID="2fcac367-65d4-457b-8162-ade6de036e62"
I0305 08:22:29.244287       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2fcac367-65d4-457b-8162-ade6de036e62"
I0305 08:22:29.244296       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:29.289544       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0584, numInputTokens, 7596
I0305 08:22:29.289562       1 tree.go:471] Updated node(0) last access: 159.4793 seconds
I0305 08:22:29.289568       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:29.289572       1 tree.go:471] Updated node(2) last access: 159.4793 seconds
I0305 08:22:29.289584       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:29.289587       1 tree.go:471] Updated node(24) last access: 159.4793 seconds
I0305 08:22:29.289592       1 tree.go:490] Partial tokens match child node(215). Continue to go deeper in the radix tree
I0305 08:22:29.289596       1 tree.go:471] Updated node(215) last access: 159.4793 seconds
I0305 08:22:29.289604       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:29.289610       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:22:29.289618       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:29.289625       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:29.289633       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:29.289611873 +0000 UTC m=+159.594513970]
I0305 08:22:29.289651       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7481, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:29.289660       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:29.289782       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7481
I0305 08:22:29.289792       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:29.289802       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.289808       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.289813       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.289819       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.289824       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.289834       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:29.289845       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:29.289854       1 prefix_cache_and_load.go:584] latency, Route, 0.0591
I0305 08:22:29.289863       1 gateway.go:415] latency, selectTargetPod, 0.0591, target pod, 10.0.3.30:8000
I0305 08:22:29.289875       1 gateway.go:235] latency, HandleRequestBody, 0.0594
I0305 08:22:29.305561       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="68679cf5-5cc2-4052-b83e-dd44ba2870a7"
I0305 08:22:29.349603       1 gateway.go:608] "First token received" requestID="68679cf5-5cc2-4052-b83e-dd44ba2870a7" ttft_ms=119
I0305 08:22:29.400440       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2fcac367-65d4-457b-8162-ade6de036e62"
I0305 08:22:29.400637       1 gateway.go:207] "Processing request" requestID="2e859ca0-050e-4abd-b685-0907b0b3b811"
I0305 08:22:29.400676       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2e859ca0-050e-4abd-b685-0907b0b3b811"
I0305 08:22:29.400689       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:29.400723       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2fcac367-65d4-457b-8162-ade6de036e62" model="qwen2-5-7b-instruct"
I0305 08:22:29.400824       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:29.400831       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:29.400835       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:29.401207       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:29.401281       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:29.401291       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:29.461427       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0601, numInputTokens, 7602
I0305 08:22:29.461448       1 tree.go:471] Updated node(0) last access: 159.6512 seconds
I0305 08:22:29.461454       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:29.461458       1 tree.go:471] Updated node(2) last access: 159.6512 seconds
I0305 08:22:29.461471       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:29.461474       1 tree.go:471] Updated node(73) last access: 159.6512 seconds
I0305 08:22:29.461484       1 tree.go:667] Split complete - New node(387)
I0305 08:22:29.461489       1 tree.go:668] Split complete - Child node(332)
I0305 08:22:29.461494       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:22:29.461500       1 tree.go:471] Updated node(387) last access: 159.6512 seconds
I0305 08:22:29.461506       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:22:29.461510       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:29.461516       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:29.461522       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:29.461528       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:29.461511947 +0000 UTC m=+159.766414044]
I0305 08:22:29.461544       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7482, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:22:29.461553       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:22:29.461676       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7482
I0305 08:22:29.461689       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:29.461699       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.461706       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.461720       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.461727       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.461734       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.461744       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:29.461754       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:29.461764       1 prefix_cache_and_load.go:584] latency, Route, 0.0609
I0305 08:22:29.461776       1 gateway.go:415] latency, selectTargetPod, 0.0610, target pod, 10.0.0.134:8000
I0305 08:22:29.461790       1 gateway.go:235] latency, HandleRequestBody, 0.0614
I0305 08:22:29.480474       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2fcac367-65d4-457b-8162-ade6de036e62"
I0305 08:22:29.513372       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2e859ca0-050e-4abd-b685-0907b0b3b811"
I0305 08:22:29.513537       1 gateway.go:207] "Processing request" requestID="2dd214c3-3662-4e90-9c98-80117043d223"
I0305 08:22:29.513566       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2dd214c3-3662-4e90-9c98-80117043d223"
I0305 08:22:29.513577       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:29.513601       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2e859ca0-050e-4abd-b685-0907b0b3b811" model="qwen2-5-7b-instruct"
I0305 08:22:29.513691       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:29.513698       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:29.513701       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:29.513954       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:29.514000       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:29.514005       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:29.522528       1 gateway.go:562] latency, 0.0001, summary, hash(request), 41b1992a, selectedpod, 10.0.3.30:8000, ttft, 119, tpot, 19, e2e, 292, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:29.522548       1 gateway.go:748] "Request completed" requestID="68679cf5-5cc2-4052-b83e-dd44ba2870a7" targetPod="10.0.3.30:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:29.522565       1 gateway.go:764] "HandleResponseBody completed" requestID="68679cf5-5cc2-4052-b83e-dd44ba2870a7" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:29.524282       1 gateway.go:608] "First token received" requestID="2fcac367-65d4-457b-8162-ade6de036e62" ttft_ms=123
I0305 08:22:29.571030       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0570, numInputTokens, 7603
I0305 08:22:29.571046       1 tree.go:471] Updated node(0) last access: 159.7608 seconds
I0305 08:22:29.571053       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:29.571056       1 tree.go:471] Updated node(2) last access: 159.7608 seconds
I0305 08:22:29.571068       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:29.571073       1 tree.go:471] Updated node(10) last access: 159.7608 seconds
I0305 08:22:29.571080       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 125 tokens:
I0305 08:22:29.571085       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 08:22:29.571092       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:22:29.571100       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:29.571105       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:29.571087444 +0000 UTC m=+159.875989541]
I0305 08:22:29.571123       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7478, Matching ratio: 0.9836, # Matched pods: 0, Matched pods: []
I0305 08:22:29.571131       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9836 > 0.5000)
I0305 08:22:29.571220       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7478
I0305 08:22:29.571231       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:29.571240       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.571248       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.571254       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.571260       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.571270       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:29.571281       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:29.571292       1 prefix_cache_and_load.go:584] latency, Route, 0.0576
I0305 08:22:29.571303       1 gateway.go:415] latency, selectTargetPod, 0.0576, target pod, 10.0.0.101:8000
I0305 08:22:29.571314       1 gateway.go:235] latency, HandleRequestBody, 0.0579
I0305 08:22:29.589649       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2e859ca0-050e-4abd-b685-0907b0b3b811"
I0305 08:22:29.633104       1 gateway.go:608] "First token received" requestID="2e859ca0-050e-4abd-b685-0907b0b3b811" ttft_ms=119
I0305 08:22:29.697588       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6441bbed, selectedpod, 10.0.0.134:8000, ttft, 123, tpot, 19, e2e, 297, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:29.697609       1 gateway.go:748] "Request completed" requestID="2fcac367-65d4-457b-8162-ade6de036e62" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:29.697620       1 gateway.go:764] "HandleResponseBody completed" requestID="2fcac367-65d4-457b-8162-ade6de036e62" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:29.786547       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2dd214c3-3662-4e90-9c98-80117043d223"
I0305 08:22:29.786714       1 gateway.go:207] "Processing request" requestID="aa8bcd44-6311-465f-8549-bdff77ecc525"
I0305 08:22:29.786744       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="aa8bcd44-6311-465f-8549-bdff77ecc525"
I0305 08:22:29.786755       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:29.786781       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2dd214c3-3662-4e90-9c98-80117043d223" model="qwen2-5-7b-instruct"
I0305 08:22:29.786873       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:29.786879       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:29.786883       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:29.787194       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:29.787243       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:29.787249       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:29.805813       1 gateway.go:562] latency, 0.0001, summary, hash(request), 963670a4, selectedpod, 10.0.0.101:8000, ttft, 119, tpot, 19, e2e, 292, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:22:29.805844       1 gateway.go:748] "Request completed" requestID="2e859ca0-050e-4abd-b685-0907b0b3b811" targetPod="10.0.0.101:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:22:29.805862       1 gateway.go:764] "HandleResponseBody completed" requestID="2e859ca0-050e-4abd-b685-0907b0b3b811" promptTokens=7622 completionTokens=10 stream=true
I0305 08:22:29.849101       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0618, numInputTokens, 7597
I0305 08:22:29.849119       1 tree.go:471] Updated node(0) last access: 160.0388 seconds
I0305 08:22:29.849125       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:29.849128       1 tree.go:471] Updated node(2) last access: 160.0388 seconds
I0305 08:22:29.849141       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:29.849146       1 tree.go:471] Updated node(6) last access: 160.0389 seconds
I0305 08:22:29.849149       1 tree.go:490] Partial tokens match child node(344). Continue to go deeper in the radix tree
I0305 08:22:29.849154       1 tree.go:471] Updated node(344) last access: 160.0389 seconds
I0305 08:22:29.849165       1 tree.go:667] Split complete - New node(390)
I0305 08:22:29.849170       1 tree.go:668] Split complete - Child node(345)
I0305 08:22:29.849176       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:29.849181       1 tree.go:471] Updated node(390) last access: 160.0389 seconds
I0305 08:22:29.849186       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0305 08:22:29.849192       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:29.849198       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:29.849206       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:29.849211       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:29.849193877 +0000 UTC m=+160.154095974]
I0305 08:22:29.849228       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7489, Matching ratio: 0.9858, # Matched pods: 0, Matched pods: []
I0305 08:22:29.849236       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9858 > 0.5000)
I0305 08:22:29.849321       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7489
I0305 08:22:29.849342       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:29.849351       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.849358       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.849364       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.849368       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.849371       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.849377       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:29.849388       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:29.849398       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:29.849407       1 prefix_cache_and_load.go:584] latency, Route, 0.0625
I0305 08:22:29.849421       1 gateway.go:415] latency, selectTargetPod, 0.0625, target pod, 10.0.1.22:8000
I0305 08:22:29.849433       1 gateway.go:235] latency, HandleRequestBody, 0.0629
I0305 08:22:29.869355       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2dd214c3-3662-4e90-9c98-80117043d223"
I0305 08:22:29.905354       1 gateway.go:608] "First token received" requestID="2dd214c3-3662-4e90-9c98-80117043d223" ttft_ms=118
I0305 08:22:29.963428       1 gateway.go:329] "-- In RequestBody processing ..." requestID="aa8bcd44-6311-465f-8549-bdff77ecc525"
I0305 08:22:29.963619       1 gateway.go:207] "Processing request" requestID="0bccc1c4-2796-4630-9749-4a9d71e65eee"
I0305 08:22:29.963654       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="aa8bcd44-6311-465f-8549-bdff77ecc525" model="qwen2-5-7b-instruct"
I0305 08:22:29.963656       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0bccc1c4-2796-4630-9749-4a9d71e65eee"
I0305 08:22:29.963682       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:29.963734       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:29.963740       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:29.963744       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:29.964034       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:29.964086       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:29.964092       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:30.023912       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0598, numInputTokens, 7597
I0305 08:22:30.023933       1 tree.go:471] Updated node(0) last access: 160.2136 seconds
I0305 08:22:30.023939       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:30.023942       1 tree.go:471] Updated node(2) last access: 160.2137 seconds
I0305 08:22:30.023957       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:30.023960       1 tree.go:471] Updated node(24) last access: 160.2137 seconds
I0305 08:22:30.023965       1 tree.go:490] Partial tokens match child node(169). Continue to go deeper in the radix tree
I0305 08:22:30.023969       1 tree.go:471] Updated node(169) last access: 160.2137 seconds
I0305 08:22:30.023973       1 tree.go:490] Partial tokens match child node(196). Continue to go deeper in the radix tree
I0305 08:22:30.023978       1 tree.go:471] Updated node(196) last access: 160.2137 seconds
I0305 08:22:30.023985       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 08:22:30.023991       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:30.023999       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:30.024006       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:30.024013       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:30.023992923 +0000 UTC m=+160.328895021]
I0305 08:22:30.024030       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7488, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 08:22:30.024039       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 08:22:30.024136       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7488
I0305 08:22:30.024147       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:30.024157       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.024163       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.024167       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.024172       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.024177       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.024182       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.024192       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:30.024203       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:30.024214       1 prefix_cache_and_load.go:584] latency, Route, 0.0605
I0305 08:22:30.024223       1 gateway.go:415] latency, selectTargetPod, 0.0605, target pod, 10.0.3.30:8000
I0305 08:22:30.024235       1 gateway.go:235] latency, HandleRequestBody, 0.0608
I0305 08:22:30.040088       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="aa8bcd44-6311-465f-8549-bdff77ecc525"
I0305 08:22:30.075858       1 gateway.go:608] "First token received" requestID="aa8bcd44-6311-465f-8549-bdff77ecc525" ttft_ms=112
I0305 08:22:30.078084       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6b87794b, selectedpod, 10.0.1.22:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:30.078104       1 gateway.go:748] "Request completed" requestID="2dd214c3-3662-4e90-9c98-80117043d223" targetPod="10.0.1.22:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:30.078116       1 gateway.go:764] "HandleResponseBody completed" requestID="2dd214c3-3662-4e90-9c98-80117043d223" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:30.213165       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0bccc1c4-2796-4630-9749-4a9d71e65eee"
I0305 08:22:30.213403       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0bccc1c4-2796-4630-9749-4a9d71e65eee" model="qwen2-5-7b-instruct"
I0305 08:22:30.213482       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:30.213489       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:30.213493       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:30.213833       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:30.213898       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:30.213904       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:30.217057       1 gateway.go:207] "Processing request" requestID="3c59ed5d-ab17-4d59-9f1e-8126366b935a"
I0305 08:22:30.217088       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3c59ed5d-ab17-4d59-9f1e-8126366b935a"
I0305 08:22:30.217097       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:30.249266       1 gateway.go:562] latency, 0.0000, summary, hash(request), 14f45654, selectedpod, 10.0.3.30:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:30.249292       1 gateway.go:748] "Request completed" requestID="aa8bcd44-6311-465f-8549-bdff77ecc525" targetPod="10.0.3.30:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:30.249306       1 gateway.go:764] "HandleResponseBody completed" requestID="aa8bcd44-6311-465f-8549-bdff77ecc525" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:30.273286       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0594, numInputTokens, 7600
I0305 08:22:30.273303       1 tree.go:471] Updated node(0) last access: 160.4630 seconds
I0305 08:22:30.273310       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:30.273313       1 tree.go:471] Updated node(2) last access: 160.4630 seconds
I0305 08:22:30.273337       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:30.273341       1 tree.go:471] Updated node(73) last access: 160.4631 seconds
I0305 08:22:30.273354       1 tree.go:667] Split complete - New node(393)
I0305 08:22:30.273358       1 tree.go:668] Split complete - Child node(385)
I0305 08:22:30.273363       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:22:30.273369       1 tree.go:471] Updated node(393) last access: 160.4631 seconds
I0305 08:22:30.273375       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:30.273379       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:30.273387       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:30.273393       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:30.273398       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:30.273381372 +0000 UTC m=+160.578283469]
I0305 08:22:30.273416       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:30.273425       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:30.273540       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7484
I0305 08:22:30.273551       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:30.273562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.273568       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.273572       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.273578       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.273583       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.273595       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:30.273605       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:30.273614       1 prefix_cache_and_load.go:584] latency, Route, 0.0601
I0305 08:22:30.273624       1 gateway.go:415] latency, selectTargetPod, 0.0601, target pod, 10.0.0.134:8000
I0305 08:22:30.273636       1 gateway.go:235] latency, HandleRequestBody, 0.0605
I0305 08:22:30.290806       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0bccc1c4-2796-4630-9749-4a9d71e65eee"
I0305 08:22:30.326738       1 gateway.go:608] "First token received" requestID="0bccc1c4-2796-4630-9749-4a9d71e65eee" ttft_ms=113
I0305 08:22:30.421231       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3c59ed5d-ab17-4d59-9f1e-8126366b935a"
I0305 08:22:30.421442       1 gateway.go:207] "Processing request" requestID="f51277ad-917d-4691-8523-6b0df885a1e0"
I0305 08:22:30.421471       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3c59ed5d-ab17-4d59-9f1e-8126366b935a" model="qwen2-5-7b-instruct"
I0305 08:22:30.421474       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f51277ad-917d-4691-8523-6b0df885a1e0"
I0305 08:22:30.421487       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:30.421557       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:30.421564       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:30.421568       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:30.421926       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:30.421976       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:30.421982       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:30.482777       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0608, numInputTokens, 7593
I0305 08:22:30.482800       1 tree.go:471] Updated node(0) last access: 160.6725 seconds
I0305 08:22:30.482806       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:30.482810       1 tree.go:471] Updated node(2) last access: 160.6725 seconds
I0305 08:22:30.482822       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:30.482825       1 tree.go:471] Updated node(45) last access: 160.6725 seconds
I0305 08:22:30.482836       1 tree.go:667] Split complete - New node(395)
I0305 08:22:30.482841       1 tree.go:668] Split complete - Child node(296)
I0305 08:22:30.482846       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 08:22:30.482852       1 tree.go:471] Updated node(395) last access: 160.6726 seconds
I0305 08:22:30.482867       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:22:30.482895       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7593 tokens
I0305 08:22:30.482901       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 08:22:30.482907       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:30.482915       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:30.482896592 +0000 UTC m=+160.787798689]
I0305 08:22:30.482932       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7480, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:22:30.482939       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:22:30.483042       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7480
I0305 08:22:30.483052       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:30.483060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.483065       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.483072       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.483075       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.483083       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.483092       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:30.483103       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:30.483115       1 prefix_cache_and_load.go:584] latency, Route, 0.0616
I0305 08:22:30.483126       1 gateway.go:415] latency, selectTargetPod, 0.0616, target pod, 10.0.0.134:8000
I0305 08:22:30.483140       1 gateway.go:235] latency, HandleRequestBody, 0.0619
I0305 08:22:30.500301       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3c59ed5d-ab17-4d59-9f1e-8126366b935a"
I0305 08:22:30.500655       1 gateway.go:562] latency, 0.0001, summary, hash(request), 883e60e6, selectedpod, 10.0.0.134:8000, ttft, 113, tpot, 19, e2e, 287, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:30.500693       1 gateway.go:748] "Request completed" requestID="0bccc1c4-2796-4630-9749-4a9d71e65eee" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:30.500706       1 gateway.go:764] "HandleResponseBody completed" requestID="0bccc1c4-2796-4630-9749-4a9d71e65eee" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:30.552471       1 gateway.go:608] "First token received" requestID="3c59ed5d-ab17-4d59-9f1e-8126366b935a" ttft_ms=131
I0305 08:22:30.609289       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f51277ad-917d-4691-8523-6b0df885a1e0"
I0305 08:22:30.609543       1 gateway.go:207] "Processing request" requestID="12ac0f59-2349-481f-a947-390013fdc47d"
I0305 08:22:30.609576       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="12ac0f59-2349-481f-a947-390013fdc47d"
I0305 08:22:30.609583       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f51277ad-917d-4691-8523-6b0df885a1e0" model="qwen2-5-7b-instruct"
I0305 08:22:30.609585       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:30.609693       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:30.609702       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:30.609705       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:30.610038       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:30.610089       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:30.610095       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:30.670799       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0607, numInputTokens, 7600
I0305 08:22:30.670820       1 tree.go:471] Updated node(0) last access: 160.8605 seconds
I0305 08:22:30.670827       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:30.670830       1 tree.go:471] Updated node(2) last access: 160.8605 seconds
I0305 08:22:30.670842       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:30.670846       1 tree.go:471] Updated node(57) last access: 160.8606 seconds
I0305 08:22:30.670853       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:22:30.670859       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:22:30.670866       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:30.670874       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:30.670880       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:30.670861102 +0000 UTC m=+160.975763199]
I0305 08:22:30.670896       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:22:30.670906       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:22:30.670985       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7478
I0305 08:22:30.670995       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:30.671006       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.671011       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.671017       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.671023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.671032       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:30.671043       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:30.671054       1 prefix_cache_and_load.go:584] latency, Route, 0.0614
I0305 08:22:30.671064       1 gateway.go:415] latency, selectTargetPod, 0.0614, target pod, 10.0.1.28:8000
I0305 08:22:30.671077       1 gateway.go:235] latency, HandleRequestBody, 0.0618
I0305 08:22:30.690597       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f51277ad-917d-4691-8523-6b0df885a1e0"
I0305 08:22:30.725514       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d9a836e, selectedpod, 10.0.0.134:8000, ttft, 131, tpot, 19, e2e, 304, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 08:22:30.725536       1 gateway.go:748] "Request completed" requestID="3c59ed5d-ab17-4d59-9f1e-8126366b935a" targetPod="10.0.0.134:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 08:22:30.725547       1 gateway.go:764] "HandleResponseBody completed" requestID="3c59ed5d-ab17-4d59-9f1e-8126366b935a" promptTokens=7612 completionTokens=10 stream=true
I0305 08:22:30.734414       1 gateway.go:608] "First token received" requestID="f51277ad-917d-4691-8523-6b0df885a1e0" ttft_ms=125
I0305 08:22:30.776343       1 gateway.go:329] "-- In RequestBody processing ..." requestID="12ac0f59-2349-481f-a947-390013fdc47d"
I0305 08:22:30.776524       1 gateway.go:207] "Processing request" requestID="c7c0dc6f-370f-464f-807a-23d96703e5d5"
I0305 08:22:30.776552       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c7c0dc6f-370f-464f-807a-23d96703e5d5"
I0305 08:22:30.776561       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:30.776567       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="12ac0f59-2349-481f-a947-390013fdc47d" model="qwen2-5-7b-instruct"
I0305 08:22:30.776643       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:30.776650       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:30.776653       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:30.776955       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:30.777002       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:30.777008       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:30.836323       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0593, numInputTokens, 7599
I0305 08:22:30.836354       1 tree.go:471] Updated node(0) last access: 161.0261 seconds
I0305 08:22:30.836360       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:30.836365       1 tree.go:471] Updated node(2) last access: 161.0261 seconds
I0305 08:22:30.836379       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:30.836382       1 tree.go:471] Updated node(57) last access: 161.0261 seconds
I0305 08:22:30.836389       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 08:22:30.836392       1 tree.go:471] Updated node(175) last access: 161.0261 seconds
I0305 08:22:30.836400       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:30.836406       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:30.836414       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:30.836421       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:30.836427       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:30.836408563 +0000 UTC m=+161.141310661]
I0305 08:22:30.836445       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7481, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:30.836452       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:30.836550       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7481
I0305 08:22:30.836561       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:30.836571       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.836577       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.836583       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.836587       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.836592       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.836602       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:30.836612       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:30.836623       1 prefix_cache_and_load.go:584] latency, Route, 0.0600
I0305 08:22:30.836636       1 gateway.go:415] latency, selectTargetPod, 0.0600, target pod, 10.0.1.28:8000
I0305 08:22:30.836647       1 gateway.go:235] latency, HandleRequestBody, 0.0603
I0305 08:22:30.857795       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="12ac0f59-2349-481f-a947-390013fdc47d"
I0305 08:22:30.909253       1 gateway.go:608] "First token received" requestID="12ac0f59-2349-481f-a947-390013fdc47d" ttft_ms=132
I0305 08:22:30.910103       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c7c0dc6f-370f-464f-807a-23d96703e5d5"
I0305 08:22:30.910294       1 gateway.go:207] "Processing request" requestID="397024e6-1a1f-4fcc-b07b-b9528c17932f"
I0305 08:22:30.910344       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="397024e6-1a1f-4fcc-b07b-b9528c17932f"
I0305 08:22:30.910358       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:30.910422       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c7c0dc6f-370f-464f-807a-23d96703e5d5" model="qwen2-5-7b-instruct"
I0305 08:22:30.910523       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:30.910530       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:30.910533       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:30.910841       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:30.910890       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:30.910897       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:30.949639       1 gateway.go:562] latency, 0.0001, summary, hash(request), 40676ed7, selectedpod, 10.0.1.28:8000, ttft, 125, tpot, 23, e2e, 340, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:30.949659       1 gateway.go:748] "Request completed" requestID="f51277ad-917d-4691-8523-6b0df885a1e0" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:30.949683       1 gateway.go:764] "HandleResponseBody completed" requestID="f51277ad-917d-4691-8523-6b0df885a1e0" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:30.972353       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0614, numInputTokens, 7595
I0305 08:22:30.972371       1 tree.go:471] Updated node(0) last access: 161.1621 seconds
I0305 08:22:30.972377       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:30.972381       1 tree.go:471] Updated node(2) last access: 161.1621 seconds
I0305 08:22:30.972392       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:30.972396       1 tree.go:471] Updated node(6) last access: 161.1621 seconds
I0305 08:22:30.972399       1 tree.go:490] Partial tokens match child node(107). Continue to go deeper in the radix tree
I0305 08:22:30.972404       1 tree.go:471] Updated node(107) last access: 161.1621 seconds
I0305 08:22:30.972411       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 08:22:30.972416       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7595 tokens
I0305 08:22:30.972423       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 08:22:30.972431       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:30.972438       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:30.972418259 +0000 UTC m=+161.277320357]
I0305 08:22:30.972455       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7483, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 08:22:30.972464       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 08:22:30.972546       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7483
I0305 08:22:30.972557       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:30.972567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.972574       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.972579       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.972584       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.972591       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:30.972601       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:30.972612       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:30.972621       1 prefix_cache_and_load.go:584] latency, Route, 0.0621
I0305 08:22:30.972632       1 gateway.go:415] latency, selectTargetPod, 0.0621, target pod, 10.0.1.22:8000
I0305 08:22:30.972643       1 gateway.go:235] latency, HandleRequestBody, 0.0625
I0305 08:22:30.991534       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c7c0dc6f-370f-464f-807a-23d96703e5d5"
I0305 08:22:31.027771       1 gateway.go:608] "First token received" requestID="c7c0dc6f-370f-464f-807a-23d96703e5d5" ttft_ms=117
I0305 08:22:31.077724       1 gateway.go:329] "-- In RequestBody processing ..." requestID="397024e6-1a1f-4fcc-b07b-b9528c17932f"
I0305 08:22:31.077906       1 gateway.go:207] "Processing request" requestID="12b07ae1-5c6d-4b04-a374-f1df3d9514fc"
I0305 08:22:31.077944       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="12b07ae1-5c6d-4b04-a374-f1df3d9514fc"
I0305 08:22:31.077956       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:31.077993       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="397024e6-1a1f-4fcc-b07b-b9528c17932f" model="qwen2-5-7b-instruct"
I0305 08:22:31.078083       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:31.078091       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:31.078095       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:31.078443       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:31.078513       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:31.078521       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:31.084724       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6ca83a0f, selectedpod, 10.0.1.28:8000, ttft, 132, tpot, 19, e2e, 308, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:31.084754       1 gateway.go:748] "Request completed" requestID="12ac0f59-2349-481f-a947-390013fdc47d" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:31.084767       1 gateway.go:764] "HandleResponseBody completed" requestID="12ac0f59-2349-481f-a947-390013fdc47d" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:31.136837       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0583, numInputTokens, 7600
I0305 08:22:31.136855       1 tree.go:471] Updated node(0) last access: 161.3266 seconds
I0305 08:22:31.136861       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:31.136865       1 tree.go:471] Updated node(2) last access: 161.3266 seconds
I0305 08:22:31.136878       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:31.136883       1 tree.go:471] Updated node(24) last access: 161.3266 seconds
I0305 08:22:31.136890       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:22:31.136896       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 08:22:31.136903       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:31.136910       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:31.136915       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:31.13689786 +0000 UTC m=+161.441799957]
I0305 08:22:31.136932       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 08:22:31.136942       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 08:22:31.137044       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7478
I0305 08:22:31.137055       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:31.137063       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.137067       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.137073       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.137080       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.137090       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:31.137102       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:31.137112       1 prefix_cache_and_load.go:584] latency, Route, 0.0590
I0305 08:22:31.137123       1 gateway.go:415] latency, selectTargetPod, 0.0590, target pod, 10.0.3.30:8000
I0305 08:22:31.137134       1 gateway.go:235] latency, HandleRequestBody, 0.0594
I0305 08:22:31.153406       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="397024e6-1a1f-4fcc-b07b-b9528c17932f"
I0305 08:22:31.197340       1 gateway.go:608] "First token received" requestID="397024e6-1a1f-4fcc-b07b-b9528c17932f" ttft_ms=119
I0305 08:22:31.203676       1 gateway.go:562] latency, 0.0001, summary, hash(request), 07163b19, selectedpod, 10.0.1.22:8000, ttft, 117, tpot, 19, e2e, 293, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 08:22:31.203697       1 gateway.go:748] "Request completed" requestID="c7c0dc6f-370f-464f-807a-23d96703e5d5" targetPod="10.0.1.22:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 08:22:31.203708       1 gateway.go:764] "HandleResponseBody completed" requestID="c7c0dc6f-370f-464f-807a-23d96703e5d5" promptTokens=7614 completionTokens=10 stream=true
I0305 08:22:31.234812       1 gateway.go:329] "-- In RequestBody processing ..." requestID="12b07ae1-5c6d-4b04-a374-f1df3d9514fc"
I0305 08:22:31.235033       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="12b07ae1-5c6d-4b04-a374-f1df3d9514fc" model="qwen2-5-7b-instruct"
I0305 08:22:31.235117       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:31.235123       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:31.235126       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:31.235443       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:31.235494       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:31.235499       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:31.295052       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0595, numInputTokens, 7598
I0305 08:22:31.295072       1 tree.go:471] Updated node(0) last access: 161.4848 seconds
I0305 08:22:31.295078       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:31.295082       1 tree.go:471] Updated node(2) last access: 161.4848 seconds
I0305 08:22:31.295094       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:31.295100       1 tree.go:471] Updated node(57) last access: 161.4848 seconds
I0305 08:22:31.295104       1 tree.go:490] Partial tokens match child node(200). Continue to go deeper in the radix tree
I0305 08:22:31.295107       1 tree.go:471] Updated node(200) last access: 161.4848 seconds
I0305 08:22:31.295121       1 tree.go:667] Split complete - New node(401)
I0305 08:22:31.295125       1 tree.go:668] Split complete - Child node(133)
I0305 08:22:31.295131       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:31.295136       1 tree.go:471] Updated node(401) last access: 161.4849 seconds
I0305 08:22:31.295142       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:31.295147       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:31.295154       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:31.295161       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:31.295166       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:31.295149055 +0000 UTC m=+161.600051152]
I0305 08:22:31.295182       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7483, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:31.295190       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:31.295291       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7483
I0305 08:22:31.295306       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:31.295317       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.295324       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.295337       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.295347       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.295353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.295357       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.295367       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:31.295382       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:31.295398       1 prefix_cache_and_load.go:584] latency, Route, 0.0603
I0305 08:22:31.295409       1 gateway.go:415] latency, selectTargetPod, 0.0603, target pod, 10.0.1.28:8000
I0305 08:22:31.295422       1 gateway.go:235] latency, HandleRequestBody, 0.0606
I0305 08:22:31.315205       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="12b07ae1-5c6d-4b04-a374-f1df3d9514fc"
I0305 08:22:31.358282       1 gateway.go:608] "First token received" requestID="12b07ae1-5c6d-4b04-a374-f1df3d9514fc" ttft_ms=123
I0305 08:22:31.370302       1 gateway.go:562] latency, 0.0000, summary, hash(request), 78d83e2d, selectedpod, 10.0.3.30:8000, ttft, 119, tpot, 19, e2e, 292, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:31.370322       1 gateway.go:748] "Request completed" requestID="397024e6-1a1f-4fcc-b07b-b9528c17932f" targetPod="10.0.3.30:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:31.370343       1 gateway.go:764] "HandleResponseBody completed" requestID="397024e6-1a1f-4fcc-b07b-b9528c17932f" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:31.499970       1 gateway.go:207] "Processing request" requestID="67c74b8f-3f44-46a5-a09b-e5e2e57ecbc0"
I0305 08:22:31.500002       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="67c74b8f-3f44-46a5-a09b-e5e2e57ecbc0"
I0305 08:22:31.500013       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:31.531108       1 gateway.go:562] latency, 0.0001, summary, hash(request), e876e47e, selectedpod, 10.0.1.28:8000, ttft, 123, tpot, 19, e2e, 296, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:31.531129       1 gateway.go:748] "Request completed" requestID="12b07ae1-5c6d-4b04-a374-f1df3d9514fc" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:31.531141       1 gateway.go:764] "HandleResponseBody completed" requestID="12b07ae1-5c6d-4b04-a374-f1df3d9514fc" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:31.914423       1 gateway.go:329] "-- In RequestBody processing ..." requestID="67c74b8f-3f44-46a5-a09b-e5e2e57ecbc0"
I0305 08:22:31.914734       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="67c74b8f-3f44-46a5-a09b-e5e2e57ecbc0" model="qwen2-5-7b-instruct"
I0305 08:22:31.914855       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:31.914865       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:31.914870       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:31.915252       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:31.915312       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:31.915318       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:31.977570       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0622, numInputTokens, 7600
I0305 08:22:31.977601       1 tree.go:471] Updated node(0) last access: 162.1673 seconds
I0305 08:22:31.977608       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:31.977612       1 tree.go:471] Updated node(2) last access: 162.1673 seconds
I0305 08:22:31.977627       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:31.977631       1 tree.go:471] Updated node(36) last access: 162.1673 seconds
I0305 08:22:31.977640       1 tree.go:490] Partial tokens match child node(291). Continue to go deeper in the radix tree
I0305 08:22:31.977646       1 tree.go:471] Updated node(291) last access: 162.1674 seconds
I0305 08:22:31.977658       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:31.977676       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:31.977692       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:31.977703       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:31.977710       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:31.977679812 +0000 UTC m=+162.282581909]
I0305 08:22:31.977730       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7483, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:31.977738       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:31.977876       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7483
I0305 08:22:31.977888       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:31.977901       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.977920       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.977927       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.977932       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.977940       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:31.977949       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:31.977959       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:31.977982       1 prefix_cache_and_load.go:584] latency, Route, 0.0631
I0305 08:22:31.977993       1 gateway.go:415] latency, selectTargetPod, 0.0631, target pod, 10.0.3.30:8000
I0305 08:22:31.978011       1 gateway.go:235] latency, HandleRequestBody, 0.0636
I0305 08:22:31.993825       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="67c74b8f-3f44-46a5-a09b-e5e2e57ecbc0"
I0305 08:22:32.037571       1 gateway.go:608] "First token received" requestID="67c74b8f-3f44-46a5-a09b-e5e2e57ecbc0" ttft_ms=123
I0305 08:22:32.058296       1 gateway.go:207] "Processing request" requestID="609b78aa-ff74-46ce-9963-9f81c1d6290b"
I0305 08:22:32.058338       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="609b78aa-ff74-46ce-9963-9f81c1d6290b"
I0305 08:22:32.058348       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:32.210516       1 gateway.go:562] latency, 0.0001, summary, hash(request), e8727e6a, selectedpod, 10.0.3.30:8000, ttft, 123, tpot, 19, e2e, 296, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:32.210544       1 gateway.go:748] "Request completed" requestID="67c74b8f-3f44-46a5-a09b-e5e2e57ecbc0" targetPod="10.0.3.30:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:32.210557       1 gateway.go:764] "HandleResponseBody completed" requestID="67c74b8f-3f44-46a5-a09b-e5e2e57ecbc0" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:32.701381       1 gateway.go:329] "-- In RequestBody processing ..." requestID="609b78aa-ff74-46ce-9963-9f81c1d6290b"
I0305 08:22:32.701515       1 gateway.go:207] "Processing request" requestID="10e24c4a-83b8-4741-bfaa-5400ee23401a"
I0305 08:22:32.701558       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="10e24c4a-83b8-4741-bfaa-5400ee23401a"
I0305 08:22:32.701570       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:32.701618       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="609b78aa-ff74-46ce-9963-9f81c1d6290b" model="qwen2-5-7b-instruct"
I0305 08:22:32.701716       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:32.701723       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:32.701727       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:32.702098       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:32.702169       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:32.702175       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:32.759932       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0577, numInputTokens, 7598
I0305 08:22:32.759950       1 tree.go:471] Updated node(0) last access: 162.9497 seconds
I0305 08:22:32.759957       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:32.759960       1 tree.go:471] Updated node(2) last access: 162.9497 seconds
I0305 08:22:32.759971       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:32.759977       1 tree.go:471] Updated node(57) last access: 162.9497 seconds
I0305 08:22:32.759983       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 08:22:32.759989       1 tree.go:471] Updated node(175) last access: 162.9497 seconds
I0305 08:22:32.760002       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:32.760008       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:32.760016       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:32.760024       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:32.760029       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:32.760010687 +0000 UTC m=+163.064912783]
I0305 08:22:32.760047       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:32.760055       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:32.760181       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7481
I0305 08:22:32.760193       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:32.760205       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:32.760212       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:32.760218       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:32.760222       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:32.760229       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:32.760240       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:32.760251       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:32.760262       1 prefix_cache_and_load.go:584] latency, Route, 0.0585
I0305 08:22:32.760273       1 gateway.go:415] latency, selectTargetPod, 0.0586, target pod, 10.0.1.28:8000
I0305 08:22:32.760290       1 gateway.go:235] latency, HandleRequestBody, 0.0589
I0305 08:22:32.778135       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="609b78aa-ff74-46ce-9963-9f81c1d6290b"
I0305 08:22:32.822443       1 gateway.go:608] "First token received" requestID="609b78aa-ff74-46ce-9963-9f81c1d6290b" ttft_ms=121
I0305 08:22:32.957813       1 gateway.go:329] "-- In RequestBody processing ..." requestID="10e24c4a-83b8-4741-bfaa-5400ee23401a"
I0305 08:22:32.957995       1 gateway.go:207] "Processing request" requestID="e3e9c9d9-8acf-4f48-8b9f-58dc05e28a91"
I0305 08:22:32.958027       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e3e9c9d9-8acf-4f48-8b9f-58dc05e28a91"
I0305 08:22:32.958035       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:32.958050       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="10e24c4a-83b8-4741-bfaa-5400ee23401a" model="qwen2-5-7b-instruct"
I0305 08:22:32.958164       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:32.958171       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:32.958174       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:32.958504       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:32.958555       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:32.958561       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:32.995185       1 gateway.go:562] latency, 0.0001, summary, hash(request), b8e9107f, selectedpod, 10.0.1.28:8000, ttft, 121, tpot, 19, e2e, 293, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:32.995210       1 gateway.go:748] "Request completed" requestID="609b78aa-ff74-46ce-9963-9f81c1d6290b" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:32.995221       1 gateway.go:764] "HandleResponseBody completed" requestID="609b78aa-ff74-46ce-9963-9f81c1d6290b" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:33.017945       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0594, numInputTokens, 7602
I0305 08:22:33.017963       1 tree.go:471] Updated node(0) last access: 163.2077 seconds
I0305 08:22:33.017969       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:33.017973       1 tree.go:471] Updated node(2) last access: 163.2077 seconds
I0305 08:22:33.017987       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:33.017990       1 tree.go:471] Updated node(45) last access: 163.2077 seconds
I0305 08:22:33.017994       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 08:22:33.017997       1 tree.go:471] Updated node(43) last access: 163.2077 seconds
I0305 08:22:33.018008       1 tree.go:667] Split complete - New node(405)
I0305 08:22:33.018012       1 tree.go:668] Split complete - Child node(13)
I0305 08:22:33.018017       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:22:33.018021       1 tree.go:471] Updated node(405) last access: 163.2077 seconds
I0305 08:22:33.018026       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:33.018052       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:33.018058       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:33.018065       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:33.018071       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:33.018053921 +0000 UTC m=+163.322956018]
I0305 08:22:33.018089       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7486, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:33.018098       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:33.018227       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7486
I0305 08:22:33.018246       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:33.018263       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.018276       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.018288       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.018294       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.018304       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.018312       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.018338       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:33.018357       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:33.018375       1 prefix_cache_and_load.go:584] latency, Route, 0.0602
I0305 08:22:33.018391       1 gateway.go:415] latency, selectTargetPod, 0.0602, target pod, 10.0.0.134:8000
I0305 08:22:33.018421       1 gateway.go:235] latency, HandleRequestBody, 0.0606
I0305 08:22:33.036791       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="10e24c4a-83b8-4741-bfaa-5400ee23401a"
I0305 08:22:33.073386       1 gateway.go:608] "First token received" requestID="10e24c4a-83b8-4741-bfaa-5400ee23401a" ttft_ms=115
I0305 08:22:33.154684       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e3e9c9d9-8acf-4f48-8b9f-58dc05e28a91"
I0305 08:22:33.154939       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e3e9c9d9-8acf-4f48-8b9f-58dc05e28a91" model="qwen2-5-7b-instruct"
I0305 08:22:33.155055       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:33.155062       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:33.155066       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:33.155449       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:33.155523       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 08:22:33.155531       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:33.159352       1 gateway.go:207] "Processing request" requestID="24f2b82e-b0c0-4323-b774-d6f5d43ec1f8"
I0305 08:22:33.159382       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="24f2b82e-b0c0-4323-b774-d6f5d43ec1f8"
I0305 08:22:33.159391       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:33.212545       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0570, numInputTokens, 7596
I0305 08:22:33.212560       1 tree.go:471] Updated node(0) last access: 163.4023 seconds
I0305 08:22:33.212567       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:33.212575       1 tree.go:471] Updated node(2) last access: 163.4023 seconds
I0305 08:22:33.212593       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:33.212599       1 tree.go:471] Updated node(36) last access: 163.4023 seconds
I0305 08:22:33.212606       1 tree.go:490] Partial tokens match child node(357). Continue to go deeper in the radix tree
I0305 08:22:33.212610       1 tree.go:471] Updated node(357) last access: 163.4023 seconds
I0305 08:22:33.212616       1 tree.go:490] Partial tokens match child node(136). Continue to go deeper in the radix tree
I0305 08:22:33.212622       1 tree.go:471] Updated node(136) last access: 163.4023 seconds
I0305 08:22:33.212637       1 tree.go:667] Split complete - New node(407)
I0305 08:22:33.212644       1 tree.go:668] Split complete - Child node(137)
I0305 08:22:33.212650       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 08:22:33.212658       1 tree.go:471] Updated node(407) last access: 163.4024 seconds
I0305 08:22:33.212675       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 08:22:33.212683       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:22:33.212695       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:33.212707       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:33.212717       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:33.21268831 +0000 UTC m=+163.517590423]
I0305 08:22:33.212739       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7487, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 08:22:33.212753       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 08:22:33.212850       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7487
I0305 08:22:33.212862       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:33.212872       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.212878       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.212889       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.212895       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.212898       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.212905       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.212911       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.212921       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:33.212932       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:33.212948       1 prefix_cache_and_load.go:584] latency, Route, 0.0579
I0305 08:22:33.212958       1 gateway.go:415] latency, selectTargetPod, 0.0579, target pod, 10.0.3.30:8000
I0305 08:22:33.212971       1 gateway.go:235] latency, HandleRequestBody, 0.0583
I0305 08:22:33.228400       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e3e9c9d9-8acf-4f48-8b9f-58dc05e28a91"
I0305 08:22:33.246319       1 gateway.go:562] latency, 0.0000, summary, hash(request), a2fb4cd9, selectedpod, 10.0.0.134:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:33.246348       1 gateway.go:748] "Request completed" requestID="10e24c4a-83b8-4741-bfaa-5400ee23401a" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:33.246362       1 gateway.go:764] "HandleResponseBody completed" requestID="10e24c4a-83b8-4741-bfaa-5400ee23401a" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:33.264497       1 gateway.go:608] "First token received" requestID="e3e9c9d9-8acf-4f48-8b9f-58dc05e28a91" ttft_ms=109
I0305 08:22:33.355645       1 gateway.go:329] "-- In RequestBody processing ..." requestID="24f2b82e-b0c0-4323-b774-d6f5d43ec1f8"
I0305 08:22:33.355810       1 gateway.go:207] "Processing request" requestID="d027bb91-05ff-472b-92d1-c01b0411bc99"
I0305 08:22:33.355844       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d027bb91-05ff-472b-92d1-c01b0411bc99"
I0305 08:22:33.355853       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:33.355886       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="24f2b82e-b0c0-4323-b774-d6f5d43ec1f8" model="qwen2-5-7b-instruct"
I0305 08:22:33.355959       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:33.355966       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:33.355969       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:33.356277       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:33.356325       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:33.356341       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:33.417409       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0611, numInputTokens, 7599
I0305 08:22:33.417428       1 tree.go:471] Updated node(0) last access: 163.6071 seconds
I0305 08:22:33.417435       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:33.417439       1 tree.go:471] Updated node(2) last access: 163.6072 seconds
I0305 08:22:33.417451       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:33.417457       1 tree.go:471] Updated node(57) last access: 163.6072 seconds
I0305 08:22:33.417461       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 08:22:33.417463       1 tree.go:471] Updated node(175) last access: 163.6072 seconds
I0305 08:22:33.417467       1 tree.go:490] Partial tokens match child node(179). Continue to go deeper in the radix tree
I0305 08:22:33.417470       1 tree.go:471] Updated node(179) last access: 163.6072 seconds
I0305 08:22:33.417477       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:33.417482       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:33.417491       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:33.417498       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:33.417505       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:33.417484776 +0000 UTC m=+163.722386873]
I0305 08:22:33.417523       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7484, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:33.417530       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:33.417622       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7484
I0305 08:22:33.417633       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:33.417642       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.417648       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.417655       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.417661       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.417679       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.417685       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.417698       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:33.417709       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:33.417720       1 prefix_cache_and_load.go:584] latency, Route, 0.0618
I0305 08:22:33.417730       1 gateway.go:415] latency, selectTargetPod, 0.0618, target pod, 10.0.1.28:8000
I0305 08:22:33.417745       1 gateway.go:235] latency, HandleRequestBody, 0.0621
I0305 08:22:33.435453       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="24f2b82e-b0c0-4323-b774-d6f5d43ec1f8"
I0305 08:22:33.437365       1 gateway.go:562] latency, 0.0001, summary, hash(request), 39936d6c, selectedpod, 10.0.3.30:8000, ttft, 109, tpot, 19, e2e, 282, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:22:33.437388       1 gateway.go:748] "Request completed" requestID="e3e9c9d9-8acf-4f48-8b9f-58dc05e28a91" targetPod="10.0.3.30:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:22:33.437399       1 gateway.go:764] "HandleResponseBody completed" requestID="e3e9c9d9-8acf-4f48-8b9f-58dc05e28a91" promptTokens=7615 completionTokens=10 stream=true
I0305 08:22:33.471101       1 gateway.go:608] "First token received" requestID="24f2b82e-b0c0-4323-b774-d6f5d43ec1f8" ttft_ms=115
I0305 08:22:33.479187       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d027bb91-05ff-472b-92d1-c01b0411bc99"
I0305 08:22:33.479452       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d027bb91-05ff-472b-92d1-c01b0411bc99" model="qwen2-5-7b-instruct"
I0305 08:22:33.479520       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:33.479526       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:33.479529       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:33.479797       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:33.479846       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:33.479852       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:33.541123       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0613, numInputTokens, 7599
I0305 08:22:33.541142       1 tree.go:471] Updated node(0) last access: 163.7309 seconds
I0305 08:22:33.541148       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:33.541152       1 tree.go:471] Updated node(2) last access: 163.7309 seconds
I0305 08:22:33.541164       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:33.541167       1 tree.go:471] Updated node(21) last access: 163.7309 seconds
I0305 08:22:33.541172       1 tree.go:490] Partial tokens match child node(270). Continue to go deeper in the radix tree
I0305 08:22:33.541178       1 tree.go:471] Updated node(270) last access: 163.7309 seconds
I0305 08:22:33.541195       1 tree.go:667] Split complete - New node(410)
I0305 08:22:33.541204       1 tree.go:668] Split complete - Child node(250)
I0305 08:22:33.541210       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:22:33.541215       1 tree.go:471] Updated node(410) last access: 163.7309 seconds
I0305 08:22:33.541222       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:33.541227       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:33.541236       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:33.541247       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:33.541258       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:33.541229569 +0000 UTC m=+163.846131672]
I0305 08:22:33.541282       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7484, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:33.541294       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:33.541387       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7484
I0305 08:22:33.541399       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:33.541413       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.541418       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.541428       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.541435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.541442       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.541452       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:33.541470       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:33.541486       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:33.541503       1 prefix_cache_and_load.go:584] latency, Route, 0.0620
I0305 08:22:33.541517       1 gateway.go:415] latency, selectTargetPod, 0.0620, target pod, 10.0.3.41:8000
I0305 08:22:33.541534       1 gateway.go:235] latency, HandleRequestBody, 0.0623
I0305 08:22:33.557240       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d027bb91-05ff-472b-92d1-c01b0411bc99"
I0305 08:22:33.593386       1 gateway.go:608] "First token received" requestID="d027bb91-05ff-472b-92d1-c01b0411bc99" ttft_ms=114
I0305 08:22:33.643912       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1054e879, selectedpod, 10.0.1.28:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:33.643931       1 gateway.go:748] "Request completed" requestID="24f2b82e-b0c0-4323-b774-d6f5d43ec1f8" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:33.643941       1 gateway.go:764] "HandleResponseBody completed" requestID="24f2b82e-b0c0-4323-b774-d6f5d43ec1f8" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:33.766161       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6728d38b, selectedpod, 10.0.3.41:8000, ttft, 114, tpot, 19, e2e, 286, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:33.766187       1 gateway.go:748] "Request completed" requestID="d027bb91-05ff-472b-92d1-c01b0411bc99" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:33.766201       1 gateway.go:764] "HandleResponseBody completed" requestID="d027bb91-05ff-472b-92d1-c01b0411bc99" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:33.875417       1 gateway.go:207] "Processing request" requestID="18cfb491-0973-4398-b991-00d99fd6a69c"
I0305 08:22:33.875453       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="18cfb491-0973-4398-b991-00d99fd6a69c"
I0305 08:22:33.875464       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:33.968484       1 gateway.go:329] "-- In RequestBody processing ..." requestID="18cfb491-0973-4398-b991-00d99fd6a69c"
I0305 08:22:33.968741       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="18cfb491-0973-4398-b991-00d99fd6a69c" model="qwen2-5-7b-instruct"
I0305 08:22:33.968821       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:33.968828       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:33.968832       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:33.969174       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:33.969224       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:33.969231       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:34.027081       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0578, numInputTokens, 7594
I0305 08:22:34.027099       1 tree.go:471] Updated node(0) last access: 164.2168 seconds
I0305 08:22:34.027107       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:34.027111       1 tree.go:471] Updated node(2) last access: 164.2168 seconds
I0305 08:22:34.027125       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:34.027128       1 tree.go:471] Updated node(10) last access: 164.2168 seconds
I0305 08:22:34.027132       1 tree.go:490] Partial tokens match child node(76). Continue to go deeper in the radix tree
I0305 08:22:34.027136       1 tree.go:471] Updated node(76) last access: 164.2169 seconds
I0305 08:22:34.027148       1 tree.go:667] Split complete - New node(412)
I0305 08:22:34.027153       1 tree.go:668] Split complete - Child node(312)
I0305 08:22:34.027158       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 08:22:34.027163       1 tree.go:471] Updated node(412) last access: 164.2169 seconds
I0305 08:22:34.027170       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 08:22:34.027176       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 08:22:34.027184       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 08:22:34.027189       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:34.027197       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:34.027177769 +0000 UTC m=+164.332079866]
I0305 08:22:34.027223       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7484, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 08:22:34.027234       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 08:22:34.027368       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7484
I0305 08:22:34.027381       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:34.027395       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.027407       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.027419       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.027424       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.027435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.027440       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.027458       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:34.027473       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:34.027484       1 prefix_cache_and_load.go:584] latency, Route, 0.0587
I0305 08:22:34.027495       1 gateway.go:415] latency, selectTargetPod, 0.0587, target pod, 10.0.0.101:8000
I0305 08:22:34.027507       1 gateway.go:235] latency, HandleRequestBody, 0.0590
I0305 08:22:34.048858       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="18cfb491-0973-4398-b991-00d99fd6a69c"
I0305 08:22:34.084879       1 gateway.go:608] "First token received" requestID="18cfb491-0973-4398-b991-00d99fd6a69c" ttft_ms=116
I0305 08:22:34.199473       1 gateway.go:207] "Processing request" requestID="1c96b852-e283-436e-b286-a2d39b7e7300"
I0305 08:22:34.199513       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1c96b852-e283-436e-b286-a2d39b7e7300"
I0305 08:22:34.199526       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:34.235830       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1c96b852-e283-436e-b286-a2d39b7e7300"
I0305 08:22:34.236081       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1c96b852-e283-436e-b286-a2d39b7e7300" model="qwen2-5-7b-instruct"
I0305 08:22:34.236156       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:34.236163       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:34.236166       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:34.236516       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:34.236570       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:34.236577       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:34.258043       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6bf84f08, selectedpod, 10.0.0.101:8000, ttft, 116, tpot, 19, e2e, 289, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:22:34.258064       1 gateway.go:748] "Request completed" requestID="18cfb491-0973-4398-b991-00d99fd6a69c" targetPod="10.0.0.101:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:22:34.258075       1 gateway.go:764] "HandleResponseBody completed" requestID="18cfb491-0973-4398-b991-00d99fd6a69c" promptTokens=7615 completionTokens=10 stream=true
I0305 08:22:34.295949       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0594, numInputTokens, 7597
I0305 08:22:34.295970       1 tree.go:471] Updated node(0) last access: 164.4857 seconds
I0305 08:22:34.295979       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:34.295983       1 tree.go:471] Updated node(2) last access: 164.4857 seconds
I0305 08:22:34.296000       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:34.296005       1 tree.go:471] Updated node(36) last access: 164.4857 seconds
I0305 08:22:34.296012       1 tree.go:490] Partial tokens match child node(188). Continue to go deeper in the radix tree
I0305 08:22:34.296017       1 tree.go:471] Updated node(188) last access: 164.4857 seconds
I0305 08:22:34.296028       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0305 08:22:34.296035       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:34.296044       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:34.296055       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:34.296064       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:34.296037854 +0000 UTC m=+164.600939958]
I0305 08:22:34.296085       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7489, Matching ratio: 0.9858, # Matched pods: 0, Matched pods: []
I0305 08:22:34.296097       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9858 > 0.5000)
I0305 08:22:34.296185       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7489
I0305 08:22:34.296202       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:34.296215       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.296225       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.296235       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.296245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.296254       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.296269       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:34.296286       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:34.296305       1 prefix_cache_and_load.go:584] latency, Route, 0.0601
I0305 08:22:34.296317       1 gateway.go:415] latency, selectTargetPod, 0.0602, target pod, 10.0.3.30:8000
I0305 08:22:34.296340       1 gateway.go:235] latency, HandleRequestBody, 0.0605
I0305 08:22:34.312102       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1c96b852-e283-436e-b286-a2d39b7e7300"
I0305 08:22:34.348507       1 gateway.go:608] "First token received" requestID="1c96b852-e283-436e-b286-a2d39b7e7300" ttft_ms=112
I0305 08:22:34.383673       1 gateway.go:207] "Processing request" requestID="cee0dd61-a80f-436d-9cea-87436e64baaf"
I0305 08:22:34.383702       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cee0dd61-a80f-436d-9cea-87436e64baaf"
I0305 08:22:34.383711       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:34.490765       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cee0dd61-a80f-436d-9cea-87436e64baaf"
I0305 08:22:34.491022       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cee0dd61-a80f-436d-9cea-87436e64baaf" model="qwen2-5-7b-instruct"
I0305 08:22:34.491113       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:34.491120       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:34.491125       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:34.491458       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:34.491523       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:34.491532       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:34.522319       1 gateway.go:562] latency, 0.0000, summary, hash(request), 093fca6a, selectedpod, 10.0.3.30:8000, ttft, 112, tpot, 19, e2e, 286, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:34.522351       1 gateway.go:748] "Request completed" requestID="1c96b852-e283-436e-b286-a2d39b7e7300" targetPod="10.0.3.30:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:34.522367       1 gateway.go:764] "HandleResponseBody completed" requestID="1c96b852-e283-436e-b286-a2d39b7e7300" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:34.549148       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0576, numInputTokens, 7601
I0305 08:22:34.549165       1 tree.go:471] Updated node(0) last access: 164.7389 seconds
I0305 08:22:34.549172       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:34.549176       1 tree.go:471] Updated node(2) last access: 164.7389 seconds
I0305 08:22:34.549192       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:34.549197       1 tree.go:471] Updated node(73) last access: 164.7389 seconds
I0305 08:22:34.549202       1 tree.go:490] Partial tokens match child node(118). Continue to go deeper in the radix tree
I0305 08:22:34.549206       1 tree.go:471] Updated node(118) last access: 164.7389 seconds
I0305 08:22:34.549210       1 tree.go:490] Partial tokens match child node(251). Continue to go deeper in the radix tree
I0305 08:22:34.549215       1 tree.go:471] Updated node(251) last access: 164.7389 seconds
I0305 08:22:34.549222       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:34.549227       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:34.549235       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:34.549242       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:34.549249       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:34.549229699 +0000 UTC m=+164.854131796]
I0305 08:22:34.549265       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7484, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:34.549273       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:34.549380       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7484
I0305 08:22:34.549392       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:34.549401       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.549408       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.549414       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.549418       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.549421       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.549426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.549436       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:34.549447       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:34.549459       1 prefix_cache_and_load.go:584] latency, Route, 0.0583
I0305 08:22:34.549469       1 gateway.go:415] latency, selectTargetPod, 0.0584, target pod, 10.0.0.134:8000
I0305 08:22:34.549482       1 gateway.go:235] latency, HandleRequestBody, 0.0587
I0305 08:22:34.567189       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cee0dd61-a80f-436d-9cea-87436e64baaf"
I0305 08:22:34.603445       1 gateway.go:608] "First token received" requestID="cee0dd61-a80f-436d-9cea-87436e64baaf" ttft_ms=112
I0305 08:22:34.776473       1 gateway.go:562] latency, 0.0000, summary, hash(request), 581548ca, selectedpod, 10.0.0.134:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:34.776493       1 gateway.go:748] "Request completed" requestID="cee0dd61-a80f-436d-9cea-87436e64baaf" targetPod="10.0.0.134:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:34.776505       1 gateway.go:764] "HandleResponseBody completed" requestID="cee0dd61-a80f-436d-9cea-87436e64baaf" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:34.800431       1 gateway.go:207] "Processing request" requestID="b34d2219-33dc-498b-b580-eb61a103ca35"
I0305 08:22:34.800455       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b34d2219-33dc-498b-b580-eb61a103ca35"
I0305 08:22:34.800462       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:34.832757       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b34d2219-33dc-498b-b580-eb61a103ca35"
I0305 08:22:34.852830       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b34d2219-33dc-498b-b580-eb61a103ca35" model="qwen2-5-7b-instruct"
I0305 08:22:34.852918       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:34.852924       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:34.852927       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:34.853246       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:34.853294       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:34.853300       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:34.863238       1 gateway.go:207] "Processing request" requestID="edbef07c-cbd9-4b1a-8cc9-83bb0e48363f"
I0305 08:22:34.863269       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="edbef07c-cbd9-4b1a-8cc9-83bb0e48363f"
I0305 08:22:34.863279       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:34.914777       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0615, numInputTokens, 7598
I0305 08:22:34.914797       1 tree.go:471] Updated node(0) last access: 165.1045 seconds
I0305 08:22:34.914804       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:34.914807       1 tree.go:471] Updated node(2) last access: 165.1045 seconds
I0305 08:22:34.914822       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:34.914826       1 tree.go:471] Updated node(6) last access: 165.1045 seconds
I0305 08:22:34.914830       1 tree.go:490] Partial tokens match child node(114). Continue to go deeper in the radix tree
I0305 08:22:34.914834       1 tree.go:471] Updated node(114) last access: 165.1046 seconds
I0305 08:22:34.914838       1 tree.go:490] Partial tokens match child node(145). Continue to go deeper in the radix tree
I0305 08:22:34.914845       1 tree.go:471] Updated node(145) last access: 165.1046 seconds
I0305 08:22:34.914849       1 tree.go:490] Partial tokens match child node(161). Continue to go deeper in the radix tree
I0305 08:22:34.914852       1 tree.go:471] Updated node(161) last access: 165.1046 seconds
I0305 08:22:34.914863       1 tree.go:667] Split complete - New node(416)
I0305 08:22:34.914869       1 tree.go:668] Split complete - Child node(146)
I0305 08:22:34.914893       1 tree.go:501] latency, splitNode, 0.0000 seconds, 109 tokens:
I0305 08:22:34.914899       1 tree.go:471] Updated node(416) last access: 165.1046 seconds
I0305 08:22:34.914905       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 103 tokens:
I0305 08:22:34.914911       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:34.914919       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:34.914925       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:34.914930       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:34.914913397 +0000 UTC m=+165.219815494]
I0305 08:22:34.914948       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7495, Matching ratio: 0.9864, # Matched pods: 0, Matched pods: []
I0305 08:22:34.914960       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9864 > 0.5000)
I0305 08:22:34.915074       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7495
I0305 08:22:34.915085       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:34.915095       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.915103       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.915110       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.915117       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.915124       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.915129       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.915133       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.915139       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:34.915149       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:34.915159       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:34.915171       1 prefix_cache_and_load.go:584] latency, Route, 0.0623
I0305 08:22:34.915182       1 gateway.go:415] latency, selectTargetPod, 0.0623, target pod, 10.0.1.22:8000
I0305 08:22:34.915197       1 gateway.go:235] latency, HandleRequestBody, 0.0824
I0305 08:22:34.933771       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b34d2219-33dc-498b-b580-eb61a103ca35"
I0305 08:22:34.969929       1 gateway.go:608] "First token received" requestID="b34d2219-33dc-498b-b580-eb61a103ca35" ttft_ms=137
I0305 08:22:35.052421       1 gateway.go:329] "-- In RequestBody processing ..." requestID="edbef07c-cbd9-4b1a-8cc9-83bb0e48363f"
I0305 08:22:35.052695       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="edbef07c-cbd9-4b1a-8cc9-83bb0e48363f" model="qwen2-5-7b-instruct"
I0305 08:22:35.052800       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:35.052807       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:35.052811       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:35.053204       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:35.053272       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 08:22:35.053279       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:35.114486       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0612, numInputTokens, 7601
I0305 08:22:35.114507       1 tree.go:471] Updated node(0) last access: 165.3042 seconds
I0305 08:22:35.114514       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:35.114518       1 tree.go:471] Updated node(2) last access: 165.3042 seconds
I0305 08:22:35.114532       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:35.114536       1 tree.go:471] Updated node(16) last access: 165.3043 seconds
I0305 08:22:35.114540       1 tree.go:490] Partial tokens match child node(163). Continue to go deeper in the radix tree
I0305 08:22:35.114543       1 tree.go:471] Updated node(163) last access: 165.3043 seconds
I0305 08:22:35.114550       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:35.114582       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:35.114591       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:35.114598       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:35.114607       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:35.114585695 +0000 UTC m=+165.419487792]
I0305 08:22:35.114629       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7483, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:35.114642       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:35.114741       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7483
I0305 08:22:35.114753       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:35.114763       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.114771       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.114780       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.114789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.114801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.114818       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:35.114835       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:35.114855       1 prefix_cache_and_load.go:584] latency, Route, 0.0621
I0305 08:22:35.114868       1 gateway.go:415] latency, selectTargetPod, 0.0621, target pod, 10.0.1.14:8000
I0305 08:22:35.114882       1 gateway.go:235] latency, HandleRequestBody, 0.0625
I0305 08:22:35.134323       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="edbef07c-cbd9-4b1a-8cc9-83bb0e48363f"
I0305 08:22:35.144734       1 gateway.go:562] latency, 0.0000, summary, hash(request), cf414def, selectedpod, 10.0.1.22:8000, ttft, 137, tpot, 19, e2e, 311, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:35.144754       1 gateway.go:748] "Request completed" requestID="b34d2219-33dc-498b-b580-eb61a103ca35" targetPod="10.0.1.22:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:35.144767       1 gateway.go:764] "HandleResponseBody completed" requestID="b34d2219-33dc-498b-b580-eb61a103ca35" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:35.178945       1 gateway.go:608] "First token received" requestID="edbef07c-cbd9-4b1a-8cc9-83bb0e48363f" ttft_ms=126
I0305 08:22:35.235996       1 gateway.go:207] "Processing request" requestID="d911d97b-a74b-4cb0-93a6-83ca3c8e9f8f"
I0305 08:22:35.236032       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d911d97b-a74b-4cb0-93a6-83ca3c8e9f8f"
I0305 08:22:35.236043       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:35.251887       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d911d97b-a74b-4cb0-93a6-83ca3c8e9f8f"
I0305 08:22:35.252124       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d911d97b-a74b-4cb0-93a6-83ca3c8e9f8f" model="qwen2-5-7b-instruct"
I0305 08:22:35.252203       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:35.252210       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:35.252213       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:35.252572       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:35.252628       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:35.252634       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:35.312346       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0597, numInputTokens, 7599
I0305 08:22:35.312366       1 tree.go:471] Updated node(0) last access: 165.5021 seconds
I0305 08:22:35.312373       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:35.312376       1 tree.go:471] Updated node(2) last access: 165.5021 seconds
I0305 08:22:35.312389       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:35.312392       1 tree.go:471] Updated node(36) last access: 165.5021 seconds
I0305 08:22:35.312396       1 tree.go:490] Partial tokens match child node(188). Continue to go deeper in the radix tree
I0305 08:22:35.312399       1 tree.go:471] Updated node(188) last access: 165.5021 seconds
I0305 08:22:35.312406       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 08:22:35.312414       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:22:35.312427       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:35.312436       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:35.312446       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:35.312419261 +0000 UTC m=+165.617321365]
I0305 08:22:35.312467       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7489, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 08:22:35.312480       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 08:22:35.312607       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7489
I0305 08:22:35.312620       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:35.312636       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.312648       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.312655       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.312675       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.312684       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.312698       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:35.312715       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:35.312727       1 prefix_cache_and_load.go:584] latency, Route, 0.0605
I0305 08:22:35.312736       1 gateway.go:415] latency, selectTargetPod, 0.0605, target pod, 10.0.3.30:8000
I0305 08:22:35.312748       1 gateway.go:235] latency, HandleRequestBody, 0.0609
I0305 08:22:35.328845       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d911d97b-a74b-4cb0-93a6-83ca3c8e9f8f"
I0305 08:22:35.351122       1 gateway.go:562] latency, 0.0001, summary, hash(request), f2f7ec49, selectedpod, 10.0.1.14:8000, ttft, 126, tpot, 19, e2e, 298, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:35.351152       1 gateway.go:748] "Request completed" requestID="edbef07c-cbd9-4b1a-8cc9-83bb0e48363f" targetPod="10.0.1.14:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:35.351168       1 gateway.go:764] "HandleResponseBody completed" requestID="edbef07c-cbd9-4b1a-8cc9-83bb0e48363f" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:35.365919       1 gateway.go:608] "First token received" requestID="d911d97b-a74b-4cb0-93a6-83ca3c8e9f8f" ttft_ms=113
I0305 08:22:35.439483       1 gateway.go:207] "Processing request" requestID="e27b27b4-756b-45f9-ad4f-fdeb7b2c92a0"
I0305 08:22:35.439513       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e27b27b4-756b-45f9-ad4f-fdeb7b2c92a0"
I0305 08:22:35.439523       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:35.474581       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e27b27b4-756b-45f9-ad4f-fdeb7b2c92a0"
I0305 08:22:35.474725       1 gateway.go:207] "Processing request" requestID="3f3297ac-79a1-4362-8519-e009166ebff7"
I0305 08:22:35.474752       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3f3297ac-79a1-4362-8519-e009166ebff7"
I0305 08:22:35.474761       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:35.474839       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e27b27b4-756b-45f9-ad4f-fdeb7b2c92a0" model="qwen2-5-7b-instruct"
I0305 08:22:35.474920       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:35.474927       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:35.474930       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:35.475278       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:35.475351       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:35.475357       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:35.537685       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0623, numInputTokens, 7599
I0305 08:22:35.537727       1 tree.go:471] Updated node(0) last access: 165.7274 seconds
I0305 08:22:35.537741       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:35.537747       1 tree.go:471] Updated node(2) last access: 165.7275 seconds
I0305 08:22:35.537762       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:35.537767       1 tree.go:471] Updated node(45) last access: 165.7275 seconds
I0305 08:22:35.537777       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:22:35.537785       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:35.537793       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:35.537802       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:35.537812       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:35.537787322 +0000 UTC m=+165.842689419]
I0305 08:22:35.537853       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:22:35.537863       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:22:35.538027       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7478
I0305 08:22:35.538046       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 08:22:35.538062       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.538070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.538077       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.538081       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.538090       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:35.538101       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:35.538115       1 prefix_cache_and_load.go:584] latency, Route, 0.0632
I0305 08:22:35.538128       1 gateway.go:415] latency, selectTargetPod, 0.0632, target pod, 10.0.0.134:8000
I0305 08:22:35.538144       1 gateway.go:235] latency, HandleRequestBody, 0.0636
I0305 08:22:35.539306       1 gateway.go:562] latency, 0.0000, summary, hash(request), c5279b01, selectedpod, 10.0.3.30:8000, ttft, 113, tpot, 19, e2e, 287, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:35.539339       1 gateway.go:748] "Request completed" requestID="d911d97b-a74b-4cb0-93a6-83ca3c8e9f8f" targetPod="10.0.3.30:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:35.539352       1 gateway.go:764] "HandleResponseBody completed" requestID="d911d97b-a74b-4cb0-93a6-83ca3c8e9f8f" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:35.556569       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e27b27b4-756b-45f9-ad4f-fdeb7b2c92a0"
I0305 08:22:35.600490       1 gateway.go:608] "First token received" requestID="e27b27b4-756b-45f9-ad4f-fdeb7b2c92a0" ttft_ms=125
I0305 08:22:35.690925       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3f3297ac-79a1-4362-8519-e009166ebff7"
I0305 08:22:35.691151       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3f3297ac-79a1-4362-8519-e009166ebff7" model="qwen2-5-7b-instruct"
I0305 08:22:35.691240       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:35.691248       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:35.691252       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:35.691588       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:35.691643       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:35.691650       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:35.700370       1 gateway.go:207] "Processing request" requestID="684d7412-48a6-4e87-a610-2c9bb008d8bb"
I0305 08:22:35.700402       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="684d7412-48a6-4e87-a610-2c9bb008d8bb"
I0305 08:22:35.700414       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:35.748983       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0573, numInputTokens, 7600
I0305 08:22:35.748998       1 tree.go:471] Updated node(0) last access: 165.9387 seconds
I0305 08:22:35.749004       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:35.749008       1 tree.go:471] Updated node(2) last access: 165.9387 seconds
I0305 08:22:35.749022       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:35.749026       1 tree.go:471] Updated node(36) last access: 165.9387 seconds
I0305 08:22:35.749029       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 08:22:35.749032       1 tree.go:471] Updated node(219) last access: 165.9387 seconds
I0305 08:22:35.749040       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:22:35.749047       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:35.749055       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:35.749061       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:35.749069       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:35.749049351 +0000 UTC m=+166.053951448]
I0305 08:22:35.749085       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7481, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:22:35.749092       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:22:35.749187       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7481
I0305 08:22:35.749198       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:35.749206       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.749213       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.749218       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.749225       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.749232       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.749240       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:35.749249       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:35.749259       1 prefix_cache_and_load.go:584] latency, Route, 0.0580
I0305 08:22:35.749270       1 gateway.go:415] latency, selectTargetPod, 0.0580, target pod, 10.0.3.30:8000
I0305 08:22:35.749281       1 gateway.go:235] latency, HandleRequestBody, 0.0584
I0305 08:22:35.764445       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3f3297ac-79a1-4362-8519-e009166ebff7"
I0305 08:22:35.773345       1 gateway.go:562] latency, 0.0001, summary, hash(request), 235dde68, selectedpod, 10.0.0.134:8000, ttft, 125, tpot, 19, e2e, 298, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:35.773372       1 gateway.go:748] "Request completed" requestID="e27b27b4-756b-45f9-ad4f-fdeb7b2c92a0" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:35.773385       1 gateway.go:764] "HandleResponseBody completed" requestID="e27b27b4-756b-45f9-ad4f-fdeb7b2c92a0" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:35.807634       1 gateway.go:608] "First token received" requestID="3f3297ac-79a1-4362-8519-e009166ebff7" ttft_ms=116
I0305 08:22:35.875310       1 gateway.go:329] "-- In RequestBody processing ..." requestID="684d7412-48a6-4e87-a610-2c9bb008d8bb"
I0305 08:22:35.875486       1 gateway.go:207] "Processing request" requestID="8e58bdc4-ae9f-4f9d-b778-840ea9af24cd"
I0305 08:22:35.875512       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8e58bdc4-ae9f-4f9d-b778-840ea9af24cd"
I0305 08:22:35.875521       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:35.875540       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="684d7412-48a6-4e87-a610-2c9bb008d8bb" model="qwen2-5-7b-instruct"
I0305 08:22:35.875616       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:35.875623       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:35.875626       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:35.875922       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:35.875973       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:35.875979       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:35.935080       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0591, numInputTokens, 7602
I0305 08:22:35.935101       1 tree.go:471] Updated node(0) last access: 166.1248 seconds
I0305 08:22:35.935108       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:35.935112       1 tree.go:471] Updated node(2) last access: 166.1248 seconds
I0305 08:22:35.935123       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:35.935127       1 tree.go:471] Updated node(73) last access: 166.1248 seconds
I0305 08:22:35.935131       1 tree.go:490] Partial tokens match child node(276). Continue to go deeper in the radix tree
I0305 08:22:35.935133       1 tree.go:471] Updated node(276) last access: 166.1249 seconds
I0305 08:22:35.935141       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:35.935148       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 08:22:35.935155       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:35.935162       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:35.935168       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:35.935149907 +0000 UTC m=+166.240052004]
I0305 08:22:35.935185       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7486, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:35.935192       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:35.935296       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7486
I0305 08:22:35.935307       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:35.935316       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.935323       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.935338       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.935345       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.935351       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:35.935365       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:35.935374       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:35.935386       1 prefix_cache_and_load.go:584] latency, Route, 0.0598
I0305 08:22:35.935396       1 gateway.go:415] latency, selectTargetPod, 0.0598, target pod, 10.0.0.134:8000
I0305 08:22:35.935409       1 gateway.go:235] latency, HandleRequestBody, 0.0601
I0305 08:22:35.953101       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="684d7412-48a6-4e87-a610-2c9bb008d8bb"
I0305 08:22:35.959423       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8e58bdc4-ae9f-4f9d-b778-840ea9af24cd"
I0305 08:22:35.959652       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8e58bdc4-ae9f-4f9d-b778-840ea9af24cd" model="qwen2-5-7b-instruct"
I0305 08:22:35.959731       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:35.959738       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:35.959741       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:35.959983       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:35.960040       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:35.960046       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:35.981369       1 gateway.go:562] latency, 0.0001, summary, hash(request), ebcd6676, selectedpod, 10.0.3.30:8000, ttft, 116, tpot, 19, e2e, 290, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:35.981388       1 gateway.go:748] "Request completed" requestID="3f3297ac-79a1-4362-8519-e009166ebff7" targetPod="10.0.3.30:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:35.981398       1 gateway.go:764] "HandleResponseBody completed" requestID="3f3297ac-79a1-4362-8519-e009166ebff7" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:35.988236       1 gateway.go:608] "First token received" requestID="684d7412-48a6-4e87-a610-2c9bb008d8bb" ttft_ms=112
I0305 08:22:36.018753       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0587, numInputTokens, 7601
I0305 08:22:36.018769       1 tree.go:471] Updated node(0) last access: 166.2085 seconds
I0305 08:22:36.018778       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:36.018786       1 tree.go:471] Updated node(2) last access: 166.2085 seconds
I0305 08:22:36.018801       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:36.018806       1 tree.go:471] Updated node(16) last access: 166.2085 seconds
I0305 08:22:36.018819       1 tree.go:667] Split complete - New node(423)
I0305 08:22:36.018822       1 tree.go:668] Split complete - Child node(12)
I0305 08:22:36.018830       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 08:22:36.018837       1 tree.go:471] Updated node(423) last access: 166.2086 seconds
I0305 08:22:36.018845       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:36.018851       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:36.018863       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:36.018871       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:36.018925       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:36.018856318 +0000 UTC m=+166.323758422]
I0305 08:22:36.018948       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0001, Total tokens: 7601, Matched tokens: 7483, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:36.018959       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:36.019050       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7483
I0305 08:22:36.019067       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:36.019079       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.019087       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.019093       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.019099       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.019103       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.019112       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:36.019121       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:36.019134       1 prefix_cache_and_load.go:584] latency, Route, 0.0594
I0305 08:22:36.019145       1 gateway.go:415] latency, selectTargetPod, 0.0594, target pod, 10.0.1.14:8000
I0305 08:22:36.019161       1 gateway.go:235] latency, HandleRequestBody, 0.0597
I0305 08:22:36.037310       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8e58bdc4-ae9f-4f9d-b778-840ea9af24cd"
I0305 08:22:36.080384       1 gateway.go:608] "First token received" requestID="8e58bdc4-ae9f-4f9d-b778-840ea9af24cd" ttft_ms=120
I0305 08:22:36.161074       1 gateway.go:562] latency, 0.0000, summary, hash(request), 311b13ed, selectedpod, 10.0.0.134:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:36.161094       1 gateway.go:748] "Request completed" requestID="684d7412-48a6-4e87-a610-2c9bb008d8bb" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:36.161105       1 gateway.go:764] "HandleResponseBody completed" requestID="684d7412-48a6-4e87-a610-2c9bb008d8bb" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:36.253165       1 gateway.go:562] latency, 0.0001, summary, hash(request), 60df441a, selectedpod, 10.0.1.14:8000, ttft, 120, tpot, 19, e2e, 293, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:36.253185       1 gateway.go:748] "Request completed" requestID="8e58bdc4-ae9f-4f9d-b778-840ea9af24cd" targetPod="10.0.1.14:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:36.253198       1 gateway.go:764] "HandleResponseBody completed" requestID="8e58bdc4-ae9f-4f9d-b778-840ea9af24cd" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:36.360264       1 gateway.go:207] "Processing request" requestID="7c23927f-f17a-4893-9397-eff2a200cec0"
I0305 08:22:36.360299       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7c23927f-f17a-4893-9397-eff2a200cec0"
I0305 08:22:36.360307       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:36.369882       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7c23927f-f17a-4893-9397-eff2a200cec0"
I0305 08:22:36.370108       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7c23927f-f17a-4893-9397-eff2a200cec0" model="qwen2-5-7b-instruct"
I0305 08:22:36.370180       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:36.370187       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:36.370190       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:36.370559       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:36.370610       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:36.370616       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:36.430481       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0599, numInputTokens, 7598
I0305 08:22:36.430504       1 tree.go:471] Updated node(0) last access: 166.6202 seconds
I0305 08:22:36.430510       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:36.430514       1 tree.go:471] Updated node(2) last access: 166.6202 seconds
I0305 08:22:36.430527       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:36.430530       1 tree.go:471] Updated node(6) last access: 166.6202 seconds
I0305 08:22:36.430547       1 tree.go:667] Split complete - New node(425)
I0305 08:22:36.430552       1 tree.go:668] Split complete - Child node(364)
I0305 08:22:36.430559       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:22:36.430565       1 tree.go:471] Updated node(425) last access: 166.6203 seconds
I0305 08:22:36.430570       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:22:36.430576       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:36.430582       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:36.430590       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:36.430596       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:36.430578254 +0000 UTC m=+166.735480351]
I0305 08:22:36.430614       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7485, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:22:36.430622       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:22:36.430733       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7485
I0305 08:22:36.430744       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:36.430754       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.430762       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.430768       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.430773       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.430778       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.430788       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:36.430799       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:36.430810       1 prefix_cache_and_load.go:584] latency, Route, 0.0606
I0305 08:22:36.430821       1 gateway.go:415] latency, selectTargetPod, 0.0606, target pod, 10.0.1.22:8000
I0305 08:22:36.430833       1 gateway.go:235] latency, HandleRequestBody, 0.0610
I0305 08:22:36.448610       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7c23927f-f17a-4893-9397-eff2a200cec0"
I0305 08:22:36.484943       1 gateway.go:608] "First token received" requestID="7c23927f-f17a-4893-9397-eff2a200cec0" ttft_ms=115
I0305 08:22:36.491253       1 gateway.go:207] "Processing request" requestID="3d726f51-6922-4471-a778-ea9303b6caca"
I0305 08:22:36.491282       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3d726f51-6922-4471-a778-ea9303b6caca"
I0305 08:22:36.491289       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:36.600557       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3d726f51-6922-4471-a778-ea9303b6caca"
I0305 08:22:36.600795       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3d726f51-6922-4471-a778-ea9303b6caca" model="qwen2-5-7b-instruct"
I0305 08:22:36.600870       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:36.600877       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:36.600880       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:36.601203       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:36.601255       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:36.601261       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:36.636547       1 gateway.go:207] "Processing request" requestID="325b3218-6ec0-4aa5-9eb3-7c7aa99e03ee"
I0305 08:22:36.636586       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="325b3218-6ec0-4aa5-9eb3-7c7aa99e03ee"
I0305 08:22:36.636598       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:36.658031       1 gateway.go:562] latency, 0.0001, summary, hash(request), 1d539067, selectedpod, 10.0.1.22:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:36.658053       1 gateway.go:748] "Request completed" requestID="7c23927f-f17a-4893-9397-eff2a200cec0" targetPod="10.0.1.22:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:36.658068       1 gateway.go:764] "HandleResponseBody completed" requestID="7c23927f-f17a-4893-9397-eff2a200cec0" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:36.658822       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0576, numInputTokens, 7597
I0305 08:22:36.658838       1 tree.go:471] Updated node(0) last access: 166.8486 seconds
I0305 08:22:36.658844       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:36.658850       1 tree.go:471] Updated node(2) last access: 166.8486 seconds
I0305 08:22:36.658863       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:36.658867       1 tree.go:471] Updated node(6) last access: 166.8486 seconds
I0305 08:22:36.658876       1 tree.go:667] Split complete - New node(427)
I0305 08:22:36.658881       1 tree.go:668] Split complete - Child node(31)
I0305 08:22:36.658886       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:36.658892       1 tree.go:471] Updated node(427) last access: 166.8486 seconds
I0305 08:22:36.658898       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:36.658903       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:36.658909       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:36.658918       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:36.658923       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:36.658905514 +0000 UTC m=+166.963807611]
I0305 08:22:36.658937       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7480, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:36.658945       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:36.659040       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7480
I0305 08:22:36.659051       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:36.659060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.659066       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.659071       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.659077       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.659082       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.659091       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:36.659101       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:36.659113       1 prefix_cache_and_load.go:584] latency, Route, 0.0582
I0305 08:22:36.659123       1 gateway.go:415] latency, selectTargetPod, 0.0583, target pod, 10.0.1.22:8000
I0305 08:22:36.659134       1 gateway.go:235] latency, HandleRequestBody, 0.0586
I0305 08:22:36.677155       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3d726f51-6922-4471-a778-ea9303b6caca"
I0305 08:22:36.712139       1 gateway.go:608] "First token received" requestID="3d726f51-6922-4471-a778-ea9303b6caca" ttft_ms=111
I0305 08:22:36.786628       1 gateway.go:329] "-- In RequestBody processing ..." requestID="325b3218-6ec0-4aa5-9eb3-7c7aa99e03ee"
I0305 08:22:36.786862       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="325b3218-6ec0-4aa5-9eb3-7c7aa99e03ee" model="qwen2-5-7b-instruct"
I0305 08:22:36.786932       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:36.786939       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:36.786943       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:36.787266       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:36.787314       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:36.787320       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:36.831727       1 gateway.go:207] "Processing request" requestID="3af6d7bb-bd51-4703-b238-044932e693c5"
I0305 08:22:36.831766       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3af6d7bb-bd51-4703-b238-044932e693c5"
I0305 08:22:36.831780       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:36.864129       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0768, numInputTokens, 7598
I0305 08:22:36.864143       1 tree.go:471] Updated node(0) last access: 167.0539 seconds
I0305 08:22:36.864150       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:36.864153       1 tree.go:471] Updated node(2) last access: 167.0539 seconds
I0305 08:22:36.864166       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:36.864169       1 tree.go:471] Updated node(21) last access: 167.0539 seconds
I0305 08:22:36.864173       1 tree.go:490] Partial tokens match child node(186). Continue to go deeper in the radix tree
I0305 08:22:36.864178       1 tree.go:471] Updated node(186) last access: 167.0539 seconds
I0305 08:22:36.864188       1 tree.go:667] Split complete - New node(429)
I0305 08:22:36.864193       1 tree.go:668] Split complete - Child node(4)
I0305 08:22:36.864198       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:22:36.864204       1 tree.go:471] Updated node(429) last access: 167.0539 seconds
I0305 08:22:36.864210       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:36.864216       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:36.864222       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:36.864229       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:36.864235       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:36.864218136 +0000 UTC m=+167.169120234]
I0305 08:22:36.864252       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:36.864260       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:36.864355       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7484
I0305 08:22:36.864366       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:36.864377       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.864384       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.864389       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.864394       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.864400       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.864403       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.864414       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:36.864425       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:36.864435       1 prefix_cache_and_load.go:584] latency, Route, 0.0775
I0305 08:22:36.864450       1 gateway.go:415] latency, selectTargetPod, 0.0775, target pod, 10.0.3.41:8000
I0305 08:22:36.864462       1 gateway.go:235] latency, HandleRequestBody, 0.0778
I0305 08:22:36.881880       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="325b3218-6ec0-4aa5-9eb3-7c7aa99e03ee"
I0305 08:22:36.885145       1 gateway.go:562] latency, 0.0000, summary, hash(request), a9bc7375, selectedpod, 10.0.1.22:8000, ttft, 111, tpot, 19, e2e, 284, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:36.885167       1 gateway.go:748] "Request completed" requestID="3d726f51-6922-4471-a778-ea9303b6caca" targetPod="10.0.1.22:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:36.885180       1 gateway.go:764] "HandleResponseBody completed" requestID="3d726f51-6922-4471-a778-ea9303b6caca" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:36.900348       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3af6d7bb-bd51-4703-b238-044932e693c5"
I0305 08:22:36.900569       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3af6d7bb-bd51-4703-b238-044932e693c5" model="qwen2-5-7b-instruct"
I0305 08:22:36.900661       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:36.900680       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:36.900685       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:36.900969       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:36.901019       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:36.901025       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:36.918242       1 gateway.go:608] "First token received" requestID="325b3218-6ec0-4aa5-9eb3-7c7aa99e03ee" ttft_ms=131
I0305 08:22:36.928505       1 gateway.go:207] "Processing request" requestID="03dc44b9-cedc-46fc-a897-80c588d9405f"
I0305 08:22:36.928535       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="03dc44b9-cedc-46fc-a897-80c588d9405f"
I0305 08:22:36.928543       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:36.961942       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0609, numInputTokens, 7600
I0305 08:22:36.961960       1 tree.go:471] Updated node(0) last access: 167.1517 seconds
I0305 08:22:36.961966       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:36.961970       1 tree.go:471] Updated node(2) last access: 167.1517 seconds
I0305 08:22:36.961983       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:36.961989       1 tree.go:471] Updated node(21) last access: 167.1517 seconds
I0305 08:22:36.961994       1 tree.go:490] Partial tokens match child node(186). Continue to go deeper in the radix tree
I0305 08:22:36.962000       1 tree.go:471] Updated node(186) last access: 167.1517 seconds
I0305 08:22:36.962005       1 tree.go:490] Partial tokens match child node(248). Continue to go deeper in the radix tree
I0305 08:22:36.962010       1 tree.go:471] Updated node(248) last access: 167.1517 seconds
I0305 08:22:36.962019       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:36.962026       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:36.962040       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:36.962051       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:36.962062       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:36.962031698 +0000 UTC m=+167.266933807]
I0305 08:22:36.962084       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:36.962093       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:36.962192       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7484
I0305 08:22:36.962204       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:36.962219       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.962231       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.962237       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.962246       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.962261       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.962271       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:36.962288       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:36.962306       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:36.962324       1 prefix_cache_and_load.go:584] latency, Route, 0.0617
I0305 08:22:36.962346       1 gateway.go:415] latency, selectTargetPod, 0.0617, target pod, 10.0.3.41:8000
I0305 08:22:36.962364       1 gateway.go:235] latency, HandleRequestBody, 0.0620
I0305 08:22:36.977447       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3af6d7bb-bd51-4703-b238-044932e693c5"
I0305 08:22:37.028453       1 gateway.go:608] "First token received" requestID="3af6d7bb-bd51-4703-b238-044932e693c5" ttft_ms=128
I0305 08:22:37.097137       1 gateway.go:329] "-- In RequestBody processing ..." requestID="03dc44b9-cedc-46fc-a897-80c588d9405f"
I0305 08:22:37.097307       1 gateway.go:207] "Processing request" requestID="46be6c33-8a81-4947-8fb9-bcb85d8db5dd"
I0305 08:22:37.097347       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="46be6c33-8a81-4947-8fb9-bcb85d8db5dd"
I0305 08:22:37.097360       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:37.097397       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="03dc44b9-cedc-46fc-a897-80c588d9405f" model="qwen2-5-7b-instruct"
I0305 08:22:37.097475       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:37.097482       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:37.097486       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:37.097802       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:37.097855       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:37.097861       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:37.128751       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2271778d, selectedpod, 10.0.3.41:8000, ttft, 131, tpot, 23, e2e, 342, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:37.128770       1 gateway.go:748] "Request completed" requestID="325b3218-6ec0-4aa5-9eb3-7c7aa99e03ee" targetPod="10.0.3.41:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:37.128781       1 gateway.go:764] "HandleResponseBody completed" requestID="325b3218-6ec0-4aa5-9eb3-7c7aa99e03ee" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:37.155568       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0577, numInputTokens, 7598
I0305 08:22:37.155586       1 tree.go:471] Updated node(0) last access: 167.3453 seconds
I0305 08:22:37.155592       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:37.155595       1 tree.go:471] Updated node(2) last access: 167.3453 seconds
I0305 08:22:37.155609       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:37.155613       1 tree.go:471] Updated node(57) last access: 167.3453 seconds
I0305 08:22:37.155625       1 tree.go:667] Split complete - New node(432)
I0305 08:22:37.155630       1 tree.go:668] Split complete - Child node(151)
I0305 08:22:37.155635       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 08:22:37.155641       1 tree.go:471] Updated node(432) last access: 167.3454 seconds
I0305 08:22:37.155647       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:37.155654       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:37.155673       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:37.155684       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:37.155692       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:37.15565706 +0000 UTC m=+167.460559161]
I0305 08:22:37.155716       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7482, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:37.155731       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:37.155847       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7482
I0305 08:22:37.155860       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:37.155870       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.155877       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.155884       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.155890       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.155894       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.155904       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:37.155914       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:37.155926       1 prefix_cache_and_load.go:584] latency, Route, 0.0584
I0305 08:22:37.155937       1 gateway.go:415] latency, selectTargetPod, 0.0585, target pod, 10.0.1.28:8000
I0305 08:22:37.155948       1 gateway.go:235] latency, HandleRequestBody, 0.0588
I0305 08:22:37.176305       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="03dc44b9-cedc-46fc-a897-80c588d9405f"
I0305 08:22:37.182305       1 gateway.go:329] "-- In RequestBody processing ..." requestID="46be6c33-8a81-4947-8fb9-bcb85d8db5dd"
I0305 08:22:37.182551       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="46be6c33-8a81-4947-8fb9-bcb85d8db5dd" model="qwen2-5-7b-instruct"
I0305 08:22:37.182645       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:37.182652       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:37.182655       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:37.182977       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:37.183049       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:37.183059       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:37.206688       1 gateway.go:562] latency, 0.0001, summary, hash(request), 0669f575, selectedpod, 10.0.3.41:8000, ttft, 128, tpot, 19, e2e, 306, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:37.206746       1 gateway.go:748] "Request completed" requestID="3af6d7bb-bd51-4703-b238-044932e693c5" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:37.206765       1 gateway.go:764] "HandleResponseBody completed" requestID="3af6d7bb-bd51-4703-b238-044932e693c5" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:37.220047       1 gateway.go:608] "First token received" requestID="03dc44b9-cedc-46fc-a897-80c588d9405f" ttft_ms=122
I0305 08:22:37.241594       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0585, numInputTokens, 7599
I0305 08:22:37.241613       1 tree.go:471] Updated node(0) last access: 167.4313 seconds
I0305 08:22:37.241619       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:37.241623       1 tree.go:471] Updated node(2) last access: 167.4313 seconds
I0305 08:22:37.241639       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:37.241644       1 tree.go:471] Updated node(28) last access: 167.4314 seconds
I0305 08:22:37.241655       1 tree.go:667] Split complete - New node(434)
I0305 08:22:37.241660       1 tree.go:668] Split complete - Child node(211)
I0305 08:22:37.241678       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:22:37.241685       1 tree.go:471] Updated node(434) last access: 167.4314 seconds
I0305 08:22:37.241691       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 08:22:37.241696       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:37.241703       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:37.241710       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:37.241716       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:37.241698644 +0000 UTC m=+167.546600741]
I0305 08:22:37.241732       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7489, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 08:22:37.241742       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 08:22:37.241837       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7489
I0305 08:22:37.241848       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:37.241862       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.241867       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.241873       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.241878       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.241883       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.241894       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:37.241905       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:37.241916       1 prefix_cache_and_load.go:584] latency, Route, 0.0593
I0305 08:22:37.241928       1 gateway.go:415] latency, selectTargetPod, 0.0593, target pod, 10.0.0.39:8000
I0305 08:22:37.241942       1 gateway.go:235] latency, HandleRequestBody, 0.0596
I0305 08:22:37.262971       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="46be6c33-8a81-4947-8fb9-bcb85d8db5dd"
I0305 08:22:37.299349       1 gateway.go:608] "First token received" requestID="46be6c33-8a81-4947-8fb9-bcb85d8db5dd" ttft_ms=116
I0305 08:22:37.304893       1 gateway.go:207] "Processing request" requestID="c83d8b38-09e0-461c-a1de-78ed6fad9fc9"
I0305 08:22:37.304926       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c83d8b38-09e0-461c-a1de-78ed6fad9fc9"
I0305 08:22:37.304937       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:37.344899       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c83d8b38-09e0-461c-a1de-78ed6fad9fc9"
I0305 08:22:37.345123       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c83d8b38-09e0-461c-a1de-78ed6fad9fc9" model="qwen2-5-7b-instruct"
I0305 08:22:37.345199       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:37.345206       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:37.345209       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:37.345506       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:37.345559       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:37.345565       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:37.358375       1 gateway.go:207] "Processing request" requestID="d10b60c5-cc7f-4183-b1e8-c07198986578"
I0305 08:22:37.358401       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d10b60c5-cc7f-4183-b1e8-c07198986578"
I0305 08:22:37.358413       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:37.392763       1 gateway.go:562] latency, 0.0000, summary, hash(request), dcc14bf4, selectedpod, 10.0.1.28:8000, ttft, 122, tpot, 19, e2e, 295, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:37.392786       1 gateway.go:748] "Request completed" requestID="03dc44b9-cedc-46fc-a897-80c588d9405f" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:37.392801       1 gateway.go:764] "HandleResponseBody completed" requestID="03dc44b9-cedc-46fc-a897-80c588d9405f" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:37.403014       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0574, numInputTokens, 7599
I0305 08:22:37.403037       1 tree.go:471] Updated node(0) last access: 167.5928 seconds
I0305 08:22:37.403046       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:37.403050       1 tree.go:471] Updated node(2) last access: 167.5928 seconds
I0305 08:22:37.403064       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:37.403072       1 tree.go:471] Updated node(28) last access: 167.5928 seconds
I0305 08:22:37.403086       1 tree.go:667] Split complete - New node(436)
I0305 08:22:37.403090       1 tree.go:668] Split complete - Child node(138)
I0305 08:22:37.403097       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:22:37.403105       1 tree.go:471] Updated node(436) last access: 167.5928 seconds
I0305 08:22:37.403118       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:37.403124       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:37.403131       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:37.403138       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:37.403144       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:37.4031267 +0000 UTC m=+167.708028797]
I0305 08:22:37.403163       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7482, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:37.403172       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:37.403311       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7482
I0305 08:22:37.403351       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:37.403365       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.403369       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.403374       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.403381       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.403388       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.403397       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:37.403408       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:37.403425       1 prefix_cache_and_load.go:584] latency, Route, 0.0582
I0305 08:22:37.403436       1 gateway.go:415] latency, selectTargetPod, 0.0582, target pod, 10.0.0.39:8000
I0305 08:22:37.403453       1 gateway.go:235] latency, HandleRequestBody, 0.0586
I0305 08:22:37.421593       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c83d8b38-09e0-461c-a1de-78ed6fad9fc9"
I0305 08:22:37.473768       1 gateway.go:608] "First token received" requestID="c83d8b38-09e0-461c-a1de-78ed6fad9fc9" ttft_ms=128
I0305 08:22:37.514308       1 gateway.go:562] latency, 0.0001, summary, hash(request), 9cfc92ee, selectedpod, 10.0.0.39:8000, ttft, 116, tpot, 23, e2e, 331, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:37.514336       1 gateway.go:748] "Request completed" requestID="46be6c33-8a81-4947-8fb9-bcb85d8db5dd" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:37.514348       1 gateway.go:764] "HandleResponseBody completed" requestID="46be6c33-8a81-4947-8fb9-bcb85d8db5dd" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:37.519225       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d10b60c5-cc7f-4183-b1e8-c07198986578"
I0305 08:22:37.519354       1 gateway.go:207] "Processing request" requestID="110fd37a-6f92-4328-98f3-0ab608d0c17d"
I0305 08:22:37.519385       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="110fd37a-6f92-4328-98f3-0ab608d0c17d"
I0305 08:22:37.519393       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:37.519476       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d10b60c5-cc7f-4183-b1e8-c07198986578" model="qwen2-5-7b-instruct"
I0305 08:22:37.519556       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:37.519562       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:37.519566       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:37.519870       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:37.519929       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:37.519936       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:37.579000       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0591, numInputTokens, 7599
I0305 08:22:37.579015       1 tree.go:471] Updated node(0) last access: 167.7687 seconds
I0305 08:22:37.579021       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:37.579025       1 tree.go:471] Updated node(2) last access: 167.7687 seconds
I0305 08:22:37.579041       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:37.579045       1 tree.go:471] Updated node(36) last access: 167.7688 seconds
I0305 08:22:37.579054       1 tree.go:667] Split complete - New node(438)
I0305 08:22:37.579059       1 tree.go:668] Split complete - Child node(308)
I0305 08:22:37.579065       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:22:37.579071       1 tree.go:471] Updated node(438) last access: 167.7688 seconds
I0305 08:22:37.579076       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:37.579082       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 08:22:37.579089       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:37.579095       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:37.579100       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:37.579084488 +0000 UTC m=+167.883986586]
I0305 08:22:37.579116       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7482, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:37.579123       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:37.579208       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7482
I0305 08:22:37.579218       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:37.579228       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.579235       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.579242       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.579248       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.579250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.579259       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:37.579270       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:37.579281       1 prefix_cache_and_load.go:584] latency, Route, 0.0597
I0305 08:22:37.579290       1 gateway.go:415] latency, selectTargetPod, 0.0597, target pod, 10.0.3.30:8000
I0305 08:22:37.579302       1 gateway.go:235] latency, HandleRequestBody, 0.0601
I0305 08:22:37.594902       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d10b60c5-cc7f-4183-b1e8-c07198986578"
I0305 08:22:37.640256       1 gateway.go:329] "-- In RequestBody processing ..." requestID="110fd37a-6f92-4328-98f3-0ab608d0c17d"
I0305 08:22:37.640435       1 gateway.go:207] "Processing request" requestID="6ff74643-49f9-481e-b7b1-27b38eb4d661"
I0305 08:22:37.640459       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6ff74643-49f9-481e-b7b1-27b38eb4d661"
I0305 08:22:37.640469       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:37.640514       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="110fd37a-6f92-4328-98f3-0ab608d0c17d" model="qwen2-5-7b-instruct"
I0305 08:22:37.640595       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:37.640601       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:37.640605       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:37.640905       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:37.640960       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:37.640969       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:37.641183       1 gateway.go:608] "First token received" requestID="d10b60c5-cc7f-4183-b1e8-c07198986578" ttft_ms=121
I0305 08:22:37.649467       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9a2e06c3, selectedpod, 10.0.0.39:8000, ttft, 128, tpot, 19, e2e, 304, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:37.649487       1 gateway.go:748] "Request completed" requestID="c83d8b38-09e0-461c-a1de-78ed6fad9fc9" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:37.649499       1 gateway.go:764] "HandleResponseBody completed" requestID="c83d8b38-09e0-461c-a1de-78ed6fad9fc9" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:37.699816       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0588, numInputTokens, 7602
I0305 08:22:37.699835       1 tree.go:471] Updated node(0) last access: 167.8895 seconds
I0305 08:22:37.699842       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:37.699846       1 tree.go:471] Updated node(2) last access: 167.8896 seconds
I0305 08:22:37.699859       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 08:22:37.699864       1 tree.go:471] Updated node(45) last access: 167.8896 seconds
I0305 08:22:37.699876       1 tree.go:667] Split complete - New node(440)
I0305 08:22:37.699881       1 tree.go:668] Split complete - Child node(229)
I0305 08:22:37.699892       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:22:37.699898       1 tree.go:471] Updated node(440) last access: 167.8896 seconds
I0305 08:22:37.699904       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 08:22:37.699910       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:37.699916       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:37.699927       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:37.699933       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:37.69991215 +0000 UTC m=+168.004814247]
I0305 08:22:37.699949       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7482, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 08:22:37.699961       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 08:22:37.700080       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7482
I0305 08:22:37.700091       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:37.700102       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.700108       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.700111       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.700117       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.700122       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.700133       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:37.700144       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:37.700153       1 prefix_cache_and_load.go:584] latency, Route, 0.0596
I0305 08:22:37.700163       1 gateway.go:415] latency, selectTargetPod, 0.0596, target pod, 10.0.0.134:8000
I0305 08:22:37.700179       1 gateway.go:235] latency, HandleRequestBody, 0.0599
I0305 08:22:37.717796       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="110fd37a-6f92-4328-98f3-0ab608d0c17d"
I0305 08:22:37.761530       1 gateway.go:608] "First token received" requestID="110fd37a-6f92-4328-98f3-0ab608d0c17d" ttft_ms=121
I0305 08:22:37.814861       1 gateway.go:562] latency, 0.0000, summary, hash(request), e3005ee1, selectedpod, 10.0.3.30:8000, ttft, 121, tpot, 19, e2e, 295, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:37.814881       1 gateway.go:748] "Request completed" requestID="d10b60c5-cc7f-4183-b1e8-c07198986578" targetPod="10.0.3.30:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:37.814893       1 gateway.go:764] "HandleResponseBody completed" requestID="d10b60c5-cc7f-4183-b1e8-c07198986578" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:37.821262       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6ff74643-49f9-481e-b7b1-27b38eb4d661"
I0305 08:22:37.849932       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6ff74643-49f9-481e-b7b1-27b38eb4d661" model="qwen2-5-7b-instruct"
I0305 08:22:37.850028       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:37.850034       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:37.850037       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:37.850334       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:37.850392       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:37.850400       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:37.908347       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0579, numInputTokens, 7600
I0305 08:22:37.908363       1 tree.go:471] Updated node(0) last access: 168.0981 seconds
I0305 08:22:37.908369       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:37.908372       1 tree.go:471] Updated node(2) last access: 168.0981 seconds
I0305 08:22:37.908387       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:37.908391       1 tree.go:471] Updated node(24) last access: 168.0981 seconds
I0305 08:22:37.908401       1 tree.go:667] Split complete - New node(442)
I0305 08:22:37.908406       1 tree.go:668] Split complete - Child node(400)
I0305 08:22:37.908411       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:22:37.908417       1 tree.go:471] Updated node(442) last access: 168.0981 seconds
I0305 08:22:37.908425       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:37.908433       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:37.908442       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:37.908452       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:37.908459       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:37.908435722 +0000 UTC m=+168.213337826]
I0305 08:22:37.908482       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7485, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:37.908495       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:37.908649       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7485
I0305 08:22:37.908674       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 08:22:37.908690       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.908701       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.908713       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.908720       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.908727       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:37.908742       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:37.908757       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:37.908775       1 prefix_cache_and_load.go:584] latency, Route, 0.0587
I0305 08:22:37.908789       1 gateway.go:415] latency, selectTargetPod, 0.0588, target pod, 10.0.3.30:8000
I0305 08:22:37.908803       1 gateway.go:235] latency, HandleRequestBody, 0.0875
I0305 08:22:37.923657       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6ff74643-49f9-481e-b7b1-27b38eb4d661"
I0305 08:22:37.934521       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3d560ffd, selectedpod, 10.0.0.134:8000, ttft, 121, tpot, 19, e2e, 294, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:37.934539       1 gateway.go:748] "Request completed" requestID="110fd37a-6f92-4328-98f3-0ab608d0c17d" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:37.934552       1 gateway.go:764] "HandleResponseBody completed" requestID="110fd37a-6f92-4328-98f3-0ab608d0c17d" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:37.959301       1 gateway.go:608] "First token received" requestID="6ff74643-49f9-481e-b7b1-27b38eb4d661" ttft_ms=137
I0305 08:22:37.964403       1 gateway.go:207] "Processing request" requestID="184b2f4e-40ff-4d6d-8fed-f6fa69c94fdc"
I0305 08:22:37.964429       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="184b2f4e-40ff-4d6d-8fed-f6fa69c94fdc"
I0305 08:22:37.964437       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:38.054146       1 gateway.go:329] "-- In RequestBody processing ..." requestID="184b2f4e-40ff-4d6d-8fed-f6fa69c94fdc"
I0305 08:22:38.054380       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="184b2f4e-40ff-4d6d-8fed-f6fa69c94fdc" model="qwen2-5-7b-instruct"
I0305 08:22:38.054456       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:38.054463       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:38.054466       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:38.054806       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:38.054862       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:38.054868       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:38.114274       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0594, numInputTokens, 7601
I0305 08:22:38.114295       1 tree.go:471] Updated node(0) last access: 168.3040 seconds
I0305 08:22:38.114301       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:38.114304       1 tree.go:471] Updated node(2) last access: 168.3040 seconds
I0305 08:22:38.114317       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:38.114320       1 tree.go:471] Updated node(10) last access: 168.3040 seconds
I0305 08:22:38.114334       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 08:22:38.114341       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 08:22:38.114349       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:38.114356       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:38.114362       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:38.114343701 +0000 UTC m=+168.419245798]
I0305 08:22:38.114378       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 08:22:38.114387       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 08:22:38.114474       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7478
I0305 08:22:38.114485       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:38.114494       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.114500       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.114507       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.114513       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.114522       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:38.114533       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:38.114544       1 prefix_cache_and_load.go:584] latency, Route, 0.0601
I0305 08:22:38.114554       1 gateway.go:415] latency, selectTargetPod, 0.0601, target pod, 10.0.0.101:8000
I0305 08:22:38.114566       1 gateway.go:235] latency, HandleRequestBody, 0.0604
I0305 08:22:38.132884       1 gateway.go:562] latency, 0.0000, summary, hash(request), 866280d7, selectedpod, 10.0.3.30:8000, ttft, 137, tpot, 19, e2e, 311, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:38.132905       1 gateway.go:748] "Request completed" requestID="6ff74643-49f9-481e-b7b1-27b38eb4d661" targetPod="10.0.3.30:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:38.132916       1 gateway.go:764] "HandleResponseBody completed" requestID="6ff74643-49f9-481e-b7b1-27b38eb4d661" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:38.135219       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="184b2f4e-40ff-4d6d-8fed-f6fa69c94fdc"
I0305 08:22:38.179083       1 gateway.go:608] "First token received" requestID="184b2f4e-40ff-4d6d-8fed-f6fa69c94fdc" ttft_ms=124
I0305 08:22:38.351990       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7c57274c, selectedpod, 10.0.0.101:8000, ttft, 124, tpot, 19, e2e, 297, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:38.352014       1 gateway.go:748] "Request completed" requestID="184b2f4e-40ff-4d6d-8fed-f6fa69c94fdc" targetPod="10.0.0.101:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:38.352026       1 gateway.go:764] "HandleResponseBody completed" requestID="184b2f4e-40ff-4d6d-8fed-f6fa69c94fdc" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:38.364924       1 gateway.go:207] "Processing request" requestID="f518ca8f-2bf5-4b9a-995f-4ee820355531"
I0305 08:22:38.364957       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f518ca8f-2bf5-4b9a-995f-4ee820355531"
I0305 08:22:38.364966       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:38.395782       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f518ca8f-2bf5-4b9a-995f-4ee820355531"
I0305 08:22:38.396010       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f518ca8f-2bf5-4b9a-995f-4ee820355531" model="qwen2-5-7b-instruct"
I0305 08:22:38.396114       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:38.396120       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:38.396129       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:38.396520       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:38.396581       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:38.396588       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:38.455397       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0588, numInputTokens, 7600
I0305 08:22:38.455414       1 tree.go:471] Updated node(0) last access: 168.6451 seconds
I0305 08:22:38.455420       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:38.455424       1 tree.go:471] Updated node(2) last access: 168.6451 seconds
I0305 08:22:38.455437       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:38.455442       1 tree.go:471] Updated node(24) last access: 168.6452 seconds
I0305 08:22:38.455451       1 tree.go:667] Split complete - New node(445)
I0305 08:22:38.455456       1 tree.go:668] Split complete - Child node(60)
I0305 08:22:38.455462       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:22:38.455467       1 tree.go:471] Updated node(445) last access: 168.6452 seconds
I0305 08:22:38.455474       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:38.455480       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:38.455487       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:38.455494       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:38.455499       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:38.455482039 +0000 UTC m=+168.760384136]
I0305 08:22:38.455515       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7482, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:38.455524       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:38.455636       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7482
I0305 08:22:38.455647       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:38.455657       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.455674       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.455679       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.455684       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.455689       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.455699       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:38.455709       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:38.455720       1 prefix_cache_and_load.go:584] latency, Route, 0.0596
I0305 08:22:38.455730       1 gateway.go:415] latency, selectTargetPod, 0.0596, target pod, 10.0.3.30:8000
I0305 08:22:38.455741       1 gateway.go:235] latency, HandleRequestBody, 0.0600
I0305 08:22:38.470645       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f518ca8f-2bf5-4b9a-995f-4ee820355531"
I0305 08:22:38.513677       1 gateway.go:608] "First token received" requestID="f518ca8f-2bf5-4b9a-995f-4ee820355531" ttft_ms=117
I0305 08:22:38.683378       1 gateway.go:207] "Processing request" requestID="e6547af2-fc14-437c-8ddd-9bb4fe377d85"
I0305 08:22:38.683406       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e6547af2-fc14-437c-8ddd-9bb4fe377d85"
I0305 08:22:38.683416       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:38.687347       1 gateway.go:562] latency, 0.0001, summary, hash(request), 358e5d8f, selectedpod, 10.0.3.30:8000, ttft, 117, tpot, 19, e2e, 291, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:38.687367       1 gateway.go:748] "Request completed" requestID="f518ca8f-2bf5-4b9a-995f-4ee820355531" targetPod="10.0.3.30:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:38.687379       1 gateway.go:764] "HandleResponseBody completed" requestID="f518ca8f-2bf5-4b9a-995f-4ee820355531" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:38.787123       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e6547af2-fc14-437c-8ddd-9bb4fe377d85"
I0305 08:22:38.787360       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e6547af2-fc14-437c-8ddd-9bb4fe377d85" model="qwen2-5-7b-instruct"
I0305 08:22:38.787464       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:38.787470       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:38.787474       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:38.787864       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:38.787926       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:38.787933       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:38.847852       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0599, numInputTokens, 7599
I0305 08:22:38.847869       1 tree.go:471] Updated node(0) last access: 169.0376 seconds
I0305 08:22:38.847875       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:38.847879       1 tree.go:471] Updated node(2) last access: 169.0376 seconds
I0305 08:22:38.847892       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:38.847897       1 tree.go:471] Updated node(21) last access: 169.0376 seconds
I0305 08:22:38.847903       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 08:22:38.847909       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 08:22:38.847915       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 08:22:38.847922       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:38.847929       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:38.847910846 +0000 UTC m=+169.152812943]
I0305 08:22:38.847947       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 08:22:38.847955       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 08:22:38.848045       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7478
I0305 08:22:38.848055       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:38.848064       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.848070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.848075       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.848082       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:38.848091       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:38.848100       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:38.848112       1 prefix_cache_and_load.go:584] latency, Route, 0.0606
I0305 08:22:38.848126       1 gateway.go:415] latency, selectTargetPod, 0.0607, target pod, 10.0.3.41:8000
I0305 08:22:38.848137       1 gateway.go:235] latency, HandleRequestBody, 0.0610
I0305 08:22:38.864620       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e6547af2-fc14-437c-8ddd-9bb4fe377d85"
I0305 08:22:38.908644       1 gateway.go:608] "First token received" requestID="e6547af2-fc14-437c-8ddd-9bb4fe377d85" ttft_ms=121
I0305 08:22:39.083893       1 gateway.go:562] latency, 0.0000, summary, hash(request), 96c87e61, selectedpod, 10.0.3.41:8000, ttft, 121, tpot, 19, e2e, 296, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:39.083914       1 gateway.go:748] "Request completed" requestID="e6547af2-fc14-437c-8ddd-9bb4fe377d85" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:39.083929       1 gateway.go:764] "HandleResponseBody completed" requestID="e6547af2-fc14-437c-8ddd-9bb4fe377d85" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:39.349430       1 gateway.go:207] "Processing request" requestID="d514041e-4734-4164-9344-0d774365480c"
I0305 08:22:39.349481       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d514041e-4734-4164-9344-0d774365480c"
I0305 08:22:39.349495       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:39.349791       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d514041e-4734-4164-9344-0d774365480c"
I0305 08:22:39.350024       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d514041e-4734-4164-9344-0d774365480c" model="qwen2-5-7b-instruct"
I0305 08:22:39.350100       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:39.350106       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:39.350110       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:39.350500       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:39.350557       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:39.350563       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:39.408357       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0578, numInputTokens, 7601
I0305 08:22:39.408375       1 tree.go:471] Updated node(0) last access: 169.5981 seconds
I0305 08:22:39.408382       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:39.408386       1 tree.go:471] Updated node(2) last access: 169.5981 seconds
I0305 08:22:39.408399       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:39.408402       1 tree.go:471] Updated node(24) last access: 169.5981 seconds
I0305 08:22:39.408417       1 tree.go:667] Split complete - New node(448)
I0305 08:22:39.408424       1 tree.go:668] Split complete - Child node(327)
I0305 08:22:39.408433       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 08:22:39.408439       1 tree.go:471] Updated node(448) last access: 169.5982 seconds
I0305 08:22:39.408445       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 08:22:39.408451       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:39.408457       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:39.408463       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:39.408469       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:39.408453013 +0000 UTC m=+169.713355110]
I0305 08:22:39.408491       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7489, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 08:22:39.408503       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 08:22:39.408629       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7489
I0305 08:22:39.408641       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:39.408649       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:39.408657       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:39.408677       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:39.408687       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:39.408695       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:39.408705       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:39.408715       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:39.408727       1 prefix_cache_and_load.go:584] latency, Route, 0.0586
I0305 08:22:39.408741       1 gateway.go:415] latency, selectTargetPod, 0.0586, target pod, 10.0.3.30:8000
I0305 08:22:39.408757       1 gateway.go:235] latency, HandleRequestBody, 0.0590
I0305 08:22:39.423683       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d514041e-4734-4164-9344-0d774365480c"
I0305 08:22:39.459367       1 gateway.go:608] "First token received" requestID="d514041e-4734-4164-9344-0d774365480c" ttft_ms=109
I0305 08:22:39.633040       1 gateway.go:562] latency, 0.0000, summary, hash(request), ffb8b9da, selectedpod, 10.0.3.30:8000, ttft, 109, tpot, 19, e2e, 283, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:39.633061       1 gateway.go:748] "Request completed" requestID="d514041e-4734-4164-9344-0d774365480c" targetPod="10.0.3.30:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:39.633073       1 gateway.go:764] "HandleResponseBody completed" requestID="d514041e-4734-4164-9344-0d774365480c" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:39.794193       1 gateway.go:207] "Processing request" requestID="970009bf-f480-4f13-b10d-21e35aa90d28"
I0305 08:22:39.794227       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="970009bf-f480-4f13-b10d-21e35aa90d28"
I0305 08:22:39.794236       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:39.866188       1 gateway.go:329] "-- In RequestBody processing ..." requestID="970009bf-f480-4f13-b10d-21e35aa90d28"
I0305 08:22:39.866425       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="970009bf-f480-4f13-b10d-21e35aa90d28" model="qwen2-5-7b-instruct"
I0305 08:22:39.866497       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:39.866505       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:39.866508       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:39.866865       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:39.866915       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:39.866921       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:39.927065       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0601, numInputTokens, 7597
I0305 08:22:39.927086       1 tree.go:471] Updated node(0) last access: 170.1168 seconds
I0305 08:22:39.927092       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:39.927096       1 tree.go:471] Updated node(2) last access: 170.1168 seconds
I0305 08:22:39.927109       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:39.927113       1 tree.go:471] Updated node(16) last access: 170.1168 seconds
I0305 08:22:39.927124       1 tree.go:667] Split complete - New node(450)
I0305 08:22:39.927129       1 tree.go:668] Split complete - Child node(369)
I0305 08:22:39.927135       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:39.927141       1 tree.go:471] Updated node(450) last access: 170.1169 seconds
I0305 08:22:39.927146       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:39.927151       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:39.927159       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:39.927165       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:39.927171       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:39.927153861 +0000 UTC m=+170.232055957]
I0305 08:22:39.927190       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7481, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:39.927197       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:39.927338       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7481
I0305 08:22:39.927350       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:39.927361       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:39.927370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:39.927375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:39.927379       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:39.927384       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:39.927395       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:39.927408       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:39.927420       1 prefix_cache_and_load.go:584] latency, Route, 0.0609
I0305 08:22:39.927430       1 gateway.go:415] latency, selectTargetPod, 0.0609, target pod, 10.0.1.14:8000
I0305 08:22:39.927446       1 gateway.go:235] latency, HandleRequestBody, 0.0613
I0305 08:22:39.945558       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="970009bf-f480-4f13-b10d-21e35aa90d28"
I0305 08:22:39.989771       1 gateway.go:608] "First token received" requestID="970009bf-f480-4f13-b10d-21e35aa90d28" ttft_ms=123
I0305 08:22:40.108281       1 gateway.go:207] "Processing request" requestID="5873d016-7c79-419c-9eae-89416922b16c"
I0305 08:22:40.108311       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5873d016-7c79-419c-9eae-89416922b16c"
I0305 08:22:40.108319       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:40.162803       1 gateway.go:562] latency, 0.0001, summary, hash(request), 64983be1, selectedpod, 10.0.1.14:8000, ttft, 123, tpot, 19, e2e, 296, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:40.162824       1 gateway.go:748] "Request completed" requestID="970009bf-f480-4f13-b10d-21e35aa90d28" targetPod="10.0.1.14:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:40.162836       1 gateway.go:764] "HandleResponseBody completed" requestID="970009bf-f480-4f13-b10d-21e35aa90d28" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:40.208389       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5873d016-7c79-419c-9eae-89416922b16c"
I0305 08:22:40.208617       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5873d016-7c79-419c-9eae-89416922b16c" model="qwen2-5-7b-instruct"
I0305 08:22:40.208715       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:40.208722       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:40.208725       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:40.209114       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:40.209171       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:40.209177       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:40.215741       1 gateway.go:207] "Processing request" requestID="23f699ee-52c7-46a4-b053-9a735ec9b955"
I0305 08:22:40.215777       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="23f699ee-52c7-46a4-b053-9a735ec9b955"
I0305 08:22:40.215786       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:40.270348       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0612, numInputTokens, 7597
I0305 08:22:40.270371       1 tree.go:471] Updated node(0) last access: 170.4601 seconds
I0305 08:22:40.270377       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:40.270380       1 tree.go:471] Updated node(2) last access: 170.4601 seconds
I0305 08:22:40.270394       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:40.270397       1 tree.go:471] Updated node(73) last access: 170.4601 seconds
I0305 08:22:40.270408       1 tree.go:667] Split complete - New node(452)
I0305 08:22:40.270412       1 tree.go:668] Split complete - Child node(393)
I0305 08:22:40.270418       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:40.270424       1 tree.go:471] Updated node(452) last access: 170.4601 seconds
I0305 08:22:40.270430       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:40.270435       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:40.270442       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:40.270449       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:40.270455       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:40.270437667 +0000 UTC m=+170.575339764]
I0305 08:22:40.270479       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7479, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:40.270488       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:40.270580       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7479
I0305 08:22:40.270591       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:40.270601       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.270612       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.270620       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.270627       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.270633       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.270642       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:40.270651       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:40.270670       1 prefix_cache_and_load.go:584] latency, Route, 0.0619
I0305 08:22:40.270685       1 gateway.go:415] latency, selectTargetPod, 0.0620, target pod, 10.0.0.134:8000
I0305 08:22:40.270702       1 gateway.go:235] latency, HandleRequestBody, 0.0623
I0305 08:22:40.291301       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5873d016-7c79-419c-9eae-89416922b16c"
I0305 08:22:40.301394       1 gateway.go:329] "-- In RequestBody processing ..." requestID="23f699ee-52c7-46a4-b053-9a735ec9b955"
I0305 08:22:40.301645       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="23f699ee-52c7-46a4-b053-9a735ec9b955" model="qwen2-5-7b-instruct"
I0305 08:22:40.301738       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:40.301745       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:40.301748       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:40.302116       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:40.302185       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:40.302193       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:40.327456       1 gateway.go:608] "First token received" requestID="5873d016-7c79-419c-9eae-89416922b16c" ttft_ms=119
I0305 08:22:40.337362       1 gateway.go:207] "Processing request" requestID="923e0b71-0a96-4cb9-bbf8-b94accca208f"
I0305 08:22:40.337386       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="923e0b71-0a96-4cb9-bbf8-b94accca208f"
I0305 08:22:40.337395       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:40.364253       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0621, numInputTokens, 7596
I0305 08:22:40.364269       1 tree.go:471] Updated node(0) last access: 170.5540 seconds
I0305 08:22:40.364276       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:40.364280       1 tree.go:471] Updated node(2) last access: 170.5540 seconds
I0305 08:22:40.364293       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:40.364296       1 tree.go:471] Updated node(24) last access: 170.5540 seconds
I0305 08:22:40.364300       1 tree.go:490] Partial tokens match child node(128). Continue to go deeper in the radix tree
I0305 08:22:40.364303       1 tree.go:471] Updated node(128) last access: 170.5540 seconds
I0305 08:22:40.364313       1 tree.go:667] Split complete - New node(454)
I0305 08:22:40.364318       1 tree.go:668] Split complete - Child node(129)
I0305 08:22:40.364324       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 08:22:40.364338       1 tree.go:471] Updated node(454) last access: 170.5541 seconds
I0305 08:22:40.364344       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:40.364350       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 08:22:40.364357       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:40.364365       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:40.364371       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:40.36435235 +0000 UTC m=+170.669254454]
I0305 08:22:40.364387       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7482, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:40.364396       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:40.364482       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7482
I0305 08:22:40.364493       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:40.364501       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.364508       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.364515       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.364521       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.364525       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.364530       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.364542       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:40.364554       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:40.364565       1 prefix_cache_and_load.go:584] latency, Route, 0.0628
I0305 08:22:40.364574       1 gateway.go:415] latency, selectTargetPod, 0.0628, target pod, 10.0.3.30:8000
I0305 08:22:40.364585       1 gateway.go:235] latency, HandleRequestBody, 0.0632
I0305 08:22:40.379926       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="23f699ee-52c7-46a4-b053-9a735ec9b955"
I0305 08:22:40.399959       1 gateway.go:329] "-- In RequestBody processing ..." requestID="923e0b71-0a96-4cb9-bbf8-b94accca208f"
I0305 08:22:40.400168       1 gateway.go:207] "Processing request" requestID="7af46197-cb29-4d11-a017-1a7afd932888"
I0305 08:22:40.400208       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7af46197-cb29-4d11-a017-1a7afd932888"
I0305 08:22:40.400221       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:40.400281       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="923e0b71-0a96-4cb9-bbf8-b94accca208f" model="qwen2-5-7b-instruct"
I0305 08:22:40.400372       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:40.400378       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:40.400381       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:40.400677       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:40.400733       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:40.400739       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:40.417120       1 gateway.go:608] "First token received" requestID="23f699ee-52c7-46a4-b053-9a735ec9b955" ttft_ms=115
I0305 08:22:40.462197       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0614, numInputTokens, 7598
I0305 08:22:40.462218       1 tree.go:471] Updated node(0) last access: 170.6519 seconds
I0305 08:22:40.462225       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:40.462228       1 tree.go:471] Updated node(2) last access: 170.6519 seconds
I0305 08:22:40.462241       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:40.462245       1 tree.go:471] Updated node(21) last access: 170.6520 seconds
I0305 08:22:40.462250       1 tree.go:490] Partial tokens match child node(217). Continue to go deeper in the radix tree
I0305 08:22:40.462255       1 tree.go:471] Updated node(217) last access: 170.6520 seconds
I0305 08:22:40.462270       1 tree.go:667] Split complete - New node(456)
I0305 08:22:40.462278       1 tree.go:668] Split complete - Child node(218)
I0305 08:22:40.462285       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 08:22:40.462291       1 tree.go:471] Updated node(456) last access: 170.6520 seconds
I0305 08:22:40.462297       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 08:22:40.462303       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 08:22:40.462310       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:40.462317       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:40.462322       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:40.462305399 +0000 UTC m=+170.767207496]
I0305 08:22:40.462353       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7488, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 08:22:40.462362       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 08:22:40.462486       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7488
I0305 08:22:40.462497       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:40.462507       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.462514       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.462525       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.462531       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.462536       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.462543       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.462559       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:40.462570       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:40.462581       1 prefix_cache_and_load.go:584] latency, Route, 0.0622
I0305 08:22:40.462590       1 gateway.go:415] latency, selectTargetPod, 0.0622, target pod, 10.0.3.41:8000
I0305 08:22:40.462605       1 gateway.go:235] latency, HandleRequestBody, 0.0626
I0305 08:22:40.478384       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="923e0b71-0a96-4cb9-bbf8-b94accca208f"
I0305 08:22:40.500311       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7af46197-cb29-4d11-a017-1a7afd932888"
I0305 08:22:40.500350       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2dd7c62b, selectedpod, 10.0.0.134:8000, ttft, 119, tpot, 19, e2e, 291, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:40.500372       1 gateway.go:748] "Request completed" requestID="5873d016-7c79-419c-9eae-89416922b16c" targetPod="10.0.0.134:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:40.500384       1 gateway.go:764] "HandleResponseBody completed" requestID="5873d016-7c79-419c-9eae-89416922b16c" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:40.500540       1 gateway.go:207] "Processing request" requestID="766c41c2-1df5-4919-afdd-d8f41968d0cc"
I0305 08:22:40.500574       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="766c41c2-1df5-4919-afdd-d8f41968d0cc"
I0305 08:22:40.500588       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:40.500545       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7af46197-cb29-4d11-a017-1a7afd932888" model="qwen2-5-7b-instruct"
I0305 08:22:40.500705       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:40.500711       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:40.500715       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:40.501017       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:40.501075       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:40.501081       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:40.515203       1 gateway.go:608] "First token received" requestID="923e0b71-0a96-4cb9-bbf8-b94accca208f" ttft_ms=115
I0305 08:22:40.558615       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0575, numInputTokens, 7600
I0305 08:22:40.558631       1 tree.go:471] Updated node(0) last access: 170.7483 seconds
I0305 08:22:40.558638       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:40.558641       1 tree.go:471] Updated node(2) last access: 170.7484 seconds
I0305 08:22:40.558654       1 tree.go:490] Partial tokens match child node(73). Continue to go deeper in the radix tree
I0305 08:22:40.558658       1 tree.go:471] Updated node(73) last access: 170.7484 seconds
I0305 08:22:40.558670       1 tree.go:490] Partial tokens match child node(118). Continue to go deeper in the radix tree
I0305 08:22:40.558673       1 tree.go:471] Updated node(118) last access: 170.7484 seconds
I0305 08:22:40.558676       1 tree.go:490] Partial tokens match child node(167). Continue to go deeper in the radix tree
I0305 08:22:40.558679       1 tree.go:471] Updated node(167) last access: 170.7484 seconds
I0305 08:22:40.558689       1 tree.go:667] Split complete - New node(458)
I0305 08:22:40.558694       1 tree.go:668] Split complete - Child node(119)
I0305 08:22:40.558700       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 08:22:40.558706       1 tree.go:471] Updated node(458) last access: 170.7484 seconds
I0305 08:22:40.558713       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 08:22:40.558721       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:40.558730       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:40.558740       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:40.558748       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:40.558723484 +0000 UTC m=+170.863625587]
I0305 08:22:40.558766       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7491, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 08:22:40.558773       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 08:22:40.558899       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7f2fx from longest matching node with match length 7491
I0305 08:22:40.558917       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:40.558935       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.558943       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.558952       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.558960       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.558970       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.558981       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.558992       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.559002       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:40.559013       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7f2fx="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 08:22:40.559023       1 prefix_cache_and_load.go:584] latency, Route, 0.0583
I0305 08:22:40.559033       1 gateway.go:415] latency, selectTargetPod, 0.0583, target pod, 10.0.0.134:8000
I0305 08:22:40.559045       1 gateway.go:235] latency, HandleRequestBody, 0.0587
I0305 08:22:40.575629       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7af46197-cb29-4d11-a017-1a7afd932888"
I0305 08:22:40.585645       1 gateway.go:329] "-- In RequestBody processing ..." requestID="766c41c2-1df5-4919-afdd-d8f41968d0cc"
I0305 08:22:40.585885       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="766c41c2-1df5-4919-afdd-d8f41968d0cc" model="qwen2-5-7b-instruct"
I0305 08:22:40.585963       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:40.585970       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:40.585973       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:40.586270       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:40.586323       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:40.586341       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:40.590235       1 gateway.go:562] latency, 0.0000, summary, hash(request), dad7cf70, selectedpod, 10.0.3.30:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 08:22:40.590257       1 gateway.go:748] "Request completed" requestID="23f699ee-52c7-46a4-b053-9a735ec9b955" targetPod="10.0.3.30:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 08:22:40.590269       1 gateway.go:764] "HandleResponseBody completed" requestID="23f699ee-52c7-46a4-b053-9a735ec9b955" promptTokens=7615 completionTokens=10 stream=true
I0305 08:22:40.594733       1 gateway.go:207] "Processing request" requestID="c0c5999f-3100-4c52-92fe-0d323612f3d9"
I0305 08:22:40.594762       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c0c5999f-3100-4c52-92fe-0d323612f3d9"
I0305 08:22:40.594771       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:40.610534       1 gateway.go:608] "First token received" requestID="7af46197-cb29-4d11-a017-1a7afd932888" ttft_ms=110
I0305 08:22:40.645165       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0588, numInputTokens, 7602
I0305 08:22:40.645186       1 tree.go:471] Updated node(0) last access: 170.8349 seconds
I0305 08:22:40.645193       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:40.645197       1 tree.go:471] Updated node(2) last access: 170.8349 seconds
I0305 08:22:40.645216       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:40.645222       1 tree.go:471] Updated node(36) last access: 170.8349 seconds
I0305 08:22:40.645235       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 08:22:40.645239       1 tree.go:471] Updated node(219) last access: 170.8350 seconds
I0305 08:22:40.645254       1 tree.go:667] Split complete - New node(460)
I0305 08:22:40.645262       1 tree.go:668] Split complete - Child node(149)
I0305 08:22:40.645270       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 08:22:40.645278       1 tree.go:471] Updated node(460) last access: 170.8350 seconds
I0305 08:22:40.645289       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:40.645297       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:40.645315       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:40.645335       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:40.645345       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:40.64530179 +0000 UTC m=+170.950203897]
I0305 08:22:40.645369       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7485, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:40.645379       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:40.645538       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7485
I0305 08:22:40.645550       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 08:22:40.645560       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.645566       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.645577       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.645583       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.645589       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.645593       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.645604       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:40.645614       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:40.645625       1 prefix_cache_and_load.go:584] latency, Route, 0.0597
I0305 08:22:40.645638       1 gateway.go:415] latency, selectTargetPod, 0.0597, target pod, 10.0.3.30:8000
I0305 08:22:40.645656       1 gateway.go:235] latency, HandleRequestBody, 0.0600
I0305 08:22:40.663758       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="766c41c2-1df5-4919-afdd-d8f41968d0cc"
I0305 08:22:40.687955       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c0c5999f-3100-4c52-92fe-0d323612f3d9"
I0305 08:22:40.688081       1 gateway.go:562] latency, 0.0001, summary, hash(request), c85afbf1, selectedpod, 10.0.3.41:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:40.688110       1 gateway.go:748] "Request completed" requestID="923e0b71-0a96-4cb9-bbf8-b94accca208f" targetPod="10.0.3.41:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:40.688126       1 gateway.go:764] "HandleResponseBody completed" requestID="923e0b71-0a96-4cb9-bbf8-b94accca208f" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:40.688139       1 gateway.go:207] "Processing request" requestID="91587e7e-36a4-4e4c-9257-6b77af87b464"
I0305 08:22:40.688176       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="91587e7e-36a4-4e4c-9257-6b77af87b464"
I0305 08:22:40.688186       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:40.688246       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c0c5999f-3100-4c52-92fe-0d323612f3d9" model="qwen2-5-7b-instruct"
I0305 08:22:40.688336       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:40.688343       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:40.688347       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:40.688643       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:40.688711       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:40.688718       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:40.699555       1 gateway.go:608] "First token received" requestID="766c41c2-1df5-4919-afdd-d8f41968d0cc" ttft_ms=113
I0305 08:22:40.746361       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0576, numInputTokens, 7597
I0305 08:22:40.746377       1 tree.go:471] Updated node(0) last access: 170.9361 seconds
I0305 08:22:40.746385       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:40.746393       1 tree.go:471] Updated node(2) last access: 170.9361 seconds
I0305 08:22:40.746408       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:40.746411       1 tree.go:471] Updated node(57) last access: 170.9361 seconds
I0305 08:22:40.746415       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 08:22:40.746420       1 tree.go:471] Updated node(175) last access: 170.9361 seconds
I0305 08:22:40.746424       1 tree.go:490] Partial tokens match child node(179). Continue to go deeper in the radix tree
I0305 08:22:40.746428       1 tree.go:471] Updated node(179) last access: 170.9361 seconds
I0305 08:22:40.746438       1 tree.go:667] Split complete - New node(462)
I0305 08:22:40.746441       1 tree.go:668] Split complete - Child node(176)
I0305 08:22:40.746446       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 08:22:40.746452       1 tree.go:471] Updated node(462) last access: 170.9362 seconds
I0305 08:22:40.746457       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 106 tokens:
I0305 08:22:40.746462       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:40.746474       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:40.746483       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:40.746489       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:40.746467112 +0000 UTC m=+171.051369221]
I0305 08:22:40.746504       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7491, Matching ratio: 0.9860, # Matched pods: 0, Matched pods: []
I0305 08:22:40.746511       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9860 > 0.5000)
I0305 08:22:40.746599       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7491
I0305 08:22:40.746612       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:40.746626       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.746634       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.746641       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.746646       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.746648       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.746654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.746659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:40.746681       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:40.746692       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:40.746704       1 prefix_cache_and_load.go:584] latency, Route, 0.0584
I0305 08:22:40.746712       1 gateway.go:415] latency, selectTargetPod, 0.0584, target pod, 10.0.1.28:8000
I0305 08:22:40.746722       1 gateway.go:235] latency, HandleRequestBody, 0.0588
I0305 08:22:40.765660       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c0c5999f-3100-4c52-92fe-0d323612f3d9"
I0305 08:22:40.783344       1 gateway.go:562] latency, 0.0001, summary, hash(request), b042def0, selectedpod, 10.0.0.134:8000, ttft, 110, tpot, 19, e2e, 282, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:40.783366       1 gateway.go:748] "Request completed" requestID="7af46197-cb29-4d11-a017-1a7afd932888" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:40.783382       1 gateway.go:764] "HandleResponseBody completed" requestID="7af46197-cb29-4d11-a017-1a7afd932888" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:40.801984       1 gateway.go:608] "First token received" requestID="c0c5999f-3100-4c52-92fe-0d323612f3d9" ttft_ms=113
I0305 08:22:40.871790       1 gateway.go:562] latency, 0.0001, summary, hash(request), 45a5b76d, selectedpod, 10.0.3.30:8000, ttft, 113, tpot, 19, e2e, 286, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:40.871808       1 gateway.go:748] "Request completed" requestID="766c41c2-1df5-4919-afdd-d8f41968d0cc" targetPod="10.0.3.30:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:40.871819       1 gateway.go:764] "HandleResponseBody completed" requestID="766c41c2-1df5-4919-afdd-d8f41968d0cc" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:40.974946       1 gateway.go:562] latency, 0.0000, summary, hash(request), a5763e1e, selectedpod, 10.0.1.28:8000, ttft, 113, tpot, 19, e2e, 286, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:40.974964       1 gateway.go:748] "Request completed" requestID="c0c5999f-3100-4c52-92fe-0d323612f3d9" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:40.974974       1 gateway.go:764] "HandleResponseBody completed" requestID="c0c5999f-3100-4c52-92fe-0d323612f3d9" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:41.125469       1 gateway.go:329] "-- In RequestBody processing ..." requestID="91587e7e-36a4-4e4c-9257-6b77af87b464"
I0305 08:22:41.125727       1 gateway.go:207] "Processing request" requestID="4989191e-27ec-4638-b361-6d04ba4cc611"
I0305 08:22:41.125757       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4989191e-27ec-4638-b361-6d04ba4cc611"
I0305 08:22:41.125766       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:41.125779       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="91587e7e-36a4-4e4c-9257-6b77af87b464" model="qwen2-5-7b-instruct"
I0305 08:22:41.125862       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:41.125869       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:41.125873       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:41.126339       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:41.126397       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4989191e-27ec-4638-b361-6d04ba4cc611"
I0305 08:22:41.126440       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0006
I0305 08:22:41.126449       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:41.126537       1 gateway.go:207] "Processing request" requestID="440a7ea2-c16c-40ce-9783-4a5c9ebee986"
I0305 08:22:41.126567       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="440a7ea2-c16c-40ce-9783-4a5c9ebee986"
I0305 08:22:41.126578       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:41.126738       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4989191e-27ec-4638-b361-6d04ba4cc611" model="qwen2-5-7b-instruct"
I0305 08:22:41.127528       1 gateway.go:329] "-- In RequestBody processing ..." requestID="440a7ea2-c16c-40ce-9783-4a5c9ebee986"
I0305 08:22:41.127584       1 gateway.go:207] "Processing request" requestID="6ed3b42e-00d7-4023-8bef-0c76aa97350e"
I0305 08:22:41.127625       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6ed3b42e-00d7-4023-8bef-0c76aa97350e"
I0305 08:22:41.127633       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:41.127788       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="440a7ea2-c16c-40ce-9783-4a5c9ebee986" model="qwen2-5-7b-instruct"
I0305 08:22:41.128367       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6ed3b42e-00d7-4023-8bef-0c76aa97350e"
I0305 08:22:41.128596       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6ed3b42e-00d7-4023-8bef-0c76aa97350e" model="qwen2-5-7b-instruct"
I0305 08:22:41.185063       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0586, numInputTokens, 7600
I0305 08:22:41.185083       1 tree.go:471] Updated node(0) last access: 171.3748 seconds
I0305 08:22:41.185090       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:41.185093       1 tree.go:471] Updated node(2) last access: 171.3748 seconds
I0305 08:22:41.185106       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:41.185109       1 tree.go:471] Updated node(10) last access: 171.3748 seconds
I0305 08:22:41.185125       1 tree.go:667] Split complete - New node(464)
I0305 08:22:41.185130       1 tree.go:668] Split complete - Child node(444)
I0305 08:22:41.185136       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 08:22:41.185141       1 tree.go:471] Updated node(464) last access: 171.3749 seconds
I0305 08:22:41.185146       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:41.185151       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:41.185157       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:41.185165       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:41.185170       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:41.185153321 +0000 UTC m=+171.490055418]
I0305 08:22:41.185186       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7485, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:41.185195       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:41.185288       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7485
I0305 08:22:41.185299       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:41.185310       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.185318       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.185333       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.185340       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.185347       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.185356       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:41.185367       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:41.185377       1 prefix_cache_and_load.go:584] latency, Route, 0.0595
I0305 08:22:41.185391       1 gateway.go:415] latency, selectTargetPod, 0.0595, target pod, 10.0.0.101:8000
I0305 08:22:41.185404       1 gateway.go:235] latency, HandleRequestBody, 0.0599
I0305 08:22:41.185430       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0586
I0305 08:22:41.185435       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:41.185438       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:41.185646       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:41.185707       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:41.185713       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:41.204304       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="91587e7e-36a4-4e4c-9257-6b77af87b464"
I0305 08:22:41.240323       1 gateway.go:207] "Processing request" requestID="b4f8a1a2-4211-4efe-aa80-0e4348550069"
I0305 08:22:41.240366       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b4f8a1a2-4211-4efe-aa80-0e4348550069"
I0305 08:22:41.240374       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:41.240537       1 gateway.go:608] "First token received" requestID="91587e7e-36a4-4e4c-9257-6b77af87b464" ttft_ms=114
I0305 08:22:41.242781       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0571, numInputTokens, 7596
I0305 08:22:41.242797       1 tree.go:471] Updated node(0) last access: 171.4325 seconds
I0305 08:22:41.242803       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:41.242809       1 tree.go:471] Updated node(2) last access: 171.4325 seconds
I0305 08:22:41.242820       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:41.242824       1 tree.go:471] Updated node(57) last access: 171.4325 seconds
I0305 08:22:41.242830       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 08:22:41.242836       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 08:22:41.242843       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 08:22:41.242850       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:41.242855       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:41.242837749 +0000 UTC m=+171.547739846]
I0305 08:22:41.242872       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 08:22:41.242879       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 08:22:41.242986       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7478
I0305 08:22:41.242997       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:41.243005       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.243011       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.243017       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.243021       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.243036       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:41.243046       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:41.243055       1 prefix_cache_and_load.go:584] latency, Route, 0.1162
I0305 08:22:41.243072       1 gateway.go:415] latency, selectTargetPod, 0.1162, target pod, 10.0.1.28:8000
I0305 08:22:41.243086       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1152
I0305 08:22:41.243087       1 gateway.go:235] latency, HandleRequestBody, 0.1167
I0305 08:22:41.243093       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:41.243097       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:41.243391       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:41.243456       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:41.243462       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:41.263475       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4989191e-27ec-4638-b361-6d04ba4cc611"
I0305 08:22:41.296488       1 gateway.go:608] "First token received" requestID="4989191e-27ec-4638-b361-6d04ba4cc611" ttft_ms=170
I0305 08:22:41.312271       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0688, numInputTokens, 7601
I0305 08:22:41.312291       1 tree.go:471] Updated node(0) last access: 171.5020 seconds
I0305 08:22:41.312298       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:41.312302       1 tree.go:471] Updated node(2) last access: 171.5020 seconds
I0305 08:22:41.312317       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:41.312324       1 tree.go:471] Updated node(10) last access: 171.5020 seconds
I0305 08:22:41.312336       1 tree.go:490] Partial tokens match child node(14). Continue to go deeper in the radix tree
I0305 08:22:41.312340       1 tree.go:471] Updated node(14) last access: 171.5021 seconds
I0305 08:22:41.312348       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 08:22:41.312351       1 tree.go:471] Updated node(18) last access: 171.5021 seconds
I0305 08:22:41.312359       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:41.312364       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:41.312373       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:41.312382       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:41.312392       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:41.312367253 +0000 UTC m=+171.617269350]
I0305 08:22:41.312412       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7484, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:41.312421       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:41.312525       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7484
I0305 08:22:41.312537       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:41.312553       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.312560       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.312565       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.312570       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.312574       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.312579       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.312588       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:41.312599       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:41.312610       1 prefix_cache_and_load.go:584] latency, Route, 0.1847
I0305 08:22:41.312626       1 gateway.go:415] latency, selectTargetPod, 0.1848, target pod, 10.0.0.101:8000
I0305 08:22:41.312639       1 gateway.go:235] latency, HandleRequestBody, 0.1851
I0305 08:22:41.312675       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1840
I0305 08:22:41.312682       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:41.312685       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:41.312934       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:41.312993       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:41.312999       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:41.330968       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="440a7ea2-c16c-40ce-9783-4a5c9ebee986"
I0305 08:22:41.369301       1 gateway.go:608] "First token received" requestID="440a7ea2-c16c-40ce-9783-4a5c9ebee986" ttft_ms=241
I0305 08:22:41.390764       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0778, numInputTokens, 7597
I0305 08:22:41.390780       1 tree.go:471] Updated node(0) last access: 171.5805 seconds
I0305 08:22:41.390786       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:41.390790       1 tree.go:471] Updated node(2) last access: 171.5805 seconds
I0305 08:22:41.390804       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:41.390809       1 tree.go:471] Updated node(57) last access: 171.5805 seconds
I0305 08:22:41.390813       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 08:22:41.390816       1 tree.go:471] Updated node(175) last access: 171.5805 seconds
I0305 08:22:41.390822       1 tree.go:490] Partial tokens match child node(179). Continue to go deeper in the radix tree
I0305 08:22:41.390825       1 tree.go:471] Updated node(179) last access: 171.5805 seconds
I0305 08:22:41.390835       1 tree.go:667] Split complete - New node(468)
I0305 08:22:41.390840       1 tree.go:668] Split complete - Child node(323)
I0305 08:22:41.390845       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 08:22:41.390851       1 tree.go:471] Updated node(468) last access: 171.5806 seconds
I0305 08:22:41.390856       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 104 tokens:
I0305 08:22:41.390862       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:41.390870       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:41.390877       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:41.390882       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:41.390864251 +0000 UTC m=+171.695766348]
I0305 08:22:41.390897       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7493, Matching ratio: 0.9863, # Matched pods: 0, Matched pods: []
I0305 08:22:41.390906       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9863 > 0.5000)
I0305 08:22:41.391006       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7493
I0305 08:22:41.391018       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:41.391028       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.391035       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.391040       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.391048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.391054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.391060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.391064       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.391075       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:41.391085       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:41.391096       1 prefix_cache_and_load.go:584] latency, Route, 0.2624
I0305 08:22:41.391105       1 gateway.go:415] latency, selectTargetPod, 0.2624, target pod, 10.0.1.28:8000
I0305 08:22:41.391116       1 gateway.go:235] latency, HandleRequestBody, 0.2628
I0305 08:22:41.409069       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6ed3b42e-00d7-4023-8bef-0c76aa97350e"
I0305 08:22:41.444646       1 gateway.go:608] "First token received" requestID="6ed3b42e-00d7-4023-8bef-0c76aa97350e" ttft_ms=316
I0305 08:22:41.449417       1 gateway.go:562] latency, 0.0001, summary, hash(request), 9f777262, selectedpod, 10.0.0.101:8000, ttft, 114, tpot, 23, e2e, 323, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:41.449436       1 gateway.go:748] "Request completed" requestID="91587e7e-36a4-4e4c-9257-6b77af87b464" targetPod="10.0.0.101:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:41.449449       1 gateway.go:764] "HandleResponseBody completed" requestID="91587e7e-36a4-4e4c-9257-6b77af87b464" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:41.505221       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6bf628b4, selectedpod, 10.0.1.28:8000, ttft, 170, tpot, 23, e2e, 378, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:41.505240       1 gateway.go:748] "Request completed" requestID="4989191e-27ec-4638-b361-6d04ba4cc611" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:41.505252       1 gateway.go:764] "HandleResponseBody completed" requestID="4989191e-27ec-4638-b361-6d04ba4cc611" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:41.546382       1 gateway.go:562] latency, 0.0001, summary, hash(request), 4e4efa51, selectedpod, 10.0.0.101:8000, ttft, 241, tpot, 19, e2e, 418, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:41.546404       1 gateway.go:748] "Request completed" requestID="440a7ea2-c16c-40ce-9783-4a5c9ebee986" targetPod="10.0.0.101:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:41.546419       1 gateway.go:764] "HandleResponseBody completed" requestID="440a7ea2-c16c-40ce-9783-4a5c9ebee986" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:41.621227       1 gateway.go:562] latency, 0.0000, summary, hash(request), 77323e3d, selectedpod, 10.0.1.28:8000, ttft, 316, tpot, 19, e2e, 492, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 08:22:41.621243       1 gateway.go:748] "Request completed" requestID="6ed3b42e-00d7-4023-8bef-0c76aa97350e" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 08:22:41.621253       1 gateway.go:764] "HandleResponseBody completed" requestID="6ed3b42e-00d7-4023-8bef-0c76aa97350e" promptTokens=7618 completionTokens=10 stream=true
I0305 08:22:41.680622       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b4f8a1a2-4211-4efe-aa80-0e4348550069"
I0305 08:22:41.680916       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b4f8a1a2-4211-4efe-aa80-0e4348550069" model="qwen2-5-7b-instruct"
I0305 08:22:41.680994       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:41.681001       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:41.681004       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:41.681407       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:41.681480       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 08:22:41.681487       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:41.708118       1 gateway.go:207] "Processing request" requestID="df2373c6-4518-4db2-810d-64d083f92076"
I0305 08:22:41.708150       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="df2373c6-4518-4db2-810d-64d083f92076"
I0305 08:22:41.708157       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:41.743119       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0616, numInputTokens, 7597
I0305 08:22:41.743136       1 tree.go:471] Updated node(0) last access: 171.9329 seconds
I0305 08:22:41.743143       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:41.743146       1 tree.go:471] Updated node(2) last access: 171.9329 seconds
I0305 08:22:41.743158       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:41.743162       1 tree.go:471] Updated node(16) last access: 171.9329 seconds
I0305 08:22:41.743166       1 tree.go:490] Partial tokens match child node(78). Continue to go deeper in the radix tree
I0305 08:22:41.743171       1 tree.go:471] Updated node(78) last access: 171.9329 seconds
I0305 08:22:41.743182       1 tree.go:667] Split complete - New node(470)
I0305 08:22:41.743187       1 tree.go:668] Split complete - Child node(61)
I0305 08:22:41.743193       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:22:41.743198       1 tree.go:471] Updated node(470) last access: 171.9329 seconds
I0305 08:22:41.743204       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 106 tokens:
I0305 08:22:41.743209       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:41.743217       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:41.743225       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:41.743230       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:41.743210974 +0000 UTC m=+172.048113071]
I0305 08:22:41.743247       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7491, Matching ratio: 0.9860, # Matched pods: 0, Matched pods: []
I0305 08:22:41.743254       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9860 > 0.5000)
I0305 08:22:41.743373       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7491
I0305 08:22:41.743384       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:41.743393       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.743399       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.743406       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.743411       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.743417       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.743422       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.743432       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:41.743442       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:41.743453       1 prefix_cache_and_load.go:584] latency, Route, 0.0625
I0305 08:22:41.743463       1 gateway.go:415] latency, selectTargetPod, 0.0625, target pod, 10.0.1.14:8000
I0305 08:22:41.743476       1 gateway.go:235] latency, HandleRequestBody, 0.0629
I0305 08:22:41.762322       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b4f8a1a2-4211-4efe-aa80-0e4348550069"
I0305 08:22:41.769275       1 gateway.go:329] "-- In RequestBody processing ..." requestID="df2373c6-4518-4db2-810d-64d083f92076"
I0305 08:22:41.769536       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="df2373c6-4518-4db2-810d-64d083f92076" model="qwen2-5-7b-instruct"
I0305 08:22:41.769614       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:41.769622       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:41.769625       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:41.769941       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:41.770003       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:41.770009       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:41.782944       1 gateway.go:207] "Processing request" requestID="0edbfc16-f096-4fc1-b848-fcfabccfa794"
I0305 08:22:41.782975       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0edbfc16-f096-4fc1-b848-fcfabccfa794"
I0305 08:22:41.782982       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:41.798623       1 gateway.go:608] "First token received" requestID="b4f8a1a2-4211-4efe-aa80-0e4348550069" ttft_ms=117
I0305 08:22:41.832384       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0624, numInputTokens, 7597
I0305 08:22:41.832403       1 tree.go:471] Updated node(0) last access: 172.0221 seconds
I0305 08:22:41.832409       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:41.832413       1 tree.go:471] Updated node(2) last access: 172.0221 seconds
I0305 08:22:41.832426       1 tree.go:490] Partial tokens match child node(10). Continue to go deeper in the radix tree
I0305 08:22:41.832432       1 tree.go:471] Updated node(10) last access: 172.0221 seconds
I0305 08:22:41.832446       1 tree.go:667] Split complete - New node(472)
I0305 08:22:41.832451       1 tree.go:668] Split complete - Child node(338)
I0305 08:22:41.832457       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 08:22:41.832463       1 tree.go:471] Updated node(472) last access: 172.0222 seconds
I0305 08:22:41.832469       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 08:22:41.832474       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:41.832480       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:41.832487       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:41.832493       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:41.832476548 +0000 UTC m=+172.137378645]
I0305 08:22:41.832513       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7482, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 08:22:41.832525       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 08:22:41.832614       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-n9b4k from longest matching node with match length 7482
I0305 08:22:41.832625       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:41.832639       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.832645       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.832653       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.832658       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.832676       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.832687       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:41.832697       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-n9b4k="target_pod_ip" 10.0.0.101="(MISSING)"
I0305 08:22:41.832707       1 prefix_cache_and_load.go:584] latency, Route, 0.0631
I0305 08:22:41.832721       1 gateway.go:415] latency, selectTargetPod, 0.0631, target pod, 10.0.0.101:8000
I0305 08:22:41.832734       1 gateway.go:235] latency, HandleRequestBody, 0.0635
I0305 08:22:41.852598       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="df2373c6-4518-4db2-810d-64d083f92076"
I0305 08:22:41.887759       1 gateway.go:608] "First token received" requestID="df2373c6-4518-4db2-810d-64d083f92076" ttft_ms=118
I0305 08:22:41.930564       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0edbfc16-f096-4fc1-b848-fcfabccfa794"
I0305 08:22:41.930822       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0edbfc16-f096-4fc1-b848-fcfabccfa794" model="qwen2-5-7b-instruct"
I0305 08:22:41.930912       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:41.930919       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:41.930922       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:41.931195       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:41.931266       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:41.931272       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:41.962404       1 gateway.go:207] "Processing request" requestID="d91ec263-bf17-406c-911d-2a96a638750f"
I0305 08:22:41.962437       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d91ec263-bf17-406c-911d-2a96a638750f"
I0305 08:22:41.962446       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:41.971700       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7c1171cc, selectedpod, 10.0.1.14:8000, ttft, 117, tpot, 19, e2e, 291, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:41.971719       1 gateway.go:748] "Request completed" requestID="b4f8a1a2-4211-4efe-aa80-0e4348550069" targetPod="10.0.1.14:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:41.971729       1 gateway.go:764] "HandleResponseBody completed" requestID="b4f8a1a2-4211-4efe-aa80-0e4348550069" promptTokens=7617 completionTokens=10 stream=true
I0305 08:22:41.989575       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0583, numInputTokens, 7603
I0305 08:22:41.989591       1 tree.go:471] Updated node(0) last access: 172.1793 seconds
I0305 08:22:41.989597       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:41.989601       1 tree.go:471] Updated node(2) last access: 172.1793 seconds
I0305 08:22:41.989614       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0305 08:22:41.989620       1 tree.go:471] Updated node(24) last access: 172.1793 seconds
I0305 08:22:41.989626       1 tree.go:490] Partial tokens match child node(215). Continue to go deeper in the radix tree
I0305 08:22:41.989632       1 tree.go:471] Updated node(215) last access: 172.1793 seconds
I0305 08:22:41.989643       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 08:22:41.989651       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 08:22:41.989660       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 08:22:41.989681       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:41.989692       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:41.989653676 +0000 UTC m=+172.294555778]
I0305 08:22:41.989716       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7481, Matching ratio: 0.9840, # Matched pods: 0, Matched pods: []
I0305 08:22:41.989726       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9840 > 0.5000)
I0305 08:22:41.989826       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7481
I0305 08:22:41.989837       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:41.989847       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.989852       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.989861       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.989869       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.989874       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:41.989891       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:41.989906       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:41.989923       1 prefix_cache_and_load.go:584] latency, Route, 0.0590
I0305 08:22:41.989935       1 gateway.go:415] latency, selectTargetPod, 0.0590, target pod, 10.0.3.30:8000
I0305 08:22:41.989949       1 gateway.go:235] latency, HandleRequestBody, 0.0594
I0305 08:22:42.005494       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0edbfc16-f096-4fc1-b848-fcfabccfa794"
I0305 08:22:42.019941       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d91ec263-bf17-406c-911d-2a96a638750f"
I0305 08:22:42.020182       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d91ec263-bf17-406c-911d-2a96a638750f" model="qwen2-5-7b-instruct"
I0305 08:22:42.020265       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:42.020271       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:42.020275       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:42.020592       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:42.020648       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:42.020655       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:42.049354       1 gateway.go:608] "First token received" requestID="0edbfc16-f096-4fc1-b848-fcfabccfa794" ttft_ms=118
I0305 08:22:42.060707       1 gateway.go:562] latency, 0.0001, summary, hash(request), f713c83f, selectedpod, 10.0.0.101:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:42.060730       1 gateway.go:748] "Request completed" requestID="df2373c6-4518-4db2-810d-64d083f92076" targetPod="10.0.0.101:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:42.060747       1 gateway.go:764] "HandleResponseBody completed" requestID="df2373c6-4518-4db2-810d-64d083f92076" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:42.082781       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0621, numInputTokens, 7595
I0305 08:22:42.082802       1 tree.go:471] Updated node(0) last access: 172.2725 seconds
I0305 08:22:42.082810       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:42.082815       1 tree.go:471] Updated node(2) last access: 172.2725 seconds
I0305 08:22:42.082833       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 08:22:42.082838       1 tree.go:471] Updated node(57) last access: 172.2726 seconds
I0305 08:22:42.082842       1 tree.go:490] Partial tokens match child node(200). Continue to go deeper in the radix tree
I0305 08:22:42.082846       1 tree.go:471] Updated node(200) last access: 172.2726 seconds
I0305 08:22:42.082862       1 tree.go:667] Split complete - New node(475)
I0305 08:22:42.082868       1 tree.go:668] Split complete - Child node(401)
I0305 08:22:42.082876       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 08:22:42.082883       1 tree.go:471] Updated node(475) last access: 172.2726 seconds
I0305 08:22:42.082892       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 08:22:42.082898       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 08:22:42.082907       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 08:22:42.082917       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:42.082927       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:42.082901066 +0000 UTC m=+172.387803165]
I0305 08:22:42.082947       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7482, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 08:22:42.082959       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 08:22:42.083047       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-xwrnx from longest matching node with match length 7482
I0305 08:22:42.083063       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:42.083077       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.083087       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.083099       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.083106       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.083116       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.083126       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.083141       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:42.083156       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-xwrnx="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 08:22:42.083171       1 prefix_cache_and_load.go:584] latency, Route, 0.0629
I0305 08:22:42.083182       1 gateway.go:415] latency, selectTargetPod, 0.0629, target pod, 10.0.1.28:8000
I0305 08:22:42.083198       1 gateway.go:235] latency, HandleRequestBody, 0.0633
I0305 08:22:42.103807       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d91ec263-bf17-406c-911d-2a96a638750f"
I0305 08:22:42.139053       1 gateway.go:608] "First token received" requestID="d91ec263-bf17-406c-911d-2a96a638750f" ttft_ms=119
I0305 08:22:42.150248       1 gateway.go:207] "Processing request" requestID="e0d330a9-8e83-4c95-ad62-69b673b3ff9c"
I0305 08:22:42.150276       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e0d330a9-8e83-4c95-ad62-69b673b3ff9c"
I0305 08:22:42.150284       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:42.177258       1 gateway.go:207] "Processing request" requestID="ec4b4a16-5ff8-4203-8934-b1a969cf77ad"
I0305 08:22:42.177291       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ec4b4a16-5ff8-4203-8934-b1a969cf77ad"
I0305 08:22:42.177303       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:42.177545       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ec4b4a16-5ff8-4203-8934-b1a969cf77ad"
I0305 08:22:42.177793       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ec4b4a16-5ff8-4203-8934-b1a969cf77ad" model="qwen2-5-7b-instruct"
I0305 08:22:42.177862       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:42.177871       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:42.177876       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:42.178179       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:42.178238       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:42.178246       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:42.222331       1 gateway.go:562] latency, 0.0000, summary, hash(request), ee728728, selectedpod, 10.0.3.30:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 08:22:42.222353       1 gateway.go:748] "Request completed" requestID="0edbfc16-f096-4fc1-b848-fcfabccfa794" targetPod="10.0.3.30:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 08:22:42.222364       1 gateway.go:764] "HandleResponseBody completed" requestID="0edbfc16-f096-4fc1-b848-fcfabccfa794" promptTokens=7622 completionTokens=10 stream=true
I0305 08:22:42.223022       1 gateway.go:207] "Processing request" requestID="3cb4b305-c4a5-4a82-bfe9-57812aa15a54"
I0305 08:22:42.223046       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3cb4b305-c4a5-4a82-bfe9-57812aa15a54"
I0305 08:22:42.223054       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:42.230840       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3cb4b305-c4a5-4a82-bfe9-57812aa15a54"
I0305 08:22:42.231082       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3cb4b305-c4a5-4a82-bfe9-57812aa15a54" model="qwen2-5-7b-instruct"
I0305 08:22:42.235409       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0572, numInputTokens, 7601
I0305 08:22:42.235423       1 tree.go:471] Updated node(0) last access: 172.4251 seconds
I0305 08:22:42.235431       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:42.235436       1 tree.go:471] Updated node(2) last access: 172.4252 seconds
I0305 08:22:42.235449       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 08:22:42.235453       1 tree.go:471] Updated node(21) last access: 172.4252 seconds
I0305 08:22:42.235464       1 tree.go:667] Split complete - New node(477)
I0305 08:22:42.235469       1 tree.go:668] Split complete - Child node(447)
I0305 08:22:42.235475       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 08:22:42.235481       1 tree.go:471] Updated node(477) last access: 172.4252 seconds
I0305 08:22:42.235486       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 08:22:42.235490       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 08:22:42.235496       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 08:22:42.235504       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:42.235510       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:42.235492618 +0000 UTC m=+172.540394715]
I0305 08:22:42.235527       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7482, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 08:22:42.235536       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 08:22:42.235624       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-7hl69 from longest matching node with match length 7482
I0305 08:22:42.235637       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:42.235650       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.235655       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.235662       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.235680       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.235686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.235698       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:42.235711       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-7hl69="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 08:22:42.235722       1 prefix_cache_and_load.go:584] latency, Route, 0.0579
I0305 08:22:42.235735       1 gateway.go:415] latency, selectTargetPod, 0.0579, target pod, 10.0.3.41:8000
I0305 08:22:42.235746       1 gateway.go:235] latency, HandleRequestBody, 0.0582
I0305 08:22:42.235767       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0046
I0305 08:22:42.235772       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:42.235775       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:42.236064       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:42.236158       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:42.236168       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:42.251396       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ec4b4a16-5ff8-4203-8934-b1a969cf77ad"
I0305 08:22:42.257592       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e0d330a9-8e83-4c95-ad62-69b673b3ff9c"
I0305 08:22:42.257817       1 gateway.go:207] "Processing request" requestID="c641f66f-7dee-40ba-9414-f1c9162b222d"
I0305 08:22:42.257828       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e0d330a9-8e83-4c95-ad62-69b673b3ff9c" model="qwen2-5-7b-instruct"
I0305 08:22:42.257845       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c641f66f-7dee-40ba-9414-f1c9162b222d"
I0305 08:22:42.257852       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:42.295396       1 gateway.go:608] "First token received" requestID="ec4b4a16-5ff8-4203-8934-b1a969cf77ad" ttft_ms=117
I0305 08:22:42.295778       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0596, numInputTokens, 7600
I0305 08:22:42.295801       1 tree.go:471] Updated node(0) last access: 172.4855 seconds
I0305 08:22:42.295812       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:42.295820       1 tree.go:471] Updated node(2) last access: 172.4855 seconds
I0305 08:22:42.295836       1 tree.go:490] Partial tokens match child node(28). Continue to go deeper in the radix tree
I0305 08:22:42.295840       1 tree.go:471] Updated node(28) last access: 172.4856 seconds
I0305 08:22:42.295844       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 08:22:42.295847       1 tree.go:471] Updated node(63) last access: 172.4856 seconds
I0305 08:22:42.295854       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 08:22:42.295861       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 08:22:42.295868       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 08:22:42.295874       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:42.295880       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:42.295863111 +0000 UTC m=+172.600765208]
I0305 08:22:42.295899       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 08:22:42.295906       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 08:22:42.295999       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-jf5j6 from longest matching node with match length 7484
I0305 08:22:42.296010       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:42.296020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.296027       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.296034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.296037       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.296043       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.296052       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:42.296062       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-jf5j6="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 08:22:42.296075       1 prefix_cache_and_load.go:584] latency, Route, 0.0649
I0305 08:22:42.296090       1 gateway.go:415] latency, selectTargetPod, 0.0649, target pod, 10.0.0.39:8000
I0305 08:22:42.296102       1 gateway.go:235] latency, HandleRequestBody, 0.0653
I0305 08:22:42.296126       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0382
I0305 08:22:42.296131       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:42.296134       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:42.296362       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:42.296419       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 08:22:42.296426       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:42.312652       1 gateway.go:562] latency, 0.0001, summary, hash(request), 9ad21aa4, selectedpod, 10.0.1.28:8000, ttft, 119, tpot, 19, e2e, 292, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 08:22:42.312690       1 gateway.go:748] "Request completed" requestID="d91ec263-bf17-406c-911d-2a96a638750f" targetPod="10.0.1.28:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 08:22:42.312702       1 gateway.go:764] "HandleResponseBody completed" requestID="d91ec263-bf17-406c-911d-2a96a638750f" promptTokens=7614 completionTokens=10 stream=true
I0305 08:22:42.314907       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3cb4b305-c4a5-4a82-bfe9-57812aa15a54"
I0305 08:22:42.351447       1 gateway.go:608] "First token received" requestID="3cb4b305-c4a5-4a82-bfe9-57812aa15a54" ttft_ms=120
I0305 08:22:42.380985       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0846, numInputTokens, 7597
I0305 08:22:42.381002       1 tree.go:471] Updated node(0) last access: 172.5707 seconds
I0305 08:22:42.381009       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:42.381012       1 tree.go:471] Updated node(2) last access: 172.5707 seconds
I0305 08:22:42.381026       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 08:22:42.381029       1 tree.go:471] Updated node(36) last access: 172.5707 seconds
I0305 08:22:42.381033       1 tree.go:490] Partial tokens match child node(238). Continue to go deeper in the radix tree
I0305 08:22:42.381038       1 tree.go:471] Updated node(238) last access: 172.5708 seconds
I0305 08:22:42.381049       1 tree.go:667] Split complete - New node(480)
I0305 08:22:42.381054       1 tree.go:668] Split complete - Child node(37)
I0305 08:22:42.381059       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 08:22:42.381064       1 tree.go:471] Updated node(480) last access: 172.5708 seconds
I0305 08:22:42.381070       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 08:22:42.381074       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 08:22:42.381082       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 08:22:42.381088       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:42.381094       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:42.381076502 +0000 UTC m=+172.685978599]
I0305 08:22:42.381111       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7483, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 08:22:42.381119       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 08:22:42.381240       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-thflg from longest matching node with match length 7483
I0305 08:22:42.381251       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:42.381261       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.381267       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.381271       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.381276       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.381280       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.381285       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.381294       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:42.381305       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-thflg="target_pod_ip" 10.0.3.30="(MISSING)"
I0305 08:22:42.381315       1 prefix_cache_and_load.go:584] latency, Route, 0.1234
I0305 08:22:42.381332       1 gateway.go:415] latency, selectTargetPod, 0.1234, target pod, 10.0.3.30:8000
I0305 08:22:42.381346       1 gateway.go:235] latency, HandleRequestBody, 0.1238
I0305 08:22:42.396902       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e0d330a9-8e83-4c95-ad62-69b673b3ff9c"
I0305 08:22:42.402340       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c641f66f-7dee-40ba-9414-f1c9162b222d"
I0305 08:22:42.402577       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c641f66f-7dee-40ba-9414-f1c9162b222d" model="qwen2-5-7b-instruct"
I0305 08:22:42.402656       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:42.402677       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:42.402682       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:42.403036       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:42.403100       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:42.403106       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:42.432568       1 gateway.go:608] "First token received" requestID="e0d330a9-8e83-4c95-ad62-69b673b3ff9c" ttft_ms=174
I0305 08:22:42.465322       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0622, numInputTokens, 7602
I0305 08:22:42.465351       1 tree.go:471] Updated node(0) last access: 172.6551 seconds
I0305 08:22:42.465357       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:42.465361       1 tree.go:471] Updated node(2) last access: 172.6551 seconds
I0305 08:22:42.465374       1 tree.go:490] Partial tokens match child node(6). Continue to go deeper in the radix tree
I0305 08:22:42.465377       1 tree.go:471] Updated node(6) last access: 172.6551 seconds
I0305 08:22:42.465388       1 tree.go:667] Split complete - New node(482)
I0305 08:22:42.465399       1 tree.go:668] Split complete - Child node(171)
I0305 08:22:42.465404       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 08:22:42.465408       1 tree.go:471] Updated node(482) last access: 172.6551 seconds
I0305 08:22:42.465413       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:42.465442       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 08:22:42.465449       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 08:22:42.465456       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:42.465463       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:42.465445231 +0000 UTC m=+172.770347328]
I0305 08:22:42.465480       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7485, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:42.465488       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:42.465588       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-dpbx7 from longest matching node with match length 7485
I0305 08:22:42.465600       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:42.465610       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.465618       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.465623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.465629       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.465636       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.465647       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:42.465656       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-dpbx7="target_pod_ip" 10.0.1.22="(MISSING)"
I0305 08:22:42.465679       1 prefix_cache_and_load.go:584] latency, Route, 0.0630
I0305 08:22:42.465688       1 gateway.go:415] latency, selectTargetPod, 0.0630, target pod, 10.0.1.22:8000
I0305 08:22:42.465700       1 gateway.go:235] latency, HandleRequestBody, 0.0634
I0305 08:22:42.468139       1 gateway.go:562] latency, 0.0000, summary, hash(request), f1dc16bd, selectedpod, 10.0.3.41:8000, ttft, 117, tpot, 19, e2e, 290, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 08:22:42.468159       1 gateway.go:748] "Request completed" requestID="ec4b4a16-5ff8-4203-8934-b1a969cf77ad" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 08:22:42.468170       1 gateway.go:764] "HandleResponseBody completed" requestID="ec4b4a16-5ff8-4203-8934-b1a969cf77ad" promptTokens=7620 completionTokens=10 stream=true
I0305 08:22:42.484651       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c641f66f-7dee-40ba-9414-f1c9162b222d"
I0305 08:22:42.521008       1 gateway.go:608] "First token received" requestID="c641f66f-7dee-40ba-9414-f1c9162b222d" ttft_ms=118
I0305 08:22:42.524452       1 gateway.go:562] latency, 0.0000, summary, hash(request), cec76aa5, selectedpod, 10.0.0.39:8000, ttft, 120, tpot, 19, e2e, 293, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 08:22:42.524472       1 gateway.go:748] "Request completed" requestID="3cb4b305-c4a5-4a82-bfe9-57812aa15a54" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 08:22:42.524485       1 gateway.go:764] "HandleResponseBody completed" requestID="3cb4b305-c4a5-4a82-bfe9-57812aa15a54" promptTokens=7619 completionTokens=10 stream=true
I0305 08:22:42.533208       1 gateway.go:207] "Processing request" requestID="2c4316a8-d03d-4828-98a2-de8c35d4f627"
I0305 08:22:42.533236       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2c4316a8-d03d-4828-98a2-de8c35d4f627"
I0305 08:22:42.533245       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 08:22:42.541085       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2c4316a8-d03d-4828-98a2-de8c35d4f627"
I0305 08:22:42.541348       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2c4316a8-d03d-4828-98a2-de8c35d4f627" model="qwen2-5-7b-instruct"
I0305 08:22:42.541426       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 08:22:42.541434       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 08:22:42.541438       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 08:22:42.541768       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 08:22:42.541831       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 08:22:42.541838       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 08:22:42.598730       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0569, numInputTokens, 7598
I0305 08:22:42.598748       1 tree.go:471] Updated node(0) last access: 172.7885 seconds
I0305 08:22:42.598755       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 08:22:42.598758       1 tree.go:471] Updated node(2) last access: 172.7885 seconds
I0305 08:22:42.598771       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 08:22:42.598774       1 tree.go:471] Updated node(16) last access: 172.7885 seconds
I0305 08:22:42.598778       1 tree.go:490] Partial tokens match child node(450). Continue to go deeper in the radix tree
I0305 08:22:42.598783       1 tree.go:471] Updated node(450) last access: 172.7885 seconds
I0305 08:22:42.598790       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 08:22:42.598795       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 08:22:42.598803       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 08:22:42.598811       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 08:22:42.598817       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 08:22:42.598797532 +0000 UTC m=+172.903699629]
I0305 08:22:42.598834       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 08:22:42.598844       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 08:22:42.598947       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-58ffd5c9d5-pxkzn from longest matching node with match length 7481
I0305 08:22:42.598958       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 08:22:42.598966       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.598973       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.598980       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.598984       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.598991       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 08:22:42.599003       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 08:22:42.599013       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-58ffd5c9d5-pxkzn="target_pod_ip" 10.0.1.14="(MISSING)"
I0305 08:22:42.599024       1 prefix_cache_and_load.go:584] latency, Route, 0.0576
I0305 08:22:42.599034       1 gateway.go:415] latency, selectTargetPod, 0.0576, target pod, 10.0.1.14:8000
I0305 08:22:42.599046       1 gateway.go:235] latency, HandleRequestBody, 0.0580
I0305 08:22:42.605673       1 gateway.go:562] latency, 0.0001, summary, hash(request), 016054c9, selectedpod, 10.0.3.30:8000, ttft, 174, tpot, 19, e2e, 348, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 08:22:42.605695       1 gateway.go:748] "Request completed" requestID="e0d330a9-8e83-4c95-ad62-69b673b3ff9c" targetPod="10.0.3.30:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 08:22:42.605706       1 gateway.go:764] "HandleResponseBody completed" requestID="e0d330a9-8e83-4c95-ad62-69b673b3ff9c" promptTokens=7616 completionTokens=10 stream=true
I0305 08:22:42.617302       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2c4316a8-d03d-4828-98a2-de8c35d4f627"
I0305 08:22:42.660587       1 gateway.go:608] "First token received" requestID="2c4316a8-d03d-4828-98a2-de8c35d4f627" ttft_ms=119
I0305 08:22:42.693729       1 gateway.go:562] latency, 0.0001, summary, hash(request), bf5195d8, selectedpod, 10.0.1.22:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 08:22:42.693750       1 gateway.go:748] "Request completed" requestID="c641f66f-7dee-40ba-9414-f1c9162b222d" targetPod="10.0.1.22:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 08:22:42.693762       1 gateway.go:764] "HandleResponseBody completed" requestID="c641f66f-7dee-40ba-9414-f1c9162b222d" promptTokens=7621 completionTokens=10 stream=true
I0305 08:22:42.833803       1 gateway.go:562] latency, 0.0001, summary, hash(request), 24058692, selectedpod, 10.0.1.14:8000, ttft, 119, tpot, 19, e2e, 292, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 08:22:42.833825       1 gateway.go:748] "Request completed" requestID="2c4316a8-d03d-4828-98a2-de8c35d4f627" targetPod="10.0.1.14:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 08:22:42.833836       1 gateway.go:764] "HandleResponseBody completed" requestID="2c4316a8-d03d-4828-98a2-de8c35d4f627" promptTokens=7617 completionTokens=10 stream=true
