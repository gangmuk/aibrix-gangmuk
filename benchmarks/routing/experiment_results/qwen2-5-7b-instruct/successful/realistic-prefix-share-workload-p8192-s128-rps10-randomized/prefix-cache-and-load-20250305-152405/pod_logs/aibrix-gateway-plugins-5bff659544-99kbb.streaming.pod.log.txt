I0305 23:24:12.589424       1 cache.go:137] using AIBRIX_POD_METRIC_REFRESH_INTERVAL_MS env value for pod metrics refresh interval: 1000 ms
W0305 23:24:12.589495       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_BLOCK_SIZE is not set, using default value: 
I0305 23:24:12.589503       1 hash.go:56] using default prefix cache block size: 16
W0305 23:24:12.589505       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_EVICTION_INTERVAL_MS is not set, using default value: 
I0305 23:24:12.589508       1 hash.go:71] using default prefix cache eviction interval: 50 ms
W0305 23:24:12.589511       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_EVICTION_DURATION_MINS is not set, using default value: 
I0305 23:24:12.589518       1 hash.go:86] using default prefix cache eviction duration: 60 mins
W0305 23:24:12.589525       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_MATCH_THRESHOLD_PERCENT is not set, using default value: 
I0305 23:24:12.589529       1 prefix_cache.go:50] using default prefix cache match threshold percent: 50
I0305 23:24:12.589534       1 prefix_cache_and_load.go:46] Test getDummyVar, dummay_var: 0
I0305 23:24:12.595028       1 main.go:63] using in-cluster configuration
Connected to Redis: PONG
starting cache
W0305 23:24:12.695558       1 util.go:80] environment variable PROMETHEUS_ENDPOINT is not set, using default value: 
W0305 23:24:12.695572       1 util.go:80] environment variable PROMETHEUS_BASIC_AUTH_USERNAME is not set, using default value: 
W0305 23:24:12.695575       1 util.go:80] environment variable PROMETHEUS_BASIC_AUTH_PASSWORD is not set, using default value: 
I0305 23:24:12.695955       1 main.go:93] starting gRPC server on port :50052
I0305 23:24:20.000749       1 cache.go:268] trace ticker start at 2025-03-05 23:24:20.000723152 +0000 UTC m=+7.422794775
I0305 23:26:02.353783       1 gateway.go:207] "Processing request" requestID="f7b63b78-71eb-4f2f-b43b-f4f25b2baeb4"
I0305 23:26:02.354105       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f7b63b78-71eb-4f2f-b43b-f4f25b2baeb4"
I0305 23:26:02.354118       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:02.520428       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f7b63b78-71eb-4f2f-b43b-f4f25b2baeb4"
I0305 23:26:02.520671       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f7b63b78-71eb-4f2f-b43b-f4f25b2baeb4" model="qwen2-5-7b-instruct"
I0305 23:26:02.520761       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:02.520770       1 prefix_cache_and_load.go:460] num pods in data structure: 0
I0305 23:26:02.520775       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:02.520802       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=0 new_count=8
I0305 23:26:02.520809       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:02.520815       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:02.603820       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0830, numInputTokens, 7601
I0305 23:26:02.603843       1 tree.go:471] Updated node(0) last access: 109.9079 seconds
I0305 23:26:02.603904       1 tree.go:516] latency, NewTreeNode, 0.0001 seconds, 7601 tokens:
I0305 23:26:02.603911       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:02.603917       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:02.603923       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:02.603928       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:02.603913193 +0000 UTC m=+110.025984728]
I0305 23:26:02.603964       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 0, Matching ratio: 0.0000, # Matched pods: 0, Matched pods: []
I0305 23:26:02.603973       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0000, len(matchedPods): 0)
I0305 23:26:02.603979       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-s8z62, Cost: 0.000000
I0305 23:26:02.603982       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-hbwcf, Cost: 0.000000
I0305 23:26:02.603985       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gp285, Cost: 0.000000
I0305 23:26:02.603987       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-kf696, Cost: 0.000000
I0305 23:26:02.603989       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-g94zx, Cost: 0.000000
I0305 23:26:02.603991       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-p679j, Cost: 0.000000
I0305 23:26:02.603993       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-nk25n, Cost: 0.000000
I0305 23:26:02.603995       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gvzzg, Cost: 0.000000
I0305 23:26:02.604001       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-7d76f8b9cb-s8z62
I0305 23:26:02.604008       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0000
I0305 23:26:02.604015       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:02.604020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:02.604028       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:02.604038       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:02.604048       1 prefix_cache_and_load.go:584] latency, Route, 0.0833
I0305 23:26:02.604056       1 gateway.go:415] latency, selectTargetPod, 0.0833, target pod, 10.0.3.38:8000
I0305 23:26:02.604067       1 gateway.go:235] latency, HandleRequestBody, 0.0836
I0305 23:26:02.656495       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f7b63b78-71eb-4f2f-b43b-f4f25b2baeb4"
I0305 23:26:02.988833       1 gateway.go:207] "Processing request" requestID="3664d470-fa9d-4de9-961c-e34f1e3e0d00"
I0305 23:26:02.988868       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3664d470-fa9d-4de9-961c-e34f1e3e0d00"
I0305 23:26:02.988876       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:03.027544       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3664d470-fa9d-4de9-961c-e34f1e3e0d00"
I0305 23:26:03.027746       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3664d470-fa9d-4de9-961c-e34f1e3e0d00" model="qwen2-5-7b-instruct"
I0305 23:26:03.027826       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:03.027833       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:03.027837       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:03.027847       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:03.027853       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:03.027857       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:03.081323       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0535, numInputTokens, 7601
I0305 23:26:03.081345       1 tree.go:471] Updated node(0) last access: 110.3854 seconds
I0305 23:26:03.081383       1 tree.go:667] Split complete - New node(2)
I0305 23:26:03.081388       1 tree.go:668] Split complete - Child node(1)
I0305 23:26:03.081393       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7601 tokens:
I0305 23:26:03.081397       1 tree.go:471] Updated node(2) last access: 110.3855 seconds
I0305 23:26:03.081419       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7597 tokens:
I0305 23:26:03.081426       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:03.081431       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:03.081436       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:03.081454       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:03.081427928 +0000 UTC m=+110.503499462]
I0305 23:26:03.081474       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 23:26:03.081482       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 23:26:03.081489       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:03.081492       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:03.081497       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:03.081505       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-g94zx, Cost: 0.000000
I0305 23:26:03.081510       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-p679j, Cost: 0.000000
I0305 23:26:03.081512       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-nk25n, Cost: 0.000000
I0305 23:26:03.081513       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gvzzg, Cost: 0.000000
I0305 23:26:03.081515       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-s8z62, Cost: 9.461418
I0305 23:26:03.081517       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-hbwcf, Cost: 0.000000
I0305 23:26:03.081519       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gp285, Cost: 0.000000
I0305 23:26:03.081520       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-kf696, Cost: 0.000000
I0305 23:26:03.081527       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-7d76f8b9cb-g94zx
I0305 23:26:03.081538       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0000
I0305 23:26:03.081546       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:03.081551       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:03.081554       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:03.081563       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:03.081573       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:03.081585       1 prefix_cache_and_load.go:584] latency, Route, 0.0538
I0305 23:26:03.081594       1 gateway.go:415] latency, selectTargetPod, 0.0538, target pod, 10.0.1.20:8000
I0305 23:26:03.081606       1 gateway.go:235] latency, HandleRequestBody, 0.0541
I0305 23:26:03.136658       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3664d470-fa9d-4de9-961c-e34f1e3e0d00"
I0305 23:26:03.366669       1 gateway.go:207] "Processing request" requestID="2aa80ed9-553f-4da8-85aa-8223a8f9b60d"
I0305 23:26:03.366704       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2aa80ed9-553f-4da8-85aa-8223a8f9b60d"
I0305 23:26:03.366713       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:03.490943       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2aa80ed9-553f-4da8-85aa-8223a8f9b60d"
I0305 23:26:03.491209       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2aa80ed9-553f-4da8-85aa-8223a8f9b60d" model="qwen2-5-7b-instruct"
I0305 23:26:03.491345       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:03.491352       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:03.491356       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:03.491373       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:03.491380       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:03.491387       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:03.545616       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0542, numInputTokens, 7601
I0305 23:26:03.545635       1 tree.go:471] Updated node(0) last access: 110.8497 seconds
I0305 23:26:03.545641       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:03.545645       1 tree.go:471] Updated node(2) last access: 110.8497 seconds
I0305 23:26:03.545679       1 tree.go:667] Split complete - New node(4)
I0305 23:26:03.545684       1 tree.go:668] Split complete - Child node(3)
I0305 23:26:03.545689       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7597 tokens:
I0305 23:26:03.545693       1 tree.go:471] Updated node(4) last access: 110.8497 seconds
I0305 23:26:03.545701       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:03.545706       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:03.545712       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:03.545719       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:03.545726       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:03.545708449 +0000 UTC m=+110.967779984]
I0305 23:26:03.545744       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:03.545751       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:03.545767       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7478
I0305 23:26:03.545780       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:03.545791       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:03.545797       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:03.545802       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:03.545807       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:03.545816       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:03.545825       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:03.545835       1 prefix_cache_and_load.go:584] latency, Route, 0.0545
I0305 23:26:03.545846       1 gateway.go:415] latency, selectTargetPod, 0.0545, target pod, 10.0.1.20:8000
I0305 23:26:03.545859       1 gateway.go:235] latency, HandleRequestBody, 0.0549
I0305 23:26:03.564920       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2aa80ed9-553f-4da8-85aa-8223a8f9b60d"
I0305 23:26:03.702919       1 gateway.go:207] "Processing request" requestID="8509388a-b8a8-402a-8075-61fc07d229d8"
I0305 23:26:03.702959       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8509388a-b8a8-402a-8075-61fc07d229d8"
I0305 23:26:03.702971       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:03.718847       1 gateway.go:608] "First token received" requestID="f7b63b78-71eb-4f2f-b43b-f4f25b2baeb4" ttft_ms=1198
I0305 23:26:03.871222       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8509388a-b8a8-402a-8075-61fc07d229d8"
I0305 23:26:03.871439       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8509388a-b8a8-402a-8075-61fc07d229d8" model="qwen2-5-7b-instruct"
I0305 23:26:03.871551       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:03.871558       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:03.871561       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:03.871574       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:03.871581       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:03.871585       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:03.891626       1 gateway.go:562] latency, 0.0000, summary, hash(request), 20fa863b, selectedpod, 10.0.3.38:8000, ttft, 1198, tpot, 19, e2e, 1371, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:03.891647       1 gateway.go:748] "Request completed" requestID="f7b63b78-71eb-4f2f-b43b-f4f25b2baeb4" targetPod="10.0.3.38:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:03.891659       1 gateway.go:764] "HandleResponseBody completed" requestID="f7b63b78-71eb-4f2f-b43b-f4f25b2baeb4" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:03.926596       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0550, numInputTokens, 7603
I0305 23:26:03.926616       1 tree.go:471] Updated node(0) last access: 111.2307 seconds
I0305 23:26:03.926623       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:03.926626       1 tree.go:471] Updated node(2) last access: 111.2307 seconds
I0305 23:26:03.926647       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7599 tokens:
I0305 23:26:03.926653       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 23:26:03.926659       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 23:26:03.926666       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:03.926671       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:03.926654912 +0000 UTC m=+111.348726446]
I0305 23:26:03.926687       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 23:26:03.926696       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 23:26:03.926703       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:03.926707       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:03.926711       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:03.926716       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:03.926721       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:03.926726       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:03.926732       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:03.926734       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:03.926737       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:03.926745       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-nk25n, Cost: 0.000000
I0305 23:26:03.926749       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gvzzg, Cost: 0.000000
I0305 23:26:03.926751       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-s8z62, Cost: 9.461418
I0305 23:26:03.926754       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-hbwcf, Cost: 0.000000
I0305 23:26:03.926755       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gp285, Cost: 0.000000
I0305 23:26:03.926757       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-kf696, Cost: 0.000000
I0305 23:26:03.926759       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-g94zx, Cost: 13.564287
I0305 23:26:03.926761       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-p679j, Cost: 0.000000
I0305 23:26:03.926765       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-7d76f8b9cb-nk25n
I0305 23:26:03.926774       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 23:26:03.926781       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:03.926787       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:03.926793       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:03.926801       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:03.926811       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:03.926821       1 prefix_cache_and_load.go:584] latency, Route, 0.0553
I0305 23:26:03.926830       1 gateway.go:415] latency, selectTargetPod, 0.0553, target pod, 10.0.1.25:8000
I0305 23:26:03.926841       1 gateway.go:235] latency, HandleRequestBody, 0.0556
I0305 23:26:03.982781       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8509388a-b8a8-402a-8075-61fc07d229d8"
I0305 23:26:04.040982       1 gateway.go:207] "Processing request" requestID="8e85b078-2b0e-465d-83e7-8fb69fa0df84"
I0305 23:26:04.041015       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8e85b078-2b0e-465d-83e7-8fb69fa0df84"
I0305 23:26:04.041024       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:04.058083       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8e85b078-2b0e-465d-83e7-8fb69fa0df84"
I0305 23:26:04.058297       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8e85b078-2b0e-465d-83e7-8fb69fa0df84" model="qwen2-5-7b-instruct"
I0305 23:26:04.058378       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:04.058386       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:04.058389       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:04.058403       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:04.058412       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:04.058417       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:04.108570       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0501, numInputTokens, 7601
I0305 23:26:04.108588       1 tree.go:471] Updated node(0) last access: 111.4126 seconds
I0305 23:26:04.108594       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:04.108597       1 tree.go:471] Updated node(2) last access: 111.4127 seconds
I0305 23:26:04.108619       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7597 tokens:
I0305 23:26:04.108625       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 23:26:04.108631       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:04.108640       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:04.108647       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:04.108626869 +0000 UTC m=+111.530698403]
I0305 23:26:04.108663       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 23:26:04.108671       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 23:26:04.108676       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:04.108680       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:04.108693       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:04.108701       1 prefix_cache_and_load.go:226] numTokens: 7599, contextLength: 7603, targetGPU: V100
I0305 23:26:04.108704       1 prefix_cache_and_load.go:227] prefillTime: 2.7122 = (Base time(2.0743) + attnQuad(0.3667)) / 0.9
I0305 23:26:04.108711       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7108 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7122) / numPods(1)
I0305 23:26:04.108721       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:04.108725       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:04.108729       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:04.108733       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:04.108735       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:04.108740       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:04.108747       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-g94zx, Cost: 13.564287
I0305 23:26:04.108753       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-p679j, Cost: 0.000000
I0305 23:26:04.108755       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-nk25n, Cost: 9.460798
I0305 23:26:04.108758       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gvzzg, Cost: 0.000000
I0305 23:26:04.108760       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-s8z62, Cost: 9.461418
I0305 23:26:04.108762       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-hbwcf, Cost: 0.000000
I0305 23:26:04.108764       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gp285, Cost: 0.000000
I0305 23:26:04.108765       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-kf696, Cost: 0.000000
I0305 23:26:04.108771       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-7d76f8b9cb-p679j
I0305 23:26:04.108776       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 23:26:04.108785       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:04.108792       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:04.108799       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:04.108807       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:04.108820       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:04.108832       1 prefix_cache_and_load.go:584] latency, Route, 0.0504
I0305 23:26:04.108844       1 gateway.go:415] latency, selectTargetPod, 0.0505, target pod, 10.0.0.134:8000
I0305 23:26:04.108854       1 gateway.go:235] latency, HandleRequestBody, 0.0508
I0305 23:26:04.162994       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8e85b078-2b0e-465d-83e7-8fb69fa0df84"
I0305 23:26:04.209315       1 gateway.go:608] "First token received" requestID="3664d470-fa9d-4de9-961c-e34f1e3e0d00" ttft_ms=1181
I0305 23:26:04.240365       1 gateway.go:608] "First token received" requestID="2aa80ed9-553f-4da8-85aa-8223a8f9b60d" ttft_ms=749
I0305 23:26:04.378032       1 gateway.go:207] "Processing request" requestID="aa54f1a3-e3eb-4e9a-9d0b-f946f42704ab"
I0305 23:26:04.378060       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="aa54f1a3-e3eb-4e9a-9d0b-f946f42704ab"
I0305 23:26:04.378068       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:04.421888       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2f3d5171, selectedpod, 10.0.1.20:8000, ttft, 1181, tpot, 23, e2e, 1394, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:04.421917       1 gateway.go:748] "Request completed" requestID="3664d470-fa9d-4de9-961c-e34f1e3e0d00" targetPod="10.0.1.20:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:04.421932       1 gateway.go:764] "HandleResponseBody completed" requestID="3664d470-fa9d-4de9-961c-e34f1e3e0d00" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:04.421938       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7f397c3b, selectedpod, 10.0.1.20:8000, ttft, 749, tpot, 20, e2e, 930, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:04.421966       1 gateway.go:748] "Request completed" requestID="2aa80ed9-553f-4da8-85aa-8223a8f9b60d" targetPod="10.0.1.20:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:04.421986       1 gateway.go:764] "HandleResponseBody completed" requestID="2aa80ed9-553f-4da8-85aa-8223a8f9b60d" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:04.546214       1 gateway.go:207] "Processing request" requestID="f7628fbe-f8a0-4f55-b471-55f863de2fbc"
I0305 23:26:04.546256       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f7628fbe-f8a0-4f55-b471-55f863de2fbc"
I0305 23:26:04.546266       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:04.552285       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f7628fbe-f8a0-4f55-b471-55f863de2fbc"
I0305 23:26:04.552634       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f7628fbe-f8a0-4f55-b471-55f863de2fbc" model="qwen2-5-7b-instruct"
I0305 23:26:04.552770       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:04.552780       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:04.552792       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:04.552815       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:04.552831       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:04.552837       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:04.605395       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0525, numInputTokens, 7594
I0305 23:26:04.605416       1 tree.go:471] Updated node(0) last access: 111.9095 seconds
I0305 23:26:04.605422       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:04.605425       1 tree.go:471] Updated node(2) last access: 111.9095 seconds
I0305 23:26:04.605456       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7590 tokens:
I0305 23:26:04.605464       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 23:26:04.605471       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 23:26:04.605477       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:04.605482       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:04.605466166 +0000 UTC m=+112.027537701]
I0305 23:26:04.605500       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 23:26:04.605508       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 23:26:04.605514       1 prefix_cache_and_load.go:226] numTokens: 7599, contextLength: 7603, targetGPU: V100
I0305 23:26:04.605518       1 prefix_cache_and_load.go:227] prefillTime: 2.7122 = (Base time(2.0743) + attnQuad(0.3667)) / 0.9
I0305 23:26:04.605523       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7108 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7122) / numPods(1)
I0305 23:26:04.605528       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:04.605532       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:04.605536       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:04.605541       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:04.605544       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:04.605547       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:04.605552       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:04.605555       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:04.605560       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:04.605563       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:04.605567       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:04.605571       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:04.605580       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-nk25n, Cost: 9.460798
I0305 23:26:04.605584       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gvzzg, Cost: 0.000000
I0305 23:26:04.605587       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-s8z62, Cost: 9.461418
I0305 23:26:04.605590       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-hbwcf, Cost: 0.000000
I0305 23:26:04.605592       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gp285, Cost: 0.000000
I0305 23:26:04.605594       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-kf696, Cost: 0.000000
I0305 23:26:04.605595       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-g94zx, Cost: 13.564287
I0305 23:26:04.605597       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-p679j, Cost: 9.459991
I0305 23:26:04.605603       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-7d76f8b9cb-gvzzg
I0305 23:26:04.605610       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 23:26:04.605618       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:04.605623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:04.605628       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:04.605637       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:04.605646       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:04.605658       1 prefix_cache_and_load.go:584] latency, Route, 0.0529
I0305 23:26:04.605667       1 gateway.go:415] latency, selectTargetPod, 0.0529, target pod, 10.0.0.4:8000
I0305 23:26:04.605679       1 gateway.go:235] latency, HandleRequestBody, 0.0534
I0305 23:26:04.660221       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f7628fbe-f8a0-4f55-b471-55f863de2fbc"
I0305 23:26:04.688765       1 gateway.go:329] "-- In RequestBody processing ..." requestID="aa54f1a3-e3eb-4e9a-9d0b-f946f42704ab"
I0305 23:26:04.688990       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="aa54f1a3-e3eb-4e9a-9d0b-f946f42704ab" model="qwen2-5-7b-instruct"
I0305 23:26:04.689068       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:04.689075       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:04.689078       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:04.689093       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:04.689102       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:04.689107       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:04.741740       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0526, numInputTokens, 7600
I0305 23:26:04.741764       1 tree.go:471] Updated node(0) last access: 112.0458 seconds
I0305 23:26:04.741771       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:04.741774       1 tree.go:471] Updated node(2) last access: 112.0458 seconds
I0305 23:26:04.741810       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7596 tokens:
I0305 23:26:04.741818       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:04.741825       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:04.741830       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:04.741835       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:04.741820337 +0000 UTC m=+112.163891872]
I0305 23:26:04.741855       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 23:26:04.741865       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 23:26:04.741874       1 prefix_cache_and_load.go:226] numTokens: 7599, contextLength: 7603, targetGPU: V100
I0305 23:26:04.741878       1 prefix_cache_and_load.go:227] prefillTime: 2.7122 = (Base time(2.0743) + attnQuad(0.3667)) / 0.9
I0305 23:26:04.741882       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7108 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7122) / numPods(1)
I0305 23:26:04.741889       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:04.741891       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:04.741895       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:04.741900       1 prefix_cache_and_load.go:226] numTokens: 7590, contextLength: 7594, targetGPU: V100
I0305 23:26:04.741903       1 prefix_cache_and_load.go:227] prefillTime: 2.7086 = (Base time(2.0718) + attnQuad(0.3659)) / 0.9
I0305 23:26:04.741906       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7072 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7086) / numPods(1)
I0305 23:26:04.741911       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:04.741914       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:04.741917       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:04.741921       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:04.741924       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:04.741927       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:04.741932       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:04.741941       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:04.741945       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:04.741953       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-s8z62, Cost: 9.461418
I0305 23:26:04.741958       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-hbwcf, Cost: 0.000000
I0305 23:26:04.741961       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gp285, Cost: 0.000000
I0305 23:26:04.741963       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-kf696, Cost: 0.000000
I0305 23:26:04.741966       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-g94zx, Cost: 13.564287
I0305 23:26:04.741968       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-p679j, Cost: 9.459991
I0305 23:26:04.741970       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-nk25n, Cost: 9.460798
I0305 23:26:04.741972       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gvzzg, Cost: 9.457166
I0305 23:26:04.741977       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-7d76f8b9cb-hbwcf
I0305 23:26:04.741985       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 23:26:04.741991       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:04.741995       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:04.742000       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:04.742009       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:04.742018       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:04.742029       1 prefix_cache_and_load.go:584] latency, Route, 0.0530
I0305 23:26:04.742047       1 gateway.go:415] latency, selectTargetPod, 0.0530, target pod, 10.0.0.39:8000
I0305 23:26:04.742060       1 gateway.go:235] latency, HandleRequestBody, 0.0533
I0305 23:26:04.797355       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="aa54f1a3-e3eb-4e9a-9d0b-f946f42704ab"
I0305 23:26:04.904261       1 gateway.go:207] "Processing request" requestID="c7514ee1-2637-4b97-90a7-929c607964b3"
I0305 23:26:04.904309       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c7514ee1-2637-4b97-90a7-929c607964b3"
I0305 23:26:04.904320       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:04.906841       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c7514ee1-2637-4b97-90a7-929c607964b3"
I0305 23:26:04.907072       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c7514ee1-2637-4b97-90a7-929c607964b3" model="qwen2-5-7b-instruct"
I0305 23:26:04.907157       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:04.907163       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:04.907167       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:04.907183       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:04.907190       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:04.907195       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:04.960768       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0536, numInputTokens, 7591
I0305 23:26:04.960805       1 tree.go:471] Updated node(0) last access: 112.2649 seconds
I0305 23:26:04.960811       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:04.960814       1 tree.go:471] Updated node(2) last access: 112.2649 seconds
I0305 23:26:04.960835       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7587 tokens:
I0305 23:26:04.960841       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7591 tokens
I0305 23:26:04.960847       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7591 tokens
I0305 23:26:04.960854       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:04.960859       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:04.960842716 +0000 UTC m=+112.382914251]
I0305 23:26:04.960876       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7591, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 23:26:04.960886       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 23:26:04.960892       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:04.960897       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:04.960902       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:04.960908       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:04.960911       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:04.960916       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:04.960920       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:04.960923       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:04.960926       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:04.960930       1 prefix_cache_and_load.go:226] numTokens: 7599, contextLength: 7603, targetGPU: V100
I0305 23:26:04.960943       1 prefix_cache_and_load.go:227] prefillTime: 2.7122 = (Base time(2.0743) + attnQuad(0.3667)) / 0.9
I0305 23:26:04.960947       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7108 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7122) / numPods(1)
I0305 23:26:04.960952       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:04.960954       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:04.960959       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:04.960963       1 prefix_cache_and_load.go:226] numTokens: 7590, contextLength: 7594, targetGPU: V100
I0305 23:26:04.960966       1 prefix_cache_and_load.go:227] prefillTime: 2.7086 = (Base time(2.0718) + attnQuad(0.3659)) / 0.9
I0305 23:26:04.960969       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7072 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7086) / numPods(1)
I0305 23:26:04.960973       1 prefix_cache_and_load.go:226] numTokens: 7596, contextLength: 7600, targetGPU: V100
I0305 23:26:04.960977       1 prefix_cache_and_load.go:227] prefillTime: 2.7110 = (Base time(2.0735) + attnQuad(0.3665)) / 0.9
I0305 23:26:04.960981       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7096 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7110) / numPods(1)
I0305 23:26:04.960988       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-s8z62, Cost: 9.461418
I0305 23:26:04.960993       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-hbwcf, Cost: 9.459587
I0305 23:26:04.960996       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gp285, Cost: 0.000000
I0305 23:26:04.960998       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-kf696, Cost: 0.000000
I0305 23:26:04.961000       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-g94zx, Cost: 13.564287
I0305 23:26:04.961003       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-p679j, Cost: 9.459991
I0305 23:26:04.961005       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-nk25n, Cost: 9.460798
I0305 23:26:04.961007       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gvzzg, Cost: 9.457166
I0305 23:26:04.961013       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-7d76f8b9cb-gp285
I0305 23:26:04.961020       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 23:26:04.961027       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:04.961032       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:04.961037       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:04.961045       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:04.961055       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:04.961066       1 prefix_cache_and_load.go:584] latency, Route, 0.0539
I0305 23:26:04.961075       1 gateway.go:415] latency, selectTargetPod, 0.0539, target pod, 10.0.3.13:8000
I0305 23:26:04.961084       1 gateway.go:235] latency, HandleRequestBody, 0.0542
I0305 23:26:05.014368       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c7514ee1-2637-4b97-90a7-929c607964b3"
I0305 23:26:05.043469       1 gateway.go:608] "First token received" requestID="8509388a-b8a8-402a-8075-61fc07d229d8" ttft_ms=1172
I0305 23:26:05.071874       1 gateway.go:207] "Processing request" requestID="517f77e6-550d-47dc-b5a7-1aa10af7c39a"
I0305 23:26:05.071904       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="517f77e6-550d-47dc-b5a7-1aa10af7c39a"
I0305 23:26:05.071912       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:05.215790       1 gateway.go:562] latency, 0.0000, summary, hash(request), a5b5320a, selectedpod, 10.0.1.25:8000, ttft, 1172, tpot, 19, e2e, 1344, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 23:26:05.215812       1 gateway.go:748] "Request completed" requestID="8509388a-b8a8-402a-8075-61fc07d229d8" targetPod="10.0.1.25:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 23:26:05.215823       1 gateway.go:764] "HandleResponseBody completed" requestID="8509388a-b8a8-402a-8075-61fc07d229d8" promptTokens=7622 completionTokens=10 stream=true
I0305 23:26:05.223903       1 gateway.go:608] "First token received" requestID="8e85b078-2b0e-465d-83e7-8fb69fa0df84" ttft_ms=1165
I0305 23:26:05.241852       1 gateway.go:207] "Processing request" requestID="d5618396-b86d-4fa0-9e8d-f13967cf58db"
I0305 23:26:05.241854       1 gateway.go:207] "Processing request" requestID="f0375e94-f012-4882-a917-062a67a4d401"
I0305 23:26:05.241888       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d5618396-b86d-4fa0-9e8d-f13967cf58db"
I0305 23:26:05.241899       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f0375e94-f012-4882-a917-062a67a4d401"
I0305 23:26:05.241898       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:05.241909       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:05.396377       1 gateway.go:562] latency, 0.0000, summary, hash(request), d9fab93d, selectedpod, 10.0.0.134:8000, ttft, 1165, tpot, 19, e2e, 1338, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:05.396398       1 gateway.go:748] "Request completed" requestID="8e85b078-2b0e-465d-83e7-8fb69fa0df84" targetPod="10.0.0.134:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:05.396408       1 gateway.go:764] "HandleResponseBody completed" requestID="8e85b078-2b0e-465d-83e7-8fb69fa0df84" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:05.410830       1 gateway.go:207] "Processing request" requestID="a7f2c1bd-a0a4-4bbc-b7e8-d83e6a87aae7"
I0305 23:26:05.410855       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a7f2c1bd-a0a4-4bbc-b7e8-d83e6a87aae7"
I0305 23:26:05.410862       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:05.418212       1 gateway.go:329] "-- In RequestBody processing ..." requestID="517f77e6-550d-47dc-b5a7-1aa10af7c39a"
I0305 23:26:05.418485       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="517f77e6-550d-47dc-b5a7-1aa10af7c39a" model="qwen2-5-7b-instruct"
I0305 23:26:05.418602       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:05.418609       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:05.418613       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:05.418633       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:05.418645       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:05.418653       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:05.469782       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0511, numInputTokens, 7595
I0305 23:26:05.469801       1 tree.go:471] Updated node(0) last access: 112.7739 seconds
I0305 23:26:05.469807       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:05.469811       1 tree.go:471] Updated node(2) last access: 112.7739 seconds
I0305 23:26:05.469850       1 tree.go:667] Split complete - New node(11)
I0305 23:26:05.469855       1 tree.go:668] Split complete - Child node(6)
I0305 23:26:05.469860       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7591 tokens:
I0305 23:26:05.469866       1 tree.go:471] Updated node(11) last access: 112.7739 seconds
I0305 23:26:05.469871       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 23:26:05.469875       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 23:26:05.469880       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 23:26:05.469886       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:05.469891       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:05.469877515 +0000 UTC m=+112.891949049]
I0305 23:26:05.469909       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7478, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 23:26:05.469917       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 23:26:05.469944       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7478
I0305 23:26:05.469954       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:05.469962       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:05.469968       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:05.469974       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:05.469979       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:05.469994       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:05.470003       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:05.470012       1 prefix_cache_and_load.go:584] latency, Route, 0.0514
I0305 23:26:05.470023       1 gateway.go:415] latency, selectTargetPod, 0.0514, target pod, 10.0.1.25:8000
I0305 23:26:05.470077       1 gateway.go:235] latency, HandleRequestBody, 0.0519
I0305 23:26:05.489814       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="517f77e6-550d-47dc-b5a7-1aa10af7c39a"
I0305 23:26:05.526881       1 gateway.go:608] "First token received" requestID="517f77e6-550d-47dc-b5a7-1aa10af7c39a" ttft_ms=108
I0305 23:26:05.581492       1 gateway.go:207] "Processing request" requestID="b954dd52-46a7-40c1-ab89-17f7a70707a9"
I0305 23:26:05.581517       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b954dd52-46a7-40c1-ab89-17f7a70707a9"
I0305 23:26:05.581524       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:05.700653       1 gateway.go:562] latency, 0.0000, summary, hash(request), b17ff979, selectedpod, 10.0.1.25:8000, ttft, 108, tpot, 19, e2e, 282, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 23:26:05.700673       1 gateway.go:748] "Request completed" requestID="517f77e6-550d-47dc-b5a7-1aa10af7c39a" targetPod="10.0.1.25:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 23:26:05.700685       1 gateway.go:764] "HandleResponseBody completed" requestID="517f77e6-550d-47dc-b5a7-1aa10af7c39a" promptTokens=7614 completionTokens=10 stream=true
I0305 23:26:05.719066       1 gateway.go:608] "First token received" requestID="f7628fbe-f8a0-4f55-b471-55f863de2fbc" ttft_ms=1166
I0305 23:26:05.751219       1 gateway.go:207] "Processing request" requestID="922d94b3-0309-48c8-9f08-e23426d08274"
I0305 23:26:05.751233       1 gateway.go:207] "Processing request" requestID="91804cac-5788-4a76-8541-d9246f57f8dc"
I0305 23:26:05.751250       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="922d94b3-0309-48c8-9f08-e23426d08274"
I0305 23:26:05.751258       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:05.751261       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="91804cac-5788-4a76-8541-d9246f57f8dc"
I0305 23:26:05.751270       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:05.752383       1 gateway.go:207] "Processing request" requestID="9565c417-5e13-4f93-b3ce-8790e8a57efb"
I0305 23:26:05.752399       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9565c417-5e13-4f93-b3ce-8790e8a57efb"
I0305 23:26:05.752407       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:05.766164       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d5618396-b86d-4fa0-9e8d-f13967cf58db"
I0305 23:26:05.766391       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d5618396-b86d-4fa0-9e8d-f13967cf58db" model="qwen2-5-7b-instruct"
I0305 23:26:05.766532       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:05.766538       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:05.766541       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:05.766558       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:05.766566       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:05.766570       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:05.815291       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0487, numInputTokens, 7594
I0305 23:26:05.815308       1 tree.go:471] Updated node(0) last access: 113.1194 seconds
I0305 23:26:05.815314       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:05.815318       1 tree.go:471] Updated node(2) last access: 113.1194 seconds
I0305 23:26:05.815329       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:05.815333       1 tree.go:471] Updated node(11) last access: 113.1194 seconds
I0305 23:26:05.815341       1 tree.go:667] Split complete - New node(13)
I0305 23:26:05.815345       1 tree.go:668] Split complete - Child node(12)
I0305 23:26:05.815350       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 23:26:05.815356       1 tree.go:471] Updated node(13) last access: 113.1194 seconds
I0305 23:26:05.815361       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:05.815366       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 23:26:05.815371       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 23:26:05.815378       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:05.815383       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:05.815368014 +0000 UTC m=+113.237439548]
I0305 23:26:05.815396       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7480, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:05.815403       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:05.815420       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7480
I0305 23:26:05.815429       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:05.815438       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:05.815453       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:05.815458       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:05.815462       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:05.815466       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:05.815475       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:05.815483       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:05.815493       1 prefix_cache_and_load.go:584] latency, Route, 0.0490
I0305 23:26:05.815502       1 gateway.go:415] latency, selectTargetPod, 0.0490, target pod, 10.0.1.25:8000
I0305 23:26:05.815511       1 gateway.go:235] latency, HandleRequestBody, 0.0493
I0305 23:26:05.833145       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d5618396-b86d-4fa0-9e8d-f13967cf58db"
I0305 23:26:05.858337       1 gateway.go:608] "First token received" requestID="aa54f1a3-e3eb-4e9a-9d0b-f946f42704ab" ttft_ms=1169
I0305 23:26:05.868024       1 gateway.go:608] "First token received" requestID="d5618396-b86d-4fa0-9e8d-f13967cf58db" ttft_ms=101
I0305 23:26:05.891524       1 gateway.go:562] latency, 0.0000, summary, hash(request), 45c4d554, selectedpod, 10.0.0.4:8000, ttft, 1166, tpot, 19, e2e, 1339, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 23:26:05.891544       1 gateway.go:748] "Request completed" requestID="f7628fbe-f8a0-4f55-b471-55f863de2fbc" targetPod="10.0.0.4:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 23:26:05.891555       1 gateway.go:764] "HandleResponseBody completed" requestID="f7628fbe-f8a0-4f55-b471-55f863de2fbc" promptTokens=7613 completionTokens=10 stream=true
I0305 23:26:06.030778       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8c14c58d, selectedpod, 10.0.0.39:8000, ttft, 1169, tpot, 19, e2e, 1341, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:06.030798       1 gateway.go:748] "Request completed" requestID="aa54f1a3-e3eb-4e9a-9d0b-f946f42704ab" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:06.030811       1 gateway.go:764] "HandleResponseBody completed" requestID="aa54f1a3-e3eb-4e9a-9d0b-f946f42704ab" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:06.041053       1 gateway.go:562] latency, 0.0000, summary, hash(request), 906a452e, selectedpod, 10.0.1.25:8000, ttft, 101, tpot, 19, e2e, 274, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 23:26:06.041071       1 gateway.go:748] "Request completed" requestID="d5618396-b86d-4fa0-9e8d-f13967cf58db" targetPod="10.0.1.25:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 23:26:06.041081       1 gateway.go:764] "HandleResponseBody completed" requestID="d5618396-b86d-4fa0-9e8d-f13967cf58db" promptTokens=7613 completionTokens=10 stream=true
I0305 23:26:06.073814       1 gateway.go:608] "First token received" requestID="c7514ee1-2637-4b97-90a7-929c607964b3" ttft_ms=1166
I0305 23:26:06.089588       1 gateway.go:207] "Processing request" requestID="e8a2bfb4-84ea-4186-8c13-b7842968e3ab"
I0305 23:26:06.089613       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e8a2bfb4-84ea-4186-8c13-b7842968e3ab"
I0305 23:26:06.089632       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:06.089958       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b954dd52-46a7-40c1-ab89-17f7a70707a9"
I0305 23:26:06.090151       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b954dd52-46a7-40c1-ab89-17f7a70707a9" model="qwen2-5-7b-instruct"
I0305 23:26:06.090510       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:06.090536       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:06.090541       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:06.090586       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:06.090613       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:06.090619       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:06.093111       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a7f2c1bd-a0a4-4bbc-b7e8-d83e6a87aae7"
I0305 23:26:06.093419       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a7f2c1bd-a0a4-4bbc-b7e8-d83e6a87aae7" model="qwen2-5-7b-instruct"
I0305 23:26:06.142239       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0516, numInputTokens, 7599
I0305 23:26:06.142259       1 tree.go:471] Updated node(0) last access: 113.4463 seconds
I0305 23:26:06.142266       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:06.142269       1 tree.go:471] Updated node(2) last access: 113.4463 seconds
I0305 23:26:06.142282       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:06.142286       1 tree.go:471] Updated node(11) last access: 113.4463 seconds
I0305 23:26:06.142292       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:06.142298       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:06.142305       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:06.142311       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:06.142316       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:06.142300428 +0000 UTC m=+113.564371962]
I0305 23:26:06.142332       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:06.142338       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:06.142355       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7478
I0305 23:26:06.142362       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:06.142371       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.142378       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.142383       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.142388       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.142398       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:06.142408       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:06.142420       1 prefix_cache_and_load.go:584] latency, Route, 0.0519
I0305 23:26:06.142434       1 gateway.go:415] latency, selectTargetPod, 0.0519, target pod, 10.0.1.25:8000
I0305 23:26:06.142461       1 gateway.go:235] latency, HandleRequestBody, 0.0525
I0305 23:26:06.142458       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0489
I0305 23:26:06.142497       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:06.142500       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:06.142515       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:06.142524       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:06.142529       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:06.161507       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b954dd52-46a7-40c1-ab89-17f7a70707a9"
I0305 23:26:06.204252       1 gateway.go:608] "First token received" requestID="b954dd52-46a7-40c1-ab89-17f7a70707a9" ttft_ms=114
I0305 23:26:06.209110       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9565c417-5e13-4f93-b3ce-8790e8a57efb"
I0305 23:26:06.209322       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9565c417-5e13-4f93-b3ce-8790e8a57efb" model="qwen2-5-7b-instruct"
I0305 23:26:06.224172       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0816, numInputTokens, 7602
I0305 23:26:06.224189       1 tree.go:471] Updated node(0) last access: 113.5282 seconds
I0305 23:26:06.224196       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:06.224199       1 tree.go:471] Updated node(2) last access: 113.5283 seconds
I0305 23:26:06.224220       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7598 tokens:
I0305 23:26:06.224226       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 23:26:06.224252       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:06.224259       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:06.224264       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:06.224227778 +0000 UTC m=+113.646299312]
I0305 23:26:06.224280       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 23:26:06.224288       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 23:26:06.224294       1 prefix_cache_and_load.go:226] numTokens: 125, contextLength: 7603, targetGPU: V100
I0305 23:26:06.224299       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:06.224303       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:06.224309       1 prefix_cache_and_load.go:226] numTokens: 7587, contextLength: 7591, targetGPU: V100
I0305 23:26:06.224311       1 prefix_cache_and_load.go:227] prefillTime: 2.7074 = (Base time(2.0710) + attnQuad(0.3656)) / 0.9
I0305 23:26:06.224316       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7060 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7074) / numPods(1)
I0305 23:26:06.224320       1 prefix_cache_and_load.go:226] numTokens: 7596, contextLength: 7600, targetGPU: V100
I0305 23:26:06.224325       1 prefix_cache_and_load.go:227] prefillTime: 2.7110 = (Base time(2.0735) + attnQuad(0.3665)) / 0.9
I0305 23:26:06.224328       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7096 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7110) / numPods(1)
I0305 23:26:06.224334       1 prefix_cache_and_load.go:226] numTokens: 115, contextLength: 7595, targetGPU: V100
I0305 23:26:06.224337       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:06.224340       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0154) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:06.224345       1 prefix_cache_and_load.go:226] numTokens: 114, contextLength: 7594, targetGPU: V100
I0305 23:26:06.224348       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:06.224351       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0150) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:06.224356       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:06.224358       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:06.224362       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:06.224366       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:06.224369       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:06.224373       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:06.224376       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:06.224379       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:06.224383       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:06.224387       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:06.224389       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:06.224392       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:06.224397       1 prefix_cache_and_load.go:226] numTokens: 7590, contextLength: 7594, targetGPU: V100
I0305 23:26:06.224399       1 prefix_cache_and_load.go:227] prefillTime: 2.7086 = (Base time(2.0718) + attnQuad(0.3659)) / 0.9
I0305 23:26:06.224403       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7072 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7086) / numPods(1)
I0305 23:26:06.224407       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 23:26:06.224410       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:06.224414       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:06.224422       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-nk25n, Cost: 27.066196
I0305 23:26:06.224426       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gvzzg, Cost: 9.457166
I0305 23:26:06.224429       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-s8z62, Cost: 9.461418
I0305 23:26:06.224430       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-hbwcf, Cost: 9.459587
I0305 23:26:06.224432       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gp285, Cost: 9.455956
I0305 23:26:06.224434       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-kf696, Cost: 0.000000
I0305 23:26:06.224436       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-g94zx, Cost: 13.564287
I0305 23:26:06.224438       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-p679j, Cost: 9.459991
I0305 23:26:06.224453       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-7d76f8b9cb-kf696
I0305 23:26:06.224459       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0002
I0305 23:26:06.224467       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.224475       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.224481       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.224488       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:06.224498       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:06.224508       1 prefix_cache_and_load.go:584] latency, Route, 0.1310
I0305 23:26:06.224521       1 gateway.go:415] latency, selectTargetPod, 0.1310, target pod, 10.0.1.53:8000
I0305 23:26:06.224532       1 gateway.go:235] latency, HandleRequestBody, 0.1314
I0305 23:26:06.224553       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0152
I0305 23:26:06.224557       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:06.224560       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:06.224575       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:06.224584       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:06.224589       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:06.246058       1 gateway.go:562] latency, 0.0000, summary, hash(request), ea23fa3c, selectedpod, 10.0.3.13:8000, ttft, 1166, tpot, 19, e2e, 1339, numInputTokens, 7610, numOutputTokens, 10, numTotalTokens, 7620
I0305 23:26:06.246080       1 gateway.go:748] "Request completed" requestID="c7514ee1-2637-4b97-90a7-929c607964b3" targetPod="10.0.3.13:8000" promptTokens=7610 completionTokens=10 totalTokens=7620
I0305 23:26:06.246092       1 gateway.go:764] "HandleResponseBody completed" requestID="c7514ee1-2637-4b97-90a7-929c607964b3" promptTokens=7610 completionTokens=10 stream=true
I0305 23:26:06.279104       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a7f2c1bd-a0a4-4bbc-b7e8-d83e6a87aae7"
I0305 23:26:06.280228       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0556, numInputTokens, 7601
I0305 23:26:06.280245       1 tree.go:471] Updated node(0) last access: 113.5843 seconds
I0305 23:26:06.280252       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:06.280255       1 tree.go:471] Updated node(2) last access: 113.5843 seconds
I0305 23:26:06.280295       1 tree.go:667] Split complete - New node(17)
I0305 23:26:06.280300       1 tree.go:668] Split complete - Child node(16)
I0305 23:26:06.280304       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7597 tokens:
I0305 23:26:06.280308       1 tree.go:471] Updated node(17) last access: 113.5844 seconds
I0305 23:26:06.280316       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:06.280319       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:06.280326       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:06.280331       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:06.280336       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:06.280322342 +0000 UTC m=+113.702393876]
I0305 23:26:06.280355       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:06.280366       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:06.280386       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7478
I0305 23:26:06.280395       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:06.280403       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.280408       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.280412       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.280415       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.280424       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:06.280432       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:06.280455       1 prefix_cache_and_load.go:584] latency, Route, 0.0710
I0305 23:26:06.280465       1 gateway.go:415] latency, selectTargetPod, 0.0711, target pod, 10.0.1.53:8000
I0305 23:26:06.280476       1 gateway.go:235] latency, HandleRequestBody, 0.0714
I0305 23:26:06.299261       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9565c417-5e13-4f93-b3ce-8790e8a57efb"
I0305 23:26:06.377079       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6e0db073, selectedpod, 10.0.1.25:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:06.377106       1 gateway.go:748] "Request completed" requestID="b954dd52-46a7-40c1-ab89-17f7a70707a9" targetPod="10.0.1.25:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:06.377118       1 gateway.go:764] "HandleResponseBody completed" requestID="b954dd52-46a7-40c1-ab89-17f7a70707a9" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:06.425785       1 gateway.go:207] "Processing request" requestID="a029cd48-846f-4339-ae53-6a9feb627577"
I0305 23:26:06.425819       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a029cd48-846f-4339-ae53-6a9feb627577"
I0305 23:26:06.425827       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:06.428050       1 gateway.go:207] "Processing request" requestID="7a105cce-f0b2-4f4c-9d1b-65004aa4ace2"
I0305 23:26:06.428080       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7a105cce-f0b2-4f4c-9d1b-65004aa4ace2"
I0305 23:26:06.428089       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:06.442763       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f0375e94-f012-4882-a917-062a67a4d401"
I0305 23:26:06.442996       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f0375e94-f012-4882-a917-062a67a4d401" model="qwen2-5-7b-instruct"
I0305 23:26:06.443073       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:06.443080       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:06.443083       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:06.443104       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:06.443114       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:06.443119       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:06.471043       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e8a2bfb4-84ea-4186-8c13-b7842968e3ab"
I0305 23:26:06.471274       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e8a2bfb4-84ea-4186-8c13-b7842968e3ab" model="qwen2-5-7b-instruct"
I0305 23:26:06.493781       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0507, numInputTokens, 7601
I0305 23:26:06.493800       1 tree.go:471] Updated node(0) last access: 113.7979 seconds
I0305 23:26:06.493806       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:06.493809       1 tree.go:471] Updated node(2) last access: 113.7979 seconds
I0305 23:26:06.493893       1 tree.go:667] Split complete - New node(19)
I0305 23:26:06.493898       1 tree.go:668] Split complete - Child node(8)
I0305 23:26:06.493906       1 tree.go:501] latency, splitNode, 0.0001 seconds, 7597 tokens:
I0305 23:26:06.493911       1 tree.go:471] Updated node(19) last access: 113.7980 seconds
I0305 23:26:06.493917       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:06.493922       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:06.493927       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:06.493939       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:06.493948       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:06.493923749 +0000 UTC m=+113.915995283]
I0305 23:26:06.493965       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:06.493973       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:06.493990       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7478
I0305 23:26:06.493999       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:06.494007       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.494014       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.494018       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.494024       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.494035       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:06.494045       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:06.494057       1 prefix_cache_and_load.go:584] latency, Route, 0.0510
I0305 23:26:06.494074       1 gateway.go:415] latency, selectTargetPod, 0.0510, target pod, 10.0.0.4:8000
I0305 23:26:06.494094       1 gateway.go:235] latency, HandleRequestBody, 0.0513
I0305 23:26:06.494119       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0228
I0305 23:26:06.494124       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:06.494127       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:06.494145       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:06.494155       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:06.494159       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:06.513930       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f0375e94-f012-4882-a917-062a67a4d401"
I0305 23:26:06.559286       1 gateway.go:608] "First token received" requestID="f0375e94-f012-4882-a917-062a67a4d401" ttft_ms=116
I0305 23:26:06.578723       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0846, numInputTokens, 7599
I0305 23:26:06.578742       1 tree.go:471] Updated node(0) last access: 113.8828 seconds
I0305 23:26:06.578749       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:06.578754       1 tree.go:471] Updated node(2) last access: 113.8828 seconds
I0305 23:26:06.578791       1 tree.go:667] Split complete - New node(21)
I0305 23:26:06.578796       1 tree.go:668] Split complete - Child node(9)
I0305 23:26:06.578801       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7595 tokens:
I0305 23:26:06.578806       1 tree.go:471] Updated node(21) last access: 113.8829 seconds
I0305 23:26:06.578814       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:06.578820       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:06.578827       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:06.578834       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:06.578839       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:06.578822429 +0000 UTC m=+114.000893977]
I0305 23:26:06.578855       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:06.578863       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:06.578882       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7478
I0305 23:26:06.578893       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:06.578904       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.578909       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.578915       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.578919       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.578927       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:06.578945       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:06.578958       1 prefix_cache_and_load.go:584] latency, Route, 0.1076
I0305 23:26:06.578969       1 gateway.go:415] latency, selectTargetPod, 0.1076, target pod, 10.0.0.39:8000
I0305 23:26:06.578983       1 gateway.go:235] latency, HandleRequestBody, 0.1079
I0305 23:26:06.594438       1 gateway.go:207] "Processing request" requestID="35e368b3-08ae-4c94-ae63-3e01a25652d9"
I0305 23:26:06.594476       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="35e368b3-08ae-4c94-ae63-3e01a25652d9"
I0305 23:26:06.594485       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:06.601430       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e8a2bfb4-84ea-4186-8c13-b7842968e3ab"
I0305 23:26:06.606097       1 gateway.go:329] "-- In RequestBody processing ..." requestID="91804cac-5788-4a76-8541-d9246f57f8dc"
I0305 23:26:06.606324       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="91804cac-5788-4a76-8541-d9246f57f8dc" model="qwen2-5-7b-instruct"
I0305 23:26:06.606403       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:06.606416       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:06.606419       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:06.606457       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:06.606470       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:06.606476       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:06.607628       1 gateway.go:329] "-- In RequestBody processing ..." requestID="922d94b3-0309-48c8-9f08-e23426d08274"
I0305 23:26:06.607852       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="922d94b3-0309-48c8-9f08-e23426d08274" model="qwen2-5-7b-instruct"
I0305 23:26:06.646090       1 gateway.go:608] "First token received" requestID="e8a2bfb4-84ea-4186-8c13-b7842968e3ab" ttft_ms=174
I0305 23:26:06.654721       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 7596
I0305 23:26:06.654738       1 tree.go:471] Updated node(0) last access: 113.9588 seconds
I0305 23:26:06.654745       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:06.654749       1 tree.go:471] Updated node(2) last access: 113.9588 seconds
I0305 23:26:06.654782       1 tree.go:667] Split complete - New node(23)
I0305 23:26:06.654788       1 tree.go:668] Split complete - Child node(10)
I0305 23:26:06.654792       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7592 tokens:
I0305 23:26:06.654796       1 tree.go:471] Updated node(23) last access: 113.9589 seconds
I0305 23:26:06.654802       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:06.654806       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 23:26:06.654812       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:06.654818       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:06.654823       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:06.654809409 +0000 UTC m=+114.076880944]
I0305 23:26:06.654836       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:06.654842       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:06.654861       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:06.654870       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:06.654878       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.654884       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.654888       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.654893       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.654901       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:06.654912       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:06.654928       1 prefix_cache_and_load.go:584] latency, Route, 0.0485
I0305 23:26:06.654949       1 gateway.go:415] latency, selectTargetPod, 0.0485, target pod, 10.0.3.13:8000
I0305 23:26:06.654959       1 gateway.go:235] latency, HandleRequestBody, 0.0489
I0305 23:26:06.654960       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0470
I0305 23:26:06.654968       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:06.654973       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:06.655000       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:06.655013       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:06.655017       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:06.672477       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="91804cac-5788-4a76-8541-d9246f57f8dc"
I0305 23:26:06.707861       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0528, numInputTokens, 7603
I0305 23:26:06.707879       1 tree.go:471] Updated node(0) last access: 114.0119 seconds
I0305 23:26:06.707885       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:06.707889       1 tree.go:471] Updated node(2) last access: 114.0119 seconds
I0305 23:26:06.707900       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:06.707903       1 tree.go:471] Updated node(17) last access: 114.0120 seconds
I0305 23:26:06.707909       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 125 tokens:
I0305 23:26:06.707914       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 23:26:06.707921       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 23:26:06.707929       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 23:26:06.707942       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:06.707916546 +0000 UTC m=+114.129988082]
I0305 23:26:06.707956       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7478, Matching ratio: 0.9836, # Matched pods: 0, Matched pods: []
I0305 23:26:06.707964       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9836 > 0.5000)
I0305 23:26:06.707984       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7478
I0305 23:26:06.707992       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:06.708000       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.708005       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.708010       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.708015       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:06.708024       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:06.708032       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:06.708042       1 prefix_cache_and_load.go:584] latency, Route, 0.1001
I0305 23:26:06.708060       1 gateway.go:415] latency, selectTargetPod, 0.1001, target pod, 10.0.1.53:8000
I0305 23:26:06.708070       1 gateway.go:235] latency, HandleRequestBody, 0.1004
I0305 23:26:06.709605       1 gateway.go:608] "First token received" requestID="91804cac-5788-4a76-8541-d9246f57f8dc" ttft_ms=103
I0305 23:26:06.727122       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="922d94b3-0309-48c8-9f08-e23426d08274"
I0305 23:26:06.736658       1 gateway.go:562] latency, 0.0000, summary, hash(request), b996fd25, selectedpod, 10.0.0.4:8000, ttft, 116, tpot, 19, e2e, 293, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:06.736682       1 gateway.go:748] "Request completed" requestID="f0375e94-f012-4882-a917-062a67a4d401" targetPod="10.0.0.4:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:06.736692       1 gateway.go:764] "HandleResponseBody completed" requestID="f0375e94-f012-4882-a917-062a67a4d401" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:06.770020       1 gateway.go:207] "Processing request" requestID="7da775dc-beea-480d-b013-865c5bc3ba03"
I0305 23:26:06.770049       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7da775dc-beea-480d-b013-865c5bc3ba03"
I0305 23:26:06.770057       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:06.819798       1 gateway.go:562] latency, 0.0000, summary, hash(request), 302e23e4, selectedpod, 10.0.0.39:8000, ttft, 174, tpot, 19, e2e, 348, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:06.819817       1 gateway.go:748] "Request completed" requestID="e8a2bfb4-84ea-4186-8c13-b7842968e3ab" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:06.819830       1 gateway.go:764] "HandleResponseBody completed" requestID="e8a2bfb4-84ea-4186-8c13-b7842968e3ab" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:06.883458       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8fd9382e, selectedpod, 10.0.3.13:8000, ttft, 103, tpot, 19, e2e, 277, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:06.883475       1 gateway.go:748] "Request completed" requestID="91804cac-5788-4a76-8541-d9246f57f8dc" targetPod="10.0.3.13:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:06.883483       1 gateway.go:764] "HandleResponseBody completed" requestID="91804cac-5788-4a76-8541-d9246f57f8dc" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:06.939957       1 gateway.go:207] "Processing request" requestID="eda886b3-7f28-4342-9cd4-3a4417604b29"
I0305 23:26:06.939988       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="eda886b3-7f28-4342-9cd4-3a4417604b29"
I0305 23:26:06.939996       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:06.939998       1 gateway.go:207] "Processing request" requestID="7255981a-87a5-4a9c-af40-6f13009c2a44"
I0305 23:26:06.940023       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7255981a-87a5-4a9c-af40-6f13009c2a44"
I0305 23:26:06.940032       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:06.956169       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a029cd48-846f-4339-ae53-6a9feb627577"
I0305 23:26:06.956437       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a029cd48-846f-4339-ae53-6a9feb627577" model="qwen2-5-7b-instruct"
I0305 23:26:06.956516       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:06.956523       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:06.956526       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:06.956552       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:06.956566       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:06.956572       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:06.978977       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7a105cce-f0b2-4f4c-9d1b-65004aa4ace2"
I0305 23:26:06.979176       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7a105cce-f0b2-4f4c-9d1b-65004aa4ace2" model="qwen2-5-7b-instruct"
I0305 23:26:07.007093       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0505, numInputTokens, 7599
I0305 23:26:07.007114       1 tree.go:471] Updated node(0) last access: 114.3112 seconds
I0305 23:26:07.007120       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:07.007124       1 tree.go:471] Updated node(2) last access: 114.3112 seconds
I0305 23:26:07.007191       1 tree.go:516] latency, NewTreeNode, 0.0001 seconds, 7595 tokens:
I0305 23:26:07.007213       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:07.007222       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:07.007229       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:07.007235       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:07.007216289 +0000 UTC m=+114.429287834]
I0305 23:26:07.007251       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 23:26:07.007266       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 23:26:07.007273       1 prefix_cache_and_load.go:226] numTokens: 122, contextLength: 7600, targetGPU: V100
I0305 23:26:07.007280       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007284       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007290       1 prefix_cache_and_load.go:226] numTokens: 114, contextLength: 7594, targetGPU: V100
I0305 23:26:07.007293       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007297       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0150) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007304       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:07.007307       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007310       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007314       1 prefix_cache_and_load.go:226] numTokens: 125, contextLength: 7603, targetGPU: V100
I0305 23:26:07.007317       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007321       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007325       1 prefix_cache_and_load.go:226] numTokens: 113, contextLength: 7591, targetGPU: V100
I0305 23:26:07.007334       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007340       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007344       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 7602, targetGPU: V100
I0305 23:26:07.007346       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007350       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007355       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 23:26:07.007358       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007363       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007371       1 prefix_cache_and_load.go:226] numTokens: 118, contextLength: 7596, targetGPU: V100
I0305 23:26:07.007374       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007377       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0155) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007381       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:07.007383       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007387       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007392       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:07.007397       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:07.007401       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:07.007407       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:07.007411       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007415       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007423       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:07.007426       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007436       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007451       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 23:26:07.007457       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 23:26:07.007461       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 23:26:07.007465       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7594, targetGPU: V100
I0305 23:26:07.007468       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007471       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007479       1 prefix_cache_and_load.go:226] numTokens: 115, contextLength: 7595, targetGPU: V100
I0305 23:26:07.007481       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007485       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0154) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007492       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 23:26:07.007495       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007498       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007502       1 prefix_cache_and_load.go:226] numTokens: 125, contextLength: 7603, targetGPU: V100
I0305 23:26:07.007509       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:07.007514       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0164) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:07.007524       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gp285, Cost: 13.564243
I0305 23:26:07.007529       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-kf696, Cost: 20.315328
I0305 23:26:07.007533       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-hbwcf, Cost: 13.564270
I0305 23:26:07.007536       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-p679j, Cost: 9.459991
I0305 23:26:07.007539       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-g94zx, Cost: 13.564287
I0305 23:26:07.007542       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gvzzg, Cost: 13.564285
I0305 23:26:07.007544       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-nk25n, Cost: 27.066196
I0305 23:26:07.007547       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-s8z62, Cost: 9.461418
I0305 23:26:07.007560       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-7d76f8b9cb-p679j
I0305 23:26:07.007570       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0003
I0305 23:26:07.007581       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.007591       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.007596       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.007610       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:07.007626       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:07.007640       1 prefix_cache_and_load.go:584] latency, Route, 0.0511
I0305 23:26:07.007656       1 gateway.go:415] latency, selectTargetPod, 0.0511, target pod, 10.0.0.134:8000
I0305 23:26:07.007678       1 gateway.go:235] latency, HandleRequestBody, 0.0515
I0305 23:26:07.007714       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0285
I0305 23:26:07.007720       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:07.007724       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:07.007778       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:07.007803       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:07.007810       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:07.026891       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a029cd48-846f-4339-ae53-6a9feb627577"
I0305 23:26:07.083414       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0756, numInputTokens, 7599
I0305 23:26:07.083433       1 tree.go:471] Updated node(0) last access: 114.3875 seconds
I0305 23:26:07.083439       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:07.083450       1 tree.go:471] Updated node(2) last access: 114.3875 seconds
I0305 23:26:07.083463       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:07.083467       1 tree.go:471] Updated node(21) last access: 114.3875 seconds
I0305 23:26:07.083472       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:07.083478       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:07.083485       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:07.083492       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:07.083497       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:07.083480003 +0000 UTC m=+114.505551538]
I0305 23:26:07.083511       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:07.083520       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:07.083538       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7478
I0305 23:26:07.083547       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:07.083554       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.083559       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.083562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.083566       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.083574       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:07.083583       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:07.083594       1 prefix_cache_and_load.go:584] latency, Route, 0.1043
I0305 23:26:07.083603       1 gateway.go:415] latency, selectTargetPod, 0.1044, target pod, 10.0.0.39:8000
I0305 23:26:07.083613       1 gateway.go:235] latency, HandleRequestBody, 0.1046
I0305 23:26:07.102580       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7a105cce-f0b2-4f4c-9d1b-65004aa4ace2"
I0305 23:26:07.108667       1 gateway.go:207] "Processing request" requestID="8af88558-a213-45cf-a3f2-8b4a742172e7"
I0305 23:26:07.108696       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8af88558-a213-45cf-a3f2-8b4a742172e7"
I0305 23:26:07.108705       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:07.108732       1 gateway.go:207] "Processing request" requestID="0fbf2159-df6b-4e15-9d89-d182e8c00d9f"
I0305 23:26:07.108756       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0fbf2159-df6b-4e15-9d89-d182e8c00d9f"
I0305 23:26:07.108764       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:07.120170       1 gateway.go:329] "-- In RequestBody processing ..." requestID="35e368b3-08ae-4c94-ae63-3e01a25652d9"
I0305 23:26:07.120381       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="35e368b3-08ae-4c94-ae63-3e01a25652d9" model="qwen2-5-7b-instruct"
I0305 23:26:07.120462       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:07.120468       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:07.120471       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:07.120495       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:07.120505       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:07.120510       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:07.144920       1 gateway.go:608] "First token received" requestID="7a105cce-f0b2-4f4c-9d1b-65004aa4ace2" ttft_ms=165
I0305 23:26:07.170402       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 7600
I0305 23:26:07.170418       1 tree.go:471] Updated node(0) last access: 114.4745 seconds
I0305 23:26:07.170425       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:07.170428       1 tree.go:471] Updated node(2) last access: 114.4745 seconds
I0305 23:26:07.170449       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:07.170454       1 tree.go:471] Updated node(19) last access: 114.4745 seconds
I0305 23:26:07.170460       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:07.170465       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:07.170471       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:07.170478       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:07.170483       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:07.170467437 +0000 UTC m=+114.592538971]
I0305 23:26:07.170495       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:07.170503       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:07.170523       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7478
I0305 23:26:07.170531       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:07.170540       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.170546       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.170551       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.170555       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.170563       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:07.170572       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:07.170582       1 prefix_cache_and_load.go:584] latency, Route, 0.0501
I0305 23:26:07.170591       1 gateway.go:415] latency, selectTargetPod, 0.0501, target pod, 10.0.0.4:8000
I0305 23:26:07.170599       1 gateway.go:235] latency, HandleRequestBody, 0.0504
I0305 23:26:07.188462       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="35e368b3-08ae-4c94-ae63-3e01a25652d9"
I0305 23:26:07.233965       1 gateway.go:608] "First token received" requestID="35e368b3-08ae-4c94-ae63-3e01a25652d9" ttft_ms=113
I0305 23:26:07.317761       1 gateway.go:562] latency, 0.0000, summary, hash(request), 253afa9c, selectedpod, 10.0.0.39:8000, ttft, 165, tpot, 19, e2e, 338, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:07.317784       1 gateway.go:748] "Request completed" requestID="7a105cce-f0b2-4f4c-9d1b-65004aa4ace2" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:07.317793       1 gateway.go:764] "HandleResponseBody completed" requestID="7a105cce-f0b2-4f4c-9d1b-65004aa4ace2" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:07.354870       1 gateway.go:608] "First token received" requestID="a7f2c1bd-a0a4-4bbc-b7e8-d83e6a87aae7" ttft_ms=1261
I0305 23:26:07.404402       1 gateway.go:562] latency, 0.0000, summary, hash(request), 113b8978, selectedpod, 10.0.0.4:8000, ttft, 113, tpot, 18, e2e, 284, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:07.404424       1 gateway.go:748] "Request completed" requestID="35e368b3-08ae-4c94-ae63-3e01a25652d9" targetPod="10.0.0.4:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:07.404435       1 gateway.go:764] "HandleResponseBody completed" requestID="35e368b3-08ae-4c94-ae63-3e01a25652d9" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:07.411838       1 gateway.go:608] "First token received" requestID="922d94b3-0309-48c8-9f08-e23426d08274" ttft_ms=804
I0305 23:26:07.411846       1 gateway.go:608] "First token received" requestID="9565c417-5e13-4f93-b3ce-8790e8a57efb" ttft_ms=1202
I0305 23:26:07.559498       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7da775dc-beea-480d-b013-865c5bc3ba03"
I0305 23:26:07.559726       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7da775dc-beea-480d-b013-865c5bc3ba03" model="qwen2-5-7b-instruct"
I0305 23:26:07.559804       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:07.559811       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:07.559814       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:07.559839       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:07.559850       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:07.559855       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:07.598553       1 gateway.go:562] latency, 0.0000, summary, hash(request), 29cc7d59, selectedpod, 10.0.1.53:8000, ttft, 804, tpot, 20, e2e, 990, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 23:26:07.598555       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2ddde691, selectedpod, 10.0.1.53:8000, ttft, 1261, tpot, 27, e2e, 1505, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:07.598576       1 gateway.go:748] "Request completed" requestID="922d94b3-0309-48c8-9f08-e23426d08274" targetPod="10.0.1.53:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 23:26:07.598578       1 gateway.go:748] "Request completed" requestID="a7f2c1bd-a0a4-4bbc-b7e8-d83e6a87aae7" targetPod="10.0.1.53:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:07.598579       1 gateway.go:562] latency, 0.0000, summary, hash(request), 95288e39, selectedpod, 10.0.1.53:8000, ttft, 1202, tpot, 20, e2e, 1389, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:07.598590       1 gateway.go:764] "HandleResponseBody completed" requestID="a7f2c1bd-a0a4-4bbc-b7e8-d83e6a87aae7" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:07.598587       1 gateway.go:764] "HandleResponseBody completed" requestID="922d94b3-0309-48c8-9f08-e23426d08274" promptTokens=7622 completionTokens=10 stream=true
I0305 23:26:07.598606       1 gateway.go:748] "Request completed" requestID="9565c417-5e13-4f93-b3ce-8790e8a57efb" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:07.598621       1 gateway.go:764] "HandleResponseBody completed" requestID="9565c417-5e13-4f93-b3ce-8790e8a57efb" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:07.612766       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0529, numInputTokens, 7601
I0305 23:26:07.612785       1 tree.go:471] Updated node(0) last access: 114.9168 seconds
I0305 23:26:07.612792       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:07.612796       1 tree.go:471] Updated node(2) last access: 114.9169 seconds
I0305 23:26:07.612837       1 tree.go:667] Split complete - New node(29)
I0305 23:26:07.612842       1 tree.go:668] Split complete - Child node(7)
I0305 23:26:07.612847       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7597 tokens:
I0305 23:26:07.612851       1 tree.go:471] Updated node(29) last access: 114.9169 seconds
I0305 23:26:07.612857       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:07.612862       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:07.612867       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:07.612875       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:07.612880       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:07.612864415 +0000 UTC m=+115.034935949]
I0305 23:26:07.612896       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:07.612906       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:07.612930       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:07.612947       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:07.612956       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.612963       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.612968       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.612974       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.612985       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:07.612996       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:07.613007       1 prefix_cache_and_load.go:584] latency, Route, 0.0532
I0305 23:26:07.613017       1 gateway.go:415] latency, selectTargetPod, 0.0532, target pod, 10.0.0.134:8000
I0305 23:26:07.613028       1 gateway.go:235] latency, HandleRequestBody, 0.0535
I0305 23:26:07.623548       1 gateway.go:207] "Processing request" requestID="ef71d944-6ddd-4212-ab7a-76a73174968f"
I0305 23:26:07.623573       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ef71d944-6ddd-4212-ab7a-76a73174968f"
I0305 23:26:07.623584       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:07.623601       1 gateway.go:207] "Processing request" requestID="4cd6a1c1-d1ea-48f0-b8cc-47e56093adcd"
I0305 23:26:07.623631       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4cd6a1c1-d1ea-48f0-b8cc-47e56093adcd"
I0305 23:26:07.623642       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:07.624693       1 gateway.go:207] "Processing request" requestID="e349ad16-f5e2-4571-8e8e-c57badaf3d46"
I0305 23:26:07.624715       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e349ad16-f5e2-4571-8e8e-c57badaf3d46"
I0305 23:26:07.624722       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:07.625513       1 gateway.go:329] "-- In RequestBody processing ..." requestID="eda886b3-7f28-4342-9cd4-3a4417604b29"
I0305 23:26:07.625742       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="eda886b3-7f28-4342-9cd4-3a4417604b29" model="qwen2-5-7b-instruct"
I0305 23:26:07.625822       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:07.625828       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:07.625832       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:07.625857       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:07.625868       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:07.625874       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:07.631139       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7255981a-87a5-4a9c-af40-6f13009c2a44"
I0305 23:26:07.631357       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7255981a-87a5-4a9c-af40-6f13009c2a44" model="qwen2-5-7b-instruct"
I0305 23:26:07.633004       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7da775dc-beea-480d-b013-865c5bc3ba03"
I0305 23:26:07.647119       1 gateway.go:207] "Processing request" requestID="66ef7f0d-2bb2-4b29-aed2-d53f2be46ce9"
I0305 23:26:07.647150       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="66ef7f0d-2bb2-4b29-aed2-d53f2be46ce9"
I0305 23:26:07.647158       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:07.658308       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8af88558-a213-45cf-a3f2-8b4a742172e7"
I0305 23:26:07.658512       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8af88558-a213-45cf-a3f2-8b4a742172e7" model="qwen2-5-7b-instruct"
I0305 23:26:07.691527       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0656, numInputTokens, 7596
I0305 23:26:07.691542       1 tree.go:471] Updated node(0) last access: 114.9956 seconds
I0305 23:26:07.691548       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:07.691552       1 tree.go:471] Updated node(2) last access: 114.9956 seconds
I0305 23:26:07.691564       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:07.691568       1 tree.go:471] Updated node(19) last access: 114.9956 seconds
I0305 23:26:07.691574       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:07.691578       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 23:26:07.691586       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:07.691591       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 23:26:07.691597       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:07.691581719 +0000 UTC m=+115.113653255]
I0305 23:26:07.691612       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:07.691618       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:07.691637       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7478
I0305 23:26:07.691646       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:07.691654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.691661       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.691667       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.691671       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.691680       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:07.691689       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:07.691699       1 prefix_cache_and_load.go:584] latency, Route, 0.0659
I0305 23:26:07.691712       1 gateway.go:415] latency, selectTargetPod, 0.0659, target pod, 10.0.0.4:8000
I0305 23:26:07.691721       1 gateway.go:235] latency, HandleRequestBody, 0.0662
I0305 23:26:07.691744       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0603
I0305 23:26:07.691748       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:07.691752       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:07.691773       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:07.691783       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:07.691788       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:07.710710       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="eda886b3-7f28-4342-9cd4-3a4417604b29"
I0305 23:26:07.735806       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0fbf2159-df6b-4e15-9d89-d182e8c00d9f"
I0305 23:26:07.738155       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0fbf2159-df6b-4e15-9d89-d182e8c00d9f" model="qwen2-5-7b-instruct"
I0305 23:26:07.747325       1 gateway.go:608] "First token received" requestID="eda886b3-7f28-4342-9cd4-3a4417604b29" ttft_ms=121
I0305 23:26:07.775515       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e349ad16-f5e2-4571-8e8e-c57badaf3d46"
I0305 23:26:07.775872       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e349ad16-f5e2-4571-8e8e-c57badaf3d46" model="qwen2-5-7b-instruct"
I0305 23:26:07.781283       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0895, numInputTokens, 7601
I0305 23:26:07.781299       1 tree.go:471] Updated node(0) last access: 115.0854 seconds
I0305 23:26:07.781305       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:07.781309       1 tree.go:471] Updated node(2) last access: 115.0854 seconds
I0305 23:26:07.781323       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:07.781328       1 tree.go:471] Updated node(17) last access: 115.0854 seconds
I0305 23:26:07.781333       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:07.781338       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 23:26:07.781344       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:07.781351       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:07.781356       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:07.781339824 +0000 UTC m=+115.203411359]
I0305 23:26:07.781369       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:07.781375       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:07.781397       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7478
I0305 23:26:07.781406       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:07.781413       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.781418       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.781424       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.781427       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.781436       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:07.781453       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:07.781462       1 prefix_cache_and_load.go:584] latency, Route, 0.1500
I0305 23:26:07.781476       1 gateway.go:415] latency, selectTargetPod, 0.1500, target pod, 10.0.1.53:8000
I0305 23:26:07.781487       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1229
I0305 23:26:07.781490       1 gateway.go:235] latency, HandleRequestBody, 0.1504
I0305 23:26:07.781493       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:07.781497       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:07.781528       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:07.781543       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:07.781548       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:07.800905       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7255981a-87a5-4a9c-af40-6f13009c2a44"
I0305 23:26:07.832206       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0506, numInputTokens, 7598
I0305 23:26:07.832225       1 tree.go:471] Updated node(0) last access: 115.1363 seconds
I0305 23:26:07.832231       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:07.832235       1 tree.go:471] Updated node(2) last access: 115.1363 seconds
I0305 23:26:07.832270       1 tree.go:667] Split complete - New node(33)
I0305 23:26:07.832274       1 tree.go:668] Split complete - Child node(1)
I0305 23:26:07.832279       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7594 tokens:
I0305 23:26:07.832283       1 tree.go:471] Updated node(33) last access: 115.1363 seconds
I0305 23:26:07.832288       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:07.832292       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:07.832297       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:07.832304       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:07.832308       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:07.832294298 +0000 UTC m=+115.254365832]
I0305 23:26:07.832321       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:07.832328       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:07.832349       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7478
I0305 23:26:07.832358       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:07.832364       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.832370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.832375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.832380       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.832387       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:07.832396       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:07.832408       1 prefix_cache_and_load.go:584] latency, Route, 0.1738
I0305 23:26:07.832422       1 gateway.go:415] latency, selectTargetPod, 0.1738, target pod, 10.0.3.38:8000
I0305 23:26:07.832432       1 gateway.go:235] latency, HandleRequestBody, 0.1741
I0305 23:26:07.832473       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0942
I0305 23:26:07.832484       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:07.832487       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:07.832520       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:07.832534       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:07.832539       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:07.844136       1 gateway.go:608] "First token received" requestID="7255981a-87a5-4a9c-af40-6f13009c2a44" ttft_ms=212
I0305 23:26:07.848801       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8af88558-a213-45cf-a3f2-8b4a742172e7"
I0305 23:26:07.898124       1 gateway.go:608] "First token received" requestID="8af88558-a213-45cf-a3f2-8b4a742172e7" ttft_ms=239
I0305 23:26:07.907517       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0750, numInputTokens, 7594
I0305 23:26:07.907592       1 tree.go:471] Updated node(0) last access: 115.2116 seconds
I0305 23:26:07.907599       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:07.907605       1 tree.go:471] Updated node(2) last access: 115.2117 seconds
I0305 23:26:07.907618       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:07.907622       1 tree.go:471] Updated node(17) last access: 115.2117 seconds
I0305 23:26:07.907638       1 tree.go:667] Split complete - New node(35)
I0305 23:26:07.907643       1 tree.go:668] Split complete - Child node(25)
I0305 23:26:07.907648       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 23:26:07.907660       1 tree.go:471] Updated node(35) last access: 115.2117 seconds
I0305 23:26:07.907664       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:07.907669       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 23:26:07.907675       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 23:26:07.907683       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:07.907689       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:07.907670866 +0000 UTC m=+115.329742401]
I0305 23:26:07.907710       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7479, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:07.907721       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:07.907751       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7479
I0305 23:26:07.907767       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:07.907778       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.907785       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.907794       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.907801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.907806       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.907815       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:07.907827       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:07.907840       1 prefix_cache_and_load.go:584] latency, Route, 0.1696
I0305 23:26:07.907854       1 gateway.go:415] latency, selectTargetPod, 0.1696, target pod, 10.0.1.53:8000
I0305 23:26:07.907869       1 gateway.go:235] latency, HandleRequestBody, 0.1721
I0305 23:26:07.907898       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1319
I0305 23:26:07.907902       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:07.907905       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:07.907952       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:07.907970       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:07.907973       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:07.918776       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8a42d0fc, selectedpod, 10.0.0.4:8000, ttft, 121, tpot, 19, e2e, 293, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:07.918797       1 gateway.go:748] "Request completed" requestID="eda886b3-7f28-4342-9cd4-3a4417604b29" targetPod="10.0.0.4:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:07.918807       1 gateway.go:764] "HandleResponseBody completed" requestID="eda886b3-7f28-4342-9cd4-3a4417604b29" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:07.926704       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0fbf2159-df6b-4e15-9d89-d182e8c00d9f"
I0305 23:26:07.972250       1 gateway.go:207] "Processing request" requestID="1606a800-c9af-4227-8f86-27d8b5f111f2"
I0305 23:26:07.972277       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1606a800-c9af-4227-8f86-27d8b5f111f2"
I0305 23:26:07.972286       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:07.975582       1 gateway.go:608] "First token received" requestID="0fbf2159-df6b-4e15-9d89-d182e8c00d9f" ttft_ms=239
I0305 23:26:07.977852       1 gateway.go:207] "Processing request" requestID="b25b4cad-386a-4d70-8af2-29dad25219aa"
I0305 23:26:07.977877       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b25b4cad-386a-4d70-8af2-29dad25219aa"
I0305 23:26:07.977886       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:07.982199       1 gateway.go:207] "Processing request" requestID="1ce06342-4f63-41b0-9473-bb05eba79ffe"
I0305 23:26:07.982218       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1ce06342-4f63-41b0-9473-bb05eba79ffe"
I0305 23:26:07.982226       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:07.992631       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4cd6a1c1-d1ea-48f0-b8cc-47e56093adcd"
I0305 23:26:07.992861       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4cd6a1c1-d1ea-48f0-b8cc-47e56093adcd" model="qwen2-5-7b-instruct"
I0305 23:26:07.996996       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0890, numInputTokens, 7602
I0305 23:26:07.997016       1 tree.go:471] Updated node(0) last access: 115.3011 seconds
I0305 23:26:07.997022       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:07.997026       1 tree.go:471] Updated node(2) last access: 115.3011 seconds
I0305 23:26:07.997040       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:07.997044       1 tree.go:471] Updated node(4) last access: 115.3011 seconds
I0305 23:26:07.997051       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 23:26:07.997055       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 23:26:07.997064       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:07.997071       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:07.997076       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:07.997058442 +0000 UTC m=+115.419129988]
I0305 23:26:07.997098       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 23:26:07.997105       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 23:26:07.997130       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7478
I0305 23:26:07.997139       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:07.997148       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.997155       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.997160       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.997167       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:07.997180       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:07.997194       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:07.997212       1 prefix_cache_and_load.go:584] latency, Route, 0.2212
I0305 23:26:07.997225       1 gateway.go:415] latency, selectTargetPod, 0.2212, target pod, 10.0.1.20:8000
I0305 23:26:07.997235       1 gateway.go:235] latency, HandleRequestBody, 0.2217
I0305 23:26:07.997264       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0043
I0305 23:26:07.997269       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:07.997272       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:07.997299       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:07.997310       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:07.997315       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.017200       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e349ad16-f5e2-4571-8e8e-c57badaf3d46"
I0305 23:26:08.048309       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0510, numInputTokens, 7600
I0305 23:26:08.048340       1 tree.go:471] Updated node(0) last access: 115.3524 seconds
I0305 23:26:08.048347       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.048350       1 tree.go:471] Updated node(2) last access: 115.3524 seconds
I0305 23:26:08.048416       1 tree.go:667] Split complete - New node(38)
I0305 23:26:08.048425       1 tree.go:668] Split complete - Child node(26)
I0305 23:26:08.048430       1 tree.go:501] latency, splitNode, 0.0001 seconds, 7596 tokens:
I0305 23:26:08.048436       1 tree.go:471] Updated node(38) last access: 115.3525 seconds
I0305 23:26:08.048458       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:08.048466       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:08.048474       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:08.048479       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:08.048485       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.048467637 +0000 UTC m=+115.470539171]
I0305 23:26:08.048505       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:08.048516       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:08.048549       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:08.048558       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:08.048566       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.048570       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.048575       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.048579       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.048605       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.048615       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:08.048636       1 prefix_cache_and_load.go:584] latency, Route, 0.0557
I0305 23:26:08.048652       1 gateway.go:415] latency, selectTargetPod, 0.0557, target pod, 10.0.0.134:8000
I0305 23:26:08.048666       1 gateway.go:235] latency, HandleRequestBody, 0.0560
I0305 23:26:08.053408       1 gateway.go:562] latency, 0.0001, summary, hash(request), 9ff58bb6, selectedpod, 10.0.1.53:8000, ttft, 212, tpot, 23, e2e, 422, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:08.053430       1 gateway.go:748] "Request completed" requestID="7255981a-87a5-4a9c-af40-6f13009c2a44" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:08.053439       1 gateway.go:764] "HandleResponseBody completed" requestID="7255981a-87a5-4a9c-af40-6f13009c2a44" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:08.061375       1 gateway.go:608] "First token received" requestID="e349ad16-f5e2-4571-8e8e-c57badaf3d46" ttft_ms=285
I0305 23:26:08.068504       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7489be7b, selectedpod, 10.0.3.38:8000, ttft, 239, tpot, 18, e2e, 410, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:08.068517       1 gateway.go:748] "Request completed" requestID="8af88558-a213-45cf-a3f2-8b4a742172e7" targetPod="10.0.3.38:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:08.068528       1 gateway.go:764] "HandleResponseBody completed" requestID="8af88558-a213-45cf-a3f2-8b4a742172e7" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:08.075747       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4cd6a1c1-d1ea-48f0-b8cc-47e56093adcd"
I0305 23:26:08.075823       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ef71d944-6ddd-4212-ab7a-76a73174968f"
I0305 23:26:08.076051       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ef71d944-6ddd-4212-ab7a-76a73174968f" model="qwen2-5-7b-instruct"
I0305 23:26:08.076122       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:08.076129       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.076132       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.076162       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.076176       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:08.076181       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.114043       1 gateway.go:329] "-- In RequestBody processing ..." requestID="66ef7f0d-2bb2-4b29-aed2-d53f2be46ce9"
I0305 23:26:08.114276       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="66ef7f0d-2bb2-4b29-aed2-d53f2be46ce9" model="qwen2-5-7b-instruct"
I0305 23:26:08.118310       1 gateway.go:608] "First token received" requestID="a029cd48-846f-4339-ae53-6a9feb627577" ttft_ms=1162
I0305 23:26:08.124387       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 7596
I0305 23:26:08.124404       1 tree.go:471] Updated node(0) last access: 115.4285 seconds
I0305 23:26:08.124410       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.124415       1 tree.go:471] Updated node(2) last access: 115.4285 seconds
I0305 23:26:08.124427       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:08.124431       1 tree.go:471] Updated node(11) last access: 115.4285 seconds
I0305 23:26:08.124451       1 tree.go:667] Split complete - New node(40)
I0305 23:26:08.124457       1 tree.go:668] Split complete - Child node(15)
I0305 23:26:08.124462       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:08.124468       1 tree.go:471] Updated node(40) last access: 115.4285 seconds
I0305 23:26:08.124474       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:08.124481       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 23:26:08.124489       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:08.124498       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:08.124507       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.124483285 +0000 UTC m=+115.546554822]
I0305 23:26:08.124525       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7481, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:08.124536       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:08.124569       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7481
I0305 23:26:08.124583       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:08.124594       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.124603       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.124610       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.124614       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.124619       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.124630       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.124639       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:08.124649       1 prefix_cache_and_load.go:584] latency, Route, 0.0485
I0305 23:26:08.124669       1 gateway.go:415] latency, selectTargetPod, 0.0485, target pod, 10.0.1.25:8000
I0305 23:26:08.124683       1 gateway.go:235] latency, HandleRequestBody, 0.0489
I0305 23:26:08.124712       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0103
I0305 23:26:08.124717       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.124721       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.124754       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.124767       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:08.124774       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.129839       1 gateway.go:207] "Processing request" requestID="5483349f-58b2-4176-90db-043b96317797"
I0305 23:26:08.129866       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5483349f-58b2-4176-90db-043b96317797"
I0305 23:26:08.129875       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:08.137206       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1606a800-c9af-4227-8f86-27d8b5f111f2"
I0305 23:26:08.137419       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1606a800-c9af-4227-8f86-27d8b5f111f2" model="qwen2-5-7b-instruct"
I0305 23:26:08.144594       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ef71d944-6ddd-4212-ab7a-76a73174968f"
I0305 23:26:08.151196       1 gateway.go:562] latency, 0.0000, summary, hash(request), 329aa8ee, selectedpod, 10.0.1.53:8000, ttft, 239, tpot, 19, e2e, 415, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 23:26:08.151216       1 gateway.go:748] "Request completed" requestID="0fbf2159-df6b-4e15-9d89-d182e8c00d9f" targetPod="10.0.1.53:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 23:26:08.151228       1 gateway.go:764] "HandleResponseBody completed" requestID="0fbf2159-df6b-4e15-9d89-d182e8c00d9f" promptTokens=7613 completionTokens=10 stream=true
I0305 23:26:08.175863       1 gateway.go:608] "First token received" requestID="7da775dc-beea-480d-b013-865c5bc3ba03" ttft_ms=616
I0305 23:26:08.175878       1 gateway.go:608] "First token received" requestID="4cd6a1c1-d1ea-48f0-b8cc-47e56093adcd" ttft_ms=183
I0305 23:26:08.180528       1 gateway.go:608] "First token received" requestID="ef71d944-6ddd-4212-ab7a-76a73174968f" ttft_ms=104
I0305 23:26:08.221018       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0962, numInputTokens, 7596
I0305 23:26:08.221042       1 tree.go:471] Updated node(0) last access: 115.5251 seconds
I0305 23:26:08.221051       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.221056       1 tree.go:471] Updated node(2) last access: 115.5251 seconds
I0305 23:26:08.221073       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:08.221079       1 tree.go:471] Updated node(19) last access: 115.5251 seconds
I0305 23:26:08.221092       1 tree.go:667] Split complete - New node(42)
I0305 23:26:08.221098       1 tree.go:668] Split complete - Child node(31)
I0305 23:26:08.221105       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:08.221113       1 tree.go:471] Updated node(42) last access: 115.5252 seconds
I0305 23:26:08.221120       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:08.221126       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 23:26:08.221134       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:08.221143       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:08.221150       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.221128963 +0000 UTC m=+115.643200503]
I0305 23:26:08.221170       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7480, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:08.221181       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:08.221213       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7480
I0305 23:26:08.221227       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:08.221239       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.221246       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.221249       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.221259       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.221268       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.221281       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.221295       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:08.221312       1 prefix_cache_and_load.go:584] latency, Route, 0.1069
I0305 23:26:08.221333       1 gateway.go:415] latency, selectTargetPod, 0.1070, target pod, 10.0.0.4:8000
I0305 23:26:08.221348       1 gateway.go:235] latency, HandleRequestBody, 0.1073
I0305 23:26:08.221384       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0839
I0305 23:26:08.221392       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.221396       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.221430       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.221455       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:08.221462       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.235292       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90a27b07, selectedpod, 10.0.1.20:8000, ttft, 285, tpot, 19, e2e, 459, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:08.235312       1 gateway.go:748] "Request completed" requestID="e349ad16-f5e2-4571-8e8e-c57badaf3d46" targetPod="10.0.1.20:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:08.235323       1 gateway.go:764] "HandleResponseBody completed" requestID="e349ad16-f5e2-4571-8e8e-c57badaf3d46" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:08.240497       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="66ef7f0d-2bb2-4b29-aed2-d53f2be46ce9"
I0305 23:26:08.276005       1 gateway.go:608] "First token received" requestID="66ef7f0d-2bb2-4b29-aed2-d53f2be46ce9" ttft_ms=161
I0305 23:26:08.279667       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0582, numInputTokens, 7602
I0305 23:26:08.279686       1 tree.go:471] Updated node(0) last access: 115.5837 seconds
I0305 23:26:08.279693       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.279695       1 tree.go:471] Updated node(2) last access: 115.5838 seconds
I0305 23:26:08.279714       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7598 tokens:
I0305 23:26:08.279720       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 23:26:08.279725       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:08.279732       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 23:26:08.279738       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.279721582 +0000 UTC m=+115.701793116]
I0305 23:26:08.279753       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 23:26:08.279762       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 23:26:08.279767       1 prefix_cache_and_load.go:226] numTokens: 122, contextLength: 7600, targetGPU: V100
I0305 23:26:08.279772       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279777       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279783       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:08.279785       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279789       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279794       1 prefix_cache_and_load.go:226] numTokens: 115, contextLength: 7596, targetGPU: V100
I0305 23:26:08.279796       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279799       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0151) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279805       1 prefix_cache_and_load.go:226] numTokens: 113, contextLength: 7591, targetGPU: V100
I0305 23:26:08.279807       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279811       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279814       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 7602, targetGPU: V100
I0305 23:26:08.279817       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279820       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279825       1 prefix_cache_and_load.go:226] numTokens: 118, contextLength: 7596, targetGPU: V100
I0305 23:26:08.279828       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279831       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0155) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279837       1 prefix_cache_and_load.go:226] numTokens: 122, contextLength: 7600, targetGPU: V100
I0305 23:26:08.279840       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279843       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0161) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279849       1 prefix_cache_and_load.go:226] numTokens: 118, contextLength: 7599, targetGPU: V100
I0305 23:26:08.279851       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279854       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279858       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 23:26:08.279860       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279863       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279870       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7596, targetGPU: V100
I0305 23:26:08.279872       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279876       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0155) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279880       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7596, targetGPU: V100
I0305 23:26:08.279882       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279885       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0153) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279890       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:08.279892       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279895       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(1.0000) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279899       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:08.279902       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279906       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279910       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:08.279912       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279915       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279919       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7594, targetGPU: V100
I0305 23:26:08.279922       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279925       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279929       1 prefix_cache_and_load.go:226] numTokens: 114, contextLength: 7594, targetGPU: V100
I0305 23:26:08.279933       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279944       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0150) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279949       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:08.279952       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279955       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279960       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:08.279962       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279965       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279969       1 prefix_cache_and_load.go:226] numTokens: 120, contextLength: 7598, targetGPU: V100
I0305 23:26:08.279972       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279976       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0158) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279980       1 prefix_cache_and_load.go:226] numTokens: 125, contextLength: 7603, targetGPU: V100
I0305 23:26:08.279982       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279985       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279990       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 23:26:08.279992       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.279995       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.279999       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 7602, targetGPU: V100
I0305 23:26:08.280001       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.280005       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0163) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.280009       1 prefix_cache_and_load.go:226] numTokens: 122, contextLength: 7600, targetGPU: V100
I0305 23:26:08.280012       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.280015       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0161) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.280018       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 23:26:08.280021       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.280024       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.280027       1 prefix_cache_and_load.go:226] numTokens: 115, contextLength: 7594, targetGPU: V100
I0305 23:26:08.280030       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.280037       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0151) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.280041       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:08.280043       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.280046       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.280050       1 prefix_cache_and_load.go:226] numTokens: 115, contextLength: 7595, targetGPU: V100
I0305 23:26:08.280052       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.280055       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0154) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.280058       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 23:26:08.280061       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.280065       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.280068       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 7603, targetGPU: V100
I0305 23:26:08.280070       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 23:26:08.280073       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0164) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 23:26:08.280081       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-g94zx, Cost: 20.315319
I0305 23:26:08.280084       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-p679j, Cost: 27.128565
I0305 23:26:08.280086       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-nk25n, Cost: 33.817154
I0305 23:26:08.280088       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gvzzg, Cost: 33.817251
I0305 23:26:08.280090       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-s8z62, Cost: 13.564295
I0305 23:26:08.280092       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-hbwcf, Cost: 20.315278
I0305 23:26:08.280094       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-gp285, Cost: 13.564243
I0305 23:26:08.280096       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-7d76f8b9cb-kf696, Cost: 33.817310
I0305 23:26:08.280101       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-7d76f8b9cb-gp285
I0305 23:26:08.280109       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0003
I0305 23:26:08.280117       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.280123       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.280128       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.280136       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.280144       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:08.280157       1 prefix_cache_and_load.go:584] latency, Route, 0.1427
I0305 23:26:08.280166       1 gateway.go:415] latency, selectTargetPod, 0.1427, target pod, 10.0.3.13:8000
I0305 23:26:08.280175       1 gateway.go:235] latency, HandleRequestBody, 0.1430
I0305 23:26:08.297218       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1606a800-c9af-4227-8f86-27d8b5f111f2"
I0305 23:26:08.299741       1 gateway.go:207] "Processing request" requestID="41d274ae-4ff4-4224-a194-0fa3969e0130"
I0305 23:26:08.299766       1 gateway.go:207] "Processing request" requestID="56121535-69b8-4bc2-b473-01916eefae85"
I0305 23:26:08.299772       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="41d274ae-4ff4-4224-a194-0fa3969e0130"
I0305 23:26:08.299781       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:08.299792       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="56121535-69b8-4bc2-b473-01916eefae85"
I0305 23:26:08.299802       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:08.300909       1 gateway.go:207] "Processing request" requestID="42566865-8836-4015-a409-5e583ca1d18f"
I0305 23:26:08.300927       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="42566865-8836-4015-a409-5e583ca1d18f"
I0305 23:26:08.300942       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:08.309977       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5483349f-58b2-4176-90db-043b96317797"
I0305 23:26:08.310198       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5483349f-58b2-4176-90db-043b96317797" model="qwen2-5-7b-instruct"
I0305 23:26:08.310271       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:08.310278       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.310281       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.310314       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.310327       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:08.310331       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.317888       1 gateway.go:207] "Processing request" requestID="cedf1dd0-9a3c-4d08-ac78-89e34a523860"
I0305 23:26:08.317916       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cedf1dd0-9a3c-4d08-ac78-89e34a523860"
I0305 23:26:08.317923       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:08.332806       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b25b4cad-386a-4d70-8af2-29dad25219aa"
I0305 23:26:08.333082       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b25b4cad-386a-4d70-8af2-29dad25219aa" model="qwen2-5-7b-instruct"
I0305 23:26:08.336661       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1ce06342-4f63-41b0-9473-bb05eba79ffe"
I0305 23:26:08.336882       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1ce06342-4f63-41b0-9473-bb05eba79ffe" model="qwen2-5-7b-instruct"
I0305 23:26:08.353268       1 gateway.go:562] latency, 0.0000, summary, hash(request), b95e3a68, selectedpod, 10.0.1.25:8000, ttft, 104, tpot, 19, e2e, 277, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:08.353288       1 gateway.go:748] "Request completed" requestID="ef71d944-6ddd-4212-ab7a-76a73174968f" targetPod="10.0.1.25:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:08.353300       1 gateway.go:764] "HandleResponseBody completed" requestID="ef71d944-6ddd-4212-ab7a-76a73174968f" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:08.359786       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0494, numInputTokens, 7593
I0305 23:26:08.359803       1 tree.go:471] Updated node(0) last access: 115.6639 seconds
I0305 23:26:08.359809       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.359814       1 tree.go:471] Updated node(2) last access: 115.6639 seconds
I0305 23:26:08.359827       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:08.359831       1 tree.go:471] Updated node(38) last access: 115.6639 seconds
I0305 23:26:08.359838       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:08.359845       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7593 tokens
I0305 23:26:08.359853       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 23:26:08.359863       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:08.359868       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.359847799 +0000 UTC m=+115.781919338]
I0305 23:26:08.359882       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7478, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:08.359891       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:08.359912       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:08.359923       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:08.359931       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.359944       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.359948       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.359954       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.359962       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.359971       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:08.359981       1 prefix_cache_and_load.go:584] latency, Route, 0.0497
I0305 23:26:08.359998       1 gateway.go:415] latency, selectTargetPod, 0.0497, target pod, 10.0.0.134:8000
I0305 23:26:08.360010       1 gateway.go:235] latency, HandleRequestBody, 0.0500
I0305 23:26:08.360036       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0269
I0305 23:26:08.360041       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.360045       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.360071       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.360085       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:08.360089       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.375790       1 gateway.go:562] latency, 0.0001, summary, hash(request), b9e451db, selectedpod, 10.0.0.134:8000, ttft, 616, tpot, 22, e2e, 816, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:08.375820       1 gateway.go:748] "Request completed" requestID="7da775dc-beea-480d-b013-865c5bc3ba03" targetPod="10.0.0.134:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:08.375818       1 gateway.go:562] latency, 0.0001, summary, hash(request), 4c91744d, selectedpod, 10.0.0.134:8000, ttft, 183, tpot, 22, e2e, 383, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:08.375834       1 gateway.go:764] "HandleResponseBody completed" requestID="7da775dc-beea-480d-b013-865c5bc3ba03" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:08.375855       1 gateway.go:748] "Request completed" requestID="4cd6a1c1-d1ea-48f0-b8cc-47e56093adcd" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:08.375875       1 gateway.go:764] "HandleResponseBody completed" requestID="4cd6a1c1-d1ea-48f0-b8cc-47e56093adcd" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:08.376043       1 gateway.go:562] latency, 0.0001, summary, hash(request), 19023eb8, selectedpod, 10.0.0.134:8000, ttft, 1162, tpot, 28, e2e, 1419, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:08.376077       1 gateway.go:748] "Request completed" requestID="a029cd48-846f-4339-ae53-6a9feb627577" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:08.376130       1 gateway.go:764] "HandleResponseBody completed" requestID="a029cd48-846f-4339-ae53-6a9feb627577" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:08.379497       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5483349f-58b2-4176-90db-043b96317797"
I0305 23:26:08.393652       1 gateway.go:329] "-- In RequestBody processing ..." requestID="42566865-8836-4015-a409-5e583ca1d18f"
I0305 23:26:08.393876       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="42566865-8836-4015-a409-5e583ca1d18f" model="qwen2-5-7b-instruct"
I0305 23:26:08.418020       1 gateway.go:608] "First token received" requestID="5483349f-58b2-4176-90db-043b96317797" ttft_ms=107
I0305 23:26:08.424560       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0645, numInputTokens, 7598
I0305 23:26:08.424579       1 tree.go:471] Updated node(0) last access: 115.7286 seconds
I0305 23:26:08.424585       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.424588       1 tree.go:471] Updated node(2) last access: 115.7286 seconds
I0305 23:26:08.424619       1 tree.go:667] Split complete - New node(46)
I0305 23:26:08.424624       1 tree.go:668] Split complete - Child node(44)
I0305 23:26:08.424628       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7594 tokens:
I0305 23:26:08.424634       1 tree.go:471] Updated node(46) last access: 115.7287 seconds
I0305 23:26:08.424639       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:08.424643       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:08.424649       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:08.424654       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:08.424658       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.42464522 +0000 UTC m=+115.846716755]
I0305 23:26:08.424672       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:08.424678       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:08.424702       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:08.424711       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:08.424719       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.424726       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.424731       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.424736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.424745       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.424754       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:08.424764       1 prefix_cache_and_load.go:584] latency, Route, 0.0916
I0305 23:26:08.424780       1 gateway.go:415] latency, selectTargetPod, 0.0916, target pod, 10.0.3.13:8000
I0305 23:26:08.424790       1 gateway.go:235] latency, HandleRequestBody, 0.0920
I0305 23:26:08.424820       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0879
I0305 23:26:08.424824       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.424828       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.424854       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.424866       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:08.424870       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.441236       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b25b4cad-386a-4d70-8af2-29dad25219aa"
I0305 23:26:08.448895       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d94fd2e, selectedpod, 10.0.0.4:8000, ttft, 161, tpot, 19, e2e, 334, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:08.448921       1 gateway.go:748] "Request completed" requestID="66ef7f0d-2bb2-4b29-aed2-d53f2be46ce9" targetPod="10.0.0.4:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:08.448931       1 gateway.go:764] "HandleResponseBody completed" requestID="66ef7f0d-2bb2-4b29-aed2-d53f2be46ce9" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:08.512498       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0876, numInputTokens, 7602
I0305 23:26:08.512517       1 tree.go:471] Updated node(0) last access: 115.8166 seconds
I0305 23:26:08.512524       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.512527       1 tree.go:471] Updated node(2) last access: 115.8166 seconds
I0305 23:26:08.512542       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:08.512547       1 tree.go:471] Updated node(33) last access: 115.8166 seconds
I0305 23:26:08.512561       1 tree.go:667] Split complete - New node(48)
I0305 23:26:08.512566       1 tree.go:668] Split complete - Child node(34)
I0305 23:26:08.512572       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 23:26:08.512579       1 tree.go:471] Updated node(48) last access: 115.8166 seconds
I0305 23:26:08.512586       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:08.512592       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:08.512600       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:08.512607       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:08.512616       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.512594787 +0000 UTC m=+115.934666321]
I0305 23:26:08.512637       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7481, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:08.512645       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:08.512673       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7481
I0305 23:26:08.512687       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:08.512695       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.512702       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.512709       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.512717       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.512722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.512730       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.512738       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:08.512753       1 prefix_cache_and_load.go:584] latency, Route, 0.1758
I0305 23:26:08.512770       1 gateway.go:415] latency, selectTargetPod, 0.1758, target pod, 10.0.3.38:8000
I0305 23:26:08.512797       1 gateway.go:235] latency, HandleRequestBody, 0.1761
I0305 23:26:08.512829       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1189
I0305 23:26:08.512833       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.512836       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.512877       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.512891       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:08.512896       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.529273       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1ce06342-4f63-41b0-9473-bb05eba79ffe"
I0305 23:26:08.562410       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0495, numInputTokens, 7597
I0305 23:26:08.562428       1 tree.go:471] Updated node(0) last access: 115.8665 seconds
I0305 23:26:08.562434       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.562438       1 tree.go:471] Updated node(2) last access: 115.8665 seconds
I0305 23:26:08.562462       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:08.562466       1 tree.go:471] Updated node(11) last access: 115.8665 seconds
I0305 23:26:08.562478       1 tree.go:667] Split complete - New node(50)
I0305 23:26:08.562484       1 tree.go:668] Split complete - Child node(6)
I0305 23:26:08.562491       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 23:26:08.562499       1 tree.go:471] Updated node(50) last access: 115.8666 seconds
I0305 23:26:08.562506       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 23:26:08.562511       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 23:26:08.562519       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:08.562529       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:08.562538       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.562513776 +0000 UTC m=+115.984585317]
I0305 23:26:08.562555       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7485, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 23:26:08.562565       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 23:26:08.562597       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7485
I0305 23:26:08.562607       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:08.562618       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.562626       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.562632       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.562638       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.562646       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.562657       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.562667       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:08.562680       1 prefix_cache_and_load.go:584] latency, Route, 0.1687
I0305 23:26:08.562692       1 gateway.go:415] latency, selectTargetPod, 0.1687, target pod, 10.0.1.25:8000
I0305 23:26:08.562705       1 gateway.go:235] latency, HandleRequestBody, 0.1691
I0305 23:26:08.572688       1 gateway.go:608] "First token received" requestID="1ce06342-4f63-41b0-9473-bb05eba79ffe" ttft_ms=235
I0305 23:26:08.574943       1 gateway.go:329] "-- In RequestBody processing ..." requestID="41d274ae-4ff4-4224-a194-0fa3969e0130"
I0305 23:26:08.575160       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="41d274ae-4ff4-4224-a194-0fa3969e0130" model="qwen2-5-7b-instruct"
I0305 23:26:08.575269       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:08.575275       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.575278       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.575317       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.575330       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:08.575334       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.583754       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="42566865-8836-4015-a409-5e583ca1d18f"
I0305 23:26:08.591499       1 gateway.go:562] latency, 0.0001, summary, hash(request), d7c7ec98, selectedpod, 10.0.0.134:8000, ttft, 107, tpot, 19, e2e, 281, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 23:26:08.591522       1 gateway.go:748] "Request completed" requestID="5483349f-58b2-4176-90db-043b96317797" targetPod="10.0.0.134:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 23:26:08.591535       1 gateway.go:764] "HandleResponseBody completed" requestID="5483349f-58b2-4176-90db-043b96317797" promptTokens=7612 completionTokens=10 stream=true
I0305 23:26:08.617460       1 gateway.go:329] "-- In RequestBody processing ..." requestID="56121535-69b8-4bc2-b473-01916eefae85"
I0305 23:26:08.617679       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="56121535-69b8-4bc2-b473-01916eefae85" model="qwen2-5-7b-instruct"
I0305 23:26:08.619271       1 gateway.go:608] "First token received" requestID="42566865-8836-4015-a409-5e583ca1d18f" ttft_ms=225
I0305 23:26:08.621244       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cedf1dd0-9a3c-4d08-ac78-89e34a523860"
I0305 23:26:08.621512       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cedf1dd0-9a3c-4d08-ac78-89e34a523860" model="qwen2-5-7b-instruct"
I0305 23:26:08.627247       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0519, numInputTokens, 7600
I0305 23:26:08.627265       1 tree.go:471] Updated node(0) last access: 115.9313 seconds
I0305 23:26:08.627271       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.627275       1 tree.go:471] Updated node(2) last access: 115.9313 seconds
I0305 23:26:08.627287       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:08.627291       1 tree.go:471] Updated node(29) last access: 115.9313 seconds
I0305 23:26:08.627297       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:08.627304       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:08.627311       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:08.627318       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:08.627324       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.627306546 +0000 UTC m=+116.049378081]
I0305 23:26:08.627339       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:08.627347       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:08.627369       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:08.627378       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:08.627388       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.627392       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.627397       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.627401       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.627412       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.627421       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:08.627434       1 prefix_cache_and_load.go:584] latency, Route, 0.0522
I0305 23:26:08.627476       1 gateway.go:415] latency, selectTargetPod, 0.0522, target pod, 10.0.0.134:8000
I0305 23:26:08.627491       1 gateway.go:235] latency, HandleRequestBody, 0.0526
I0305 23:26:08.627530       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0098
I0305 23:26:08.627540       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.627545       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.627602       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.627625       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:08.627631       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.646770       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="41d274ae-4ff4-4224-a194-0fa3969e0130"
I0305 23:26:08.655900       1 gateway.go:207] "Processing request" requestID="95ec01eb-6dd7-4f96-909e-a414c15a9a6f"
I0305 23:26:08.655907       1 gateway.go:207] "Processing request" requestID="ba64f956-f189-40ba-ba9e-d2b42e91bcc2"
I0305 23:26:08.655920       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="95ec01eb-6dd7-4f96-909e-a414c15a9a6f"
I0305 23:26:08.655928       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:08.655941       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ba64f956-f189-40ba-ba9e-d2b42e91bcc2"
I0305 23:26:08.655950       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:08.670424       1 gateway.go:329] "-- In RequestBody processing ..." requestID="95ec01eb-6dd7-4f96-909e-a414c15a9a6f"
I0305 23:26:08.670686       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="95ec01eb-6dd7-4f96-909e-a414c15a9a6f" model="qwen2-5-7b-instruct"
I0305 23:26:08.670809       1 gateway.go:207] "Processing request" requestID="34d1fc46-b878-4130-9bcd-fba550c45a11"
I0305 23:26:08.670833       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="34d1fc46-b878-4130-9bcd-fba550c45a11"
I0305 23:26:08.670842       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:08.678419       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ba64f956-f189-40ba-ba9e-d2b42e91bcc2"
I0305 23:26:08.678637       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ba64f956-f189-40ba-ba9e-d2b42e91bcc2" model="qwen2-5-7b-instruct"
I0305 23:26:08.689621       1 gateway.go:608] "First token received" requestID="41d274ae-4ff4-4224-a194-0fa3969e0130" ttft_ms=114
I0305 23:26:08.708991       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0814, numInputTokens, 7598
I0305 23:26:08.709008       1 tree.go:471] Updated node(0) last access: 116.0131 seconds
I0305 23:26:08.709014       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.709018       1 tree.go:471] Updated node(2) last access: 116.0131 seconds
I0305 23:26:08.709030       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:08.709035       1 tree.go:471] Updated node(33) last access: 116.0131 seconds
I0305 23:26:08.709038       1 tree.go:490] Partial tokens match child node(48). Continue to go deeper in the radix tree
I0305 23:26:08.709041       1 tree.go:471] Updated node(48) last access: 116.0131 seconds
I0305 23:26:08.709048       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 23:26:08.709054       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 23:26:08.709062       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:08.709069       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:08.709075       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.709056633 +0000 UTC m=+116.131128166]
I0305 23:26:08.709091       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 23:26:08.709098       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 23:26:08.709125       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7481
I0305 23:26:08.709134       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:08.709143       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.709149       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.709154       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.709158       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.709163       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.709171       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.709179       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:08.709189       1 prefix_cache_and_load.go:584] latency, Route, 0.0914
I0305 23:26:08.709205       1 gateway.go:415] latency, selectTargetPod, 0.0914, target pod, 10.0.3.38:8000
I0305 23:26:08.709218       1 gateway.go:235] latency, HandleRequestBody, 0.0918
I0305 23:26:08.709223       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0876
I0305 23:26:08.709238       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.709244       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.709304       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.709365       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:08.709373       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.725671       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="56121535-69b8-4bc2-b473-01916eefae85"
I0305 23:26:08.775577       1 gateway.go:562] latency, 0.0000, summary, hash(request), f3351890, selectedpod, 10.0.3.38:8000, ttft, 235, tpot, 22, e2e, 438, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:08.775610       1 gateway.go:748] "Request completed" requestID="1ce06342-4f63-41b0-9473-bb05eba79ffe" targetPod="10.0.3.38:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:08.775623       1 gateway.go:764] "HandleResponseBody completed" requestID="1ce06342-4f63-41b0-9473-bb05eba79ffe" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:08.785700       1 gateway.go:608] "First token received" requestID="56121535-69b8-4bc2-b473-01916eefae85" ttft_ms=168
I0305 23:26:08.792232       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0829, numInputTokens, 7599
I0305 23:26:08.792250       1 tree.go:471] Updated node(0) last access: 116.0963 seconds
I0305 23:26:08.792256       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.792262       1 tree.go:471] Updated node(2) last access: 116.0963 seconds
I0305 23:26:08.792278       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:08.792284       1 tree.go:471] Updated node(21) last access: 116.0963 seconds
I0305 23:26:08.792289       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:08.792294       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:08.792300       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:08.792305       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:08.792310       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.792295816 +0000 UTC m=+116.214367350]
I0305 23:26:08.792325       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:08.792331       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:08.792372       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7478
I0305 23:26:08.792385       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:08.792392       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.792399       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.792405       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.792409       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.792418       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.792430       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:08.792440       1 prefix_cache_and_load.go:584] latency, Route, 0.1708
I0305 23:26:08.792464       1 gateway.go:415] latency, selectTargetPod, 0.1709, target pod, 10.0.0.39:8000
I0305 23:26:08.792479       1 gateway.go:235] latency, HandleRequestBody, 0.1712
I0305 23:26:08.792513       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1218
I0305 23:26:08.792517       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.792520       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.792563       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.792580       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:08.792586       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.794920       1 gateway.go:562] latency, 0.0001, summary, hash(request), 05ff8b0a, selectedpod, 10.0.1.25:8000, ttft, 225, tpot, 19, e2e, 401, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:08.794948       1 gateway.go:748] "Request completed" requestID="42566865-8836-4015-a409-5e583ca1d18f" targetPod="10.0.1.25:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:08.794960       1 gateway.go:764] "HandleResponseBody completed" requestID="42566865-8836-4015-a409-5e583ca1d18f" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:08.812136       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cedf1dd0-9a3c-4d08-ac78-89e34a523860"
I0305 23:26:08.827172       1 gateway.go:207] "Processing request" requestID="22d3f5bc-abb3-43d5-a8bd-d2c41c793b87"
I0305 23:26:08.827198       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="22d3f5bc-abb3-43d5-a8bd-d2c41c793b87"
I0305 23:26:08.827208       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:08.829893       1 gateway.go:329] "-- In RequestBody processing ..." requestID="22d3f5bc-abb3-43d5-a8bd-d2c41c793b87"
I0305 23:26:08.830227       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="22d3f5bc-abb3-43d5-a8bd-d2c41c793b87" model="qwen2-5-7b-instruct"
I0305 23:26:08.839864       1 gateway.go:207] "Processing request" requestID="ed50e54e-a4e2-4270-829e-2929b09db4a6"
I0305 23:26:08.839896       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ed50e54e-a4e2-4270-829e-2929b09db4a6"
I0305 23:26:08.839905       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:08.842585       1 gateway.go:329] "-- In RequestBody processing ..." requestID="34d1fc46-b878-4130-9bcd-fba550c45a11"
I0305 23:26:08.842791       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="34d1fc46-b878-4130-9bcd-fba550c45a11" model="qwen2-5-7b-instruct"
I0305 23:26:08.844287       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0517, numInputTokens, 7597
I0305 23:26:08.844304       1 tree.go:471] Updated node(0) last access: 116.1484 seconds
I0305 23:26:08.844310       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.844314       1 tree.go:471] Updated node(2) last access: 116.1484 seconds
I0305 23:26:08.844326       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:08.844331       1 tree.go:471] Updated node(19) last access: 116.1484 seconds
I0305 23:26:08.844337       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 23:26:08.844342       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 23:26:08.844349       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:08.844356       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:08.844362       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.844344853 +0000 UTC m=+116.266416388]
I0305 23:26:08.844378       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 23:26:08.844385       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 23:26:08.844409       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7478
I0305 23:26:08.844417       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:08.844426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.844432       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.844437       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.844451       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.844460       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.844471       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:08.844483       1 prefix_cache_and_load.go:584] latency, Route, 0.1737
I0305 23:26:08.844499       1 gateway.go:415] latency, selectTargetPod, 0.1737, target pod, 10.0.0.4:8000
I0305 23:26:08.844510       1 gateway.go:235] latency, HandleRequestBody, 0.1741
I0305 23:26:08.844538       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1658
I0305 23:26:08.844542       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.844545       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.844577       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.844590       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:08.844594       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.851560       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ed50e54e-a4e2-4270-829e-2929b09db4a6"
I0305 23:26:08.851789       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ed50e54e-a4e2-4270-829e-2929b09db4a6" model="qwen2-5-7b-instruct"
I0305 23:26:08.856184       1 gateway.go:608] "First token received" requestID="cedf1dd0-9a3c-4d08-ac78-89e34a523860" ttft_ms=234
I0305 23:26:08.862880       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="95ec01eb-6dd7-4f96-909e-a414c15a9a6f"
I0305 23:26:08.862986       1 gateway.go:562] latency, 0.0000, summary, hash(request), 043b2f90, selectedpod, 10.0.0.134:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:08.862999       1 gateway.go:748] "Request completed" requestID="41d274ae-4ff4-4224-a194-0fa3969e0130" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:08.863007       1 gateway.go:764] "HandleResponseBody completed" requestID="41d274ae-4ff4-4224-a194-0fa3969e0130" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:08.905806       1 gateway.go:608] "First token received" requestID="95ec01eb-6dd7-4f96-909e-a414c15a9a6f" ttft_ms=235
I0305 23:26:08.922022       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0774, numInputTokens, 7599
I0305 23:26:08.922039       1 tree.go:471] Updated node(0) last access: 116.2261 seconds
I0305 23:26:08.922046       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:08.922049       1 tree.go:471] Updated node(2) last access: 116.2261 seconds
I0305 23:26:08.922064       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:08.922067       1 tree.go:471] Updated node(46) last access: 116.2261 seconds
I0305 23:26:08.922073       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:08.922078       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:08.922084       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:08.922088       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 23:26:08.922093       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:08.922079866 +0000 UTC m=+116.344151401]
I0305 23:26:08.922109       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:08.922115       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:08.922141       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:08.922150       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:08.922157       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.922164       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.922168       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.922175       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:08.922183       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:08.922192       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:08.922202       1 prefix_cache_and_load.go:584] latency, Route, 0.2435
I0305 23:26:08.922215       1 gateway.go:415] latency, selectTargetPod, 0.2435, target pod, 10.0.3.13:8000
I0305 23:26:08.922225       1 gateway.go:235] latency, HandleRequestBody, 0.2438
I0305 23:26:08.922259       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0919
I0305 23:26:08.922264       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:08.922266       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:08.922304       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:08.922316       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:08.922321       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:08.939153       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ba64f956-f189-40ba-ba9e-d2b42e91bcc2"
I0305 23:26:08.959073       1 gateway.go:562] latency, 0.0001, summary, hash(request), 90ca1194, selectedpod, 10.0.3.38:8000, ttft, 168, tpot, 19, e2e, 341, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:08.959094       1 gateway.go:748] "Request completed" requestID="56121535-69b8-4bc2-b473-01916eefae85" targetPod="10.0.3.38:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:08.959103       1 gateway.go:764] "HandleResponseBody completed" requestID="56121535-69b8-4bc2-b473-01916eefae85" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:08.968923       1 gateway.go:207] "Processing request" requestID="3ed24eb6-3093-4c31-91f3-bdfbbb559946"
I0305 23:26:08.968951       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3ed24eb6-3093-4c31-91f3-bdfbbb559946"
I0305 23:26:08.968962       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:08.995322       1 gateway.go:207] "Processing request" requestID="79d26775-3e7b-41b9-bbcf-00e99df3e3a4"
I0305 23:26:08.995350       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="79d26775-3e7b-41b9-bbcf-00e99df3e3a4"
I0305 23:26:08.995358       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:08.997600       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3ed24eb6-3093-4c31-91f3-bdfbbb559946"
I0305 23:26:08.997801       1 gateway.go:329] "-- In RequestBody processing ..." requestID="79d26775-3e7b-41b9-bbcf-00e99df3e3a4"
I0305 23:26:08.997818       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3ed24eb6-3093-4c31-91f3-bdfbbb559946" model="qwen2-5-7b-instruct"
I0305 23:26:08.998016       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="79d26775-3e7b-41b9-bbcf-00e99df3e3a4" model="qwen2-5-7b-instruct"
I0305 23:26:09.009635       1 gateway.go:207] "Processing request" requestID="f1220603-d4c9-4104-bd7d-d13af035308b"
I0305 23:26:09.009657       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f1220603-d4c9-4104-bd7d-d13af035308b"
I0305 23:26:09.009667       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.009970       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0876, numInputTokens, 7601
I0305 23:26:09.009991       1 tree.go:471] Updated node(0) last access: 116.3140 seconds
I0305 23:26:09.009997       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.010001       1 tree.go:471] Updated node(2) last access: 116.3141 seconds
I0305 23:26:09.010014       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:09.010018       1 tree.go:471] Updated node(11) last access: 116.3141 seconds
I0305 23:26:09.010022       1 tree.go:490] Partial tokens match child node(13). Continue to go deeper in the radix tree
I0305 23:26:09.010025       1 tree.go:471] Updated node(13) last access: 116.3141 seconds
I0305 23:26:09.010034       1 tree.go:667] Split complete - New node(57)
I0305 23:26:09.010039       1 tree.go:668] Split complete - Child node(12)
I0305 23:26:09.010045       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 23:26:09.010050       1 tree.go:471] Updated node(57) last access: 116.3141 seconds
I0305 23:26:09.010055       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 23:26:09.010060       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:09.010067       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:09.010072       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.010076       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.010062852 +0000 UTC m=+116.432134387]
I0305 23:26:09.010090       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7484, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 23:26:09.010097       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 23:26:09.010121       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7484
I0305 23:26:09.010131       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.010140       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.010147       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.010152       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.010155       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.010159       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.010163       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.010171       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.010181       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:09.010189       1 prefix_cache_and_load.go:584] latency, Route, 0.1799
I0305 23:26:09.010202       1 gateway.go:415] latency, selectTargetPod, 0.1799, target pod, 10.0.1.25:8000
I0305 23:26:09.010213       1 gateway.go:235] latency, HandleRequestBody, 0.1803
I0305 23:26:09.010242       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1673
I0305 23:26:09.010247       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.010250       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.010279       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.010291       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:09.010296       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.028978       1 gateway.go:562] latency, 0.0000, summary, hash(request), ce738e63, selectedpod, 10.0.0.39:8000, ttft, 234, tpot, 19, e2e, 407, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:09.028995       1 gateway.go:748] "Request completed" requestID="cedf1dd0-9a3c-4d08-ac78-89e34a523860" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:09.029004       1 gateway.go:764] "HandleResponseBody completed" requestID="cedf1dd0-9a3c-4d08-ac78-89e34a523860" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:09.029675       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="22d3f5bc-abb3-43d5-a8bd-d2c41c793b87"
I0305 23:26:09.058139       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0478, numInputTokens, 7599
I0305 23:26:09.058155       1 tree.go:471] Updated node(0) last access: 116.3622 seconds
I0305 23:26:09.058160       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.058163       1 tree.go:471] Updated node(2) last access: 116.3622 seconds
I0305 23:26:09.058177       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:09.058180       1 tree.go:471] Updated node(23) last access: 116.3622 seconds
I0305 23:26:09.058186       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:09.058189       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:09.058195       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:09.058200       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 23:26:09.058205       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.058191583 +0000 UTC m=+116.480263119]
I0305 23:26:09.058220       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:09.058226       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:09.058252       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:09.058259       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.058268       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.058275       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.058278       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.058282       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.058292       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.058299       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:09.058307       1 prefix_cache_and_load.go:584] latency, Route, 0.2154
I0305 23:26:09.058320       1 gateway.go:415] latency, selectTargetPod, 0.2154, target pod, 10.0.3.13:8000
I0305 23:26:09.058331       1 gateway.go:235] latency, HandleRequestBody, 0.2157
I0305 23:26:09.058353       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2065
I0305 23:26:09.058358       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.058361       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.058404       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.058417       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:09.058422       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.064858       1 gateway.go:608] "First token received" requestID="22d3f5bc-abb3-43d5-a8bd-d2c41c793b87" ttft_ms=234
I0305 23:26:09.074724       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="34d1fc46-b878-4130-9bcd-fba550c45a11"
I0305 23:26:09.078753       1 gateway.go:562] latency, 0.0000, summary, hash(request), a4ae5f3d, selectedpod, 10.0.0.4:8000, ttft, 235, tpot, 19, e2e, 408, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:09.078780       1 gateway.go:748] "Request completed" requestID="95ec01eb-6dd7-4f96-909e-a414c15a9a6f" targetPod="10.0.0.4:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:09.078795       1 gateway.go:764] "HandleResponseBody completed" requestID="95ec01eb-6dd7-4f96-909e-a414c15a9a6f" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:09.104455       1 gateway.go:207] "Processing request" requestID="465b90a4-1904-4dad-8143-9c265b8abc0d"
I0305 23:26:09.104479       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="465b90a4-1904-4dad-8143-9c265b8abc0d"
I0305 23:26:09.104487       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.111231       1 gateway.go:329] "-- In RequestBody processing ..." requestID="465b90a4-1904-4dad-8143-9c265b8abc0d"
I0305 23:26:09.111435       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="465b90a4-1904-4dad-8143-9c265b8abc0d" model="qwen2-5-7b-instruct"
I0305 23:26:09.122485       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0641, numInputTokens, 7602
I0305 23:26:09.122501       1 tree.go:471] Updated node(0) last access: 116.4266 seconds
I0305 23:26:09.122507       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.122510       1 tree.go:471] Updated node(2) last access: 116.4266 seconds
I0305 23:26:09.122522       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:09.122527       1 tree.go:471] Updated node(33) last access: 116.4266 seconds
I0305 23:26:09.122531       1 tree.go:490] Partial tokens match child node(48). Continue to go deeper in the radix tree
I0305 23:26:09.122534       1 tree.go:471] Updated node(48) last access: 116.4266 seconds
I0305 23:26:09.122542       1 tree.go:667] Split complete - New node(60)
I0305 23:26:09.122546       1 tree.go:668] Split complete - Child node(49)
I0305 23:26:09.122551       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 23:26:09.122555       1 tree.go:471] Updated node(60) last access: 116.4266 seconds
I0305 23:26:09.122563       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:09.122568       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:09.122576       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:09.122581       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.122587       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.122571897 +0000 UTC m=+116.544643432]
I0305 23:26:09.122599       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7484, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:09.122606       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:09.122639       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7484
I0305 23:26:09.122652       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.122664       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.122672       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.122680       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.122686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.122696       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.122705       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.122720       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.122734       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:09.122747       1 prefix_cache_and_load.go:584] latency, Route, 0.2709
I0305 23:26:09.122764       1 gateway.go:415] latency, selectTargetPod, 0.2709, target pod, 10.0.3.38:8000
I0305 23:26:09.122778       1 gateway.go:235] latency, HandleRequestBody, 0.2712
I0305 23:26:09.122804       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1249
I0305 23:26:09.122809       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.122812       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.122848       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.122866       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:09.122871       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.135480       1 gateway.go:207] "Processing request" requestID="af1cf46f-00b1-47a6-b749-4b360b3149e3"
I0305 23:26:09.135512       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="af1cf46f-00b1-47a6-b749-4b360b3149e3"
I0305 23:26:09.135519       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.136352       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f1220603-d4c9-4104-bd7d-d13af035308b"
I0305 23:26:09.136587       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f1220603-d4c9-4104-bd7d-d13af035308b" model="qwen2-5-7b-instruct"
I0305 23:26:09.138360       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ed50e54e-a4e2-4270-829e-2929b09db4a6"
I0305 23:26:09.163372       1 gateway.go:207] "Processing request" requestID="7b02a248-6394-47b5-8f92-4f84fe9a36ff"
I0305 23:26:09.163394       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7b02a248-6394-47b5-8f92-4f84fe9a36ff"
I0305 23:26:09.163402       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.170480       1 gateway.go:329] "-- In RequestBody processing ..." requestID="af1cf46f-00b1-47a6-b749-4b360b3149e3"
I0305 23:26:09.170694       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="af1cf46f-00b1-47a6-b749-4b360b3149e3" model="qwen2-5-7b-instruct"
I0305 23:26:09.173986       1 gateway.go:608] "First token received" requestID="ed50e54e-a4e2-4270-829e-2929b09db4a6" ttft_ms=322
I0305 23:26:09.176931       1 gateway.go:207] "Processing request" requestID="a13b47b7-bbee-439a-8ed8-c74bcdc2a658"
I0305 23:26:09.176959       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a13b47b7-bbee-439a-8ed8-c74bcdc2a658"
I0305 23:26:09.176968       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.188233       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7b02a248-6394-47b5-8f92-4f84fe9a36ff"
I0305 23:26:09.188563       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7b02a248-6394-47b5-8f92-4f84fe9a36ff" model="qwen2-5-7b-instruct"
I0305 23:26:09.192148       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0693, numInputTokens, 7601
I0305 23:26:09.192166       1 tree.go:471] Updated node(0) last access: 116.4962 seconds
I0305 23:26:09.192172       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.192175       1 tree.go:471] Updated node(2) last access: 116.4962 seconds
I0305 23:26:09.192189       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:09.192192       1 tree.go:471] Updated node(33) last access: 116.4962 seconds
I0305 23:26:09.192196       1 tree.go:490] Partial tokens match child node(48). Continue to go deeper in the radix tree
I0305 23:26:09.192198       1 tree.go:471] Updated node(48) last access: 116.4963 seconds
I0305 23:26:09.192208       1 tree.go:667] Split complete - New node(62)
I0305 23:26:09.192213       1 tree.go:668] Split complete - Child node(34)
I0305 23:26:09.192217       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 23:26:09.192221       1 tree.go:471] Updated node(62) last access: 116.4963 seconds
I0305 23:26:09.192225       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:09.192230       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:09.192236       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:09.192240       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.192245       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.192232232 +0000 UTC m=+116.614303767]
I0305 23:26:09.192261       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7485, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:09.192267       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:09.192298       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7485
I0305 23:26:09.192309       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.192320       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.192327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.192334       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.192340       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.192345       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.192352       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.192365       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.192378       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:09.192393       1 prefix_cache_and_load.go:584] latency, Route, 0.1945
I0305 23:26:09.192411       1 gateway.go:415] latency, selectTargetPod, 0.1945, target pod, 10.0.3.38:8000
I0305 23:26:09.192424       1 gateway.go:235] latency, HandleRequestBody, 0.1948
I0305 23:26:09.192429       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1943
I0305 23:26:09.192455       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.192463       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.192517       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.192538       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:09.192545       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.207865       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3ed24eb6-3093-4c31-91f3-bdfbbb559946"
I0305 23:26:09.237414       1 gateway.go:562] latency, 0.0000, summary, hash(request), a6e255ae, selectedpod, 10.0.1.25:8000, ttft, 234, tpot, 19, e2e, 407, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:09.237437       1 gateway.go:748] "Request completed" requestID="22d3f5bc-abb3-43d5-a8bd-d2c41c793b87" targetPod="10.0.1.25:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:09.237461       1 gateway.go:764] "HandleResponseBody completed" requestID="22d3f5bc-abb3-43d5-a8bd-d2c41c793b87" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:09.245774       1 gateway.go:608] "First token received" requestID="3ed24eb6-3093-4c31-91f3-bdfbbb559946" ttft_ms=248
I0305 23:26:09.271529       1 gateway.go:207] "Processing request" requestID="c7bac82c-20f1-41ce-9384-aba0564fe3af"
I0305 23:26:09.271552       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c7bac82c-20f1-41ce-9384-aba0564fe3af"
I0305 23:26:09.271561       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.275493       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a13b47b7-bbee-439a-8ed8-c74bcdc2a658"
I0305 23:26:09.275708       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a13b47b7-bbee-439a-8ed8-c74bcdc2a658" model="qwen2-5-7b-instruct"
I0305 23:26:09.275813       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0833, numInputTokens, 7602
I0305 23:26:09.275830       1 tree.go:471] Updated node(0) last access: 116.5799 seconds
I0305 23:26:09.275838       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.275842       1 tree.go:471] Updated node(2) last access: 116.5799 seconds
I0305 23:26:09.275858       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:09.275863       1 tree.go:471] Updated node(4) last access: 116.5799 seconds
I0305 23:26:09.275877       1 tree.go:667] Split complete - New node(64)
I0305 23:26:09.275882       1 tree.go:668] Split complete - Child node(5)
I0305 23:26:09.275888       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 23:26:09.275894       1 tree.go:471] Updated node(64) last access: 116.5799 seconds
I0305 23:26:09.275900       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:09.275905       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:09.275915       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:09.275922       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.275930       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.275909252 +0000 UTC m=+116.697980790]
I0305 23:26:09.275953       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7482, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:09.275965       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:09.275997       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7482
I0305 23:26:09.276006       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.276015       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.276024       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.276031       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.276039       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.276045       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.276057       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.276071       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:09.276084       1 prefix_cache_and_load.go:584] latency, Route, 0.2780
I0305 23:26:09.276103       1 gateway.go:415] latency, selectTargetPod, 0.2780, target pod, 10.0.1.20:8000
I0305 23:26:09.276115       1 gateway.go:235] latency, HandleRequestBody, 0.2783
I0305 23:26:09.276149       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1646
I0305 23:26:09.276156       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.276159       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.276198       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.276214       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:09.276220       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.296687       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="79d26775-3e7b-41b9-bbcf-00e99df3e3a4"
I0305 23:26:09.328811       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0526, numInputTokens, 7602
I0305 23:26:09.328830       1 tree.go:471] Updated node(0) last access: 116.6329 seconds
I0305 23:26:09.328837       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.328840       1 tree.go:471] Updated node(2) last access: 116.6329 seconds
I0305 23:26:09.328854       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:09.328859       1 tree.go:471] Updated node(19) last access: 116.6329 seconds
I0305 23:26:09.328869       1 tree.go:667] Split complete - New node(66)
I0305 23:26:09.328874       1 tree.go:668] Split complete - Child node(55)
I0305 23:26:09.328878       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 23:26:09.328882       1 tree.go:471] Updated node(66) last access: 116.6329 seconds
I0305 23:26:09.328888       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 23:26:09.328891       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:09.328898       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:09.328904       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.328909       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.328893419 +0000 UTC m=+116.750964953]
I0305 23:26:09.328923       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7485, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 23:26:09.328930       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 23:26:09.328964       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7485
I0305 23:26:09.328973       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.328980       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.328984       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.328990       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.328995       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.329000       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.329008       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.329015       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:09.329026       1 prefix_cache_and_load.go:584] latency, Route, 0.2175
I0305 23:26:09.329041       1 gateway.go:415] latency, selectTargetPod, 0.2175, target pod, 10.0.0.4:8000
I0305 23:26:09.329052       1 gateway.go:235] latency, HandleRequestBody, 0.2178
I0305 23:26:09.329094       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1924
I0305 23:26:09.329118       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.329122       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.329177       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.329196       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:09.329200       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.334322       1 gateway.go:207] "Processing request" requestID="fe03131c-ece5-4779-acc3-4f4ac98ae818"
I0305 23:26:09.334350       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fe03131c-ece5-4779-acc3-4f4ac98ae818"
I0305 23:26:09.334360       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.336920       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fe03131c-ece5-4779-acc3-4f4ac98ae818"
I0305 23:26:09.337152       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fe03131c-ece5-4779-acc3-4f4ac98ae818" model="qwen2-5-7b-instruct"
I0305 23:26:09.340176       1 gateway.go:608] "First token received" requestID="79d26775-3e7b-41b9-bbcf-00e99df3e3a4" ttft_ms=342
I0305 23:26:09.341406       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c7bac82c-20f1-41ce-9384-aba0564fe3af"
I0305 23:26:09.341625       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c7bac82c-20f1-41ce-9384-aba0564fe3af" model="qwen2-5-7b-instruct"
I0305 23:26:09.346836       1 gateway.go:207] "Processing request" requestID="c721aaac-680b-4948-910f-d62eb3ffbebd"
I0305 23:26:09.346859       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c721aaac-680b-4948-910f-d62eb3ffbebd"
I0305 23:26:09.346869       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.347758       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="465b90a4-1904-4dad-8143-9c265b8abc0d"
I0305 23:26:09.349311       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c721aaac-680b-4948-910f-d62eb3ffbebd"
I0305 23:26:09.349519       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c721aaac-680b-4948-910f-d62eb3ffbebd" model="qwen2-5-7b-instruct"
I0305 23:26:09.382781       1 gateway.go:608] "First token received" requestID="465b90a4-1904-4dad-8143-9c265b8abc0d" ttft_ms=271
I0305 23:26:09.386221       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3780117b, selectedpod, 10.0.3.38:8000, ttft, 322, tpot, 23, e2e, 534, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:09.386237       1 gateway.go:748] "Request completed" requestID="ed50e54e-a4e2-4270-829e-2929b09db4a6" targetPod="10.0.3.38:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:09.386250       1 gateway.go:764] "HandleResponseBody completed" requestID="ed50e54e-a4e2-4270-829e-2929b09db4a6" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:09.391426       1 gateway.go:608] "First token received" requestID="1606a800-c9af-4227-8f86-27d8b5f111f2" ttft_ms=1254
I0305 23:26:09.407561       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0784, numInputTokens, 7601
I0305 23:26:09.407572       1 tree.go:471] Updated node(0) last access: 116.7116 seconds
I0305 23:26:09.407578       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.407581       1 tree.go:471] Updated node(2) last access: 116.7116 seconds
I0305 23:26:09.407595       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:09.407598       1 tree.go:471] Updated node(4) last access: 116.7117 seconds
I0305 23:26:09.407604       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:09.407610       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 23:26:09.407616       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:09.407622       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 23:26:09.407628       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.407611953 +0000 UTC m=+116.829683488]
I0305 23:26:09.407641       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:09.407647       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:09.407674       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7478
I0305 23:26:09.407683       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.407690       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.407696       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.407701       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.407707       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.407716       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.407724       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:09.407734       1 prefix_cache_and_load.go:584] latency, Route, 0.2711
I0305 23:26:09.407747       1 gateway.go:415] latency, selectTargetPod, 0.2711, target pod, 10.0.1.20:8000
I0305 23:26:09.407757       1 gateway.go:235] latency, HandleRequestBody, 0.2714
I0305 23:26:09.407756       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2370
I0305 23:26:09.407765       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.407771       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.407820       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.407834       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:09.407839       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.425661       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8f626bd7, selectedpod, 10.0.3.38:8000, ttft, 248, tpot, 19, e2e, 428, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:09.425680       1 gateway.go:748] "Request completed" requestID="3ed24eb6-3093-4c31-91f3-bdfbbb559946" targetPod="10.0.3.38:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:09.425692       1 gateway.go:764] "HandleResponseBody completed" requestID="3ed24eb6-3093-4c31-91f3-bdfbbb559946" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:09.426807       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f1220603-d4c9-4104-bd7d-d13af035308b"
I0305 23:26:09.439832       1 gateway.go:207] "Processing request" requestID="6d77d653-e17c-4fa8-92e0-b91b6ffd879c"
I0305 23:26:09.439860       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6d77d653-e17c-4fa8-92e0-b91b6ffd879c"
I0305 23:26:09.439868       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.446311       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6d77d653-e17c-4fa8-92e0-b91b6ffd879c"
I0305 23:26:09.446526       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6d77d653-e17c-4fa8-92e0-b91b6ffd879c" model="qwen2-5-7b-instruct"
I0305 23:26:09.475511       1 gateway.go:608] "First token received" requestID="34d1fc46-b878-4130-9bcd-fba550c45a11" ttft_ms=632
I0305 23:26:09.475568       1 gateway.go:608] "First token received" requestID="b25b4cad-386a-4d70-8af2-29dad25219aa" ttft_ms=1142
I0305 23:26:09.475622       1 gateway.go:608] "First token received" requestID="ba64f956-f189-40ba-ba9e-d2b42e91bcc2" ttft_ms=797
I0305 23:26:09.476834       1 gateway.go:608] "First token received" requestID="f1220603-d4c9-4104-bd7d-d13af035308b" ttft_ms=340
I0305 23:26:09.481841       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0740, numInputTokens, 7600
I0305 23:26:09.481859       1 tree.go:471] Updated node(0) last access: 116.7859 seconds
I0305 23:26:09.481865       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.481869       1 tree.go:471] Updated node(2) last access: 116.7859 seconds
I0305 23:26:09.481882       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:09.481887       1 tree.go:471] Updated node(46) last access: 116.7859 seconds
I0305 23:26:09.481892       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:09.481898       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:09.481905       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:09.481913       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.481922       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.481900404 +0000 UTC m=+116.903971939]
I0305 23:26:09.481948       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:09.481954       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:09.481986       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:09.481998       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.482009       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.482017       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.482023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.482030       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.482041       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.482054       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:09.482070       1 prefix_cache_and_load.go:584] latency, Route, 0.3113
I0305 23:26:09.482088       1 gateway.go:415] latency, selectTargetPod, 0.3113, target pod, 10.0.3.13:8000
I0305 23:26:09.482099       1 gateway.go:235] latency, HandleRequestBody, 0.3116
I0305 23:26:09.482131       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2919
I0305 23:26:09.482136       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.482139       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.482174       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.482191       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:09.482197       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.500962       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="af1cf46f-00b1-47a6-b749-4b360b3149e3"
I0305 23:26:09.501184       1 gateway.go:207] "Processing request" requestID="886435cf-4c9f-4973-9593-460a594a0964"
I0305 23:26:09.501202       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="886435cf-4c9f-4973-9593-460a594a0964"
I0305 23:26:09.501211       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.503120       1 gateway.go:207] "Processing request" requestID="9531491b-6000-418d-bf46-62b04fb47d55"
I0305 23:26:09.503150       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9531491b-6000-418d-bf46-62b04fb47d55"
I0305 23:26:09.503159       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.503726       1 gateway.go:207] "Processing request" requestID="8df7728f-b921-4368-b3ec-fdcb9b7099d2"
I0305 23:26:09.503755       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8df7728f-b921-4368-b3ec-fdcb9b7099d2"
I0305 23:26:09.503766       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.518162       1 gateway.go:207] "Processing request" requestID="a87c161b-e187-4aca-a8da-70b7318b2b02"
I0305 23:26:09.518192       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a87c161b-e187-4aca-a8da-70b7318b2b02"
I0305 23:26:09.518199       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.531553       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0493, numInputTokens, 7598
I0305 23:26:09.531571       1 tree.go:471] Updated node(0) last access: 116.8356 seconds
I0305 23:26:09.531577       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.531580       1 tree.go:471] Updated node(2) last access: 116.8356 seconds
I0305 23:26:09.531594       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:09.531598       1 tree.go:471] Updated node(38) last access: 116.8357 seconds
I0305 23:26:09.531604       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:09.531610       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 23:26:09.531617       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:09.531624       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.531633       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.531612562 +0000 UTC m=+116.953684096]
I0305 23:26:09.531651       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:09.531660       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:09.531695       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:09.531708       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.531718       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.531729       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.531740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.531747       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.531760       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.531775       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:09.531793       1 prefix_cache_and_load.go:584] latency, Route, 0.3415
I0305 23:26:09.531809       1 gateway.go:415] latency, selectTargetPod, 0.3415, target pod, 10.0.0.134:8000
I0305 23:26:09.531823       1 gateway.go:235] latency, HandleRequestBody, 0.3436
I0305 23:26:09.531860       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2560
I0305 23:26:09.531872       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.531877       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.531947       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.531970       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:09.531976       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.550226       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7b02a248-6394-47b5-8f92-4f84fe9a36ff"
I0305 23:26:09.555781       1 gateway.go:562] latency, 0.0000, summary, hash(request), 45d64f59, selectedpod, 10.0.0.4:8000, ttft, 271, tpot, 19, e2e, 444, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:09.555802       1 gateway.go:748] "Request completed" requestID="465b90a4-1904-4dad-8143-9c265b8abc0d" targetPod="10.0.0.4:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:09.555813       1 gateway.go:764] "HandleResponseBody completed" requestID="465b90a4-1904-4dad-8143-9c265b8abc0d" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:09.557118       1 gateway.go:608] "First token received" requestID="af1cf46f-00b1-47a6-b749-4b360b3149e3" ttft_ms=386
I0305 23:26:09.558154       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8df03065, selectedpod, 10.0.1.20:8000, ttft, 342, tpot, 24, e2e, 560, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:09.558171       1 gateway.go:748] "Request completed" requestID="79d26775-3e7b-41b9-bbcf-00e99df3e3a4" targetPod="10.0.1.20:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:09.558180       1 gateway.go:764] "HandleResponseBody completed" requestID="79d26775-3e7b-41b9-bbcf-00e99df3e3a4" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:09.594903       1 gateway.go:608] "First token received" requestID="7b02a248-6394-47b5-8f92-4f84fe9a36ff" ttft_ms=406
I0305 23:26:09.601072       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0691, numInputTokens, 7593
I0305 23:26:09.601090       1 tree.go:471] Updated node(0) last access: 116.9051 seconds
I0305 23:26:09.601096       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.601100       1 tree.go:471] Updated node(2) last access: 116.9052 seconds
I0305 23:26:09.601113       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:09.601117       1 tree.go:471] Updated node(11) last access: 116.9052 seconds
I0305 23:26:09.601124       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:09.601133       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7593 tokens
I0305 23:26:09.601142       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 23:26:09.601151       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.601157       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.601136454 +0000 UTC m=+117.023208001]
I0305 23:26:09.601174       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7478, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:09.601182       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:09.601211       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7478
I0305 23:26:09.601220       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.601228       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.601235       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.601238       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.601242       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.601252       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.601263       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:09.601273       1 prefix_cache_and_load.go:584] latency, Route, 0.3255
I0305 23:26:09.601288       1 gateway.go:415] latency, selectTargetPod, 0.3255, target pod, 10.0.1.25:8000
I0305 23:26:09.601299       1 gateway.go:235] latency, HandleRequestBody, 0.3258
I0305 23:26:09.601304       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2641
I0305 23:26:09.601315       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.601322       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.601384       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.601404       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:09.601408       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.607537       1 gateway.go:207] "Processing request" requestID="826f8c39-ea65-4486-83d8-d5b0b5e40559"
I0305 23:26:09.607570       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="826f8c39-ea65-4486-83d8-d5b0b5e40559"
I0305 23:26:09.607578       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.619856       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a13b47b7-bbee-439a-8ed8-c74bcdc2a658"
I0305 23:26:09.655414       1 gateway.go:562] latency, 0.0000, summary, hash(request), 76ac87c7, selectedpod, 10.0.1.20:8000, ttft, 340, tpot, 19, e2e, 519, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:09.655440       1 gateway.go:748] "Request completed" requestID="f1220603-d4c9-4104-bd7d-d13af035308b" targetPod="10.0.1.20:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:09.655461       1 gateway.go:764] "HandleResponseBody completed" requestID="f1220603-d4c9-4104-bd7d-d13af035308b" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:09.655479       1 gateway.go:608] "First token received" requestID="a13b47b7-bbee-439a-8ed8-c74bcdc2a658" ttft_ms=379
I0305 23:26:09.670679       1 gateway.go:207] "Processing request" requestID="53764b09-c0e7-434c-8c0a-9be5cacfaad4"
I0305 23:26:09.670702       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="53764b09-c0e7-434c-8c0a-9be5cacfaad4"
I0305 23:26:09.670711       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.671530       1 gateway.go:207] "Processing request" requestID="66631de4-a26b-41c6-ba57-096c901da368"
I0305 23:26:09.671558       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="66631de4-a26b-41c6-ba57-096c901da368"
I0305 23:26:09.671567       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.675530       1 gateway.go:207] "Processing request" requestID="7bb45ce6-f877-44e9-9876-06d3944ebdb4"
I0305 23:26:09.675551       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7bb45ce6-f877-44e9-9876-06d3944ebdb4"
I0305 23:26:09.675555       1 gateway.go:207] "Processing request" requestID="4e4a2c37-b93f-41e7-8f73-49e1bcbfc6ee"
I0305 23:26:09.675564       1 gateway.go:207] "Processing request" requestID="4cc60746-ebdb-4d6c-8822-2ac5c4745ee7"
I0305 23:26:09.675569       1 gateway.go:207] "Processing request" requestID="6847b245-7385-4b76-b5ba-49c54123e8c7"
I0305 23:26:09.675571       1 gateway.go:207] "Processing request" requestID="ab18deb4-367d-48ff-8bbb-acc301c67bde"
I0305 23:26:09.675599       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4e4a2c37-b93f-41e7-8f73-49e1bcbfc6ee"
I0305 23:26:09.675600       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4cc60746-ebdb-4d6c-8822-2ac5c4745ee7"
I0305 23:26:09.675610       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ab18deb4-367d-48ff-8bbb-acc301c67bde"
I0305 23:26:09.675613       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.675560       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.675623       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.675600       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6847b245-7385-4b76-b5ba-49c54123e8c7"
I0305 23:26:09.675642       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.675613       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.675666       1 gateway.go:207] "Processing request" requestID="a043a61c-142e-4997-8b8d-1f13a1bf8421"
I0305 23:26:09.675704       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a043a61c-142e-4997-8b8d-1f13a1bf8421"
I0305 23:26:09.675717       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.683755       1 gateway.go:207] "Processing request" requestID="533bfe28-41c1-4a25-a925-b071b1692b5c"
I0305 23:26:09.683787       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="533bfe28-41c1-4a25-a925-b071b1692b5c"
I0305 23:26:09.683794       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.686231       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0848, numInputTokens, 7596
I0305 23:26:09.686251       1 tree.go:471] Updated node(0) last access: 116.9903 seconds
I0305 23:26:09.686257       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.686262       1 tree.go:471] Updated node(2) last access: 116.9903 seconds
I0305 23:26:09.686277       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:09.686281       1 tree.go:471] Updated node(33) last access: 116.9903 seconds
I0305 23:26:09.686287       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:09.686293       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 23:26:09.686299       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:09.686306       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.686311       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.686295417 +0000 UTC m=+117.108366950]
I0305 23:26:09.686327       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:09.686334       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:09.686358       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7478
I0305 23:26:09.686367       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.686375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.686382       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.686388       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.686393       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.686402       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.686411       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:09.686422       1 prefix_cache_and_load.go:584] latency, Route, 0.3492
I0305 23:26:09.686436       1 gateway.go:415] latency, selectTargetPod, 0.3492, target pod, 10.0.3.38:8000
I0305 23:26:09.686458       1 gateway.go:235] latency, HandleRequestBody, 0.3495
I0305 23:26:09.686458       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3448
I0305 23:26:09.686464       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.686469       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.686525       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.686542       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:09.686546       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.702503       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fe03131c-ece5-4779-acc3-4f4ac98ae818"
I0305 23:26:09.714885       1 gateway.go:562] latency, 0.0000, summary, hash(request), b76af349, selectedpod, 10.0.3.13:8000, ttft, 1254, tpot, 35, e2e, 1577, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:09.714891       1 gateway.go:562] latency, 0.0000, summary, hash(request), 571c1b01, selectedpod, 10.0.3.13:8000, ttft, 632, tpot, 26, e2e, 872, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:09.714898       1 gateway.go:562] latency, 0.0000, summary, hash(request), 13acd843, selectedpod, 10.0.3.13:8000, ttft, 797, tpot, 26, e2e, 1036, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:09.714900       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7a2d037e, selectedpod, 10.0.3.13:8000, ttft, 1142, tpot, 26, e2e, 1382, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:09.714912       1 gateway.go:748] "Request completed" requestID="1606a800-c9af-4227-8f86-27d8b5f111f2" targetPod="10.0.3.13:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:09.714916       1 gateway.go:748] "Request completed" requestID="ba64f956-f189-40ba-ba9e-d2b42e91bcc2" targetPod="10.0.3.13:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:09.714917       1 gateway.go:748] "Request completed" requestID="34d1fc46-b878-4130-9bcd-fba550c45a11" targetPod="10.0.3.13:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:09.714920       1 gateway.go:748] "Request completed" requestID="b25b4cad-386a-4d70-8af2-29dad25219aa" targetPod="10.0.3.13:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:09.714927       1 gateway.go:764] "HandleResponseBody completed" requestID="ba64f956-f189-40ba-ba9e-d2b42e91bcc2" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:09.714931       1 gateway.go:764] "HandleResponseBody completed" requestID="b25b4cad-386a-4d70-8af2-29dad25219aa" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:09.714941       1 gateway.go:764] "HandleResponseBody completed" requestID="34d1fc46-b878-4130-9bcd-fba550c45a11" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:09.714927       1 gateway.go:764] "HandleResponseBody completed" requestID="1606a800-c9af-4227-8f86-27d8b5f111f2" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:09.737660       1 gateway.go:608] "First token received" requestID="fe03131c-ece5-4779-acc3-4f4ac98ae818" ttft_ms=400
I0305 23:26:09.775595       1 gateway.go:207] "Processing request" requestID="ea34d996-f65c-47cc-83b3-ff2fc049cac4"
I0305 23:26:09.775626       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ea34d996-f65c-47cc-83b3-ff2fc049cac4"
I0305 23:26:09.775635       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.775692       1 gateway.go:562] latency, 0.0001, summary, hash(request), d5188f6e, selectedpod, 10.0.3.13:8000, ttft, 386, tpot, 24, e2e, 605, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:09.775720       1 gateway.go:748] "Request completed" requestID="af1cf46f-00b1-47a6-b749-4b360b3149e3" targetPod="10.0.3.13:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:09.775730       1 gateway.go:764] "HandleResponseBody completed" requestID="af1cf46f-00b1-47a6-b749-4b360b3149e3" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:09.775692       1 gateway.go:562] latency, 0.0001, summary, hash(request), bd7e4698, selectedpod, 10.0.0.134:8000, ttft, 406, tpot, 20, e2e, 587, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:09.775749       1 gateway.go:748] "Request completed" requestID="7b02a248-6394-47b5-8f92-4f84fe9a36ff" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:09.775755       1 gateway.go:764] "HandleResponseBody completed" requestID="7b02a248-6394-47b5-8f92-4f84fe9a36ff" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:09.777580       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0910, numInputTokens, 7598
I0305 23:26:09.777597       1 tree.go:471] Updated node(0) last access: 117.0817 seconds
I0305 23:26:09.777603       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.777607       1 tree.go:471] Updated node(2) last access: 117.0817 seconds
I0305 23:26:09.777624       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:09.777629       1 tree.go:471] Updated node(23) last access: 117.0817 seconds
I0305 23:26:09.777637       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:09.777644       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 23:26:09.777654       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:09.777663       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.777672       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.777648692 +0000 UTC m=+117.199720245]
I0305 23:26:09.777692       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:09.777702       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:09.777728       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:09.777737       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.777745       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.777754       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.777760       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.777766       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.777776       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.777789       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:09.777800       1 prefix_cache_and_load.go:584] latency, Route, 0.4361
I0305 23:26:09.777813       1 gateway.go:415] latency, selectTargetPod, 0.4361, target pod, 10.0.3.13:8000
I0305 23:26:09.777821       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4282
I0305 23:26:09.777824       1 gateway.go:235] latency, HandleRequestBody, 0.4364
I0305 23:26:09.777827       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.777831       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.777885       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.777903       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:09.777907       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.793898       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c7bac82c-20f1-41ce-9384-aba0564fe3af"
I0305 23:26:09.814634       1 gateway.go:207] "Processing request" requestID="337eba4a-cc53-4e28-a30e-620b06b717c8"
I0305 23:26:09.814663       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="337eba4a-cc53-4e28-a30e-620b06b717c8"
I0305 23:26:09.814671       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.826892       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0490, numInputTokens, 7602
I0305 23:26:09.826921       1 tree.go:471] Updated node(0) last access: 117.1310 seconds
I0305 23:26:09.826930       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.826941       1 tree.go:471] Updated node(2) last access: 117.1310 seconds
I0305 23:26:09.826958       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:09.826962       1 tree.go:471] Updated node(23) last access: 117.1310 seconds
I0305 23:26:09.826973       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 23:26:09.826978       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:09.826987       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:09.827000       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.827007       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.826980833 +0000 UTC m=+117.249052379]
I0305 23:26:09.827026       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 23:26:09.827036       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 23:26:09.827103       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:09.827137       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:09.827164       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.827174       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.827182       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.827190       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.827206       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.827223       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:09.827243       1 prefix_cache_and_load.go:584] latency, Route, 0.4777
I0305 23:26:09.827266       1 gateway.go:415] latency, selectTargetPod, 0.4777, target pod, 10.0.3.13:8000
I0305 23:26:09.827284       1 gateway.go:235] latency, HandleRequestBody, 0.4780
I0305 23:26:09.827358       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3808
I0305 23:26:09.827371       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.827376       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.827483       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.827523       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:09.827591       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.828805       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3e93b3f2, selectedpod, 10.0.1.25:8000, ttft, 379, tpot, 19, e2e, 553, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 23:26:09.828826       1 gateway.go:748] "Request completed" requestID="a13b47b7-bbee-439a-8ed8-c74bcdc2a658" targetPod="10.0.1.25:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 23:26:09.828836       1 gateway.go:764] "HandleResponseBody completed" requestID="a13b47b7-bbee-439a-8ed8-c74bcdc2a658" promptTokens=7612 completionTokens=10 stream=true
I0305 23:26:09.836798       1 gateway.go:608] "First token received" requestID="c7bac82c-20f1-41ce-9384-aba0564fe3af" ttft_ms=495
I0305 23:26:09.840255       1 gateway.go:207] "Processing request" requestID="fe2fed01-0745-4f08-9bd6-2b007e590c53"
I0305 23:26:09.840258       1 gateway.go:207] "Processing request" requestID="02f7e799-f260-41c7-a2c1-55acfe80b8c8"
I0305 23:26:09.840280       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fe2fed01-0745-4f08-9bd6-2b007e590c53"
I0305 23:26:09.840285       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="02f7e799-f260-41c7-a2c1-55acfe80b8c8"
I0305 23:26:09.840290       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.840293       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.875504       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c721aaac-680b-4948-910f-d62eb3ffbebd"
I0305 23:26:09.875562       1 gateway.go:207] "Processing request" requestID="9c16308f-0101-4e00-a969-033cee54996e"
I0305 23:26:09.875566       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9531491b-6000-418d-bf46-62b04fb47d55"
I0305 23:26:09.875580       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9c16308f-0101-4e00-a969-033cee54996e"
I0305 23:26:09.875587       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.875596       1 gateway.go:207] "Processing request" requestID="e81e829c-34cd-44c2-9e6e-1a7b12ed5c80"
I0305 23:26:09.875616       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a87c161b-e187-4aca-a8da-70b7318b2b02"
I0305 23:26:09.875619       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8df7728f-b921-4368-b3ec-fdcb9b7099d2"
I0305 23:26:09.875624       1 gateway.go:207] "Processing request" requestID="94c52a5f-53b4-480b-bd99-bffe33358e65"
I0305 23:26:09.875595       1 gateway.go:329] "-- In RequestBody processing ..." requestID="886435cf-4c9f-4973-9593-460a594a0964"
I0305 23:26:09.875659       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="94c52a5f-53b4-480b-bd99-bffe33358e65"
I0305 23:26:09.875669       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.875631       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e81e829c-34cd-44c2-9e6e-1a7b12ed5c80"
I0305 23:26:09.875696       1 gateway.go:230] latency, HandleRequestHeaders, 0.0001
I0305 23:26:09.875825       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9531491b-6000-418d-bf46-62b04fb47d55" model="qwen2-5-7b-instruct"
I0305 23:26:09.875851       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8df7728f-b921-4368-b3ec-fdcb9b7099d2" model="qwen2-5-7b-instruct"
I0305 23:26:09.875875       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a87c161b-e187-4aca-a8da-70b7318b2b02" model="qwen2-5-7b-instruct"
I0305 23:26:09.875879       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="886435cf-4c9f-4973-9593-460a594a0964" model="qwen2-5-7b-instruct"
I0305 23:26:09.885820       1 gateway.go:207] "Processing request" requestID="3b0b1319-d240-4e32-aeeb-10b88d186fa8"
I0305 23:26:09.885838       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3b0b1319-d240-4e32-aeeb-10b88d186fa8"
I0305 23:26:09.885846       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.886471       1 gateway.go:329] "-- In RequestBody processing ..." requestID="826f8c39-ea65-4486-83d8-d5b0b5e40559"
I0305 23:26:09.886684       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="826f8c39-ea65-4486-83d8-d5b0b5e40559" model="qwen2-5-7b-instruct"
I0305 23:26:09.896844       1 gateway.go:608] "First token received" requestID="c721aaac-680b-4948-910f-d62eb3ffbebd" ttft_ms=547
I0305 23:26:09.910741       1 gateway.go:562] latency, 0.0000, summary, hash(request), 07755d8a, selectedpod, 10.0.3.38:8000, ttft, 400, tpot, 19, e2e, 573, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:09.910757       1 gateway.go:748] "Request completed" requestID="fe03131c-ece5-4779-acc3-4f4ac98ae818" targetPod="10.0.3.38:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:09.910767       1 gateway.go:764] "HandleResponseBody completed" requestID="fe03131c-ece5-4779-acc3-4f4ac98ae818" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:09.913471       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0859, numInputTokens, 7601
I0305 23:26:09.913489       1 tree.go:471] Updated node(0) last access: 117.2175 seconds
I0305 23:26:09.913495       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.913499       1 tree.go:471] Updated node(2) last access: 117.2176 seconds
I0305 23:26:09.913514       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:09.913519       1 tree.go:471] Updated node(38) last access: 117.2176 seconds
I0305 23:26:09.913532       1 tree.go:667] Split complete - New node(75)
I0305 23:26:09.913538       1 tree.go:668] Split complete - Child node(45)
I0305 23:26:09.913545       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 23:26:09.913551       1 tree.go:471] Updated node(75) last access: 117.2176 seconds
I0305 23:26:09.913557       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:09.913563       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:09.913569       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:09.913576       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.913581       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.913565487 +0000 UTC m=+117.335637022]
I0305 23:26:09.913594       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:09.913602       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:09.913631       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7481
I0305 23:26:09.913641       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:09.913649       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.913653       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.913658       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.913663       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.913668       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.913685       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.913695       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:09.913705       1 prefix_cache_and_load.go:584] latency, Route, 0.4671
I0305 23:26:09.913720       1 gateway.go:415] latency, selectTargetPod, 0.4671, target pod, 10.0.0.134:8000
I0305 23:26:09.913732       1 gateway.go:235] latency, HandleRequestBody, 0.4674
I0305 23:26:09.913771       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0379
I0305 23:26:09.913775       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.913778       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.913814       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.913827       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 23:26:09.913830       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.933397       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6d77d653-e17c-4fa8-92e0-b91b6ffd879c"
I0305 23:26:09.976204       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0624, numInputTokens, 7598
I0305 23:26:09.976230       1 tree.go:471] Updated node(0) last access: 117.2803 seconds
I0305 23:26:09.976236       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:09.976239       1 tree.go:471] Updated node(2) last access: 117.2803 seconds
I0305 23:26:09.976252       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:09.976256       1 tree.go:471] Updated node(38) last access: 117.2803 seconds
I0305 23:26:09.976262       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:09.976267       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 23:26:09.976275       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:09.976283       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:09.976289       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:09.976269739 +0000 UTC m=+117.398341281]
I0305 23:26:09.976310       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:09.976321       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:09.976379       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:09.976392       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:09.976402       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.976415       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.976429       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.976436       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:09.976468       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:09.976483       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:09.976504       1 prefix_cache_and_load.go:584] latency, Route, 0.1006
I0305 23:26:09.976522       1 gateway.go:415] latency, selectTargetPod, 0.1006, target pod, 10.0.0.134:8000
I0305 23:26:09.976534       1 gateway.go:235] latency, HandleRequestBody, 0.1010
I0305 23:26:09.976564       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1006
I0305 23:26:09.976569       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:09.976572       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:09.976737       1 gateway.go:608] "First token received" requestID="6d77d653-e17c-4fa8-92e0-b91b6ffd879c" ttft_ms=530
I0305 23:26:09.976745       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:09.976792       1 gateway.go:207] "Processing request" requestID="65d2b207-b9e0-4e1d-b14a-b3e4947f285b"
I0305 23:26:09.976811       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:09.976819       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:09.976843       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="65d2b207-b9e0-4e1d-b14a-b3e4947f285b"
I0305 23:26:09.976856       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:09.995495       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9531491b-6000-418d-bf46-62b04fb47d55"
I0305 23:26:10.007527       1 gateway.go:207] "Processing request" requestID="7835861f-22ba-45f7-b524-146099cbde5c"
I0305 23:26:10.007558       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7835861f-22ba-45f7-b524-146099cbde5c"
I0305 23:26:10.007567       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.009481       1 gateway.go:207] "Processing request" requestID="e2c596f1-f81b-4db7-877a-f26980a2da65"
I0305 23:26:10.009506       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e2c596f1-f81b-4db7-877a-f26980a2da65"
I0305 23:26:10.009513       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.010235       1 gateway.go:207] "Processing request" requestID="177cd5cd-2141-43ed-b8b2-0698585a945d"
I0305 23:26:10.010265       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="177cd5cd-2141-43ed-b8b2-0698585a945d"
I0305 23:26:10.010273       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.010622       1 gateway.go:207] "Processing request" requestID="707adf1f-07c0-4fe6-a000-68cc37afbc7c"
I0305 23:26:10.010639       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="707adf1f-07c0-4fe6-a000-68cc37afbc7c"
I0305 23:26:10.010645       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.021899       1 gateway.go:207] "Processing request" requestID="db47c187-68c2-46f9-8085-08ddf447b042"
I0305 23:26:10.021924       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="db47c187-68c2-46f9-8085-08ddf447b042"
I0305 23:26:10.021932       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.030297       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0535, numInputTokens, 7597
I0305 23:26:10.030314       1 tree.go:471] Updated node(0) last access: 117.3344 seconds
I0305 23:26:10.030320       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.030323       1 tree.go:471] Updated node(2) last access: 117.3344 seconds
I0305 23:26:10.030337       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:10.030341       1 tree.go:471] Updated node(23) last access: 117.3344 seconds
I0305 23:26:10.030347       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 23:26:10.030352       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 23:26:10.030359       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:10.030366       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.030371       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.030354497 +0000 UTC m=+117.452426041]
I0305 23:26:10.030387       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 23:26:10.030394       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 23:26:10.030429       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:10.030438       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:10.030452       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.030459       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.030464       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.030470       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.030482       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.030491       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:10.030501       1 prefix_cache_and_load.go:584] latency, Route, 0.1546
I0305 23:26:10.030516       1 gateway.go:415] latency, selectTargetPod, 0.1546, target pod, 10.0.3.13:8000
I0305 23:26:10.030527       1 gateway.go:235] latency, HandleRequestBody, 0.1549
I0305 23:26:10.030557       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1546
I0305 23:26:10.030562       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.030565       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.030605       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.030620       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:10.030624       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.047083       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8df7728f-b921-4368-b3ec-fdcb9b7099d2"
I0305 23:26:10.055451       1 gateway.go:608] "First token received" requestID="9531491b-6000-418d-bf46-62b04fb47d55" ttft_ms=179
I0305 23:26:10.075591       1 gateway.go:562] latency, 0.0001, summary, hash(request), 90b77f3f, selectedpod, 10.0.3.13:8000, ttft, 495, tpot, 26, e2e, 734, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:10.075615       1 gateway.go:748] "Request completed" requestID="c7bac82c-20f1-41ce-9384-aba0564fe3af" targetPod="10.0.3.13:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:10.075633       1 gateway.go:764] "HandleResponseBody completed" requestID="c7bac82c-20f1-41ce-9384-aba0564fe3af" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:10.090554       1 gateway.go:608] "First token received" requestID="8df7728f-b921-4368-b3ec-fdcb9b7099d2" ttft_ms=214
I0305 23:26:10.108223       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0776, numInputTokens, 7601
I0305 23:26:10.108240       1 tree.go:471] Updated node(0) last access: 117.4123 seconds
I0305 23:26:10.108246       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.108249       1 tree.go:471] Updated node(2) last access: 117.4123 seconds
I0305 23:26:10.108264       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:10.108268       1 tree.go:471] Updated node(19) last access: 117.4123 seconds
I0305 23:26:10.108274       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:10.108280       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 23:26:10.108287       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:10.108294       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.108301       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.108282336 +0000 UTC m=+117.530353872]
I0305 23:26:10.108317       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:10.108325       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:10.108359       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7478
I0305 23:26:10.108368       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:10.108376       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.108387       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.108394       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.108398       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.108408       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.108417       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:10.108428       1 prefix_cache_and_load.go:584] latency, Route, 0.2325
I0305 23:26:10.108453       1 gateway.go:415] latency, selectTargetPod, 0.2325, target pod, 10.0.0.4:8000
I0305 23:26:10.108465       1 gateway.go:235] latency, HandleRequestBody, 0.2329
I0305 23:26:10.108524       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2325
I0305 23:26:10.108537       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.108541       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.108613       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.108634       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:10.108640       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.110045       1 gateway.go:207] "Processing request" requestID="ee41e860-e3a7-4aa6-8e23-1ed5f74b8f23"
I0305 23:26:10.110097       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ee41e860-e3a7-4aa6-8e23-1ed5f74b8f23"
I0305 23:26:10.110110       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.111469       1 gateway.go:562] latency, 0.0001, summary, hash(request), b79bc213, selectedpod, 10.0.3.13:8000, ttft, 547, tpot, 23, e2e, 762, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:10.111509       1 gateway.go:748] "Request completed" requestID="c721aaac-680b-4948-910f-d62eb3ffbebd" targetPod="10.0.3.13:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:10.111527       1 gateway.go:764] "HandleResponseBody completed" requestID="c721aaac-680b-4948-910f-d62eb3ffbebd" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:10.127743       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a87c161b-e187-4aca-a8da-70b7318b2b02"
I0305 23:26:10.145509       1 gateway.go:329] "-- In RequestBody processing ..." requestID="66631de4-a26b-41c6-ba57-096c901da368"
I0305 23:26:10.145725       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="66631de4-a26b-41c6-ba57-096c901da368" model="qwen2-5-7b-instruct"
I0305 23:26:10.151839       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a043a61c-142e-4997-8b8d-1f13a1bf8421"
I0305 23:26:10.152073       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a043a61c-142e-4997-8b8d-1f13a1bf8421" model="qwen2-5-7b-instruct"
I0305 23:26:10.159406       1 gateway.go:329] "-- In RequestBody processing ..." requestID="53764b09-c0e7-434c-8c0a-9be5cacfaad4"
I0305 23:26:10.159631       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="53764b09-c0e7-434c-8c0a-9be5cacfaad4" model="qwen2-5-7b-instruct"
I0305 23:26:10.170855       1 gateway.go:608] "First token received" requestID="a87c161b-e187-4aca-a8da-70b7318b2b02" ttft_ms=295
I0305 23:26:10.187868       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0792, numInputTokens, 7597
I0305 23:26:10.187888       1 tree.go:471] Updated node(0) last access: 117.4919 seconds
I0305 23:26:10.187894       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.187898       1 tree.go:471] Updated node(2) last access: 117.4920 seconds
I0305 23:26:10.187910       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:10.187914       1 tree.go:471] Updated node(4) last access: 117.4920 seconds
I0305 23:26:10.187921       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 23:26:10.187926       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 23:26:10.187939       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:10.187946       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.187951       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.187928506 +0000 UTC m=+117.610000051]
I0305 23:26:10.187967       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 23:26:10.187977       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 23:26:10.188027       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7478
I0305 23:26:10.188042       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:10.188054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.188061       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.188066       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.188073       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.188090       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.188106       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:10.188123       1 prefix_cache_and_load.go:584] latency, Route, 0.3121
I0305 23:26:10.188146       1 gateway.go:415] latency, selectTargetPod, 0.3122, target pod, 10.0.1.20:8000
I0305 23:26:10.188158       1 gateway.go:235] latency, HandleRequestBody, 0.3126
I0305 23:26:10.188190       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3014
I0305 23:26:10.188197       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.188201       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.188260       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.188277       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:10.188281       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.199623       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3a63d958, selectedpod, 10.0.0.134:8000, ttft, 530, tpot, 24, e2e, 753, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:10.199648       1 gateway.go:748] "Request completed" requestID="6d77d653-e17c-4fa8-92e0-b91b6ffd879c" targetPod="10.0.0.134:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:10.199659       1 gateway.go:764] "HandleResponseBody completed" requestID="6d77d653-e17c-4fa8-92e0-b91b6ffd879c" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:10.207840       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="886435cf-4c9f-4973-9593-460a594a0964"
I0305 23:26:10.235864       1 gateway.go:562] latency, 0.0000, summary, hash(request), a24ae043, selectedpod, 10.0.0.134:8000, ttft, 179, tpot, 20, e2e, 360, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:10.235883       1 gateway.go:748] "Request completed" requestID="9531491b-6000-418d-bf46-62b04fb47d55" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:10.235893       1 gateway.go:764] "HandleResponseBody completed" requestID="9531491b-6000-418d-bf46-62b04fb47d55" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:10.241170       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0529, numInputTokens, 7599
I0305 23:26:10.241189       1 tree.go:471] Updated node(0) last access: 117.5452 seconds
I0305 23:26:10.241196       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.241200       1 tree.go:471] Updated node(2) last access: 117.5453 seconds
I0305 23:26:10.241214       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:10.241219       1 tree.go:471] Updated node(38) last access: 117.5453 seconds
I0305 23:26:10.241225       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:10.241229       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:10.241237       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:10.241242       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.241247       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.241231984 +0000 UTC m=+117.663303519]
I0305 23:26:10.241261       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:10.241269       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:10.241298       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:10.241307       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:10.241315       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.241322       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.241328       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.241331       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.241339       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.241349       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:10.241360       1 prefix_cache_and_load.go:584] latency, Route, 0.3546
I0305 23:26:10.241376       1 gateway.go:415] latency, selectTargetPod, 0.3546, target pod, 10.0.0.134:8000
I0305 23:26:10.241388       1 gateway.go:235] latency, HandleRequestBody, 0.3549
I0305 23:26:10.241416       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0956
I0305 23:26:10.241420       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.241424       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.241474       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.241491       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:10.241495       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.243605       1 gateway.go:608] "First token received" requestID="886435cf-4c9f-4973-9593-460a594a0964" ttft_ms=367
I0305 23:26:10.247484       1 gateway.go:329] "-- In RequestBody processing ..." requestID="533bfe28-41c1-4a25-a925-b071b1692b5c"
I0305 23:26:10.247699       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="533bfe28-41c1-4a25-a925-b071b1692b5c" model="qwen2-5-7b-instruct"
I0305 23:26:10.261842       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="826f8c39-ea65-4486-83d8-d5b0b5e40559"
I0305 23:26:10.275536       1 gateway.go:207] "Processing request" requestID="8df98a79-e45c-4a85-965b-48266e6e5d4a"
I0305 23:26:10.275541       1 gateway.go:207] "Processing request" requestID="9866250f-73af-4dc2-8327-2996038792c3"
I0305 23:26:10.275552       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ea34d996-f65c-47cc-83b3-ff2fc049cac4"
I0305 23:26:10.275562       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8df98a79-e45c-4a85-965b-48266e6e5d4a"
I0305 23:26:10.275565       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9866250f-73af-4dc2-8327-2996038792c3"
I0305 23:26:10.275573       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.275573       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.275676       1 gateway.go:562] latency, 0.0000, summary, hash(request), fc7585eb, selectedpod, 10.0.3.13:8000, ttft, 214, tpot, 20, e2e, 399, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:10.275702       1 gateway.go:748] "Request completed" requestID="8df7728f-b921-4368-b3ec-fdcb9b7099d2" targetPod="10.0.3.13:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:10.275713       1 gateway.go:764] "HandleResponseBody completed" requestID="8df7728f-b921-4368-b3ec-fdcb9b7099d2" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:10.275779       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ea34d996-f65c-47cc-83b3-ff2fc049cac4" model="qwen2-5-7b-instruct"
I0305 23:26:10.277305       1 gateway.go:207] "Processing request" requestID="2e530551-a77d-46a3-a32b-f5a76d87a03c"
I0305 23:26:10.277339       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2e530551-a77d-46a3-a32b-f5a76d87a03c"
I0305 23:26:10.277350       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.284394       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fe2fed01-0745-4f08-9bd6-2b007e590c53"
I0305 23:26:10.284630       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fe2fed01-0745-4f08-9bd6-2b007e590c53" model="qwen2-5-7b-instruct"
I0305 23:26:10.287883       1 gateway.go:329] "-- In RequestBody processing ..." requestID="337eba4a-cc53-4e28-a30e-620b06b717c8"
I0305 23:26:10.288104       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="337eba4a-cc53-4e28-a30e-620b06b717c8" model="qwen2-5-7b-instruct"
I0305 23:26:10.304486       1 gateway.go:608] "First token received" requestID="826f8c39-ea65-4486-83d8-d5b0b5e40559" ttft_ms=417
I0305 23:26:10.327298       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0858, numInputTokens, 7598
I0305 23:26:10.327317       1 tree.go:471] Updated node(0) last access: 117.6314 seconds
I0305 23:26:10.327323       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.327326       1 tree.go:471] Updated node(2) last access: 117.6314 seconds
I0305 23:26:10.327340       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:10.327344       1 tree.go:471] Updated node(17) last access: 117.6314 seconds
I0305 23:26:10.327352       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:10.327359       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 23:26:10.327368       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:10.327376       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.327385       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.327361895 +0000 UTC m=+117.749433436]
I0305 23:26:10.327401       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:10.327409       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:10.327437       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7478
I0305 23:26:10.327456       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:10.327465       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.327471       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.327475       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.327480       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.327488       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.327498       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:10.327509       1 prefix_cache_and_load.go:584] latency, Route, 0.1817
I0305 23:26:10.327525       1 gateway.go:415] latency, selectTargetPod, 0.1817, target pod, 10.0.1.53:8000
I0305 23:26:10.327536       1 gateway.go:235] latency, HandleRequestBody, 0.1820
I0305 23:26:10.327564       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1754
I0305 23:26:10.327569       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.327572       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.327622       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.327639       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:10.327642       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.343794       1 gateway.go:562] latency, 0.0000, summary, hash(request), 69f78e42, selectedpod, 10.0.0.4:8000, ttft, 295, tpot, 19, e2e, 468, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:10.343815       1 gateway.go:748] "Request completed" requestID="a87c161b-e187-4aca-a8da-70b7318b2b02" targetPod="10.0.0.4:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:10.343824       1 gateway.go:764] "HandleResponseBody completed" requestID="a87c161b-e187-4aca-a8da-70b7318b2b02" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:10.347123       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="66631de4-a26b-41c6-ba57-096c901da368"
I0305 23:26:10.350631       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9c16308f-0101-4e00-a969-033cee54996e"
I0305 23:26:10.350841       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9c16308f-0101-4e00-a969-033cee54996e" model="qwen2-5-7b-instruct"
I0305 23:26:10.350982       1 gateway.go:207] "Processing request" requestID="99b0a415-9bff-4fca-893a-e3cca4891c5c"
I0305 23:26:10.350999       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="99b0a415-9bff-4fca-893a-e3cca4891c5c"
I0305 23:26:10.351005       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.351845       1 gateway.go:207] "Processing request" requestID="bbcc6066-3f83-49f0-bf05-b36a178046a5"
I0305 23:26:10.351859       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bbcc6066-3f83-49f0-bf05-b36a178046a5"
I0305 23:26:10.351866       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.375579       1 gateway.go:329] "-- In RequestBody processing ..." requestID="94c52a5f-53b4-480b-bd99-bffe33358e65"
I0305 23:26:10.375582       1 gateway.go:329] "-- In RequestBody processing ..." requestID="65d2b207-b9e0-4e1d-b14a-b3e4947f285b"
I0305 23:26:10.375578       1 gateway.go:207] "Processing request" requestID="ea0f467d-249c-4e5b-b200-99b11c1f1055"
I0305 23:26:10.375784       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ea0f467d-249c-4e5b-b200-99b11c1f1055"
I0305 23:26:10.375802       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.375846       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="94c52a5f-53b4-480b-bd99-bffe33358e65" model="qwen2-5-7b-instruct"
I0305 23:26:10.375912       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="65d2b207-b9e0-4e1d-b14a-b3e4947f285b" model="qwen2-5-7b-instruct"
I0305 23:26:10.383265       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7835861f-22ba-45f7-b524-146099cbde5c"
I0305 23:26:10.383488       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7835861f-22ba-45f7-b524-146099cbde5c" model="qwen2-5-7b-instruct"
I0305 23:26:10.390675       1 gateway.go:608] "First token received" requestID="66631de4-a26b-41c6-ba57-096c901da368" ttft_ms=245
I0305 23:26:10.408345       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0807, numInputTokens, 7596
I0305 23:26:10.408364       1 tree.go:471] Updated node(0) last access: 117.7124 seconds
I0305 23:26:10.408370       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.408373       1 tree.go:471] Updated node(2) last access: 117.7124 seconds
I0305 23:26:10.408386       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:10.408390       1 tree.go:471] Updated node(38) last access: 117.7124 seconds
I0305 23:26:10.408395       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 23:26:10.408398       1 tree.go:471] Updated node(75) last access: 117.7125 seconds
I0305 23:26:10.408404       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:10.408410       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 23:26:10.408417       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:10.408426       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.408431       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.408412006 +0000 UTC m=+117.830483540]
I0305 23:26:10.408459       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7481, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:10.408465       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:10.408494       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7481
I0305 23:26:10.408503       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:10.408510       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.408515       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.408518       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.408522       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.408525       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.408534       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.408543       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:10.408553       1 prefix_cache_and_load.go:584] latency, Route, 0.2564
I0305 23:26:10.408566       1 gateway.go:415] latency, selectTargetPod, 0.2564, target pod, 10.0.0.134:8000
I0305 23:26:10.408577       1 gateway.go:235] latency, HandleRequestBody, 0.2567
I0305 23:26:10.408593       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2489
I0305 23:26:10.408602       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.408607       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.408673       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.408695       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:10.408701       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.410190       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e2c596f1-f81b-4db7-877a-f26980a2da65"
I0305 23:26:10.410395       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e2c596f1-f81b-4db7-877a-f26980a2da65" model="qwen2-5-7b-instruct"
I0305 23:26:10.416805       1 gateway.go:562] latency, 0.0001, summary, hash(request), bc011e95, selectedpod, 10.0.1.20:8000, ttft, 367, tpot, 19, e2e, 541, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:10.416845       1 gateway.go:748] "Request completed" requestID="886435cf-4c9f-4973-9593-460a594a0964" targetPod="10.0.1.20:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:10.416866       1 gateway.go:764] "HandleResponseBody completed" requestID="886435cf-4c9f-4973-9593-460a594a0964" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:10.427769       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a043a61c-142e-4997-8b8d-1f13a1bf8421"
I0305 23:26:10.446318       1 gateway.go:329] "-- In RequestBody processing ..." requestID="707adf1f-07c0-4fe6-a000-68cc37afbc7c"
I0305 23:26:10.446668       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="707adf1f-07c0-4fe6-a000-68cc37afbc7c" model="qwen2-5-7b-instruct"
I0305 23:26:10.447378       1 gateway.go:329] "-- In RequestBody processing ..." requestID="177cd5cd-2141-43ed-b8b2-0698585a945d"
I0305 23:26:10.447589       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="177cd5cd-2141-43ed-b8b2-0698585a945d" model="qwen2-5-7b-instruct"
I0305 23:26:10.449252       1 gateway.go:329] "-- In RequestBody processing ..." requestID="db47c187-68c2-46f9-8085-08ddf447b042"
I0305 23:26:10.449481       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="db47c187-68c2-46f9-8085-08ddf447b042" model="qwen2-5-7b-instruct"
I0305 23:26:10.475577       1 gateway.go:608] "First token received" requestID="a043a61c-142e-4997-8b8d-1f13a1bf8421" ttft_ms=323
I0305 23:26:10.483599       1 gateway.go:207] "Processing request" requestID="d1fe6356-381a-48cb-9a78-a6f44315dfa3"
I0305 23:26:10.483627       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d1fe6356-381a-48cb-9a78-a6f44315dfa3"
I0305 23:26:10.483638       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.484563       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ee41e860-e3a7-4aa6-8e23-1ed5f74b8f23"
I0305 23:26:10.484777       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ee41e860-e3a7-4aa6-8e23-1ed5f74b8f23" model="qwen2-5-7b-instruct"
I0305 23:26:10.485189       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4cc60746-ebdb-4d6c-8822-2ac5c4745ee7"
I0305 23:26:10.485393       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4cc60746-ebdb-4d6c-8822-2ac5c4745ee7" model="qwen2-5-7b-instruct"
I0305 23:26:10.487263       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ab18deb4-367d-48ff-8bbb-acc301c67bde"
I0305 23:26:10.487474       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ab18deb4-367d-48ff-8bbb-acc301c67bde" model="qwen2-5-7b-instruct"
I0305 23:26:10.491948       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6847b245-7385-4b76-b5ba-49c54123e8c7"
I0305 23:26:10.492165       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6847b245-7385-4b76-b5ba-49c54123e8c7" model="qwen2-5-7b-instruct"
I0305 23:26:10.497327       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0886, numInputTokens, 7599
I0305 23:26:10.497344       1 tree.go:471] Updated node(0) last access: 117.8014 seconds
I0305 23:26:10.497350       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.497354       1 tree.go:471] Updated node(2) last access: 117.8014 seconds
I0305 23:26:10.497370       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:10.497375       1 tree.go:471] Updated node(33) last access: 117.8014 seconds
I0305 23:26:10.497381       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:10.497386       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:10.497392       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:10.497399       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.497404       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.497387898 +0000 UTC m=+117.919459432]
I0305 23:26:10.497419       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:10.497427       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:10.497467       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7478
I0305 23:26:10.497478       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:10.497487       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.497493       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.497497       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.497501       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.497510       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.497520       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:10.497533       1 prefix_cache_and_load.go:584] latency, Route, 0.3378
I0305 23:26:10.497547       1 gateway.go:415] latency, selectTargetPod, 0.3378, target pod, 10.0.3.38:8000
I0305 23:26:10.497560       1 gateway.go:235] latency, HandleRequestBody, 0.3382
I0305 23:26:10.497583       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2498
I0305 23:26:10.497587       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.497590       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.497633       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.497658       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:10.497663       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.513831       1 gateway.go:562] latency, 0.0001, summary, hash(request), ea53cbfa, selectedpod, 10.0.0.134:8000, ttft, 417, tpot, 23, e2e, 627, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:10.513853       1 gateway.go:748] "Request completed" requestID="826f8c39-ea65-4486-83d8-d5b0b5e40559" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:10.513865       1 gateway.go:764] "HandleResponseBody completed" requestID="826f8c39-ea65-4486-83d8-d5b0b5e40559" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:10.513880       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="53764b09-c0e7-434c-8c0a-9be5cacfaad4"
I0305 23:26:10.517979       1 gateway.go:207] "Processing request" requestID="4fad8f2c-909b-482d-8183-0f73e76f8318"
I0305 23:26:10.518003       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4fad8f2c-909b-482d-8183-0f73e76f8318"
I0305 23:26:10.518015       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.518465       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7bb45ce6-f877-44e9-9876-06d3944ebdb4"
I0305 23:26:10.518686       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7bb45ce6-f877-44e9-9876-06d3944ebdb4" model="qwen2-5-7b-instruct"
I0305 23:26:10.521063       1 gateway.go:207] "Processing request" requestID="569babfe-a19c-4a93-b85b-ba8cdf535c23"
I0305 23:26:10.521089       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="569babfe-a19c-4a93-b85b-ba8cdf535c23"
I0305 23:26:10.521094       1 gateway.go:207] "Processing request" requestID="c17c51b3-598f-4204-b4ba-e158d0358eb0"
I0305 23:26:10.521097       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.521112       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c17c51b3-598f-4204-b4ba-e158d0358eb0"
I0305 23:26:10.521118       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.526619       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bbcc6066-3f83-49f0-bf05-b36a178046a5"
I0305 23:26:10.526812       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bbcc6066-3f83-49f0-bf05-b36a178046a5" model="qwen2-5-7b-instruct"
I0305 23:26:10.528241       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e81e829c-34cd-44c2-9e6e-1a7b12ed5c80"
I0305 23:26:10.528468       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e81e829c-34cd-44c2-9e6e-1a7b12ed5c80" model="qwen2-5-7b-instruct"
I0305 23:26:10.532529       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4e4a2c37-b93f-41e7-8f73-49e1bcbfc6ee"
I0305 23:26:10.532820       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4e4a2c37-b93f-41e7-8f73-49e1bcbfc6ee" model="qwen2-5-7b-instruct"
I0305 23:26:10.533775       1 gateway.go:329] "-- In RequestBody processing ..." requestID="02f7e799-f260-41c7-a2c1-55acfe80b8c8"
I0305 23:26:10.533998       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="02f7e799-f260-41c7-a2c1-55acfe80b8c8" model="qwen2-5-7b-instruct"
I0305 23:26:10.575602       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3b0b1319-d240-4e32-aeeb-10b88d186fa8"
I0305 23:26:10.575609       1 gateway.go:207] "Processing request" requestID="9c0cff91-f880-4e63-a9f5-03694cde8a38"
I0305 23:26:10.575628       1 gateway.go:329] "-- In RequestBody processing ..." requestID="99b0a415-9bff-4fca-893a-e3cca4891c5c"
I0305 23:26:10.575663       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9c0cff91-f880-4e63-a9f5-03694cde8a38"
I0305 23:26:10.575676       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.575713       1 gateway.go:608] "First token received" requestID="53764b09-c0e7-434c-8c0a-9be5cacfaad4" ttft_ms=416
I0305 23:26:10.575762       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d5a1259, selectedpod, 10.0.1.53:8000, ttft, 245, tpot, 20, e2e, 430, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:10.575794       1 gateway.go:748] "Request completed" requestID="66631de4-a26b-41c6-ba57-096c901da368" targetPod="10.0.1.53:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:10.575817       1 gateway.go:764] "HandleResponseBody completed" requestID="66631de4-a26b-41c6-ba57-096c901da368" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:10.575958       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3b0b1319-d240-4e32-aeeb-10b88d186fa8" model="qwen2-5-7b-instruct"
I0305 23:26:10.576008       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="99b0a415-9bff-4fca-893a-e3cca4891c5c" model="qwen2-5-7b-instruct"
I0305 23:26:10.577060       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0794, numInputTokens, 7602
I0305 23:26:10.577074       1 tree.go:471] Updated node(0) last access: 117.8811 seconds
I0305 23:26:10.577080       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.577083       1 tree.go:471] Updated node(2) last access: 117.8811 seconds
I0305 23:26:10.577097       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:10.577101       1 tree.go:471] Updated node(19) last access: 117.8812 seconds
I0305 23:26:10.577112       1 tree.go:667] Split complete - New node(85)
I0305 23:26:10.577115       1 tree.go:668] Split complete - Child node(20)
I0305 23:26:10.577120       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 23:26:10.577126       1 tree.go:471] Updated node(85) last access: 117.8812 seconds
I0305 23:26:10.577131       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:10.577135       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:10.577141       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:10.577147       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.577151       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.577137637 +0000 UTC m=+117.999209171]
I0305 23:26:10.577165       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7486, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:10.577172       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:10.577201       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7486
I0305 23:26:10.577209       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:10.577217       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.577221       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.577226       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.577232       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.577237       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.577246       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.577256       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:10.577268       1 prefix_cache_and_load.go:584] latency, Route, 0.3295
I0305 23:26:10.577281       1 gateway.go:415] latency, selectTargetPod, 0.3295, target pod, 10.0.0.4:8000
I0305 23:26:10.577293       1 gateway.go:235] latency, HandleRequestBody, 0.3298
I0305 23:26:10.577319       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3014
I0305 23:26:10.577323       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.577326       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.577365       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.577381       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:10.577384       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.596349       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="533bfe28-41c1-4a25-a925-b071b1692b5c"
I0305 23:26:10.617467       1 gateway.go:207] "Processing request" requestID="3bfe9cf4-fcce-401c-91e8-e6a97479f132"
I0305 23:26:10.617489       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3bfe9cf4-fcce-401c-91e8-e6a97479f132"
I0305 23:26:10.617496       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.617533       1 gateway.go:207] "Processing request" requestID="2406f21d-c43d-4247-931e-2aef13d49028"
I0305 23:26:10.617564       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2406f21d-c43d-4247-931e-2aef13d49028"
I0305 23:26:10.617575       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.625920       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0485, numInputTokens, 7600
I0305 23:26:10.625942       1 tree.go:471] Updated node(0) last access: 117.9300 seconds
I0305 23:26:10.625948       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.625952       1 tree.go:471] Updated node(2) last access: 117.9300 seconds
I0305 23:26:10.625966       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:10.625970       1 tree.go:471] Updated node(29) last access: 117.9300 seconds
I0305 23:26:10.625976       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:10.625982       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:10.625988       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:10.625995       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.626001       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.625983784 +0000 UTC m=+118.048055318]
I0305 23:26:10.626016       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:10.626023       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:10.626052       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:10.626060       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:10.626069       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.626074       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.626079       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.626084       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.626092       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.626101       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:10.626110       1 prefix_cache_and_load.go:584] latency, Route, 0.3502
I0305 23:26:10.626123       1 gateway.go:415] latency, selectTargetPod, 0.3502, target pod, 10.0.0.134:8000
I0305 23:26:10.626133       1 gateway.go:235] latency, HandleRequestBody, 0.3506
I0305 23:26:10.626133       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3414
I0305 23:26:10.626140       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.626145       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.626214       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.626239       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:10.626245       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.631907       1 gateway.go:608] "First token received" requestID="533bfe28-41c1-4a25-a925-b071b1692b5c" ttft_ms=384
I0305 23:26:10.645542       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ea34d996-f65c-47cc-83b3-ff2fc049cac4"
I0305 23:26:10.660039       1 gateway.go:562] latency, 0.0000, summary, hash(request), da5d46f7, selectedpod, 10.0.0.134:8000, ttft, 323, tpot, 20, e2e, 508, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:10.660056       1 gateway.go:748] "Request completed" requestID="a043a61c-142e-4997-8b8d-1f13a1bf8421" targetPod="10.0.0.134:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:10.660065       1 gateway.go:764] "HandleResponseBody completed" requestID="a043a61c-142e-4997-8b8d-1f13a1bf8421" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:10.690738       1 gateway.go:608] "First token received" requestID="ea34d996-f65c-47cc-83b3-ff2fc049cac4" ttft_ms=415
I0305 23:26:10.691515       1 gateway.go:207] "Processing request" requestID="7c02bbc3-603b-46a3-aeaa-95de834a28f0"
I0305 23:26:10.691530       1 gateway.go:207] "Processing request" requestID="2780ce83-3adf-454d-916b-68b40e961762"
I0305 23:26:10.691540       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7c02bbc3-603b-46a3-aeaa-95de834a28f0"
I0305 23:26:10.691548       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.691560       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2780ce83-3adf-454d-916b-68b40e961762"
I0305 23:26:10.691569       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.692822       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ea0f467d-249c-4e5b-b200-99b11c1f1055"
I0305 23:26:10.693045       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ea0f467d-249c-4e5b-b200-99b11c1f1055" model="qwen2-5-7b-instruct"
I0305 23:26:10.693545       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9866250f-73af-4dc2-8327-2996038792c3"
I0305 23:26:10.693765       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9866250f-73af-4dc2-8327-2996038792c3" model="qwen2-5-7b-instruct"
I0305 23:26:10.696194       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d1fe6356-381a-48cb-9a78-a6f44315dfa3"
I0305 23:26:10.697107       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2e530551-a77d-46a3-a32b-f5a76d87a03c"
I0305 23:26:10.698552       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8df98a79-e45c-4a85-965b-48266e6e5d4a"
I0305 23:26:10.698734       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0725, numInputTokens, 7601
I0305 23:26:10.698760       1 tree.go:471] Updated node(0) last access: 118.0028 seconds
I0305 23:26:10.698769       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.698775       1 tree.go:471] Updated node(2) last access: 118.0028 seconds
I0305 23:26:10.698796       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:10.698803       1 tree.go:471] Updated node(19) last access: 118.0029 seconds
I0305 23:26:10.698811       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:10.698849       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:10.698862       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:10.698871       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.698879       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.698853497 +0000 UTC m=+118.120925037]
I0305 23:26:10.698895       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:10.698905       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:10.698987       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7478
I0305 23:26:10.699006       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:10.699021       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.699032       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.699038       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.699048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.699059       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.699073       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:10.699089       1 prefix_cache_and_load.go:584] latency, Route, 0.4144
I0305 23:26:10.699104       1 gateway.go:415] latency, selectTargetPod, 0.4144, target pod, 10.0.0.4:8000
I0305 23:26:10.699128       1 gateway.go:235] latency, HandleRequestBody, 0.4147
I0305 23:26:10.699161       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4110
I0305 23:26:10.699167       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.699171       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.699306       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.699348       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:10.699366       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.719700       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fe2fed01-0745-4f08-9bd6-2b007e590c53"
I0305 23:26:10.730995       1 gateway.go:562] latency, 0.0001, summary, hash(request), e264593e, selectedpod, 10.0.3.38:8000, ttft, 416, tpot, 17, e2e, 571, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:10.731024       1 gateway.go:748] "Request completed" requestID="53764b09-c0e7-434c-8c0a-9be5cacfaad4" targetPod="10.0.3.38:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:10.731042       1 gateway.go:764] "HandleResponseBody completed" requestID="53764b09-c0e7-434c-8c0a-9be5cacfaad4" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:10.775655       1 gateway.go:608] "First token received" requestID="fe2fed01-0745-4f08-9bd6-2b007e590c53" ttft_ms=491
I0305 23:26:10.775742       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8df98a79-e45c-4a85-965b-48266e6e5d4a" model="qwen2-5-7b-instruct"
I0305 23:26:10.775762       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2e530551-a77d-46a3-a32b-f5a76d87a03c" model="qwen2-5-7b-instruct"
I0305 23:26:10.775819       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d1fe6356-381a-48cb-9a78-a6f44315dfa3" model="qwen2-5-7b-instruct"
I0305 23:26:10.796101       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0967, numInputTokens, 7600
I0305 23:26:10.796117       1 tree.go:471] Updated node(0) last access: 118.1002 seconds
I0305 23:26:10.796124       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.796127       1 tree.go:471] Updated node(2) last access: 118.1002 seconds
I0305 23:26:10.796141       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:10.796145       1 tree.go:471] Updated node(23) last access: 118.1002 seconds
I0305 23:26:10.796151       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:10.796156       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:10.796165       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:10.796173       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.796181       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.796158945 +0000 UTC m=+118.218230489]
I0305 23:26:10.796202       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:10.796213       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:10.796251       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:10.796262       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:10.796270       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.796273       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.796280       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.796287       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.796300       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.796314       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:10.796329       1 prefix_cache_and_load.go:584] latency, Route, 0.5081
I0305 23:26:10.796349       1 gateway.go:415] latency, selectTargetPod, 0.5082, target pod, 10.0.3.13:8000
I0305 23:26:10.796363       1 gateway.go:235] latency, HandleRequestBody, 0.5085
I0305 23:26:10.796398       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4455
I0305 23:26:10.796403       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.796406       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.796477       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.796505       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:10.796511       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.813701       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="337eba4a-cc53-4e28-a30e-620b06b717c8"
I0305 23:26:10.848452       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0bc01985, selectedpod, 10.0.0.4:8000, ttft, 384, tpot, 24, e2e, 600, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:10.848478       1 gateway.go:748] "Request completed" requestID="533bfe28-41c1-4a25-a925-b071b1692b5c" targetPod="10.0.0.4:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:10.848491       1 gateway.go:764] "HandleResponseBody completed" requestID="533bfe28-41c1-4a25-a925-b071b1692b5c" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:10.848541       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0520, numInputTokens, 7598
I0305 23:26:10.848559       1 tree.go:471] Updated node(0) last access: 118.1526 seconds
I0305 23:26:10.848565       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.848569       1 tree.go:471] Updated node(2) last access: 118.1526 seconds
I0305 23:26:10.848582       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:10.848586       1 tree.go:471] Updated node(11) last access: 118.1526 seconds
I0305 23:26:10.848589       1 tree.go:490] Partial tokens match child node(13). Continue to go deeper in the radix tree
I0305 23:26:10.848592       1 tree.go:471] Updated node(13) last access: 118.1526 seconds
I0305 23:26:10.848602       1 tree.go:667] Split complete - New node(90)
I0305 23:26:10.848607       1 tree.go:668] Split complete - Child node(14)
I0305 23:26:10.848612       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:10.848616       1 tree.go:471] Updated node(90) last access: 118.1527 seconds
I0305 23:26:10.848621       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 107 tokens:
I0305 23:26:10.848624       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:10.848632       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:10.848641       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.848647       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.848626622 +0000 UTC m=+118.270698234]
I0305 23:26:10.848664       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7491, Matching ratio: 0.9859, # Matched pods: 0, Matched pods: []
I0305 23:26:10.848671       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9859 > 0.5000)
I0305 23:26:10.848709       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7491
I0305 23:26:10.848717       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:10.848726       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.848732       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.848736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.848740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.848744       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.848748       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.848756       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.848764       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:10.848774       1 prefix_cache_and_load.go:584] latency, Route, 0.4979
I0305 23:26:10.848844       1 gateway.go:415] latency, selectTargetPod, 0.4979, target pod, 10.0.1.25:8000
I0305 23:26:10.848856       1 gateway.go:235] latency, HandleRequestBody, 0.4982
I0305 23:26:10.848862       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4729
I0305 23:26:10.848873       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.848878       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.848973       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.849002       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:10.849008       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.872057       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9c16308f-0101-4e00-a969-033cee54996e"
I0305 23:26:10.872278       1 gateway.go:562] latency, 0.0000, summary, hash(request), c5c37b8f, selectedpod, 10.0.0.134:8000, ttft, 415, tpot, 20, e2e, 596, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:10.872298       1 gateway.go:748] "Request completed" requestID="ea34d996-f65c-47cc-83b3-ff2fc049cac4" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:10.872309       1 gateway.go:764] "HandleResponseBody completed" requestID="ea34d996-f65c-47cc-83b3-ff2fc049cac4" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:10.875478       1 gateway.go:608] "First token received" requestID="337eba4a-cc53-4e28-a30e-620b06b717c8" ttft_ms=569
I0305 23:26:10.906007       1 gateway.go:608] "First token received" requestID="9c16308f-0101-4e00-a969-033cee54996e" ttft_ms=555
I0305 23:26:10.916522       1 gateway.go:207] "Processing request" requestID="482efcdf-1f94-432f-a6b9-1eb9b882a3ce"
I0305 23:26:10.916549       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="482efcdf-1f94-432f-a6b9-1eb9b882a3ce"
I0305 23:26:10.916556       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.917648       1 gateway.go:207] "Processing request" requestID="e6a2361e-90aa-4707-ac70-fdbe2d5b0be0"
I0305 23:26:10.917686       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e6a2361e-90aa-4707-ac70-fdbe2d5b0be0"
I0305 23:26:10.917699       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.919741       1 gateway.go:207] "Processing request" requestID="86737a94-ce60-4a35-9008-6d40ff267c88"
I0305 23:26:10.919772       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="86737a94-ce60-4a35-9008-6d40ff267c88"
I0305 23:26:10.919783       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:10.919796       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c17c51b3-598f-4204-b4ba-e158d0358eb0"
I0305 23:26:10.920031       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c17c51b3-598f-4204-b4ba-e158d0358eb0" model="qwen2-5-7b-instruct"
I0305 23:26:10.921115       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2406f21d-c43d-4247-931e-2aef13d49028"
I0305 23:26:10.921385       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2406f21d-c43d-4247-931e-2aef13d49028" model="qwen2-5-7b-instruct"
I0305 23:26:10.922385       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9c0cff91-f880-4e63-a9f5-03694cde8a38"
I0305 23:26:10.922607       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0736, numInputTokens, 7599
I0305 23:26:10.922626       1 tree.go:471] Updated node(0) last access: 118.2267 seconds
I0305 23:26:10.922628       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9c0cff91-f880-4e63-a9f5-03694cde8a38" model="qwen2-5-7b-instruct"
I0305 23:26:10.922632       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:10.922704       1 tree.go:471] Updated node(2) last access: 118.2268 seconds
I0305 23:26:10.922718       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:10.922723       1 tree.go:471] Updated node(46) last access: 118.2268 seconds
I0305 23:26:10.922729       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:10.922735       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:10.922743       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:10.922749       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:10.922754       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:10.922737819 +0000 UTC m=+118.344809353]
I0305 23:26:10.922767       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:10.922775       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:10.922808       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:10.922818       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:10.922826       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.922826       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4fad8f2c-909b-482d-8183-0f73e76f8318"
I0305 23:26:10.922832       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.922836       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.922842       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:10.922849       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:10.922859       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:10.922869       1 prefix_cache_and_load.go:584] latency, Route, 0.5469
I0305 23:26:10.922883       1 gateway.go:415] latency, selectTargetPod, 0.5470, target pod, 10.0.3.13:8000
I0305 23:26:10.922895       1 gateway.go:235] latency, HandleRequestBody, 0.5473
I0305 23:26:10.922932       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5469
I0305 23:26:10.922945       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:10.922948       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:10.923002       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:10.923019       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:10.923022       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:10.923093       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4fad8f2c-909b-482d-8183-0f73e76f8318" model="qwen2-5-7b-instruct"
I0305 23:26:10.923109       1 gateway.go:329] "-- In RequestBody processing ..." requestID="86737a94-ce60-4a35-9008-6d40ff267c88"
I0305 23:26:10.923339       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="86737a94-ce60-4a35-9008-6d40ff267c88" model="qwen2-5-7b-instruct"
I0305 23:26:10.923836       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2780ce83-3adf-454d-916b-68b40e961762"
I0305 23:26:10.924061       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2780ce83-3adf-454d-916b-68b40e961762" model="qwen2-5-7b-instruct"
I0305 23:26:10.924528       1 gateway.go:329] "-- In RequestBody processing ..." requestID="482efcdf-1f94-432f-a6b9-1eb9b882a3ce"
I0305 23:26:10.924805       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="482efcdf-1f94-432f-a6b9-1eb9b882a3ce" model="qwen2-5-7b-instruct"
I0305 23:26:10.924984       1 gateway.go:329] "-- In RequestBody processing ..." requestID="569babfe-a19c-4a93-b85b-ba8cdf535c23"
I0305 23:26:10.925203       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="569babfe-a19c-4a93-b85b-ba8cdf535c23" model="qwen2-5-7b-instruct"
I0305 23:26:10.925650       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3bfe9cf4-fcce-401c-91e8-e6a97479f132"
I0305 23:26:10.925905       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3bfe9cf4-fcce-401c-91e8-e6a97479f132" model="qwen2-5-7b-instruct"
I0305 23:26:10.927455       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7c02bbc3-603b-46a3-aeaa-95de834a28f0"
I0305 23:26:10.927679       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7c02bbc3-603b-46a3-aeaa-95de834a28f0" model="qwen2-5-7b-instruct"
I0305 23:26:10.939380       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="94c52a5f-53b4-480b-bd99-bffe33358e65"
I0305 23:26:10.945569       1 gateway.go:562] latency, 0.0000, summary, hash(request), cafb37d4, selectedpod, 10.0.0.4:8000, ttft, 491, tpot, 18, e2e, 661, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:10.945592       1 gateway.go:748] "Request completed" requestID="fe2fed01-0745-4f08-9bd6-2b007e590c53" targetPod="10.0.0.4:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:10.945605       1 gateway.go:764] "HandleResponseBody completed" requestID="fe2fed01-0745-4f08-9bd6-2b007e590c53" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:10.994030       1 gateway.go:608] "First token received" requestID="94c52a5f-53b4-480b-bd99-bffe33358e65" ttft_ms=618
I0305 23:26:11.013115       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0901, numInputTokens, 7599
I0305 23:26:11.013134       1 tree.go:471] Updated node(0) last access: 118.3172 seconds
I0305 23:26:11.013140       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.013144       1 tree.go:471] Updated node(2) last access: 118.3172 seconds
I0305 23:26:11.013159       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:11.013164       1 tree.go:471] Updated node(33) last access: 118.3172 seconds
I0305 23:26:11.013172       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:11.013178       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:11.013186       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:11.013196       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.013203       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.013180998 +0000 UTC m=+118.435252541]
I0305 23:26:11.013222       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:11.013234       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:11.013275       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7478
I0305 23:26:11.013285       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:11.013295       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.013301       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.013305       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.013308       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.013317       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.013327       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:11.013339       1 prefix_cache_and_load.go:584] latency, Route, 0.6373
I0305 23:26:11.013353       1 gateway.go:415] latency, selectTargetPod, 0.6373, target pod, 10.0.3.38:8000
I0305 23:26:11.013363       1 gateway.go:235] latency, HandleRequestBody, 0.6378
I0305 23:26:11.013391       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6298
I0305 23:26:11.013395       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.013398       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.013459       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.013481       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.013486       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.029633       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="65d2b207-b9e0-4e1d-b14a-b3e4947f285b"
I0305 23:26:11.030178       1 gateway.go:207] "Processing request" requestID="c0da1808-df20-4893-b4d0-c3c3f212b642"
I0305 23:26:11.030202       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c0da1808-df20-4893-b4d0-c3c3f212b642"
I0305 23:26:11.030211       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:11.031265       1 gateway.go:207] "Processing request" requestID="c77904ad-f27c-447d-8400-bcde71576435"
I0305 23:26:11.031287       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c77904ad-f27c-447d-8400-bcde71576435"
I0305 23:26:11.031294       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:11.033477       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c0da1808-df20-4893-b4d0-c3c3f212b642"
I0305 23:26:11.033804       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c0da1808-df20-4893-b4d0-c3c3f212b642" model="qwen2-5-7b-instruct"
I0305 23:26:11.040951       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c77904ad-f27c-447d-8400-bcde71576435"
I0305 23:26:11.041317       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c77904ad-f27c-447d-8400-bcde71576435" model="qwen2-5-7b-instruct"
I0305 23:26:11.044173       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e6a2361e-90aa-4707-ac70-fdbe2d5b0be0"
I0305 23:26:11.044537       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e6a2361e-90aa-4707-ac70-fdbe2d5b0be0" model="qwen2-5-7b-instruct"
I0305 23:26:11.062833       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0493, numInputTokens, 7601
I0305 23:26:11.062851       1 tree.go:471] Updated node(0) last access: 118.3669 seconds
I0305 23:26:11.062856       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.062860       1 tree.go:471] Updated node(2) last access: 118.3669 seconds
I0305 23:26:11.062873       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:11.062878       1 tree.go:471] Updated node(11) last access: 118.3669 seconds
I0305 23:26:11.062887       1 tree.go:667] Split complete - New node(94)
I0305 23:26:11.062890       1 tree.go:668] Split complete - Child node(71)
I0305 23:26:11.062894       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 23:26:11.062900       1 tree.go:471] Updated node(94) last access: 118.3670 seconds
I0305 23:26:11.062905       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:11.062910       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:11.062916       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:11.062923       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.062928       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.062912369 +0000 UTC m=+118.484983904]
I0305 23:26:11.062951       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7483, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:11.062959       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:11.062989       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7483
I0305 23:26:11.062998       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:11.063006       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.063012       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.063016       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.063020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.063025       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.063033       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.063041       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:11.063052       1 prefix_cache_and_load.go:584] latency, Route, 0.6795
I0305 23:26:11.063067       1 gateway.go:415] latency, selectTargetPod, 0.6795, target pod, 10.0.1.25:8000
I0305 23:26:11.063079       1 gateway.go:235] latency, HandleRequestBody, 0.6798
I0305 23:26:11.063107       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6526
I0305 23:26:11.063123       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.063129       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.063217       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.063242       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.063249       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.072869       1 gateway.go:608] "First token received" requestID="65d2b207-b9e0-4e1d-b14a-b3e4947f285b" ttft_ms=697
I0305 23:26:11.075925       1 gateway.go:562] latency, 0.0000, summary, hash(request), 754d2c24, selectedpod, 10.0.3.13:8000, ttft, 569, tpot, 24, e2e, 787, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:11.075957       1 gateway.go:748] "Request completed" requestID="337eba4a-cc53-4e28-a30e-620b06b717c8" targetPod="10.0.3.13:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:11.075968       1 gateway.go:764] "HandleResponseBody completed" requestID="337eba4a-cc53-4e28-a30e-620b06b717c8" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:11.079742       1 gateway.go:562] latency, 0.0001, summary, hash(request), 20151f27, selectedpod, 10.0.1.25:8000, ttft, 555, tpot, 19, e2e, 729, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:11.079765       1 gateway.go:748] "Request completed" requestID="9c16308f-0101-4e00-a969-033cee54996e" targetPod="10.0.1.25:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:11.079775       1 gateway.go:764] "HandleResponseBody completed" requestID="9c16308f-0101-4e00-a969-033cee54996e" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:11.084011       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7835861f-22ba-45f7-b524-146099cbde5c"
I0305 23:26:11.125950       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0627, numInputTokens, 7596
I0305 23:26:11.125969       1 tree.go:471] Updated node(0) last access: 118.4300 seconds
I0305 23:26:11.125975       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.125978       1 tree.go:471] Updated node(2) last access: 118.4300 seconds
I0305 23:26:11.125990       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:11.125994       1 tree.go:471] Updated node(33) last access: 118.4301 seconds
I0305 23:26:11.126003       1 tree.go:667] Split complete - New node(96)
I0305 23:26:11.126008       1 tree.go:668] Split complete - Child node(84)
I0305 23:26:11.126013       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:11.126017       1 tree.go:471] Updated node(96) last access: 118.4301 seconds
I0305 23:26:11.126023       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 23:26:11.126029       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 23:26:11.126035       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:11.126041       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.126046       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.126030831 +0000 UTC m=+118.548102365]
I0305 23:26:11.126060       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7484, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 23:26:11.126066       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 23:26:11.126096       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7484
I0305 23:26:11.126105       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:11.126113       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.126119       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.126123       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.126127       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.126133       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.126141       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.126150       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:11.126161       1 prefix_cache_and_load.go:584] latency, Route, 0.7157
I0305 23:26:11.126175       1 gateway.go:415] latency, selectTargetPod, 0.7157, target pod, 10.0.3.38:8000
I0305 23:26:11.126189       1 gateway.go:235] latency, HandleRequestBody, 0.7160
I0305 23:26:11.126231       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6794
I0305 23:26:11.126248       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.126253       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.126332       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.126357       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.126364       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.138877       1 gateway.go:608] "First token received" requestID="7835861f-22ba-45f7-b524-146099cbde5c" ttft_ms=755
I0305 23:26:11.141482       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e2c596f1-f81b-4db7-877a-f26980a2da65"
I0305 23:26:11.172070       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1b1c7493, selectedpod, 10.0.3.13:8000, ttft, 618, tpot, 19, e2e, 796, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:11.172091       1 gateway.go:748] "Request completed" requestID="94c52a5f-53b4-480b-bd99-bffe33358e65" targetPod="10.0.3.13:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:11.172104       1 gateway.go:764] "HandleResponseBody completed" requestID="94c52a5f-53b4-480b-bd99-bffe33358e65" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:11.182526       1 gateway.go:608] "First token received" requestID="e2c596f1-f81b-4db7-877a-f26980a2da65" ttft_ms=772
I0305 23:26:11.200826       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0745, numInputTokens, 7602
I0305 23:26:11.200844       1 tree.go:471] Updated node(0) last access: 118.5049 seconds
I0305 23:26:11.200850       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.200853       1 tree.go:471] Updated node(2) last access: 118.5049 seconds
I0305 23:26:11.200866       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:11.200869       1 tree.go:471] Updated node(21) last access: 118.5049 seconds
I0305 23:26:11.200877       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 23:26:11.200882       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 23:26:11.200890       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:11.200898       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.200905       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.200884212 +0000 UTC m=+118.622955751]
I0305 23:26:11.200921       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 23:26:11.200929       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 23:26:11.200972       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7478
I0305 23:26:11.200981       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:11.200988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.200993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.200998       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.201002       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.201011       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.201020       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:11.201030       1 prefix_cache_and_load.go:584] latency, Route, 0.7542
I0305 23:26:11.201048       1 gateway.go:415] latency, selectTargetPod, 0.7543, target pod, 10.0.0.39:8000
I0305 23:26:11.201062       1 gateway.go:235] latency, HandleRequestBody, 0.7548
I0305 23:26:11.201105       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7534
I0305 23:26:11.201118       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.201122       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.201193       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.201211       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.201216       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.219237       1 gateway.go:207] "Processing request" requestID="562de5fd-c588-46f7-8d9b-85e36de4b9e3"
I0305 23:26:11.219265       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="562de5fd-c588-46f7-8d9b-85e36de4b9e3"
I0305 23:26:11.219274       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:11.220967       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="707adf1f-07c0-4fe6-a000-68cc37afbc7c"
I0305 23:26:11.222949       1 gateway.go:329] "-- In RequestBody processing ..." requestID="562de5fd-c588-46f7-8d9b-85e36de4b9e3"
I0305 23:26:11.223153       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="562de5fd-c588-46f7-8d9b-85e36de4b9e3" model="qwen2-5-7b-instruct"
I0305 23:26:11.245946       1 gateway.go:207] "Processing request" requestID="f3e9c98b-b0ce-4193-b84c-60502e441985"
I0305 23:26:11.245968       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f3e9c98b-b0ce-4193-b84c-60502e441985"
I0305 23:26:11.245975       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:11.252754       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f3e9c98b-b0ce-4193-b84c-60502e441985"
I0305 23:26:11.252991       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f3e9c98b-b0ce-4193-b84c-60502e441985" model="qwen2-5-7b-instruct"
I0305 23:26:11.264811       1 gateway.go:608] "First token received" requestID="707adf1f-07c0-4fe6-a000-68cc37afbc7c" ttft_ms=818
I0305 23:26:11.279220       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0780, numInputTokens, 7601
I0305 23:26:11.279237       1 tree.go:471] Updated node(0) last access: 118.5833 seconds
I0305 23:26:11.279243       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.279246       1 tree.go:471] Updated node(2) last access: 118.5833 seconds
I0305 23:26:11.279260       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:11.279264       1 tree.go:471] Updated node(46) last access: 118.5833 seconds
I0305 23:26:11.279270       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:11.279276       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 23:26:11.279283       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:11.279289       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.279294       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.279278592 +0000 UTC m=+118.701350136]
I0305 23:26:11.279308       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:11.279316       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:11.279345       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:11.279354       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:11.279362       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.279369       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.279373       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.279376       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.279383       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.279393       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:11.279402       1 prefix_cache_and_load.go:584] latency, Route, 0.8317
I0305 23:26:11.279416       1 gateway.go:415] latency, selectTargetPod, 0.8317, target pod, 10.0.3.13:8000
I0305 23:26:11.279426       1 gateway.go:235] latency, HandleRequestBody, 0.8321
I0305 23:26:11.279427       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8299
I0305 23:26:11.279435       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.279440       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.279527       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.279546       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.279553       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.283229       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3357b9bb, selectedpod, 10.0.3.38:8000, ttft, 697, tpot, 23, e2e, 907, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:11.283255       1 gateway.go:748] "Request completed" requestID="65d2b207-b9e0-4e1d-b14a-b3e4947f285b" targetPod="10.0.3.38:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:11.283268       1 gateway.go:764] "HandleResponseBody completed" requestID="65d2b207-b9e0-4e1d-b14a-b3e4947f285b" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:11.295056       1 gateway.go:207] "Processing request" requestID="44793d77-9bc0-4cfa-9afd-869c448ea434"
I0305 23:26:11.295093       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="44793d77-9bc0-4cfa-9afd-869c448ea434"
I0305 23:26:11.295104       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:11.299022       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="177cd5cd-2141-43ed-b8b2-0698585a945d"
I0305 23:26:11.304571       1 gateway.go:329] "-- In RequestBody processing ..." requestID="44793d77-9bc0-4cfa-9afd-869c448ea434"
I0305 23:26:11.304792       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="44793d77-9bc0-4cfa-9afd-869c448ea434" model="qwen2-5-7b-instruct"
I0305 23:26:11.312882       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7eb5fc54, selectedpod, 10.0.1.25:8000, ttft, 755, tpot, 19, e2e, 929, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:11.312903       1 gateway.go:748] "Request completed" requestID="7835861f-22ba-45f7-b524-146099cbde5c" targetPod="10.0.1.25:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:11.312918       1 gateway.go:764] "HandleResponseBody completed" requestID="7835861f-22ba-45f7-b524-146099cbde5c" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:11.331090       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0515, numInputTokens, 7599
I0305 23:26:11.331108       1 tree.go:471] Updated node(0) last access: 118.6352 seconds
I0305 23:26:11.331115       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.331118       1 tree.go:471] Updated node(2) last access: 118.6352 seconds
I0305 23:26:11.331136       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:11.331140       1 tree.go:471] Updated node(19) last access: 118.6352 seconds
I0305 23:26:11.331150       1 tree.go:667] Split complete - New node(100)
I0305 23:26:11.331154       1 tree.go:668] Split complete - Child node(28)
I0305 23:26:11.331159       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 23:26:11.331164       1 tree.go:471] Updated node(100) last access: 118.6352 seconds
I0305 23:26:11.331169       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:11.331174       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:11.331180       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:11.331187       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.331192       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.331175836 +0000 UTC m=+118.753247371]
I0305 23:26:11.331207       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7479, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:11.331213       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:11.331243       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7479
I0305 23:26:11.331252       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:11.331260       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.331268       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.331274       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.331279       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.331285       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.331292       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.331302       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:11.331314       1 prefix_cache_and_load.go:584] latency, Route, 0.8818
I0305 23:26:11.331330       1 gateway.go:415] latency, selectTargetPod, 0.8818, target pod, 10.0.0.4:8000
I0305 23:26:11.331343       1 gateway.go:235] latency, HandleRequestBody, 0.8821
I0305 23:26:11.331369       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8465
I0305 23:26:11.331374       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.331376       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.331423       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.331439       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.331455       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.332766       1 gateway.go:207] "Processing request" requestID="30d06d43-c309-403e-8d16-fd68d74e2405"
I0305 23:26:11.332792       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="30d06d43-c309-403e-8d16-fd68d74e2405"
I0305 23:26:11.332799       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:11.339087       1 gateway.go:608] "First token received" requestID="177cd5cd-2141-43ed-b8b2-0698585a945d" ttft_ms=891
I0305 23:26:11.375505       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="db47c187-68c2-46f9-8085-08ddf447b042"
I0305 23:26:11.375513       1 gateway.go:329] "-- In RequestBody processing ..." requestID="30d06d43-c309-403e-8d16-fd68d74e2405"
I0305 23:26:11.375595       1 gateway.go:562] latency, 0.0000, summary, hash(request), d8692829, selectedpod, 10.0.3.38:8000, ttft, 772, tpot, 21, e2e, 965, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:11.375617       1 gateway.go:748] "Request completed" requestID="e2c596f1-f81b-4db7-877a-f26980a2da65" targetPod="10.0.3.38:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:11.375630       1 gateway.go:764] "HandleResponseBody completed" requestID="e2c596f1-f81b-4db7-877a-f26980a2da65" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:11.375725       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="30d06d43-c309-403e-8d16-fd68d74e2405" model="qwen2-5-7b-instruct"
I0305 23:26:11.393430       1 gateway.go:608] "First token received" requestID="db47c187-68c2-46f9-8085-08ddf447b042" ttft_ms=944
I0305 23:26:11.415919       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0845, numInputTokens, 7593
I0305 23:26:11.415946       1 tree.go:471] Updated node(0) last access: 118.7200 seconds
I0305 23:26:11.415952       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.415955       1 tree.go:471] Updated node(2) last access: 118.7200 seconds
I0305 23:26:11.415968       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:11.415973       1 tree.go:471] Updated node(23) last access: 118.7200 seconds
I0305 23:26:11.415983       1 tree.go:667] Split complete - New node(102)
I0305 23:26:11.415986       1 tree.go:668] Split complete - Child node(78)
I0305 23:26:11.415990       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 23:26:11.415995       1 tree.go:471] Updated node(102) last access: 118.7201 seconds
I0305 23:26:11.416001       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:11.416006       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7593 tokens
I0305 23:26:11.416020       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 23:26:11.416027       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.416032       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.416008287 +0000 UTC m=+118.838079822]
I0305 23:26:11.416046       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7479, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:11.416053       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:11.416083       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7479
I0305 23:26:11.416092       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:11.416103       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.416109       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.416114       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.416118       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.416122       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.416130       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.416144       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:11.416156       1 prefix_cache_and_load.go:584] latency, Route, 0.9313
I0305 23:26:11.416175       1 gateway.go:415] latency, selectTargetPod, 0.9313, target pod, 10.0.3.13:8000
I0305 23:26:11.416186       1 gateway.go:235] latency, HandleRequestBody, 0.9316
I0305 23:26:11.416233       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9308
I0305 23:26:11.416237       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.416241       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.416286       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.416306       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.416312       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.420168       1 gateway.go:207] "Processing request" requestID="7c11b01d-1129-4ee1-861f-3b30d22f4472"
I0305 23:26:11.420199       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7c11b01d-1129-4ee1-861f-3b30d22f4472"
I0305 23:26:11.420209       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:11.430169       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7c11b01d-1129-4ee1-861f-3b30d22f4472"
I0305 23:26:11.430372       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7c11b01d-1129-4ee1-861f-3b30d22f4472" model="qwen2-5-7b-instruct"
I0305 23:26:11.432018       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ee41e860-e3a7-4aa6-8e23-1ed5f74b8f23"
I0305 23:26:11.440928       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6dd1d4d2, selectedpod, 10.0.0.39:8000, ttft, 818, tpot, 19, e2e, 994, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:11.440959       1 gateway.go:748] "Request completed" requestID="707adf1f-07c0-4fe6-a000-68cc37afbc7c" targetPod="10.0.0.39:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:11.440973       1 gateway.go:764] "HandleResponseBody completed" requestID="707adf1f-07c0-4fe6-a000-68cc37afbc7c" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:11.468701       1 gateway.go:608] "First token received" requestID="ee41e860-e3a7-4aa6-8e23-1ed5f74b8f23" ttft_ms=984
I0305 23:26:11.494906       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0786, numInputTokens, 7596
I0305 23:26:11.494922       1 tree.go:471] Updated node(0) last access: 118.7990 seconds
I0305 23:26:11.494928       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.494931       1 tree.go:471] Updated node(2) last access: 118.7990 seconds
I0305 23:26:11.494951       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:11.494956       1 tree.go:471] Updated node(4) last access: 118.7990 seconds
I0305 23:26:11.494965       1 tree.go:667] Split complete - New node(104)
I0305 23:26:11.494969       1 tree.go:668] Split complete - Child node(37)
I0305 23:26:11.494975       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:11.494980       1 tree.go:471] Updated node(104) last access: 118.7990 seconds
I0305 23:26:11.494985       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 23:26:11.494991       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 23:26:11.494997       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:11.495004       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.495009       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.494993421 +0000 UTC m=+118.917064956]
I0305 23:26:11.495022       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7483, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 23:26:11.495030       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 23:26:11.495063       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7483
I0305 23:26:11.495072       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:11.495081       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.495086       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.495091       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.495096       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.495100       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.495109       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.495117       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:11.495127       1 prefix_cache_and_load.go:584] latency, Route, 1.0097
I0305 23:26:11.495141       1 gateway.go:415] latency, selectTargetPod, 1.0097, target pod, 10.0.1.20:8000
I0305 23:26:11.495151       1 gateway.go:235] latency, HandleRequestBody, 1.0100
I0305 23:26:11.495178       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0076
I0305 23:26:11.495183       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.495186       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.495234       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.495251       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.495255       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.506432       1 gateway.go:207] "Processing request" requestID="f64b86eb-4546-47f5-a68f-faee7b8913c9"
I0305 23:26:11.506469       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f64b86eb-4546-47f5-a68f-faee7b8913c9"
I0305 23:26:11.506478       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:11.514735       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4cc60746-ebdb-4d6c-8822-2ac5c4745ee7"
I0305 23:26:11.516850       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f64b86eb-4546-47f5-a68f-faee7b8913c9"
I0305 23:26:11.517068       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f64b86eb-4546-47f5-a68f-faee7b8913c9" model="qwen2-5-7b-instruct"
I0305 23:26:11.530694       1 gateway.go:207] "Processing request" requestID="d3286134-39fc-4a72-a97a-38fed8e7985a"
I0305 23:26:11.530713       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d3286134-39fc-4a72-a97a-38fed8e7985a"
I0305 23:26:11.530721       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:11.541016       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d3286134-39fc-4a72-a97a-38fed8e7985a"
I0305 23:26:11.541236       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d3286134-39fc-4a72-a97a-38fed8e7985a" model="qwen2-5-7b-instruct"
I0305 23:26:11.543027       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0478, numInputTokens, 7602
I0305 23:26:11.543042       1 tree.go:471] Updated node(0) last access: 118.8471 seconds
I0305 23:26:11.543047       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.543050       1 tree.go:471] Updated node(2) last access: 118.8471 seconds
I0305 23:26:11.543065       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:11.543069       1 tree.go:471] Updated node(38) last access: 118.8471 seconds
I0305 23:26:11.543077       1 tree.go:667] Split complete - New node(106)
I0305 23:26:11.543080       1 tree.go:668] Split complete - Child node(77)
I0305 23:26:11.543086       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 23:26:11.543091       1 tree.go:471] Updated node(106) last access: 118.8471 seconds
I0305 23:26:11.543096       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:11.543102       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:11.543109       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:11.543115       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.543119       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.543104226 +0000 UTC m=+118.965175761]
I0305 23:26:11.543133       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7487, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:11.543139       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:11.543171       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7487
I0305 23:26:11.543179       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:11.543188       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.543193       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.543197       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.543203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.543208       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.543217       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.543224       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:11.543234       1 prefix_cache_and_load.go:584] latency, Route, 1.0557
I0305 23:26:11.543248       1 gateway.go:415] latency, selectTargetPod, 1.0557, target pod, 10.0.0.134:8000
I0305 23:26:11.543258       1 gateway.go:235] latency, HandleRequestBody, 1.0560
I0305 23:26:11.543280       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0510
I0305 23:26:11.543285       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.543288       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.543335       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.543351       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.543354       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.551354       1 gateway.go:608] "First token received" requestID="4cc60746-ebdb-4d6c-8822-2ac5c4745ee7" ttft_ms=1066
I0305 23:26:11.552982       1 gateway.go:562] latency, 0.0000, summary, hash(request), 67ef165c, selectedpod, 10.0.3.13:8000, ttft, 891, tpot, 23, e2e, 1105, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:11.553005       1 gateway.go:748] "Request completed" requestID="177cd5cd-2141-43ed-b8b2-0698585a945d" targetPod="10.0.3.13:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:11.553018       1 gateway.go:764] "HandleResponseBody completed" requestID="177cd5cd-2141-43ed-b8b2-0698585a945d" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:11.562714       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ab18deb4-367d-48ff-8bbb-acc301c67bde"
I0305 23:26:11.575680       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2e36eac4, selectedpod, 10.0.0.4:8000, ttft, 944, tpot, 20, e2e, 1126, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:11.575724       1 gateway.go:748] "Request completed" requestID="db47c187-68c2-46f9-8085-08ddf447b042" targetPod="10.0.0.4:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:11.575926       1 gateway.go:764] "HandleResponseBody completed" requestID="db47c187-68c2-46f9-8085-08ddf447b042" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:11.600813       1 gateway.go:608] "First token received" requestID="ab18deb4-367d-48ff-8bbb-acc301c67bde" ttft_ms=1113
I0305 23:26:11.624114       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0808, numInputTokens, 7597
I0305 23:26:11.624132       1 tree.go:471] Updated node(0) last access: 118.9282 seconds
I0305 23:26:11.624138       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.624142       1 tree.go:471] Updated node(2) last access: 118.9282 seconds
I0305 23:26:11.624156       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:11.624160       1 tree.go:471] Updated node(33) last access: 118.9282 seconds
I0305 23:26:11.624163       1 tree.go:490] Partial tokens match child node(48). Continue to go deeper in the radix tree
I0305 23:26:11.624166       1 tree.go:471] Updated node(48) last access: 118.9282 seconds
I0305 23:26:11.624172       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:11.624178       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 23:26:11.624185       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:11.624192       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.624197       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.624180247 +0000 UTC m=+119.046251790]
I0305 23:26:11.624212       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7481, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:11.624218       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:11.624251       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7481
I0305 23:26:11.624261       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:11.624269       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.624274       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.624280       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.624286       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.624289       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.624300       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.624309       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:11.624319       1 prefix_cache_and_load.go:584] latency, Route, 1.1321
I0305 23:26:11.624333       1 gateway.go:415] latency, selectTargetPod, 1.1321, target pod, 10.0.3.38:8000
I0305 23:26:11.624345       1 gateway.go:235] latency, HandleRequestBody, 1.1324
I0305 23:26:11.624368       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1056
I0305 23:26:11.624373       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.624376       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.624429       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.624456       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.624460       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.640591       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6847b245-7385-4b76-b5ba-49c54123e8c7"
I0305 23:26:11.649938       1 gateway.go:562] latency, 0.0000, summary, hash(request), bc11c86a, selectedpod, 10.0.3.13:8000, ttft, 984, tpot, 20, e2e, 1165, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 23:26:11.649957       1 gateway.go:748] "Request completed" requestID="ee41e860-e3a7-4aa6-8e23-1ed5f74b8f23" targetPod="10.0.3.13:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 23:26:11.649967       1 gateway.go:764] "HandleResponseBody completed" requestID="ee41e860-e3a7-4aa6-8e23-1ed5f74b8f23" promptTokens=7613 completionTokens=10 stream=true
I0305 23:26:11.675960       1 gateway.go:608] "First token received" requestID="6847b245-7385-4b76-b5ba-49c54123e8c7" ttft_ms=1183
I0305 23:26:11.679299       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0548, numInputTokens, 7601
I0305 23:26:11.679320       1 tree.go:471] Updated node(0) last access: 118.9834 seconds
I0305 23:26:11.679328       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.679332       1 tree.go:471] Updated node(2) last access: 118.9834 seconds
I0305 23:26:11.679346       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:11.679349       1 tree.go:471] Updated node(19) last access: 118.9834 seconds
I0305 23:26:11.679353       1 tree.go:490] Partial tokens match child node(100). Continue to go deeper in the radix tree
I0305 23:26:11.679356       1 tree.go:471] Updated node(100) last access: 118.9834 seconds
I0305 23:26:11.679368       1 tree.go:667] Split complete - New node(109)
I0305 23:26:11.679375       1 tree.go:668] Split complete - Child node(101)
I0305 23:26:11.679381       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 23:26:11.679384       1 tree.go:471] Updated node(109) last access: 118.9834 seconds
I0305 23:26:11.679394       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 23:26:11.679398       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:11.679404       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:11.679411       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.679416       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.67939996 +0000 UTC m=+119.101471510]
I0305 23:26:11.679432       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7484, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 23:26:11.679439       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 23:26:11.679506       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7484
I0305 23:26:11.679515       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:11.679522       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.679530       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.679535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.679541       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.679545       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.679551       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.679559       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.679570       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:11.679581       1 prefix_cache_and_load.go:584] latency, Route, 1.1608
I0305 23:26:11.679597       1 gateway.go:415] latency, selectTargetPod, 1.1608, target pod, 10.0.0.4:8000
I0305 23:26:11.679607       1 gateway.go:235] latency, HandleRequestBody, 1.1611
I0305 23:26:11.679633       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1528
I0305 23:26:11.679638       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.679641       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.679723       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.679758       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.679763       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.698555       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7bb45ce6-f877-44e9-9876-06d3944ebdb4"
I0305 23:26:11.726842       1 gateway.go:562] latency, 0.0000, summary, hash(request), 777a1a47, selectedpod, 10.0.1.20:8000, ttft, 1066, tpot, 19, e2e, 1241, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:11.726863       1 gateway.go:748] "Request completed" requestID="4cc60746-ebdb-4d6c-8822-2ac5c4745ee7" targetPod="10.0.1.20:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:11.726875       1 gateway.go:764] "HandleResponseBody completed" requestID="4cc60746-ebdb-4d6c-8822-2ac5c4745ee7" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:11.732159       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0524, numInputTokens, 7592
I0305 23:26:11.732178       1 tree.go:471] Updated node(0) last access: 119.0362 seconds
I0305 23:26:11.732185       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.732190       1 tree.go:471] Updated node(2) last access: 119.0362 seconds
I0305 23:26:11.732205       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:11.732210       1 tree.go:471] Updated node(46) last access: 119.0363 seconds
I0305 23:26:11.732222       1 tree.go:667] Split complete - New node(111)
I0305 23:26:11.732227       1 tree.go:668] Split complete - Child node(92)
I0305 23:26:11.732234       1 tree.go:501] latency, splitNode, 0.0000 seconds, 114 tokens:
I0305 23:26:11.732241       1 tree.go:471] Updated node(111) last access: 119.0363 seconds
I0305 23:26:11.732248       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 23:26:11.732253       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7592 tokens
I0305 23:26:11.732262       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7592 tokens
I0305 23:26:11.732271       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.732278       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.732256171 +0000 UTC m=+119.154327708]
I0305 23:26:11.732295       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7592, Matched tokens: 7483, Matching ratio: 0.9856, # Matched pods: 0, Matched pods: []
I0305 23:26:11.732303       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9856 > 0.5000)
I0305 23:26:11.732350       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7483
I0305 23:26:11.732364       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:11.732378       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.732386       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.732395       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.732406       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.732414       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.732427       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.732454       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:11.732469       1 prefix_cache_and_load.go:584] latency, Route, 1.2056
I0305 23:26:11.732489       1 gateway.go:415] latency, selectTargetPod, 1.2056, target pod, 10.0.3.13:8000
I0305 23:26:11.732504       1 gateway.go:235] latency, HandleRequestBody, 1.2059
I0305 23:26:11.732502       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2040
I0305 23:26:11.732514       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.732522       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.732616       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.732648       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.732655       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.733620       1 gateway.go:608] "First token received" requestID="7bb45ce6-f877-44e9-9876-06d3944ebdb4" ttft_ms=1215
I0305 23:26:11.748735       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bbcc6066-3f83-49f0-bf05-b36a178046a5"
I0305 23:26:11.775599       1 gateway.go:562] latency, 0.0000, summary, hash(request), fa12a647, selectedpod, 10.0.0.134:8000, ttft, 1113, tpot, 19, e2e, 1288, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:11.775621       1 gateway.go:748] "Request completed" requestID="ab18deb4-367d-48ff-8bbb-acc301c67bde" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:11.775631       1 gateway.go:764] "HandleResponseBody completed" requestID="ab18deb4-367d-48ff-8bbb-acc301c67bde" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:11.784112       1 gateway.go:608] "First token received" requestID="bbcc6066-3f83-49f0-bf05-b36a178046a5" ttft_ms=1257
I0305 23:26:11.817186       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0845, numInputTokens, 7599
I0305 23:26:11.817202       1 tree.go:471] Updated node(0) last access: 119.1213 seconds
I0305 23:26:11.817209       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.817212       1 tree.go:471] Updated node(2) last access: 119.1213 seconds
I0305 23:26:11.817225       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:11.817231       1 tree.go:471] Updated node(46) last access: 119.1213 seconds
I0305 23:26:11.817245       1 tree.go:667] Split complete - New node(113)
I0305 23:26:11.817249       1 tree.go:668] Split complete - Child node(99)
I0305 23:26:11.817256       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 23:26:11.817261       1 tree.go:471] Updated node(113) last access: 119.1213 seconds
I0305 23:26:11.817269       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:11.817276       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:11.817283       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:11.817292       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.817298       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.817278326 +0000 UTC m=+119.239349861]
I0305 23:26:11.817316       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7481, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:11.817326       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:11.817366       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7481
I0305 23:26:11.817375       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:11.817384       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.817392       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.817396       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.817400       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.817407       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.817414       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.817422       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:11.817431       1 prefix_cache_and_load.go:584] latency, Route, 1.2889
I0305 23:26:11.817456       1 gateway.go:415] latency, selectTargetPod, 1.2889, target pod, 10.0.3.13:8000
I0305 23:26:11.817471       1 gateway.go:235] latency, HandleRequestBody, 1.2892
I0305 23:26:11.817510       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2845
I0305 23:26:11.817514       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.817517       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.817574       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.817598       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.817602       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.832705       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e81e829c-34cd-44c2-9e6e-1a7b12ed5c80"
I0305 23:26:11.836865       1 gateway.go:207] "Processing request" requestID="f3eaeae2-2226-440a-939a-d5b06832355e"
I0305 23:26:11.836890       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f3eaeae2-2226-440a-939a-d5b06832355e"
I0305 23:26:11.836899       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:11.849154       1 gateway.go:562] latency, 0.0000, summary, hash(request), 36bf9e31, selectedpod, 10.0.3.38:8000, ttft, 1183, tpot, 19, e2e, 1357, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:11.849171       1 gateway.go:748] "Request completed" requestID="6847b245-7385-4b76-b5ba-49c54123e8c7" targetPod="10.0.3.38:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:11.849182       1 gateway.go:764] "HandleResponseBody completed" requestID="6847b245-7385-4b76-b5ba-49c54123e8c7" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:11.852266       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f3eaeae2-2226-440a-939a-d5b06832355e"
I0305 23:26:11.852487       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f3eaeae2-2226-440a-939a-d5b06832355e" model="qwen2-5-7b-instruct"
I0305 23:26:11.882513       1 gateway.go:608] "First token received" requestID="e81e829c-34cd-44c2-9e6e-1a7b12ed5c80" ttft_ms=1354
I0305 23:26:11.894154       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0765, numInputTokens, 7600
I0305 23:26:11.894173       1 tree.go:471] Updated node(0) last access: 119.1982 seconds
I0305 23:26:11.894179       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.894183       1 tree.go:471] Updated node(2) last access: 119.1982 seconds
I0305 23:26:11.894195       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:11.894200       1 tree.go:471] Updated node(4) last access: 119.1983 seconds
I0305 23:26:11.894209       1 tree.go:667] Split complete - New node(115)
I0305 23:26:11.894212       1 tree.go:668] Split complete - Child node(80)
I0305 23:26:11.894216       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 23:26:11.894220       1 tree.go:471] Updated node(115) last access: 119.1983 seconds
I0305 23:26:11.894226       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 23:26:11.894230       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:11.894237       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:11.894243       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.894248       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.894232338 +0000 UTC m=+119.316303872]
I0305 23:26:11.894262       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7481, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 23:26:11.894268       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 23:26:11.894303       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7481
I0305 23:26:11.894312       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:11.894320       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.894326       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.894330       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.894336       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.894341       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.894350       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.894367       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:11.894378       1 prefix_cache_and_load.go:584] latency, Route, 1.3614
I0305 23:26:11.894393       1 gateway.go:415] latency, selectTargetPod, 1.3614, target pod, 10.0.1.20:8000
I0305 23:26:11.894409       1 gateway.go:235] latency, HandleRequestBody, 1.3619
I0305 23:26:11.894406       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3603
I0305 23:26:11.894417       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.894422       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.894548       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.894581       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:11.894588       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:11.895472       1 gateway.go:207] "Processing request" requestID="72c30464-e4e0-4c19-9950-bf450883594d"
I0305 23:26:11.895501       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="72c30464-e4e0-4c19-9950-bf450883594d"
I0305 23:26:11.895508       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:11.905331       1 gateway.go:329] "-- In RequestBody processing ..." requestID="72c30464-e4e0-4c19-9950-bf450883594d"
I0305 23:26:11.905539       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="72c30464-e4e0-4c19-9950-bf450883594d" model="qwen2-5-7b-instruct"
I0305 23:26:11.907176       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7f1e5862, selectedpod, 10.0.0.4:8000, ttft, 1215, tpot, 19, e2e, 1388, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:11.907209       1 gateway.go:748] "Request completed" requestID="7bb45ce6-f877-44e9-9876-06d3944ebdb4" targetPod="10.0.0.4:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:11.907228       1 gateway.go:764] "HandleResponseBody completed" requestID="7bb45ce6-f877-44e9-9876-06d3944ebdb4" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:11.913925       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4e4a2c37-b93f-41e7-8f73-49e1bcbfc6ee"
I0305 23:26:11.957001       1 gateway.go:608] "First token received" requestID="4e4a2c37-b93f-41e7-8f73-49e1bcbfc6ee" ttft_ms=1424
I0305 23:26:11.981804       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0872, numInputTokens, 7597
I0305 23:26:11.981821       1 tree.go:471] Updated node(0) last access: 119.2859 seconds
I0305 23:26:11.981829       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:11.981834       1 tree.go:471] Updated node(2) last access: 119.2859 seconds
I0305 23:26:11.981848       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:11.981853       1 tree.go:471] Updated node(19) last access: 119.2859 seconds
I0305 23:26:11.981856       1 tree.go:490] Partial tokens match child node(100). Continue to go deeper in the radix tree
I0305 23:26:11.981858       1 tree.go:471] Updated node(100) last access: 119.2859 seconds
I0305 23:26:11.981862       1 tree.go:490] Partial tokens match child node(109). Continue to go deeper in the radix tree
I0305 23:26:11.981865       1 tree.go:471] Updated node(109) last access: 119.2859 seconds
I0305 23:26:11.981874       1 tree.go:667] Split complete - New node(117)
I0305 23:26:11.981879       1 tree.go:668] Split complete - Child node(101)
I0305 23:26:11.981884       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 23:26:11.981888       1 tree.go:471] Updated node(117) last access: 119.2859 seconds
I0305 23:26:11.981892       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0305 23:26:11.981897       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 23:26:11.981905       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:11.981913       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:11.981920       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:11.981899157 +0000 UTC m=+119.403970691]
I0305 23:26:11.981943       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7489, Matching ratio: 0.9858, # Matched pods: 0, Matched pods: []
I0305 23:26:11.981951       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9858 > 0.5000)
I0305 23:26:11.981985       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7489
I0305 23:26:11.981998       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:11.982007       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.982015       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.982020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.982024       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.982028       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.982032       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.982036       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:11.982043       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:11.982053       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:11.982061       1 prefix_cache_and_load.go:584] latency, Route, 1.4480
I0305 23:26:11.982075       1 gateway.go:415] latency, selectTargetPod, 1.4480, target pod, 10.0.0.4:8000
I0305 23:26:11.982088       1 gateway.go:235] latency, HandleRequestBody, 1.4483
I0305 23:26:11.982121       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4060
I0305 23:26:11.982126       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:11.982128       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:11.982182       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:11.982203       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:11.982209       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.000837       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="02f7e799-f260-41c7-a2c1-55acfe80b8c8"
I0305 23:26:12.003197       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9bab4dca, selectedpod, 10.0.3.13:8000, ttft, 1257, tpot, 24, e2e, 1476, numInputTokens, 7611, numOutputTokens, 10, numTotalTokens, 7621
I0305 23:26:12.003216       1 gateway.go:748] "Request completed" requestID="bbcc6066-3f83-49f0-bf05-b36a178046a5" targetPod="10.0.3.13:8000" promptTokens=7611 completionTokens=10 totalTokens=7621
I0305 23:26:12.003231       1 gateway.go:764] "HandleResponseBody completed" requestID="bbcc6066-3f83-49f0-bf05-b36a178046a5" promptTokens=7611 completionTokens=10 stream=true
I0305 23:26:12.032711       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0505, numInputTokens, 7600
I0305 23:26:12.032729       1 tree.go:471] Updated node(0) last access: 119.3368 seconds
I0305 23:26:12.032735       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.032741       1 tree.go:471] Updated node(2) last access: 119.3368 seconds
I0305 23:26:12.032753       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:12.032758       1 tree.go:471] Updated node(11) last access: 119.3368 seconds
I0305 23:26:12.032762       1 tree.go:490] Partial tokens match child node(13). Continue to go deeper in the radix tree
I0305 23:26:12.032765       1 tree.go:471] Updated node(13) last access: 119.3368 seconds
I0305 23:26:12.032770       1 tree.go:490] Partial tokens match child node(57). Continue to go deeper in the radix tree
I0305 23:26:12.032773       1 tree.go:471] Updated node(57) last access: 119.3368 seconds
I0305 23:26:12.032780       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:12.032785       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:12.032793       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:12.032799       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.032815       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.03278702 +0000 UTC m=+119.454858555]
I0305 23:26:12.032830       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:12.032837       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:12.032874       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7484
I0305 23:26:12.032886       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:12.032901       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.032907       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.032915       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.032923       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.032928       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.032931       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.032946       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.032956       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:12.032971       1 prefix_cache_and_load.go:584] latency, Route, 1.4568
I0305 23:26:12.032991       1 gateway.go:415] latency, selectTargetPod, 1.4569, target pod, 10.0.1.25:8000
I0305 23:26:12.033011       1 gateway.go:235] latency, HandleRequestBody, 1.4574
I0305 23:26:12.033053       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4568
I0305 23:26:12.033061       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.033064       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.033147       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.033166       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.033172       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.036715       1 gateway.go:608] "First token received" requestID="02f7e799-f260-41c7-a2c1-55acfe80b8c8" ttft_ms=1502
I0305 23:26:12.052571       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3b0b1319-d240-4e32-aeeb-10b88d186fa8"
I0305 23:26:12.075592       1 gateway.go:562] latency, 0.0000, summary, hash(request), 87b3ce5e, selectedpod, 10.0.3.13:8000, ttft, 1354, tpot, 21, e2e, 1547, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:12.075612       1 gateway.go:748] "Request completed" requestID="e81e829c-34cd-44c2-9e6e-1a7b12ed5c80" targetPod="10.0.3.13:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:12.075623       1 gateway.go:764] "HandleResponseBody completed" requestID="e81e829c-34cd-44c2-9e6e-1a7b12ed5c80" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:12.081930       1 gateway.go:207] "Processing request" requestID="12ff1fff-c7f1-4bcb-a085-6eb23f86a37f"
I0305 23:26:12.081966       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="12ff1fff-c7f1-4bcb-a085-6eb23f86a37f"
I0305 23:26:12.081975       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:12.088367       1 gateway.go:608] "First token received" requestID="3b0b1319-d240-4e32-aeeb-10b88d186fa8" ttft_ms=1512
I0305 23:26:12.092581       1 gateway.go:329] "-- In RequestBody processing ..." requestID="12ff1fff-c7f1-4bcb-a085-6eb23f86a37f"
I0305 23:26:12.092815       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="12ff1fff-c7f1-4bcb-a085-6eb23f86a37f" model="qwen2-5-7b-instruct"
I0305 23:26:12.112003       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0788, numInputTokens, 7599
I0305 23:26:12.112020       1 tree.go:471] Updated node(0) last access: 119.4161 seconds
I0305 23:26:12.112026       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.112029       1 tree.go:471] Updated node(2) last access: 119.4161 seconds
I0305 23:26:12.112043       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:12.112047       1 tree.go:471] Updated node(38) last access: 119.4161 seconds
I0305 23:26:12.112053       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:12.112058       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:12.112065       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:12.112072       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.112077       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.112060682 +0000 UTC m=+119.534132217]
I0305 23:26:12.112089       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:12.112096       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:12.112134       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:12.112143       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:12.112150       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.112156       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.112161       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.112164       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.112172       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.112181       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:12.112189       1 prefix_cache_and_load.go:584] latency, Route, 1.5360
I0305 23:26:12.112203       1 gateway.go:415] latency, selectTargetPod, 1.5360, target pod, 10.0.0.134:8000
I0305 23:26:12.112214       1 gateway.go:235] latency, HandleRequestBody, 1.5366
I0305 23:26:12.112261       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4191
I0305 23:26:12.112267       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.112279       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.112351       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.112378       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.112382       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.131318       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="99b0a415-9bff-4fca-893a-e3cca4891c5c"
I0305 23:26:12.131576       1 gateway.go:562] latency, 0.0001, summary, hash(request), 5ff5c5d8, selectedpod, 10.0.1.20:8000, ttft, 1424, tpot, 19, e2e, 1598, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:12.131601       1 gateway.go:748] "Request completed" requestID="4e4a2c37-b93f-41e7-8f73-49e1bcbfc6ee" targetPod="10.0.1.20:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:12.131615       1 gateway.go:764] "HandleResponseBody completed" requestID="4e4a2c37-b93f-41e7-8f73-49e1bcbfc6ee" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:12.175043       1 gateway.go:608] "First token received" requestID="99b0a415-9bff-4fca-893a-e3cca4891c5c" ttft_ms=1599
I0305 23:26:12.177304       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0649, numInputTokens, 7602
I0305 23:26:12.177323       1 tree.go:471] Updated node(0) last access: 119.4814 seconds
I0305 23:26:12.177330       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.177334       1 tree.go:471] Updated node(2) last access: 119.4814 seconds
I0305 23:26:12.177346       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:12.177351       1 tree.go:471] Updated node(46) last access: 119.4814 seconds
I0305 23:26:12.177358       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 23:26:12.177363       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 23:26:12.177370       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:12.177377       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.177384       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.177365545 +0000 UTC m=+119.599437089]
I0305 23:26:12.177400       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 23:26:12.177408       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 23:26:12.177451       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:12.177464       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:12.177471       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.177479       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.177485       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.177490       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.177500       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.177510       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:12.177523       1 prefix_cache_and_load.go:584] latency, Route, 1.4844
I0305 23:26:12.177541       1 gateway.go:415] latency, selectTargetPod, 1.4844, target pod, 10.0.3.13:8000
I0305 23:26:12.177555       1 gateway.go:235] latency, HandleRequestBody, 1.4847
I0305 23:26:12.177558       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4837
I0305 23:26:12.177574       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.177580       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.177669       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.177695       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.177701       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.193378       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ea0f467d-249c-4e5b-b200-99b11c1f1055"
I0305 23:26:12.204172       1 gateway.go:207] "Processing request" requestID="2c7ba200-3062-4da2-8f4e-b6fe5b9d3cc6"
I0305 23:26:12.204197       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2c7ba200-3062-4da2-8f4e-b6fe5b9d3cc6"
I0305 23:26:12.204205       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:12.208852       1 gateway.go:562] latency, 0.0000, summary, hash(request), 89033503, selectedpod, 10.0.0.4:8000, ttft, 1502, tpot, 19, e2e, 1675, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:12.208871       1 gateway.go:748] "Request completed" requestID="02f7e799-f260-41c7-a2c1-55acfe80b8c8" targetPod="10.0.0.4:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:12.208882       1 gateway.go:764] "HandleResponseBody completed" requestID="02f7e799-f260-41c7-a2c1-55acfe80b8c8" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:12.212967       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2c7ba200-3062-4da2-8f4e-b6fe5b9d3cc6"
I0305 23:26:12.213175       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2c7ba200-3062-4da2-8f4e-b6fe5b9d3cc6" model="qwen2-5-7b-instruct"
I0305 23:26:12.226591       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0489, numInputTokens, 7598
I0305 23:26:12.226607       1 tree.go:471] Updated node(0) last access: 119.5307 seconds
I0305 23:26:12.226613       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.226616       1 tree.go:471] Updated node(2) last access: 119.5307 seconds
I0305 23:26:12.226629       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:12.226631       1 tree.go:471] Updated node(46) last access: 119.5307 seconds
I0305 23:26:12.226634       1 tree.go:490] Partial tokens match child node(113). Continue to go deeper in the radix tree
I0305 23:26:12.226637       1 tree.go:471] Updated node(113) last access: 119.5307 seconds
I0305 23:26:12.226643       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 23:26:12.226648       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 23:26:12.226654       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:12.226659       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.226666       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.226649875 +0000 UTC m=+119.648721409]
I0305 23:26:12.226680       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 23:26:12.226687       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 23:26:12.226721       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7481
I0305 23:26:12.226730       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:12.226737       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.226743       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.226748       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.226752       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.226756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.226765       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.226774       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:12.226784       1 prefix_cache_and_load.go:584] latency, Route, 1.5329
I0305 23:26:12.226799       1 gateway.go:415] latency, selectTargetPod, 1.5329, target pod, 10.0.3.13:8000
I0305 23:26:12.226809       1 gateway.go:235] latency, HandleRequestBody, 1.5333
I0305 23:26:12.226869       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4510
I0305 23:26:12.226881       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.226886       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.226999       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.227022       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.227030       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.236314       1 gateway.go:608] "First token received" requestID="ea0f467d-249c-4e5b-b200-99b11c1f1055" ttft_ms=1543
I0305 23:26:12.242007       1 gateway.go:207] "Processing request" requestID="ed6c166b-e7db-48cf-a163-73abe285c2ee"
I0305 23:26:12.242037       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ed6c166b-e7db-48cf-a163-73abe285c2ee"
I0305 23:26:12.242044       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:12.242070       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9866250f-73af-4dc2-8327-2996038792c3"
I0305 23:26:12.254222       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ed6c166b-e7db-48cf-a163-73abe285c2ee"
I0305 23:26:12.254436       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ed6c166b-e7db-48cf-a163-73abe285c2ee" model="qwen2-5-7b-instruct"
I0305 23:26:12.261318       1 gateway.go:562] latency, 0.0000, summary, hash(request), 96efbd11, selectedpod, 10.0.1.25:8000, ttft, 1512, tpot, 19, e2e, 1685, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:12.261336       1 gateway.go:748] "Request completed" requestID="3b0b1319-d240-4e32-aeeb-10b88d186fa8" targetPod="10.0.1.25:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:12.261346       1 gateway.go:764] "HandleResponseBody completed" requestID="3b0b1319-d240-4e32-aeeb-10b88d186fa8" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:12.296668       1 gateway.go:608] "First token received" requestID="9866250f-73af-4dc2-8327-2996038792c3" ttft_ms=1603
I0305 23:26:12.297608       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0706, numInputTokens, 7596
I0305 23:26:12.297630       1 tree.go:471] Updated node(0) last access: 119.6017 seconds
I0305 23:26:12.297637       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.297642       1 tree.go:471] Updated node(2) last access: 119.6017 seconds
I0305 23:26:12.297661       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:12.297666       1 tree.go:471] Updated node(17) last access: 119.6017 seconds
I0305 23:26:12.297672       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:12.297682       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 23:26:12.297692       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:12.297698       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.297703       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.297686042 +0000 UTC m=+119.719757584]
I0305 23:26:12.297720       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:12.297736       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:12.297822       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7478
I0305 23:26:12.297849       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:12.297859       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.297866       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.297871       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.297876       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.297928       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.297954       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:12.297971       1 prefix_cache_and_load.go:584] latency, Route, 1.5221
I0305 23:26:12.297988       1 gateway.go:415] latency, selectTargetPod, 1.5222, target pod, 10.0.1.53:8000
I0305 23:26:12.298011       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5222
I0305 23:26:12.298016       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.298020       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.298031       1 gateway.go:235] latency, HandleRequestBody, 1.5995
I0305 23:26:12.298266       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.298377       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 23:26:12.298389       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.317324       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8df98a79-e45c-4a85-965b-48266e6e5d4a"
I0305 23:26:12.348566       1 gateway.go:562] latency, 0.0001, summary, hash(request), 0bcbe15f, selectedpod, 10.0.0.134:8000, ttft, 1599, tpot, 19, e2e, 1772, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:12.348588       1 gateway.go:748] "Request completed" requestID="99b0a415-9bff-4fca-893a-e3cca4891c5c" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:12.348600       1 gateway.go:764] "HandleResponseBody completed" requestID="99b0a415-9bff-4fca-893a-e3cca4891c5c" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:12.353914       1 gateway.go:608] "First token received" requestID="8df98a79-e45c-4a85-965b-48266e6e5d4a" ttft_ms=1655
I0305 23:26:12.389536       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0911, numInputTokens, 7602
I0305 23:26:12.389550       1 tree.go:471] Updated node(0) last access: 119.6936 seconds
I0305 23:26:12.389557       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.389560       1 tree.go:471] Updated node(2) last access: 119.6936 seconds
I0305 23:26:12.389576       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:12.389580       1 tree.go:471] Updated node(4) last access: 119.6936 seconds
I0305 23:26:12.389592       1 tree.go:667] Split complete - New node(124)
I0305 23:26:12.389597       1 tree.go:668] Split complete - Child node(68)
I0305 23:26:12.389604       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 23:26:12.389610       1 tree.go:471] Updated node(124) last access: 119.6937 seconds
I0305 23:26:12.389618       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:12.389624       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:12.389631       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:12.389639       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.389646       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.389625835 +0000 UTC m=+119.811697373]
I0305 23:26:12.389662       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7482, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:12.389672       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:12.389712       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7482
I0305 23:26:12.389724       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:12.389734       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.389741       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.389746       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.389752       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.389761       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.389773       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.389785       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:12.389797       1 prefix_cache_and_load.go:584] latency, Route, 1.6139
I0305 23:26:12.389814       1 gateway.go:415] latency, selectTargetPod, 1.6140, target pod, 10.0.1.20:8000
I0305 23:26:12.389826       1 gateway.go:235] latency, HandleRequestBody, 1.6927
I0305 23:26:12.389854       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6140
I0305 23:26:12.389858       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.389862       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.389921       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.389949       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.389954       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.411732       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2e530551-a77d-46a3-a32b-f5a76d87a03c"
I0305 23:26:12.413091       1 gateway.go:207] "Processing request" requestID="5aa79dbd-2d5d-4fda-8475-4ffbc3dbc315"
I0305 23:26:12.413120       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5aa79dbd-2d5d-4fda-8475-4ffbc3dbc315"
I0305 23:26:12.413127       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:12.425458       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5aa79dbd-2d5d-4fda-8475-4ffbc3dbc315"
I0305 23:26:12.425681       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5aa79dbd-2d5d-4fda-8475-4ffbc3dbc315" model="qwen2-5-7b-instruct"
I0305 23:26:12.438006       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0480, numInputTokens, 7599
I0305 23:26:12.438021       1 tree.go:471] Updated node(0) last access: 119.7421 seconds
I0305 23:26:12.438028       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.438032       1 tree.go:471] Updated node(2) last access: 119.7421 seconds
I0305 23:26:12.438046       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:12.438050       1 tree.go:471] Updated node(4) last access: 119.7421 seconds
I0305 23:26:12.438054       1 tree.go:490] Partial tokens match child node(124). Continue to go deeper in the radix tree
I0305 23:26:12.438057       1 tree.go:471] Updated node(124) last access: 119.7421 seconds
I0305 23:26:12.438066       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 23:26:12.438071       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:12.438079       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:12.438088       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.438097       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.438073936 +0000 UTC m=+119.860145473]
I0305 23:26:12.438113       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7482, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 23:26:12.438124       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 23:26:12.438178       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7482
I0305 23:26:12.438191       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:12.438201       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.438209       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.438218       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.438223       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.438227       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.438239       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.438250       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:12.438263       1 prefix_cache_and_load.go:584] latency, Route, 1.6624
I0305 23:26:12.438278       1 gateway.go:415] latency, selectTargetPod, 1.6624, target pod, 10.0.1.20:8000
I0305 23:26:12.438289       1 gateway.go:235] latency, HandleRequestBody, 1.7421
I0305 23:26:12.438291       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5182
I0305 23:26:12.438305       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.438311       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.438412       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.438459       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.438466       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.469589       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d1fe6356-381a-48cb-9a78-a6f44315dfa3"
I0305 23:26:12.469630       1 gateway.go:207] "Processing request" requestID="9cb39aec-4120-4152-a7ea-dddf8bdcb23d"
I0305 23:26:12.469667       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9cb39aec-4120-4152-a7ea-dddf8bdcb23d"
I0305 23:26:12.469677       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:12.469729       1 gateway.go:608] "First token received" requestID="2e530551-a77d-46a3-a32b-f5a76d87a03c" ttft_ms=1772
I0305 23:26:12.469835       1 gateway.go:562] latency, 0.0000, summary, hash(request), 053eff7b, selectedpod, 10.0.3.13:8000, ttft, 1543, tpot, 25, e2e, 1776, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:12.469867       1 gateway.go:748] "Request completed" requestID="ea0f467d-249c-4e5b-b200-99b11c1f1055" targetPod="10.0.3.13:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:12.469884       1 gateway.go:764] "HandleResponseBody completed" requestID="ea0f467d-249c-4e5b-b200-99b11c1f1055" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:12.477839       1 gateway.go:562] latency, 0.0000, summary, hash(request), d7b03bd1, selectedpod, 10.0.3.13:8000, ttft, 1603, tpot, 20, e2e, 1784, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:12.477861       1 gateway.go:748] "Request completed" requestID="9866250f-73af-4dc2-8327-2996038792c3" targetPod="10.0.3.13:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:12.477872       1 gateway.go:764] "HandleResponseBody completed" requestID="9866250f-73af-4dc2-8327-2996038792c3" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:12.480458       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9cb39aec-4120-4152-a7ea-dddf8bdcb23d"
I0305 23:26:12.480667       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9cb39aec-4120-4152-a7ea-dddf8bdcb23d" model="qwen2-5-7b-instruct"
I0305 23:26:12.513731       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0753, numInputTokens, 7597
I0305 23:26:12.513747       1 tree.go:471] Updated node(0) last access: 119.8178 seconds
I0305 23:26:12.513753       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.513756       1 tree.go:471] Updated node(2) last access: 119.8178 seconds
I0305 23:26:12.513770       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:12.513774       1 tree.go:471] Updated node(21) last access: 119.8178 seconds
I0305 23:26:12.513780       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 23:26:12.513785       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 23:26:12.513792       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:12.513799       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.513807       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.513787406 +0000 UTC m=+119.935858941]
I0305 23:26:12.513855       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 23:26:12.513866       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 23:26:12.513911       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7478
I0305 23:26:12.513921       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:12.513929       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.513957       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.513968       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.513975       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.513988       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.514003       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:12.514015       1 prefix_cache_and_load.go:584] latency, Route, 1.5939
I0305 23:26:12.514036       1 gateway.go:415] latency, selectTargetPod, 1.5939, target pod, 10.0.0.39:8000
I0305 23:26:12.514050       1 gateway.go:235] latency, HandleRequestBody, 1.5943
I0305 23:26:12.514073       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5926
I0305 23:26:12.514078       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.514081       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.514142       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.514162       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.514168       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.515363       1 gateway.go:608] "First token received" requestID="d1fe6356-381a-48cb-9a78-a6f44315dfa3" ttft_ms=1818
I0305 23:26:12.527387       1 gateway.go:562] latency, 0.0000, summary, hash(request), 682eb173, selectedpod, 10.0.1.53:8000, ttft, 1655, tpot, 19, e2e, 1828, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:12.527409       1 gateway.go:748] "Request completed" requestID="8df98a79-e45c-4a85-965b-48266e6e5d4a" targetPod="10.0.1.53:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:12.527419       1 gateway.go:764] "HandleResponseBody completed" requestID="8df98a79-e45c-4a85-965b-48266e6e5d4a" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:12.532765       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c17c51b3-598f-4204-b4ba-e158d0358eb0"
I0305 23:26:12.568544       1 gateway.go:608] "First token received" requestID="c17c51b3-598f-4204-b4ba-e158d0358eb0" ttft_ms=1648
I0305 23:26:12.598525       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0844, numInputTokens, 7601
I0305 23:26:12.598546       1 tree.go:471] Updated node(0) last access: 119.9026 seconds
I0305 23:26:12.598552       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.598555       1 tree.go:471] Updated node(2) last access: 119.9026 seconds
I0305 23:26:12.598565       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:12.598569       1 tree.go:471] Updated node(4) last access: 119.9026 seconds
I0305 23:26:12.598574       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:12.598579       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 23:26:12.598586       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:12.598594       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 23:26:12.598601       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.598581531 +0000 UTC m=+120.020653066]
I0305 23:26:12.598617       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:12.598626       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:12.598663       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7478
I0305 23:26:12.598672       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:12.598681       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.598686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.598690       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.598695       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.598706       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.598719       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:12.598733       1 prefix_cache_and_load.go:584] latency, Route, 1.6772
I0305 23:26:12.598750       1 gateway.go:415] latency, selectTargetPod, 1.6772, target pod, 10.0.1.20:8000
I0305 23:26:12.598764       1 gateway.go:235] latency, HandleRequestBody, 1.6777
I0305 23:26:12.598794       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6761
I0305 23:26:12.598799       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.598802       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.598866       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.598896       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.598902       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.617763       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2406f21d-c43d-4247-931e-2aef13d49028"
I0305 23:26:12.646640       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0477, numInputTokens, 7597
I0305 23:26:12.646656       1 tree.go:471] Updated node(0) last access: 119.9507 seconds
I0305 23:26:12.646662       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.646666       1 tree.go:471] Updated node(2) last access: 119.9507 seconds
I0305 23:26:12.646680       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:12.646684       1 tree.go:471] Updated node(17) last access: 119.9507 seconds
I0305 23:26:12.646691       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 23:26:12.646696       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 23:26:12.646702       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:12.646708       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.646713       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.646697991 +0000 UTC m=+120.068769526]
I0305 23:26:12.646728       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 23:26:12.646738       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 23:26:12.646777       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7478
I0305 23:26:12.646786       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:12.646794       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.646800       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.646806       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.646813       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.646824       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.646837       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:12.646849       1 prefix_cache_and_load.go:584] latency, Route, 1.7241
I0305 23:26:12.646865       1 gateway.go:415] latency, selectTargetPod, 1.7241, target pod, 10.0.1.53:8000
I0305 23:26:12.646878       1 gateway.go:235] latency, HandleRequestBody, 1.7245
I0305 23:26:12.646909       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7237
I0305 23:26:12.646915       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.646919       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.647010       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.647034       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.647039       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.665911       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9c0cff91-f880-4e63-a9f5-03694cde8a38"
I0305 23:26:12.675667       1 gateway.go:207] "Processing request" requestID="046ce479-7fc2-4272-a9f0-40c8bddb9e55"
I0305 23:26:12.675696       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="046ce479-7fc2-4272-a9f0-40c8bddb9e55"
I0305 23:26:12.675704       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:12.676958       1 gateway.go:608] "First token received" requestID="2406f21d-c43d-4247-931e-2aef13d49028" ttft_ms=1755
I0305 23:26:12.679054       1 gateway.go:329] "-- In RequestBody processing ..." requestID="046ce479-7fc2-4272-a9f0-40c8bddb9e55"
I0305 23:26:12.679413       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="046ce479-7fc2-4272-a9f0-40c8bddb9e55" model="qwen2-5-7b-instruct"
I0305 23:26:12.702380       1 gateway.go:608] "First token received" requestID="9c0cff91-f880-4e63-a9f5-03694cde8a38" ttft_ms=1779
I0305 23:26:12.718496       1 gateway.go:562] latency, 0.0001, summary, hash(request), 3ccb81f7, selectedpod, 10.0.1.20:8000, ttft, 1772, tpot, 27, e2e, 2021, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:12.718525       1 gateway.go:748] "Request completed" requestID="2e530551-a77d-46a3-a32b-f5a76d87a03c" targetPod="10.0.1.20:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:12.718542       1 gateway.go:764] "HandleResponseBody completed" requestID="2e530551-a77d-46a3-a32b-f5a76d87a03c" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:12.720646       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0736, numInputTokens, 7595
I0305 23:26:12.720661       1 tree.go:471] Updated node(0) last access: 120.0247 seconds
I0305 23:26:12.720667       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.720670       1 tree.go:471] Updated node(2) last access: 120.0247 seconds
I0305 23:26:12.720682       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:12.720685       1 tree.go:471] Updated node(17) last access: 120.0247 seconds
I0305 23:26:12.720693       1 tree.go:667] Split complete - New node(130)
I0305 23:26:12.720696       1 tree.go:668] Split complete - Child node(123)
I0305 23:26:12.720701       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 23:26:12.720705       1 tree.go:471] Updated node(130) last access: 120.0248 seconds
I0305 23:26:12.720710       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:12.720713       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 23:26:12.720719       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 23:26:12.720723       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.720728       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.7207151 +0000 UTC m=+120.142786635]
I0305 23:26:12.720740       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7480, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:12.720747       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:12.720783       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7480
I0305 23:26:12.720793       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:12.720799       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.720804       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.720809       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.720812       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.720819       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.720826       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.720834       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:12.720844       1 prefix_cache_and_load.go:584] latency, Route, 1.7977
I0305 23:26:12.720859       1 gateway.go:415] latency, selectTargetPod, 1.7977, target pod, 10.0.1.53:8000
I0305 23:26:12.720874       1 gateway.go:235] latency, HandleRequestBody, 1.7980
I0305 23:26:12.720906       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7975
I0305 23:26:12.720913       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.720917       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.721007       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.721029       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.721034       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.775521       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4fad8f2c-909b-482d-8183-0f73e76f8318"
I0305 23:26:12.775551       1 gateway.go:207] "Processing request" requestID="b8af8c95-ebd0-4fda-9d35-10a569b18284"
I0305 23:26:12.775582       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b8af8c95-ebd0-4fda-9d35-10a569b18284"
I0305 23:26:12.775592       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:12.775600       1 gateway.go:562] latency, 0.0000, summary, hash(request), f7af61af, selectedpod, 10.0.1.20:8000, ttft, 1818, tpot, 28, e2e, 2079, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:12.775629       1 gateway.go:748] "Request completed" requestID="d1fe6356-381a-48cb-9a78-a6f44315dfa3" targetPod="10.0.1.20:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:12.775662       1 gateway.go:764] "HandleResponseBody completed" requestID="d1fe6356-381a-48cb-9a78-a6f44315dfa3" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:12.775704       1 gateway.go:562] latency, 0.0000, summary, hash(request), 465a9d90, selectedpod, 10.0.0.39:8000, ttft, 1648, tpot, 23, e2e, 1855, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:12.775728       1 gateway.go:748] "Request completed" requestID="c17c51b3-598f-4204-b4ba-e158d0358eb0" targetPod="10.0.0.39:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:12.775740       1 gateway.go:764] "HandleResponseBody completed" requestID="c17c51b3-598f-4204-b4ba-e158d0358eb0" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:12.790406       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b8af8c95-ebd0-4fda-9d35-10a569b18284"
I0305 23:26:12.790625       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b8af8c95-ebd0-4fda-9d35-10a569b18284" model="qwen2-5-7b-instruct"
I0305 23:26:12.791957       1 gateway.go:608] "First token received" requestID="4fad8f2c-909b-482d-8183-0f73e76f8318" ttft_ms=1869
I0305 23:26:12.808625       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0876, numInputTokens, 7601
I0305 23:26:12.808641       1 tree.go:471] Updated node(0) last access: 120.1127 seconds
I0305 23:26:12.808647       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.808650       1 tree.go:471] Updated node(2) last access: 120.1127 seconds
I0305 23:26:12.808665       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:12.808671       1 tree.go:471] Updated node(11) last access: 120.1127 seconds
I0305 23:26:12.808675       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0305 23:26:12.808680       1 tree.go:471] Updated node(40) last access: 120.1127 seconds
I0305 23:26:12.808689       1 tree.go:667] Split complete - New node(132)
I0305 23:26:12.808694       1 tree.go:668] Split complete - Child node(15)
I0305 23:26:12.808700       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 23:26:12.808705       1 tree.go:471] Updated node(132) last access: 120.1128 seconds
I0305 23:26:12.808714       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:12.808719       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:12.808729       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:12.808736       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.808745       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.80872308 +0000 UTC m=+120.230794615]
I0305 23:26:12.808760       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7486, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:12.808766       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:12.808801       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7486
I0305 23:26:12.808810       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:12.808820       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.808830       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.808837       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.808843       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.808847       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.808852       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.808860       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.808869       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:12.808877       1 prefix_cache_and_load.go:584] latency, Route, 1.8854
I0305 23:26:12.808895       1 gateway.go:415] latency, selectTargetPod, 1.8855, target pod, 10.0.1.25:8000
I0305 23:26:12.808910       1 gateway.go:235] latency, HandleRequestBody, 1.8858
I0305 23:26:12.808912       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8848
I0305 23:26:12.808925       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.808930       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.809046       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.809074       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.809079       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.828758       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="86737a94-ce60-4a35-9008-6d40ff267c88"
I0305 23:26:12.854842       1 gateway.go:562] latency, 0.0000, summary, hash(request), c124c593, selectedpod, 10.0.1.20:8000, ttft, 1755, tpot, 19, e2e, 1933, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:12.854858       1 gateway.go:748] "Request completed" requestID="2406f21d-c43d-4247-931e-2aef13d49028" targetPod="10.0.1.20:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:12.854867       1 gateway.go:764] "HandleResponseBody completed" requestID="2406f21d-c43d-4247-931e-2aef13d49028" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:12.860376       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0513, numInputTokens, 7601
I0305 23:26:12.860398       1 tree.go:471] Updated node(0) last access: 120.1645 seconds
I0305 23:26:12.860405       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.860408       1 tree.go:471] Updated node(2) last access: 120.1645 seconds
I0305 23:26:12.860423       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:12.860426       1 tree.go:471] Updated node(21) last access: 120.1645 seconds
I0305 23:26:12.860433       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:12.860438       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 23:26:12.860455       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:12.860463       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.860471       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.860440291 +0000 UTC m=+120.282511827]
I0305 23:26:12.860486       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:12.860492       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:12.860553       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7478
I0305 23:26:12.860562       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:12.860569       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.860573       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.860577       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.860581       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.860590       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.860600       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:12.860615       1 prefix_cache_and_load.go:584] latency, Route, 1.9365
I0305 23:26:12.860625       1 gateway.go:415] latency, selectTargetPod, 1.9365, target pod, 10.0.0.39:8000
I0305 23:26:12.860637       1 gateway.go:235] latency, HandleRequestBody, 1.9368
I0305 23:26:12.860977       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9361
I0305 23:26:12.860983       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.860987       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.861091       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.861133       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.861138       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.875659       1 gateway.go:608] "First token received" requestID="86737a94-ce60-4a35-9008-6d40ff267c88" ttft_ms=1952
I0305 23:26:12.894798       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2780ce83-3adf-454d-916b-68b40e961762"
I0305 23:26:12.912949       1 gateway.go:562] latency, 0.0000, summary, hash(request), e99bd382, selectedpod, 10.0.1.53:8000, ttft, 1779, tpot, 23, e2e, 1990, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:12.912970       1 gateway.go:748] "Request completed" requestID="9c0cff91-f880-4e63-a9f5-03694cde8a38" targetPod="10.0.1.53:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:12.912981       1 gateway.go:764] "HandleResponseBody completed" requestID="9c0cff91-f880-4e63-a9f5-03694cde8a38" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:12.925131       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0640, numInputTokens, 7598
I0305 23:26:12.925150       1 tree.go:471] Updated node(0) last access: 120.2292 seconds
I0305 23:26:12.925156       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:12.925160       1 tree.go:471] Updated node(2) last access: 120.2292 seconds
I0305 23:26:12.925174       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:12.925179       1 tree.go:471] Updated node(33) last access: 120.2292 seconds
I0305 23:26:12.925184       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:12.925189       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 23:26:12.925196       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:12.925203       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:12.925207       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:12.925191665 +0000 UTC m=+120.347263208]
I0305 23:26:12.925220       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:12.925227       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:12.925269       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7478
I0305 23:26:12.925285       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:12.925297       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.925302       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.925306       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.925309       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:12.925317       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:12.925327       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:12.925339       1 prefix_cache_and_load.go:584] latency, Route, 2.0005
I0305 23:26:12.925355       1 gateway.go:415] latency, selectTargetPod, 2.0005, target pod, 10.0.3.38:8000
I0305 23:26:12.925366       1 gateway.go:235] latency, HandleRequestBody, 2.0008
I0305 23:26:12.925393       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0001
I0305 23:26:12.925399       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:12.925402       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:12.925498       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:12.925520       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:12.925525       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:12.937361       1 gateway.go:608] "First token received" requestID="2780ce83-3adf-454d-916b-68b40e961762" ttft_ms=2013
I0305 23:26:12.941431       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="482efcdf-1f94-432f-a6b9-1eb9b882a3ce"
I0305 23:26:12.971082       1 gateway.go:207] "Processing request" requestID="b442f5f5-78bb-47ad-a8c2-1f1a9547bdac"
I0305 23:26:12.971108       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b442f5f5-78bb-47ad-a8c2-1f1a9547bdac"
I0305 23:26:12.971117       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:12.971818       1 gateway.go:562] latency, 0.0000, summary, hash(request), d5f9798e, selectedpod, 10.0.1.53:8000, ttft, 1869, tpot, 19, e2e, 2048, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 23:26:12.971839       1 gateway.go:748] "Request completed" requestID="4fad8f2c-909b-482d-8183-0f73e76f8318" targetPod="10.0.1.53:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 23:26:12.971855       1 gateway.go:764] "HandleResponseBody completed" requestID="4fad8f2c-909b-482d-8183-0f73e76f8318" promptTokens=7614 completionTokens=10 stream=true
I0305 23:26:12.980503       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b442f5f5-78bb-47ad-a8c2-1f1a9547bdac"
I0305 23:26:12.980729       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b442f5f5-78bb-47ad-a8c2-1f1a9547bdac" model="qwen2-5-7b-instruct"
I0305 23:26:12.985456       1 gateway.go:608] "First token received" requestID="482efcdf-1f94-432f-a6b9-1eb9b882a3ce" ttft_ms=2060
I0305 23:26:13.002839       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0773, numInputTokens, 7595
I0305 23:26:13.002856       1 tree.go:471] Updated node(0) last access: 120.3069 seconds
I0305 23:26:13.002862       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.002865       1 tree.go:471] Updated node(2) last access: 120.3069 seconds
I0305 23:26:13.002878       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:13.002882       1 tree.go:471] Updated node(19) last access: 120.3069 seconds
I0305 23:26:13.002886       1 tree.go:490] Partial tokens match child node(100). Continue to go deeper in the radix tree
I0305 23:26:13.002890       1 tree.go:471] Updated node(100) last access: 120.3069 seconds
I0305 23:26:13.002893       1 tree.go:490] Partial tokens match child node(109). Continue to go deeper in the radix tree
I0305 23:26:13.002897       1 tree.go:471] Updated node(109) last access: 120.3070 seconds
I0305 23:26:13.002902       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 23:26:13.002908       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 23:26:13.002915       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 23:26:13.002922       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.002929       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.00290985 +0000 UTC m=+120.424981383]
I0305 23:26:13.002953       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7484, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 23:26:13.002959       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 23:26:13.003000       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7484
I0305 23:26:13.003008       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:13.003017       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.003023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.003028       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.003031       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.003035       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.003040       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.003048       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.003058       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:13.003067       1 prefix_cache_and_load.go:584] latency, Route, 2.0778
I0305 23:26:13.003081       1 gateway.go:415] latency, selectTargetPod, 2.0778, target pod, 10.0.0.4:8000
I0305 23:26:13.003093       1 gateway.go:235] latency, HandleRequestBody, 2.0781
I0305 23:26:13.003122       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0771
I0305 23:26:13.003125       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.003128       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.003188       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.003210       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:13.003213       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.021203       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="569babfe-a19c-4a93-b85b-ba8cdf535c23"
I0305 23:26:13.037886       1 gateway.go:562] latency, 0.0000, summary, hash(request), 71199108, selectedpod, 10.0.1.25:8000, ttft, 1952, tpot, 18, e2e, 2114, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:13.037909       1 gateway.go:748] "Request completed" requestID="86737a94-ce60-4a35-9008-6d40ff267c88" targetPod="10.0.1.25:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:13.037918       1 gateway.go:764] "HandleResponseBody completed" requestID="86737a94-ce60-4a35-9008-6d40ff267c88" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:13.056647       1 gateway.go:608] "First token received" requestID="569babfe-a19c-4a93-b85b-ba8cdf535c23" ttft_ms=2131
I0305 23:26:13.081214       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0780, numInputTokens, 7600
I0305 23:26:13.081231       1 tree.go:471] Updated node(0) last access: 120.3853 seconds
I0305 23:26:13.081237       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.081240       1 tree.go:471] Updated node(2) last access: 120.3853 seconds
I0305 23:26:13.081254       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:13.081257       1 tree.go:471] Updated node(29) last access: 120.3853 seconds
I0305 23:26:13.081262       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:13.081267       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:13.081274       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:13.081281       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.081287       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.081269988 +0000 UTC m=+120.503341522]
I0305 23:26:13.081300       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:13.081308       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:13.081349       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:13.081358       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:13.081365       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.081370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.081375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.081379       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.081387       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.081397       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:13.081406       1 prefix_cache_and_load.go:584] latency, Route, 2.1554
I0305 23:26:13.081422       1 gateway.go:415] latency, selectTargetPod, 2.1554, target pod, 10.0.0.134:8000
I0305 23:26:13.081433       1 gateway.go:235] latency, HandleRequestBody, 2.1558
I0305 23:26:13.081436       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1537
I0305 23:26:13.081455       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.081460       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.081556       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.081581       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:13.081587       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.090765       1 gateway.go:207] "Processing request" requestID="e584afd5-a44c-4019-bdda-bd4345da050d"
I0305 23:26:13.090843       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e584afd5-a44c-4019-bdda-bd4345da050d"
I0305 23:26:13.090872       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:13.101224       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3bfe9cf4-fcce-401c-91e8-e6a97479f132"
I0305 23:26:13.104142       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e584afd5-a44c-4019-bdda-bd4345da050d"
I0305 23:26:13.104376       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e584afd5-a44c-4019-bdda-bd4345da050d" model="qwen2-5-7b-instruct"
I0305 23:26:13.110274       1 gateway.go:562] latency, 0.0000, summary, hash(request), c9adebde, selectedpod, 10.0.0.39:8000, ttft, 2013, tpot, 19, e2e, 2186, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:13.110298       1 gateway.go:748] "Request completed" requestID="2780ce83-3adf-454d-916b-68b40e961762" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:13.110307       1 gateway.go:764] "HandleResponseBody completed" requestID="2780ce83-3adf-454d-916b-68b40e961762" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:13.133221       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0516, numInputTokens, 7596
I0305 23:26:13.133237       1 tree.go:471] Updated node(0) last access: 120.4373 seconds
I0305 23:26:13.133243       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.133246       1 tree.go:471] Updated node(2) last access: 120.4373 seconds
I0305 23:26:13.133259       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:13.133263       1 tree.go:471] Updated node(23) last access: 120.4373 seconds
I0305 23:26:13.133271       1 tree.go:667] Split complete - New node(138)
I0305 23:26:13.133276       1 tree.go:668] Split complete - Child node(73)
I0305 23:26:13.133281       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:13.133286       1 tree.go:471] Updated node(138) last access: 120.4373 seconds
I0305 23:26:13.133291       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 23:26:13.133296       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 23:26:13.133302       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:13.133308       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.133312       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.133298533 +0000 UTC m=+120.555370068]
I0305 23:26:13.133326       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7483, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 23:26:13.133332       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 23:26:13.133367       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7483
I0305 23:26:13.133376       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:13.133383       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.133401       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.133406       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.133411       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.133415       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.133423       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.133467       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:13.133477       1 prefix_cache_and_load.go:584] latency, Route, 2.2057
I0305 23:26:13.133490       1 gateway.go:415] latency, selectTargetPod, 2.2057, target pod, 10.0.3.13:8000
I0305 23:26:13.133502       1 gateway.go:235] latency, HandleRequestBody, 2.2060
I0305 23:26:13.133525       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0996
I0305 23:26:13.133529       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.133532       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.133597       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.133617       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:13.133621       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.145285       1 gateway.go:608] "First token received" requestID="3bfe9cf4-fcce-401c-91e8-e6a97479f132" ttft_ms=2219
I0305 23:26:13.149663       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7c02bbc3-603b-46a3-aeaa-95de834a28f0"
I0305 23:26:13.158468       1 gateway.go:562] latency, 0.0001, summary, hash(request), eb2f7e4a, selectedpod, 10.0.3.38:8000, ttft, 2060, tpot, 19, e2e, 2233, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:13.158487       1 gateway.go:748] "Request completed" requestID="482efcdf-1f94-432f-a6b9-1eb9b882a3ce" targetPod="10.0.3.38:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:13.158496       1 gateway.go:764] "HandleResponseBody completed" requestID="482efcdf-1f94-432f-a6b9-1eb9b882a3ce" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:13.185669       1 gateway.go:608] "First token received" requestID="7c02bbc3-603b-46a3-aeaa-95de834a28f0" ttft_ms=2258
I0305 23:26:13.214983       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0814, numInputTokens, 7597
I0305 23:26:13.215011       1 tree.go:471] Updated node(0) last access: 120.5191 seconds
I0305 23:26:13.215019       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.215023       1 tree.go:471] Updated node(2) last access: 120.5191 seconds
I0305 23:26:13.215044       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:13.215050       1 tree.go:471] Updated node(46) last access: 120.5191 seconds
I0305 23:26:13.215067       1 tree.go:667] Split complete - New node(140)
I0305 23:26:13.215074       1 tree.go:668] Split complete - Child node(111)
I0305 23:26:13.215082       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 23:26:13.215107       1 tree.go:471] Updated node(140) last access: 120.5191 seconds
I0305 23:26:13.215120       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 23:26:13.215125       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 23:26:13.215134       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:13.215144       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.215151       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.215127717 +0000 UTC m=+120.637199253]
I0305 23:26:13.215174       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7480, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 23:26:13.215188       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 23:26:13.215283       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7480
I0305 23:26:13.215294       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:13.215305       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.215314       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.215321       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.215329       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.215335       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.215347       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.215359       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:13.215377       1 prefix_cache_and_load.go:584] latency, Route, 2.1815
I0305 23:26:13.215391       1 gateway.go:415] latency, selectTargetPod, 2.1815, target pod, 10.0.3.13:8000
I0305 23:26:13.215412       1 gateway.go:235] latency, HandleRequestBody, 2.1819
I0305 23:26:13.215455       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1740
I0305 23:26:13.215462       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.215467       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.215655       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.215705       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:13.215713       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.218685       1 gateway.go:207] "Processing request" requestID="dc6611f5-453c-4de6-8aa7-572a3db53468"
I0305 23:26:13.218742       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dc6611f5-453c-4de6-8aa7-572a3db53468"
I0305 23:26:13.218757       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:13.229237       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dc6611f5-453c-4de6-8aa7-572a3db53468"
I0305 23:26:13.229379       1 gateway.go:562] latency, 0.0000, summary, hash(request), 19b4fb4d, selectedpod, 10.0.0.4:8000, ttft, 2131, tpot, 19, e2e, 2304, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 23:26:13.229401       1 gateway.go:748] "Request completed" requestID="569babfe-a19c-4a93-b85b-ba8cdf535c23" targetPod="10.0.0.4:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 23:26:13.229412       1 gateway.go:764] "HandleResponseBody completed" requestID="569babfe-a19c-4a93-b85b-ba8cdf535c23" promptTokens=7614 completionTokens=10 stream=true
I0305 23:26:13.229473       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dc6611f5-453c-4de6-8aa7-572a3db53468" model="qwen2-5-7b-instruct"
I0305 23:26:13.231183       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c0da1808-df20-4893-b4d0-c3c3f212b642"
I0305 23:26:13.276378       1 gateway.go:608] "First token received" requestID="c0da1808-df20-4893-b4d0-c3c3f212b642" ttft_ms=2242
I0305 23:26:13.288006       1 gateway.go:207] "Processing request" requestID="936df20e-8a46-48f3-88c8-c6436b9d2b4b"
I0305 23:26:13.288032       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="936df20e-8a46-48f3-88c8-c6436b9d2b4b"
I0305 23:26:13.288039       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:13.298849       1 gateway.go:329] "-- In RequestBody processing ..." requestID="936df20e-8a46-48f3-88c8-c6436b9d2b4b"
I0305 23:26:13.299099       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="936df20e-8a46-48f3-88c8-c6436b9d2b4b" model="qwen2-5-7b-instruct"
I0305 23:26:13.307318       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0916, numInputTokens, 7600
I0305 23:26:13.307334       1 tree.go:471] Updated node(0) last access: 120.6114 seconds
I0305 23:26:13.307340       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.307344       1 tree.go:471] Updated node(2) last access: 120.6114 seconds
I0305 23:26:13.307358       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:13.307362       1 tree.go:471] Updated node(4) last access: 120.6114 seconds
I0305 23:26:13.307365       1 tree.go:490] Partial tokens match child node(115). Continue to go deeper in the radix tree
I0305 23:26:13.307367       1 tree.go:471] Updated node(115) last access: 120.6114 seconds
I0305 23:26:13.307376       1 tree.go:667] Split complete - New node(142)
I0305 23:26:13.307382       1 tree.go:668] Split complete - Child node(116)
I0305 23:26:13.307387       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 23:26:13.307390       1 tree.go:471] Updated node(142) last access: 120.6114 seconds
I0305 23:26:13.307396       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 23:26:13.307399       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:13.307405       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:13.307411       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.307416       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.307401314 +0000 UTC m=+120.729472848]
I0305 23:26:13.307428       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7488, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 23:26:13.307435       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 23:26:13.307482       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7488
I0305 23:26:13.307492       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:13.307499       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.307502       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.307506       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.307510       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.307514       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.307519       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.307528       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.307537       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:13.307546       1 prefix_cache_and_load.go:584] latency, Route, 2.2661
I0305 23:26:13.307561       1 gateway.go:415] latency, selectTargetPod, 2.2661, target pod, 10.0.1.20:8000
I0305 23:26:13.307572       1 gateway.go:235] latency, HandleRequestBody, 2.2666
I0305 23:26:13.307601       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.2630
I0305 23:26:13.307605       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.307608       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.307681       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.307703       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:13.307708       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.318994       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6e515901, selectedpod, 10.0.0.134:8000, ttft, 2219, tpot, 19, e2e, 2393, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:13.319021       1 gateway.go:748] "Request completed" requestID="3bfe9cf4-fcce-401c-91e8-e6a97479f132" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:13.319035       1 gateway.go:764] "HandleResponseBody completed" requestID="3bfe9cf4-fcce-401c-91e8-e6a97479f132" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:13.326930       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c77904ad-f27c-447d-8400-bcde71576435"
I0305 23:26:13.358190       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0505, numInputTokens, 7600
I0305 23:26:13.358212       1 tree.go:471] Updated node(0) last access: 120.6623 seconds
I0305 23:26:13.358218       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.358222       1 tree.go:471] Updated node(2) last access: 120.6623 seconds
I0305 23:26:13.358235       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:13.358238       1 tree.go:471] Updated node(46) last access: 120.6623 seconds
I0305 23:26:13.358243       1 tree.go:490] Partial tokens match child node(140). Continue to go deeper in the radix tree
I0305 23:26:13.358247       1 tree.go:471] Updated node(140) last access: 120.6623 seconds
I0305 23:26:13.358250       1 tree.go:490] Partial tokens match child node(111). Continue to go deeper in the radix tree
I0305 23:26:13.358253       1 tree.go:471] Updated node(111) last access: 120.6623 seconds
I0305 23:26:13.358267       1 tree.go:667] Split complete - New node(144)
I0305 23:26:13.358274       1 tree.go:668] Split complete - Child node(92)
I0305 23:26:13.358278       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 23:26:13.358282       1 tree.go:471] Updated node(144) last access: 120.6623 seconds
I0305 23:26:13.358288       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 23:26:13.358291       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:13.358302       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:13.358307       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.358312       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.358296933 +0000 UTC m=+120.780368468]
I0305 23:26:13.358330       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7487, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 23:26:13.358337       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 23:26:13.358398       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7487
I0305 23:26:13.358407       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:13.358414       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.358421       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.358430       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.358435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.358453       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.358462       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.358466       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.358475       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.358485       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:13.358494       1 prefix_cache_and_load.go:584] latency, Route, 2.3138
I0305 23:26:13.358504       1 gateway.go:415] latency, selectTargetPod, 2.3139, target pod, 10.0.3.13:8000
I0305 23:26:13.358515       1 gateway.go:235] latency, HandleRequestBody, 2.3143
I0305 23:26:13.358572       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1354
I0305 23:26:13.358576       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.358583       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.358685       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.358725       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:13.358730       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.375860       1 gateway.go:608] "First token received" requestID="c77904ad-f27c-447d-8400-bcde71576435" ttft_ms=2334
I0305 23:26:13.378665       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e6a2361e-90aa-4707-ac70-fdbe2d5b0be0"
I0305 23:26:13.408414       1 gateway.go:562] latency, 0.0000, summary, hash(request), b8b17bc9, selectedpod, 10.0.3.13:8000, ttft, 2258, tpot, 24, e2e, 2480, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:13.408436       1 gateway.go:748] "Request completed" requestID="7c02bbc3-603b-46a3-aeaa-95de834a28f0" targetPod="10.0.3.13:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:13.408455       1 gateway.go:764] "HandleResponseBody completed" requestID="7c02bbc3-603b-46a3-aeaa-95de834a28f0" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:13.426513       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0678, numInputTokens, 7599
I0305 23:26:13.426532       1 tree.go:471] Updated node(0) last access: 120.7306 seconds
I0305 23:26:13.426538       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.426543       1 tree.go:471] Updated node(2) last access: 120.7306 seconds
I0305 23:26:13.426558       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:13.426561       1 tree.go:471] Updated node(29) last access: 120.7306 seconds
I0305 23:26:13.426566       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:13.426571       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:13.426578       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:13.426585       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.426589       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.426573453 +0000 UTC m=+120.848644988]
I0305 23:26:13.426602       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:13.426610       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:13.426646       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:13.426655       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:13.426662       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.426666       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.426672       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.426677       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.426687       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.426695       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:13.426705       1 prefix_cache_and_load.go:584] latency, Route, 2.2035
I0305 23:26:13.426720       1 gateway.go:415] latency, selectTargetPod, 2.2035, target pod, 10.0.0.134:8000
I0305 23:26:13.426730       1 gateway.go:235] latency, HandleRequestBody, 2.2038
I0305 23:26:13.426759       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1737
I0305 23:26:13.426779       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.426783       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.426884       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.426914       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:13.426920       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.430624       1 gateway.go:608] "First token received" requestID="e6a2361e-90aa-4707-ac70-fdbe2d5b0be0" ttft_ms=2386
I0305 23:26:13.447256       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="562de5fd-c588-46f7-8d9b-85e36de4b9e3"
I0305 23:26:13.489952       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0630, numInputTokens, 7601
I0305 23:26:13.489969       1 tree.go:471] Updated node(0) last access: 120.7940 seconds
I0305 23:26:13.489975       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.489979       1 tree.go:471] Updated node(2) last access: 120.7940 seconds
I0305 23:26:13.489994       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:13.489999       1 tree.go:471] Updated node(17) last access: 120.7941 seconds
I0305 23:26:13.490007       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:13.490012       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 23:26:13.490021       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:13.490028       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.490036       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.490014768 +0000 UTC m=+120.912086306]
I0305 23:26:13.490055       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:13.490066       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:13.490126       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7478
I0305 23:26:13.490137       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:13.490146       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.490152       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.490156       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.490162       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.490171       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.490181       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:13.490191       1 prefix_cache_and_load.go:584] latency, Route, 2.2371
I0305 23:26:13.490207       1 gateway.go:415] latency, selectTargetPod, 2.2371, target pod, 10.0.1.53:8000
I0305 23:26:13.490220       1 gateway.go:235] latency, HandleRequestBody, 2.2375
I0305 23:26:13.490256       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1854
I0305 23:26:13.490261       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.490265       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.490340       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.490361       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:13.490366       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.491925       1 gateway.go:608] "First token received" requestID="562de5fd-c588-46f7-8d9b-85e36de4b9e3" ttft_ms=2268
I0305 23:26:13.492200       1 gateway.go:562] latency, 0.0000, summary, hash(request), b70166ca, selectedpod, 10.0.3.13:8000, ttft, 2242, tpot, 23, e2e, 2458, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:13.492239       1 gateway.go:748] "Request completed" requestID="c0da1808-df20-4893-b4d0-c3c3f212b642" targetPod="10.0.3.13:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:13.492261       1 gateway.go:764] "HandleResponseBody completed" requestID="c0da1808-df20-4893-b4d0-c3c3f212b642" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:13.509703       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f3e9c98b-b0ce-4193-b84c-60502e441985"
I0305 23:26:13.535943       1 gateway.go:562] latency, 0.0000, summary, hash(request), c62f97b8, selectedpod, 10.0.1.20:8000, ttft, 2334, tpot, 17, e2e, 2494, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:13.535967       1 gateway.go:748] "Request completed" requestID="c77904ad-f27c-447d-8400-bcde71576435" targetPod="10.0.1.20:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:13.535977       1 gateway.go:764] "HandleResponseBody completed" requestID="c77904ad-f27c-447d-8400-bcde71576435" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:13.544823       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0544, numInputTokens, 7599
I0305 23:26:13.544840       1 tree.go:471] Updated node(0) last access: 120.8489 seconds
I0305 23:26:13.544846       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.544850       1 tree.go:471] Updated node(2) last access: 120.8489 seconds
I0305 23:26:13.544863       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:13.544866       1 tree.go:471] Updated node(19) last access: 120.8489 seconds
I0305 23:26:13.544872       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:13.544878       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:13.544885       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:13.544894       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.544902       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.544880002 +0000 UTC m=+120.966951545]
I0305 23:26:13.544921       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:13.544932       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:13.544996       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7478
I0305 23:26:13.545011       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:13.545024       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.545033       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.545038       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.545044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.545078       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.545092       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:13.545100       1 prefix_cache_and_load.go:584] latency, Route, 2.2402
I0305 23:26:13.545119       1 gateway.go:415] latency, selectTargetPod, 2.2402, target pod, 10.0.0.4:8000
I0305 23:26:13.545129       1 gateway.go:235] latency, HandleRequestBody, 2.2406
I0305 23:26:13.545161       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1694
I0305 23:26:13.545166       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.545170       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.545259       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.545281       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:13.545288       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.553000       1 gateway.go:608] "First token received" requestID="f3e9c98b-b0ce-4193-b84c-60502e441985" ttft_ms=2300
I0305 23:26:13.563671       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="44793d77-9bc0-4cfa-9afd-869c448ea434"
I0305 23:26:13.600350       1 gateway.go:207] "Processing request" requestID="cbf114b8-07f4-40cb-8a1d-f1e359fc54ff"
I0305 23:26:13.600374       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cbf114b8-07f4-40cb-8a1d-f1e359fc54ff"
I0305 23:26:13.600383       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:13.606136       1 gateway.go:608] "First token received" requestID="44793d77-9bc0-4cfa-9afd-869c448ea434" ttft_ms=2301
I0305 23:26:13.607018       1 gateway.go:562] latency, 0.0001, summary, hash(request), c17e6f2a, selectedpod, 10.0.3.13:8000, ttft, 2386, tpot, 19, e2e, 2562, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:13.607034       1 gateway.go:748] "Request completed" requestID="e6a2361e-90aa-4707-ac70-fdbe2d5b0be0" targetPod="10.0.3.13:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:13.607043       1 gateway.go:764] "HandleResponseBody completed" requestID="e6a2361e-90aa-4707-ac70-fdbe2d5b0be0" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:13.612740       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cbf114b8-07f4-40cb-8a1d-f1e359fc54ff"
I0305 23:26:13.612955       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cbf114b8-07f4-40cb-8a1d-f1e359fc54ff" model="qwen2-5-7b-instruct"
I0305 23:26:13.627150       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0819, numInputTokens, 7598
I0305 23:26:13.627170       1 tree.go:471] Updated node(0) last access: 120.9312 seconds
I0305 23:26:13.627176       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.627179       1 tree.go:471] Updated node(2) last access: 120.9312 seconds
I0305 23:26:13.627194       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:13.627199       1 tree.go:471] Updated node(23) last access: 120.9313 seconds
I0305 23:26:13.627213       1 tree.go:667] Split complete - New node(149)
I0305 23:26:13.627217       1 tree.go:668] Split complete - Child node(89)
I0305 23:26:13.627222       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 23:26:13.627227       1 tree.go:471] Updated node(149) last access: 120.9313 seconds
I0305 23:26:13.627233       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 23:26:13.627238       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:13.627244       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:13.627251       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.627255       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.62724041 +0000 UTC m=+121.049311954]
I0305 23:26:13.627271       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7488, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 23:26:13.627279       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 23:26:13.627336       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7488
I0305 23:26:13.627345       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:13.627353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.627361       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.627367       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.627370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.627374       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.627384       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.627394       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:13.627403       1 prefix_cache_and_load.go:584] latency, Route, 2.2516
I0305 23:26:13.627419       1 gateway.go:415] latency, selectTargetPod, 2.2516, target pod, 10.0.3.13:8000
I0305 23:26:13.627430       1 gateway.go:235] latency, HandleRequestBody, 2.2519
I0305 23:26:13.627468       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1970
I0305 23:26:13.627479       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.627482       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.627585       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.627613       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:13.627622       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.642861       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="30d06d43-c309-403e-8d16-fd68d74e2405"
I0305 23:26:13.663949       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8c9ac2eb, selectedpod, 10.0.0.134:8000, ttft, 2268, tpot, 19, e2e, 2440, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:13.663969       1 gateway.go:748] "Request completed" requestID="562de5fd-c588-46f7-8d9b-85e36de4b9e3" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:13.663978       1 gateway.go:764] "HandleResponseBody completed" requestID="562de5fd-c588-46f7-8d9b-85e36de4b9e3" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:13.678117       1 gateway.go:608] "First token received" requestID="30d06d43-c309-403e-8d16-fd68d74e2405" ttft_ms=2302
I0305 23:26:13.703797       1 gateway.go:207] "Processing request" requestID="fafb6e19-44d3-4d68-97dd-e5f48cc2b713"
I0305 23:26:13.703823       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fafb6e19-44d3-4d68-97dd-e5f48cc2b713"
I0305 23:26:13.703832       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:13.706169       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0785, numInputTokens, 7605
I0305 23:26:13.706188       1 tree.go:471] Updated node(0) last access: 121.0102 seconds
I0305 23:26:13.706195       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.706198       1 tree.go:471] Updated node(2) last access: 121.0103 seconds
I0305 23:26:13.706213       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:13.706217       1 tree.go:471] Updated node(29) last access: 121.0103 seconds
I0305 23:26:13.706225       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 127 tokens:
I0305 23:26:13.706232       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7605 tokens
I0305 23:26:13.706240       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7605 tokens
I0305 23:26:13.706247       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.706253       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.706233885 +0000 UTC m=+121.128305420]
I0305 23:26:13.706268       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7605, Matched tokens: 7478, Matching ratio: 0.9833, # Matched pods: 0, Matched pods: []
I0305 23:26:13.706274       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9833 > 0.5000)
I0305 23:26:13.706324       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:13.706388       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:13.706397       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.706404       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.706408       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.706411       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.706422       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.706431       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:13.706454       1 prefix_cache_and_load.go:584] latency, Route, 2.2760
I0305 23:26:13.706469       1 gateway.go:415] latency, selectTargetPod, 2.2760, target pod, 10.0.0.134:8000
I0305 23:26:13.706481       1 gateway.go:235] latency, HandleRequestBody, 2.2763
I0305 23:26:13.706509       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1894
I0305 23:26:13.706513       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.706517       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.706618       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.706648       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:13.706653       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.715799       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fafb6e19-44d3-4d68-97dd-e5f48cc2b713"
I0305 23:26:13.726711       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7c11b01d-1129-4ee1-861f-3b30d22f4472"
I0305 23:26:13.727239       1 gateway.go:562] latency, 0.0000, summary, hash(request), bebd767c, selectedpod, 10.0.1.53:8000, ttft, 2300, tpot, 19, e2e, 2474, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:13.727278       1 gateway.go:748] "Request completed" requestID="f3e9c98b-b0ce-4193-b84c-60502e441985" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:13.727294       1 gateway.go:764] "HandleResponseBody completed" requestID="f3e9c98b-b0ce-4193-b84c-60502e441985" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:13.775555       1 gateway.go:207] "Processing request" requestID="b5871dd0-b4d3-4e3b-99fc-42bc36faad1c"
I0305 23:26:13.775590       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b5871dd0-b4d3-4e3b-99fc-42bc36faad1c"
I0305 23:26:13.775601       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:13.775626       1 gateway.go:608] "First token received" requestID="7c11b01d-1129-4ee1-861f-3b30d22f4472" ttft_ms=2345
I0305 23:26:13.780469       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fafb6e19-44d3-4d68-97dd-e5f48cc2b713" model="qwen2-5-7b-instruct"
I0305 23:26:13.780783       1 gateway.go:562] latency, 0.0000, summary, hash(request), e608a3a9, selectedpod, 10.0.0.4:8000, ttft, 2301, tpot, 19, e2e, 2476, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:13.780805       1 gateway.go:748] "Request completed" requestID="44793d77-9bc0-4cfa-9afd-869c448ea434" targetPod="10.0.0.4:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:13.780816       1 gateway.go:764] "HandleResponseBody completed" requestID="44793d77-9bc0-4cfa-9afd-869c448ea434" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:13.785177       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b5871dd0-b4d3-4e3b-99fc-42bc36faad1c"
I0305 23:26:13.785387       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b5871dd0-b4d3-4e3b-99fc-42bc36faad1c" model="qwen2-5-7b-instruct"
I0305 23:26:13.800786       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0941, numInputTokens, 7604
I0305 23:26:13.800803       1 tree.go:471] Updated node(0) last access: 121.1049 seconds
I0305 23:26:13.800809       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.800812       1 tree.go:471] Updated node(2) last access: 121.1049 seconds
I0305 23:26:13.800826       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:13.800830       1 tree.go:471] Updated node(17) last access: 121.1049 seconds
I0305 23:26:13.800837       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 23:26:13.800843       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 23:26:13.800850       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 23:26:13.800859       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.800866       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.800845206 +0000 UTC m=+121.222916742]
I0305 23:26:13.800881       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 23:26:13.800888       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 23:26:13.800939       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7478
I0305 23:26:13.800952       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:13.800963       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.800971       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.800975       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.800979       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.800991       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.801000       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:13.801010       1 prefix_cache_and_load.go:584] latency, Route, 2.2839
I0305 23:26:13.801027       1 gateway.go:415] latency, selectTargetPod, 2.2839, target pod, 10.0.1.53:8000
I0305 23:26:13.801042       1 gateway.go:235] latency, HandleRequestBody, 2.2842
I0305 23:26:13.801070       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.2598
I0305 23:26:13.801075       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.801078       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.801147       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.801170       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:13.801175       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.820010       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f64b86eb-4546-47f5-a68f-faee7b8913c9"
I0305 23:26:13.849850       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0487, numInputTokens, 7601
I0305 23:26:13.849870       1 tree.go:471] Updated node(0) last access: 121.1539 seconds
I0305 23:26:13.849876       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.849880       1 tree.go:471] Updated node(2) last access: 121.1539 seconds
I0305 23:26:13.849901       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:13.849907       1 tree.go:471] Updated node(38) last access: 121.1540 seconds
I0305 23:26:13.849918       1 tree.go:667] Split complete - New node(153)
I0305 23:26:13.849922       1 tree.go:668] Split complete - Child node(39)
I0305 23:26:13.849927       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 23:26:13.850092       1 tree.go:471] Updated node(153) last access: 121.1541 seconds
I0305 23:26:13.850112       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:13.850120       1 tree.go:449] latency, insertHelper, 0.0003 seconds, 7601 tokens
I0305 23:26:13.850133       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:13.850145       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0003
I0305 23:26:13.850155       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.85012415 +0000 UTC m=+121.272195686]
I0305 23:26:13.850177       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7486, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:13.850197       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:13.850304       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7486
I0305 23:26:13.850319       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:13.850331       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.850340       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.850345       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.850352       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.850358       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.850383       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.850397       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:13.850414       1 prefix_cache_and_load.go:584] latency, Route, 2.3091
I0305 23:26:13.850431       1 gateway.go:415] latency, selectTargetPod, 2.3091, target pod, 10.0.0.134:8000
I0305 23:26:13.850672       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9981
I0305 23:26:13.850694       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.850700       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.850905       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.850991       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 23:26:13.850998       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.851012       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7091c449, selectedpod, 10.0.3.13:8000, ttft, 2302, tpot, 19, e2e, 2475, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:13.851039       1 gateway.go:748] "Request completed" requestID="30d06d43-c309-403e-8d16-fd68d74e2405" targetPod="10.0.3.13:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:13.851056       1 gateway.go:764] "HandleResponseBody completed" requestID="30d06d43-c309-403e-8d16-fd68d74e2405" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:13.854387       1 gateway.go:207] "Processing request" requestID="3ef8ede2-926a-4779-9177-aee021bd291b"
I0305 23:26:13.854416       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3ef8ede2-926a-4779-9177-aee021bd291b"
I0305 23:26:13.854424       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:13.860007       1 gateway.go:207] "Processing request" requestID="7a99045e-34d2-47c5-a848-0aa62ded8d1f"
I0305 23:26:13.875506       1 gateway.go:235] latency, HandleRequestBody, 2.3345
I0305 23:26:13.876087       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7a99045e-34d2-47c5-a848-0aa62ded8d1f"
I0305 23:26:13.876709       1 gateway.go:230] latency, HandleRequestHeaders, 0.0006
I0305 23:26:13.876738       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3ef8ede2-926a-4779-9177-aee021bd291b"
I0305 23:26:13.876794       1 gateway.go:608] "First token received" requestID="f64b86eb-4546-47f5-a68f-faee7b8913c9" ttft_ms=2359
I0305 23:26:13.877026       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3ef8ede2-926a-4779-9177-aee021bd291b" model="qwen2-5-7b-instruct"
I0305 23:26:13.887624       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7a99045e-34d2-47c5-a848-0aa62ded8d1f"
I0305 23:26:13.887843       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7a99045e-34d2-47c5-a848-0aa62ded8d1f" model="qwen2-5-7b-instruct"
I0305 23:26:13.890382       1 gateway.go:207] "Processing request" requestID="0451b836-5a46-497d-9f96-f4c8fa5b0c47"
I0305 23:26:13.890406       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0451b836-5a46-497d-9f96-f4c8fa5b0c47"
I0305 23:26:13.890414       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:13.895463       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0451b836-5a46-497d-9f96-f4c8fa5b0c47"
I0305 23:26:13.895705       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0451b836-5a46-497d-9f96-f4c8fa5b0c47" model="qwen2-5-7b-instruct"
I0305 23:26:13.896275       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d3286134-39fc-4a72-a97a-38fed8e7985a"
I0305 23:26:13.921754       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0707, numInputTokens, 7602
I0305 23:26:13.921770       1 tree.go:471] Updated node(0) last access: 121.2258 seconds
I0305 23:26:13.921776       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:13.921779       1 tree.go:471] Updated node(2) last access: 121.2258 seconds
I0305 23:26:13.921794       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:13.921801       1 tree.go:471] Updated node(4) last access: 121.2259 seconds
I0305 23:26:13.921807       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 23:26:13.921810       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 23:26:13.921817       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:13.921823       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:13.921828       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:13.921812724 +0000 UTC m=+121.343884259]
I0305 23:26:13.921841       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 23:26:13.921847       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 23:26:13.921894       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7478
I0305 23:26:13.921903       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:13.921911       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.921918       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.921924       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.921929       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:13.921950       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:13.921961       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:13.921970       1 prefix_cache_and_load.go:584] latency, Route, 2.0694
I0305 23:26:13.921988       1 gateway.go:415] latency, selectTargetPod, 2.0694, target pod, 10.0.1.20:8000
I0305 23:26:13.921998       1 gateway.go:235] latency, HandleRequestBody, 2.0697
I0305 23:26:13.922028       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0164
I0305 23:26:13.922034       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:13.922037       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:13.922102       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:13.922141       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:13.922146       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:13.938110       1 gateway.go:608] "First token received" requestID="d3286134-39fc-4a72-a97a-38fed8e7985a" ttft_ms=2397
I0305 23:26:13.942012       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f3eaeae2-2226-440a-939a-d5b06832355e"
I0305 23:26:13.980008       1 gateway.go:562] latency, 0.0000, summary, hash(request), edf3a57c, selectedpod, 10.0.0.134:8000, ttft, 2345, tpot, 22, e2e, 2549, numInputTokens, 7624, numOutputTokens, 10, numTotalTokens, 7634
I0305 23:26:13.980029       1 gateway.go:748] "Request completed" requestID="7c11b01d-1129-4ee1-861f-3b30d22f4472" targetPod="10.0.0.134:8000" promptTokens=7624 completionTokens=10 totalTokens=7634
I0305 23:26:13.980039       1 gateway.go:764] "HandleResponseBody completed" requestID="7c11b01d-1129-4ee1-861f-3b30d22f4472" promptTokens=7624 completionTokens=10 stream=true
I0305 23:26:13.985375       1 gateway.go:608] "First token received" requestID="f3eaeae2-2226-440a-939a-d5b06832355e" ttft_ms=2133
I0305 23:26:13.996503       1 gateway.go:207] "Processing request" requestID="1294025e-8976-43ec-a7f8-5b0e5ea7ec14"
I0305 23:26:13.996535       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1294025e-8976-43ec-a7f8-5b0e5ea7ec14"
I0305 23:26:13.996543       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.005284       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1294025e-8976-43ec-a7f8-5b0e5ea7ec14"
I0305 23:26:14.005517       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1294025e-8976-43ec-a7f8-5b0e5ea7ec14" model="qwen2-5-7b-instruct"
I0305 23:26:14.011824       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0897, numInputTokens, 7600
I0305 23:26:14.011840       1 tree.go:471] Updated node(0) last access: 121.3159 seconds
I0305 23:26:14.011846       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.011849       1 tree.go:471] Updated node(2) last access: 121.3159 seconds
I0305 23:26:14.011863       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:14.011867       1 tree.go:471] Updated node(46) last access: 121.3159 seconds
I0305 23:26:14.011873       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:14.011878       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:14.011884       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:14.011891       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.011895       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.011880268 +0000 UTC m=+121.433951802]
I0305 23:26:14.011910       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:14.011919       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:14.011969       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:14.011979       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:14.011986       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.011991       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.011996       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.012002       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.012012       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.012020       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:14.012030       1 prefix_cache_and_load.go:584] latency, Route, 2.1064
I0305 23:26:14.012044       1 gateway.go:415] latency, selectTargetPod, 2.1064, target pod, 10.0.3.13:8000
I0305 23:26:14.012063       1 gateway.go:235] latency, HandleRequestBody, 2.1067
I0305 23:26:14.012090       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9192
I0305 23:26:14.012094       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.012097       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.012160       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.012184       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:14.012189       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.029810       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="72c30464-e4e0-4c19-9950-bf450883594d"
I0305 23:26:14.030596       1 gateway.go:207] "Processing request" requestID="8c8edb71-2c5f-4ef0-86e9-a63bbd607ba6"
I0305 23:26:14.030624       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8c8edb71-2c5f-4ef0-86e9-a63bbd607ba6"
I0305 23:26:14.030632       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.033036       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8c8edb71-2c5f-4ef0-86e9-a63bbd607ba6"
I0305 23:26:14.033263       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8c8edb71-2c5f-4ef0-86e9-a63bbd607ba6" model="qwen2-5-7b-instruct"
I0305 23:26:14.037277       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8de50e11, selectedpod, 10.0.1.53:8000, ttft, 2359, tpot, 17, e2e, 2520, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 23:26:14.037293       1 gateway.go:748] "Request completed" requestID="f64b86eb-4546-47f5-a68f-faee7b8913c9" targetPod="10.0.1.53:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 23:26:14.037300       1 gateway.go:764] "HandleResponseBody completed" requestID="f64b86eb-4546-47f5-a68f-faee7b8913c9" promptTokens=7623 completionTokens=10 stream=true
I0305 23:26:14.061351       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 7601
I0305 23:26:14.061368       1 tree.go:471] Updated node(0) last access: 121.3654 seconds
I0305 23:26:14.061374       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.061378       1 tree.go:471] Updated node(2) last access: 121.3654 seconds
I0305 23:26:14.061391       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:14.061396       1 tree.go:471] Updated node(33) last access: 121.3655 seconds
I0305 23:26:14.061402       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:14.061408       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 23:26:14.061416       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:14.061427       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.061434       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.061411023 +0000 UTC m=+121.483482569]
I0305 23:26:14.061461       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:14.061468       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:14.061518       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7478
I0305 23:26:14.061529       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:14.061537       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.061542       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.061546       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.061550       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.061563       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.061576       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:14.061589       1 prefix_cache_and_load.go:584] latency, Route, 1.9687
I0305 23:26:14.061610       1 gateway.go:415] latency, selectTargetPod, 1.9687, target pod, 10.0.3.38:8000
I0305 23:26:14.061622       1 gateway.go:235] latency, HandleRequestBody, 1.9690
I0305 23:26:14.061637       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8484
I0305 23:26:14.061655       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.061659       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.061767       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.062047       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 23:26:14.062077       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.075910       1 gateway.go:608] "First token received" requestID="72c30464-e4e0-4c19-9950-bf450883594d" ttft_ms=2170
I0305 23:26:14.077869       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="12ff1fff-c7f1-4bcb-a085-6eb23f86a37f"
I0305 23:26:14.114221       1 gateway.go:562] latency, 0.0000, summary, hash(request), 63292ecc, selectedpod, 10.0.0.134:8000, ttft, 2397, tpot, 19, e2e, 2573, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:14.114241       1 gateway.go:748] "Request completed" requestID="d3286134-39fc-4a72-a97a-38fed8e7985a" targetPod="10.0.0.134:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:14.114251       1 gateway.go:764] "HandleResponseBody completed" requestID="d3286134-39fc-4a72-a97a-38fed8e7985a" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:14.122920       1 gateway.go:608] "First token received" requestID="12ff1fff-c7f1-4bcb-a085-6eb23f86a37f" ttft_ms=2030
I0305 23:26:14.125201       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0631, numInputTokens, 7597
I0305 23:26:14.125219       1 tree.go:471] Updated node(0) last access: 121.4293 seconds
I0305 23:26:14.125225       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.125229       1 tree.go:471] Updated node(2) last access: 121.4293 seconds
I0305 23:26:14.125243       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:14.125248       1 tree.go:471] Updated node(23) last access: 121.4293 seconds
I0305 23:26:14.125254       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 23:26:14.125259       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 23:26:14.125267       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:14.125274       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.125279       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.125261807 +0000 UTC m=+121.547333341]
I0305 23:26:14.125293       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 23:26:14.125301       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 23:26:14.125340       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:14.125349       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:14.125358       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.125363       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.125366       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.125369       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.125380       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.125390       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:14.125401       1 prefix_cache_and_load.go:584] latency, Route, 1.9121
I0305 23:26:14.125418       1 gateway.go:415] latency, selectTargetPod, 1.9122, target pod, 10.0.3.13:8000
I0305 23:26:14.125430       1 gateway.go:235] latency, HandleRequestBody, 1.9125
I0305 23:26:14.125457       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8709
I0305 23:26:14.125465       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.125468       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.125562       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.125586       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:14.125592       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.129068       1 gateway.go:207] "Processing request" requestID="07529f5f-a5bc-43a0-96dc-49942c765ae0"
I0305 23:26:14.129091       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="07529f5f-a5bc-43a0-96dc-49942c765ae0"
I0305 23:26:14.129098       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.175808       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2c7ba200-3062-4da2-8f4e-b6fe5b9d3cc6"
I0305 23:26:14.176068       1 gateway.go:562] latency, 0.0001, summary, hash(request), 682acebf, selectedpod, 10.0.1.20:8000, ttft, 2133, tpot, 21, e2e, 2323, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:14.176103       1 gateway.go:748] "Request completed" requestID="f3eaeae2-2226-440a-939a-d5b06832355e" targetPod="10.0.1.20:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:14.176114       1 gateway.go:764] "HandleResponseBody completed" requestID="f3eaeae2-2226-440a-939a-d5b06832355e" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:14.176734       1 gateway.go:329] "-- In RequestBody processing ..." requestID="07529f5f-a5bc-43a0-96dc-49942c765ae0"
I0305 23:26:14.176959       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="07529f5f-a5bc-43a0-96dc-49942c765ae0" model="qwen2-5-7b-instruct"
I0305 23:26:14.182942       1 gateway.go:207] "Processing request" requestID="68437fb3-571a-4935-a88c-0bada25ebdca"
I0305 23:26:14.182961       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="68437fb3-571a-4935-a88c-0bada25ebdca"
I0305 23:26:14.182968       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.183661       1 gateway.go:608] "First token received" requestID="2c7ba200-3062-4da2-8f4e-b6fe5b9d3cc6" ttft_ms=1970
I0305 23:26:14.197526       1 gateway.go:207] "Processing request" requestID="f28c786a-ba0a-49c7-8a52-9d80bd902a3f"
I0305 23:26:14.197542       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f28c786a-ba0a-49c7-8a52-9d80bd902a3f"
I0305 23:26:14.197548       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.197859       1 gateway.go:329] "-- In RequestBody processing ..." requestID="68437fb3-571a-4935-a88c-0bada25ebdca"
I0305 23:26:14.198061       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="68437fb3-571a-4935-a88c-0bada25ebdca" model="qwen2-5-7b-instruct"
I0305 23:26:14.203282       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f28c786a-ba0a-49c7-8a52-9d80bd902a3f"
I0305 23:26:14.203506       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f28c786a-ba0a-49c7-8a52-9d80bd902a3f" model="qwen2-5-7b-instruct"
I0305 23:26:14.215286       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0897, numInputTokens, 7599
I0305 23:26:14.215305       1 tree.go:471] Updated node(0) last access: 121.5194 seconds
I0305 23:26:14.215311       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.215314       1 tree.go:471] Updated node(2) last access: 121.5194 seconds
I0305 23:26:14.215330       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:14.215335       1 tree.go:471] Updated node(11) last access: 121.5194 seconds
I0305 23:26:14.215343       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:14.215349       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:14.215358       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:14.215367       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.215376       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.215352336 +0000 UTC m=+121.637423876]
I0305 23:26:14.215396       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:14.215407       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:14.215474       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7478
I0305 23:26:14.215488       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:14.215501       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.215512       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.215520       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.215526       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.215537       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.215547       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:14.215558       1 prefix_cache_and_load.go:584] latency, Route, 1.9610
I0305 23:26:14.215575       1 gateway.go:415] latency, selectTargetPod, 1.9611, target pod, 10.0.1.25:8000
I0305 23:26:14.215589       1 gateway.go:235] latency, HandleRequestBody, 1.9614
I0305 23:26:14.215602       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7898
I0305 23:26:14.215613       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.215620       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.215732       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.215764       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:14.215769       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.234262       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ed6c166b-e7db-48cf-a163-73abe285c2ee"
I0305 23:26:14.235907       1 gateway.go:207] "Processing request" requestID="ae801541-2471-4cba-9082-7e38f88f1f9e"
I0305 23:26:14.235929       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ae801541-2471-4cba-9082-7e38f88f1f9e"
I0305 23:26:14.235941       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.246319       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ae801541-2471-4cba-9082-7e38f88f1f9e"
I0305 23:26:14.246540       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ae801541-2471-4cba-9082-7e38f88f1f9e" model="qwen2-5-7b-instruct"
I0305 23:26:14.278123       1 gateway.go:608] "First token received" requestID="ed6c166b-e7db-48cf-a163-73abe285c2ee" ttft_ms=2023
I0305 23:26:14.279612       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0638, numInputTokens, 7601
I0305 23:26:14.279642       1 tree.go:471] Updated node(0) last access: 121.5837 seconds
I0305 23:26:14.279650       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.279655       1 tree.go:471] Updated node(2) last access: 121.5837 seconds
I0305 23:26:14.279674       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:14.279680       1 tree.go:471] Updated node(11) last access: 121.5837 seconds
I0305 23:26:14.279694       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:14.279701       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:14.279710       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:14.279719       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.279730       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.279703994 +0000 UTC m=+121.701775528]
I0305 23:26:14.279754       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:14.279766       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:14.279854       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7478
I0305 23:26:14.279867       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:14.279879       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.279889       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.279900       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.279906       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.279923       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.279944       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:14.279961       1 prefix_cache_and_load.go:584] latency, Route, 1.8542
I0305 23:26:14.279985       1 gateway.go:415] latency, selectTargetPod, 1.8542, target pod, 10.0.1.25:8000
I0305 23:26:14.280004       1 gateway.go:235] latency, HandleRequestBody, 1.8545
I0305 23:26:14.280037       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7993
I0305 23:26:14.280043       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.280046       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.280209       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.280278       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:14.280288       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.285609       1 gateway.go:562] latency, 0.0000, summary, hash(request), fea8936d, selectedpod, 10.0.3.13:8000, ttft, 2170, tpot, 23, e2e, 2380, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:14.285636       1 gateway.go:748] "Request completed" requestID="72c30464-e4e0-4c19-9950-bf450883594d" targetPod="10.0.3.13:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:14.285650       1 gateway.go:764] "HandleResponseBody completed" requestID="72c30464-e4e0-4c19-9950-bf450883594d" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:14.295611       1 gateway.go:562] latency, 0.0000, summary, hash(request), 18376846, selectedpod, 10.0.3.38:8000, ttft, 2030, tpot, 19, e2e, 2202, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:14.295628       1 gateway.go:748] "Request completed" requestID="12ff1fff-c7f1-4bcb-a085-6eb23f86a37f" targetPod="10.0.3.38:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:14.295637       1 gateway.go:764] "HandleResponseBody completed" requestID="12ff1fff-c7f1-4bcb-a085-6eb23f86a37f" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:14.298905       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5aa79dbd-2d5d-4fda-8475-4ffbc3dbc315"
I0305 23:26:14.316648       1 gateway.go:207] "Processing request" requestID="30c2c2fb-cb67-47ec-a7b9-44930f9211a6"
I0305 23:26:14.316691       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="30c2c2fb-cb67-47ec-a7b9-44930f9211a6"
I0305 23:26:14.316701       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.326552       1 gateway.go:329] "-- In RequestBody processing ..." requestID="30c2c2fb-cb67-47ec-a7b9-44930f9211a6"
I0305 23:26:14.326779       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="30c2c2fb-cb67-47ec-a7b9-44930f9211a6" model="qwen2-5-7b-instruct"
I0305 23:26:14.330432       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0501, numInputTokens, 7598
I0305 23:26:14.330459       1 tree.go:471] Updated node(0) last access: 121.6345 seconds
I0305 23:26:14.330466       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.330469       1 tree.go:471] Updated node(2) last access: 121.6345 seconds
I0305 23:26:14.330482       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:14.330487       1 tree.go:471] Updated node(4) last access: 121.6345 seconds
I0305 23:26:14.330490       1 tree.go:490] Partial tokens match child node(115). Continue to go deeper in the radix tree
I0305 23:26:14.330493       1 tree.go:471] Updated node(115) last access: 121.6345 seconds
I0305 23:26:14.330497       1 tree.go:490] Partial tokens match child node(142). Continue to go deeper in the radix tree
I0305 23:26:14.330499       1 tree.go:471] Updated node(142) last access: 121.6346 seconds
I0305 23:26:14.330507       1 tree.go:667] Split complete - New node(161)
I0305 23:26:14.330511       1 tree.go:668] Split complete - Child node(143)
I0305 23:26:14.330515       1 tree.go:501] latency, splitNode, 0.0000 seconds, 110 tokens:
I0305 23:26:14.330520       1 tree.go:471] Updated node(161) last access: 121.6346 seconds
I0305 23:26:14.330525       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 23:26:14.330529       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:14.330536       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:14.330543       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.330548       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.330532142 +0000 UTC m=+121.752603677]
I0305 23:26:14.330562       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7489, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 23:26:14.330568       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 23:26:14.330608       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7489
I0305 23:26:14.330617       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:14.330624       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.330630       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.330634       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.330637       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.330642       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.330645       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.330648       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.330657       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.330665       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:14.330675       1 prefix_cache_and_load.go:584] latency, Route, 1.8499
I0305 23:26:14.330690       1 gateway.go:415] latency, selectTargetPod, 1.8499, target pod, 10.0.1.20:8000
I0305 23:26:14.330699       1 gateway.go:235] latency, HandleRequestBody, 1.8502
I0305 23:26:14.330727       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6512
I0305 23:26:14.330732       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.330734       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.330804       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.330826       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:14.330832       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.350412       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9cb39aec-4120-4152-a7ea-dddf8bdcb23d"
I0305 23:26:14.357147       1 gateway.go:608] "First token received" requestID="5aa79dbd-2d5d-4fda-8475-4ffbc3dbc315" ttft_ms=1931
I0305 23:26:14.362859       1 gateway.go:562] latency, 0.0000, summary, hash(request), cfac6cd7, selectedpod, 10.0.3.13:8000, ttft, 1970, tpot, 19, e2e, 2149, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:14.362879       1 gateway.go:748] "Request completed" requestID="2c7ba200-3062-4da2-8f4e-b6fe5b9d3cc6" targetPod="10.0.3.13:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:14.362891       1 gateway.go:764] "HandleResponseBody completed" requestID="2c7ba200-3062-4da2-8f4e-b6fe5b9d3cc6" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:14.386644       1 gateway.go:608] "First token received" requestID="9cb39aec-4120-4152-a7ea-dddf8bdcb23d" ttft_ms=1906
I0305 23:26:14.410788       1 gateway.go:207] "Processing request" requestID="7cef80d1-f104-448e-954b-c19b13e35e43"
I0305 23:26:14.410820       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7cef80d1-f104-448e-954b-c19b13e35e43"
I0305 23:26:14.410827       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.413914       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7cef80d1-f104-448e-954b-c19b13e35e43"
I0305 23:26:14.414119       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7cef80d1-f104-448e-954b-c19b13e35e43" model="qwen2-5-7b-instruct"
I0305 23:26:14.418460       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0876, numInputTokens, 7600
I0305 23:26:14.418478       1 tree.go:471] Updated node(0) last access: 121.7225 seconds
I0305 23:26:14.418485       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.418491       1 tree.go:471] Updated node(2) last access: 121.7225 seconds
I0305 23:26:14.418508       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:14.418513       1 tree.go:471] Updated node(19) last access: 121.7226 seconds
I0305 23:26:14.418529       1 tree.go:667] Split complete - New node(163)
I0305 23:26:14.418536       1 tree.go:668] Split complete - Child node(88)
I0305 23:26:14.418543       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 23:26:14.418550       1 tree.go:471] Updated node(163) last access: 121.7226 seconds
I0305 23:26:14.418559       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 23:26:14.418565       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:14.418577       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:14.418587       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.418596       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.418571173 +0000 UTC m=+121.840642716]
I0305 23:26:14.418611       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7483, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 23:26:14.418619       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 23:26:14.418662       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7483
I0305 23:26:14.418671       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:14.418679       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.418684       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.418687       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.418693       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.418696       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.418706       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.418716       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:14.418727       1 prefix_cache_and_load.go:584] latency, Route, 1.7392
I0305 23:26:14.418736       1 gateway.go:415] latency, selectTargetPod, 1.7392, target pod, 10.0.0.4:8000
I0305 23:26:14.418745       1 gateway.go:235] latency, HandleRequestBody, 1.7397
I0305 23:26:14.418807       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6281
I0305 23:26:14.418824       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.418828       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.418962       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.418995       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:14.419003       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.437833       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="046ce479-7fc2-4272-a9f0-40c8bddb9e55"
I0305 23:26:14.480975       1 gateway.go:608] "First token received" requestID="046ce479-7fc2-4272-a9f0-40c8bddb9e55" ttft_ms=1801
I0305 23:26:14.493532       1 gateway.go:207] "Processing request" requestID="b7f813ab-f211-47e5-9aed-6309818306df"
I0305 23:26:14.493559       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b7f813ab-f211-47e5-9aed-6309818306df"
I0305 23:26:14.493567       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.497570       1 gateway.go:562] latency, 0.0000, summary, hash(request), 165adebb, selectedpod, 10.0.1.25:8000, ttft, 2023, tpot, 24, e2e, 2243, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:14.497588       1 gateway.go:748] "Request completed" requestID="ed6c166b-e7db-48cf-a163-73abe285c2ee" targetPod="10.0.1.25:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:14.497598       1 gateway.go:764] "HandleResponseBody completed" requestID="ed6c166b-e7db-48cf-a163-73abe285c2ee" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:14.500066       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b7f813ab-f211-47e5-9aed-6309818306df"
I0305 23:26:14.500278       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b7f813ab-f211-47e5-9aed-6309818306df" model="qwen2-5-7b-instruct"
I0305 23:26:14.502706       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0837, numInputTokens, 7603
I0305 23:26:14.502724       1 tree.go:471] Updated node(0) last access: 121.8068 seconds
I0305 23:26:14.502731       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.502735       1 tree.go:471] Updated node(2) last access: 121.8068 seconds
I0305 23:26:14.502748       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:14.502753       1 tree.go:471] Updated node(38) last access: 121.8068 seconds
I0305 23:26:14.502758       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 125 tokens:
I0305 23:26:14.502764       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 23:26:14.502770       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 23:26:14.502777       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.502782       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.502765834 +0000 UTC m=+121.924837368]
I0305 23:26:14.502798       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7478, Matching ratio: 0.9836, # Matched pods: 0, Matched pods: []
I0305 23:26:14.502810       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9836 > 0.5000)
I0305 23:26:14.502853       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:14.502862       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:14.502870       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.502875       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.502880       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.502883       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.502890       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.502898       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:14.502909       1 prefix_cache_and_load.go:584] latency, Route, 1.7122
I0305 23:26:14.502925       1 gateway.go:415] latency, selectTargetPod, 1.7122, target pod, 10.0.0.134:8000
I0305 23:26:14.502945       1 gateway.go:235] latency, HandleRequestBody, 1.7125
I0305 23:26:14.502946       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5221
I0305 23:26:14.502957       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.502964       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.503093       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.503121       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:14.503127       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.523152       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b8af8c95-ebd0-4fda-9d35-10a569b18284"
I0305 23:26:14.537087       1 gateway.go:562] latency, 0.0000, summary, hash(request), 64e13894, selectedpod, 10.0.1.25:8000, ttft, 1931, tpot, 19, e2e, 2111, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:14.537117       1 gateway.go:748] "Request completed" requestID="5aa79dbd-2d5d-4fda-8475-4ffbc3dbc315" targetPod="10.0.1.25:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:14.537128       1 gateway.go:764] "HandleResponseBody completed" requestID="5aa79dbd-2d5d-4fda-8475-4ffbc3dbc315" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:14.559174       1 gateway.go:562] latency, 0.0000, summary, hash(request), ab77e84c, selectedpod, 10.0.1.20:8000, ttft, 1906, tpot, 19, e2e, 2078, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:14.559196       1 gateway.go:748] "Request completed" requestID="9cb39aec-4120-4152-a7ea-dddf8bdcb23d" targetPod="10.0.1.20:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:14.559207       1 gateway.go:764] "HandleResponseBody completed" requestID="9cb39aec-4120-4152-a7ea-dddf8bdcb23d" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:14.566744       1 gateway.go:608] "First token received" requestID="b8af8c95-ebd0-4fda-9d35-10a569b18284" ttft_ms=1776
I0305 23:26:14.582664       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0795, numInputTokens, 7603
I0305 23:26:14.582681       1 tree.go:471] Updated node(0) last access: 121.8867 seconds
I0305 23:26:14.582687       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.582691       1 tree.go:471] Updated node(2) last access: 121.8867 seconds
I0305 23:26:14.582703       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:14.582707       1 tree.go:471] Updated node(11) last access: 121.8868 seconds
I0305 23:26:14.582711       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0305 23:26:14.582713       1 tree.go:471] Updated node(40) last access: 121.8868 seconds
I0305 23:26:14.582719       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:14.582725       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 23:26:14.582732       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 23:26:14.582740       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.582745       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.582726779 +0000 UTC m=+122.004798320]
I0305 23:26:14.582759       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7481, Matching ratio: 0.9840, # Matched pods: 0, Matched pods: []
I0305 23:26:14.582767       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9840 > 0.5000)
I0305 23:26:14.582810       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7481
I0305 23:26:14.582819       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:14.582828       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.582834       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.582839       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.582843       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.582847       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.582855       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.582863       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:14.582873       1 prefix_cache_and_load.go:584] latency, Route, 1.6020
I0305 23:26:14.582886       1 gateway.go:415] latency, selectTargetPod, 1.6020, target pod, 10.0.1.25:8000
I0305 23:26:14.582896       1 gateway.go:235] latency, HandleRequestBody, 1.6024
I0305 23:26:14.582896       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4784
I0305 23:26:14.582906       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.582911       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.583063       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.583113       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:14.583121       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.598972       1 gateway.go:207] "Processing request" requestID="0bb17157-ce04-42f5-b7d7-bbba54438a43"
I0305 23:26:14.598997       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0bb17157-ce04-42f5-b7d7-bbba54438a43"
I0305 23:26:14.599004       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.600762       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b442f5f5-78bb-47ad-a8c2-1f1a9547bdac"
I0305 23:26:14.607580       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0bb17157-ce04-42f5-b7d7-bbba54438a43"
I0305 23:26:14.607787       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0bb17157-ce04-42f5-b7d7-bbba54438a43" model="qwen2-5-7b-instruct"
I0305 23:26:14.634401       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0513, numInputTokens, 7600
I0305 23:26:14.634423       1 tree.go:471] Updated node(0) last access: 121.9385 seconds
I0305 23:26:14.634429       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.634432       1 tree.go:471] Updated node(2) last access: 121.9385 seconds
I0305 23:26:14.634456       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:14.634460       1 tree.go:471] Updated node(46) last access: 121.9385 seconds
I0305 23:26:14.634464       1 tree.go:490] Partial tokens match child node(113). Continue to go deeper in the radix tree
I0305 23:26:14.634467       1 tree.go:471] Updated node(113) last access: 121.9385 seconds
I0305 23:26:14.634478       1 tree.go:667] Split complete - New node(167)
I0305 23:26:14.634485       1 tree.go:668] Split complete - Child node(114)
I0305 23:26:14.634491       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 23:26:14.634498       1 tree.go:471] Updated node(167) last access: 121.9386 seconds
I0305 23:26:14.634504       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:14.634509       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:14.634515       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:14.634520       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.634525       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.634510697 +0000 UTC m=+122.056582232]
I0305 23:26:14.634539       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:14.634549       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:14.634615       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7484
I0305 23:26:14.634624       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:14.634638       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.634647       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.634653       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.634660       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.634664       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.634668       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.634676       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.634686       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:14.634697       1 prefix_cache_and_load.go:584] latency, Route, 1.5302
I0305 23:26:14.634709       1 gateway.go:415] latency, selectTargetPod, 1.5302, target pod, 10.0.3.13:8000
I0305 23:26:14.634722       1 gateway.go:235] latency, HandleRequestBody, 1.5306
I0305 23:26:14.634747       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4052
I0305 23:26:14.634764       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.634769       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.635011       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.635134       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 23:26:14.635143       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.642896       1 gateway.go:608] "First token received" requestID="b442f5f5-78bb-47ad-a8c2-1f1a9547bdac" ttft_ms=1662
I0305 23:26:14.651199       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e584afd5-a44c-4019-bdda-bd4345da050d"
I0305 23:26:14.653991       1 gateway.go:562] latency, 0.0001, summary, hash(request), 18ac63a0, selectedpod, 10.0.0.4:8000, ttft, 1801, tpot, 19, e2e, 1974, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:14.654015       1 gateway.go:748] "Request completed" requestID="046ce479-7fc2-4272-a9f0-40c8bddb9e55" targetPod="10.0.0.4:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:14.654030       1 gateway.go:764] "HandleResponseBody completed" requestID="046ce479-7fc2-4272-a9f0-40c8bddb9e55" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:14.685905       1 gateway.go:608] "First token received" requestID="e584afd5-a44c-4019-bdda-bd4345da050d" ttft_ms=1581
I0305 23:26:14.703466       1 gateway.go:207] "Processing request" requestID="20c10437-a780-4439-8d78-843bd43fa5e6"
I0305 23:26:14.703493       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="20c10437-a780-4439-8d78-843bd43fa5e6"
I0305 23:26:14.703505       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.712521       1 gateway.go:329] "-- In RequestBody processing ..." requestID="20c10437-a780-4439-8d78-843bd43fa5e6"
I0305 23:26:14.720784       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0856, numInputTokens, 7598
I0305 23:26:14.720801       1 tree.go:471] Updated node(0) last access: 122.0249 seconds
I0305 23:26:14.720807       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.720813       1 tree.go:471] Updated node(2) last access: 122.0249 seconds
I0305 23:26:14.720828       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:14.720832       1 tree.go:471] Updated node(17) last access: 122.0249 seconds
I0305 23:26:14.720843       1 tree.go:667] Split complete - New node(169)
I0305 23:26:14.720849       1 tree.go:668] Split complete - Child node(18)
I0305 23:26:14.720855       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 23:26:14.720863       1 tree.go:471] Updated node(169) last access: 122.0249 seconds
I0305 23:26:14.720870       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 23:26:14.720876       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:14.720884       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:14.720892       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.720897       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.720879415 +0000 UTC m=+122.142950950]
I0305 23:26:14.720915       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7485, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 23:26:14.720927       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 23:26:14.720981       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7485
I0305 23:26:14.720990       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:14.721001       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.721011       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.721019       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.721028       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.721032       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.721039       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.721047       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:14.721058       1 prefix_cache_and_load.go:584] latency, Route, 1.4915
I0305 23:26:14.721072       1 gateway.go:415] latency, selectTargetPod, 1.4915, target pod, 10.0.1.53:8000
I0305 23:26:14.721086       1 gateway.go:235] latency, HandleRequestBody, 1.4919
I0305 23:26:14.721119       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4219
I0305 23:26:14.721123       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.721127       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.721201       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.721228       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:14.721234       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.734650       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="20c10437-a780-4439-8d78-843bd43fa5e6" model="qwen2-5-7b-instruct"
I0305 23:26:14.739955       1 gateway.go:562] latency, 0.0001, summary, hash(request), 0e7b3b9b, selectedpod, 10.0.0.134:8000, ttft, 1776, tpot, 19, e2e, 1949, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 23:26:14.739974       1 gateway.go:748] "Request completed" requestID="b8af8c95-ebd0-4fda-9d35-10a569b18284" targetPod="10.0.0.134:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 23:26:14.739985       1 gateway.go:764] "HandleResponseBody completed" requestID="b8af8c95-ebd0-4fda-9d35-10a569b18284" promptTokens=7622 completionTokens=10 stream=true
I0305 23:26:14.740509       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dc6611f5-453c-4de6-8aa7-572a3db53468"
I0305 23:26:14.759995       1 gateway.go:207] "Processing request" requestID="36ed83db-227d-4f8f-b84c-0ea916b896a1"
I0305 23:26:14.760020       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="36ed83db-227d-4f8f-b84c-0ea916b896a1"
I0305 23:26:14.760027       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.772473       1 gateway.go:329] "-- In RequestBody processing ..." requestID="36ed83db-227d-4f8f-b84c-0ea916b896a1"
I0305 23:26:14.772690       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="36ed83db-227d-4f8f-b84c-0ea916b896a1" model="qwen2-5-7b-instruct"
I0305 23:26:14.776336       1 gateway.go:608] "First token received" requestID="dc6611f5-453c-4de6-8aa7-572a3db53468" ttft_ms=1547
I0305 23:26:14.785917       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0647, numInputTokens, 7601
I0305 23:26:14.785940       1 tree.go:471] Updated node(0) last access: 122.0900 seconds
I0305 23:26:14.785947       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.785950       1 tree.go:471] Updated node(2) last access: 122.0900 seconds
I0305 23:26:14.785964       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:14.785968       1 tree.go:471] Updated node(4) last access: 122.0900 seconds
I0305 23:26:14.785975       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:14.785980       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 23:26:14.785987       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:14.785992       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.786002       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.785982198 +0000 UTC m=+122.208053733]
I0305 23:26:14.786020       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:14.786027       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:14.786069       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7478
I0305 23:26:14.786081       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:14.786091       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.786097       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.786101       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.786104       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.786112       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.786121       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:14.786132       1 prefix_cache_and_load.go:584] latency, Route, 1.4870
I0305 23:26:14.786145       1 gateway.go:415] latency, selectTargetPod, 1.4870, target pod, 10.0.1.20:8000
I0305 23:26:14.786158       1 gateway.go:235] latency, HandleRequestBody, 1.4873
I0305 23:26:14.786166       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1731
I0305 23:26:14.786183       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.786188       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.786350       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.786387       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:14.786396       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.805499       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="936df20e-8a46-48f3-88c8-c6436b9d2b4b"
I0305 23:26:14.815894       1 gateway.go:562] latency, 0.0000, summary, hash(request), 82c0004a, selectedpod, 10.0.1.25:8000, ttft, 1662, tpot, 19, e2e, 1835, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 23:26:14.815914       1 gateway.go:748] "Request completed" requestID="b442f5f5-78bb-47ad-a8c2-1f1a9547bdac" targetPod="10.0.1.25:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 23:26:14.815923       1 gateway.go:764] "HandleResponseBody completed" requestID="b442f5f5-78bb-47ad-a8c2-1f1a9547bdac" promptTokens=7622 completionTokens=10 stream=true
I0305 23:26:14.836011       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0496, numInputTokens, 7592
I0305 23:26:14.836030       1 tree.go:471] Updated node(0) last access: 122.1401 seconds
I0305 23:26:14.836037       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.836041       1 tree.go:471] Updated node(2) last access: 122.1401 seconds
I0305 23:26:14.836056       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:14.836060       1 tree.go:471] Updated node(33) last access: 122.1401 seconds
I0305 23:26:14.836069       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:14.836075       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7592 tokens
I0305 23:26:14.836083       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7592 tokens
I0305 23:26:14.836091       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.836099       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.836077676 +0000 UTC m=+122.258149217]
I0305 23:26:14.836115       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7592, Matched tokens: 7478, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:14.836125       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:14.836174       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7478
I0305 23:26:14.836185       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:14.836196       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.836203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.836209       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.836215       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.836228       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.836240       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:14.836253       1 prefix_cache_and_load.go:584] latency, Route, 1.2232
I0305 23:26:14.836271       1 gateway.go:415] latency, selectTargetPod, 1.2232, target pod, 10.0.3.38:8000
I0305 23:26:14.836284       1 gateway.go:235] latency, HandleRequestBody, 1.2235
I0305 23:26:14.836315       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0558
I0305 23:26:14.836320       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.836323       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.836395       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.836422       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:14.836428       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.849355       1 gateway.go:608] "First token received" requestID="936df20e-8a46-48f3-88c8-c6436b9d2b4b" ttft_ms=1550
I0305 23:26:14.875553       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cbf114b8-07f4-40cb-8a1d-f1e359fc54ff"
I0305 23:26:14.875807       1 gateway.go:562] latency, 0.0000, summary, hash(request), c97a36a4, selectedpod, 10.0.3.13:8000, ttft, 1581, tpot, 21, e2e, 1771, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:14.875851       1 gateway.go:748] "Request completed" requestID="e584afd5-a44c-4019-bdda-bd4345da050d" targetPod="10.0.3.13:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:14.875872       1 gateway.go:764] "HandleResponseBody completed" requestID="e584afd5-a44c-4019-bdda-bd4345da050d" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:14.888500       1 gateway.go:608] "First token received" requestID="cbf114b8-07f4-40cb-8a1d-f1e359fc54ff" ttft_ms=1275
I0305 23:26:14.914786       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0784, numInputTokens, 7597
I0305 23:26:14.914806       1 tree.go:471] Updated node(0) last access: 122.2189 seconds
I0305 23:26:14.914814       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.914820       1 tree.go:471] Updated node(2) last access: 122.2189 seconds
I0305 23:26:14.914836       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:14.914840       1 tree.go:471] Updated node(29) last access: 122.2189 seconds
I0305 23:26:14.914850       1 tree.go:667] Split complete - New node(173)
I0305 23:26:14.914854       1 tree.go:668] Split complete - Child node(87)
I0305 23:26:14.914860       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 23:26:14.914867       1 tree.go:471] Updated node(173) last access: 122.2189 seconds
I0305 23:26:14.914872       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:14.914876       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 23:26:14.914882       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:14.914891       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.914926       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.914878798 +0000 UTC m=+122.336950332]
I0305 23:26:14.914948       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7483, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:14.914956       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:14.915019       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7483
I0305 23:26:14.915031       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:14.915042       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.915050       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.915055       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.915064       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.915072       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.915084       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.915095       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:14.915128       1 prefix_cache_and_load.go:584] latency, Route, 1.1346
I0305 23:26:14.915145       1 gateway.go:415] latency, selectTargetPod, 1.1346, target pod, 10.0.0.134:8000
I0305 23:26:14.915161       1 gateway.go:235] latency, HandleRequestBody, 1.1994
I0305 23:26:14.915194       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1297
I0305 23:26:14.915199       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.915203       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.915323       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.915351       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:14.915358       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.934321       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fafb6e19-44d3-4d68-97dd-e5f48cc2b713"
I0305 23:26:14.949482       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2e0f441f, selectedpod, 10.0.1.53:8000, ttft, 1547, tpot, 19, e2e, 1720, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:14.949513       1 gateway.go:748] "Request completed" requestID="dc6611f5-453c-4de6-8aa7-572a3db53468" targetPod="10.0.1.53:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:14.949529       1 gateway.go:764] "HandleResponseBody completed" requestID="dc6611f5-453c-4de6-8aa7-572a3db53468" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:14.975625       1 gateway.go:608] "First token received" requestID="fafb6e19-44d3-4d68-97dd-e5f48cc2b713" ttft_ms=1259
I0305 23:26:14.987999       1 gateway.go:207] "Processing request" requestID="089c7fa4-aeb4-4afd-9cd9-a63f8f692955"
I0305 23:26:14.988029       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="089c7fa4-aeb4-4afd-9cd9-a63f8f692955"
I0305 23:26:14.988037       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:14.991472       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0761, numInputTokens, 7599
I0305 23:26:14.991488       1 tree.go:471] Updated node(0) last access: 122.2955 seconds
I0305 23:26:14.991496       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:14.991500       1 tree.go:471] Updated node(2) last access: 122.2956 seconds
I0305 23:26:14.991515       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:14.991519       1 tree.go:471] Updated node(29) last access: 122.2956 seconds
I0305 23:26:14.991531       1 tree.go:667] Split complete - New node(175)
I0305 23:26:14.991535       1 tree.go:668] Split complete - Child node(7)
I0305 23:26:14.991542       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 23:26:14.991548       1 tree.go:471] Updated node(175) last access: 122.2956 seconds
I0305 23:26:14.991564       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:14.991569       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:14.991577       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:14.991610       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:14.991618       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:14.991571875 +0000 UTC m=+122.413643414]
I0305 23:26:14.991644       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7481, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:14.991653       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:14.991755       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7481
I0305 23:26:14.991774       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:14.991786       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.991794       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.991801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.991808       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.991812       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:14.991820       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:14.991831       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:14.991847       1 prefix_cache_and_load.go:584] latency, Route, 1.2064
I0305 23:26:14.991870       1 gateway.go:415] latency, selectTargetPod, 1.2064, target pod, 10.0.0.134:8000
I0305 23:26:14.991883       1 gateway.go:235] latency, HandleRequestBody, 1.2067
I0305 23:26:14.991902       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1148
I0305 23:26:14.991905       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:14.991908       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:14.992025       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:14.992059       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:14.992065       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:14.993894       1 gateway.go:329] "-- In RequestBody processing ..." requestID="089c7fa4-aeb4-4afd-9cd9-a63f8f692955"
I0305 23:26:14.994466       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="089c7fa4-aeb4-4afd-9cd9-a63f8f692955" model="qwen2-5-7b-instruct"
I0305 23:26:15.009581       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b5871dd0-b4d3-4e3b-99fc-42bc36faad1c"
I0305 23:26:15.021663       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0a42ca7e, selectedpod, 10.0.1.20:8000, ttft, 1550, tpot, 19, e2e, 1722, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:15.021681       1 gateway.go:748] "Request completed" requestID="936df20e-8a46-48f3-88c8-c6436b9d2b4b" targetPod="10.0.1.20:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:15.021691       1 gateway.go:764] "HandleResponseBody completed" requestID="936df20e-8a46-48f3-88c8-c6436b9d2b4b" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:15.034998       1 gateway.go:207] "Processing request" requestID="5e100a3e-9b53-4f78-95d3-2125c544f851"
I0305 23:26:15.035028       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5e100a3e-9b53-4f78-95d3-2125c544f851"
I0305 23:26:15.035038       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:15.045204       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5e100a3e-9b53-4f78-95d3-2125c544f851"
I0305 23:26:15.045428       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5e100a3e-9b53-4f78-95d3-2125c544f851" model="qwen2-5-7b-instruct"
I0305 23:26:15.061328       1 gateway.go:562] latency, 0.0000, summary, hash(request), f63f2ffb, selectedpod, 10.0.3.38:8000, ttft, 1275, tpot, 19, e2e, 1448, numInputTokens, 7611, numOutputTokens, 10, numTotalTokens, 7621
I0305 23:26:15.061345       1 gateway.go:748] "Request completed" requestID="cbf114b8-07f4-40cb-8a1d-f1e359fc54ff" targetPod="10.0.3.38:8000" promptTokens=7611 completionTokens=10 totalTokens=7621
I0305 23:26:15.061354       1 gateway.go:764] "HandleResponseBody completed" requestID="cbf114b8-07f4-40cb-8a1d-f1e359fc54ff" promptTokens=7611 completionTokens=10 stream=true
I0305 23:26:15.068830       1 gateway.go:608] "First token received" requestID="b5871dd0-b4d3-4e3b-99fc-42bc36faad1c" ttft_ms=1283
I0305 23:26:15.079529       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0875, numInputTokens, 7591
I0305 23:26:15.079546       1 tree.go:471] Updated node(0) last access: 122.3836 seconds
I0305 23:26:15.079552       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.079556       1 tree.go:471] Updated node(2) last access: 122.3836 seconds
I0305 23:26:15.079569       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:15.079573       1 tree.go:471] Updated node(33) last access: 122.3836 seconds
I0305 23:26:15.079583       1 tree.go:667] Split complete - New node(177)
I0305 23:26:15.079586       1 tree.go:668] Split complete - Child node(172)
I0305 23:26:15.079590       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 23:26:15.079595       1 tree.go:471] Updated node(177) last access: 122.3837 seconds
I0305 23:26:15.079600       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 23:26:15.079604       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7591 tokens
I0305 23:26:15.079611       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7591 tokens
I0305 23:26:15.079616       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.079621       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.079606063 +0000 UTC m=+122.501677608]
I0305 23:26:15.079638       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7591, Matched tokens: 7480, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 23:26:15.079645       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 23:26:15.079689       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7480
I0305 23:26:15.079698       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:15.079707       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.079719       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.079725       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.079730       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.079736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.079743       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.079752       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:15.079763       1 prefix_cache_and_load.go:584] latency, Route, 1.2026
I0305 23:26:15.079778       1 gateway.go:415] latency, selectTargetPod, 1.2027, target pod, 10.0.3.38:8000
I0305 23:26:15.079804       1 gateway.go:235] latency, HandleRequestBody, 1.2031
I0305 23:26:15.079834       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1919
I0305 23:26:15.079839       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.079842       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.079970       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.079994       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:15.080006       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.092495       1 gateway.go:207] "Processing request" requestID="07ed1e1a-8671-47a2-b774-5ca2b6daf452"
I0305 23:26:15.092521       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="07ed1e1a-8671-47a2-b774-5ca2b6daf452"
I0305 23:26:15.092528       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:15.098460       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3ef8ede2-926a-4779-9177-aee021bd291b"
I0305 23:26:15.105463       1 gateway.go:329] "-- In RequestBody processing ..." requestID="07ed1e1a-8671-47a2-b774-5ca2b6daf452"
I0305 23:26:15.105681       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="07ed1e1a-8671-47a2-b774-5ca2b6daf452" model="qwen2-5-7b-instruct"
I0305 23:26:15.130772       1 gateway.go:608] "First token received" requestID="3ef8ede2-926a-4779-9177-aee021bd291b" ttft_ms=1253
I0305 23:26:15.131836       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0518, numInputTokens, 7600
I0305 23:26:15.131856       1 tree.go:471] Updated node(0) last access: 122.4359 seconds
I0305 23:26:15.131862       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.131865       1 tree.go:471] Updated node(2) last access: 122.4359 seconds
I0305 23:26:15.131881       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:15.131885       1 tree.go:471] Updated node(29) last access: 122.4359 seconds
I0305 23:26:15.131889       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 23:26:15.131892       1 tree.go:471] Updated node(175) last access: 122.4359 seconds
I0305 23:26:15.131904       1 tree.go:667] Split complete - New node(179)
I0305 23:26:15.131909       1 tree.go:668] Split complete - Child node(176)
I0305 23:26:15.131915       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 23:26:15.131920       1 tree.go:471] Updated node(179) last access: 122.4360 seconds
I0305 23:26:15.131925       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:15.131931       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:15.131946       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:15.131953       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.131957       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.131932705 +0000 UTC m=+122.554004239]
I0305 23:26:15.131973       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:15.131981       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:15.132029       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7484
I0305 23:26:15.132039       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:15.132046       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.132050       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.132055       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.132061       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.132068       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.132071       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.132092       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.132101       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:15.132112       1 prefix_cache_and_load.go:584] latency, Route, 1.2442
I0305 23:26:15.132135       1 gateway.go:415] latency, selectTargetPod, 1.2442, target pod, 10.0.0.134:8000
I0305 23:26:15.132149       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2364
I0305 23:26:15.132153       1 gateway.go:235] latency, HandleRequestBody, 1.2445
I0305 23:26:15.132158       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.132165       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.132291       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.132320       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:15.132327       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.150799       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7a99045e-34d2-47c5-a848-0aa62ded8d1f"
I0305 23:26:15.202543       1 gateway.go:608] "First token received" requestID="7a99045e-34d2-47c5-a848-0aa62ded8d1f" ttft_ms=1314
I0305 23:26:15.206781       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0744, numInputTokens, 7599
I0305 23:26:15.206797       1 tree.go:471] Updated node(0) last access: 122.5109 seconds
I0305 23:26:15.206804       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.206807       1 tree.go:471] Updated node(2) last access: 122.5109 seconds
I0305 23:26:15.206820       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:15.206825       1 tree.go:471] Updated node(23) last access: 122.5109 seconds
I0305 23:26:15.206831       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:15.206837       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:15.206845       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:15.206854       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.206861       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.206839499 +0000 UTC m=+122.628911033]
I0305 23:26:15.206879       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:15.206890       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:15.206954       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:15.206966       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:15.206976       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.206984       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.206987       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.206991       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.206998       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.207008       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:15.207017       1 prefix_cache_and_load.go:584] latency, Route, 1.3112
I0305 23:26:15.207032       1 gateway.go:415] latency, selectTargetPod, 1.3112, target pod, 10.0.3.13:8000
I0305 23:26:15.207044       1 gateway.go:235] latency, HandleRequestBody, 1.3116
I0305 23:26:15.207048       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2015
I0305 23:26:15.207059       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.207063       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.207197       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.207234       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:15.207242       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.223349       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0451b836-5a46-497d-9f96-f4c8fa5b0c47"
I0305 23:26:15.223893       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5b6a1f29, selectedpod, 10.0.0.134:8000, ttft, 1259, tpot, 27, e2e, 1508, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:15.223916       1 gateway.go:748] "Request completed" requestID="fafb6e19-44d3-4d68-97dd-e5f48cc2b713" targetPod="10.0.0.134:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:15.223928       1 gateway.go:764] "HandleResponseBody completed" requestID="fafb6e19-44d3-4d68-97dd-e5f48cc2b713" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:15.275750       1 gateway.go:608] "First token received" requestID="0451b836-5a46-497d-9f96-f4c8fa5b0c47" ttft_ms=1380
I0305 23:26:15.279852       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0726, numInputTokens, 7602
I0305 23:26:15.279869       1 tree.go:471] Updated node(0) last access: 122.5839 seconds
I0305 23:26:15.279875       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.279878       1 tree.go:471] Updated node(2) last access: 122.5839 seconds
I0305 23:26:15.279893       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:15.279898       1 tree.go:471] Updated node(46) last access: 122.5840 seconds
I0305 23:26:15.279903       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 23:26:15.279910       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 23:26:15.279917       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:15.279923       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.279928       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.27991224 +0000 UTC m=+122.701983774]
I0305 23:26:15.279953       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 23:26:15.279963       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 23:26:15.280021       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:15.280037       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:15.280049       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.280056       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.280059       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.280064       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.280075       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.280087       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:15.280096       1 prefix_cache_and_load.go:584] latency, Route, 1.2745
I0305 23:26:15.280112       1 gateway.go:415] latency, selectTargetPod, 1.2745, target pod, 10.0.3.13:8000
I0305 23:26:15.280123       1 gateway.go:235] latency, HandleRequestBody, 1.2748
I0305 23:26:15.280151       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2468
I0305 23:26:15.280164       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.280168       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.280284       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.280314       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:15.280320       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.284401       1 gateway.go:562] latency, 0.0000, summary, hash(request), e21b7797, selectedpod, 10.0.0.134:8000, ttft, 1283, tpot, 23, e2e, 1499, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:15.284419       1 gateway.go:748] "Request completed" requestID="b5871dd0-b4d3-4e3b-99fc-42bc36faad1c" targetPod="10.0.0.134:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:15.284429       1 gateway.go:764] "HandleResponseBody completed" requestID="b5871dd0-b4d3-4e3b-99fc-42bc36faad1c" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:15.295901       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1294025e-8976-43ec-a7f8-5b0e5ea7ec14"
I0305 23:26:15.303714       1 gateway.go:562] latency, 0.0000, summary, hash(request), a6d0f85c, selectedpod, 10.0.3.38:8000, ttft, 1253, tpot, 19, e2e, 1426, numInputTokens, 7610, numOutputTokens, 10, numTotalTokens, 7620
I0305 23:26:15.303732       1 gateway.go:748] "Request completed" requestID="3ef8ede2-926a-4779-9177-aee021bd291b" targetPod="10.0.3.38:8000" promptTokens=7610 completionTokens=10 totalTokens=7620
I0305 23:26:15.303744       1 gateway.go:764] "HandleResponseBody completed" requestID="3ef8ede2-926a-4779-9177-aee021bd291b" promptTokens=7610 completionTokens=10 stream=true
I0305 23:26:15.314660       1 gateway.go:207] "Processing request" requestID="c54a63fd-4e97-4c42-9c3a-93107213b008"
I0305 23:26:15.314692       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c54a63fd-4e97-4c42-9c3a-93107213b008"
I0305 23:26:15.314703       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:15.325177       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c54a63fd-4e97-4c42-9c3a-93107213b008"
I0305 23:26:15.325391       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c54a63fd-4e97-4c42-9c3a-93107213b008" model="qwen2-5-7b-instruct"
I0305 23:26:15.329215       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0489, numInputTokens, 7595
I0305 23:26:15.329232       1 tree.go:471] Updated node(0) last access: 122.6333 seconds
I0305 23:26:15.329237       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.329241       1 tree.go:471] Updated node(2) last access: 122.6333 seconds
I0305 23:26:15.329254       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:15.329258       1 tree.go:471] Updated node(23) last access: 122.6333 seconds
I0305 23:26:15.329261       1 tree.go:490] Partial tokens match child node(102). Continue to go deeper in the radix tree
I0305 23:26:15.329264       1 tree.go:471] Updated node(102) last access: 122.6333 seconds
I0305 23:26:15.329273       1 tree.go:667] Split complete - New node(183)
I0305 23:26:15.329277       1 tree.go:668] Split complete - Child node(78)
I0305 23:26:15.329282       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 23:26:15.329286       1 tree.go:471] Updated node(183) last access: 122.6333 seconds
I0305 23:26:15.329291       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 106 tokens:
I0305 23:26:15.329295       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 23:26:15.329302       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 23:26:15.329308       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.329313       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.329297102 +0000 UTC m=+122.751368637]
I0305 23:26:15.329326       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7489, Matching ratio: 0.9860, # Matched pods: 0, Matched pods: []
I0305 23:26:15.329334       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9860 > 0.5000)
I0305 23:26:15.329376       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7489
I0305 23:26:15.329385       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:15.329393       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.329399       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.329402       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.329406       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.329409       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.329414       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.329422       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.329431       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:15.329451       1 prefix_cache_and_load.go:584] latency, Route, 1.2961
I0305 23:26:15.329466       1 gateway.go:415] latency, selectTargetPod, 1.2961, target pod, 10.0.3.13:8000
I0305 23:26:15.329477       1 gateway.go:235] latency, HandleRequestBody, 1.2964
I0305 23:26:15.329499       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1525
I0305 23:26:15.329504       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.329507       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.329575       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.329599       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:15.329604       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.345426       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8c8edb71-2c5f-4ef0-86e9-a63bbd607ba6"
I0305 23:26:15.346143       1 gateway.go:608] "First token received" requestID="1294025e-8976-43ec-a7f8-5b0e5ea7ec14" ttft_ms=1340
I0305 23:26:15.382062       1 gateway.go:562] latency, 0.0000, summary, hash(request), bbf7e859, selectedpod, 10.0.0.134:8000, ttft, 1314, tpot, 19, e2e, 1494, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:15.382089       1 gateway.go:748] "Request completed" requestID="7a99045e-34d2-47c5-a848-0aa62ded8d1f" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:15.382105       1 gateway.go:764] "HandleResponseBody completed" requestID="7a99045e-34d2-47c5-a848-0aa62ded8d1f" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:15.391980       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0624, numInputTokens, 7602
I0305 23:26:15.391999       1 tree.go:471] Updated node(0) last access: 122.6961 seconds
I0305 23:26:15.392006       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.392008       1 tree.go:471] Updated node(2) last access: 122.6961 seconds
I0305 23:26:15.392022       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:15.392025       1 tree.go:471] Updated node(4) last access: 122.6961 seconds
I0305 23:26:15.392031       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 23:26:15.392037       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 23:26:15.392045       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:15.392051       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.392056       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.392040726 +0000 UTC m=+122.814112260]
I0305 23:26:15.392070       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 23:26:15.392077       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 23:26:15.392119       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7478
I0305 23:26:15.392129       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:15.392137       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.392141       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.392146       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.392152       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.392159       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.392168       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:15.392178       1 prefix_cache_and_load.go:584] latency, Route, 1.2151
I0305 23:26:15.392192       1 gateway.go:415] latency, selectTargetPod, 1.2152, target pod, 10.0.1.20:8000
I0305 23:26:15.392202       1 gateway.go:235] latency, HandleRequestBody, 1.2155
I0305 23:26:15.392230       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1941
I0305 23:26:15.392234       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.392237       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.392321       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.392345       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:15.392350       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.398921       1 gateway.go:608] "First token received" requestID="8c8edb71-2c5f-4ef0-86e9-a63bbd607ba6" ttft_ms=1365
I0305 23:26:15.410633       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="07529f5f-a5bc-43a0-96dc-49942c765ae0"
I0305 23:26:15.440943       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 7601
I0305 23:26:15.440960       1 tree.go:471] Updated node(0) last access: 122.7450 seconds
I0305 23:26:15.440966       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.440969       1 tree.go:471] Updated node(2) last access: 122.7450 seconds
I0305 23:26:15.440982       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:15.440985       1 tree.go:471] Updated node(21) last access: 122.7450 seconds
I0305 23:26:15.440994       1 tree.go:667] Split complete - New node(186)
I0305 23:26:15.440998       1 tree.go:668] Split complete - Child node(9)
I0305 23:26:15.441003       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 23:26:15.441007       1 tree.go:471] Updated node(186) last access: 122.7451 seconds
I0305 23:26:15.441013       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:15.441017       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:15.441022       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:15.441029       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.441035       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.44101876 +0000 UTC m=+122.863090295]
I0305 23:26:15.441052       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:15.441060       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:15.441125       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7481
I0305 23:26:15.441139       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:15.441151       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.441158       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.441162       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.441167       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.441172       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.441181       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.441190       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:15.441205       1 prefix_cache_and_load.go:584] latency, Route, 1.2431
I0305 23:26:15.441218       1 gateway.go:415] latency, selectTargetPod, 1.2431, target pod, 10.0.0.39:8000
I0305 23:26:15.441234       1 gateway.go:235] latency, HandleRequestBody, 1.2434
I0305 23:26:15.441281       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2377
I0305 23:26:15.441295       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.441299       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.441424       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.441461       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:15.441468       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.454291       1 gateway.go:608] "First token received" requestID="07529f5f-a5bc-43a0-96dc-49942c765ae0" ttft_ms=1277
I0305 23:26:15.460384       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="68437fb3-571a-4935-a88c-0bada25ebdca"
I0305 23:26:15.479018       1 gateway.go:207] "Processing request" requestID="0fdbf380-a7e4-4daa-9088-4a972ad3b66a"
I0305 23:26:15.479044       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0fdbf380-a7e4-4daa-9088-4a972ad3b66a"
I0305 23:26:15.479052       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:15.488841       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0fdbf380-a7e4-4daa-9088-4a972ad3b66a"
I0305 23:26:15.489060       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0fdbf380-a7e4-4daa-9088-4a972ad3b66a" model="qwen2-5-7b-instruct"
I0305 23:26:15.504050       1 gateway.go:608] "First token received" requestID="68437fb3-571a-4935-a88c-0bada25ebdca" ttft_ms=1306
I0305 23:26:15.518052       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0766, numInputTokens, 7600
I0305 23:26:15.518112       1 tree.go:471] Updated node(0) last access: 122.8222 seconds
I0305 23:26:15.518122       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.518133       1 tree.go:471] Updated node(2) last access: 122.8222 seconds
I0305 23:26:15.518197       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:15.518213       1 tree.go:471] Updated node(23) last access: 122.8223 seconds
I0305 23:26:15.518226       1 tree.go:667] Split complete - New node(188)
I0305 23:26:15.518231       1 tree.go:668] Split complete - Child node(181)
I0305 23:26:15.518237       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 23:26:15.518244       1 tree.go:471] Updated node(188) last access: 122.8223 seconds
I0305 23:26:15.518250       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 23:26:15.518256       1 tree.go:449] latency, insertHelper, 0.0002 seconds, 7600 tokens
I0305 23:26:15.518266       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:15.518274       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 23:26:15.518278       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.518258139 +0000 UTC m=+122.940329673]
I0305 23:26:15.518294       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7489, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 23:26:15.518302       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 23:26:15.518370       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7489
I0305 23:26:15.518380       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:15.518389       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.518395       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.518401       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.518407       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.518410       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.518419       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.518429       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:15.518440       1 prefix_cache_and_load.go:584] latency, Route, 1.3149
I0305 23:26:15.518471       1 gateway.go:415] latency, selectTargetPod, 1.3149, target pod, 10.0.3.13:8000
I0305 23:26:15.518483       1 gateway.go:235] latency, HandleRequestBody, 1.3152
I0305 23:26:15.518517       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2719
I0305 23:26:15.518549       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.518554       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.518718       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.518765       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:15.518770       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.527342       1 gateway.go:562] latency, 0.0000, summary, hash(request), aed63f91, selectedpod, 10.0.3.13:8000, ttft, 1380, tpot, 27, e2e, 1631, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:15.527374       1 gateway.go:748] "Request completed" requestID="0451b836-5a46-497d-9f96-f4c8fa5b0c47" targetPod="10.0.3.13:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:15.527391       1 gateway.go:764] "HandleResponseBody completed" requestID="0451b836-5a46-497d-9f96-f4c8fa5b0c47" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:15.534868       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f28c786a-ba0a-49c7-8a52-9d80bd902a3f"
I0305 23:26:15.578757       1 gateway.go:608] "First token received" requestID="f28c786a-ba0a-49c7-8a52-9d80bd902a3f" ttft_ms=1375
I0305 23:26:15.598928       1 gateway.go:207] "Processing request" requestID="fe718a57-8bf7-40ee-a8e1-241e0e666e15"
I0305 23:26:15.598964       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fe718a57-8bf7-40ee-a8e1-241e0e666e15"
I0305 23:26:15.598972       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:15.601518       1 gateway.go:562] latency, 0.0000, summary, hash(request), 70adb513, selectedpod, 10.0.3.13:8000, ttft, 1340, tpot, 28, e2e, 1596, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:15.601541       1 gateway.go:748] "Request completed" requestID="1294025e-8976-43ec-a7f8-5b0e5ea7ec14" targetPod="10.0.3.13:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:15.601552       1 gateway.go:764] "HandleResponseBody completed" requestID="1294025e-8976-43ec-a7f8-5b0e5ea7ec14" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:15.606159       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0874, numInputTokens, 7599
I0305 23:26:15.606178       1 tree.go:471] Updated node(0) last access: 122.9102 seconds
I0305 23:26:15.606184       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.606187       1 tree.go:471] Updated node(2) last access: 122.9102 seconds
I0305 23:26:15.606202       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:15.606206       1 tree.go:471] Updated node(19) last access: 122.9103 seconds
I0305 23:26:15.606212       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:15.606219       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:15.606226       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:15.606234       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.606240       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.606222029 +0000 UTC m=+123.028293572]
I0305 23:26:15.606255       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:15.606263       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:15.606312       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7478
I0305 23:26:15.606325       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:15.606337       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.606345       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.606351       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.606356       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.606366       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.606377       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:15.606391       1 prefix_cache_and_load.go:584] latency, Route, 1.3598
I0305 23:26:15.606409       1 gateway.go:415] latency, selectTargetPod, 1.3598, target pod, 10.0.0.4:8000
I0305 23:26:15.606423       1 gateway.go:235] latency, HandleRequestBody, 1.3601
I0305 23:26:15.606459       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2796
I0305 23:26:15.606470       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.606475       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.606627       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.606706       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:15.606712       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.607303       1 gateway.go:207] "Processing request" requestID="3c35da45-281b-4d52-bb95-27f2fa8abb49"
I0305 23:26:15.607328       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3c35da45-281b-4d52-bb95-27f2fa8abb49"
I0305 23:26:15.607336       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:15.609847       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fe718a57-8bf7-40ee-a8e1-241e0e666e15"
I0305 23:26:15.610058       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fe718a57-8bf7-40ee-a8e1-241e0e666e15" model="qwen2-5-7b-instruct"
I0305 23:26:15.612254       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3c35da45-281b-4d52-bb95-27f2fa8abb49"
I0305 23:26:15.612472       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3c35da45-281b-4d52-bb95-27f2fa8abb49" model="qwen2-5-7b-instruct"
I0305 23:26:15.621000       1 gateway.go:562] latency, 0.0000, summary, hash(request), adcc98d7, selectedpod, 10.0.3.13:8000, ttft, 1365, tpot, 24, e2e, 1587, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 23:26:15.621017       1 gateway.go:748] "Request completed" requestID="8c8edb71-2c5f-4ef0-86e9-a63bbd607ba6" targetPod="10.0.3.13:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 23:26:15.621029       1 gateway.go:764] "HandleResponseBody completed" requestID="8c8edb71-2c5f-4ef0-86e9-a63bbd607ba6" promptTokens=7614 completionTokens=10 stream=true
I0305 23:26:15.625969       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ae801541-2471-4cba-9082-7e38f88f1f9e"
I0305 23:26:15.627172       1 gateway.go:562] latency, 0.0000, summary, hash(request), cce348a5, selectedpod, 10.0.1.20:8000, ttft, 1277, tpot, 19, e2e, 1450, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:15.627188       1 gateway.go:748] "Request completed" requestID="07529f5f-a5bc-43a0-96dc-49942c765ae0" targetPod="10.0.1.20:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:15.627198       1 gateway.go:764] "HandleResponseBody completed" requestID="07529f5f-a5bc-43a0-96dc-49942c765ae0" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:15.657729       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0510, numInputTokens, 7602
I0305 23:26:15.657745       1 tree.go:471] Updated node(0) last access: 122.9618 seconds
I0305 23:26:15.657751       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.657754       1 tree.go:471] Updated node(2) last access: 122.9618 seconds
I0305 23:26:15.657768       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:15.657773       1 tree.go:471] Updated node(46) last access: 122.9618 seconds
I0305 23:26:15.657784       1 tree.go:667] Split complete - New node(191)
I0305 23:26:15.657848       1 tree.go:668] Split complete - Child node(47)
I0305 23:26:15.657857       1 tree.go:501] latency, splitNode, 0.0001 seconds, 124 tokens:
I0305 23:26:15.657862       1 tree.go:471] Updated node(191) last access: 122.9619 seconds
I0305 23:26:15.657871       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 104 tokens:
I0305 23:26:15.657876       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:15.657886       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:15.657893       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.657901       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.657880504 +0000 UTC m=+123.079952044]
I0305 23:26:15.657915       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7498, Matching ratio: 0.9863, # Matched pods: 0, Matched pods: []
I0305 23:26:15.657924       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9863 > 0.5000)
I0305 23:26:15.657988       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7498
I0305 23:26:15.658001       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:15.658012       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.658018       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.658022       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.658027       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.658030       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.658039       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.658048       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:15.658059       1 prefix_cache_and_load.go:584] latency, Route, 1.3312
I0305 23:26:15.658076       1 gateway.go:415] latency, selectTargetPod, 1.3312, target pod, 10.0.3.13:8000
I0305 23:26:15.658090       1 gateway.go:235] latency, HandleRequestBody, 1.3315
I0305 23:26:15.658127       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2439
I0305 23:26:15.658133       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.658138       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.658251       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.658282       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:15.658289       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.669745       1 gateway.go:608] "First token received" requestID="ae801541-2471-4cba-9082-7e38f88f1f9e" ttft_ms=1423
I0305 23:26:15.673665       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="30c2c2fb-cb67-47ec-a7b9-44930f9211a6"
I0305 23:26:15.676983       1 gateway.go:562] latency, 0.0001, summary, hash(request), b6592c04, selectedpod, 10.0.0.39:8000, ttft, 1306, tpot, 19, e2e, 1479, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:15.677006       1 gateway.go:748] "Request completed" requestID="68437fb3-571a-4935-a88c-0bada25ebdca" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:15.677018       1 gateway.go:764] "HandleResponseBody completed" requestID="68437fb3-571a-4935-a88c-0bada25ebdca" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:15.711966       1 gateway.go:608] "First token received" requestID="30c2c2fb-cb67-47ec-a7b9-44930f9211a6" ttft_ms=1385
I0305 23:26:15.723281       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0650, numInputTokens, 7598
I0305 23:26:15.723300       1 tree.go:471] Updated node(0) last access: 123.0274 seconds
I0305 23:26:15.723306       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.723310       1 tree.go:471] Updated node(2) last access: 123.0274 seconds
I0305 23:26:15.723322       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:15.723326       1 tree.go:471] Updated node(33) last access: 123.0274 seconds
I0305 23:26:15.723330       1 tree.go:490] Partial tokens match child node(96). Continue to go deeper in the radix tree
I0305 23:26:15.723332       1 tree.go:471] Updated node(96) last access: 123.0274 seconds
I0305 23:26:15.723338       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:15.723343       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 23:26:15.723352       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:15.723360       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.723367       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.723345912 +0000 UTC m=+123.145417453]
I0305 23:26:15.723385       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:15.723393       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:15.723436       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7484
I0305 23:26:15.723454       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:15.723462       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.723468       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.723471       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.723475       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.723481       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.723489       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.723498       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:15.723509       1 prefix_cache_and_load.go:584] latency, Route, 1.3093
I0305 23:26:15.723523       1 gateway.go:415] latency, selectTargetPod, 1.3093, target pod, 10.0.3.38:8000
I0305 23:26:15.723536       1 gateway.go:235] latency, HandleRequestBody, 1.3096
I0305 23:26:15.723559       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2232
I0305 23:26:15.723563       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.723566       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.723645       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.723670       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:15.723675       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.739685       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7cef80d1-f104-448e-954b-c19b13e35e43"
I0305 23:26:15.775439       1 gateway.go:608] "First token received" requestID="7cef80d1-f104-448e-954b-c19b13e35e43" ttft_ms=1361
I0305 23:26:15.793562       1 gateway.go:562] latency, 0.0000, summary, hash(request), 09cfa368, selectedpod, 10.0.3.13:8000, ttft, 1375, tpot, 23, e2e, 1590, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:15.793593       1 gateway.go:748] "Request completed" requestID="f28c786a-ba0a-49c7-8a52-9d80bd902a3f" targetPod="10.0.3.13:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:15.793611       1 gateway.go:764] "HandleResponseBody completed" requestID="f28c786a-ba0a-49c7-8a52-9d80bd902a3f" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:15.816631       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0929, numInputTokens, 7603
I0305 23:26:15.816650       1 tree.go:471] Updated node(0) last access: 123.1207 seconds
I0305 23:26:15.816656       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.816659       1 tree.go:471] Updated node(2) last access: 123.1207 seconds
I0305 23:26:15.816672       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:15.816676       1 tree.go:471] Updated node(29) last access: 123.1207 seconds
I0305 23:26:15.816680       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 23:26:15.816682       1 tree.go:471] Updated node(175) last access: 123.1207 seconds
I0305 23:26:15.816692       1 tree.go:667] Split complete - New node(194)
I0305 23:26:15.816697       1 tree.go:668] Split complete - Child node(7)
I0305 23:26:15.816701       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 23:26:15.816705       1 tree.go:471] Updated node(194) last access: 123.1208 seconds
I0305 23:26:15.816711       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:15.816716       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 23:26:15.816721       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 23:26:15.816727       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.816732       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.816717672 +0000 UTC m=+123.238789206]
I0305 23:26:15.816745       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7488, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:15.816752       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:15.816795       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7488
I0305 23:26:15.816804       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:15.816812       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.816818       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.816822       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.816829       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.816834       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.816839       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.816846       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.816855       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:15.816865       1 prefix_cache_and_load.go:584] latency, Route, 1.3165
I0305 23:26:15.816880       1 gateway.go:415] latency, selectTargetPod, 1.3165, target pod, 10.0.0.134:8000
I0305 23:26:15.816890       1 gateway.go:235] latency, HandleRequestBody, 1.3168
I0305 23:26:15.816912       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2090
I0305 23:26:15.816917       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.816920       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.817046       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.817074       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:15.817079       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.835645       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b7f813ab-f211-47e5-9aed-6309818306df"
I0305 23:26:15.842942       1 gateway.go:562] latency, 0.0000, summary, hash(request), de7ee06d, selectedpod, 10.0.0.4:8000, ttft, 1423, tpot, 19, e2e, 1596, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:15.842967       1 gateway.go:748] "Request completed" requestID="ae801541-2471-4cba-9082-7e38f88f1f9e" targetPod="10.0.0.4:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:15.842984       1 gateway.go:764] "HandleResponseBody completed" requestID="ae801541-2471-4cba-9082-7e38f88f1f9e" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:15.862396       1 gateway.go:207] "Processing request" requestID="83bfcd11-b2ec-45a3-8a4f-7cff322823f2"
I0305 23:26:15.862421       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="83bfcd11-b2ec-45a3-8a4f-7cff322823f2"
I0305 23:26:15.862429       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:15.871074       1 gateway.go:329] "-- In RequestBody processing ..." requestID="83bfcd11-b2ec-45a3-8a4f-7cff322823f2"
I0305 23:26:15.871287       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="83bfcd11-b2ec-45a3-8a4f-7cff322823f2" model="qwen2-5-7b-instruct"
I0305 23:26:15.871395       1 gateway.go:608] "First token received" requestID="b7f813ab-f211-47e5-9aed-6309818306df" ttft_ms=1371
I0305 23:26:15.880726       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0636, numInputTokens, 7598
I0305 23:26:15.880743       1 tree.go:471] Updated node(0) last access: 123.1848 seconds
I0305 23:26:15.880749       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.880753       1 tree.go:471] Updated node(2) last access: 123.1848 seconds
I0305 23:26:15.880768       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:15.880772       1 tree.go:471] Updated node(17) last access: 123.1848 seconds
I0305 23:26:15.880776       1 tree.go:490] Partial tokens match child node(169). Continue to go deeper in the radix tree
I0305 23:26:15.880778       1 tree.go:471] Updated node(169) last access: 123.1848 seconds
I0305 23:26:15.880787       1 tree.go:667] Split complete - New node(196)
I0305 23:26:15.880792       1 tree.go:668] Split complete - Child node(18)
I0305 23:26:15.880796       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 23:26:15.880800       1 tree.go:471] Updated node(196) last access: 123.1849 seconds
I0305 23:26:15.880805       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 23:26:15.880811       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:15.880818       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:15.880827       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.880833       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.88081318 +0000 UTC m=+123.302884730]
I0305 23:26:15.880847       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7488, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 23:26:15.880854       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 23:26:15.880898       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7488
I0305 23:26:15.880908       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:15.880915       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.880921       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.880924       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.880929       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.880944       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.880952       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.880959       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.880969       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:15.880978       1 prefix_cache_and_load.go:584] latency, Route, 1.2731
I0305 23:26:15.880992       1 gateway.go:415] latency, selectTargetPod, 1.2731, target pod, 10.0.1.53:8000
I0305 23:26:15.881002       1 gateway.go:235] latency, HandleRequestBody, 1.2734
I0305 23:26:15.881024       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1463
I0305 23:26:15.881032       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.881036       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.881151       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.881174       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:15.881180       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.891520       1 gateway.go:562] latency, 0.0000, summary, hash(request), 52847f86, selectedpod, 10.0.3.13:8000, ttft, 1385, tpot, 19, e2e, 1564, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:15.891540       1 gateway.go:748] "Request completed" requestID="30c2c2fb-cb67-47ec-a7b9-44930f9211a6" targetPod="10.0.3.13:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:15.891574       1 gateway.go:764] "HandleResponseBody completed" requestID="30c2c2fb-cb67-47ec-a7b9-44930f9211a6" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:15.902803       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0bb17157-ce04-42f5-b7d7-bbba54438a43"
I0305 23:26:15.932847       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0517, numInputTokens, 7601
I0305 23:26:15.932865       1 tree.go:471] Updated node(0) last access: 123.2369 seconds
I0305 23:26:15.932871       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:15.932875       1 tree.go:471] Updated node(2) last access: 123.2369 seconds
I0305 23:26:15.932888       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:15.932893       1 tree.go:471] Updated node(33) last access: 123.2369 seconds
I0305 23:26:15.932905       1 tree.go:667] Split complete - New node(198)
I0305 23:26:15.932913       1 tree.go:668] Split complete - Child node(157)
I0305 23:26:15.932919       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 23:26:15.932924       1 tree.go:471] Updated node(198) last access: 123.2370 seconds
I0305 23:26:15.932931       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 23:26:15.932941       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:15.932950       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:15.932958       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:15.932965       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:15.932944014 +0000 UTC m=+123.355015553]
I0305 23:26:15.932984       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7482, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 23:26:15.932995       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 23:26:15.933047       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7482
I0305 23:26:15.933058       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:15.933065       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.933072       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.933078       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.933087       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.933093       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:15.933104       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:15.933116       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:15.933130       1 prefix_cache_and_load.go:584] latency, Route, 1.1984
I0305 23:26:15.933144       1 gateway.go:415] latency, selectTargetPod, 1.1984, target pod, 10.0.3.38:8000
I0305 23:26:15.933155       1 gateway.go:235] latency, HandleRequestBody, 1.2206
I0305 23:26:15.933185       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1604
I0305 23:26:15.933191       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:15.933195       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:15.933295       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:15.933322       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:15.933328       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:15.938098       1 gateway.go:608] "First token received" requestID="0bb17157-ce04-42f5-b7d7-bbba54438a43" ttft_ms=1330
I0305 23:26:15.948952       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="20c10437-a780-4439-8d78-843bd43fa5e6"
I0305 23:26:15.975584       1 gateway.go:562] latency, 0.0000, summary, hash(request), c30c9fe8, selectedpod, 10.0.3.38:8000, ttft, 1361, tpot, 22, e2e, 1561, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:15.975605       1 gateway.go:748] "Request completed" requestID="7cef80d1-f104-448e-954b-c19b13e35e43" targetPod="10.0.3.38:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:15.975615       1 gateway.go:764] "HandleResponseBody completed" requestID="7cef80d1-f104-448e-954b-c19b13e35e43" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:15.984218       1 gateway.go:207] "Processing request" requestID="41e934ad-087a-4836-b4fb-bf02cdfc6fbc"
I0305 23:26:15.984252       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="41e934ad-087a-4836-b4fb-bf02cdfc6fbc"
I0305 23:26:15.984259       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:15.994817       1 gateway.go:329] "-- In RequestBody processing ..." requestID="41e934ad-087a-4836-b4fb-bf02cdfc6fbc"
I0305 23:26:15.995015       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="41e934ad-087a-4836-b4fb-bf02cdfc6fbc" model="qwen2-5-7b-instruct"
I0305 23:26:16.008137       1 gateway.go:608] "First token received" requestID="20c10437-a780-4439-8d78-843bd43fa5e6" ttft_ms=1295
I0305 23:26:16.013261       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0799, numInputTokens, 7596
I0305 23:26:16.013279       1 tree.go:471] Updated node(0) last access: 123.3173 seconds
I0305 23:26:16.013286       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.013291       1 tree.go:471] Updated node(2) last access: 123.3173 seconds
I0305 23:26:16.013309       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:16.013313       1 tree.go:471] Updated node(29) last access: 123.3174 seconds
I0305 23:26:16.013324       1 tree.go:667] Split complete - New node(200)
I0305 23:26:16.013329       1 tree.go:668] Split complete - Child node(137)
I0305 23:26:16.013336       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:16.013341       1 tree.go:471] Updated node(200) last access: 123.3174 seconds
I0305 23:26:16.013346       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:16.013351       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 23:26:16.013358       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:16.013365       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.013371       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.013353673 +0000 UTC m=+123.435425207]
I0305 23:26:16.013387       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7480, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:16.013399       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:16.013461       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7480
I0305 23:26:16.013471       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:16.013478       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.013487       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.013495       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.013500       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.013508       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.013520       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.013534       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:16.013550       1 prefix_cache_and_load.go:584] latency, Route, 1.2408
I0305 23:26:16.013566       1 gateway.go:415] latency, selectTargetPod, 1.2408, target pod, 10.0.0.134:8000
I0305 23:26:16.013579       1 gateway.go:235] latency, HandleRequestBody, 1.2411
I0305 23:26:16.013611       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0190
I0305 23:26:16.013615       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.013619       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.013708       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.013737       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:16.013743       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.032171       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="36ed83db-227d-4f8f-b84c-0ea916b896a1"
I0305 23:26:16.053915       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6b9e9514, selectedpod, 10.0.0.134:8000, ttft, 1371, tpot, 20, e2e, 1553, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 23:26:16.053933       1 gateway.go:748] "Request completed" requestID="b7f813ab-f211-47e5-9aed-6309818306df" targetPod="10.0.0.134:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 23:26:16.053947       1 gateway.go:764] "HandleResponseBody completed" requestID="b7f813ab-f211-47e5-9aed-6309818306df" promptTokens=7622 completionTokens=10 stream=true
I0305 23:26:16.076863       1 gateway.go:608] "First token received" requestID="36ed83db-227d-4f8f-b84c-0ea916b896a1" ttft_ms=1304
I0305 23:26:16.092660       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0789, numInputTokens, 7597
I0305 23:26:16.092675       1 tree.go:471] Updated node(0) last access: 123.3967 seconds
I0305 23:26:16.092681       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.092684       1 tree.go:471] Updated node(2) last access: 123.3967 seconds
I0305 23:26:16.092697       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:16.092701       1 tree.go:471] Updated node(33) last access: 123.3968 seconds
I0305 23:26:16.092710       1 tree.go:667] Split complete - New node(202)
I0305 23:26:16.092714       1 tree.go:668] Split complete - Child node(1)
I0305 23:26:16.092719       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 23:26:16.092724       1 tree.go:471] Updated node(202) last access: 123.3968 seconds
I0305 23:26:16.092729       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:16.092732       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 23:26:16.092737       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:16.092742       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.092746       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.092733832 +0000 UTC m=+123.514805375]
I0305 23:26:16.092759       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7483, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:16.092766       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:16.092808       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7483
I0305 23:26:16.092816       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 23:26:16.092822       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.092827       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.092831       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.092833       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.092838       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.092847       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.092857       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:16.092866       1 prefix_cache_and_load.go:584] latency, Route, 1.0982
I0305 23:26:16.092880       1 gateway.go:415] latency, selectTargetPod, 1.0983, target pod, 10.0.3.38:8000
I0305 23:26:16.092889       1 gateway.go:235] latency, HandleRequestBody, 1.0990
I0305 23:26:16.092916       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0474
I0305 23:26:16.092921       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.092924       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.093023       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.093048       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:16.093053       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.108682       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="089c7fa4-aeb4-4afd-9cd9-a63f8f692955"
I0305 23:26:16.111265       1 gateway.go:562] latency, 0.0000, summary, hash(request), ea5e9c2d, selectedpod, 10.0.1.53:8000, ttft, 1330, tpot, 19, e2e, 1503, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:16.111286       1 gateway.go:748] "Request completed" requestID="0bb17157-ce04-42f5-b7d7-bbba54438a43" targetPod="10.0.1.53:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:16.111296       1 gateway.go:764] "HandleResponseBody completed" requestID="0bb17157-ce04-42f5-b7d7-bbba54438a43" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:16.143524       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0505, numInputTokens, 7598
I0305 23:26:16.143539       1 tree.go:471] Updated node(0) last access: 123.4476 seconds
I0305 23:26:16.143545       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.143549       1 tree.go:471] Updated node(2) last access: 123.4476 seconds
I0305 23:26:16.143565       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:16.143569       1 tree.go:471] Updated node(38) last access: 123.4476 seconds
I0305 23:26:16.143577       1 tree.go:667] Split complete - New node(204)
I0305 23:26:16.143582       1 tree.go:668] Split complete - Child node(153)
I0305 23:26:16.143587       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 23:26:16.143592       1 tree.go:471] Updated node(204) last access: 123.4476 seconds
I0305 23:26:16.143597       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:16.143601       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:16.143606       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:16.143612       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.143617       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.143602661 +0000 UTC m=+123.565674195]
I0305 23:26:16.143631       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7483, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:16.143637       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:16.143683       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7483
I0305 23:26:16.143692       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:16.143700       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.143707       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.143711       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.143714       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.143721       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.143729       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.143737       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:16.143749       1 prefix_cache_and_load.go:584] latency, Route, 1.0982
I0305 23:26:16.143766       1 gateway.go:415] latency, selectTargetPod, 1.0982, target pod, 10.0.0.134:8000
I0305 23:26:16.143780       1 gateway.go:235] latency, HandleRequestBody, 1.0986
I0305 23:26:16.143821       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0381
I0305 23:26:16.143833       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.143836       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.143975       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.144007       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:16.144013       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.156898       1 gateway.go:608] "First token received" requestID="089c7fa4-aeb4-4afd-9cd9-a63f8f692955" ttft_ms=1162
I0305 23:26:16.161319       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5e100a3e-9b53-4f78-95d3-2125c544f851"
I0305 23:26:16.214480       1 gateway.go:608] "First token received" requestID="5e100a3e-9b53-4f78-95d3-2125c544f851" ttft_ms=1169
I0305 23:26:16.217398       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3a3e8db2, selectedpod, 10.0.3.38:8000, ttft, 1295, tpot, 23, e2e, 1504, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:16.217452       1 gateway.go:748] "Request completed" requestID="20c10437-a780-4439-8d78-843bd43fa5e6" targetPod="10.0.3.38:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:16.217621       1 gateway.go:764] "HandleResponseBody completed" requestID="20c10437-a780-4439-8d78-843bd43fa5e6" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:16.221186       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0772, numInputTokens, 7604
I0305 23:26:16.221201       1 tree.go:471] Updated node(0) last access: 123.5253 seconds
I0305 23:26:16.221208       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.221211       1 tree.go:471] Updated node(2) last access: 123.5253 seconds
I0305 23:26:16.221222       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:16.221226       1 tree.go:471] Updated node(33) last access: 123.5253 seconds
I0305 23:26:16.221230       1 tree.go:490] Partial tokens match child node(48). Continue to go deeper in the radix tree
I0305 23:26:16.221233       1 tree.go:471] Updated node(48) last access: 123.5253 seconds
I0305 23:26:16.221237       1 tree.go:490] Partial tokens match child node(62). Continue to go deeper in the radix tree
I0305 23:26:16.221240       1 tree.go:471] Updated node(62) last access: 123.5253 seconds
I0305 23:26:16.221250       1 tree.go:667] Split complete - New node(206)
I0305 23:26:16.221253       1 tree.go:668] Split complete - Child node(34)
I0305 23:26:16.221257       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 23:26:16.221262       1 tree.go:471] Updated node(206) last access: 123.5253 seconds
I0305 23:26:16.221267       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:16.221272       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7604 tokens
I0305 23:26:16.221279       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 23:26:16.221284       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.221289       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.221274295 +0000 UTC m=+123.643345829]
I0305 23:26:16.221302       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7488, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:16.221308       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:16.221353       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7488
I0305 23:26:16.221362       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:16.221370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.221376       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.221383       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.221387       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.221421       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.221426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.221429       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.221465       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.221475       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:16.221493       1 prefix_cache_and_load.go:584] latency, Route, 1.1157
I0305 23:26:16.221514       1 gateway.go:415] latency, selectTargetPod, 1.1158, target pod, 10.0.3.38:8000
I0305 23:26:16.221526       1 gateway.go:235] latency, HandleRequestBody, 1.1161
I0305 23:26:16.221529       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8960
I0305 23:26:16.221541       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.221545       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.221673       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.221703       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:16.221708       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.237841       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="07ed1e1a-8671-47a2-b774-5ca2b6daf452"
I0305 23:26:16.289009       1 gateway.go:608] "First token received" requestID="07ed1e1a-8671-47a2-b774-5ca2b6daf452" ttft_ms=1183
I0305 23:26:16.296178       1 gateway.go:562] latency, 0.0000, summary, hash(request), 924a935c, selectedpod, 10.0.0.134:8000, ttft, 1304, tpot, 24, e2e, 1523, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:16.296208       1 gateway.go:748] "Request completed" requestID="36ed83db-227d-4f8f-b84c-0ea916b896a1" targetPod="10.0.0.134:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:16.296225       1 gateway.go:764] "HandleResponseBody completed" requestID="36ed83db-227d-4f8f-b84c-0ea916b896a1" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:16.310955       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0892, numInputTokens, 7601
I0305 23:26:16.310974       1 tree.go:471] Updated node(0) last access: 123.6150 seconds
I0305 23:26:16.310983       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.310988       1 tree.go:471] Updated node(2) last access: 123.6150 seconds
I0305 23:26:16.311003       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:16.311009       1 tree.go:471] Updated node(17) last access: 123.6151 seconds
I0305 23:26:16.311014       1 tree.go:490] Partial tokens match child node(169). Continue to go deeper in the radix tree
I0305 23:26:16.311019       1 tree.go:471] Updated node(169) last access: 123.6151 seconds
I0305 23:26:16.311024       1 tree.go:490] Partial tokens match child node(196). Continue to go deeper in the radix tree
I0305 23:26:16.311029       1 tree.go:471] Updated node(196) last access: 123.6151 seconds
I0305 23:26:16.311037       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 23:26:16.311047       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:16.311058       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:16.311066       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.311073       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.311051872 +0000 UTC m=+123.733123424]
I0305 23:26:16.311092       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7488, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 23:26:16.311101       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 23:26:16.311182       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7488
I0305 23:26:16.311196       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:16.311208       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.311219       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.311227       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.311234       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.311242       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.311251       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.311263       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.311278       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:16.311292       1 prefix_cache_and_load.go:584] latency, Route, 0.9858
I0305 23:26:16.311310       1 gateway.go:415] latency, selectTargetPod, 0.9858, target pod, 10.0.1.53:8000
I0305 23:26:16.311324       1 gateway.go:235] latency, HandleRequestBody, 0.9861
I0305 23:26:16.311360       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8222
I0305 23:26:16.311367       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.311371       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.311509       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.311540       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:16.311549       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.332803       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c54a63fd-4e97-4c42-9c3a-93107213b008"
I0305 23:26:16.368304       1 gateway.go:608] "First token received" requestID="c54a63fd-4e97-4c42-9c3a-93107213b008" ttft_ms=1043
I0305 23:26:16.372338       1 gateway.go:562] latency, 0.0000, summary, hash(request), 899e781f, selectedpod, 10.0.3.38:8000, ttft, 1162, tpot, 23, e2e, 1378, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:16.372359       1 gateway.go:748] "Request completed" requestID="089c7fa4-aeb4-4afd-9cd9-a63f8f692955" targetPod="10.0.3.38:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:16.372369       1 gateway.go:764] "HandleResponseBody completed" requestID="089c7fa4-aeb4-4afd-9cd9-a63f8f692955" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:16.393000       1 gateway.go:562] latency, 0.0000, summary, hash(request), 87ae73f2, selectedpod, 10.0.0.134:8000, ttft, 1169, tpot, 19, e2e, 1347, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:16.393028       1 gateway.go:748] "Request completed" requestID="5e100a3e-9b53-4f78-95d3-2125c544f851" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:16.393044       1 gateway.go:764] "HandleResponseBody completed" requestID="5e100a3e-9b53-4f78-95d3-2125c544f851" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:16.395661       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0841, numInputTokens, 7604
I0305 23:26:16.395679       1 tree.go:471] Updated node(0) last access: 123.6997 seconds
I0305 23:26:16.395685       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.395688       1 tree.go:471] Updated node(2) last access: 123.6997 seconds
I0305 23:26:16.395703       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:16.395707       1 tree.go:471] Updated node(29) last access: 123.6998 seconds
I0305 23:26:16.395713       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 23:26:16.395718       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 23:26:16.395725       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 23:26:16.395732       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.395738       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.395720751 +0000 UTC m=+123.817792296]
I0305 23:26:16.395755       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 23:26:16.395763       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 23:26:16.395808       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:16.395817       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:16.395825       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.395830       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.395834       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.395840       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.395849       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.395858       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:16.395869       1 prefix_cache_and_load.go:584] latency, Route, 0.9067
I0305 23:26:16.395885       1 gateway.go:415] latency, selectTargetPod, 0.9067, target pod, 10.0.0.134:8000
I0305 23:26:16.395897       1 gateway.go:235] latency, HandleRequestBody, 0.9071
I0305 23:26:16.395924       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7858
I0305 23:26:16.395928       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.395931       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.396032       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.396058       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:16.396063       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.413882       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0fdbf380-a7e4-4daa-9088-4a972ad3b66a"
I0305 23:26:16.443802       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0477, numInputTokens, 7597
I0305 23:26:16.443817       1 tree.go:471] Updated node(0) last access: 123.7479 seconds
I0305 23:26:16.443823       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.443826       1 tree.go:471] Updated node(2) last access: 123.7479 seconds
I0305 23:26:16.443838       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:16.443843       1 tree.go:471] Updated node(29) last access: 123.7479 seconds
I0305 23:26:16.443847       1 tree.go:490] Partial tokens match child node(173). Continue to go deeper in the radix tree
I0305 23:26:16.443855       1 tree.go:471] Updated node(173) last access: 123.7479 seconds
I0305 23:26:16.443861       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:16.443865       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 23:26:16.443872       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:16.443878       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.443883       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.443867776 +0000 UTC m=+123.865939311]
I0305 23:26:16.443897       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7483, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:16.443904       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:16.443955       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7483
I0305 23:26:16.443965       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:16.443974       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.443979       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.443982       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.443986       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.443992       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.443999       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.444008       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:16.444018       1 prefix_cache_and_load.go:584] latency, Route, 0.8339
I0305 23:26:16.444031       1 gateway.go:415] latency, selectTargetPod, 0.8339, target pod, 10.0.0.134:8000
I0305 23:26:16.444042       1 gateway.go:235] latency, HandleRequestBody, 0.8342
I0305 23:26:16.444041       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8315
I0305 23:26:16.444049       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.444053       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.444223       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.444252       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:16.444258       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.456125       1 gateway.go:608] "First token received" requestID="0fdbf380-a7e4-4daa-9088-4a972ad3b66a" ttft_ms=967
I0305 23:26:16.462947       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fe718a57-8bf7-40ee-a8e1-241e0e666e15"
I0305 23:26:16.466970       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5762d23b, selectedpod, 10.0.3.38:8000, ttft, 1183, tpot, 19, e2e, 1361, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 23:26:16.467008       1 gateway.go:748] "Request completed" requestID="07ed1e1a-8671-47a2-b774-5ca2b6daf452" targetPod="10.0.3.38:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 23:26:16.467022       1 gateway.go:764] "HandleResponseBody completed" requestID="07ed1e1a-8671-47a2-b774-5ca2b6daf452" promptTokens=7623 completionTokens=10 stream=true
I0305 23:26:16.508557       1 gateway.go:608] "First token received" requestID="fe718a57-8bf7-40ee-a8e1-241e0e666e15" ttft_ms=898
I0305 23:26:16.520353       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0761, numInputTokens, 7599
I0305 23:26:16.520372       1 tree.go:471] Updated node(0) last access: 123.8244 seconds
I0305 23:26:16.520379       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.520384       1 tree.go:471] Updated node(2) last access: 123.8244 seconds
I0305 23:26:16.520395       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:16.520400       1 tree.go:471] Updated node(33) last access: 123.8245 seconds
I0305 23:26:16.520408       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:16.520416       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:16.520424       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:16.520432       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.520438       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.520418628 +0000 UTC m=+123.942490167]
I0305 23:26:16.520466       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:16.520475       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:16.520537       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7478
I0305 23:26:16.520547       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:16.520557       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.520566       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.520576       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.520585       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.520599       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.520612       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:16.520629       1 prefix_cache_and_load.go:584] latency, Route, 0.9081
I0305 23:26:16.520646       1 gateway.go:415] latency, selectTargetPod, 0.9081, target pod, 10.0.3.38:8000
I0305 23:26:16.520662       1 gateway.go:235] latency, HandleRequestBody, 0.9084
I0305 23:26:16.520673       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6493
I0305 23:26:16.520683       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.520687       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.520819       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.520847       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:16.520853       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.535950       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3c35da45-281b-4d52-bb95-27f2fa8abb49"
I0305 23:26:16.541298       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3ba2db3c, selectedpod, 10.0.1.53:8000, ttft, 1043, tpot, 19, e2e, 1216, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:16.541318       1 gateway.go:748] "Request completed" requestID="c54a63fd-4e97-4c42-9c3a-93107213b008" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:16.541333       1 gateway.go:764] "HandleResponseBody completed" requestID="c54a63fd-4e97-4c42-9c3a-93107213b008" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:16.578286       1 gateway.go:608] "First token received" requestID="3c35da45-281b-4d52-bb95-27f2fa8abb49" ttft_ms=965
I0305 23:26:16.578887       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0580, numInputTokens, 7604
I0305 23:26:16.578904       1 tree.go:471] Updated node(0) last access: 123.8830 seconds
I0305 23:26:16.578909       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.578913       1 tree.go:471] Updated node(2) last access: 123.8830 seconds
I0305 23:26:16.578925       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:16.578930       1 tree.go:471] Updated node(23) last access: 123.8830 seconds
I0305 23:26:16.578947       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 23:26:16.578955       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7604 tokens
I0305 23:26:16.578962       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 23:26:16.578968       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.578973       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.578956867 +0000 UTC m=+124.001028402]
I0305 23:26:16.578988       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 23:26:16.578994       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 23:26:16.579041       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:16.579050       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:16.579057       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.579063       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.579067       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.579071       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.579078       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.579086       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:16.579097       1 prefix_cache_and_load.go:584] latency, Route, 0.7077
I0305 23:26:16.579111       1 gateway.go:415] latency, selectTargetPod, 0.7077, target pod, 10.0.3.13:8000
I0305 23:26:16.579121       1 gateway.go:235] latency, HandleRequestBody, 0.7081
I0305 23:26:16.579149       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5841
I0305 23:26:16.579154       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.579157       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.579247       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.579274       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:16.579279       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.596225       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="83bfcd11-b2ec-45a3-8a4f-7cff322823f2"
I0305 23:26:16.627020       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0477, numInputTokens, 7599
I0305 23:26:16.627037       1 tree.go:471] Updated node(0) last access: 123.9311 seconds
I0305 23:26:16.627044       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.627048       1 tree.go:471] Updated node(2) last access: 123.9311 seconds
I0305 23:26:16.627061       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:16.627065       1 tree.go:471] Updated node(33) last access: 123.9311 seconds
I0305 23:26:16.627069       1 tree.go:490] Partial tokens match child node(96). Continue to go deeper in the radix tree
I0305 23:26:16.627072       1 tree.go:471] Updated node(96) last access: 123.9311 seconds
I0305 23:26:16.627081       1 tree.go:667] Split complete - New node(213)
I0305 23:26:16.627085       1 tree.go:668] Split complete - Child node(84)
I0305 23:26:16.627091       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 23:26:16.627095       1 tree.go:471] Updated node(213) last access: 123.9312 seconds
I0305 23:26:16.627100       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 23:26:16.627105       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:16.627111       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:16.627117       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.627122       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.627107093 +0000 UTC m=+124.049178627]
I0305 23:26:16.627137       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7490, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 23:26:16.627144       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 23:26:16.627188       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7490
I0305 23:26:16.627197       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:16.627204       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.627210       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.627213       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.627217       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.627223       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.627226       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.627234       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.627243       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:16.627250       1 prefix_cache_and_load.go:584] latency, Route, 0.6322
I0305 23:26:16.627259       1 gateway.go:415] latency, selectTargetPod, 0.6322, target pod, 10.0.3.38:8000
I0305 23:26:16.627268       1 gateway.go:235] latency, HandleRequestBody, 0.6325
I0305 23:26:16.639875       1 gateway.go:608] "First token received" requestID="83bfcd11-b2ec-45a3-8a4f-7cff322823f2" ttft_ms=768
I0305 23:26:16.642841       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="41e934ad-087a-4836-b4fb-bf02cdfc6fbc"
I0305 23:26:16.661738       1 gateway.go:207] "Processing request" requestID="24a305e0-9506-4832-88f5-70d4ea6ac8fe"
I0305 23:26:16.661761       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="24a305e0-9506-4832-88f5-70d4ea6ac8fe"
I0305 23:26:16.661770       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:16.672376       1 gateway.go:562] latency, 0.0000, summary, hash(request), a596fc02, selectedpod, 10.0.0.134:8000, ttft, 967, tpot, 24, e2e, 1183, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 23:26:16.672394       1 gateway.go:748] "Request completed" requestID="0fdbf380-a7e4-4daa-9088-4a972ad3b66a" targetPod="10.0.0.134:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 23:26:16.672402       1 gateway.go:764] "HandleResponseBody completed" requestID="0fdbf380-a7e4-4daa-9088-4a972ad3b66a" promptTokens=7623 completionTokens=10 stream=true
I0305 23:26:16.672458       1 gateway.go:329] "-- In RequestBody processing ..." requestID="24a305e0-9506-4832-88f5-70d4ea6ac8fe"
I0305 23:26:16.672679       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="24a305e0-9506-4832-88f5-70d4ea6ac8fe" model="qwen2-5-7b-instruct"
I0305 23:26:16.672754       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:16.672760       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.672763       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.672871       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.672898       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:16.672904       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.681529       1 gateway.go:207] "Processing request" requestID="a0d500a6-9e6d-4d7a-bb05-df63e819df11"
I0305 23:26:16.681565       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a0d500a6-9e6d-4d7a-bb05-df63e819df11"
I0305 23:26:16.681575       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:16.688172       1 gateway.go:608] "First token received" requestID="41e934ad-087a-4836-b4fb-bf02cdfc6fbc" ttft_ms=693
I0305 23:26:16.690098       1 gateway.go:562] latency, 0.0000, summary, hash(request), 05ec3e72, selectedpod, 10.0.0.134:8000, ttft, 898, tpot, 20, e2e, 1080, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:16.690119       1 gateway.go:748] "Request completed" requestID="fe718a57-8bf7-40ee-a8e1-241e0e666e15" targetPod="10.0.0.134:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:16.690130       1 gateway.go:764] "HandleResponseBody completed" requestID="fe718a57-8bf7-40ee-a8e1-241e0e666e15" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:16.696265       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a0d500a6-9e6d-4d7a-bb05-df63e819df11"
I0305 23:26:16.725867       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0530, numInputTokens, 7601
I0305 23:26:16.725886       1 tree.go:471] Updated node(0) last access: 124.0299 seconds
I0305 23:26:16.725894       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.725898       1 tree.go:471] Updated node(2) last access: 124.0300 seconds
I0305 23:26:16.725913       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:16.725917       1 tree.go:471] Updated node(17) last access: 124.0300 seconds
I0305 23:26:16.725931       1 tree.go:667] Split complete - New node(215)
I0305 23:26:16.725942       1 tree.go:668] Split complete - Child node(152)
I0305 23:26:16.725950       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 23:26:16.725956       1 tree.go:471] Updated node(215) last access: 124.0300 seconds
I0305 23:26:16.725962       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:16.725968       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:16.725976       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:16.725984       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.725990       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.725970502 +0000 UTC m=+124.148042038]
I0305 23:26:16.726008       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:16.726018       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:16.726070       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7481
I0305 23:26:16.726082       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:16.726092       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.726099       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.726104       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.726115       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.726120       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.726133       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.726146       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:16.726160       1 prefix_cache_and_load.go:584] latency, Route, 0.0534
I0305 23:26:16.726180       1 gateway.go:415] latency, selectTargetPod, 0.0534, target pod, 10.0.1.53:8000
I0305 23:26:16.726193       1 gateway.go:235] latency, HandleRequestBody, 0.0537
I0305 23:26:16.734294       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a0d500a6-9e6d-4d7a-bb05-df63e819df11" model="qwen2-5-7b-instruct"
I0305 23:26:16.734406       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:16.734411       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.734414       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.734558       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.734584       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:16.734588       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.745110       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="24a305e0-9506-4832-88f5-70d4ea6ac8fe"
I0305 23:26:16.787811       1 gateway.go:608] "First token received" requestID="24a305e0-9506-4832-88f5-70d4ea6ac8fe" ttft_ms=115
I0305 23:26:16.788674       1 gateway.go:562] latency, 0.0000, summary, hash(request), bf1bee4e, selectedpod, 10.0.3.38:8000, ttft, 965, tpot, 23, e2e, 1176, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:16.788703       1 gateway.go:748] "Request completed" requestID="3c35da45-281b-4d52-bb95-27f2fa8abb49" targetPod="10.0.3.38:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:16.788718       1 gateway.go:764] "HandleResponseBody completed" requestID="3c35da45-281b-4d52-bb95-27f2fa8abb49" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:16.811159       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0766, numInputTokens, 7598
I0305 23:26:16.811175       1 tree.go:471] Updated node(0) last access: 124.1152 seconds
I0305 23:26:16.811180       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.811184       1 tree.go:471] Updated node(2) last access: 124.1152 seconds
I0305 23:26:16.811197       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:16.811201       1 tree.go:471] Updated node(21) last access: 124.1153 seconds
I0305 23:26:16.811211       1 tree.go:667] Split complete - New node(217)
I0305 23:26:16.811214       1 tree.go:668] Split complete - Child node(127)
I0305 23:26:16.811219       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 23:26:16.811223       1 tree.go:471] Updated node(217) last access: 124.1153 seconds
I0305 23:26:16.811228       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:16.811234       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:16.811240       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:16.811246       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.811250       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.811235687 +0000 UTC m=+124.233307222]
I0305 23:26:16.811264       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7480, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:16.811271       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:16.811315       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7480
I0305 23:26:16.811325       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:16.811333       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.811340       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.811344       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.811348       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.811352       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.811360       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.811369       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:16.811378       1 prefix_cache_and_load.go:584] latency, Route, 0.0770
I0305 23:26:16.811385       1 gateway.go:415] latency, selectTargetPod, 0.0770, target pod, 10.0.0.39:8000
I0305 23:26:16.811397       1 gateway.go:235] latency, HandleRequestBody, 0.1151
I0305 23:26:16.813294       1 gateway.go:562] latency, 0.0000, summary, hash(request), b58ebdd3, selectedpod, 10.0.3.13:8000, ttft, 768, tpot, 19, e2e, 942, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 23:26:16.813313       1 gateway.go:748] "Request completed" requestID="83bfcd11-b2ec-45a3-8a4f-7cff322823f2" targetPod="10.0.3.13:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 23:26:16.813324       1 gateway.go:764] "HandleResponseBody completed" requestID="83bfcd11-b2ec-45a3-8a4f-7cff322823f2" promptTokens=7623 completionTokens=10 stream=true
I0305 23:26:16.830544       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a0d500a6-9e6d-4d7a-bb05-df63e819df11"
I0305 23:26:16.866703       1 gateway.go:562] latency, 0.0000, summary, hash(request), aa2820a2, selectedpod, 10.0.3.38:8000, ttft, 693, tpot, 19, e2e, 871, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:16.866722       1 gateway.go:748] "Request completed" requestID="41e934ad-087a-4836-b4fb-bf02cdfc6fbc" targetPod="10.0.3.38:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:16.866731       1 gateway.go:764] "HandleResponseBody completed" requestID="41e934ad-087a-4836-b4fb-bf02cdfc6fbc" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:16.874222       1 gateway.go:608] "First token received" requestID="a0d500a6-9e6d-4d7a-bb05-df63e819df11" ttft_ms=177
I0305 23:26:16.883813       1 gateway.go:207] "Processing request" requestID="dff9a773-d68d-4ccb-914e-6fecc1736401"
I0305 23:26:16.883831       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dff9a773-d68d-4ccb-914e-6fecc1736401"
I0305 23:26:16.883839       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:16.894325       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dff9a773-d68d-4ccb-914e-6fecc1736401"
I0305 23:26:16.894574       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dff9a773-d68d-4ccb-914e-6fecc1736401" model="qwen2-5-7b-instruct"
I0305 23:26:16.894657       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:16.894664       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.894667       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.894788       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.894822       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:16.894828       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.898432       1 gateway.go:207] "Processing request" requestID="9e4d4a27-cc01-4d29-8854-7ef5e15a436b"
I0305 23:26:16.898456       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9e4d4a27-cc01-4d29-8854-7ef5e15a436b"
I0305 23:26:16.898463       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:16.907183       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9e4d4a27-cc01-4d29-8854-7ef5e15a436b"
I0305 23:26:16.907397       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9e4d4a27-cc01-4d29-8854-7ef5e15a436b" model="qwen2-5-7b-instruct"
I0305 23:26:16.945513       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0507, numInputTokens, 7595
I0305 23:26:16.945531       1 tree.go:471] Updated node(0) last access: 124.2496 seconds
I0305 23:26:16.945537       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:16.945541       1 tree.go:471] Updated node(2) last access: 124.2496 seconds
I0305 23:26:16.945556       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:16.945562       1 tree.go:471] Updated node(23) last access: 124.2496 seconds
I0305 23:26:16.945573       1 tree.go:667] Split complete - New node(219)
I0305 23:26:16.945577       1 tree.go:668] Split complete - Child node(149)
I0305 23:26:16.945584       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 23:26:16.945589       1 tree.go:471] Updated node(219) last access: 124.2496 seconds
I0305 23:26:16.945595       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:16.945601       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 23:26:16.945609       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 23:26:16.945616       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:16.945623       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:16.945603089 +0000 UTC m=+124.367674629]
I0305 23:26:16.945640       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7481, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:16.945649       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:16.945706       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7481
I0305 23:26:16.945717       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:16.945727       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.945736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.945744       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.945754       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.945762       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:16.945775       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:16.945786       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:16.945795       1 prefix_cache_and_load.go:584] latency, Route, 0.0511
I0305 23:26:16.945811       1 gateway.go:415] latency, selectTargetPod, 0.0512, target pod, 10.0.3.13:8000
I0305 23:26:16.945822       1 gateway.go:235] latency, HandleRequestBody, 0.0515
I0305 23:26:16.945852       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0384
I0305 23:26:16.945856       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:16.945859       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:16.945967       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:16.945999       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:16.946006       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:16.960656       1 gateway.go:562] latency, 0.0000, summary, hash(request), e3f195b9, selectedpod, 10.0.1.53:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:16.960675       1 gateway.go:748] "Request completed" requestID="24a305e0-9506-4832-88f5-70d4ea6ac8fe" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:16.960684       1 gateway.go:764] "HandleResponseBody completed" requestID="24a305e0-9506-4832-88f5-70d4ea6ac8fe" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:16.962712       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dff9a773-d68d-4ccb-914e-6fecc1736401"
I0305 23:26:16.994688       1 gateway.go:207] "Processing request" requestID="e313f563-ba0a-4df4-8ce6-31cb4648dcd2"
I0305 23:26:16.994715       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e313f563-ba0a-4df4-8ce6-31cb4648dcd2"
I0305 23:26:16.994724       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:16.998903       1 gateway.go:608] "First token received" requestID="dff9a773-d68d-4ccb-914e-6fecc1736401" ttft_ms=104
I0305 23:26:17.001829       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e313f563-ba0a-4df4-8ce6-31cb4648dcd2"
I0305 23:26:17.002070       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e313f563-ba0a-4df4-8ce6-31cb4648dcd2" model="qwen2-5-7b-instruct"
I0305 23:26:17.009579       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0636, numInputTokens, 7596
I0305 23:26:17.009596       1 tree.go:471] Updated node(0) last access: 124.3137 seconds
I0305 23:26:17.009602       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:17.009605       1 tree.go:471] Updated node(2) last access: 124.3137 seconds
I0305 23:26:17.009618       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:17.009623       1 tree.go:471] Updated node(29) last access: 124.3137 seconds
I0305 23:26:17.009632       1 tree.go:667] Split complete - New node(221)
I0305 23:26:17.009637       1 tree.go:668] Split complete - Child node(146)
I0305 23:26:17.009641       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:17.009646       1 tree.go:471] Updated node(221) last access: 124.3137 seconds
I0305 23:26:17.009651       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 107 tokens:
I0305 23:26:17.009657       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 23:26:17.009663       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:17.009669       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:17.009674       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:17.009658941 +0000 UTC m=+124.431730475]
I0305 23:26:17.009687       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7489, Matching ratio: 0.9859, # Matched pods: 0, Matched pods: []
I0305 23:26:17.009695       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9859 > 0.5000)
I0305 23:26:17.009759       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7489
I0305 23:26:17.009773       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:17.009785       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.009792       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.009797       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.009803       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.009811       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.009822       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:17.009835       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:17.009851       1 prefix_cache_and_load.go:584] latency, Route, 0.1024
I0305 23:26:17.009870       1 gateway.go:415] latency, selectTargetPod, 0.1024, target pod, 10.0.0.134:8000
I0305 23:26:17.009882       1 gateway.go:235] latency, HandleRequestBody, 0.1027
I0305 23:26:17.009907       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0077
I0305 23:26:17.009913       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:17.009917       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:17.010035       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:17.010072       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:17.010080       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:17.019984       1 gateway.go:207] "Processing request" requestID="bdac655c-c320-4fab-afcb-adcee4fb4710"
I0305 23:26:17.020055       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bdac655c-c320-4fab-afcb-adcee4fb4710"
I0305 23:26:17.020088       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:17.028239       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9e4d4a27-cc01-4d29-8854-7ef5e15a436b"
I0305 23:26:17.030312       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bdac655c-c320-4fab-afcb-adcee4fb4710"
I0305 23:26:17.030539       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bdac655c-c320-4fab-afcb-adcee4fb4710" model="qwen2-5-7b-instruct"
I0305 23:26:17.047234       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6c66e40b, selectedpod, 10.0.0.39:8000, ttft, 177, tpot, 19, e2e, 350, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:17.047259       1 gateway.go:748] "Request completed" requestID="a0d500a6-9e6d-4d7a-bb05-df63e819df11" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:17.047272       1 gateway.go:764] "HandleResponseBody completed" requestID="a0d500a6-9e6d-4d7a-bb05-df63e819df11" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:17.065385       1 gateway.go:608] "First token received" requestID="9e4d4a27-cc01-4d29-8854-7ef5e15a436b" ttft_ms=158
I0305 23:26:17.090496       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0804, numInputTokens, 7598
I0305 23:26:17.090514       1 tree.go:471] Updated node(0) last access: 124.3946 seconds
I0305 23:26:17.090521       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:17.090524       1 tree.go:471] Updated node(2) last access: 124.3946 seconds
I0305 23:26:17.090537       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:17.090541       1 tree.go:471] Updated node(4) last access: 124.3946 seconds
I0305 23:26:17.090545       1 tree.go:490] Partial tokens match child node(115). Continue to go deeper in the radix tree
I0305 23:26:17.090547       1 tree.go:471] Updated node(115) last access: 124.3946 seconds
I0305 23:26:17.090553       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 23:26:17.090558       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 23:26:17.090568       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:17.090574       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:17.090582       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:17.090560742 +0000 UTC m=+124.512632284]
I0305 23:26:17.090599       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 23:26:17.090608       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 23:26:17.090661       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7481
I0305 23:26:17.090671       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:17.090679       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.090683       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.090687       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.090692       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.090696       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.090716       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:17.090725       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:17.090736       1 prefix_cache_and_load.go:584] latency, Route, 0.0886
I0305 23:26:17.090752       1 gateway.go:415] latency, selectTargetPod, 0.0886, target pod, 10.0.1.20:8000
I0305 23:26:17.090765       1 gateway.go:235] latency, HandleRequestBody, 0.0889
I0305 23:26:17.090788       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0602
I0305 23:26:17.090792       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:17.090795       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:17.090896       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:17.090925       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:17.090930       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:17.109485       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e313f563-ba0a-4df4-8ce6-31cb4648dcd2"
I0305 23:26:17.139569       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 7603
I0305 23:26:17.139585       1 tree.go:471] Updated node(0) last access: 124.4436 seconds
I0305 23:26:17.139591       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:17.139594       1 tree.go:471] Updated node(2) last access: 124.4436 seconds
I0305 23:26:17.139607       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:17.139611       1 tree.go:471] Updated node(19) last access: 124.4437 seconds
I0305 23:26:17.139619       1 tree.go:667] Split complete - New node(224)
I0305 23:26:17.139622       1 tree.go:668] Split complete - Child node(190)
I0305 23:26:17.139628       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0305 23:26:17.139634       1 tree.go:471] Updated node(224) last access: 124.4437 seconds
I0305 23:26:17.139641       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:17.139647       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 23:26:17.139654       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 23:26:17.139662       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:17.139669       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:17.139649282 +0000 UTC m=+124.561720816]
I0305 23:26:17.139685       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7485, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:17.139694       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:17.139763       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7485
I0305 23:26:17.139776       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:17.139789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.139797       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.139806       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.139817       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.139823       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.139834       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:17.139852       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:17.139860       1 prefix_cache_and_load.go:584] latency, Route, 0.1092
I0305 23:26:17.139868       1 gateway.go:415] latency, selectTargetPod, 0.1093, target pod, 10.0.0.4:8000
I0305 23:26:17.139877       1 gateway.go:235] latency, HandleRequestBody, 0.1096
I0305 23:26:17.153492       1 gateway.go:608] "First token received" requestID="e313f563-ba0a-4df4-8ce6-31cb4648dcd2" ttft_ms=151
I0305 23:26:17.159182       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bdac655c-c320-4fab-afcb-adcee4fb4710"
I0305 23:26:17.172693       1 gateway.go:562] latency, 0.0001, summary, hash(request), d61034cc, selectedpod, 10.0.3.13:8000, ttft, 104, tpot, 19, e2e, 278, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:17.172717       1 gateway.go:748] "Request completed" requestID="dff9a773-d68d-4ccb-914e-6fecc1736401" targetPod="10.0.3.13:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:17.172731       1 gateway.go:764] "HandleResponseBody completed" requestID="dff9a773-d68d-4ccb-914e-6fecc1736401" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:17.195266       1 gateway.go:608] "First token received" requestID="bdac655c-c320-4fab-afcb-adcee4fb4710" ttft_ms=164
I0305 23:26:17.195878       1 gateway.go:207] "Processing request" requestID="c531c6df-46c2-4489-b033-8da7c6fe20a1"
I0305 23:26:17.195912       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c531c6df-46c2-4489-b033-8da7c6fe20a1"
I0305 23:26:17.195923       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:17.207245       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c531c6df-46c2-4489-b033-8da7c6fe20a1"
I0305 23:26:17.207477       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c531c6df-46c2-4489-b033-8da7c6fe20a1" model="qwen2-5-7b-instruct"
I0305 23:26:17.207558       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:17.207564       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:17.207568       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:17.207704       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:17.207734       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:17.207739       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:17.238660       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2af473e3, selectedpod, 10.0.0.134:8000, ttft, 158, tpot, 19, e2e, 331, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:17.238682       1 gateway.go:748] "Request completed" requestID="9e4d4a27-cc01-4d29-8854-7ef5e15a436b" targetPod="10.0.0.134:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:17.238692       1 gateway.go:764] "HandleResponseBody completed" requestID="9e4d4a27-cc01-4d29-8854-7ef5e15a436b" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:17.260190       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0524, numInputTokens, 7600
I0305 23:26:17.260206       1 tree.go:471] Updated node(0) last access: 124.5643 seconds
I0305 23:26:17.260212       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:17.260215       1 tree.go:471] Updated node(2) last access: 124.5643 seconds
I0305 23:26:17.260229       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:17.260233       1 tree.go:471] Updated node(33) last access: 124.5643 seconds
I0305 23:26:17.260239       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:17.260245       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:17.260252       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:17.260258       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:17.260264       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:17.260247191 +0000 UTC m=+124.682318732]
I0305 23:26:17.260279       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:17.260290       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:17.260341       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7478
I0305 23:26:17.260350       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:17.260358       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.260364       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.260368       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.260373       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.260381       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:17.260390       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:17.260401       1 prefix_cache_and_load.go:584] latency, Route, 0.0528
I0305 23:26:17.260410       1 gateway.go:415] latency, selectTargetPod, 0.0529, target pod, 10.0.3.38:8000
I0305 23:26:17.260421       1 gateway.go:235] latency, HandleRequestBody, 0.0532
I0305 23:26:17.276557       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c531c6df-46c2-4489-b033-8da7c6fe20a1"
I0305 23:26:17.319195       1 gateway.go:608] "First token received" requestID="c531c6df-46c2-4489-b033-8da7c6fe20a1" ttft_ms=111
I0305 23:26:17.327649       1 gateway.go:562] latency, 0.0000, summary, hash(request), d34c5d59, selectedpod, 10.0.1.20:8000, ttft, 151, tpot, 19, e2e, 325, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:17.327671       1 gateway.go:748] "Request completed" requestID="e313f563-ba0a-4df4-8ce6-31cb4648dcd2" targetPod="10.0.1.20:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:17.327684       1 gateway.go:764] "HandleResponseBody completed" requestID="e313f563-ba0a-4df4-8ce6-31cb4648dcd2" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:17.363300       1 gateway.go:207] "Processing request" requestID="1eb94d99-447c-4fc1-87e8-795dc17761e6"
I0305 23:26:17.363330       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1eb94d99-447c-4fc1-87e8-795dc17761e6"
I0305 23:26:17.363339       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:17.368650       1 gateway.go:562] latency, 0.0000, summary, hash(request), b2df60cf, selectedpod, 10.0.0.4:8000, ttft, 164, tpot, 19, e2e, 338, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 23:26:17.368674       1 gateway.go:748] "Request completed" requestID="bdac655c-c320-4fab-afcb-adcee4fb4710" targetPod="10.0.0.4:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 23:26:17.368686       1 gateway.go:764] "HandleResponseBody completed" requestID="bdac655c-c320-4fab-afcb-adcee4fb4710" promptTokens=7622 completionTokens=10 stream=true
I0305 23:26:17.371899       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1eb94d99-447c-4fc1-87e8-795dc17761e6"
I0305 23:26:17.372110       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1eb94d99-447c-4fc1-87e8-795dc17761e6" model="qwen2-5-7b-instruct"
I0305 23:26:17.372195       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:17.372202       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:17.372205       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:17.372341       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:17.372372       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:17.372378       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:17.426712       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0543, numInputTokens, 7597
I0305 23:26:17.426732       1 tree.go:471] Updated node(0) last access: 124.7308 seconds
I0305 23:26:17.426738       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:17.426742       1 tree.go:471] Updated node(2) last access: 124.7308 seconds
I0305 23:26:17.426756       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:17.426760       1 tree.go:471] Updated node(19) last access: 124.7308 seconds
I0305 23:26:17.426769       1 tree.go:667] Split complete - New node(227)
I0305 23:26:17.426774       1 tree.go:668] Split complete - Child node(66)
I0305 23:26:17.426779       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 23:26:17.426784       1 tree.go:471] Updated node(227) last access: 124.7308 seconds
I0305 23:26:17.426789       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:17.426794       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 23:26:17.426800       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:17.426806       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:17.426811       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:17.426796201 +0000 UTC m=+124.848867736]
I0305 23:26:17.426827       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7482, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:17.426833       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:17.426895       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7482
I0305 23:26:17.426907       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:17.426919       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.426929       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.426948       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.426952       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.426958       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.426966       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:17.426974       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:17.426985       1 prefix_cache_and_load.go:584] latency, Route, 0.0548
I0305 23:26:17.426995       1 gateway.go:415] latency, selectTargetPod, 0.0548, target pod, 10.0.0.4:8000
I0305 23:26:17.427005       1 gateway.go:235] latency, HandleRequestBody, 0.0551
I0305 23:26:17.446481       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1eb94d99-447c-4fc1-87e8-795dc17761e6"
I0305 23:26:17.447883       1 gateway.go:207] "Processing request" requestID="21470fcb-2c3f-42d3-a328-2e4db2be0b01"
I0305 23:26:17.447907       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="21470fcb-2c3f-42d3-a328-2e4db2be0b01"
I0305 23:26:17.447915       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:17.464157       1 gateway.go:329] "-- In RequestBody processing ..." requestID="21470fcb-2c3f-42d3-a328-2e4db2be0b01"
I0305 23:26:17.464389       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="21470fcb-2c3f-42d3-a328-2e4db2be0b01" model="qwen2-5-7b-instruct"
I0305 23:26:17.464466       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:17.464473       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:17.464477       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:17.464618       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:17.464648       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:17.464654       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:17.481462       1 gateway.go:608] "First token received" requestID="1eb94d99-447c-4fc1-87e8-795dc17761e6" ttft_ms=109
I0305 23:26:17.492007       1 gateway.go:562] latency, 0.0000, summary, hash(request), 688aa7f1, selectedpod, 10.0.3.38:8000, ttft, 111, tpot, 19, e2e, 284, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:17.492021       1 gateway.go:748] "Request completed" requestID="c531c6df-46c2-4489-b033-8da7c6fe20a1" targetPod="10.0.3.38:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:17.492030       1 gateway.go:764] "HandleResponseBody completed" requestID="c531c6df-46c2-4489-b033-8da7c6fe20a1" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:17.497246       1 gateway.go:207] "Processing request" requestID="b086491f-a31a-4bbe-ad69-aef2b06ecfec"
I0305 23:26:17.497270       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b086491f-a31a-4bbe-ad69-aef2b06ecfec"
I0305 23:26:17.497278       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:17.503794       1 gateway.go:207] "Processing request" requestID="a9c62001-6a1b-4744-8544-0106a5820fe3"
I0305 23:26:17.503818       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a9c62001-6a1b-4744-8544-0106a5820fe3"
I0305 23:26:17.503826       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:17.506127       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b086491f-a31a-4bbe-ad69-aef2b06ecfec"
I0305 23:26:17.506359       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b086491f-a31a-4bbe-ad69-aef2b06ecfec" model="qwen2-5-7b-instruct"
I0305 23:26:17.513484       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a9c62001-6a1b-4744-8544-0106a5820fe3"
I0305 23:26:17.513627       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0490, numInputTokens, 7600
I0305 23:26:17.513646       1 tree.go:471] Updated node(0) last access: 124.8177 seconds
I0305 23:26:17.513653       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:17.513656       1 tree.go:471] Updated node(2) last access: 124.8177 seconds
I0305 23:26:17.513669       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:17.513672       1 tree.go:471] Updated node(38) last access: 124.8177 seconds
I0305 23:26:17.513678       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:17.513684       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:17.513692       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:17.513698       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:17.513704       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a9c62001-6a1b-4744-8544-0106a5820fe3" model="qwen2-5-7b-instruct"
I0305 23:26:17.513704       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:17.513686462 +0000 UTC m=+124.935757997]
I0305 23:26:17.513719       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:17.513726       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:17.513770       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:17.513780       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:17.513788       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.513793       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.513796       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.513799       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.513806       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:17.513816       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:17.513825       1 prefix_cache_and_load.go:584] latency, Route, 0.0494
I0305 23:26:17.513837       1 gateway.go:415] latency, selectTargetPod, 0.0494, target pod, 10.0.0.134:8000
I0305 23:26:17.513846       1 gateway.go:235] latency, HandleRequestBody, 0.0497
I0305 23:26:17.513869       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0074
I0305 23:26:17.513874       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:17.513877       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:17.513969       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:17.514002       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:17.514007       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:17.532879       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="21470fcb-2c3f-42d3-a328-2e4db2be0b01"
I0305 23:26:17.576558       1 gateway.go:608] "First token received" requestID="21470fcb-2c3f-42d3-a328-2e4db2be0b01" ttft_ms=112
I0305 23:26:17.578846       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0648, numInputTokens, 7599
I0305 23:26:17.578863       1 tree.go:471] Updated node(0) last access: 124.8829 seconds
I0305 23:26:17.578869       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:17.578874       1 tree.go:471] Updated node(2) last access: 124.8829 seconds
I0305 23:26:17.578887       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:17.578891       1 tree.go:471] Updated node(19) last access: 124.8829 seconds
I0305 23:26:17.578894       1 tree.go:490] Partial tokens match child node(100). Continue to go deeper in the radix tree
I0305 23:26:17.578896       1 tree.go:471] Updated node(100) last access: 124.8830 seconds
I0305 23:26:17.578908       1 tree.go:667] Split complete - New node(230)
I0305 23:26:17.578912       1 tree.go:668] Split complete - Child node(28)
I0305 23:26:17.578917       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 23:26:17.578921       1 tree.go:471] Updated node(230) last access: 124.8830 seconds
I0305 23:26:17.578925       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:17.578930       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:17.578944       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:17.578952       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:17.578956       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:17.578932346 +0000 UTC m=+125.001003881]
I0305 23:26:17.578981       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:17.578988       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:17.579071       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7483
I0305 23:26:17.579087       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:17.579098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.579107       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.579118       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.579123       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.579131       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.579137       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.579145       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:17.579154       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:17.579167       1 prefix_cache_and_load.go:584] latency, Route, 0.0727
I0305 23:26:17.579179       1 gateway.go:415] latency, selectTargetPod, 0.0727, target pod, 10.0.0.4:8000
I0305 23:26:17.579189       1 gateway.go:235] latency, HandleRequestBody, 0.0731
I0305 23:26:17.579220       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0654
I0305 23:26:17.579224       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:17.579227       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:17.579313       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:17.579342       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:17.579347       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:17.599432       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b086491f-a31a-4bbe-ad69-aef2b06ecfec"
I0305 23:26:17.627510       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 7601
I0305 23:26:17.627525       1 tree.go:471] Updated node(0) last access: 124.9316 seconds
I0305 23:26:17.627531       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:17.627534       1 tree.go:471] Updated node(2) last access: 124.9316 seconds
I0305 23:26:17.627545       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:17.627550       1 tree.go:471] Updated node(4) last access: 124.9316 seconds
I0305 23:26:17.627559       1 tree.go:667] Split complete - New node(232)
I0305 23:26:17.627564       1 tree.go:668] Split complete - Child node(185)
I0305 23:26:17.627568       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 23:26:17.627574       1 tree.go:471] Updated node(232) last access: 124.9316 seconds
I0305 23:26:17.627579       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 23:26:17.627583       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:17.627590       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:17.627602       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:17.627607       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:17.627585731 +0000 UTC m=+125.049657265]
I0305 23:26:17.627619       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7489, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 23:26:17.627626       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 23:26:17.627687       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7489
I0305 23:26:17.627696       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:17.627706       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.627712       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.627715       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.627719       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.627722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.627730       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:17.627739       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:17.627748       1 prefix_cache_and_load.go:584] latency, Route, 0.1140
I0305 23:26:17.627757       1 gateway.go:415] latency, selectTargetPod, 0.1140, target pod, 10.0.1.20:8000
I0305 23:26:17.627767       1 gateway.go:235] latency, HandleRequestBody, 0.1143
I0305 23:26:17.633695       1 gateway.go:207] "Processing request" requestID="5f7a4a73-3888-4cf3-8ae2-453c4432136d"
I0305 23:26:17.633721       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5f7a4a73-3888-4cf3-8ae2-453c4432136d"
I0305 23:26:17.633730       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:17.642186       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5f7a4a73-3888-4cf3-8ae2-453c4432136d"
I0305 23:26:17.642483       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5f7a4a73-3888-4cf3-8ae2-453c4432136d" model="qwen2-5-7b-instruct"
I0305 23:26:17.642579       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:17.642587       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:17.642591       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:17.642740       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:17.642769       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:17.642774       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:17.646385       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a9c62001-6a1b-4744-8544-0106a5820fe3"
I0305 23:26:17.655900       1 gateway.go:608] "First token received" requestID="b086491f-a31a-4bbe-ad69-aef2b06ecfec" ttft_ms=149
I0305 23:26:17.682272       1 gateway.go:608] "First token received" requestID="a9c62001-6a1b-4744-8544-0106a5820fe3" ttft_ms=168
I0305 23:26:17.682781       1 gateway.go:207] "Processing request" requestID="f20630c5-be1b-4da3-bf3f-8e627e58d15e"
I0305 23:26:17.682808       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f20630c5-be1b-4da3-bf3f-8e627e58d15e"
I0305 23:26:17.682816       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:17.693647       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0509, numInputTokens, 7601
I0305 23:26:17.693665       1 tree.go:471] Updated node(0) last access: 124.9977 seconds
I0305 23:26:17.693671       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:17.693675       1 tree.go:471] Updated node(2) last access: 124.9977 seconds
I0305 23:26:17.693687       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:17.693704       1 tree.go:471] Updated node(19) last access: 124.9977 seconds
I0305 23:26:17.693709       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 23:26:17.693712       1 tree.go:471] Updated node(85) last access: 124.9978 seconds
I0305 23:26:17.693725       1 tree.go:667] Split complete - New node(234)
I0305 23:26:17.693729       1 tree.go:668] Split complete - Child node(20)
I0305 23:26:17.693736       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 23:26:17.693743       1 tree.go:471] Updated node(234) last access: 124.9978 seconds
I0305 23:26:17.693749       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 23:26:17.693754       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:17.693761       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:17.693768       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:17.693773       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:17.693756706 +0000 UTC m=+125.115828241]
I0305 23:26:17.693789       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7490, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 23:26:17.693798       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 23:26:17.693854       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7490
I0305 23:26:17.693863       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:17.693871       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.693878       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.693883       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.693887       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.693894       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.693903       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.693912       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:17.693921       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:17.693931       1 prefix_cache_and_load.go:584] latency, Route, 0.0514
I0305 23:26:17.693948       1 gateway.go:415] latency, selectTargetPod, 0.0514, target pod, 10.0.0.4:8000
I0305 23:26:17.693959       1 gateway.go:235] latency, HandleRequestBody, 0.0518
I0305 23:26:17.694556       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f20630c5-be1b-4da3-bf3f-8e627e58d15e"
I0305 23:26:17.694785       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f20630c5-be1b-4da3-bf3f-8e627e58d15e" model="qwen2-5-7b-instruct"
I0305 23:26:17.694863       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:17.694870       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:17.694873       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:17.695024       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:17.695054       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:17.695059       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:17.696968       1 gateway.go:562] latency, 0.0000, summary, hash(request), e0a21ebb, selectedpod, 10.0.0.4:8000, ttft, 109, tpot, 23, e2e, 325, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:17.696989       1 gateway.go:748] "Request completed" requestID="1eb94d99-447c-4fc1-87e8-795dc17761e6" targetPod="10.0.0.4:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:17.697001       1 gateway.go:764] "HandleResponseBody completed" requestID="1eb94d99-447c-4fc1-87e8-795dc17761e6" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:17.712385       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5f7a4a73-3888-4cf3-8ae2-453c4432136d"
I0305 23:26:17.749279       1 gateway.go:608] "First token received" requestID="5f7a4a73-3888-4cf3-8ae2-453c4432136d" ttft_ms=107
I0305 23:26:17.749332       1 gateway.go:562] latency, 0.0000, summary, hash(request), cf0c998f, selectedpod, 10.0.0.134:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:17.749352       1 gateway.go:748] "Request completed" requestID="21470fcb-2c3f-42d3-a328-2e4db2be0b01" targetPod="10.0.0.134:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:17.749362       1 gateway.go:764] "HandleResponseBody completed" requestID="21470fcb-2c3f-42d3-a328-2e4db2be0b01" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:17.786877       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0918, numInputTokens, 7599
I0305 23:26:17.786893       1 tree.go:471] Updated node(0) last access: 125.0909 seconds
I0305 23:26:17.786899       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:17.786902       1 tree.go:471] Updated node(2) last access: 125.0910 seconds
I0305 23:26:17.786916       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:17.786920       1 tree.go:471] Updated node(29) last access: 125.0910 seconds
I0305 23:26:17.786923       1 tree.go:490] Partial tokens match child node(173). Continue to go deeper in the radix tree
I0305 23:26:17.786925       1 tree.go:471] Updated node(173) last access: 125.0910 seconds
I0305 23:26:17.786932       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:17.786943       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:17.786950       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:17.786957       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:17.786962       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:17.786945555 +0000 UTC m=+125.209017099]
I0305 23:26:17.786976       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:17.786984       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:17.787031       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7483
I0305 23:26:17.787039       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:17.787048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.787054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.787059       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.787063       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.787068       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.787077       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:17.787086       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:17.787094       1 prefix_cache_and_load.go:584] latency, Route, 0.0922
I0305 23:26:17.787107       1 gateway.go:415] latency, selectTargetPod, 0.0922, target pod, 10.0.0.134:8000
I0305 23:26:17.787116       1 gateway.go:235] latency, HandleRequestBody, 0.0926
I0305 23:26:17.805182       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f20630c5-be1b-4da3-bf3f-8e627e58d15e"
I0305 23:26:17.812851       1 gateway.go:207] "Processing request" requestID="676a5d88-2390-4d7c-a15f-dbda8617c460"
I0305 23:26:17.812878       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="676a5d88-2390-4d7c-a15f-dbda8617c460"
I0305 23:26:17.812885       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:17.823203       1 gateway.go:329] "-- In RequestBody processing ..." requestID="676a5d88-2390-4d7c-a15f-dbda8617c460"
I0305 23:26:17.823464       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="676a5d88-2390-4d7c-a15f-dbda8617c460" model="qwen2-5-7b-instruct"
I0305 23:26:17.823587       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:17.823594       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:17.823597       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:17.823720       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:17.823761       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:17.823767       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:17.849149       1 gateway.go:608] "First token received" requestID="f20630c5-be1b-4da3-bf3f-8e627e58d15e" ttft_ms=154
I0305 23:26:17.854905       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6cad6d6c, selectedpod, 10.0.1.20:8000, ttft, 168, tpot, 19, e2e, 341, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:17.854926       1 gateway.go:748] "Request completed" requestID="a9c62001-6a1b-4744-8544-0106a5820fe3" targetPod="10.0.1.20:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:17.854950       1 gateway.go:764] "HandleResponseBody completed" requestID="a9c62001-6a1b-4744-8544-0106a5820fe3" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:17.870167       1 gateway.go:562] latency, 0.0000, summary, hash(request), bef21ae0, selectedpod, 10.0.0.4:8000, ttft, 149, tpot, 23, e2e, 363, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:17.870192       1 gateway.go:748] "Request completed" requestID="b086491f-a31a-4bbe-ad69-aef2b06ecfec" targetPod="10.0.0.4:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:17.870208       1 gateway.go:764] "HandleResponseBody completed" requestID="b086491f-a31a-4bbe-ad69-aef2b06ecfec" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:17.875088       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0513, numInputTokens, 7600
I0305 23:26:17.875107       1 tree.go:471] Updated node(0) last access: 125.1792 seconds
I0305 23:26:17.875113       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:17.875116       1 tree.go:471] Updated node(2) last access: 125.1792 seconds
I0305 23:26:17.875129       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:17.875133       1 tree.go:471] Updated node(11) last access: 125.1792 seconds
I0305 23:26:17.875139       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:17.875144       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:17.875150       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:17.875157       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:17.875162       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:17.875146088 +0000 UTC m=+125.297217622]
I0305 23:26:17.875178       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:17.875189       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:17.875256       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7478
I0305 23:26:17.875270       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:17.875282       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.875290       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.875299       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.875307       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:17.875319       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:17.875331       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:17.875344       1 prefix_cache_and_load.go:584] latency, Route, 0.0518
I0305 23:26:17.875354       1 gateway.go:415] latency, selectTargetPod, 0.0518, target pod, 10.0.1.25:8000
I0305 23:26:17.875365       1 gateway.go:235] latency, HandleRequestBody, 0.0522
I0305 23:26:17.895239       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="676a5d88-2390-4d7c-a15f-dbda8617c460"
I0305 23:26:17.928796       1 gateway.go:562] latency, 0.0000, summary, hash(request), dbbee7c2, selectedpod, 10.0.0.4:8000, ttft, 107, tpot, 19, e2e, 286, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:17.928816       1 gateway.go:748] "Request completed" requestID="5f7a4a73-3888-4cf3-8ae2-453c4432136d" targetPod="10.0.0.4:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:17.928831       1 gateway.go:764] "HandleResponseBody completed" requestID="5f7a4a73-3888-4cf3-8ae2-453c4432136d" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:17.939221       1 gateway.go:608] "First token received" requestID="676a5d88-2390-4d7c-a15f-dbda8617c460" ttft_ms=115
I0305 23:26:18.015171       1 gateway.go:207] "Processing request" requestID="c32c0306-45e6-40ae-97d2-bbba50dc5dbc"
I0305 23:26:18.015196       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c32c0306-45e6-40ae-97d2-bbba50dc5dbc"
I0305 23:26:18.015204       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:18.022872       1 gateway.go:562] latency, 0.0000, summary, hash(request), bdbf9111, selectedpod, 10.0.0.134:8000, ttft, 154, tpot, 19, e2e, 328, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:18.022890       1 gateway.go:748] "Request completed" requestID="f20630c5-be1b-4da3-bf3f-8e627e58d15e" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:18.022900       1 gateway.go:764] "HandleResponseBody completed" requestID="f20630c5-be1b-4da3-bf3f-8e627e58d15e" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:18.027480       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c32c0306-45e6-40ae-97d2-bbba50dc5dbc"
I0305 23:26:18.027726       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c32c0306-45e6-40ae-97d2-bbba50dc5dbc" model="qwen2-5-7b-instruct"
I0305 23:26:18.027810       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:18.027816       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:18.027820       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:18.027974       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:18.028016       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:18.028024       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:18.077097       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 7599
I0305 23:26:18.077116       1 tree.go:471] Updated node(0) last access: 125.3812 seconds
I0305 23:26:18.077122       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:18.077126       1 tree.go:471] Updated node(2) last access: 125.3812 seconds
I0305 23:26:18.077138       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:18.077143       1 tree.go:471] Updated node(23) last access: 125.3812 seconds
I0305 23:26:18.077152       1 tree.go:667] Split complete - New node(238)
I0305 23:26:18.077155       1 tree.go:668] Split complete - Child node(24)
I0305 23:26:18.077160       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 23:26:18.077167       1 tree.go:471] Updated node(238) last access: 125.3812 seconds
I0305 23:26:18.077174       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 23:26:18.077181       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:18.077189       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:18.077198       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:18.077207       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:18.077183995 +0000 UTC m=+125.499255543]
I0305 23:26:18.077222       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7480, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 23:26:18.077228       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 23:26:18.077279       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7480
I0305 23:26:18.077288       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:18.077296       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.077302       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.077306       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.077312       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.077318       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.077326       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:18.077335       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:18.077344       1 prefix_cache_and_load.go:584] latency, Route, 0.0495
I0305 23:26:18.077353       1 gateway.go:415] latency, selectTargetPod, 0.0495, target pod, 10.0.3.13:8000
I0305 23:26:18.077363       1 gateway.go:235] latency, HandleRequestBody, 0.0499
I0305 23:26:18.094640       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c32c0306-45e6-40ae-97d2-bbba50dc5dbc"
I0305 23:26:18.112067       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3898c26d, selectedpod, 10.0.1.25:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:18.112087       1 gateway.go:748] "Request completed" requestID="676a5d88-2390-4d7c-a15f-dbda8617c460" targetPod="10.0.1.25:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:18.112097       1 gateway.go:764] "HandleResponseBody completed" requestID="676a5d88-2390-4d7c-a15f-dbda8617c460" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:18.138731       1 gateway.go:608] "First token received" requestID="c32c0306-45e6-40ae-97d2-bbba50dc5dbc" ttft_ms=111
I0305 23:26:18.311430       1 gateway.go:562] latency, 0.0000, summary, hash(request), 867a3881, selectedpod, 10.0.3.13:8000, ttft, 111, tpot, 19, e2e, 283, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:18.311458       1 gateway.go:748] "Request completed" requestID="c32c0306-45e6-40ae-97d2-bbba50dc5dbc" targetPod="10.0.3.13:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:18.311470       1 gateway.go:764] "HandleResponseBody completed" requestID="c32c0306-45e6-40ae-97d2-bbba50dc5dbc" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:18.386993       1 gateway.go:207] "Processing request" requestID="7ae44440-f784-48fa-94c9-63238974cf62"
I0305 23:26:18.387021       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7ae44440-f784-48fa-94c9-63238974cf62"
I0305 23:26:18.387030       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:18.397839       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7ae44440-f784-48fa-94c9-63238974cf62"
I0305 23:26:18.398087       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7ae44440-f784-48fa-94c9-63238974cf62" model="qwen2-5-7b-instruct"
I0305 23:26:18.398173       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:18.398180       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:18.398183       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:18.398329       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:18.398378       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:18.398385       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:18.451471       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0531, numInputTokens, 7602
I0305 23:26:18.451491       1 tree.go:471] Updated node(0) last access: 125.7555 seconds
I0305 23:26:18.451497       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:18.451500       1 tree.go:471] Updated node(2) last access: 125.7556 seconds
I0305 23:26:18.451513       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:18.451518       1 tree.go:471] Updated node(38) last access: 125.7556 seconds
I0305 23:26:18.451523       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 23:26:18.451528       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 23:26:18.451535       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:18.451542       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:18.451547       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:18.451530451 +0000 UTC m=+125.873601986]
I0305 23:26:18.451561       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 23:26:18.451568       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 23:26:18.451617       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:18.451625       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:18.451632       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.451637       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.451641       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.451647       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.451654       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:18.451664       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:18.451673       1 prefix_cache_and_load.go:584] latency, Route, 0.0535
I0305 23:26:18.451734       1 gateway.go:415] latency, selectTargetPod, 0.0536, target pod, 10.0.0.134:8000
I0305 23:26:18.451744       1 gateway.go:235] latency, HandleRequestBody, 0.0539
I0305 23:26:18.469645       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7ae44440-f784-48fa-94c9-63238974cf62"
I0305 23:26:18.513135       1 gateway.go:608] "First token received" requestID="7ae44440-f784-48fa-94c9-63238974cf62" ttft_ms=115
I0305 23:26:18.580323       1 gateway.go:207] "Processing request" requestID="b03fb037-d818-423e-b412-97e05a700e10"
I0305 23:26:18.580347       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b03fb037-d818-423e-b412-97e05a700e10"
I0305 23:26:18.580356       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:18.586342       1 gateway.go:207] "Processing request" requestID="413f54ab-dbc0-4cd8-844e-de68e88f82f9"
I0305 23:26:18.586381       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="413f54ab-dbc0-4cd8-844e-de68e88f82f9"
I0305 23:26:18.586392       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:18.594558       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b03fb037-d818-423e-b412-97e05a700e10"
I0305 23:26:18.594805       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b03fb037-d818-423e-b412-97e05a700e10" model="qwen2-5-7b-instruct"
I0305 23:26:18.594896       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:18.594905       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:18.594909       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:18.595076       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:18.595115       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:18.595122       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:18.595182       1 gateway.go:329] "-- In RequestBody processing ..." requestID="413f54ab-dbc0-4cd8-844e-de68e88f82f9"
I0305 23:26:18.595504       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="413f54ab-dbc0-4cd8-844e-de68e88f82f9" model="qwen2-5-7b-instruct"
I0305 23:26:18.625206       1 gateway.go:207] "Processing request" requestID="e53175fd-0f84-4697-a7a2-6df1d783b48d"
I0305 23:26:18.625224       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e53175fd-0f84-4697-a7a2-6df1d783b48d"
I0305 23:26:18.625230       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:18.635704       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e53175fd-0f84-4697-a7a2-6df1d783b48d"
I0305 23:26:18.635918       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e53175fd-0f84-4697-a7a2-6df1d783b48d" model="qwen2-5-7b-instruct"
I0305 23:26:18.648499       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0534, numInputTokens, 7593
I0305 23:26:18.648518       1 tree.go:471] Updated node(0) last access: 125.9526 seconds
I0305 23:26:18.648524       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:18.648527       1 tree.go:471] Updated node(2) last access: 125.9526 seconds
I0305 23:26:18.648539       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:18.648543       1 tree.go:471] Updated node(19) last access: 125.9526 seconds
I0305 23:26:18.648550       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:18.648555       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7593 tokens
I0305 23:26:18.648562       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 23:26:18.648569       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:18.648574       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:18.648557714 +0000 UTC m=+126.070629258]
I0305 23:26:18.648590       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7478, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:18.648597       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:18.648648       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7478
I0305 23:26:18.648657       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:18.648664       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.648671       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.648677       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.648683       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.648691       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:18.648700       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:18.648710       1 prefix_cache_and_load.go:584] latency, Route, 0.0538
I0305 23:26:18.648726       1 gateway.go:415] latency, selectTargetPod, 0.0538, target pod, 10.0.0.4:8000
I0305 23:26:18.648738       1 gateway.go:235] latency, HandleRequestBody, 0.0542
I0305 23:26:18.648743       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0531
I0305 23:26:18.648756       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:18.648762       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:18.649004       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:18.649063       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 23:26:18.649070       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:18.666861       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b03fb037-d818-423e-b412-97e05a700e10"
I0305 23:26:18.686626       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2ac88e96, selectedpod, 10.0.0.134:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:18.686646       1 gateway.go:748] "Request completed" requestID="7ae44440-f784-48fa-94c9-63238974cf62" targetPod="10.0.0.134:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:18.686657       1 gateway.go:764] "HandleResponseBody completed" requestID="7ae44440-f784-48fa-94c9-63238974cf62" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:18.702275       1 gateway.go:608] "First token received" requestID="b03fb037-d818-423e-b412-97e05a700e10" ttft_ms=107
I0305 23:26:18.718397       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0693, numInputTokens, 7599
I0305 23:26:18.718412       1 tree.go:471] Updated node(0) last access: 126.0225 seconds
I0305 23:26:18.718417       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:18.718421       1 tree.go:471] Updated node(2) last access: 126.0225 seconds
I0305 23:26:18.718435       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:18.718440       1 tree.go:471] Updated node(23) last access: 126.0225 seconds
I0305 23:26:18.718451       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 23:26:18.718454       1 tree.go:471] Updated node(219) last access: 126.0225 seconds
I0305 23:26:18.718464       1 tree.go:667] Split complete - New node(242)
I0305 23:26:18.718469       1 tree.go:668] Split complete - Child node(220)
I0305 23:26:18.718473       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:18.718478       1 tree.go:471] Updated node(242) last access: 126.0225 seconds
I0305 23:26:18.718483       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:18.718488       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:18.718495       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:18.718501       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:18.718507       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:18.718490057 +0000 UTC m=+126.140561592]
I0305 23:26:18.718521       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7484, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:18.718529       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:18.718575       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7484
I0305 23:26:18.718584       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:18.718593       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.718599       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.718603       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.718608       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.718611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.718614       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.718621       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:18.718631       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:18.718640       1 prefix_cache_and_load.go:584] latency, Route, 0.1230
I0305 23:26:18.718653       1 gateway.go:415] latency, selectTargetPod, 0.1231, target pod, 10.0.3.13:8000
I0305 23:26:18.718663       1 gateway.go:235] latency, HandleRequestBody, 0.1235
I0305 23:26:18.718690       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0827
I0305 23:26:18.718695       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:18.718697       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:18.718784       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:18.718814       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:18.718818       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:18.735753       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="413f54ab-dbc0-4cd8-844e-de68e88f82f9"
I0305 23:26:18.754667       1 gateway.go:207] "Processing request" requestID="b905942f-6332-45c5-8b2b-8ff67bd832a0"
I0305 23:26:18.754697       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b905942f-6332-45c5-8b2b-8ff67bd832a0"
I0305 23:26:18.754706       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:18.763133       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b905942f-6332-45c5-8b2b-8ff67bd832a0"
I0305 23:26:18.763341       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b905942f-6332-45c5-8b2b-8ff67bd832a0" model="qwen2-5-7b-instruct"
I0305 23:26:18.775780       1 gateway.go:608] "First token received" requestID="413f54ab-dbc0-4cd8-844e-de68e88f82f9" ttft_ms=180
I0305 23:26:18.776005       1 gateway.go:207] "Processing request" requestID="6cb38d00-6827-49df-a7dc-39830684cf80"
I0305 23:26:18.776076       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6cb38d00-6827-49df-a7dc-39830684cf80"
I0305 23:26:18.776093       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:18.780972       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0621, numInputTokens, 7598
I0305 23:26:18.780991       1 tree.go:471] Updated node(0) last access: 126.0850 seconds
I0305 23:26:18.780998       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:18.781001       1 tree.go:471] Updated node(2) last access: 126.0851 seconds
I0305 23:26:18.781014       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:18.781019       1 tree.go:471] Updated node(29) last access: 126.0851 seconds
I0305 23:26:18.781023       1 tree.go:490] Partial tokens match child node(221). Continue to go deeper in the radix tree
I0305 23:26:18.781027       1 tree.go:471] Updated node(221) last access: 126.0851 seconds
I0305 23:26:18.781036       1 tree.go:667] Split complete - New node(244)
I0305 23:26:18.781041       1 tree.go:668] Split complete - Child node(146)
I0305 23:26:18.781046       1 tree.go:501] latency, splitNode, 0.0000 seconds, 109 tokens:
I0305 23:26:18.781051       1 tree.go:471] Updated node(244) last access: 126.0851 seconds
I0305 23:26:18.781055       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 105 tokens:
I0305 23:26:18.781060       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:18.781067       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:18.781072       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:18.781077       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:18.781062508 +0000 UTC m=+126.203134051]
I0305 23:26:18.781093       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7493, Matching ratio: 0.9862, # Matched pods: 0, Matched pods: []
I0305 23:26:18.781101       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9862 > 0.5000)
I0305 23:26:18.781151       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7493
I0305 23:26:18.781160       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:18.781168       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.781173       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.781179       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.781184       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.781191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.781194       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.781203       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:18.781212       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:18.781223       1 prefix_cache_and_load.go:584] latency, Route, 0.1452
I0305 23:26:18.781239       1 gateway.go:415] latency, selectTargetPod, 0.1452, target pod, 10.0.0.134:8000
I0305 23:26:18.781250       1 gateway.go:235] latency, HandleRequestBody, 0.1455
I0305 23:26:18.781298       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0179
I0305 23:26:18.781302       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:18.781314       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:18.781403       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:18.781430       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:18.781435       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:18.787624       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6cb38d00-6827-49df-a7dc-39830684cf80"
I0305 23:26:18.787910       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6cb38d00-6827-49df-a7dc-39830684cf80" model="qwen2-5-7b-instruct"
I0305 23:26:18.799880       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e53175fd-0f84-4697-a7a2-6df1d783b48d"
I0305 23:26:18.829885       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0484, numInputTokens, 7599
I0305 23:26:18.829902       1 tree.go:471] Updated node(0) last access: 126.1340 seconds
I0305 23:26:18.829908       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:18.829912       1 tree.go:471] Updated node(2) last access: 126.1340 seconds
I0305 23:26:18.829927       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:18.829931       1 tree.go:471] Updated node(11) last access: 126.1340 seconds
I0305 23:26:18.829943       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0305 23:26:18.829947       1 tree.go:471] Updated node(40) last access: 126.1340 seconds
I0305 23:26:18.829956       1 tree.go:667] Split complete - New node(246)
I0305 23:26:18.829960       1 tree.go:668] Split complete - Child node(166)
I0305 23:26:18.829965       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:18.829970       1 tree.go:471] Updated node(246) last access: 126.1340 seconds
I0305 23:26:18.829975       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 23:26:18.829980       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:18.829986       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:18.829993       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:18.829997       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:18.82998244 +0000 UTC m=+126.252053974]
I0305 23:26:18.830011       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7487, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 23:26:18.830018       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 23:26:18.830066       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7487
I0305 23:26:18.830075       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:18.830082       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.830087       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.830091       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.830096       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.830098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.830102       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.830110       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:18.830119       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:18.830133       1 prefix_cache_and_load.go:584] latency, Route, 0.0667
I0305 23:26:18.830147       1 gateway.go:415] latency, selectTargetPod, 0.0667, target pod, 10.0.1.25:8000
I0305 23:26:18.830157       1 gateway.go:235] latency, HandleRequestBody, 0.0670
I0305 23:26:18.830160       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0422
I0305 23:26:18.830174       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:18.830179       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:18.830375       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:18.830418       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:18.830426       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:18.835666       1 gateway.go:608] "First token received" requestID="e53175fd-0f84-4697-a7a2-6df1d783b48d" ttft_ms=199
I0305 23:26:18.849697       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b905942f-6332-45c5-8b2b-8ff67bd832a0"
I0305 23:26:18.850631       1 gateway.go:207] "Processing request" requestID="11689266-69f4-4dc3-9728-dbc112c2e470"
I0305 23:26:18.850657       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="11689266-69f4-4dc3-9728-dbc112c2e470"
I0305 23:26:18.850666       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:18.857622       1 gateway.go:207] "Processing request" requestID="9e6286ec-cfcb-40aa-a7e3-54b80222b518"
I0305 23:26:18.857645       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9e6286ec-cfcb-40aa-a7e3-54b80222b518"
I0305 23:26:18.857652       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:18.863174       1 gateway.go:329] "-- In RequestBody processing ..." requestID="11689266-69f4-4dc3-9728-dbc112c2e470"
I0305 23:26:18.863501       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="11689266-69f4-4dc3-9728-dbc112c2e470" model="qwen2-5-7b-instruct"
I0305 23:26:18.875590       1 gateway.go:207] "Processing request" requestID="2582c6f0-d9c2-4864-8c04-e9b9525bf295"
I0305 23:26:18.875624       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2582c6f0-d9c2-4864-8c04-e9b9525bf295"
I0305 23:26:18.875633       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:18.875728       1 gateway.go:562] latency, 0.0000, summary, hash(request), ee618cae, selectedpod, 10.0.0.4:8000, ttft, 107, tpot, 19, e2e, 281, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 23:26:18.875753       1 gateway.go:748] "Request completed" requestID="b03fb037-d818-423e-b412-97e05a700e10" targetPod="10.0.0.4:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 23:26:18.875767       1 gateway.go:764] "HandleResponseBody completed" requestID="b03fb037-d818-423e-b412-97e05a700e10" promptTokens=7612 completionTokens=10 stream=true
I0305 23:26:18.876670       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9e6286ec-cfcb-40aa-a7e3-54b80222b518"
I0305 23:26:18.877039       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9e6286ec-cfcb-40aa-a7e3-54b80222b518" model="qwen2-5-7b-instruct"
I0305 23:26:18.878189       1 gateway.go:207] "Processing request" requestID="3e727815-3a04-4d7f-9904-f263f497e883"
I0305 23:26:18.878214       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3e727815-3a04-4d7f-9904-f263f497e883"
I0305 23:26:18.878226       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:18.885707       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3e727815-3a04-4d7f-9904-f263f497e883"
I0305 23:26:18.886099       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3e727815-3a04-4d7f-9904-f263f497e883" model="qwen2-5-7b-instruct"
I0305 23:26:18.886139       1 gateway.go:608] "First token received" requestID="b905942f-6332-45c5-8b2b-8ff67bd832a0" ttft_ms=122
I0305 23:26:18.886835       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2582c6f0-d9c2-4864-8c04-e9b9525bf295"
I0305 23:26:18.887081       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2582c6f0-d9c2-4864-8c04-e9b9525bf295" model="qwen2-5-7b-instruct"
I0305 23:26:18.911637       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0812, numInputTokens, 7598
I0305 23:26:18.911656       1 tree.go:471] Updated node(0) last access: 126.2157 seconds
I0305 23:26:18.911662       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:18.911665       1 tree.go:471] Updated node(2) last access: 126.2157 seconds
I0305 23:26:18.911677       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:18.911681       1 tree.go:471] Updated node(21) last access: 126.2157 seconds
I0305 23:26:18.911685       1 tree.go:490] Partial tokens match child node(186). Continue to go deeper in the radix tree
I0305 23:26:18.911688       1 tree.go:471] Updated node(186) last access: 126.2157 seconds
I0305 23:26:18.911698       1 tree.go:667] Split complete - New node(248)
I0305 23:26:18.911702       1 tree.go:668] Split complete - Child node(187)
I0305 23:26:18.911708       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 23:26:18.911713       1 tree.go:471] Updated node(248) last access: 126.2158 seconds
I0305 23:26:18.911719       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:18.911724       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:18.911730       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:18.911736       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:18.911741       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:18.911725933 +0000 UTC m=+126.333797468]
I0305 23:26:18.911755       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:18.911763       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:18.911815       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7484
I0305 23:26:18.911824       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:18.911832       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.911838       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.911842       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.911847       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.911850       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.911855       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.911863       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:18.911873       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:18.911883       1 prefix_cache_and_load.go:584] latency, Route, 0.1239
I0305 23:26:18.911898       1 gateway.go:415] latency, selectTargetPod, 0.1239, target pod, 10.0.0.39:8000
I0305 23:26:18.911909       1 gateway.go:235] latency, HandleRequestBody, 0.1243
I0305 23:26:18.911914       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0483
I0305 23:26:18.911928       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:18.911933       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:18.912112       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:18.912146       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:18.912156       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:18.932701       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6cb38d00-6827-49df-a7dc-39830684cf80"
I0305 23:26:18.944414       1 gateway.go:562] latency, 0.0000, summary, hash(request), daf000ab, selectedpod, 10.0.3.13:8000, ttft, 180, tpot, 18, e2e, 349, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:18.944430       1 gateway.go:748] "Request completed" requestID="413f54ab-dbc0-4cd8-844e-de68e88f82f9" targetPod="10.0.3.13:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:18.944439       1 gateway.go:764] "HandleResponseBody completed" requestID="413f54ab-dbc0-4cd8-844e-de68e88f82f9" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:18.971920       1 gateway.go:608] "First token received" requestID="6cb38d00-6827-49df-a7dc-39830684cf80" ttft_ms=184
I0305 23:26:18.999250       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0871, numInputTokens, 7600
I0305 23:26:18.999267       1 tree.go:471] Updated node(0) last access: 126.3033 seconds
I0305 23:26:18.999275       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:18.999279       1 tree.go:471] Updated node(2) last access: 126.3033 seconds
I0305 23:26:18.999294       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:18.999298       1 tree.go:471] Updated node(21) last access: 126.3034 seconds
I0305 23:26:18.999304       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:18.999308       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:18.999314       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:18.999319       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:18.999325       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:18.999310324 +0000 UTC m=+126.421381858]
I0305 23:26:18.999342       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:18.999350       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:18.999407       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7478
I0305 23:26:18.999417       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:18.999426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.999433       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.999436       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.999451       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:18.999462       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:18.999471       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:18.999480       1 prefix_cache_and_load.go:584] latency, Route, 0.1359
I0305 23:26:18.999494       1 gateway.go:415] latency, selectTargetPod, 0.1359, target pod, 10.0.0.39:8000
I0305 23:26:18.999504       1 gateway.go:235] latency, HandleRequestBody, 0.1363
I0305 23:26:18.999506       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1223
I0305 23:26:18.999515       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:18.999520       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:18.999685       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:18.999719       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:18.999725       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.009549       1 gateway.go:562] latency, 0.0000, summary, hash(request), 02edd6c1, selectedpod, 10.0.0.134:8000, ttft, 199, tpot, 19, e2e, 373, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:19.009572       1 gateway.go:748] "Request completed" requestID="e53175fd-0f84-4697-a7a2-6df1d783b48d" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:19.009586       1 gateway.go:764] "HandleResponseBody completed" requestID="e53175fd-0f84-4697-a7a2-6df1d783b48d" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:19.018167       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="11689266-69f4-4dc3-9728-dbc112c2e470"
I0305 23:26:19.035203       1 gateway.go:207] "Processing request" requestID="6d8c702f-ddce-4eb6-af0e-6a411668135c"
I0305 23:26:19.035232       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6d8c702f-ddce-4eb6-af0e-6a411668135c"
I0305 23:26:19.035241       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:19.048929       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6d8c702f-ddce-4eb6-af0e-6a411668135c"
I0305 23:26:19.049961       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6d8c702f-ddce-4eb6-af0e-6a411668135c" model="qwen2-5-7b-instruct"
I0305 23:26:19.051397       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0517, numInputTokens, 7602
I0305 23:26:19.051420       1 tree.go:471] Updated node(0) last access: 126.3555 seconds
I0305 23:26:19.051429       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.051434       1 tree.go:471] Updated node(2) last access: 126.3555 seconds
I0305 23:26:19.051459       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:19.051463       1 tree.go:471] Updated node(46) last access: 126.3555 seconds
I0305 23:26:19.051467       1 tree.go:490] Partial tokens match child node(113). Continue to go deeper in the radix tree
I0305 23:26:19.051470       1 tree.go:471] Updated node(113) last access: 126.3555 seconds
I0305 23:26:19.051483       1 tree.go:667] Split complete - New node(251)
I0305 23:26:19.051488       1 tree.go:668] Split complete - Child node(99)
I0305 23:26:19.051492       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 23:26:19.051502       1 tree.go:471] Updated node(251) last access: 126.3556 seconds
I0305 23:26:19.051509       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:19.051519       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:19.051538       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:19.051546       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:19.051554       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.05152323 +0000 UTC m=+126.473594765]
I0305 23:26:19.051577       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7484, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:19.051588       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:19.051689       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7484
I0305 23:26:19.051702       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.051714       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.051723       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.051731       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.051743       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.051751       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.051758       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.051773       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.051787       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:19.051804       1 prefix_cache_and_load.go:584] latency, Route, 0.1746
I0305 23:26:19.051817       1 gateway.go:415] latency, selectTargetPod, 0.1746, target pod, 10.0.3.13:8000
I0305 23:26:19.051835       1 gateway.go:235] latency, HandleRequestBody, 0.1752
I0305 23:26:19.051877       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1657
I0305 23:26:19.051884       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:19.051888       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:19.052135       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:19.052217       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 23:26:19.052222       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.075699       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9e6286ec-cfcb-40aa-a7e3-54b80222b518"
I0305 23:26:19.075743       1 gateway.go:207] "Processing request" requestID="4350494b-ffc8-48d6-a18f-348cbf6b2c89"
I0305 23:26:19.075769       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4350494b-ffc8-48d6-a18f-348cbf6b2c89"
I0305 23:26:19.075778       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:19.075884       1 gateway.go:608] "First token received" requestID="11689266-69f4-4dc3-9728-dbc112c2e470" ttft_ms=212
I0305 23:26:19.075943       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2bbe411b, selectedpod, 10.0.1.25:8000, ttft, 122, tpot, 21, e2e, 312, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:19.075981       1 gateway.go:748] "Request completed" requestID="b905942f-6332-45c5-8b2b-8ff67bd832a0" targetPod="10.0.1.25:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:19.075994       1 gateway.go:764] "HandleResponseBody completed" requestID="b905942f-6332-45c5-8b2b-8ff67bd832a0" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:19.081213       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4350494b-ffc8-48d6-a18f-348cbf6b2c89"
I0305 23:26:19.081459       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4350494b-ffc8-48d6-a18f-348cbf6b2c89" model="qwen2-5-7b-instruct"
I0305 23:26:19.104021       1 gateway.go:608] "First token received" requestID="9e6286ec-cfcb-40aa-a7e3-54b80222b518" ttft_ms=227
I0305 23:26:19.107120       1 gateway.go:207] "Processing request" requestID="d590c6f6-fadb-4c9c-8dd4-7ee542fab02d"
I0305 23:26:19.107137       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d590c6f6-fadb-4c9c-8dd4-7ee542fab02d"
I0305 23:26:19.107145       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:19.115655       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d590c6f6-fadb-4c9c-8dd4-7ee542fab02d"
I0305 23:26:19.115866       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d590c6f6-fadb-4c9c-8dd4-7ee542fab02d" model="qwen2-5-7b-instruct"
I0305 23:26:19.124084       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0719, numInputTokens, 7596
I0305 23:26:19.124101       1 tree.go:471] Updated node(0) last access: 126.4282 seconds
I0305 23:26:19.124107       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.124111       1 tree.go:471] Updated node(2) last access: 126.4282 seconds
I0305 23:26:19.124126       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:19.124131       1 tree.go:471] Updated node(17) last access: 126.4282 seconds
I0305 23:26:19.124140       1 tree.go:667] Split complete - New node(253)
I0305 23:26:19.124145       1 tree.go:668] Split complete - Child node(129)
I0305 23:26:19.124149       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:19.124154       1 tree.go:471] Updated node(253) last access: 126.4282 seconds
I0305 23:26:19.124159       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 23:26:19.124164       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 23:26:19.124170       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:19.124176       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:19.124181       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.124166454 +0000 UTC m=+126.546237989]
I0305 23:26:19.124195       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7487, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 23:26:19.124203       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 23:26:19.124259       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7487
I0305 23:26:19.124268       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.124276       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.124281       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.124293       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.124299       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.124304       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.124313       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.124322       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:19.124332       1 prefix_cache_and_load.go:584] latency, Route, 0.2381
I0305 23:26:19.124348       1 gateway.go:415] latency, selectTargetPod, 0.2381, target pod, 10.0.1.53:8000
I0305 23:26:19.124357       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2372
I0305 23:26:19.124360       1 gateway.go:235] latency, HandleRequestBody, 0.2387
I0305 23:26:19.124362       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:19.124366       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:19.124522       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:19.124555       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:19.124562       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.144458       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3e727815-3a04-4d7f-9904-f263f497e883"
I0305 23:26:19.180966       1 gateway.go:608] "First token received" requestID="3e727815-3a04-4d7f-9904-f263f497e883" ttft_ms=295
I0305 23:26:19.182300       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0577, numInputTokens, 7594
I0305 23:26:19.182356       1 tree.go:471] Updated node(0) last access: 126.4864 seconds
I0305 23:26:19.182375       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.182390       1 tree.go:471] Updated node(2) last access: 126.4864 seconds
I0305 23:26:19.182417       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:19.182423       1 tree.go:471] Updated node(17) last access: 126.4865 seconds
I0305 23:26:19.182429       1 tree.go:490] Partial tokens match child node(130). Continue to go deeper in the radix tree
I0305 23:26:19.182433       1 tree.go:471] Updated node(130) last access: 126.4865 seconds
I0305 23:26:19.182463       1 tree.go:667] Split complete - New node(255)
I0305 23:26:19.182481       1 tree.go:668] Split complete - Child node(123)
I0305 23:26:19.182487       1 tree.go:501] latency, splitNode, 0.0000 seconds, 114 tokens:
I0305 23:26:19.182491       1 tree.go:471] Updated node(255) last access: 126.4865 seconds
I0305 23:26:19.182496       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 23:26:19.182500       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 23:26:19.182507       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 23:26:19.182512       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 23:26:19.182517       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.182502252 +0000 UTC m=+126.604573787]
I0305 23:26:19.182537       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7483, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 23:26:19.182545       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 23:26:19.182632       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7483
I0305 23:26:19.182644       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.182652       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.182659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.182664       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.182670       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.182675       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.182682       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.182690       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.182698       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:19.182711       1 prefix_cache_and_load.go:584] latency, Route, 0.2956
I0305 23:26:19.182724       1 gateway.go:415] latency, selectTargetPod, 0.2956, target pod, 10.0.1.53:8000
I0305 23:26:19.182748       1 gateway.go:235] latency, HandleRequestBody, 0.2959
I0305 23:26:19.182768       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1327
I0305 23:26:19.182771       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:19.182775       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:19.183032       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:19.183142       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 23:26:19.183150       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.187570       1 gateway.go:562] latency, 0.0001, summary, hash(request), 28034c92, selectedpod, 10.0.0.39:8000, ttft, 184, tpot, 23, e2e, 399, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:19.187592       1 gateway.go:748] "Request completed" requestID="6cb38d00-6827-49df-a7dc-39830684cf80" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:19.187606       1 gateway.go:764] "HandleResponseBody completed" requestID="6cb38d00-6827-49df-a7dc-39830684cf80" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:19.203226       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2582c6f0-d9c2-4864-8c04-e9b9525bf295"
I0305 23:26:19.236827       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0537, numInputTokens, 7593
I0305 23:26:19.236845       1 tree.go:471] Updated node(0) last access: 126.5409 seconds
I0305 23:26:19.236851       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.236854       1 tree.go:471] Updated node(2) last access: 126.5409 seconds
I0305 23:26:19.236870       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:19.236873       1 tree.go:471] Updated node(33) last access: 126.5409 seconds
I0305 23:26:19.236876       1 tree.go:490] Partial tokens match child node(177). Continue to go deeper in the radix tree
I0305 23:26:19.236878       1 tree.go:471] Updated node(177) last access: 126.5409 seconds
I0305 23:26:19.236888       1 tree.go:667] Split complete - New node(257)
I0305 23:26:19.236891       1 tree.go:668] Split complete - Child node(178)
I0305 23:26:19.236896       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 23:26:19.236900       1 tree.go:471] Updated node(257) last access: 126.5410 seconds
I0305 23:26:19.236905       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 23:26:19.236908       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7593 tokens
I0305 23:26:19.236914       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 23:26:19.236921       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:19.236925       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.236910196 +0000 UTC m=+126.658981730]
I0305 23:26:19.236944       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7483, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 23:26:19.236951       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 23:26:19.237002       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7483
I0305 23:26:19.237011       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.237020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.237025       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.237030       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.237034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.237038       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.237044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.237051       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.237061       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:19.237072       1 prefix_cache_and_load.go:584] latency, Route, 0.1870
I0305 23:26:19.237086       1 gateway.go:415] latency, selectTargetPod, 0.1870, target pod, 10.0.3.38:8000
I0305 23:26:19.237095       1 gateway.go:235] latency, HandleRequestBody, 0.1882
I0305 23:26:19.237131       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1556
I0305 23:26:19.237148       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:19.237153       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:19.237328       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:19.237373       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:19.237381       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.246383       1 gateway.go:562] latency, 0.0000, summary, hash(request), da5b7be7, selectedpod, 10.0.0.39:8000, ttft, 212, tpot, 18, e2e, 383, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:19.246402       1 gateway.go:748] "Request completed" requestID="11689266-69f4-4dc3-9728-dbc112c2e470" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:19.246415       1 gateway.go:764] "HandleResponseBody completed" requestID="11689266-69f4-4dc3-9728-dbc112c2e470" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:19.252692       1 gateway.go:608] "First token received" requestID="2582c6f0-d9c2-4864-8c04-e9b9525bf295" ttft_ms=365
I0305 23:26:19.253714       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6d8c702f-ddce-4eb6-af0e-6a411668135c"
I0305 23:26:19.277265       1 gateway.go:562] latency, 0.0000, summary, hash(request), 053baff8, selectedpod, 10.0.3.13:8000, ttft, 227, tpot, 19, e2e, 400, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:19.277284       1 gateway.go:748] "Request completed" requestID="9e6286ec-cfcb-40aa-a7e3-54b80222b518" targetPod="10.0.3.13:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:19.277296       1 gateway.go:764] "HandleResponseBody completed" requestID="9e6286ec-cfcb-40aa-a7e3-54b80222b518" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:19.289778       1 gateway.go:608] "First token received" requestID="6d8c702f-ddce-4eb6-af0e-6a411668135c" ttft_ms=240
I0305 23:26:19.311130       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0737, numInputTokens, 7600
I0305 23:26:19.311147       1 tree.go:471] Updated node(0) last access: 126.6152 seconds
I0305 23:26:19.311154       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.311158       1 tree.go:471] Updated node(2) last access: 126.6152 seconds
I0305 23:26:19.311175       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:19.311179       1 tree.go:471] Updated node(46) last access: 126.6152 seconds
I0305 23:26:19.311184       1 tree.go:490] Partial tokens match child node(113). Continue to go deeper in the radix tree
I0305 23:26:19.311188       1 tree.go:471] Updated node(113) last access: 126.6152 seconds
I0305 23:26:19.311201       1 tree.go:667] Split complete - New node(259)
I0305 23:26:19.311205       1 tree.go:668] Split complete - Child node(122)
I0305 23:26:19.311228       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 23:26:19.311233       1 tree.go:471] Updated node(259) last access: 126.6153 seconds
I0305 23:26:19.311240       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:19.311244       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:19.311252       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:19.311259       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:19.311267       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.311247292 +0000 UTC m=+126.733318829]
I0305 23:26:19.311283       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:19.311291       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:19.311341       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7484
I0305 23:26:19.311351       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.311358       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.311365       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.311371       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.311374       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.311380       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.311384       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.311393       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.311400       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:19.311409       1 prefix_cache_and_load.go:584] latency, Route, 0.2299
I0305 23:26:19.311421       1 gateway.go:415] latency, selectTargetPod, 0.2299, target pod, 10.0.3.13:8000
I0305 23:26:19.311429       1 gateway.go:235] latency, HandleRequestBody, 0.2302
I0305 23:26:19.311463       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1955
I0305 23:26:19.311473       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:19.311476       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:19.311624       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:19.311664       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:19.311669       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.327477       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4350494b-ffc8-48d6-a18f-348cbf6b2c89"
I0305 23:26:19.362674       1 gateway.go:608] "First token received" requestID="4350494b-ffc8-48d6-a18f-348cbf6b2c89" ttft_ms=281
I0305 23:26:19.366453       1 gateway.go:207] "Processing request" requestID="1adb7b44-2a51-4dac-8f1d-9f9205efae07"
I0305 23:26:19.366480       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1adb7b44-2a51-4dac-8f1d-9f9205efae07"
I0305 23:26:19.366487       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:19.378153       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1adb7b44-2a51-4dac-8f1d-9f9205efae07"
I0305 23:26:19.378367       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1adb7b44-2a51-4dac-8f1d-9f9205efae07" model="qwen2-5-7b-instruct"
I0305 23:26:19.390173       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0785, numInputTokens, 7601
I0305 23:26:19.390192       1 tree.go:471] Updated node(0) last access: 126.6942 seconds
I0305 23:26:19.390198       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.390202       1 tree.go:471] Updated node(2) last access: 126.6943 seconds
I0305 23:26:19.390217       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:19.390221       1 tree.go:471] Updated node(11) last access: 126.6943 seconds
I0305 23:26:19.390226       1 tree.go:490] Partial tokens match child node(50). Continue to go deeper in the radix tree
I0305 23:26:19.390228       1 tree.go:471] Updated node(50) last access: 126.6943 seconds
I0305 23:26:19.390238       1 tree.go:667] Split complete - New node(261)
I0305 23:26:19.390242       1 tree.go:668] Split complete - Child node(6)
I0305 23:26:19.390247       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 23:26:19.390252       1 tree.go:471] Updated node(261) last access: 126.6943 seconds
I0305 23:26:19.390257       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 23:26:19.390262       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:19.390268       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:19.390274       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:19.390280       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.390264124 +0000 UTC m=+126.812335658]
I0305 23:26:19.390295       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7491, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 23:26:19.390302       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 23:26:19.390356       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7491
I0305 23:26:19.390365       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.390372       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.390377       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.390381       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.390385       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.390390       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.390395       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.390403       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.390412       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:19.390424       1 prefix_cache_and_load.go:584] latency, Route, 0.2745
I0305 23:26:19.390439       1 gateway.go:415] latency, selectTargetPod, 0.2745, target pod, 10.0.1.25:8000
I0305 23:26:19.390458       1 gateway.go:235] latency, HandleRequestBody, 0.2748
I0305 23:26:19.390485       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0120
I0305 23:26:19.390490       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:19.390493       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:19.390593       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:19.390622       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:19.390627       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.393906       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5fed9d4a, selectedpod, 10.0.1.53:8000, ttft, 295, tpot, 23, e2e, 508, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:19.393925       1 gateway.go:748] "Request completed" requestID="3e727815-3a04-4d7f-9904-f263f497e883" targetPod="10.0.1.53:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:19.393943       1 gateway.go:764] "HandleResponseBody completed" requestID="3e727815-3a04-4d7f-9904-f263f497e883" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:19.409864       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d590c6f6-fadb-4c9c-8dd4-7ee542fab02d"
I0305 23:26:19.433532       1 gateway.go:562] latency, 0.0000, summary, hash(request), 28d78b9d, selectedpod, 10.0.1.53:8000, ttft, 365, tpot, 20, e2e, 546, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 23:26:19.433556       1 gateway.go:748] "Request completed" requestID="2582c6f0-d9c2-4864-8c04-e9b9525bf295" targetPod="10.0.1.53:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 23:26:19.433571       1 gateway.go:764] "HandleResponseBody completed" requestID="2582c6f0-d9c2-4864-8c04-e9b9525bf295" promptTokens=7613 completionTokens=10 stream=true
I0305 23:26:19.445428       1 gateway.go:608] "First token received" requestID="d590c6f6-fadb-4c9c-8dd4-7ee542fab02d" ttft_ms=329
I0305 23:26:19.462602       1 gateway.go:562] latency, 0.0000, summary, hash(request), 70bad0fb, selectedpod, 10.0.3.38:8000, ttft, 240, tpot, 19, e2e, 413, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 23:26:19.462623       1 gateway.go:748] "Request completed" requestID="6d8c702f-ddce-4eb6-af0e-6a411668135c" targetPod="10.0.3.38:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 23:26:19.462632       1 gateway.go:764] "HandleResponseBody completed" requestID="6d8c702f-ddce-4eb6-af0e-6a411668135c" promptTokens=7612 completionTokens=10 stream=true
I0305 23:26:19.476522       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0859, numInputTokens, 7599
I0305 23:26:19.476540       1 tree.go:471] Updated node(0) last access: 126.7806 seconds
I0305 23:26:19.476548       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.476553       1 tree.go:471] Updated node(2) last access: 126.7806 seconds
I0305 23:26:19.476568       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:19.476573       1 tree.go:471] Updated node(46) last access: 126.7806 seconds
I0305 23:26:19.476578       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:19.476583       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:19.476589       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:19.476595       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:19.476600       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.476584682 +0000 UTC m=+126.898656223]
I0305 23:26:19.476615       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:19.476623       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:19.476681       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:19.476690       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.476698       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.476705       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.476712       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.476718       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.476729       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.476742       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:19.476757       1 prefix_cache_and_load.go:584] latency, Route, 0.0983
I0305 23:26:19.476770       1 gateway.go:415] latency, selectTargetPod, 0.0983, target pod, 10.0.3.13:8000
I0305 23:26:19.476785       1 gateway.go:235] latency, HandleRequestBody, 0.0986
I0305 23:26:19.486493       1 gateway.go:207] "Processing request" requestID="95602a46-af21-4f04-93ab-d3a5284b54a7"
I0305 23:26:19.486521       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="95602a46-af21-4f04-93ab-d3a5284b54a7"
I0305 23:26:19.486531       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:19.491784       1 gateway.go:207] "Processing request" requestID="f8ef34c7-4dd4-4ceb-98f1-ace56c4d987f"
I0305 23:26:19.491817       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f8ef34c7-4dd4-4ceb-98f1-ace56c4d987f"
I0305 23:26:19.491827       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:19.492973       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1adb7b44-2a51-4dac-8f1d-9f9205efae07"
I0305 23:26:19.500337       1 gateway.go:329] "-- In RequestBody processing ..." requestID="95602a46-af21-4f04-93ab-d3a5284b54a7"
I0305 23:26:19.500563       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="95602a46-af21-4f04-93ab-d3a5284b54a7" model="qwen2-5-7b-instruct"
I0305 23:26:19.500642       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:19.500649       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:19.500652       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:19.500781       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:19.500821       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:19.500827       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.501654       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f8ef34c7-4dd4-4ceb-98f1-ace56c4d987f"
I0305 23:26:19.501867       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f8ef34c7-4dd4-4ceb-98f1-ace56c4d987f" model="qwen2-5-7b-instruct"
I0305 23:26:19.509269       1 gateway.go:207] "Processing request" requestID="8e324edf-9b7d-4850-b668-9034bc84a25f"
I0305 23:26:19.509289       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8e324edf-9b7d-4850-b668-9034bc84a25f"
I0305 23:26:19.509296       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:19.518520       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8e324edf-9b7d-4850-b668-9034bc84a25f"
I0305 23:26:19.518767       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8e324edf-9b7d-4850-b668-9034bc84a25f" model="qwen2-5-7b-instruct"
I0305 23:26:19.537349       1 gateway.go:608] "First token received" requestID="1adb7b44-2a51-4dac-8f1d-9f9205efae07" ttft_ms=159
I0305 23:26:19.551579       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0507, numInputTokens, 7604
I0305 23:26:19.551603       1 tree.go:471] Updated node(0) last access: 126.8557 seconds
I0305 23:26:19.551610       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.551615       1 tree.go:471] Updated node(2) last access: 126.8557 seconds
I0305 23:26:19.551629       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:19.551632       1 tree.go:471] Updated node(29) last access: 126.8557 seconds
I0305 23:26:19.551639       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 23:26:19.551646       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 23:26:19.551655       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 23:26:19.551665       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:19.551670       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.551649933 +0000 UTC m=+126.973721477]
I0305 23:26:19.551691       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 23:26:19.551699       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 23:26:19.551786       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7478
I0305 23:26:19.551795       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.551802       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.551808       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.551813       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.551828       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.551838       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.551847       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:19.551863       1 prefix_cache_and_load.go:584] latency, Route, 0.0512
I0305 23:26:19.551877       1 gateway.go:415] latency, selectTargetPod, 0.0512, target pod, 10.0.0.134:8000
I0305 23:26:19.551893       1 gateway.go:235] latency, HandleRequestBody, 0.0516
I0305 23:26:19.551898       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0499
I0305 23:26:19.551916       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:19.551921       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:19.552161       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:19.552261       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 23:26:19.552270       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.570404       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="95602a46-af21-4f04-93ab-d3a5284b54a7"
I0305 23:26:19.577850       1 gateway.go:562] latency, 0.0000, summary, hash(request), 942c3bc9, selectedpod, 10.0.3.13:8000, ttft, 281, tpot, 23, e2e, 496, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:19.577880       1 gateway.go:748] "Request completed" requestID="4350494b-ffc8-48d6-a18f-348cbf6b2c89" targetPod="10.0.3.13:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:19.577896       1 gateway.go:764] "HandleResponseBody completed" requestID="4350494b-ffc8-48d6-a18f-348cbf6b2c89" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:19.606595       1 gateway.go:207] "Processing request" requestID="2d1b729f-4c41-4153-adc0-3a481ec97660"
I0305 23:26:19.606625       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2d1b729f-4c41-4153-adc0-3a481ec97660"
I0305 23:26:19.606635       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:19.614679       1 gateway.go:608] "First token received" requestID="95602a46-af21-4f04-93ab-d3a5284b54a7" ttft_ms=114
I0305 23:26:19.616694       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2d1b729f-4c41-4153-adc0-3a481ec97660"
I0305 23:26:19.616924       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2d1b729f-4c41-4153-adc0-3a481ec97660" model="qwen2-5-7b-instruct"
I0305 23:26:19.619589       1 gateway.go:562] latency, 0.0000, summary, hash(request), ee57a001, selectedpod, 10.0.1.25:8000, ttft, 329, tpot, 19, e2e, 503, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:19.619607       1 gateway.go:748] "Request completed" requestID="d590c6f6-fadb-4c9c-8dd4-7ee542fab02d" targetPod="10.0.1.25:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:19.619618       1 gateway.go:764] "HandleResponseBody completed" requestID="d590c6f6-fadb-4c9c-8dd4-7ee542fab02d" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:19.631811       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0795, numInputTokens, 7594
I0305 23:26:19.631837       1 tree.go:471] Updated node(0) last access: 126.9359 seconds
I0305 23:26:19.631848       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.631854       1 tree.go:471] Updated node(2) last access: 126.9359 seconds
I0305 23:26:19.631872       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:19.631877       1 tree.go:471] Updated node(19) last access: 126.9359 seconds
I0305 23:26:19.631886       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:19.631892       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 23:26:19.631901       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 23:26:19.631911       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:19.631920       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.631895069 +0000 UTC m=+127.053966605]
I0305 23:26:19.631950       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7478, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:19.631959       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:19.632036       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7478
I0305 23:26:19.632050       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.632063       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.632082       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.632090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.632097       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.632110       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.632124       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:19.632142       1 prefix_cache_and_load.go:584] latency, Route, 0.1302
I0305 23:26:19.632162       1 gateway.go:415] latency, selectTargetPod, 0.1302, target pod, 10.0.0.4:8000
I0305 23:26:19.632176       1 gateway.go:235] latency, HandleRequestBody, 0.1305
I0305 23:26:19.632210       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1134
I0305 23:26:19.632218       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:19.632222       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:19.632383       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:19.632424       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:19.632431       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.651113       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f8ef34c7-4dd4-4ceb-98f1-ace56c4d987f"
I0305 23:26:19.686626       1 gateway.go:608] "First token received" requestID="f8ef34c7-4dd4-4ceb-98f1-ace56c4d987f" ttft_ms=184
I0305 23:26:19.692168       1 gateway.go:207] "Processing request" requestID="c8e4a21b-8241-4b66-9bcf-68996f1cf711"
I0305 23:26:19.692198       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c8e4a21b-8241-4b66-9bcf-68996f1cf711"
I0305 23:26:19.692206       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:19.694196       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0618, numInputTokens, 7597
I0305 23:26:19.694212       1 tree.go:471] Updated node(0) last access: 126.9983 seconds
I0305 23:26:19.694218       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.694221       1 tree.go:471] Updated node(2) last access: 126.9983 seconds
I0305 23:26:19.694235       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:19.694239       1 tree.go:471] Updated node(4) last access: 126.9983 seconds
I0305 23:26:19.694246       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 23:26:19.694252       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 23:26:19.694258       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:19.694264       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:19.694270       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.69425383 +0000 UTC m=+127.116325365]
I0305 23:26:19.694284       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 23:26:19.694291       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 23:26:19.694342       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7478
I0305 23:26:19.694351       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.694358       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.694362       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.694365       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.694371       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.694379       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.694388       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:19.694396       1 prefix_cache_and_load.go:584] latency, Route, 0.1756
I0305 23:26:19.694412       1 gateway.go:415] latency, selectTargetPod, 0.1756, target pod, 10.0.1.20:8000
I0305 23:26:19.694421       1 gateway.go:235] latency, HandleRequestBody, 0.1759
I0305 23:26:19.694427       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0774
I0305 23:26:19.694451       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:19.694456       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:19.694638       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:19.694675       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:19.694682       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.703224       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c8e4a21b-8241-4b66-9bcf-68996f1cf711"
I0305 23:26:19.713135       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8e324edf-9b7d-4850-b668-9034bc84a25f"
I0305 23:26:19.713388       1 gateway.go:562] latency, 0.0000, summary, hash(request), 198c550f, selectedpod, 10.0.3.13:8000, ttft, 159, tpot, 19, e2e, 335, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:19.713408       1 gateway.go:748] "Request completed" requestID="1adb7b44-2a51-4dac-8f1d-9f9205efae07" targetPod="10.0.3.13:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:19.713418       1 gateway.go:764] "HandleResponseBody completed" requestID="1adb7b44-2a51-4dac-8f1d-9f9205efae07" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:19.717740       1 gateway.go:207] "Processing request" requestID="1f3e02bd-0483-4c5b-b783-0f12486a47c8"
I0305 23:26:19.717767       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1f3e02bd-0483-4c5b-b783-0f12486a47c8"
I0305 23:26:19.717774       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:19.723890       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1f3e02bd-0483-4c5b-b783-0f12486a47c8"
I0305 23:26:19.738425       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1f3e02bd-0483-4c5b-b783-0f12486a47c8" model="qwen2-5-7b-instruct"
I0305 23:26:19.738524       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c8e4a21b-8241-4b66-9bcf-68996f1cf711" model="qwen2-5-7b-instruct"
I0305 23:26:19.749277       1 gateway.go:608] "First token received" requestID="8e324edf-9b7d-4850-b668-9034bc84a25f" ttft_ms=230
I0305 23:26:19.780965       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0863, numInputTokens, 7594
I0305 23:26:19.780982       1 tree.go:471] Updated node(0) last access: 127.0850 seconds
I0305 23:26:19.780988       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.780992       1 tree.go:471] Updated node(2) last access: 127.0850 seconds
I0305 23:26:19.781008       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:19.781013       1 tree.go:471] Updated node(21) last access: 127.0851 seconds
I0305 23:26:19.781020       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:19.781027       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 23:26:19.781034       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 23:26:19.781043       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:19.781050       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.781029326 +0000 UTC m=+127.203100859]
I0305 23:26:19.781065       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7478, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:19.781071       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:19.781129       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7478
I0305 23:26:19.781138       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.781146       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.781153       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.781157       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.781163       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.781171       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.781180       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:19.781190       1 prefix_cache_and_load.go:584] latency, Route, 0.1642
I0305 23:26:19.781205       1 gateway.go:415] latency, selectTargetPod, 0.1642, target pod, 10.0.0.39:8000
I0305 23:26:19.781216       1 gateway.go:235] latency, HandleRequestBody, 0.1645
I0305 23:26:19.781263       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0427
I0305 23:26:19.781267       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:19.781270       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:19.781367       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:19.781397       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:19.781402       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.788791       1 gateway.go:562] latency, 0.0000, summary, hash(request), 92a8bfab, selectedpod, 10.0.0.134:8000, ttft, 114, tpot, 19, e2e, 288, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 23:26:19.788817       1 gateway.go:748] "Request completed" requestID="95602a46-af21-4f04-93ab-d3a5284b54a7" targetPod="10.0.0.134:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 23:26:19.788830       1 gateway.go:764] "HandleResponseBody completed" requestID="95602a46-af21-4f04-93ab-d3a5284b54a7" promptTokens=7623 completionTokens=10 stream=true
I0305 23:26:19.800527       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2d1b729f-4c41-4153-adc0-3a481ec97660"
I0305 23:26:19.836212       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0548, numInputTokens, 7601
I0305 23:26:19.836232       1 tree.go:471] Updated node(0) last access: 127.1403 seconds
I0305 23:26:19.836238       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.836241       1 tree.go:471] Updated node(2) last access: 127.1403 seconds
I0305 23:26:19.836254       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:19.836258       1 tree.go:471] Updated node(21) last access: 127.1403 seconds
I0305 23:26:19.836264       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:19.836268       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 23:26:19.836274       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:19.836279       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 23:26:19.836280       1 gateway.go:608] "First token received" requestID="2d1b729f-4c41-4153-adc0-3a481ec97660" ttft_ms=219
I0305 23:26:19.836284       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.836269992 +0000 UTC m=+127.258341527]
I0305 23:26:19.836298       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:19.836304       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:19.836356       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7478
I0305 23:26:19.836363       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.836370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.836374       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.836378       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.836381       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.836389       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.836397       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:19.836405       1 prefix_cache_and_load.go:584] latency, Route, 0.0979
I0305 23:26:19.836417       1 gateway.go:415] latency, selectTargetPod, 0.0979, target pod, 10.0.0.39:8000
I0305 23:26:19.836427       1 gateway.go:235] latency, HandleRequestBody, 0.1125
I0305 23:26:19.836463       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0978
I0305 23:26:19.836476       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:19.836480       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:19.836654       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:19.836698       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:19.836705       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:19.856492       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1f3e02bd-0483-4c5b-b783-0f12486a47c8"
I0305 23:26:19.875661       1 gateway.go:562] latency, 0.0002, summary, hash(request), 851252c1, selectedpod, 10.0.0.4:8000, ttft, 184, tpot, 19, e2e, 373, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 23:26:19.875773       1 gateway.go:748] "Request completed" requestID="f8ef34c7-4dd4-4ceb-98f1-ace56c4d987f" targetPod="10.0.0.4:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 23:26:19.875803       1 gateway.go:764] "HandleResponseBody completed" requestID="f8ef34c7-4dd4-4ceb-98f1-ace56c4d987f" promptTokens=7613 completionTokens=10 stream=true
I0305 23:26:19.914867       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0782, numInputTokens, 7601
I0305 23:26:19.914886       1 tree.go:471] Updated node(0) last access: 127.2189 seconds
I0305 23:26:19.914892       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:19.914897       1 tree.go:471] Updated node(2) last access: 127.2190 seconds
I0305 23:26:19.914911       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:19.914916       1 tree.go:471] Updated node(23) last access: 127.2190 seconds
I0305 23:26:19.914923       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:19.914928       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 23:26:19.914947       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:19.914955       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:19.914959       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:19.914930314 +0000 UTC m=+127.337001849]
I0305 23:26:19.914975       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:19.914982       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:19.915032       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7478
I0305 23:26:19.915041       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:19.915049       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.915054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.915058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.915062       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:19.915073       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:19.915082       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:19.915093       1 prefix_cache_and_load.go:584] latency, Route, 0.1765
I0305 23:26:19.915102       1 gateway.go:415] latency, selectTargetPod, 0.1765, target pod, 10.0.3.13:8000
I0305 23:26:19.915112       1 gateway.go:235] latency, HandleRequestBody, 0.2119
I0305 23:26:19.915508       1 gateway.go:608] "First token received" requestID="1f3e02bd-0483-4c5b-b783-0f12486a47c8" ttft_ms=191
I0305 23:26:19.922238       1 gateway.go:562] latency, 0.0000, summary, hash(request), e82cf0c1, selectedpod, 10.0.1.20:8000, ttft, 230, tpot, 19, e2e, 403, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:19.922267       1 gateway.go:748] "Request completed" requestID="8e324edf-9b7d-4850-b668-9034bc84a25f" targetPod="10.0.1.20:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:19.922281       1 gateway.go:764] "HandleResponseBody completed" requestID="8e324edf-9b7d-4850-b668-9034bc84a25f" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:19.931465       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c8e4a21b-8241-4b66-9bcf-68996f1cf711"
I0305 23:26:19.976503       1 gateway.go:608] "First token received" requestID="c8e4a21b-8241-4b66-9bcf-68996f1cf711" ttft_ms=273
I0305 23:26:19.993104       1 gateway.go:207] "Processing request" requestID="53a386bf-87eb-42db-866e-7e575cc9ef1c"
I0305 23:26:19.993131       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="53a386bf-87eb-42db-866e-7e575cc9ef1c"
I0305 23:26:19.993140       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:20.002542       1 gateway.go:329] "-- In RequestBody processing ..." requestID="53a386bf-87eb-42db-866e-7e575cc9ef1c"
I0305 23:26:20.002825       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="53a386bf-87eb-42db-866e-7e575cc9ef1c" model="qwen2-5-7b-instruct"
I0305 23:26:20.002903       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:20.002911       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:20.002919       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:20.003056       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:20.003095       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:20.003100       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:20.053847       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0507, numInputTokens, 7600
I0305 23:26:20.053907       1 tree.go:471] Updated node(0) last access: 127.3580 seconds
I0305 23:26:20.053913       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:20.053916       1 tree.go:471] Updated node(2) last access: 127.3580 seconds
I0305 23:26:20.053930       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:20.053939       1 tree.go:471] Updated node(21) last access: 127.3580 seconds
I0305 23:26:20.053954       1 tree.go:667] Split complete - New node(270)
I0305 23:26:20.053962       1 tree.go:668] Split complete - Child node(250)
I0305 23:26:20.053968       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 23:26:20.053973       1 tree.go:471] Updated node(270) last access: 127.3580 seconds
I0305 23:26:20.053977       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 23:26:20.053982       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:20.053988       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:20.053994       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:20.053998       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:20.05398422 +0000 UTC m=+127.476055755]
I0305 23:26:20.054013       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7479, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 23:26:20.054021       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 23:26:20.054070       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7479
I0305 23:26:20.054079       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:20.054085       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.054091       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.054096       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.054100       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.054104       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.054111       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:20.054121       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:20.054131       1 prefix_cache_and_load.go:584] latency, Route, 0.0512
I0305 23:26:20.054141       1 gateway.go:415] latency, selectTargetPod, 0.0512, target pod, 10.0.0.39:8000
I0305 23:26:20.054152       1 gateway.go:235] latency, HandleRequestBody, 0.0516
I0305 23:26:20.056096       1 gateway.go:562] latency, 0.0001, summary, hash(request), b42e7146, selectedpod, 10.0.0.39:8000, ttft, 219, tpot, 24, e2e, 439, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 23:26:20.056112       1 gateway.go:748] "Request completed" requestID="2d1b729f-4c41-4153-adc0-3a481ec97660" targetPod="10.0.0.39:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 23:26:20.056121       1 gateway.go:764] "HandleResponseBody completed" requestID="2d1b729f-4c41-4153-adc0-3a481ec97660" promptTokens=7613 completionTokens=10 stream=true
I0305 23:26:20.072477       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="53a386bf-87eb-42db-866e-7e575cc9ef1c"
I0305 23:26:20.090448       1 gateway.go:207] "Processing request" requestID="e8fa0304-fd0e-4884-8e2a-ed1ab36dc94c"
I0305 23:26:20.090475       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e8fa0304-fd0e-4884-8e2a-ed1ab36dc94c"
I0305 23:26:20.090483       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:20.100905       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e8fa0304-fd0e-4884-8e2a-ed1ab36dc94c"
I0305 23:26:20.101125       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e8fa0304-fd0e-4884-8e2a-ed1ab36dc94c" model="qwen2-5-7b-instruct"
I0305 23:26:20.101269       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:20.101276       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:20.101280       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:20.101407       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:20.101456       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:20.101462       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:20.116412       1 gateway.go:608] "First token received" requestID="53a386bf-87eb-42db-866e-7e575cc9ef1c" ttft_ms=113
I0305 23:26:20.136843       1 gateway.go:562] latency, 0.0000, summary, hash(request), 54f8ce90, selectedpod, 10.0.0.39:8000, ttft, 191, tpot, 24, e2e, 412, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:20.136868       1 gateway.go:748] "Request completed" requestID="1f3e02bd-0483-4c5b-b783-0f12486a47c8" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:20.136885       1 gateway.go:764] "HandleResponseBody completed" requestID="1f3e02bd-0483-4c5b-b783-0f12486a47c8" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:20.148397       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d8bdfa4, selectedpod, 10.0.3.13:8000, ttft, 273, tpot, 19, e2e, 445, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 23:26:20.148419       1 gateway.go:748] "Request completed" requestID="c8e4a21b-8241-4b66-9bcf-68996f1cf711" targetPod="10.0.3.13:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 23:26:20.148431       1 gateway.go:764] "HandleResponseBody completed" requestID="c8e4a21b-8241-4b66-9bcf-68996f1cf711" promptTokens=7620 completionTokens=10 stream=true
I0305 23:26:20.155668       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0542, numInputTokens, 7600
I0305 23:26:20.155686       1 tree.go:471] Updated node(0) last access: 127.4597 seconds
I0305 23:26:20.155692       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:20.155696       1 tree.go:471] Updated node(2) last access: 127.4598 seconds
I0305 23:26:20.155711       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:20.155716       1 tree.go:471] Updated node(21) last access: 127.4598 seconds
I0305 23:26:20.155727       1 tree.go:667] Split complete - New node(272)
I0305 23:26:20.155731       1 tree.go:668] Split complete - Child node(134)
I0305 23:26:20.155737       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 23:26:20.155744       1 tree.go:471] Updated node(272) last access: 127.4598 seconds
I0305 23:26:20.155759       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:20.155765       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:20.155774       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:20.155784       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:20.155793       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:20.15576818 +0000 UTC m=+127.577839720]
I0305 23:26:20.155810       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7482, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:20.155818       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:20.155891       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7482
I0305 23:26:20.155901       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:20.155908       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.155914       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.155923       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.155929       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.155945       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.155953       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:20.155963       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:20.155971       1 prefix_cache_and_load.go:584] latency, Route, 0.0547
I0305 23:26:20.155984       1 gateway.go:415] latency, selectTargetPod, 0.0547, target pod, 10.0.0.39:8000
I0305 23:26:20.155998       1 gateway.go:235] latency, HandleRequestBody, 0.0551
I0305 23:26:20.168390       1 gateway.go:207] "Processing request" requestID="7ddfeb04-d43f-4200-b2f2-0f88d1ee7e72"
I0305 23:26:20.168412       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7ddfeb04-d43f-4200-b2f2-0f88d1ee7e72"
I0305 23:26:20.168421       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:20.173160       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e8fa0304-fd0e-4884-8e2a-ed1ab36dc94c"
I0305 23:26:20.179184       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7ddfeb04-d43f-4200-b2f2-0f88d1ee7e72"
I0305 23:26:20.179398       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7ddfeb04-d43f-4200-b2f2-0f88d1ee7e72" model="qwen2-5-7b-instruct"
I0305 23:26:20.179472       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:20.179478       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:20.179481       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:20.179615       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:20.179649       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:20.179655       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:20.216000       1 gateway.go:608] "First token received" requestID="e8fa0304-fd0e-4884-8e2a-ed1ab36dc94c" ttft_ms=115
I0305 23:26:20.230963       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0513, numInputTokens, 7600
I0305 23:26:20.230980       1 tree.go:471] Updated node(0) last access: 127.5350 seconds
I0305 23:26:20.230986       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:20.230990       1 tree.go:471] Updated node(2) last access: 127.5350 seconds
I0305 23:26:20.231003       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:20.231007       1 tree.go:471] Updated node(4) last access: 127.5351 seconds
I0305 23:26:20.231012       1 tree.go:490] Partial tokens match child node(64). Continue to go deeper in the radix tree
I0305 23:26:20.231015       1 tree.go:471] Updated node(64) last access: 127.5351 seconds
I0305 23:26:20.231028       1 tree.go:667] Split complete - New node(274)
I0305 23:26:20.231034       1 tree.go:668] Split complete - Child node(5)
I0305 23:26:20.231041       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:20.231047       1 tree.go:471] Updated node(274) last access: 127.5351 seconds
I0305 23:26:20.231055       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 23:26:20.231062       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:20.231070       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:20.231079       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:20.231086       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:20.231064301 +0000 UTC m=+127.653135836]
I0305 23:26:20.231103       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7488, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 23:26:20.231115       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 23:26:20.231174       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7488
I0305 23:26:20.231183       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:20.231193       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.231200       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.231208       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.231214       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.231221       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.231229       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.231242       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:20.231256       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:20.231268       1 prefix_cache_and_load.go:584] latency, Route, 0.0518
I0305 23:26:20.231278       1 gateway.go:415] latency, selectTargetPod, 0.0518, target pod, 10.0.1.20:8000
I0305 23:26:20.231291       1 gateway.go:235] latency, HandleRequestBody, 0.0521
I0305 23:26:20.249993       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7ddfeb04-d43f-4200-b2f2-0f88d1ee7e72"
I0305 23:26:20.257611       1 gateway.go:207] "Processing request" requestID="212780ec-e695-4475-8a22-beefac2f6826"
I0305 23:26:20.257638       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="212780ec-e695-4475-8a22-beefac2f6826"
I0305 23:26:20.257646       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:20.269473       1 gateway.go:329] "-- In RequestBody processing ..." requestID="212780ec-e695-4475-8a22-beefac2f6826"
I0305 23:26:20.269706       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="212780ec-e695-4475-8a22-beefac2f6826" model="qwen2-5-7b-instruct"
I0305 23:26:20.269780       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:20.269787       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:20.269791       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:20.269946       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:20.269984       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:20.269992       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:20.285771       1 gateway.go:608] "First token received" requestID="7ddfeb04-d43f-4200-b2f2-0f88d1ee7e72" ttft_ms=106
I0305 23:26:20.319005       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0490, numInputTokens, 7598
I0305 23:26:20.319021       1 tree.go:471] Updated node(0) last access: 127.6231 seconds
I0305 23:26:20.319027       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:20.319031       1 tree.go:471] Updated node(2) last access: 127.6231 seconds
I0305 23:26:20.319046       1 tree.go:490] Partial tokens match child node(46). Continue to go deeper in the radix tree
I0305 23:26:20.319052       1 tree.go:471] Updated node(46) last access: 127.6231 seconds
I0305 23:26:20.319063       1 tree.go:667] Split complete - New node(276)
I0305 23:26:20.319069       1 tree.go:668] Split complete - Child node(182)
I0305 23:26:20.319075       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 23:26:20.319083       1 tree.go:471] Updated node(276) last access: 127.6231 seconds
I0305 23:26:20.319093       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 23:26:20.319099       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:20.319109       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:20.319118       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:20.319126       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:20.319103792 +0000 UTC m=+127.741175329]
I0305 23:26:20.319143       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7486, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 23:26:20.319154       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 23:26:20.319210       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7486
I0305 23:26:20.319220       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:20.319229       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.319236       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.319241       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.319245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.319250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.319259       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:20.319282       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:20.319291       1 prefix_cache_and_load.go:584] latency, Route, 0.0495
I0305 23:26:20.319300       1 gateway.go:415] latency, selectTargetPod, 0.0495, target pod, 10.0.3.13:8000
I0305 23:26:20.319309       1 gateway.go:235] latency, HandleRequestBody, 0.0498
I0305 23:26:20.336301       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="212780ec-e695-4475-8a22-beefac2f6826"
I0305 23:26:20.336734       1 gateway.go:562] latency, 0.0001, summary, hash(request), 53cf18e6, selectedpod, 10.0.0.39:8000, ttft, 113, tpot, 24, e2e, 334, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:20.336755       1 gateway.go:748] "Request completed" requestID="53a386bf-87eb-42db-866e-7e575cc9ef1c" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:20.336770       1 gateway.go:764] "HandleResponseBody completed" requestID="53a386bf-87eb-42db-866e-7e575cc9ef1c" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:20.372737       1 gateway.go:608] "First token received" requestID="212780ec-e695-4475-8a22-beefac2f6826" ttft_ms=103
I0305 23:26:20.390461       1 gateway.go:207] "Processing request" requestID="dac77d6c-64eb-4eff-9816-a9cd5485a1af"
I0305 23:26:20.390489       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dac77d6c-64eb-4eff-9816-a9cd5485a1af"
I0305 23:26:20.390501       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:20.395283       1 gateway.go:562] latency, 0.0001, summary, hash(request), dd75f6e7, selectedpod, 10.0.0.39:8000, ttft, 115, tpot, 19, e2e, 294, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:20.395299       1 gateway.go:748] "Request completed" requestID="e8fa0304-fd0e-4884-8e2a-ed1ab36dc94c" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:20.395311       1 gateway.go:764] "HandleResponseBody completed" requestID="e8fa0304-fd0e-4884-8e2a-ed1ab36dc94c" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:20.402318       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dac77d6c-64eb-4eff-9816-a9cd5485a1af"
I0305 23:26:20.402553       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dac77d6c-64eb-4eff-9816-a9cd5485a1af" model="qwen2-5-7b-instruct"
I0305 23:26:20.402694       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:20.402702       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:20.402705       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:20.402889       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:20.402945       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:20.402954       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:20.424792       1 gateway.go:207] "Processing request" requestID="b09cf96c-e15b-4776-b273-9ae112da7f52"
I0305 23:26:20.424825       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b09cf96c-e15b-4776-b273-9ae112da7f52"
I0305 23:26:20.424833       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:20.434990       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b09cf96c-e15b-4776-b273-9ae112da7f52"
I0305 23:26:20.435219       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b09cf96c-e15b-4776-b273-9ae112da7f52" model="qwen2-5-7b-instruct"
I0305 23:26:20.458273       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0553, numInputTokens, 7598
I0305 23:26:20.458292       1 tree.go:471] Updated node(0) last access: 127.7623 seconds
I0305 23:26:20.458298       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:20.458301       1 tree.go:471] Updated node(2) last access: 127.7624 seconds
I0305 23:26:20.458315       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:20.458319       1 tree.go:471] Updated node(17) last access: 127.7624 seconds
I0305 23:26:20.458322       1 tree.go:490] Partial tokens match child node(215). Continue to go deeper in the radix tree
I0305 23:26:20.458325       1 tree.go:471] Updated node(215) last access: 127.7624 seconds
I0305 23:26:20.458335       1 tree.go:667] Split complete - New node(278)
I0305 23:26:20.458340       1 tree.go:668] Split complete - Child node(216)
I0305 23:26:20.458344       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 23:26:20.458349       1 tree.go:471] Updated node(278) last access: 127.7624 seconds
I0305 23:26:20.458355       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:20.458359       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:20.458365       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:20.458371       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:20.458378       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:20.458361231 +0000 UTC m=+127.880432765]
I0305 23:26:20.458391       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:20.458397       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:20.458463       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7484
I0305 23:26:20.458475       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:20.458484       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.458491       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.458516       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.458521       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.458526       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.458530       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.458538       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:20.458548       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:20.458567       1 prefix_cache_and_load.go:584] latency, Route, 0.0559
I0305 23:26:20.458582       1 gateway.go:415] latency, selectTargetPod, 0.0559, target pod, 10.0.1.53:8000
I0305 23:26:20.458593       1 gateway.go:235] latency, HandleRequestBody, 0.0563
I0305 23:26:20.458624       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0233
I0305 23:26:20.458639       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:20.458643       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:20.458824       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:20.458864       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:20.458870       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:20.459034       1 gateway.go:562] latency, 0.0000, summary, hash(request), 04e5c08e, selectedpod, 10.0.1.20:8000, ttft, 106, tpot, 19, e2e, 279, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:20.459048       1 gateway.go:748] "Request completed" requestID="7ddfeb04-d43f-4200-b2f2-0f88d1ee7e72" targetPod="10.0.1.20:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:20.459057       1 gateway.go:764] "HandleResponseBody completed" requestID="7ddfeb04-d43f-4200-b2f2-0f88d1ee7e72" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:20.475907       1 gateway.go:207] "Processing request" requestID="fee4d14e-977f-45f9-8067-8b8c4551006b"
I0305 23:26:20.475972       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fee4d14e-977f-45f9-8067-8b8c4551006b"
I0305 23:26:20.475985       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:20.476783       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dac77d6c-64eb-4eff-9816-a9cd5485a1af"
I0305 23:26:20.486711       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fee4d14e-977f-45f9-8067-8b8c4551006b"
I0305 23:26:20.486947       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fee4d14e-977f-45f9-8067-8b8c4551006b" model="qwen2-5-7b-instruct"
I0305 23:26:20.502766       1 gateway.go:207] "Processing request" requestID="1f1e4949-b3c9-4c12-b7fe-7328efa80304"
I0305 23:26:20.502803       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1f1e4949-b3c9-4c12-b7fe-7328efa80304"
I0305 23:26:20.502815       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:20.508856       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1f1e4949-b3c9-4c12-b7fe-7328efa80304"
I0305 23:26:20.509095       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1f1e4949-b3c9-4c12-b7fe-7328efa80304" model="qwen2-5-7b-instruct"
I0305 23:26:20.512429       1 gateway.go:608] "First token received" requestID="dac77d6c-64eb-4eff-9816-a9cd5485a1af" ttft_ms=110
I0305 23:26:20.514892       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0560, numInputTokens, 7597
I0305 23:26:20.514908       1 tree.go:471] Updated node(0) last access: 127.8190 seconds
I0305 23:26:20.514915       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:20.514919       1 tree.go:471] Updated node(2) last access: 127.8190 seconds
I0305 23:26:20.514932       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:20.514942       1 tree.go:471] Updated node(21) last access: 127.8190 seconds
I0305 23:26:20.514952       1 tree.go:667] Split complete - New node(280)
I0305 23:26:20.514958       1 tree.go:668] Split complete - Child node(268)
I0305 23:26:20.514962       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 23:26:20.514966       1 tree.go:471] Updated node(280) last access: 127.8190 seconds
I0305 23:26:20.514972       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 23:26:20.514983       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 23:26:20.514990       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:20.514996       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:20.515001       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:20.514985746 +0000 UTC m=+127.937057282]
I0305 23:26:20.515015       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7485, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 23:26:20.515023       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 23:26:20.515075       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7485
I0305 23:26:20.515084       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:20.515092       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.515098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.515101       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.515107       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.515111       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.515119       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:20.515127       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:20.515136       1 prefix_cache_and_load.go:584] latency, Route, 0.0798
I0305 23:26:20.515151       1 gateway.go:415] latency, selectTargetPod, 0.0799, target pod, 10.0.0.39:8000
I0305 23:26:20.515163       1 gateway.go:235] latency, HandleRequestBody, 0.0802
I0305 23:26:20.515161       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0281
I0305 23:26:20.515171       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:20.515176       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:20.515376       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:20.515422       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:20.515430       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:20.516291       1 gateway.go:207] "Processing request" requestID="b60a04a7-37b1-49a4-9709-8d7d7b462808"
I0305 23:26:20.516322       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b60a04a7-37b1-49a4-9709-8d7d7b462808"
I0305 23:26:20.516330       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:20.526379       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b60a04a7-37b1-49a4-9709-8d7d7b462808"
I0305 23:26:20.526597       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b60a04a7-37b1-49a4-9709-8d7d7b462808" model="qwen2-5-7b-instruct"
I0305 23:26:20.533148       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b09cf96c-e15b-4776-b273-9ae112da7f52"
I0305 23:26:20.545572       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6832be95, selectedpod, 10.0.3.13:8000, ttft, 103, tpot, 19, e2e, 276, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:20.545590       1 gateway.go:748] "Request completed" requestID="212780ec-e695-4475-8a22-beefac2f6826" targetPod="10.0.3.13:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:20.545600       1 gateway.go:764] "HandleResponseBody completed" requestID="212780ec-e695-4475-8a22-beefac2f6826" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:20.568576       1 gateway.go:608] "First token received" requestID="b09cf96c-e15b-4776-b273-9ae112da7f52" ttft_ms=133
I0305 23:26:20.596289       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0809, numInputTokens, 7600
I0305 23:26:20.596306       1 tree.go:471] Updated node(0) last access: 127.9004 seconds
I0305 23:26:20.596313       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:20.596316       1 tree.go:471] Updated node(2) last access: 127.9004 seconds
I0305 23:26:20.596329       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:20.596334       1 tree.go:471] Updated node(11) last access: 127.9004 seconds
I0305 23:26:20.596339       1 tree.go:490] Partial tokens match child node(50). Continue to go deeper in the radix tree
I0305 23:26:20.596341       1 tree.go:471] Updated node(50) last access: 127.9004 seconds
I0305 23:26:20.596347       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:20.596352       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:20.596360       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:20.596367       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:20.596373       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:20.596354519 +0000 UTC m=+128.018426054]
I0305 23:26:20.596388       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7485, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:20.596395       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:20.596479       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7485
I0305 23:26:20.596489       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:20.596496       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.596501       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.596505       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.596509       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.596514       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.596522       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:20.596531       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:20.596541       1 prefix_cache_and_load.go:584] latency, Route, 0.1095
I0305 23:26:20.596555       1 gateway.go:415] latency, selectTargetPod, 0.1095, target pod, 10.0.1.25:8000
I0305 23:26:20.596566       1 gateway.go:235] latency, HandleRequestBody, 0.1099
I0305 23:26:20.596566       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0874
I0305 23:26:20.596575       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:20.596581       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:20.596782       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:20.596830       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:20.596839       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:20.616286       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fee4d14e-977f-45f9-8067-8b8c4551006b"
I0305 23:26:20.652737       1 gateway.go:608] "First token received" requestID="fee4d14e-977f-45f9-8067-8b8c4551006b" ttft_ms=165
I0305 23:26:20.676567       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0797, numInputTokens, 7598
I0305 23:26:20.676585       1 tree.go:471] Updated node(0) last access: 127.9806 seconds
I0305 23:26:20.676592       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:20.676595       1 tree.go:471] Updated node(2) last access: 127.9807 seconds
I0305 23:26:20.676609       1 tree.go:490] Partial tokens match child node(29). Continue to go deeper in the radix tree
I0305 23:26:20.676614       1 tree.go:471] Updated node(29) last access: 127.9807 seconds
I0305 23:26:20.676617       1 tree.go:490] Partial tokens match child node(200). Continue to go deeper in the radix tree
I0305 23:26:20.676621       1 tree.go:471] Updated node(200) last access: 127.9807 seconds
I0305 23:26:20.676627       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 23:26:20.676632       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 23:26:20.676640       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:20.676648       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:20.676654       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:20.676635089 +0000 UTC m=+128.098706624]
I0305 23:26:20.676673       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7480, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 23:26:20.676684       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 23:26:20.676754       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7480
I0305 23:26:20.676764       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:20.676774       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.676779       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.676783       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.676789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.676794       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.676803       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:20.676813       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:20.676825       1 prefix_cache_and_load.go:584] latency, Route, 0.1676
I0305 23:26:20.676842       1 gateway.go:415] latency, selectTargetPod, 0.1676, target pod, 10.0.0.134:8000
I0305 23:26:20.676856       1 gateway.go:235] latency, HandleRequestBody, 0.1680
I0305 23:26:20.676882       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1502
I0305 23:26:20.676888       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:20.676892       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:20.677089       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:20.677133       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:20.677140       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:20.685761       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8fb86165, selectedpod, 10.0.1.53:8000, ttft, 110, tpot, 19, e2e, 283, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:20.685778       1 gateway.go:748] "Request completed" requestID="dac77d6c-64eb-4eff-9816-a9cd5485a1af" targetPod="10.0.1.53:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:20.685791       1 gateway.go:764] "HandleResponseBody completed" requestID="dac77d6c-64eb-4eff-9816-a9cd5485a1af" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:20.697105       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1f1e4949-b3c9-4c12-b7fe-7328efa80304"
I0305 23:26:20.725891       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0487, numInputTokens, 7600
I0305 23:26:20.725907       1 tree.go:471] Updated node(0) last access: 128.0300 seconds
I0305 23:26:20.725914       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:20.725917       1 tree.go:471] Updated node(2) last access: 128.0300 seconds
I0305 23:26:20.725932       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:20.725942       1 tree.go:471] Updated node(33) last access: 128.0300 seconds
I0305 23:26:20.725946       1 tree.go:490] Partial tokens match child node(177). Continue to go deeper in the radix tree
I0305 23:26:20.725950       1 tree.go:471] Updated node(177) last access: 128.0300 seconds
I0305 23:26:20.725956       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 23:26:20.725961       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:20.725968       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:20.725975       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:20.725980       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:20.725963607 +0000 UTC m=+128.148035141]
I0305 23:26:20.725994       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7480, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 23:26:20.726002       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 23:26:20.726057       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7480
I0305 23:26:20.726066       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:20.726075       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.726082       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.726087       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.726091       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.726094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.726102       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:20.726111       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:20.726121       1 prefix_cache_and_load.go:584] latency, Route, 0.1994
I0305 23:26:20.726134       1 gateway.go:415] latency, selectTargetPod, 0.1995, target pod, 10.0.3.38:8000
I0305 23:26:20.726146       1 gateway.go:235] latency, HandleRequestBody, 0.1998
I0305 23:26:20.741552       1 gateway.go:608] "First token received" requestID="1f1e4949-b3c9-4c12-b7fe-7328efa80304" ttft_ms=232
I0305 23:26:20.741593       1 gateway.go:562] latency, 0.0000, summary, hash(request), 18a50659, selectedpod, 10.0.0.39:8000, ttft, 133, tpot, 19, e2e, 306, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 23:26:20.741612       1 gateway.go:748] "Request completed" requestID="b09cf96c-e15b-4776-b273-9ae112da7f52" targetPod="10.0.0.39:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 23:26:20.741625       1 gateway.go:764] "HandleResponseBody completed" requestID="b09cf96c-e15b-4776-b273-9ae112da7f52" promptTokens=7616 completionTokens=10 stream=true
I0305 23:26:20.742374       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b60a04a7-37b1-49a4-9709-8d7d7b462808"
I0305 23:26:20.786705       1 gateway.go:608] "First token received" requestID="b60a04a7-37b1-49a4-9709-8d7d7b462808" ttft_ms=260
I0305 23:26:20.804489       1 gateway.go:207] "Processing request" requestID="de16489f-cf6c-4582-8640-498225fb0806"
I0305 23:26:20.804514       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="de16489f-cf6c-4582-8640-498225fb0806"
I0305 23:26:20.804526       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:20.816497       1 gateway.go:329] "-- In RequestBody processing ..." requestID="de16489f-cf6c-4582-8640-498225fb0806"
I0305 23:26:20.816726       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="de16489f-cf6c-4582-8640-498225fb0806" model="qwen2-5-7b-instruct"
I0305 23:26:20.816875       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:20.816885       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:20.816889       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:20.817112       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:20.817162       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 23:26:20.817171       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:20.825627       1 gateway.go:562] latency, 0.0000, summary, hash(request), 159f470e, selectedpod, 10.0.1.25:8000, ttft, 165, tpot, 19, e2e, 338, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:20.825649       1 gateway.go:748] "Request completed" requestID="fee4d14e-977f-45f9-8067-8b8c4551006b" targetPod="10.0.1.25:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:20.825663       1 gateway.go:764] "HandleResponseBody completed" requestID="fee4d14e-977f-45f9-8067-8b8c4551006b" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:20.869452       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0523, numInputTokens, 7599
I0305 23:26:20.869471       1 tree.go:471] Updated node(0) last access: 128.1735 seconds
I0305 23:26:20.869479       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:20.869483       1 tree.go:471] Updated node(2) last access: 128.1735 seconds
I0305 23:26:20.869498       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:20.869502       1 tree.go:471] Updated node(38) last access: 128.1736 seconds
I0305 23:26:20.869507       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 23:26:20.869511       1 tree.go:471] Updated node(75) last access: 128.1736 seconds
I0305 23:26:20.869523       1 tree.go:667] Split complete - New node(285)
I0305 23:26:20.869528       1 tree.go:668] Split complete - Child node(76)
I0305 23:26:20.869534       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:20.869541       1 tree.go:471] Updated node(285) last access: 128.1736 seconds
I0305 23:26:20.869549       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:20.869554       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:20.869562       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:20.869570       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:20.869577       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:20.869556725 +0000 UTC m=+128.291628268]
I0305 23:26:20.869595       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7485, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:20.869604       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:20.869663       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7485
I0305 23:26:20.869675       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:20.869686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.869693       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.869699       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.869704       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.869711       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.869718       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:20.869731       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:20.869742       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:20.869757       1 prefix_cache_and_load.go:584] latency, Route, 0.0529
I0305 23:26:20.869768       1 gateway.go:415] latency, selectTargetPod, 0.0529, target pod, 10.0.0.134:8000
I0305 23:26:20.869780       1 gateway.go:235] latency, HandleRequestBody, 0.0533
I0305 23:26:20.888680       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="de16489f-cf6c-4582-8640-498225fb0806"
I0305 23:26:20.927966       1 gateway.go:608] "First token received" requestID="de16489f-cf6c-4582-8640-498225fb0806" ttft_ms=111
I0305 23:26:20.940027       1 gateway.go:207] "Processing request" requestID="e6d29e70-458f-40e6-aec4-bba7f8fdf78a"
I0305 23:26:20.940067       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e6d29e70-458f-40e6-aec4-bba7f8fdf78a"
I0305 23:26:20.940077       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:20.949292       1 gateway.go:562] latency, 0.0001, summary, hash(request), c910d9a1, selectedpod, 10.0.0.134:8000, ttft, 232, tpot, 23, e2e, 440, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:20.949309       1 gateway.go:748] "Request completed" requestID="1f1e4949-b3c9-4c12-b7fe-7328efa80304" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:20.949322       1 gateway.go:764] "HandleResponseBody completed" requestID="1f1e4949-b3c9-4c12-b7fe-7328efa80304" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:20.952230       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e6d29e70-458f-40e6-aec4-bba7f8fdf78a"
I0305 23:26:20.952456       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e6d29e70-458f-40e6-aec4-bba7f8fdf78a" model="qwen2-5-7b-instruct"
I0305 23:26:20.952548       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:20.952554       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:20.952558       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:20.952771       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:20.952820       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 23:26:20.952826       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:20.959362       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90c9e070, selectedpod, 10.0.3.38:8000, ttft, 260, tpot, 19, e2e, 432, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:20.959379       1 gateway.go:748] "Request completed" requestID="b60a04a7-37b1-49a4-9709-8d7d7b462808" targetPod="10.0.3.38:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:20.959388       1 gateway.go:764] "HandleResponseBody completed" requestID="b60a04a7-37b1-49a4-9709-8d7d7b462808" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:21.004298       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0515, numInputTokens, 7602
I0305 23:26:21.004320       1 tree.go:471] Updated node(0) last access: 128.3084 seconds
I0305 23:26:21.004327       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.004330       1 tree.go:471] Updated node(2) last access: 128.3084 seconds
I0305 23:26:21.004343       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:21.004349       1 tree.go:471] Updated node(21) last access: 128.3084 seconds
I0305 23:26:21.004364       1 tree.go:667] Split complete - New node(287)
I0305 23:26:21.004369       1 tree.go:668] Split complete - Child node(98)
I0305 23:26:21.004373       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 23:26:21.004383       1 tree.go:471] Updated node(287) last access: 128.3084 seconds
I0305 23:26:21.004388       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 23:26:21.004392       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:21.004401       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:21.004408       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.004413       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.004395636 +0000 UTC m=+128.426467177]
I0305 23:26:21.004430       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7485, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 23:26:21.004454       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 23:26:21.004554       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7485
I0305 23:26:21.004572       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.004584       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.004593       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.004599       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.004604       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.004612       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.004628       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.004639       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:21.004653       1 prefix_cache_and_load.go:584] latency, Route, 0.0521
I0305 23:26:21.004665       1 gateway.go:415] latency, selectTargetPod, 0.0521, target pod, 10.0.0.39:8000
I0305 23:26:21.005048       1 gateway.go:235] latency, HandleRequestBody, 0.0528
I0305 23:26:21.017522       1 gateway.go:207] "Processing request" requestID="a236c11e-a155-4797-b544-19e5918309ab"
I0305 23:26:21.017551       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a236c11e-a155-4797-b544-19e5918309ab"
I0305 23:26:21.017561       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.023521       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e6d29e70-458f-40e6-aec4-bba7f8fdf78a"
I0305 23:26:21.027409       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a236c11e-a155-4797-b544-19e5918309ab"
I0305 23:26:21.027625       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a236c11e-a155-4797-b544-19e5918309ab" model="qwen2-5-7b-instruct"
I0305 23:26:21.027702       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:21.027708       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.027711       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.027853       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.027885       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:21.027890       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.029651       1 gateway.go:207] "Processing request" requestID="f108f339-6249-4d3f-a960-e5cf25c2a037"
I0305 23:26:21.029673       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f108f339-6249-4d3f-a960-e5cf25c2a037"
I0305 23:26:21.029681       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.040455       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f108f339-6249-4d3f-a960-e5cf25c2a037"
I0305 23:26:21.040667       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f108f339-6249-4d3f-a960-e5cf25c2a037" model="qwen2-5-7b-instruct"
I0305 23:26:21.058656       1 gateway.go:608] "First token received" requestID="e6d29e70-458f-40e6-aec4-bba7f8fdf78a" ttft_ms=106
I0305 23:26:21.061370       1 gateway.go:207] "Processing request" requestID="3e03ac9a-c8d1-4a4b-80ad-1eae7e676d42"
I0305 23:26:21.061397       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3e03ac9a-c8d1-4a4b-80ad-1eae7e676d42"
I0305 23:26:21.061403       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.066003       1 gateway.go:207] "Processing request" requestID="5c06078a-7d74-49a8-97b6-4acba84e800e"
I0305 23:26:21.066026       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5c06078a-7d74-49a8-97b6-4acba84e800e"
I0305 23:26:21.066033       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.073183       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3e03ac9a-c8d1-4a4b-80ad-1eae7e676d42"
I0305 23:26:21.073376       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3e03ac9a-c8d1-4a4b-80ad-1eae7e676d42" model="qwen2-5-7b-instruct"
I0305 23:26:21.076393       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5c06078a-7d74-49a8-97b6-4acba84e800e"
I0305 23:26:21.076711       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5c06078a-7d74-49a8-97b6-4acba84e800e" model="qwen2-5-7b-instruct"
I0305 23:26:21.086148       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0583, numInputTokens, 7603
I0305 23:26:21.086162       1 tree.go:471] Updated node(0) last access: 128.3902 seconds
I0305 23:26:21.086167       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.086170       1 tree.go:471] Updated node(2) last access: 128.3902 seconds
I0305 23:26:21.086184       1 tree.go:490] Partial tokens match child node(17). Continue to go deeper in the radix tree
I0305 23:26:21.086187       1 tree.go:471] Updated node(17) last access: 128.3902 seconds
I0305 23:26:21.086195       1 tree.go:667] Split complete - New node(289)
I0305 23:26:21.086200       1 tree.go:668] Split complete - Child node(16)
I0305 23:26:21.086205       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0305 23:26:21.086210       1 tree.go:471] Updated node(289) last access: 128.3903 seconds
I0305 23:26:21.086215       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:21.086219       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 23:26:21.086225       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 23:26:21.086232       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.086236       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.086221185 +0000 UTC m=+128.508292720]
I0305 23:26:21.086251       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7489, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:21.086257       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:21.086310       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-kf696 from longest matching node with match length 7489
I0305 23:26:21.086319       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.086327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.086333       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.086336       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.086342       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.086346       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.086355       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.086363       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-kf696="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 23:26:21.086372       1 prefix_cache_and_load.go:584] latency, Route, 0.0587
I0305 23:26:21.086385       1 gateway.go:415] latency, selectTargetPod, 0.0587, target pod, 10.0.1.53:8000
I0305 23:26:21.086395       1 gateway.go:235] latency, HandleRequestBody, 0.0590
I0305 23:26:21.086414       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0457
I0305 23:26:21.086418       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.086422       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.086532       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.086564       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:21.086569       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.103527       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9869fc8a, selectedpod, 10.0.0.134:8000, ttft, 111, tpot, 19, e2e, 286, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:21.103548       1 gateway.go:748] "Request completed" requestID="de16489f-cf6c-4582-8640-498225fb0806" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:21.103561       1 gateway.go:764] "HandleResponseBody completed" requestID="de16489f-cf6c-4582-8640-498225fb0806" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:21.105614       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a236c11e-a155-4797-b544-19e5918309ab"
I0305 23:26:21.124172       1 gateway.go:207] "Processing request" requestID="4cdf1bfa-344e-4307-a72c-5a4c43ccc846"
I0305 23:26:21.124194       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4cdf1bfa-344e-4307-a72c-5a4c43ccc846"
I0305 23:26:21.124205       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.138678       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4cdf1bfa-344e-4307-a72c-5a4c43ccc846"
I0305 23:26:21.138679       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0521, numInputTokens, 7602
I0305 23:26:21.138706       1 tree.go:471] Updated node(0) last access: 128.4428 seconds
I0305 23:26:21.138714       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.138718       1 tree.go:471] Updated node(2) last access: 128.4428 seconds
I0305 23:26:21.138735       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:21.138742       1 tree.go:471] Updated node(23) last access: 128.4428 seconds
I0305 23:26:21.138768       1 tree.go:667] Split complete - New node(291)
I0305 23:26:21.138774       1 tree.go:668] Split complete - Child node(158)
I0305 23:26:21.138780       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 23:26:21.138788       1 tree.go:471] Updated node(291) last access: 128.4428 seconds
I0305 23:26:21.138794       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 23:26:21.138801       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:21.138808       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:21.138819       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.138830       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.138803271 +0000 UTC m=+128.560874817]
I0305 23:26:21.138854       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7483, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 23:26:21.138865       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 23:26:21.138924       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4cdf1bfa-344e-4307-a72c-5a4c43ccc846" model="qwen2-5-7b-instruct"
I0305 23:26:21.138984       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7483
I0305 23:26:21.138995       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.139002       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.139008       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.139013       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.139021       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.139042       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.139066       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.139079       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:21.139091       1 prefix_cache_and_load.go:584] latency, Route, 0.0983
I0305 23:26:21.139108       1 gateway.go:415] latency, selectTargetPod, 0.0984, target pod, 10.0.3.13:8000
I0305 23:26:21.139127       1 gateway.go:235] latency, HandleRequestBody, 0.0987
I0305 23:26:21.139122       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0657
I0305 23:26:21.139136       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.139140       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.139491       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.139589       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 23:26:21.139599       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.176101       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f108f339-6249-4d3f-a960-e5cf25c2a037"
I0305 23:26:21.176151       1 gateway.go:207] "Processing request" requestID="8dbfaa63-3e14-4598-8bd0-7f27fe6422e9"
I0305 23:26:21.176181       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8dbfaa63-3e14-4598-8bd0-7f27fe6422e9"
I0305 23:26:21.176189       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.176241       1 gateway.go:608] "First token received" requestID="a236c11e-a155-4797-b544-19e5918309ab" ttft_ms=148
I0305 23:26:21.183568       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8dbfaa63-3e14-4598-8bd0-7f27fe6422e9"
I0305 23:26:21.183790       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8dbfaa63-3e14-4598-8bd0-7f27fe6422e9" model="qwen2-5-7b-instruct"
I0305 23:26:21.200435       1 gateway.go:608] "First token received" requestID="f108f339-6249-4d3f-a960-e5cf25c2a037" ttft_ms=159
I0305 23:26:21.224230       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0846, numInputTokens, 7599
I0305 23:26:21.224250       1 tree.go:471] Updated node(0) last access: 128.5283 seconds
I0305 23:26:21.224255       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.224259       1 tree.go:471] Updated node(2) last access: 128.5283 seconds
I0305 23:26:21.224271       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:21.224276       1 tree.go:471] Updated node(21) last access: 128.5283 seconds
I0305 23:26:21.224280       1 tree.go:490] Partial tokens match child node(287). Continue to go deeper in the radix tree
I0305 23:26:21.224283       1 tree.go:471] Updated node(287) last access: 128.5283 seconds
I0305 23:26:21.224288       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:21.224293       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:21.224300       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:21.224305       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.224310       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.224295201 +0000 UTC m=+128.646366742]
I0305 23:26:21.224324       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7485, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:21.224331       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:21.224384       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7485
I0305 23:26:21.224393       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.224401       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.224407       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.224410       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.224415       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.224420       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.224427       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.224436       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:21.224468       1 prefix_cache_and_load.go:584] latency, Route, 0.1510
I0305 23:26:21.224485       1 gateway.go:415] latency, selectTargetPod, 0.1510, target pod, 10.0.0.39:8000
I0305 23:26:21.224495       1 gateway.go:235] latency, HandleRequestBody, 0.1513
I0305 23:26:21.224517       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1477
I0305 23:26:21.224522       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.224525       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.224629       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.224669       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 23:26:21.224674       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.231584       1 gateway.go:562] latency, 0.0000, summary, hash(request), f6cdad13, selectedpod, 10.0.0.39:8000, ttft, 106, tpot, 19, e2e, 279, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:21.231604       1 gateway.go:748] "Request completed" requestID="e6d29e70-458f-40e6-aec4-bba7f8fdf78a" targetPod="10.0.0.39:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:21.231615       1 gateway.go:764] "HandleResponseBody completed" requestID="e6d29e70-458f-40e6-aec4-bba7f8fdf78a" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:21.242255       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3e03ac9a-c8d1-4a4b-80ad-1eae7e676d42"
I0305 23:26:21.277701       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0530, numInputTokens, 7596
I0305 23:26:21.277718       1 tree.go:471] Updated node(0) last access: 128.5818 seconds
I0305 23:26:21.277724       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.277728       1 tree.go:471] Updated node(2) last access: 128.5818 seconds
I0305 23:26:21.277742       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:21.277746       1 tree.go:471] Updated node(38) last access: 128.5818 seconds
I0305 23:26:21.277756       1 tree.go:667] Split complete - New node(294)
I0305 23:26:21.277759       1 tree.go:668] Split complete - Child node(120)
I0305 23:26:21.277763       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 23:26:21.277769       1 tree.go:471] Updated node(294) last access: 128.5818 seconds
I0305 23:26:21.277774       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 106 tokens:
I0305 23:26:21.277779       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 23:26:21.277785       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 23:26:21.277791       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.277795       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.277781151 +0000 UTC m=+128.699852685]
I0305 23:26:21.277808       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7490, Matching ratio: 0.9860, # Matched pods: 0, Matched pods: []
I0305 23:26:21.277814       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9860 > 0.5000)
I0305 23:26:21.277867       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7490
I0305 23:26:21.277876       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.277884       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.277890       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.277895       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.277902       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.277905       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.277912       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.277926       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:21.277943       1 prefix_cache_and_load.go:584] latency, Route, 0.2011
I0305 23:26:21.277957       1 gateway.go:415] latency, selectTargetPod, 0.2011, target pod, 10.0.0.134:8000
I0305 23:26:21.277965       1 gateway.go:235] latency, HandleRequestBody, 0.2016
I0305 23:26:21.277995       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1389
I0305 23:26:21.278000       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.278003       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.278121       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.278158       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:21.278163       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.282596       1 gateway.go:207] "Processing request" requestID="35357e5f-ca5c-4157-9306-624517286f97"
I0305 23:26:21.282634       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="35357e5f-ca5c-4157-9306-624517286f97"
I0305 23:26:21.282642       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.283797       1 gateway.go:608] "First token received" requestID="3e03ac9a-c8d1-4a4b-80ad-1eae7e676d42" ttft_ms=210
I0305 23:26:21.292609       1 gateway.go:329] "-- In RequestBody processing ..." requestID="35357e5f-ca5c-4157-9306-624517286f97"
I0305 23:26:21.292827       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="35357e5f-ca5c-4157-9306-624517286f97" model="qwen2-5-7b-instruct"
I0305 23:26:21.297103       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5c06078a-7d74-49a8-97b6-4acba84e800e"
I0305 23:26:21.314894       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5213ce8b, selectedpod, 10.0.1.53:8000, ttft, 148, tpot, 15, e2e, 287, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 23:26:21.314913       1 gateway.go:748] "Request completed" requestID="a236c11e-a155-4797-b544-19e5918309ab" targetPod="10.0.1.53:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 23:26:21.314923       1 gateway.go:764] "HandleResponseBody completed" requestID="a236c11e-a155-4797-b544-19e5918309ab" promptTokens=7622 completionTokens=10 stream=true
I0305 23:26:21.330912       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0527, numInputTokens, 7595
I0305 23:26:21.330932       1 tree.go:471] Updated node(0) last access: 128.6350 seconds
I0305 23:26:21.330946       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.330950       1 tree.go:471] Updated node(2) last access: 128.6350 seconds
I0305 23:26:21.330962       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:21.330966       1 tree.go:471] Updated node(38) last access: 128.6350 seconds
I0305 23:26:21.330976       1 tree.go:667] Split complete - New node(296)
I0305 23:26:21.330981       1 tree.go:668] Split complete - Child node(70)
I0305 23:26:21.330986       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 23:26:21.330989       1 tree.go:471] Updated node(296) last access: 128.6350 seconds
I0305 23:26:21.330994       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 23:26:21.330997       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 23:26:21.331002       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 23:26:21.331007       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.331012       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.330998867 +0000 UTC m=+128.753070402]
I0305 23:26:21.331025       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7483, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 23:26:21.331031       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 23:26:21.331086       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7483
I0305 23:26:21.331095       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.331103       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.331109       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.331115       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.331120       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.331124       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.331132       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.331141       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:21.331153       1 prefix_cache_and_load.go:584] latency, Route, 0.1921
I0305 23:26:21.331168       1 gateway.go:415] latency, selectTargetPod, 0.1921, target pod, 10.0.0.134:8000
I0305 23:26:21.331178       1 gateway.go:235] latency, HandleRequestBody, 0.1925
I0305 23:26:21.331208       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1473
I0305 23:26:21.331218       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.331222       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.331407       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.331454       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:21.331461       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.332326       1 gateway.go:608] "First token received" requestID="5c06078a-7d74-49a8-97b6-4acba84e800e" ttft_ms=255
I0305 23:26:21.332515       1 gateway.go:207] "Processing request" requestID="27b4cbb1-b9d3-4091-9ac3-ea602f135d13"
I0305 23:26:21.332537       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="27b4cbb1-b9d3-4091-9ac3-ea602f135d13"
I0305 23:26:21.332545       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.342118       1 gateway.go:329] "-- In RequestBody processing ..." requestID="27b4cbb1-b9d3-4091-9ac3-ea602f135d13"
I0305 23:26:21.342346       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="27b4cbb1-b9d3-4091-9ac3-ea602f135d13" model="qwen2-5-7b-instruct"
I0305 23:26:21.347161       1 gateway.go:207] "Processing request" requestID="3a1b122d-7456-4c66-af65-67fe8f4988f7"
I0305 23:26:21.347198       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3a1b122d-7456-4c66-af65-67fe8f4988f7"
I0305 23:26:21.347208       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.348734       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4cdf1bfa-344e-4307-a72c-5a4c43ccc846"
I0305 23:26:21.351885       1 gateway.go:207] "Processing request" requestID="259996f2-2d05-4838-a0e2-f0bcfcfd6e77"
I0305 23:26:21.351913       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="259996f2-2d05-4838-a0e2-f0bcfcfd6e77"
I0305 23:26:21.351921       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.356088       1 gateway.go:207] "Processing request" requestID="c3978761-d5c3-40e7-b59f-26a8ce6b858a"
I0305 23:26:21.356111       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c3978761-d5c3-40e7-b59f-26a8ce6b858a"
I0305 23:26:21.356119       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.357981       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3a1b122d-7456-4c66-af65-67fe8f4988f7"
I0305 23:26:21.358195       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3a1b122d-7456-4c66-af65-67fe8f4988f7" model="qwen2-5-7b-instruct"
I0305 23:26:21.359201       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c3978761-d5c3-40e7-b59f-26a8ce6b858a"
I0305 23:26:21.359432       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c3978761-d5c3-40e7-b59f-26a8ce6b858a" model="qwen2-5-7b-instruct"
I0305 23:26:21.362664       1 gateway.go:329] "-- In RequestBody processing ..." requestID="259996f2-2d05-4838-a0e2-f0bcfcfd6e77"
I0305 23:26:21.362944       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="259996f2-2d05-4838-a0e2-f0bcfcfd6e77" model="qwen2-5-7b-instruct"
I0305 23:26:21.375618       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1978ef9f, selectedpod, 10.0.3.13:8000, ttft, 159, tpot, 19, e2e, 335, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:21.375634       1 gateway.go:748] "Request completed" requestID="f108f339-6249-4d3f-a960-e5cf25c2a037" targetPod="10.0.3.13:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:21.375643       1 gateway.go:764] "HandleResponseBody completed" requestID="f108f339-6249-4d3f-a960-e5cf25c2a037" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:21.385004       1 gateway.go:608] "First token received" requestID="4cdf1bfa-344e-4307-a72c-5a4c43ccc846" ttft_ms=246
I0305 23:26:21.406075       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0746, numInputTokens, 7598
I0305 23:26:21.406094       1 tree.go:471] Updated node(0) last access: 128.7101 seconds
I0305 23:26:21.406100       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.406103       1 tree.go:471] Updated node(2) last access: 128.7102 seconds
I0305 23:26:21.406118       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 23:26:21.406122       1 tree.go:471] Updated node(4) last access: 128.7102 seconds
I0305 23:26:21.406126       1 tree.go:490] Partial tokens match child node(115). Continue to go deeper in the radix tree
I0305 23:26:21.406129       1 tree.go:471] Updated node(115) last access: 128.7102 seconds
I0305 23:26:21.406134       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 23:26:21.406140       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 23:26:21.406146       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:21.406154       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.406159       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.406141658 +0000 UTC m=+128.828213192]
I0305 23:26:21.406174       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 23:26:21.406181       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 23:26:21.406245       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-g94zx from longest matching node with match length 7481
I0305 23:26:21.406255       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.406262       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.406271       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.406277       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.406281       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.406285       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.406296       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.406308       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-g94zx="target_pod_ip" 10.0.1.20="(MISSING)"
I0305 23:26:21.406323       1 prefix_cache_and_load.go:584] latency, Route, 0.2224
I0305 23:26:21.406339       1 gateway.go:415] latency, selectTargetPod, 0.2225, target pod, 10.0.1.20:8000
I0305 23:26:21.406391       1 gateway.go:235] latency, HandleRequestBody, 0.2228
I0305 23:26:21.406422       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1135
I0305 23:26:21.406426       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.406429       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.406610       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.406670       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:21.406675       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.425976       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8dbfaa63-3e14-4598-8bd0-7f27fe6422e9"
I0305 23:26:21.456675       1 gateway.go:562] latency, 0.0000, summary, hash(request), 184b3928, selectedpod, 10.0.0.39:8000, ttft, 210, tpot, 19, e2e, 383, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:21.456696       1 gateway.go:748] "Request completed" requestID="3e03ac9a-c8d1-4a4b-80ad-1eae7e676d42" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:21.456709       1 gateway.go:764] "HandleResponseBody completed" requestID="3e03ac9a-c8d1-4a4b-80ad-1eae7e676d42" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:21.470227       1 gateway.go:608] "First token received" requestID="8dbfaa63-3e14-4598-8bd0-7f27fe6422e9" ttft_ms=286
I0305 23:26:21.473974       1 gateway.go:207] "Processing request" requestID="8cb8759b-07ba-421f-8736-3b6240624eda"
I0305 23:26:21.474001       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8cb8759b-07ba-421f-8736-3b6240624eda"
I0305 23:26:21.474011       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.482908       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8cb8759b-07ba-421f-8736-3b6240624eda"
I0305 23:26:21.483119       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8cb8759b-07ba-421f-8736-3b6240624eda" model="qwen2-5-7b-instruct"
I0305 23:26:21.496878       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0902, numInputTokens, 7599
I0305 23:26:21.496895       1 tree.go:471] Updated node(0) last access: 128.8009 seconds
I0305 23:26:21.496901       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.496906       1 tree.go:471] Updated node(2) last access: 128.8010 seconds
I0305 23:26:21.496919       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:21.496923       1 tree.go:471] Updated node(33) last access: 128.8010 seconds
I0305 23:26:21.496926       1 tree.go:490] Partial tokens match child node(48). Continue to go deeper in the radix tree
I0305 23:26:21.496928       1 tree.go:471] Updated node(48) last access: 128.8010 seconds
I0305 23:26:21.496932       1 tree.go:490] Partial tokens match child node(62). Continue to go deeper in the radix tree
I0305 23:26:21.496941       1 tree.go:471] Updated node(62) last access: 128.8010 seconds
I0305 23:26:21.496948       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:21.496953       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:21.496959       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:21.496966       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.496971       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.496954778 +0000 UTC m=+128.919026313]
I0305 23:26:21.496984       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7485, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:21.496991       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:21.497067       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7485
I0305 23:26:21.497080       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.497092       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.497096       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.497105       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.497113       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.497135       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.497150       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.497166       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.497174       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:21.497183       1 prefix_cache_and_load.go:584] latency, Route, 0.2043
I0305 23:26:21.497196       1 gateway.go:415] latency, selectTargetPod, 0.2043, target pod, 10.0.3.38:8000
I0305 23:26:21.497205       1 gateway.go:235] latency, HandleRequestBody, 0.2046
I0305 23:26:21.497229       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1548
I0305 23:26:21.497239       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.497243       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.497418       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.497469       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:21.497476       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.513453       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="35357e5f-ca5c-4157-9306-624517286f97"
I0305 23:26:21.533518       1 gateway.go:207] "Processing request" requestID="5c7c88e9-fa3f-4d4f-bec9-665ee0b9e873"
I0305 23:26:21.533558       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5c7c88e9-fa3f-4d4f-bec9-665ee0b9e873"
I0305 23:26:21.533568       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.544408       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5c7c88e9-fa3f-4d4f-bec9-665ee0b9e873"
I0305 23:26:21.544651       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5c7c88e9-fa3f-4d4f-bec9-665ee0b9e873" model="qwen2-5-7b-instruct"
I0305 23:26:21.546546       1 gateway.go:562] latency, 0.0001, summary, hash(request), 46d1fa4c, selectedpod, 10.0.0.134:8000, ttft, 255, tpot, 23, e2e, 469, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 23:26:21.546681       1 gateway.go:748] "Request completed" requestID="5c06078a-7d74-49a8-97b6-4acba84e800e" targetPod="10.0.0.134:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 23:26:21.546705       1 gateway.go:764] "HandleResponseBody completed" requestID="5c06078a-7d74-49a8-97b6-4acba84e800e" promptTokens=7615 completionTokens=10 stream=true
I0305 23:26:21.549833       1 gateway.go:608] "First token received" requestID="35357e5f-ca5c-4157-9306-624517286f97" ttft_ms=257
I0305 23:26:21.551246       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0538, numInputTokens, 7598
I0305 23:26:21.551278       1 tree.go:471] Updated node(0) last access: 128.8553 seconds
I0305 23:26:21.551286       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.551295       1 tree.go:471] Updated node(2) last access: 128.8553 seconds
I0305 23:26:21.551313       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:21.551317       1 tree.go:471] Updated node(38) last access: 128.8554 seconds
I0305 23:26:21.551340       1 tree.go:667] Split complete - New node(300)
I0305 23:26:21.551345       1 tree.go:668] Split complete - Child node(26)
I0305 23:26:21.551351       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 23:26:21.551362       1 tree.go:471] Updated node(300) last access: 128.8554 seconds
I0305 23:26:21.551369       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 23:26:21.551374       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 23:26:21.551382       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:21.551389       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.551395       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.551376136 +0000 UTC m=+128.973447670]
I0305 23:26:21.551415       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7483, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 23:26:21.551426       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 23:26:21.567268       1 gateway.go:562] latency, 0.0001, summary, hash(request), f3f79d1a, selectedpod, 10.0.0.134:8000, ttft, 246, tpot, 20, e2e, 428, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 23:26:21.567295       1 gateway.go:748] "Request completed" requestID="4cdf1bfa-344e-4307-a72c-5a4c43ccc846" targetPod="10.0.0.134:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 23:26:21.567313       1 gateway.go:764] "HandleResponseBody completed" requestID="4cdf1bfa-344e-4307-a72c-5a4c43ccc846" promptTokens=7614 completionTokens=10 stream=true
I0305 23:26:21.575603       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7483
I0305 23:26:21.575622       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0242
I0305 23:26:21.575631       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.575639       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.575646       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.575653       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.575659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.575668       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.575708       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:21.575737       1 prefix_cache_and_load.go:584] latency, Route, 0.2333
I0305 23:26:21.575761       1 gateway.go:415] latency, selectTargetPod, 0.2333, target pod, 10.0.0.134:8000
I0305 23:26:21.575781       1 gateway.go:235] latency, HandleRequestBody, 0.2337
I0305 23:26:21.575816       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2175
I0305 23:26:21.575823       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.575827       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.576339       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.576416       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0006
I0305 23:26:21.576424       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.593685       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="27b4cbb1-b9d3-4091-9ac3-ea602f135d13"
I0305 23:26:21.612342       1 gateway.go:207] "Processing request" requestID="e99c0b4b-00aa-4a95-83f7-e596d4627d23"
I0305 23:26:21.612363       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e99c0b4b-00aa-4a95-83f7-e596d4627d23"
I0305 23:26:21.612372       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.622864       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e99c0b4b-00aa-4a95-83f7-e596d4627d23"
I0305 23:26:21.623080       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e99c0b4b-00aa-4a95-83f7-e596d4627d23" model="qwen2-5-7b-instruct"
I0305 23:26:21.626372       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 7599
I0305 23:26:21.626389       1 tree.go:471] Updated node(0) last access: 128.9304 seconds
I0305 23:26:21.626395       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.626399       1 tree.go:471] Updated node(2) last access: 128.9305 seconds
I0305 23:26:21.626412       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:21.626417       1 tree.go:471] Updated node(38) last access: 128.9305 seconds
I0305 23:26:21.626420       1 tree.go:490] Partial tokens match child node(204). Continue to go deeper in the radix tree
I0305 23:26:21.626423       1 tree.go:471] Updated node(204) last access: 128.9305 seconds
I0305 23:26:21.626428       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:21.626432       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:21.626439       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:21.626475       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.626482       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.626434437 +0000 UTC m=+129.048505979]
I0305 23:26:21.626495       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:21.626503       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:21.626557       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7483
I0305 23:26:21.626568       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.626580       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.626589       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.626598       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.626606       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.626610       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.626617       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.626626       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:21.626638       1 prefix_cache_and_load.go:584] latency, Route, 0.2684
I0305 23:26:21.626652       1 gateway.go:415] latency, selectTargetPod, 0.2684, target pod, 10.0.0.134:8000
I0305 23:26:21.626664       1 gateway.go:235] latency, HandleRequestBody, 0.2687
I0305 23:26:21.626664       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2671
I0305 23:26:21.626673       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.626677       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.626859       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.626902       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:21.626908       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.636677       1 gateway.go:608] "First token received" requestID="27b4cbb1-b9d3-4091-9ac3-ea602f135d13" ttft_ms=294
I0305 23:26:21.643296       1 gateway.go:562] latency, 0.0000, summary, hash(request), 10b8fc89, selectedpod, 10.0.1.20:8000, ttft, 286, tpot, 19, e2e, 459, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:21.643312       1 gateway.go:748] "Request completed" requestID="8dbfaa63-3e14-4598-8bd0-7f27fe6422e9" targetPod="10.0.1.20:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:21.643323       1 gateway.go:764] "HandleResponseBody completed" requestID="8dbfaa63-3e14-4598-8bd0-7f27fe6422e9" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:21.644687       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3a1b122d-7456-4c66-af65-67fe8f4988f7"
I0305 23:26:21.691466       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0646, numInputTokens, 7602
I0305 23:26:21.691483       1 tree.go:471] Updated node(0) last access: 128.9955 seconds
I0305 23:26:21.691489       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.691493       1 tree.go:471] Updated node(2) last access: 128.9955 seconds
I0305 23:26:21.691549       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 23:26:21.691555       1 tree.go:471] Updated node(23) last access: 128.9956 seconds
I0305 23:26:21.691564       1 tree.go:667] Split complete - New node(303)
I0305 23:26:21.691567       1 tree.go:668] Split complete - Child node(269)
I0305 23:26:21.691572       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 23:26:21.691577       1 tree.go:471] Updated node(303) last access: 128.9956 seconds
I0305 23:26:21.691582       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 23:26:21.691595       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 23:26:21.691604       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 23:26:21.691610       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.691615       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.691597504 +0000 UTC m=+129.113669039]
I0305 23:26:21.691629       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7489, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 23:26:21.691637       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 23:26:21.691754       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gp285 from longest matching node with match length 7489
I0305 23:26:21.691765       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.691772       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.691777       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.691780       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.691793       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.691800       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.691818       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.691836       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gp285="target_pod_ip" 10.0.3.13="(MISSING)"
I0305 23:26:21.691846       1 prefix_cache_and_load.go:584] latency, Route, 0.3323
I0305 23:26:21.691860       1 gateway.go:415] latency, selectTargetPod, 0.3323, target pod, 10.0.3.13:8000
I0305 23:26:21.691871       1 gateway.go:235] latency, HandleRequestBody, 0.3327
I0305 23:26:21.691895       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3289
I0305 23:26:21.691900       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.691903       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.692041       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.692077       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:21.692082       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.700092       1 gateway.go:608] "First token received" requestID="3a1b122d-7456-4c66-af65-67fe8f4988f7" ttft_ms=342
I0305 23:26:21.708607       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c3978761-d5c3-40e7-b59f-26a8ce6b858a"
I0305 23:26:21.721661       1 gateway.go:562] latency, 0.0000, summary, hash(request), f2217700, selectedpod, 10.0.3.38:8000, ttft, 257, tpot, 19, e2e, 428, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:21.721680       1 gateway.go:748] "Request completed" requestID="35357e5f-ca5c-4157-9306-624517286f97" targetPod="10.0.3.38:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:21.721689       1 gateway.go:764] "HandleResponseBody completed" requestID="35357e5f-ca5c-4157-9306-624517286f97" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:21.744296       1 gateway.go:608] "First token received" requestID="c3978761-d5c3-40e7-b59f-26a8ce6b858a" ttft_ms=385
I0305 23:26:21.776756       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0847, numInputTokens, 7603
I0305 23:26:21.776770       1 tree.go:471] Updated node(0) last access: 129.0808 seconds
I0305 23:26:21.776776       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.776779       1 tree.go:471] Updated node(2) last access: 129.0808 seconds
I0305 23:26:21.776794       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:21.776798       1 tree.go:471] Updated node(21) last access: 129.0809 seconds
I0305 23:26:21.776807       1 tree.go:667] Split complete - New node(305)
I0305 23:26:21.776811       1 tree.go:668] Split complete - Child node(267)
I0305 23:26:21.776816       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0305 23:26:21.776822       1 tree.go:471] Updated node(305) last access: 129.0809 seconds
I0305 23:26:21.776827       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 23:26:21.776857       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 23:26:21.776868       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 23:26:21.776874       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.776879       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.776863498 +0000 UTC m=+129.198935033]
I0305 23:26:21.776895       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7480, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 23:26:21.776903       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 23:26:21.776983       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7480
I0305 23:26:21.776997       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.777008       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.777014       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.777021       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.777025       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.777031       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.777041       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.777053       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:21.777066       1 prefix_cache_and_load.go:584] latency, Route, 0.4140
I0305 23:26:21.777084       1 gateway.go:415] latency, selectTargetPod, 0.4141, target pod, 10.0.0.39:8000
I0305 23:26:21.777095       1 gateway.go:235] latency, HandleRequestBody, 0.4144
I0305 23:26:21.777124       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2939
I0305 23:26:21.777129       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.777132       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.777257       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.777289       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:21.777294       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.795617       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="259996f2-2d05-4838-a0e2-f0bcfcfd6e77"
I0305 23:26:21.829459       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0522, numInputTokens, 7594
I0305 23:26:21.829479       1 tree.go:471] Updated node(0) last access: 129.1335 seconds
I0305 23:26:21.829485       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.829488       1 tree.go:471] Updated node(2) last access: 129.1335 seconds
I0305 23:26:21.829500       1 tree.go:490] Partial tokens match child node(33). Continue to go deeper in the radix tree
I0305 23:26:21.829505       1 tree.go:471] Updated node(33) last access: 129.1336 seconds
I0305 23:26:21.829508       1 tree.go:490] Partial tokens match child node(96). Continue to go deeper in the radix tree
I0305 23:26:21.829510       1 tree.go:471] Updated node(96) last access: 129.1336 seconds
I0305 23:26:21.829516       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 23:26:21.829522       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 23:26:21.829529       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 23:26:21.829536       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.829541       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.829524062 +0000 UTC m=+129.251595597]
I0305 23:26:21.829562       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7484, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 23:26:21.829570       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 23:26:21.829626       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-s8z62 from longest matching node with match length 7484
I0305 23:26:21.829637       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.829643       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.829651       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.829655       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.829659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.829663       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.829672       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.829681       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-s8z62="target_pod_ip" 10.0.3.38="(MISSING)"
I0305 23:26:21.829692       1 prefix_cache_and_load.go:584] latency, Route, 0.3465
I0305 23:26:21.829707       1 gateway.go:415] latency, selectTargetPod, 0.3465, target pod, 10.0.3.38:8000
I0305 23:26:21.829716       1 gateway.go:235] latency, HandleRequestBody, 0.3468
I0305 23:26:21.829743       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2850
I0305 23:26:21.829748       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.829751       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.829874       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.829907       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:21.829911       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.835968       1 gateway.go:207] "Processing request" requestID="b0407a81-ec07-40b7-b132-108986f94e9d"
I0305 23:26:21.836010       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b0407a81-ec07-40b7-b132-108986f94e9d"
I0305 23:26:21.836021       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:21.838428       1 gateway.go:608] "First token received" requestID="259996f2-2d05-4838-a0e2-f0bcfcfd6e77" ttft_ms=475
I0305 23:26:21.845455       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8cb8759b-07ba-421f-8736-3b6240624eda"
I0305 23:26:21.847628       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b0407a81-ec07-40b7-b132-108986f94e9d"
I0305 23:26:21.847970       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b0407a81-ec07-40b7-b132-108986f94e9d" model="qwen2-5-7b-instruct"
I0305 23:26:21.875570       1 gateway.go:562] latency, 0.0000, summary, hash(request), a6cc659e, selectedpod, 10.0.0.134:8000, ttft, 294, tpot, 26, e2e, 533, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 23:26:21.875595       1 gateway.go:748] "Request completed" requestID="27b4cbb1-b9d3-4091-9ac3-ea602f135d13" targetPod="10.0.0.134:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 23:26:21.875607       1 gateway.go:764] "HandleResponseBody completed" requestID="27b4cbb1-b9d3-4091-9ac3-ea602f135d13" promptTokens=7617 completionTokens=10 stream=true
I0305 23:26:21.878576       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4746dbed, selectedpod, 10.0.0.134:8000, ttft, 342, tpot, 19, e2e, 520, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:21.878590       1 gateway.go:748] "Request completed" requestID="3a1b122d-7456-4c66-af65-67fe8f4988f7" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:21.878598       1 gateway.go:764] "HandleResponseBody completed" requestID="3a1b122d-7456-4c66-af65-67fe8f4988f7" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:21.880531       1 gateway.go:608] "First token received" requestID="8cb8759b-07ba-421f-8736-3b6240624eda" ttft_ms=397
I0305 23:26:21.907320       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0774, numInputTokens, 7599
I0305 23:26:21.907334       1 tree.go:471] Updated node(0) last access: 129.2114 seconds
I0305 23:26:21.907340       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.907343       1 tree.go:471] Updated node(2) last access: 129.2114 seconds
I0305 23:26:21.907355       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:21.907358       1 tree.go:471] Updated node(38) last access: 129.2114 seconds
I0305 23:26:21.907361       1 tree.go:490] Partial tokens match child node(204). Continue to go deeper in the radix tree
I0305 23:26:21.907365       1 tree.go:471] Updated node(204) last access: 129.2114 seconds
I0305 23:26:21.907371       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:21.907375       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 23:26:21.907381       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:21.907388       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.907393       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.907377109 +0000 UTC m=+129.329448644]
I0305 23:26:21.907406       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:21.907412       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:21.907476       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7483
I0305 23:26:21.907486       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.907493       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.907497       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.907501       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.907506       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.907510       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.907519       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.907527       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:21.907535       1 prefix_cache_and_load.go:584] latency, Route, 0.3628
I0305 23:26:21.907571       1 gateway.go:415] latency, selectTargetPod, 0.3628, target pod, 10.0.0.134:8000
I0305 23:26:21.907578       1 gateway.go:235] latency, HandleRequestBody, 0.3632
I0305 23:26:21.907603       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2845
I0305 23:26:21.907614       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.907617       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.907802       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.907839       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:21.907845       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:21.917121       1 gateway.go:562] latency, 0.0001, summary, hash(request), 9a40b6d9, selectedpod, 10.0.3.13:8000, ttft, 385, tpot, 19, e2e, 557, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 23:26:21.917154       1 gateway.go:748] "Request completed" requestID="c3978761-d5c3-40e7-b59f-26a8ce6b858a" targetPod="10.0.3.13:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 23:26:21.917181       1 gateway.go:764] "HandleResponseBody completed" requestID="c3978761-d5c3-40e7-b59f-26a8ce6b858a" promptTokens=7621 completionTokens=10 stream=true
I0305 23:26:21.925709       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5c7c88e9-fa3f-4d4f-bec9-665ee0b9e873"
I0305 23:26:21.968190       1 gateway.go:608] "First token received" requestID="5c7c88e9-fa3f-4d4f-bec9-665ee0b9e873" ttft_ms=423
I0305 23:26:21.993479       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0856, numInputTokens, 7600
I0305 23:26:21.993498       1 tree.go:471] Updated node(0) last access: 129.2976 seconds
I0305 23:26:21.993504       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:21.993508       1 tree.go:471] Updated node(2) last access: 129.2976 seconds
I0305 23:26:21.993522       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 23:26:21.993526       1 tree.go:471] Updated node(21) last access: 129.2976 seconds
I0305 23:26:21.993532       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 23:26:21.993538       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 23:26:21.993545       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:21.993552       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:21.993557       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:21.993540127 +0000 UTC m=+129.415611672]
I0305 23:26:21.993572       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 23:26:21.993578       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 23:26:21.993636       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-hbwcf from longest matching node with match length 7478
I0305 23:26:21.993644       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:21.993652       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.993657       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.993661       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.993667       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:21.993693       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:21.993703       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-hbwcf="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 23:26:21.993714       1 prefix_cache_and_load.go:584] latency, Route, 0.3706
I0305 23:26:21.993736       1 gateway.go:415] latency, selectTargetPod, 0.3706, target pod, 10.0.0.39:8000
I0305 23:26:21.993748       1 gateway.go:235] latency, HandleRequestBody, 0.3709
I0305 23:26:21.993795       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1457
I0305 23:26:21.993801       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:21.993804       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:21.993925       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:21.993965       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:21.993970       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:22.012978       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e99c0b4b-00aa-4a95-83f7-e596d4627d23"
I0305 23:26:22.013204       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6597b6bb, selectedpod, 10.0.0.39:8000, ttft, 475, tpot, 19, e2e, 650, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 23:26:22.013231       1 gateway.go:748] "Request completed" requestID="259996f2-2d05-4838-a0e2-f0bcfcfd6e77" targetPod="10.0.0.39:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 23:26:22.013246       1 gateway.go:764] "HandleResponseBody completed" requestID="259996f2-2d05-4838-a0e2-f0bcfcfd6e77" promptTokens=7622 completionTokens=10 stream=true
I0305 23:26:22.041999       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0480, numInputTokens, 7600
I0305 23:26:22.042015       1 tree.go:471] Updated node(0) last access: 129.3461 seconds
I0305 23:26:22.042021       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:22.042024       1 tree.go:471] Updated node(2) last access: 129.3461 seconds
I0305 23:26:22.042037       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:22.042041       1 tree.go:471] Updated node(11) last access: 129.3461 seconds
I0305 23:26:22.042046       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0305 23:26:22.042049       1 tree.go:471] Updated node(40) last access: 129.3461 seconds
I0305 23:26:22.042057       1 tree.go:667] Split complete - New node(310)
I0305 23:26:22.042060       1 tree.go:668] Split complete - Child node(246)
I0305 23:26:22.042064       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 23:26:22.042070       1 tree.go:471] Updated node(310) last access: 129.3461 seconds
I0305 23:26:22.042075       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:22.042078       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 23:26:22.042085       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 23:26:22.042093       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:22.042099       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:22.042080782 +0000 UTC m=+129.464152316]
I0305 23:26:22.042117       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:22.042125       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:22.042189       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7484
I0305 23:26:22.042201       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:22.042213       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.042219       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.042225       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.042233       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.042239       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.042245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.042264       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:22.042277       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:22.042289       1 prefix_cache_and_load.go:584] latency, Route, 0.1942
I0305 23:26:22.042302       1 gateway.go:415] latency, selectTargetPod, 0.1942, target pod, 10.0.1.25:8000
I0305 23:26:22.042314       1 gateway.go:235] latency, HandleRequestBody, 0.1947
I0305 23:26:22.053920       1 gateway.go:562] latency, 0.0000, summary, hash(request), db40a31f, selectedpod, 10.0.3.38:8000, ttft, 397, tpot, 19, e2e, 570, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 23:26:22.053945       1 gateway.go:748] "Request completed" requestID="8cb8759b-07ba-421f-8736-3b6240624eda" targetPod="10.0.3.38:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 23:26:22.053958       1 gateway.go:764] "HandleResponseBody completed" requestID="8cb8759b-07ba-421f-8736-3b6240624eda" promptTokens=7613 completionTokens=10 stream=true
I0305 23:26:22.062109       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b0407a81-ec07-40b7-b132-108986f94e9d"
I0305 23:26:22.070856       1 gateway.go:608] "First token received" requestID="e99c0b4b-00aa-4a95-83f7-e596d4627d23" ttft_ms=447
I0305 23:26:22.098125       1 gateway.go:608] "First token received" requestID="b0407a81-ec07-40b7-b132-108986f94e9d" ttft_ms=250
I0305 23:26:22.141233       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4292a327, selectedpod, 10.0.0.134:8000, ttft, 423, tpot, 19, e2e, 596, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 23:26:22.141249       1 gateway.go:748] "Request completed" requestID="5c7c88e9-fa3f-4d4f-bec9-665ee0b9e873" targetPod="10.0.0.134:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 23:26:22.141257       1 gateway.go:764] "HandleResponseBody completed" requestID="5c7c88e9-fa3f-4d4f-bec9-665ee0b9e873" promptTokens=7618 completionTokens=10 stream=true
I0305 23:26:22.243551       1 gateway.go:562] latency, 0.0000, summary, hash(request), 340fc362, selectedpod, 10.0.0.39:8000, ttft, 447, tpot, 19, e2e, 620, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:22.243573       1 gateway.go:748] "Request completed" requestID="e99c0b4b-00aa-4a95-83f7-e596d4627d23" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:22.243586       1 gateway.go:764] "HandleResponseBody completed" requestID="e99c0b4b-00aa-4a95-83f7-e596d4627d23" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:22.271019       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5b7afd2e, selectedpod, 10.0.1.25:8000, ttft, 250, tpot, 19, e2e, 423, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:22.271037       1 gateway.go:748] "Request completed" requestID="b0407a81-ec07-40b7-b132-108986f94e9d" targetPod="10.0.1.25:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:22.271045       1 gateway.go:764] "HandleResponseBody completed" requestID="b0407a81-ec07-40b7-b132-108986f94e9d" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:22.303125       1 gateway.go:207] "Processing request" requestID="39dea0c7-1754-439c-b330-ece052564efb"
I0305 23:26:22.303145       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="39dea0c7-1754-439c-b330-ece052564efb"
I0305 23:26:22.303154       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:22.313945       1 gateway.go:329] "-- In RequestBody processing ..." requestID="39dea0c7-1754-439c-b330-ece052564efb"
I0305 23:26:22.314172       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="39dea0c7-1754-439c-b330-ece052564efb" model="qwen2-5-7b-instruct"
I0305 23:26:22.314258       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:22.314267       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:22.314271       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:22.314456       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:22.314492       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:22.314498       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:22.338122       1 gateway.go:207] "Processing request" requestID="e991f7e9-2a3d-46d2-bbf8-3b9420736d90"
I0305 23:26:22.338154       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e991f7e9-2a3d-46d2-bbf8-3b9420736d90"
I0305 23:26:22.338163       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:22.348807       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e991f7e9-2a3d-46d2-bbf8-3b9420736d90"
I0305 23:26:22.349021       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e991f7e9-2a3d-46d2-bbf8-3b9420736d90" model="qwen2-5-7b-instruct"
I0305 23:26:22.366940       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0524, numInputTokens, 7597
I0305 23:26:22.366960       1 tree.go:471] Updated node(0) last access: 129.6710 seconds
I0305 23:26:22.366966       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:22.366971       1 tree.go:471] Updated node(2) last access: 129.6710 seconds
I0305 23:26:22.366984       1 tree.go:490] Partial tokens match child node(11). Continue to go deeper in the radix tree
I0305 23:26:22.366989       1 tree.go:471] Updated node(11) last access: 129.6710 seconds
I0305 23:26:22.366995       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0305 23:26:22.366999       1 tree.go:471] Updated node(40) last access: 129.6711 seconds
I0305 23:26:22.367006       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 23:26:22.367011       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 23:26:22.367018       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 23:26:22.367024       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:22.367029       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:22.367012903 +0000 UTC m=+129.789084437]
I0305 23:26:22.367046       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7481, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 23:26:22.367056       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 23:26:22.367127       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-nk25n from longest matching node with match length 7481
I0305 23:26:22.367136       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:22.367143       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.367148       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.367153       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.367161       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.367171       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.367186       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:22.367199       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-nk25n="target_pod_ip" 10.0.1.25="(MISSING)"
I0305 23:26:22.367209       1 prefix_cache_and_load.go:584] latency, Route, 0.0529
I0305 23:26:22.367225       1 gateway.go:415] latency, selectTargetPod, 0.0530, target pod, 10.0.1.25:8000
I0305 23:26:22.367237       1 gateway.go:235] latency, HandleRequestBody, 0.0533
I0305 23:26:22.367272       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0182
I0305 23:26:22.367278       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:22.367282       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:22.367416       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:22.367466       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:22.367472       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:22.385418       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="39dea0c7-1754-439c-b330-ece052564efb"
I0305 23:26:22.418337       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0509, numInputTokens, 7601
I0305 23:26:22.418355       1 tree.go:471] Updated node(0) last access: 129.7224 seconds
I0305 23:26:22.418363       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:22.418368       1 tree.go:471] Updated node(2) last access: 129.7224 seconds
I0305 23:26:22.418385       1 tree.go:490] Partial tokens match child node(19). Continue to go deeper in the radix tree
I0305 23:26:22.418391       1 tree.go:471] Updated node(19) last access: 129.7224 seconds
I0305 23:26:22.418397       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 23:26:22.418402       1 tree.go:471] Updated node(85) last access: 129.7225 seconds
I0305 23:26:22.418406       1 tree.go:490] Partial tokens match child node(234). Continue to go deeper in the radix tree
I0305 23:26:22.418410       1 tree.go:471] Updated node(234) last access: 129.7225 seconds
I0305 23:26:22.418429       1 tree.go:667] Split complete - New node(313)
I0305 23:26:22.418434       1 tree.go:668] Split complete - Child node(20)
I0305 23:26:22.418449       1 tree.go:501] latency, splitNode, 0.0000 seconds, 111 tokens:
I0305 23:26:22.418456       1 tree.go:471] Updated node(313) last access: 129.7225 seconds
I0305 23:26:22.418465       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0305 23:26:22.418470       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 23:26:22.418479       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 23:26:22.418487       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:22.418494       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:22.418472543 +0000 UTC m=+129.840544083]
I0305 23:26:22.418517       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7493, Matching ratio: 0.9858, # Matched pods: 0, Matched pods: []
I0305 23:26:22.418526       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9858 > 0.5000)
I0305 23:26:22.418635       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-gvzzg from longest matching node with match length 7493
I0305 23:26:22.418648       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:22.418659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.418668       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.418676       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.418689       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.418696       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.418700       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.418706       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.418725       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:22.418738       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-gvzzg="target_pod_ip" 10.0.0.4="(MISSING)"
I0305 23:26:22.418751       1 prefix_cache_and_load.go:584] latency, Route, 0.0697
I0305 23:26:22.418770       1 gateway.go:415] latency, selectTargetPod, 0.0697, target pod, 10.0.0.4:8000
I0305 23:26:22.418783       1 gateway.go:235] latency, HandleRequestBody, 0.0700
I0305 23:26:22.428122       1 gateway.go:608] "First token received" requestID="39dea0c7-1754-439c-b330-ece052564efb" ttft_ms=114
I0305 23:26:22.432061       1 gateway.go:207] "Processing request" requestID="6721a6c7-2d16-41c4-91f8-240c04ea192e"
I0305 23:26:22.432091       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6721a6c7-2d16-41c4-91f8-240c04ea192e"
I0305 23:26:22.432102       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:22.437609       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e991f7e9-2a3d-46d2-bbf8-3b9420736d90"
I0305 23:26:22.442905       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6721a6c7-2d16-41c4-91f8-240c04ea192e"
I0305 23:26:22.443117       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6721a6c7-2d16-41c4-91f8-240c04ea192e" model="qwen2-5-7b-instruct"
I0305 23:26:22.443196       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 23:26:22.443202       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:22.443206       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:22.443373       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:22.443413       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:22.443419       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:22.460013       1 gateway.go:207] "Processing request" requestID="0e648c32-1e78-47d6-aaca-7e5e542a2acc"
I0305 23:26:22.460044       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0e648c32-1e78-47d6-aaca-7e5e542a2acc"
I0305 23:26:22.460052       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:22.462573       1 gateway.go:207] "Processing request" requestID="17e0d921-4d94-4ea1-8da9-cee4d22c2080"
I0305 23:26:22.462607       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="17e0d921-4d94-4ea1-8da9-cee4d22c2080"
I0305 23:26:22.462616       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:22.468553       1 gateway.go:329] "-- In RequestBody processing ..." requestID="17e0d921-4d94-4ea1-8da9-cee4d22c2080"
I0305 23:26:22.468759       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="17e0d921-4d94-4ea1-8da9-cee4d22c2080" model="qwen2-5-7b-instruct"
I0305 23:26:22.472075       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0e648c32-1e78-47d6-aaca-7e5e542a2acc"
I0305 23:26:22.472296       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0e648c32-1e78-47d6-aaca-7e5e542a2acc" model="qwen2-5-7b-instruct"
I0305 23:26:22.474193       1 gateway.go:608] "First token received" requestID="e991f7e9-2a3d-46d2-bbf8-3b9420736d90" ttft_ms=125
I0305 23:26:22.498519       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0551, numInputTokens, 7599
I0305 23:26:22.498537       1 tree.go:471] Updated node(0) last access: 129.8026 seconds
I0305 23:26:22.498544       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:22.498547       1 tree.go:471] Updated node(2) last access: 129.8026 seconds
I0305 23:26:22.498562       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:22.498568       1 tree.go:471] Updated node(38) last access: 129.8026 seconds
I0305 23:26:22.498573       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 23:26:22.498577       1 tree.go:471] Updated node(75) last access: 129.8026 seconds
I0305 23:26:22.498580       1 tree.go:490] Partial tokens match child node(285). Continue to go deeper in the radix tree
I0305 23:26:22.498583       1 tree.go:471] Updated node(285) last access: 129.8026 seconds
I0305 23:26:22.498589       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 23:26:22.498593       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 23:26:22.498602       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 23:26:22.498608       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 23:26:22.498613       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:22.498596988 +0000 UTC m=+129.920668523]
I0305 23:26:22.498626       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7485, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 23:26:22.498646       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 23:26:22.498717       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7485
I0305 23:26:22.498727       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:22.498738       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.498744       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.498749       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.498754       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.498760       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.498764       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.498776       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:22.498785       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:22.498795       1 prefix_cache_and_load.go:584] latency, Route, 0.0556
I0305 23:26:22.498815       1 gateway.go:415] latency, selectTargetPod, 0.0556, target pod, 10.0.0.134:8000
I0305 23:26:22.498825       1 gateway.go:235] latency, HandleRequestBody, 0.0559
I0305 23:26:22.498872       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0301
I0305 23:26:22.498877       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:22.498880       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:22.499036       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:22.499072       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 23:26:22.499077       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:22.517609       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6721a6c7-2d16-41c4-91f8-240c04ea192e"
I0305 23:26:22.551114       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0520, numInputTokens, 7598
I0305 23:26:22.551150       1 tree.go:471] Updated node(0) last access: 129.8552 seconds
I0305 23:26:22.551157       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 23:26:22.551197       1 tree.go:471] Updated node(2) last access: 129.8552 seconds
I0305 23:26:22.551238       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 23:26:22.551249       1 tree.go:471] Updated node(38) last access: 129.8553 seconds
I0305 23:26:22.551253       1 tree.go:490] Partial tokens match child node(204). Continue to go deeper in the radix tree
I0305 23:26:22.551257       1 tree.go:471] Updated node(204) last access: 129.8553 seconds
I0305 23:26:22.551278       1 tree.go:667] Split complete - New node(316)
I0305 23:26:22.551284       1 tree.go:668] Split complete - Child node(205)
I0305 23:26:22.551292       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 23:26:22.551299       1 tree.go:471] Updated node(316) last access: 129.8554 seconds
I0305 23:26:22.551312       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 23:26:22.551317       1 tree.go:449] latency, insertHelper, 0.0002 seconds, 7598 tokens
I0305 23:26:22.551326       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 23:26:22.551335       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 23:26:22.551340       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 23:26:22.551319986 +0000 UTC m=+129.973391521]
I0305 23:26:22.551355       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7486, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 23:26:22.551363       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 23:26:22.551493       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-7d76f8b9cb-p679j from longest matching node with match length 7486
I0305 23:26:22.551505       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 23:26:22.551515       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.551525       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.551531       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.551537       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.551545       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.551550       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 23:26:22.551569       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 23:26:22.551579       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-7d76f8b9cb-p679j="target_pod_ip" 10.0.0.134="(MISSING)"
I0305 23:26:22.551590       1 prefix_cache_and_load.go:584] latency, Route, 0.0828
I0305 23:26:22.551606       1 gateway.go:415] latency, selectTargetPod, 0.0828, target pod, 10.0.0.134:8000
I0305 23:26:22.551624       1 gateway.go:235] latency, HandleRequestBody, 0.0831
I0305 23:26:22.551631       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0792
I0305 23:26:22.551653       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 23:26:22.551659       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 23:26:22.552027       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 23:26:22.552148       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 23:26:22.552156       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 23:26:22.553145       1 gateway.go:608] "First token received" requestID="6721a6c7-2d16-41c4-91f8-240c04ea192e" ttft_ms=110
I0305 23:26:22.568864       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="17e0d921-4d94-4ea1-8da9-cee4d22c2080"
I0305 23:26:22.600659       1 gateway.go:562] latency, 0.0000, summary, hash(request), 956641d3, selectedpod, 10.0.1.25:8000, ttft, 114, tpot, 19, e2e, 286, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 23:26:22.600684       1 gateway.go:748] "Request completed" requestID="39dea0c7-1754-439c-b330-ece052564efb" targetPod="10.0.1.25:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 23:26:22.600695       1 gateway.go:764] "HandleResponseBody completed" requestID="39dea0c7-1754-439c-b330-ece052564efb" promptTokens=7619 completionTokens=10 stream=true
I0305 23:26:22.605898       1 gateway.go:608] "First token received" requestID="17e0d921-4d94-4ea1-8da9-cee4d22c2080" ttft_ms=137
I0305 23:26:22.609063       1 gateway.go:207] "Processing request" requestID="386d10ce-d29e-4c17-9b57-ce8d3f99dcaa"
I0305 23:26:22.609085       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="386d10ce-d29e-4c17-9b57-ce8d3f99dcaa"
I0305 23:26:22.609093       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 23:26:22.618617       1 gateway.go:329] "-- In RequestBody processing ..." requestID="386d10ce-d29e-4c17-9b57-ce8d3f99dcaa"
I0305 23:26:22.618888       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="386d10ce-d29e-4c17-9b57-ce8d3f99dcaa" model="qwen2-5-7b-instruct"
I0305 23:26:22.626266       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0741, numInputTokens, 7598
