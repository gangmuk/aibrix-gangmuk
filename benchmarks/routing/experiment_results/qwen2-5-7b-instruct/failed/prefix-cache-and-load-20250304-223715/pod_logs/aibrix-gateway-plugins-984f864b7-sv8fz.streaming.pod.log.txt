I0305 06:37:21.794465       1 cache.go:137] using AIBRIX_POD_METRIC_REFRESH_INTERVAL_MS env value for pod metrics refresh interval: 1000 ms
W0305 06:37:21.794661       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_BLOCK_SIZE is not set, using default value: 
I0305 06:37:21.794847       1 hash.go:56] using default prefix cache block size: 16
W0305 06:37:21.794851       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_EVICTION_INTERVAL_MS is not set, using default value: 
I0305 06:37:21.794856       1 hash.go:71] using default prefix cache eviction interval: 50 ms
W0305 06:37:21.794860       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_EVICTION_DURATION_MINS is not set, using default value: 
I0305 06:37:21.794865       1 hash.go:86] using default prefix cache eviction duration: 60 mins
W0305 06:37:21.794873       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_MATCH_THRESHOLD_PERCENT is not set, using default value: 
I0305 06:37:21.794878       1 prefix_cache.go:50] using default prefix cache match threshold percent: 50
I0305 06:37:21.794884       1 prefix_cache_and_load.go:46] Test getDummyVar, dummay_var: 0
Connected to Redis: PONG
starting cache
I0305 06:37:21.800308       1 main.go:63] using in-cluster configuration
W0305 06:37:21.901564       1 util.go:80] environment variable PROMETHEUS_ENDPOINT is not set, using default value: 
W0305 06:37:21.901586       1 util.go:80] environment variable PROMETHEUS_BASIC_AUTH_USERNAME is not set, using default value: 
W0305 06:37:21.901591       1 util.go:80] environment variable PROMETHEUS_BASIC_AUTH_PASSWORD is not set, using default value: 
I0305 06:37:21.902076       1 main.go:93] starting gRPC server on port :50052
I0305 06:37:30.001058       1 cache.go:268] trace ticker start at 2025-03-05 06:37:30.001026264 +0000 UTC m=+8.217753153
I0305 06:39:09.211286       1 gateway.go:207] "Processing request" requestID="dd5e2c83-5aff-4930-b9ff-059e783550b6"
I0305 06:39:09.211614       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dd5e2c83-5aff-4930-b9ff-059e783550b6"
I0305 06:39:09.211626       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:09.228956       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dd5e2c83-5aff-4930-b9ff-059e783550b6"
I0305 06:39:09.229194       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dd5e2c83-5aff-4930-b9ff-059e783550b6" model="qwen2-5-7b-instruct"
I0305 06:39:09.229318       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:09.229325       1 prefix_cache_and_load.go:460] num pods in data structure: 0
I0305 06:39:09.229328       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:09.229338       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=0 new_count=8
I0305 06:39:09.229343       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:09.229348       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:09.318671       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0893, numInputTokens, 7601
I0305 06:39:09.318695       1 tree.go:471] Updated node(0) last access: 107.4166 seconds
I0305 06:39:09.318756       1 tree.go:516] latency, NewTreeNode, 0.0001 seconds, 7601 tokens:
I0305 06:39:09.318763       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:09.318768       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:09.318776       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:09.318783       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:09.31876511 +0000 UTC m=+107.535491975]
I0305 06:39:09.318804       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 0, Matching ratio: 0.0000, # Matched pods: 0, Matched pods: []
I0305 06:39:09.318812       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0000, len(matchedPods): 0)
I0305 06:39:09.318820       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-7gvxr, Cost: 0.000000
I0305 06:39:09.318823       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-p82gs, Cost: 0.000000
I0305 06:39:09.318825       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-d6fdd, Cost: 0.000000
I0305 06:39:09.318826       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-hkwnq, Cost: 0.000000
I0305 06:39:09.318828       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-vlxfk, Cost: 0.000000
I0305 06:39:09.318829       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-79hc6, Cost: 0.000000
I0305 06:39:09.318831       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-6b5hh, Cost: 0.000000
I0305 06:39:09.318833       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-swm4v, Cost: 0.000000
I0305 06:39:09.318839       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-867fbbcbd9-7gvxr
I0305 06:39:09.318845       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0000
I0305 06:39:09.318852       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:09.318858       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:09.318866       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:09.318875       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:09.318885       1 prefix_cache_and_load.go:584] latency, Route, 0.0896
I0305 06:39:09.318894       1 gateway.go:415] latency, selectTargetPod, 0.0896, target pod, 10.0.3.41:8000
I0305 06:39:09.318904       1 gateway.go:235] latency, HandleRequestBody, 0.0900
I0305 06:39:09.370570       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dd5e2c83-5aff-4930-b9ff-059e783550b6"
I0305 06:39:09.709911       1 gateway.go:207] "Processing request" requestID="66637e48-abb5-4fb1-9e62-d5b1334436a9"
I0305 06:39:09.709948       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="66637e48-abb5-4fb1-9e62-d5b1334436a9"
I0305 06:39:09.709959       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:09.734454       1 gateway.go:329] "-- In RequestBody processing ..." requestID="66637e48-abb5-4fb1-9e62-d5b1334436a9"
I0305 06:39:09.734689       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="66637e48-abb5-4fb1-9e62-d5b1334436a9" model="qwen2-5-7b-instruct"
I0305 06:39:09.734787       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:09.734794       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:09.734797       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:09.734809       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:09.734816       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:09.734821       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:09.786803       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0520, numInputTokens, 7601
I0305 06:39:09.786822       1 tree.go:471] Updated node(0) last access: 107.8848 seconds
I0305 06:39:09.786897       1 tree.go:667] Split complete - New node(2)
I0305 06:39:09.786902       1 tree.go:668] Split complete - Child node(1)
I0305 06:39:09.786907       1 tree.go:501] latency, splitNode, 0.0001 seconds, 7601 tokens:
I0305 06:39:09.786913       1 tree.go:471] Updated node(2) last access: 107.8849 seconds
I0305 06:39:09.786976       1 tree.go:516] latency, NewTreeNode, 0.0001 seconds, 7597 tokens:
I0305 06:39:09.786982       1 tree.go:449] latency, insertHelper, 0.0002 seconds, 7601 tokens
I0305 06:39:09.786987       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:09.786992       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 06:39:09.786998       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:09.786983953 +0000 UTC m=+108.003710818]
I0305 06:39:09.787015       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 06:39:09.787025       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 06:39:09.787032       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 06:39:09.787037       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 06:39:09.787041       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 06:39:09.787050       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-vlxfk, Cost: 0.000000
I0305 06:39:09.787056       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-79hc6, Cost: 0.000000
I0305 06:39:09.787058       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-6b5hh, Cost: 0.000000
I0305 06:39:09.787060       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-swm4v, Cost: 0.000000
I0305 06:39:09.787062       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-7gvxr, Cost: 9.461418
I0305 06:39:09.787065       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-p82gs, Cost: 0.000000
I0305 06:39:09.787067       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-d6fdd, Cost: 0.000000
I0305 06:39:09.787069       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-hkwnq, Cost: 0.000000
I0305 06:39:09.787074       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-867fbbcbd9-vlxfk
I0305 06:39:09.787081       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0000
I0305 06:39:09.787088       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:09.787094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:09.787099       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:09.787108       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:09.787116       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:09.787124       1 prefix_cache_and_load.go:584] latency, Route, 0.0523
I0305 06:39:09.787137       1 gateway.go:415] latency, selectTargetPod, 0.0523, target pod, 10.0.1.47:8000
I0305 06:39:09.787148       1 gateway.go:235] latency, HandleRequestBody, 0.0527
I0305 06:39:09.841644       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="66637e48-abb5-4fb1-9e62-d5b1334436a9"
I0305 06:39:09.867924       1 gateway.go:207] "Processing request" requestID="ec4b0096-eab9-4c42-b1b9-fad4f7821124"
I0305 06:39:09.867955       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ec4b0096-eab9-4c42-b1b9-fad4f7821124"
I0305 06:39:09.867965       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:09.885780       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ec4b0096-eab9-4c42-b1b9-fad4f7821124"
I0305 06:39:09.885999       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ec4b0096-eab9-4c42-b1b9-fad4f7821124" model="qwen2-5-7b-instruct"
I0305 06:39:09.886098       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:09.886105       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:09.886109       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:09.886121       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:09.886127       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:09.886132       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:09.940692       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0546, numInputTokens, 7601
I0305 06:39:09.940714       1 tree.go:471] Updated node(0) last access: 108.0387 seconds
I0305 06:39:09.940721       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:09.940724       1 tree.go:471] Updated node(2) last access: 108.0387 seconds
I0305 06:39:09.940758       1 tree.go:667] Split complete - New node(4)
I0305 06:39:09.940763       1 tree.go:668] Split complete - Child node(3)
I0305 06:39:09.940767       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7597 tokens:
I0305 06:39:09.940771       1 tree.go:471] Updated node(4) last access: 108.0387 seconds
I0305 06:39:09.940775       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:09.940780       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:09.940786       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:09.940792       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:09.940796       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:09.940782813 +0000 UTC m=+108.157509677]
I0305 06:39:09.940811       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:09.940818       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:09.940831       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7478
I0305 06:39:09.940840       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:09.940847       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:09.940850       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:09.940856       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:09.940861       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:09.940869       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:09.940879       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:09.940888       1 prefix_cache_and_load.go:584] latency, Route, 0.0548
I0305 06:39:09.940904       1 gateway.go:415] latency, selectTargetPod, 0.0548, target pod, 10.0.1.47:8000
I0305 06:39:09.940915       1 gateway.go:235] latency, HandleRequestBody, 0.0551
I0305 06:39:09.959639       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ec4b0096-eab9-4c42-b1b9-fad4f7821124"
I0305 06:39:10.148630       1 gateway.go:207] "Processing request" requestID="125e994c-6e3f-4239-b926-795b1b1ccf28"
I0305 06:39:10.148667       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="125e994c-6e3f-4239-b926-795b1b1ccf28"
I0305 06:39:10.148677       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:10.150450       1 gateway.go:207] "Processing request" requestID="1aab1530-f269-4bfa-ad9c-6b2fb9ffe499"
I0305 06:39:10.150480       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1aab1530-f269-4bfa-ad9c-6b2fb9ffe499"
I0305 06:39:10.150488       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:10.151261       1 gateway.go:329] "-- In RequestBody processing ..." requestID="125e994c-6e3f-4239-b926-795b1b1ccf28"
I0305 06:39:10.151520       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="125e994c-6e3f-4239-b926-795b1b1ccf28" model="qwen2-5-7b-instruct"
I0305 06:39:10.151598       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:10.151605       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:10.151608       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:10.151621       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:10.151627       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:10.151632       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:10.152949       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1aab1530-f269-4bfa-ad9c-6b2fb9ffe499"
I0305 06:39:10.153246       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1aab1530-f269-4bfa-ad9c-6b2fb9ffe499" model="qwen2-5-7b-instruct"
I0305 06:39:10.204308       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0527, numInputTokens, 7603
I0305 06:39:10.204329       1 tree.go:471] Updated node(0) last access: 108.3023 seconds
I0305 06:39:10.204336       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:10.204340       1 tree.go:471] Updated node(2) last access: 108.3023 seconds
I0305 06:39:10.204364       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7599 tokens:
I0305 06:39:10.204372       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 06:39:10.204381       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:39:10.204390       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:10.204399       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:10.204375357 +0000 UTC m=+108.421102221]
I0305 06:39:10.204419       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 06:39:10.204433       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 06:39:10.204441       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 06:39:10.204447       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 06:39:10.204453       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 06:39:10.204459       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:10.204462       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:10.204466       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:10.204471       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:10.204474       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:10.204478       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:10.204485       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-swm4v, Cost: 0.000000
I0305 06:39:10.204488       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-7gvxr, Cost: 9.461418
I0305 06:39:10.204490       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-p82gs, Cost: 0.000000
I0305 06:39:10.204492       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-d6fdd, Cost: 0.000000
I0305 06:39:10.204493       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-hkwnq, Cost: 0.000000
I0305 06:39:10.204494       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-vlxfk, Cost: 13.564287
I0305 06:39:10.204496       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-79hc6, Cost: 0.000000
I0305 06:39:10.204497       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-6b5hh, Cost: 0.000000
I0305 06:39:10.204502       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-867fbbcbd9-swm4v
I0305 06:39:10.204507       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 06:39:10.204527       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:10.204532       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:10.204536       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:10.204544       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:10.204551       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:10.204561       1 prefix_cache_and_load.go:584] latency, Route, 0.0530
I0305 06:39:10.204574       1 gateway.go:415] latency, selectTargetPod, 0.0530, target pod, 10.0.1.53:8000
I0305 06:39:10.204587       1 gateway.go:235] latency, HandleRequestBody, 0.0533
I0305 06:39:10.204620       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0513
I0305 06:39:10.204626       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:10.204630       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:10.204645       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:10.204654       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:10.204659       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:10.252885       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 7600
I0305 06:39:10.252901       1 tree.go:471] Updated node(0) last access: 108.3508 seconds
I0305 06:39:10.252907       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:10.252910       1 tree.go:471] Updated node(2) last access: 108.3509 seconds
I0305 06:39:10.252933       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7596 tokens:
I0305 06:39:10.252940       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:10.252948       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:10.252955       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:10.252961       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:10.252942995 +0000 UTC m=+108.469669859]
I0305 06:39:10.252990       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 06:39:10.253001       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 06:39:10.253010       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:10.253016       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:10.253023       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:10.253031       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:10.253035       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:10.253042       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:10.253050       1 prefix_cache_and_load.go:226] numTokens: 7599, contextLength: 7603, targetGPU: V100
I0305 06:39:10.253054       1 prefix_cache_and_load.go:227] prefillTime: 2.7122 = (Base time(2.0743) + attnQuad(0.3667)) / 0.9
I0305 06:39:10.253061       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7108 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7122) / numPods(1)
I0305 06:39:10.253067       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 06:39:10.253071       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 06:39:10.253076       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 06:39:10.253087       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-swm4v, Cost: 9.460798
I0305 06:39:10.253093       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-d6fdd, Cost: 0.000000
I0305 06:39:10.253098       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-7gvxr, Cost: 9.461418
I0305 06:39:10.253104       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-p82gs, Cost: 0.000000
I0305 06:39:10.253106       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-hkwnq, Cost: 0.000000
I0305 06:39:10.253108       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-6b5hh, Cost: 0.000000
I0305 06:39:10.253111       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-vlxfk, Cost: 13.564287
I0305 06:39:10.253114       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-79hc6, Cost: 0.000000
I0305 06:39:10.253120       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-867fbbcbd9-d6fdd
I0305 06:39:10.253127       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 06:39:10.253137       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:10.253141       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:10.253145       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:10.253154       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:10.253163       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:10.253176       1 prefix_cache_and_load.go:584] latency, Route, 0.0998
I0305 06:39:10.253187       1 gateway.go:415] latency, selectTargetPod, 0.0998, target pod, 10.0.0.39:8000
I0305 06:39:10.253198       1 gateway.go:235] latency, HandleRequestBody, 0.1003
I0305 06:39:10.258942       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="125e994c-6e3f-4239-b926-795b1b1ccf28"
I0305 06:39:10.308303       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1aab1530-f269-4bfa-ad9c-6b2fb9ffe499"
I0305 06:39:10.431691       1 gateway.go:608] "First token received" requestID="dd5e2c83-5aff-4930-b9ff-059e783550b6" ttft_ms=1202
I0305 06:39:10.603972       1 gateway.go:562] latency, 0.0000, summary, hash(request), 20fa863b, selectedpod, 10.0.3.41:8000, ttft, 1202, tpot, 19, e2e, 1374, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:10.603993       1 gateway.go:748] "Request completed" requestID="dd5e2c83-5aff-4930-b9ff-059e783550b6" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:10.604005       1 gateway.go:764] "HandleResponseBody completed" requestID="dd5e2c83-5aff-4930-b9ff-059e783550b6" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:10.913655       1 gateway.go:608] "First token received" requestID="66637e48-abb5-4fb1-9e62-d5b1334436a9" ttft_ms=1179
I0305 06:39:10.944787       1 gateway.go:608] "First token received" requestID="ec4b0096-eab9-4c42-b1b9-fad4f7821124" ttft_ms=1058
I0305 06:39:10.964613       1 gateway.go:207] "Processing request" requestID="2c86cc5a-527e-43ae-8ca3-48314ec6265a"
I0305 06:39:10.964649       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2c86cc5a-527e-43ae-8ca3-48314ec6265a"
I0305 06:39:10.964659       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:11.051394       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2c86cc5a-527e-43ae-8ca3-48314ec6265a"
I0305 06:39:11.051621       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2c86cc5a-527e-43ae-8ca3-48314ec6265a" model="qwen2-5-7b-instruct"
I0305 06:39:11.052106       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:11.052130       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:11.052135       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:11.052173       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:11.052190       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:11.052196       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:11.106232       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0540, numInputTokens, 7594
I0305 06:39:11.106253       1 tree.go:471] Updated node(0) last access: 109.2042 seconds
I0305 06:39:11.106261       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:11.106265       1 tree.go:471] Updated node(2) last access: 109.2042 seconds
I0305 06:39:11.106304       1 tree.go:667] Split complete - New node(8)
I0305 06:39:11.106311       1 tree.go:668] Split complete - Child node(6)
I0305 06:39:11.106317       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7590 tokens:
I0305 06:39:11.106322       1 tree.go:471] Updated node(8) last access: 109.2043 seconds
I0305 06:39:11.106330       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:11.106335       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 06:39:11.106343       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:39:11.106352       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:11.106358       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:11.106337664 +0000 UTC m=+109.323064529]
I0305 06:39:11.106377       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7478, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:11.106385       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:11.106401       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7478
I0305 06:39:11.106409       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:11.106418       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.106426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.106432       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.106438       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.106448       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:11.106457       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:11.106469       1 prefix_cache_and_load.go:584] latency, Route, 0.0544
I0305 06:39:11.106478       1 gateway.go:415] latency, selectTargetPod, 0.0544, target pod, 10.0.1.53:8000
I0305 06:39:11.106491       1 gateway.go:235] latency, HandleRequestBody, 0.0551
I0305 06:39:11.126175       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2c86cc5a-527e-43ae-8ca3-48314ec6265a"
I0305 06:39:11.126278       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2f3d5171, selectedpod, 10.0.1.47:8000, ttft, 1179, tpot, 23, e2e, 1391, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:11.126302       1 gateway.go:748] "Request completed" requestID="66637e48-abb5-4fb1-9e62-d5b1334436a9" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:11.126314       1 gateway.go:764] "HandleResponseBody completed" requestID="66637e48-abb5-4fb1-9e62-d5b1334436a9" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:11.126321       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7f397c3b, selectedpod, 10.0.1.47:8000, ttft, 1058, tpot, 20, e2e, 1240, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:11.126353       1 gateway.go:748] "Request completed" requestID="ec4b0096-eab9-4c42-b1b9-fad4f7821124" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:11.126371       1 gateway.go:764] "HandleResponseBody completed" requestID="ec4b0096-eab9-4c42-b1b9-fad4f7821124" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:11.192420       1 gateway.go:207] "Processing request" requestID="61ea428f-60ee-4827-adc2-c67d7d632fec"
I0305 06:39:11.192443       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="61ea428f-60ee-4827-adc2-c67d7d632fec"
I0305 06:39:11.192450       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:11.194919       1 gateway.go:329] "-- In RequestBody processing ..." requestID="61ea428f-60ee-4827-adc2-c67d7d632fec"
I0305 06:39:11.195163       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="61ea428f-60ee-4827-adc2-c67d7d632fec" model="qwen2-5-7b-instruct"
I0305 06:39:11.195288       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:11.195297       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:11.195301       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:11.195322       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:11.195333       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:11.195340       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:11.248765       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0534, numInputTokens, 7601
I0305 06:39:11.248786       1 tree.go:471] Updated node(0) last access: 109.3467 seconds
I0305 06:39:11.248792       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:11.248796       1 tree.go:471] Updated node(2) last access: 109.3467 seconds
I0305 06:39:11.248817       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7597 tokens:
I0305 06:39:11.248823       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:11.248829       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:11.248835       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:11.248840       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:11.248824856 +0000 UTC m=+109.465551731]
I0305 06:39:11.248855       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 06:39:11.248864       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 06:39:11.248871       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:11.248875       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:11.248881       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:11.248885       1 prefix_cache_and_load.go:226] numTokens: 125, contextLength: 7603, targetGPU: V100
I0305 06:39:11.248888       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:11.248892       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:11.248896       1 prefix_cache_and_load.go:226] numTokens: 7596, contextLength: 7600, targetGPU: V100
I0305 06:39:11.248900       1 prefix_cache_and_load.go:227] prefillTime: 2.7110 = (Base time(2.0735) + attnQuad(0.3665)) / 0.9
I0305 06:39:11.248904       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7096 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7110) / numPods(1)
I0305 06:39:11.248907       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7594, targetGPU: V100
I0305 06:39:11.248910       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:11.248913       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0153) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:11.248918       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 06:39:11.248921       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 06:39:11.248925       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7114 = miss rate(1.0000) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 06:39:11.248930       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:11.248932       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:11.248936       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:11.248944       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-7gvxr, Cost: 9.461418
I0305 06:39:11.248949       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-p82gs, Cost: 0.000000
I0305 06:39:11.248951       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-d6fdd, Cost: 9.459587
I0305 06:39:11.248953       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-hkwnq, Cost: 0.000000
I0305 06:39:11.248955       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-vlxfk, Cost: 13.564287
I0305 06:39:11.248957       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-79hc6, Cost: 0.000000
I0305 06:39:11.248958       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-6b5hh, Cost: 0.000000
I0305 06:39:11.248960       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-swm4v, Cost: 13.564230
I0305 06:39:11.248965       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-867fbbcbd9-p82gs
I0305 06:39:11.248984       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 06:39:11.248991       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.248995       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.249000       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.249009       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:11.249018       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:11.249027       1 prefix_cache_and_load.go:584] latency, Route, 0.0537
I0305 06:39:11.249036       1 gateway.go:415] latency, selectTargetPod, 0.0537, target pod, 10.0.0.34:8000
I0305 06:39:11.249046       1 gateway.go:235] latency, HandleRequestBody, 0.0541
I0305 06:39:11.303703       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="61ea428f-60ee-4827-adc2-c67d7d632fec"
I0305 06:39:11.330898       1 gateway.go:608] "First token received" requestID="125e994c-6e3f-4239-b926-795b1b1ccf28" ttft_ms=1179
I0305 06:39:11.354166       1 gateway.go:608] "First token received" requestID="2c86cc5a-527e-43ae-8ca3-48314ec6265a" ttft_ms=302
I0305 06:39:11.369310       1 gateway.go:608] "First token received" requestID="1aab1530-f269-4bfa-ad9c-6b2fb9ffe499" ttft_ms=1216
I0305 06:39:11.379072       1 gateway.go:207] "Processing request" requestID="c15b41ca-688f-4ff9-b3c3-86251aadb6d9"
I0305 06:39:11.379101       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c15b41ca-688f-4ff9-b3c3-86251aadb6d9"
I0305 06:39:11.379112       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:11.385437       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c15b41ca-688f-4ff9-b3c3-86251aadb6d9"
I0305 06:39:11.385641       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c15b41ca-688f-4ff9-b3c3-86251aadb6d9" model="qwen2-5-7b-instruct"
I0305 06:39:11.385712       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:11.385718       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:11.385721       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:11.385736       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:11.385744       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:11.385749       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:11.437320       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0516, numInputTokens, 7601
I0305 06:39:11.437341       1 tree.go:471] Updated node(0) last access: 109.5353 seconds
I0305 06:39:11.437347       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:11.437350       1 tree.go:471] Updated node(2) last access: 109.5353 seconds
I0305 06:39:11.437364       1 tree.go:484] Entire input tokens match the child node(1)
I0305 06:39:11.437367       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:11.437373       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:11.437380       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:11.437385       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:11.437369355 +0000 UTC m=+109.654096219 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:09.318846799 +0000 UTC m=+107.535573663]
I0305 06:39:11.437404       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:11.437411       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:11.437426       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7601
I0305 06:39:11.437435       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:11.437443       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.437449       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.437454       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.437463       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:11.437474       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:11.437484       1 prefix_cache_and_load.go:584] latency, Route, 0.0518
I0305 06:39:11.437493       1 gateway.go:415] latency, selectTargetPod, 0.0518, target pod, 10.0.3.41:8000
I0305 06:39:11.437503       1 gateway.go:235] latency, HandleRequestBody, 0.0521
I0305 06:39:11.454163       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c15b41ca-688f-4ff9-b3c3-86251aadb6d9"
I0305 06:39:11.488354       1 gateway.go:608] "First token received" requestID="c15b41ca-688f-4ff9-b3c3-86251aadb6d9" ttft_ms=102
I0305 06:39:11.535876       1 gateway.go:562] latency, 0.0000, summary, hash(request), 906a452e, selectedpod, 10.0.1.53:8000, ttft, 302, tpot, 20, e2e, 484, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:39:11.535895       1 gateway.go:748] "Request completed" requestID="2c86cc5a-527e-43ae-8ca3-48314ec6265a" targetPod="10.0.1.53:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:39:11.535907       1 gateway.go:764] "HandleResponseBody completed" requestID="2c86cc5a-527e-43ae-8ca3-48314ec6265a" promptTokens=7613 completionTokens=10 stream=true
I0305 06:39:11.535913       1 gateway.go:562] latency, 0.0001, summary, hash(request), a5b5320a, selectedpod, 10.0.1.53:8000, ttft, 1179, tpot, 22, e2e, 1384, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:39:11.535934       1 gateway.go:748] "Request completed" requestID="125e994c-6e3f-4239-b926-795b1b1ccf28" targetPod="10.0.1.53:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:39:11.535946       1 gateway.go:764] "HandleResponseBody completed" requestID="125e994c-6e3f-4239-b926-795b1b1ccf28" promptTokens=7622 completionTokens=10 stream=true
I0305 06:39:11.542141       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8c14c58d, selectedpod, 10.0.0.39:8000, ttft, 1216, tpot, 19, e2e, 1389, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:11.542153       1 gateway.go:748] "Request completed" requestID="1aab1530-f269-4bfa-ad9c-6b2fb9ffe499" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:11.542160       1 gateway.go:764] "HandleResponseBody completed" requestID="1aab1530-f269-4bfa-ad9c-6b2fb9ffe499" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:11.569097       1 gateway.go:207] "Processing request" requestID="457c8cfe-8888-471a-9ede-a9b41790c28b"
I0305 06:39:11.569122       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="457c8cfe-8888-471a-9ede-a9b41790c28b"
I0305 06:39:11.569131       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:11.587039       1 gateway.go:329] "-- In RequestBody processing ..." requestID="457c8cfe-8888-471a-9ede-a9b41790c28b"
I0305 06:39:11.587247       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="457c8cfe-8888-471a-9ede-a9b41790c28b" model="qwen2-5-7b-instruct"
I0305 06:39:11.587318       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:11.587324       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:11.587328       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:11.587343       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:11.587351       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:11.587356       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:11.635907       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0485, numInputTokens, 7601
I0305 06:39:11.635923       1 tree.go:471] Updated node(0) last access: 109.7339 seconds
I0305 06:39:11.635929       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:11.635933       1 tree.go:471] Updated node(2) last access: 109.7339 seconds
I0305 06:39:11.635946       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:11.635951       1 tree.go:471] Updated node(4) last access: 109.7339 seconds
I0305 06:39:11.635955       1 tree.go:484] Entire input tokens match the child node(5)
I0305 06:39:11.635958       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:11.635964       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:11.635978       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:11.635984       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:11.635960381 +0000 UTC m=+109.852687246 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:09.940842328 +0000 UTC m=+108.157569193]
I0305 06:39:11.636002       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:11.636010       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:11.636026       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7601
I0305 06:39:11.636035       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:11.636044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.636049       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.636054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.636061       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.636069       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:11.636078       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:11.636087       1 prefix_cache_and_load.go:584] latency, Route, 0.0488
I0305 06:39:11.636097       1 gateway.go:415] latency, selectTargetPod, 0.0488, target pod, 10.0.1.47:8000
I0305 06:39:11.636108       1 gateway.go:235] latency, HandleRequestBody, 0.0491
I0305 06:39:11.655471       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="457c8cfe-8888-471a-9ede-a9b41790c28b"
I0305 06:39:11.662206       1 gateway.go:562] latency, 0.0001, summary, hash(request), 20fa863b, selectedpod, 10.0.3.41:8000, ttft, 102, tpot, 19, e2e, 276, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:11.662224       1 gateway.go:748] "Request completed" requestID="c15b41ca-688f-4ff9-b3c3-86251aadb6d9" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:11.662235       1 gateway.go:764] "HandleResponseBody completed" requestID="c15b41ca-688f-4ff9-b3c3-86251aadb6d9" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:11.687786       1 gateway.go:608] "First token received" requestID="457c8cfe-8888-471a-9ede-a9b41790c28b" ttft_ms=100
I0305 06:39:11.708026       1 gateway.go:207] "Processing request" requestID="0ea60788-d81d-4f55-bb91-6438a8fd73d4"
I0305 06:39:11.708045       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0ea60788-d81d-4f55-bb91-6438a8fd73d4"
I0305 06:39:11.708056       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:11.739616       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0ea60788-d81d-4f55-bb91-6438a8fd73d4"
I0305 06:39:11.739836       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0ea60788-d81d-4f55-bb91-6438a8fd73d4" model="qwen2-5-7b-instruct"
I0305 06:39:11.739929       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:11.739935       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:11.739938       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:11.739952       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:11.739963       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:11.739977       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:11.794458       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0545, numInputTokens, 7601
I0305 06:39:11.794481       1 tree.go:471] Updated node(0) last access: 109.8924 seconds
I0305 06:39:11.794489       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:11.794494       1 tree.go:471] Updated node(2) last access: 109.8924 seconds
I0305 06:39:11.794510       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:11.794523       1 tree.go:471] Updated node(4) last access: 109.8925 seconds
I0305 06:39:11.794529       1 tree.go:484] Entire input tokens match the child node(3)
I0305 06:39:11.794534       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:11.794542       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:11.794551       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:11.794559       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:11.794537155 +0000 UTC m=+110.011264023 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:09.78708323 +0000 UTC m=+108.003810093]
I0305 06:39:11.794579       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:11.794589       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:11.794608       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7601
I0305 06:39:11.794621       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:11.794632       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.794639       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.794646       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.794652       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.794664       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:11.794676       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:11.794690       1 prefix_cache_and_load.go:584] latency, Route, 0.0548
I0305 06:39:11.794700       1 gateway.go:415] latency, selectTargetPod, 0.0548, target pod, 10.0.1.47:8000
I0305 06:39:11.794712       1 gateway.go:235] latency, HandleRequestBody, 0.0551
I0305 06:39:11.813340       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0ea60788-d81d-4f55-bb91-6438a8fd73d4"
I0305 06:39:11.833258       1 gateway.go:207] "Processing request" requestID="12a119e1-cbe4-4d5a-8c25-9eb33047ac73"
I0305 06:39:11.833284       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="12a119e1-cbe4-4d5a-8c25-9eb33047ac73"
I0305 06:39:11.833293       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:11.850607       1 gateway.go:608] "First token received" requestID="0ea60788-d81d-4f55-bb91-6438a8fd73d4" ttft_ms=110
I0305 06:39:11.875032       1 gateway.go:329] "-- In RequestBody processing ..." requestID="12a119e1-cbe4-4d5a-8c25-9eb33047ac73"
I0305 06:39:11.875292       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="12a119e1-cbe4-4d5a-8c25-9eb33047ac73" model="qwen2-5-7b-instruct"
I0305 06:39:11.875368       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:11.875376       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:11.875381       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:11.875402       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:11.875414       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:11.875421       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:11.891261       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7f397c3b, selectedpod, 10.0.1.47:8000, ttft, 100, tpot, 22, e2e, 304, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:11.891280       1 gateway.go:748] "Request completed" requestID="457c8cfe-8888-471a-9ede-a9b41790c28b" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:11.891295       1 gateway.go:764] "HandleResponseBody completed" requestID="457c8cfe-8888-471a-9ede-a9b41790c28b" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:11.924556       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 7591
I0305 06:39:11.924574       1 tree.go:471] Updated node(0) last access: 110.0225 seconds
I0305 06:39:11.924580       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:11.924583       1 tree.go:471] Updated node(2) last access: 110.0225 seconds
I0305 06:39:11.924708       1 tree.go:516] latency, NewTreeNode, 0.0001 seconds, 7587 tokens:
I0305 06:39:11.924719       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7591 tokens
I0305 06:39:11.924726       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7591 tokens
I0305 06:39:11.924732       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 06:39:11.924738       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:11.924721358 +0000 UTC m=+110.141448223]
I0305 06:39:11.924760       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7591, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 06:39:11.924772       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 06:39:11.924787       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 06:39:11.924793       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 06:39:11.924820       1 prefix_cache_and_load.go:229] totalPrefillCost: 5.4214 = miss rate(0.9997) * nodeToCount(2) * prefillTime(2.7114) / numPods(1)
I0305 06:39:11.924827       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:11.924832       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:11.924837       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0643 = miss rate(0.5078) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:11.924843       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:11.924852       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:11.924858       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0162) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:11.924864       1 prefix_cache_and_load.go:226] numTokens: 125, contextLength: 7603, targetGPU: V100
I0305 06:39:11.924868       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:11.924873       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:11.924884       1 prefix_cache_and_load.go:226] numTokens: 7596, contextLength: 7600, targetGPU: V100
I0305 06:39:11.924888       1 prefix_cache_and_load.go:227] prefillTime: 2.7110 = (Base time(2.0735) + attnQuad(0.3665)) / 0.9
I0305 06:39:11.924894       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7096 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7110) / numPods(1)
I0305 06:39:11.924905       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7594, targetGPU: V100
I0305 06:39:11.924910       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:11.924915       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0153) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:11.924922       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 06:39:11.924926       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 06:39:11.924933       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 06:39:11.924945       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-hkwnq, Cost: 0.000000
I0305 06:39:11.924953       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-vlxfk, Cost: 13.566335
I0305 06:39:11.924957       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-79hc6, Cost: 0.000000
I0305 06:39:11.924960       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-6b5hh, Cost: 0.000000
I0305 06:39:11.924963       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-swm4v, Cost: 13.564230
I0305 06:39:11.924974       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-7gvxr, Cost: 12.171409
I0305 06:39:11.924980       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-p82gs, Cost: 9.459991
I0305 06:39:11.924983       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-d6fdd, Cost: 9.459587
I0305 06:39:11.924994       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-867fbbcbd9-hkwnq
I0305 06:39:11.925006       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0002
I0305 06:39:11.925020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.925031       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.925037       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:11.925054       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:11.925068       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:11.925082       1 prefix_cache_and_load.go:584] latency, Route, 0.0497
I0305 06:39:11.925095       1 gateway.go:415] latency, selectTargetPod, 0.0497, target pod, 10.0.1.28:8000
I0305 06:39:11.925110       1 gateway.go:235] latency, HandleRequestBody, 0.0501
I0305 06:39:11.981686       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="12a119e1-cbe4-4d5a-8c25-9eb33047ac73"
I0305 06:39:11.995158       1 gateway.go:207] "Processing request" requestID="cb3c5b90-15b3-4379-a3d0-608ccefa9a57"
I0305 06:39:11.995183       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cb3c5b90-15b3-4379-a3d0-608ccefa9a57"
I0305 06:39:11.995191       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:12.024309       1 gateway.go:207] "Processing request" requestID="3c72abf0-0525-48b4-9a79-f44d00fb6f64"
I0305 06:39:12.024340       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3c72abf0-0525-48b4-9a79-f44d00fb6f64"
I0305 06:39:12.024351       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:12.025651       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cb3c5b90-15b3-4379-a3d0-608ccefa9a57"
I0305 06:39:12.025858       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cb3c5b90-15b3-4379-a3d0-608ccefa9a57" model="qwen2-5-7b-instruct"
I0305 06:39:12.025922       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:12.025929       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:12.025932       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:12.025947       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:12.025955       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:12.025961       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:12.029143       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2f3d5171, selectedpod, 10.0.1.47:8000, ttft, 110, tpot, 19, e2e, 289, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:12.029165       1 gateway.go:748] "Request completed" requestID="0ea60788-d81d-4f55-bb91-6438a8fd73d4" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:12.029176       1 gateway.go:764] "HandleResponseBody completed" requestID="0ea60788-d81d-4f55-bb91-6438a8fd73d4" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:12.073912       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0479, numInputTokens, 7600
I0305 06:39:12.073928       1 tree.go:471] Updated node(0) last access: 110.1719 seconds
I0305 06:39:12.073934       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:12.073937       1 tree.go:471] Updated node(2) last access: 110.1719 seconds
I0305 06:39:12.073952       1 tree.go:484] Entire input tokens match the child node(7)
I0305 06:39:12.073957       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:12.073962       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:12.073976       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:12.073981       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:12.07395893 +0000 UTC m=+110.290685802 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:10.253130553 +0000 UTC m=+108.469857418]
I0305 06:39:12.073998       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:39:12.074005       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:12.074021       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7600
I0305 06:39:12.074029       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:12.074036       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:12.074043       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:12.074049       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:12.074056       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:12.074065       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:12.074075       1 prefix_cache_and_load.go:584] latency, Route, 0.0482
I0305 06:39:12.074084       1 gateway.go:415] latency, selectTargetPod, 0.0482, target pod, 10.0.0.39:8000
I0305 06:39:12.074094       1 gateway.go:235] latency, HandleRequestBody, 0.0484
I0305 06:39:12.093279       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cb3c5b90-15b3-4379-a3d0-608ccefa9a57"
I0305 06:39:12.127648       1 gateway.go:608] "First token received" requestID="cb3c5b90-15b3-4379-a3d0-608ccefa9a57" ttft_ms=101
I0305 06:39:12.211053       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3c72abf0-0525-48b4-9a79-f44d00fb6f64"
I0305 06:39:12.211473       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3c72abf0-0525-48b4-9a79-f44d00fb6f64" model="qwen2-5-7b-instruct"
I0305 06:39:12.211691       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:12.211708       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:12.211714       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:12.211749       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:12.211768       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:12.211778       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:12.281218       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0694, numInputTokens, 7599
I0305 06:39:12.281241       1 tree.go:471] Updated node(0) last access: 110.3792 seconds
I0305 06:39:12.281247       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:12.281250       1 tree.go:471] Updated node(2) last access: 110.3792 seconds
I0305 06:39:12.281288       1 tree.go:667] Split complete - New node(12)
I0305 06:39:12.281293       1 tree.go:668] Split complete - Child node(7)
I0305 06:39:12.281298       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7595 tokens:
I0305 06:39:12.281302       1 tree.go:471] Updated node(12) last access: 110.3792 seconds
I0305 06:39:12.281308       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:12.281314       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:12.281319       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:12.281324       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:12.281329       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:12.281315982 +0000 UTC m=+110.498042847]
I0305 06:39:12.281343       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:12.281349       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:12.281365       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7478
I0305 06:39:12.281373       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:12.281381       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:12.281386       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:12.281391       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:12.281395       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:12.281404       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:12.281413       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:12.281424       1 prefix_cache_and_load.go:584] latency, Route, 0.0698
I0305 06:39:12.281432       1 gateway.go:415] latency, selectTargetPod, 0.0698, target pod, 10.0.0.39:8000
I0305 06:39:12.281442       1 gateway.go:235] latency, HandleRequestBody, 0.0704
I0305 06:39:12.300201       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3c72abf0-0525-48b4-9a79-f44d00fb6f64"
I0305 06:39:12.302631       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8c14c58d, selectedpod, 10.0.0.39:8000, ttft, 101, tpot, 19, e2e, 276, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:12.302654       1 gateway.go:748] "Request completed" requestID="cb3c5b90-15b3-4379-a3d0-608ccefa9a57" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:12.302666       1 gateway.go:764] "HandleResponseBody completed" requestID="cb3c5b90-15b3-4379-a3d0-608ccefa9a57" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:12.324802       1 gateway.go:207] "Processing request" requestID="c1704e64-152e-46dc-8c84-ac2bd6d194a2"
I0305 06:39:12.324824       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c1704e64-152e-46dc-8c84-ac2bd6d194a2"
I0305 06:39:12.324831       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:12.360272       1 gateway.go:608] "First token received" requestID="3c72abf0-0525-48b4-9a79-f44d00fb6f64" ttft_ms=149
I0305 06:39:12.364407       1 gateway.go:608] "First token received" requestID="61ea428f-60ee-4827-adc2-c67d7d632fec" ttft_ms=1169
I0305 06:39:12.435981       1 gateway.go:207] "Processing request" requestID="f5fc3cf1-bbab-4873-8c2d-e85f4797d040"
I0305 06:39:12.436005       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f5fc3cf1-bbab-4873-8c2d-e85f4797d040"
I0305 06:39:12.436014       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:12.533335       1 gateway.go:562] latency, 0.0000, summary, hash(request), 302e23e4, selectedpod, 10.0.0.39:8000, ttft, 149, tpot, 19, e2e, 322, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:12.533356       1 gateway.go:748] "Request completed" requestID="3c72abf0-0525-48b4-9a79-f44d00fb6f64" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:12.533366       1 gateway.go:764] "HandleResponseBody completed" requestID="3c72abf0-0525-48b4-9a79-f44d00fb6f64" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:12.536891       1 gateway.go:562] latency, 0.0000, summary, hash(request), d9fab93d, selectedpod, 10.0.0.34:8000, ttft, 1169, tpot, 19, e2e, 1341, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:12.536905       1 gateway.go:748] "Request completed" requestID="61ea428f-60ee-4827-adc2-c67d7d632fec" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:12.536912       1 gateway.go:764] "HandleResponseBody completed" requestID="61ea428f-60ee-4827-adc2-c67d7d632fec" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:12.664935       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f5fc3cf1-bbab-4873-8c2d-e85f4797d040"
I0305 06:39:12.665162       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f5fc3cf1-bbab-4873-8c2d-e85f4797d040" model="qwen2-5-7b-instruct"
I0305 06:39:12.665236       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:12.665243       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:12.665246       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:12.665262       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:12.665271       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:12.665275       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:12.718086       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0528, numInputTokens, 7602
I0305 06:39:12.718107       1 tree.go:471] Updated node(0) last access: 110.8160 seconds
I0305 06:39:12.718114       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:12.718117       1 tree.go:471] Updated node(2) last access: 110.8161 seconds
I0305 06:39:12.718144       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7598 tokens:
I0305 06:39:12.718150       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:12.718157       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:12.718163       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:12.718168       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:12.718152354 +0000 UTC m=+110.934879227]
I0305 06:39:12.718184       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 06:39:12.718193       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 06:39:12.718199       1 prefix_cache_and_load.go:226] numTokens: 122, contextLength: 7600, targetGPU: V100
I0305 06:39:12.718205       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:12.718209       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.1265 = miss rate(0.9995) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:12.718215       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 06:39:12.718218       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 06:39:12.718222       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 06:39:12.718228       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 06:39:12.718230       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:12.718234       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:12.718238       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:12.718240       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:12.718244       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0162) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:12.718249       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:12.718252       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:12.718255       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0643 = miss rate(0.5078) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:12.718260       1 prefix_cache_and_load.go:226] numTokens: 125, contextLength: 7603, targetGPU: V100
I0305 06:39:12.718262       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:12.718266       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:12.718270       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7594, targetGPU: V100
I0305 06:39:12.718272       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:12.718275       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0153) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:12.718280       1 prefix_cache_and_load.go:226] numTokens: 7587, contextLength: 7591, targetGPU: V100
I0305 06:39:12.718283       1 prefix_cache_and_load.go:227] prefillTime: 2.7074 = (Base time(2.0710) + attnQuad(0.3656)) / 0.9
I0305 06:39:12.718288       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7060 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7074) / numPods(1)
I0305 06:39:12.718292       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 06:39:12.718294       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 06:39:12.718298       1 prefix_cache_and_load.go:229] totalPrefillCost: 5.4214 = miss rate(0.9997) * nodeToCount(2) * prefillTime(2.7114) / numPods(1)
I0305 06:39:12.718305       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-vlxfk, Cost: 13.566335
I0305 06:39:12.718309       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-79hc6, Cost: 0.000000
I0305 06:39:12.718312       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-6b5hh, Cost: 0.000000
I0305 06:39:12.718313       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-swm4v, Cost: 13.564230
I0305 06:39:12.718315       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-7gvxr, Cost: 12.171409
I0305 06:39:12.718318       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-p82gs, Cost: 9.459991
I0305 06:39:12.718319       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-d6fdd, Cost: 13.627532
I0305 06:39:12.718321       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-hkwnq, Cost: 9.455956
I0305 06:39:12.718327       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-867fbbcbd9-79hc6
I0305 06:39:12.718334       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 06:39:12.718341       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:12.718348       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:12.718353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:12.718360       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:12.718369       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:12.718378       1 prefix_cache_and_load.go:584] latency, Route, 0.0531
I0305 06:39:12.718390       1 gateway.go:415] latency, selectTargetPod, 0.0532, target pod, 10.0.0.131:8000
I0305 06:39:12.718401       1 gateway.go:235] latency, HandleRequestBody, 0.0535
I0305 06:39:12.759066       1 gateway.go:207] "Processing request" requestID="b1136997-593d-45b7-ba5e-9fe4a4412bc6"
I0305 06:39:12.759097       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b1136997-593d-45b7-ba5e-9fe4a4412bc6"
I0305 06:39:12.759106       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:12.772489       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f5fc3cf1-bbab-4873-8c2d-e85f4797d040"
I0305 06:39:12.998040       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c1704e64-152e-46dc-8c84-ac2bd6d194a2"
I0305 06:39:12.998121       1 gateway.go:207] "Processing request" requestID="cb2a58aa-8039-458b-b629-ef365a260883"
I0305 06:39:12.998149       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cb2a58aa-8039-458b-b629-ef365a260883"
I0305 06:39:12.998158       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:12.998298       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c1704e64-152e-46dc-8c84-ac2bd6d194a2" model="qwen2-5-7b-instruct"
I0305 06:39:12.998432       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:12.998441       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:12.998445       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:12.998469       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:12.998481       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:12.998488       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:12.998962       1 gateway.go:207] "Processing request" requestID="03928c8f-6185-40c0-a2c8-0218df1102dd"
I0305 06:39:12.998998       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="03928c8f-6185-40c0-a2c8-0218df1102dd"
I0305 06:39:12.999006       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:13.040988       1 gateway.go:608] "First token received" requestID="12a119e1-cbe4-4d5a-8c25-9eb33047ac73" ttft_ms=1165
I0305 06:39:13.051541       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0530, numInputTokens, 7594
I0305 06:39:13.051562       1 tree.go:471] Updated node(0) last access: 111.1495 seconds
I0305 06:39:13.051569       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:13.051572       1 tree.go:471] Updated node(2) last access: 111.1495 seconds
I0305 06:39:13.051592       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7590 tokens:
I0305 06:39:13.051598       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 06:39:13.051604       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:39:13.051611       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:13.051617       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:13.051599733 +0000 UTC m=+111.268326597]
I0305 06:39:13.051632       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 06:39:13.051639       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 06:39:13.051646       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7594, targetGPU: V100
I0305 06:39:13.051650       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:13.051654       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0153) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:13.051660       1 prefix_cache_and_load.go:226] numTokens: 7587, contextLength: 7591, targetGPU: V100
I0305 06:39:13.051662       1 prefix_cache_and_load.go:227] prefillTime: 2.7074 = (Base time(2.0710) + attnQuad(0.3656)) / 0.9
I0305 06:39:13.051666       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7060 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7074) / numPods(1)
I0305 06:39:13.051670       1 prefix_cache_and_load.go:226] numTokens: 7598, contextLength: 7602, targetGPU: V100
I0305 06:39:13.051673       1 prefix_cache_and_load.go:227] prefillTime: 2.7118 = (Base time(2.0740) + attnQuad(0.3666)) / 0.9
I0305 06:39:13.051677       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7104 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7118) / numPods(1)
I0305 06:39:13.051680       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 06:39:13.051683       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 06:39:13.051686       1 prefix_cache_and_load.go:229] totalPrefillCost: 5.4214 = miss rate(0.9997) * nodeToCount(2) * prefillTime(2.7114) / numPods(1)
I0305 06:39:13.051691       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:13.051694       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:13.051697       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0643 = miss rate(0.5078) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:13.051701       1 prefix_cache_and_load.go:226] numTokens: 125, contextLength: 7603, targetGPU: V100
I0305 06:39:13.051703       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:13.051707       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:13.051710       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 06:39:13.051712       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:13.051716       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:13.051721       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:13.051724       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:13.051727       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0162) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:13.051731       1 prefix_cache_and_load.go:226] numTokens: 122, contextLength: 7600, targetGPU: V100
I0305 06:39:13.051733       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:13.051736       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.1265 = miss rate(0.9995) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:13.051741       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 06:39:13.051743       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 06:39:13.051746       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7100 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7114) / numPods(1)
I0305 06:39:13.051753       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-7gvxr, Cost: 12.171409
I0305 06:39:13.051757       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-p82gs, Cost: 9.459991
I0305 06:39:13.051760       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-d6fdd, Cost: 13.627532
I0305 06:39:13.051762       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-hkwnq, Cost: 9.455956
I0305 06:39:13.051765       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-vlxfk, Cost: 13.566335
I0305 06:39:13.051766       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-79hc6, Cost: 9.460395
I0305 06:39:13.051768       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-6b5hh, Cost: 0.000000
I0305 06:39:13.051770       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-swm4v, Cost: 13.564230
I0305 06:39:13.051776       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-867fbbcbd9-6b5hh
I0305 06:39:13.051783       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0305 06:39:13.051790       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.051797       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.051803       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.051812       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:13.051820       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:13.051831       1 prefix_cache_and_load.go:584] latency, Route, 0.0534
I0305 06:39:13.051840       1 gateway.go:415] latency, selectTargetPod, 0.0534, target pod, 10.0.3.42:8000
I0305 06:39:13.051852       1 gateway.go:235] latency, HandleRequestBody, 0.0538
I0305 06:39:13.103686       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c1704e64-152e-46dc-8c84-ac2bd6d194a2"
I0305 06:39:13.168865       1 gateway.go:207] "Processing request" requestID="4d6378f8-06bc-4cfe-acbf-8b4abedbc7d9"
I0305 06:39:13.168864       1 gateway.go:207] "Processing request" requestID="58e8b169-22b8-4cc3-ba2b-82ac544a2434"
I0305 06:39:13.168890       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4d6378f8-06bc-4cfe-acbf-8b4abedbc7d9"
I0305 06:39:13.168902       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:13.168903       1 gateway.go:207] "Processing request" requestID="b3ad2917-72ea-4627-b8d4-55ca96bdf31e"
I0305 06:39:13.168910       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="58e8b169-22b8-4cc3-ba2b-82ac544a2434"
I0305 06:39:13.168919       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:13.168933       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b3ad2917-72ea-4627-b8d4-55ca96bdf31e"
I0305 06:39:13.168944       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:13.179034       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b1136997-593d-45b7-ba5e-9fe4a4412bc6"
I0305 06:39:13.179251       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b1136997-593d-45b7-ba5e-9fe4a4412bc6" model="qwen2-5-7b-instruct"
I0305 06:39:13.179328       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:13.179334       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:13.179338       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:13.179355       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:13.179364       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:13.179369       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:13.213619       1 gateway.go:562] latency, 0.0001, summary, hash(request), ea23fa3c, selectedpod, 10.0.1.28:8000, ttft, 1165, tpot, 19, e2e, 1338, numInputTokens, 7610, numOutputTokens, 10, numTotalTokens, 7620
I0305 06:39:13.213639       1 gateway.go:748] "Request completed" requestID="12a119e1-cbe4-4d5a-8c25-9eb33047ac73" targetPod="10.0.1.28:8000" promptTokens=7610 completionTokens=10 totalTokens=7620
I0305 06:39:13.213648       1 gateway.go:764] "HandleResponseBody completed" requestID="12a119e1-cbe4-4d5a-8c25-9eb33047ac73" promptTokens=7610 completionTokens=10 stream=true
I0305 06:39:13.231102       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0517, numInputTokens, 7594
I0305 06:39:13.231116       1 tree.go:471] Updated node(0) last access: 111.3291 seconds
I0305 06:39:13.231123       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:13.231127       1 tree.go:471] Updated node(2) last access: 111.3291 seconds
I0305 06:39:13.231142       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:13.231147       1 tree.go:471] Updated node(8) last access: 111.3291 seconds
I0305 06:39:13.231151       1 tree.go:484] Entire input tokens match the child node(9)
I0305 06:39:13.231157       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 06:39:13.231164       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:39:13.231170       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:13.231176       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:13.231160876 +0000 UTC m=+111.447887749 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:11.106413168 +0000 UTC m=+109.323140033]
I0305 06:39:13.231193       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7594, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:13.231201       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:13.231223       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7594
I0305 06:39:13.231231       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:13.231238       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.231245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.231249       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.231253       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.231260       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:13.231269       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:13.231277       1 prefix_cache_and_load.go:584] latency, Route, 0.0519
I0305 06:39:13.231285       1 gateway.go:415] latency, selectTargetPod, 0.0520, target pod, 10.0.1.53:8000
I0305 06:39:13.231297       1 gateway.go:235] latency, HandleRequestBody, 0.0523
I0305 06:39:13.250920       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b1136997-593d-45b7-ba5e-9fe4a4412bc6"
I0305 06:39:13.284293       1 gateway.go:608] "First token received" requestID="b1136997-593d-45b7-ba5e-9fe4a4412bc6" ttft_ms=105
I0305 06:39:13.364433       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cb2a58aa-8039-458b-b629-ef365a260883"
I0305 06:39:13.364674       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cb2a58aa-8039-458b-b629-ef365a260883" model="qwen2-5-7b-instruct"
I0305 06:39:13.364792       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:13.364798       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:13.364802       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:13.364819       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:13.364828       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:13.364835       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:13.417611       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0528, numInputTokens, 7595
I0305 06:39:13.417632       1 tree.go:471] Updated node(0) last access: 111.5156 seconds
I0305 06:39:13.417638       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:13.417642       1 tree.go:471] Updated node(2) last access: 111.5156 seconds
I0305 06:39:13.417652       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:13.417657       1 tree.go:471] Updated node(8) last access: 111.5156 seconds
I0305 06:39:13.417666       1 tree.go:667] Split complete - New node(16)
I0305 06:39:13.417670       1 tree.go:668] Split complete - Child node(9)
I0305 06:39:13.417675       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:39:13.417679       1 tree.go:471] Updated node(16) last access: 111.5156 seconds
I0305 06:39:13.417685       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:13.417690       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:39:13.417696       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:39:13.417702       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:13.417707       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:13.417692593 +0000 UTC m=+111.634419458]
I0305 06:39:13.417722       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7480, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:13.417728       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:13.417746       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7480
I0305 06:39:13.417754       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:13.417761       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.417766       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.417770       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.417773       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.417778       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.417786       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:13.417794       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:13.417804       1 prefix_cache_and_load.go:584] latency, Route, 0.0530
I0305 06:39:13.417812       1 gateway.go:415] latency, selectTargetPod, 0.0530, target pod, 10.0.1.53:8000
I0305 06:39:13.417823       1 gateway.go:235] latency, HandleRequestBody, 0.0534
I0305 06:39:13.437352       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cb2a58aa-8039-458b-b629-ef365a260883"
I0305 06:39:13.469101       1 gateway.go:562] latency, 0.0000, summary, hash(request), 906a452e, selectedpod, 10.0.1.53:8000, ttft, 105, tpot, 20, e2e, 290, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:39:13.469124       1 gateway.go:748] "Request completed" requestID="b1136997-593d-45b7-ba5e-9fe4a4412bc6" targetPod="10.0.1.53:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:39:13.469135       1 gateway.go:764] "HandleResponseBody completed" requestID="b1136997-593d-45b7-ba5e-9fe4a4412bc6" promptTokens=7613 completionTokens=10 stream=true
I0305 06:39:13.489249       1 gateway.go:608] "First token received" requestID="cb2a58aa-8039-458b-b629-ef365a260883" ttft_ms=124
I0305 06:39:13.564162       1 gateway.go:207] "Processing request" requestID="2a919ac5-5b9f-4926-813c-efcf615b6c0e"
I0305 06:39:13.564182       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2a919ac5-5b9f-4926-813c-efcf615b6c0e"
I0305 06:39:13.564190       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:13.576486       1 gateway.go:207] "Processing request" requestID="23678e48-2340-480d-9372-7e20ed1cfd5f"
I0305 06:39:13.576519       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="23678e48-2340-480d-9372-7e20ed1cfd5f"
I0305 06:39:13.576529       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:13.577665       1 gateway.go:329] "-- In RequestBody processing ..." requestID="03928c8f-6185-40c0-a2c8-0218df1102dd"
I0305 06:39:13.577874       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="03928c8f-6185-40c0-a2c8-0218df1102dd" model="qwen2-5-7b-instruct"
I0305 06:39:13.577947       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:13.577953       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:13.577956       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:13.577985       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:13.577995       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:13.577999       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:13.620197       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4d6378f8-06bc-4cfe-acbf-8b4abedbc7d9"
I0305 06:39:13.620645       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4d6378f8-06bc-4cfe-acbf-8b4abedbc7d9" model="qwen2-5-7b-instruct"
I0305 06:39:13.628464       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0505, numInputTokens, 7603
I0305 06:39:13.628482       1 tree.go:471] Updated node(0) last access: 111.7264 seconds
I0305 06:39:13.628489       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:13.628491       1 tree.go:471] Updated node(2) last access: 111.7264 seconds
I0305 06:39:13.628502       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:13.628505       1 tree.go:471] Updated node(8) last access: 111.7264 seconds
I0305 06:39:13.628517       1 tree.go:484] Entire input tokens match the child node(6)
I0305 06:39:13.628520       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 06:39:13.628527       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:39:13.628533       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:13.628540       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:13.628523715 +0000 UTC m=+111.845250579 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:10.20451967 +0000 UTC m=+108.421246539]
I0305 06:39:13.628559       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:13.628567       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:13.628584       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7603
I0305 06:39:13.628593       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:13.628600       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.628606       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.628610       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.628614       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.628622       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:13.628630       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:13.628641       1 prefix_cache_and_load.go:584] latency, Route, 0.0507
I0305 06:39:13.628656       1 gateway.go:415] latency, selectTargetPod, 0.0507, target pod, 10.0.1.53:8000
I0305 06:39:13.628667       1 gateway.go:235] latency, HandleRequestBody, 0.0510
I0305 06:39:13.628697       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0079
I0305 06:39:13.628702       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:13.628705       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:13.628721       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:13.628731       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:13.628735       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:13.647378       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="03928c8f-6185-40c0-a2c8-0218df1102dd"
I0305 06:39:13.671087       1 gateway.go:562] latency, 0.0000, summary, hash(request), b17ff979, selectedpod, 10.0.1.53:8000, ttft, 124, tpot, 20, e2e, 306, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:39:13.671104       1 gateway.go:748] "Request completed" requestID="cb2a58aa-8039-458b-b629-ef365a260883" targetPod="10.0.1.53:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:39:13.671113       1 gateway.go:764] "HandleResponseBody completed" requestID="cb2a58aa-8039-458b-b629-ef365a260883" promptTokens=7614 completionTokens=10 stream=true
I0305 06:39:13.690905       1 gateway.go:608] "First token received" requestID="03928c8f-6185-40c0-a2c8-0218df1102dd" ttft_ms=113
I0305 06:39:13.702273       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0735, numInputTokens, 7601
I0305 06:39:13.702292       1 tree.go:471] Updated node(0) last access: 111.8002 seconds
I0305 06:39:13.702299       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:13.702302       1 tree.go:471] Updated node(2) last access: 111.8002 seconds
I0305 06:39:13.702353       1 tree.go:667] Split complete - New node(18)
I0305 06:39:13.702383       1 tree.go:668] Split complete - Child node(14)
I0305 06:39:13.702391       1 tree.go:501] latency, splitNode, 0.0001 seconds, 7597 tokens:
I0305 06:39:13.702395       1 tree.go:471] Updated node(18) last access: 111.8003 seconds
I0305 06:39:13.702400       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:13.702404       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:13.702410       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:13.702416       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:13.702420       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:13.702406578 +0000 UTC m=+111.919133442]
I0305 06:39:13.702435       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:13.702442       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:13.702459       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7478
I0305 06:39:13.702468       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:13.702476       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.702482       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.702489       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.702493       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:13.702500       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:13.702518       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:13.702530       1 prefix_cache_and_load.go:584] latency, Route, 0.0817
I0305 06:39:13.702538       1 gateway.go:415] latency, selectTargetPod, 0.0817, target pod, 10.0.0.131:8000
I0305 06:39:13.702548       1 gateway.go:235] latency, HandleRequestBody, 0.0824
I0305 06:39:13.721963       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4d6378f8-06bc-4cfe-acbf-8b4abedbc7d9"
I0305 06:39:13.845003       1 gateway.go:608] "First token received" requestID="f5fc3cf1-bbab-4873-8c2d-e85f4797d040" ttft_ms=1180
I0305 06:39:13.864043       1 gateway.go:562] latency, 0.0000, summary, hash(request), a5b5320a, selectedpod, 10.0.1.53:8000, ttft, 113, tpot, 19, e2e, 286, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:39:13.864061       1 gateway.go:748] "Request completed" requestID="03928c8f-6185-40c0-a2c8-0218df1102dd" targetPod="10.0.1.53:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:39:13.864071       1 gateway.go:764] "HandleResponseBody completed" requestID="03928c8f-6185-40c0-a2c8-0218df1102dd" promptTokens=7622 completionTokens=10 stream=true
I0305 06:39:13.875885       1 gateway.go:608] "First token received" requestID="4d6378f8-06bc-4cfe-acbf-8b4abedbc7d9" ttft_ms=255
I0305 06:39:14.057595       1 gateway.go:562] latency, 0.0000, summary, hash(request), 95288e39, selectedpod, 10.0.0.131:8000, ttft, 255, tpot, 20, e2e, 437, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:14.057608       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2ddde691, selectedpod, 10.0.0.131:8000, ttft, 1180, tpot, 23, e2e, 1392, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:14.057616       1 gateway.go:748] "Request completed" requestID="4d6378f8-06bc-4cfe-acbf-8b4abedbc7d9" targetPod="10.0.0.131:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:14.057626       1 gateway.go:764] "HandleResponseBody completed" requestID="4d6378f8-06bc-4cfe-acbf-8b4abedbc7d9" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:14.057626       1 gateway.go:748] "Request completed" requestID="f5fc3cf1-bbab-4873-8c2d-e85f4797d040" targetPod="10.0.0.131:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:14.057638       1 gateway.go:764] "HandleResponseBody completed" requestID="f5fc3cf1-bbab-4873-8c2d-e85f4797d040" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:14.156389       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2a919ac5-5b9f-4926-813c-efcf615b6c0e"
I0305 06:39:14.156608       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2a919ac5-5b9f-4926-813c-efcf615b6c0e" model="qwen2-5-7b-instruct"
I0305 06:39:14.156752       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:14.156761       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:14.156765       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:14.156796       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:14.156813       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:14.156819       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:14.163406       1 gateway.go:608] "First token received" requestID="c1704e64-152e-46dc-8c84-ac2bd6d194a2" ttft_ms=1165
I0305 06:39:14.209078       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0523, numInputTokens, 7599
I0305 06:39:14.209095       1 tree.go:471] Updated node(0) last access: 112.3070 seconds
I0305 06:39:14.209102       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:14.209105       1 tree.go:471] Updated node(2) last access: 112.3070 seconds
I0305 06:39:14.209118       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:14.209122       1 tree.go:471] Updated node(8) last access: 112.3071 seconds
I0305 06:39:14.209127       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:14.209131       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:14.209138       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:14.209144       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:14.209150       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:14.209134345 +0000 UTC m=+112.425861209]
I0305 06:39:14.209163       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:14.209169       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:14.209188       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7478
I0305 06:39:14.209197       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:14.209205       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.209211       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.209215       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.209218       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.209230       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:14.209239       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:14.209249       1 prefix_cache_and_load.go:584] latency, Route, 0.0525
I0305 06:39:14.209257       1 gateway.go:415] latency, selectTargetPod, 0.0525, target pod, 10.0.1.53:8000
I0305 06:39:14.209267       1 gateway.go:235] latency, HandleRequestBody, 0.0529
I0305 06:39:14.228881       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2a919ac5-5b9f-4926-813c-efcf615b6c0e"
I0305 06:39:14.271484       1 gateway.go:608] "First token received" requestID="2a919ac5-5b9f-4926-813c-efcf615b6c0e" ttft_ms=115
I0305 06:39:14.335944       1 gateway.go:562] latency, 0.0000, summary, hash(request), 45c4d554, selectedpod, 10.0.3.42:8000, ttft, 1165, tpot, 19, e2e, 1337, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:39:14.335965       1 gateway.go:748] "Request completed" requestID="c1704e64-152e-46dc-8c84-ac2bd6d194a2" targetPod="10.0.3.42:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:39:14.335983       1 gateway.go:764] "HandleResponseBody completed" requestID="c1704e64-152e-46dc-8c84-ac2bd6d194a2" promptTokens=7613 completionTokens=10 stream=true
I0305 06:39:14.391104       1 gateway.go:329] "-- In RequestBody processing ..." requestID="58e8b169-22b8-4cc3-ba2b-82ac544a2434"
I0305 06:39:14.391296       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="58e8b169-22b8-4cc3-ba2b-82ac544a2434" model="qwen2-5-7b-instruct"
I0305 06:39:14.391361       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:14.391366       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:14.391369       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:14.391387       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:14.391397       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:14.391402       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:14.441456       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0500, numInputTokens, 7591
I0305 06:39:14.441477       1 tree.go:471] Updated node(0) last access: 112.5394 seconds
I0305 06:39:14.441483       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:14.441487       1 tree.go:471] Updated node(2) last access: 112.5394 seconds
I0305 06:39:14.441500       1 tree.go:484] Entire input tokens match the child node(11)
I0305 06:39:14.441505       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7591 tokens
I0305 06:39:14.441519       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7591 tokens
I0305 06:39:14.441527       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:14.441532       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:14.441508042 +0000 UTC m=+112.658234905 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:11.925011767 +0000 UTC m=+110.141738637]
I0305 06:39:14.441551       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7591, Matched tokens: 7591, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:14.441559       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:14.441577       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7591
I0305 06:39:14.441585       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:14.441594       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.441598       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.441603       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.441613       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:14.441626       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:14.441638       1 prefix_cache_and_load.go:584] latency, Route, 0.0503
I0305 06:39:14.441650       1 gateway.go:415] latency, selectTargetPod, 0.0503, target pod, 10.0.1.28:8000
I0305 06:39:14.441664       1 gateway.go:235] latency, HandleRequestBody, 0.0506
I0305 06:39:14.444278       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6e0db073, selectedpod, 10.0.1.53:8000, ttft, 115, tpot, 19, e2e, 287, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:14.444300       1 gateway.go:748] "Request completed" requestID="2a919ac5-5b9f-4926-813c-efcf615b6c0e" targetPod="10.0.1.53:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:14.444313       1 gateway.go:764] "HandleResponseBody completed" requestID="2a919ac5-5b9f-4926-813c-efcf615b6c0e" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:14.461289       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="58e8b169-22b8-4cc3-ba2b-82ac544a2434"
I0305 06:39:14.495439       1 gateway.go:608] "First token received" requestID="58e8b169-22b8-4cc3-ba2b-82ac544a2434" ttft_ms=104
I0305 06:39:14.541716       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b3ad2917-72ea-4627-b8d4-55ca96bdf31e"
I0305 06:39:14.541954       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b3ad2917-72ea-4627-b8d4-55ca96bdf31e" model="qwen2-5-7b-instruct"
I0305 06:39:14.542038       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:14.542046       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:14.542051       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:14.542073       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:14.542086       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:14.542093       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:14.545950       1 gateway.go:207] "Processing request" requestID="6c5acd13-418a-41d9-b478-56d714f49e82"
I0305 06:39:14.545987       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6c5acd13-418a-41d9-b478-56d714f49e82"
I0305 06:39:14.545997       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:14.554412       1 gateway.go:329] "-- In RequestBody processing ..." requestID="23678e48-2340-480d-9372-7e20ed1cfd5f"
I0305 06:39:14.554606       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="23678e48-2340-480d-9372-7e20ed1cfd5f" model="qwen2-5-7b-instruct"
I0305 06:39:14.591717       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0496, numInputTokens, 7597
I0305 06:39:14.591734       1 tree.go:471] Updated node(0) last access: 112.6897 seconds
I0305 06:39:14.591740       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:14.591743       1 tree.go:471] Updated node(2) last access: 112.6897 seconds
I0305 06:39:14.591759       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:14.591764       1 tree.go:471] Updated node(8) last access: 112.6897 seconds
I0305 06:39:14.591775       1 tree.go:667] Split complete - New node(21)
I0305 06:39:14.591778       1 tree.go:668] Split complete - Child node(6)
I0305 06:39:14.591783       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:39:14.591788       1 tree.go:471] Updated node(21) last access: 112.6897 seconds
I0305 06:39:14.591795       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 06:39:14.591800       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:14.591806       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:14.591813       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:14.591818       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:14.591802501 +0000 UTC m=+112.808529366]
I0305 06:39:14.591830       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7485, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 06:39:14.591836       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 06:39:14.591856       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7485
I0305 06:39:14.591865       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:14.591872       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.591879       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.591887       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.591894       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.591901       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.591911       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:14.591923       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:14.591936       1 prefix_cache_and_load.go:584] latency, Route, 0.0499
I0305 06:39:14.591952       1 gateway.go:415] latency, selectTargetPod, 0.0499, target pod, 10.0.1.53:8000
I0305 06:39:14.591962       1 gateway.go:235] latency, HandleRequestBody, 0.0502
I0305 06:39:14.591995       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0373
I0305 06:39:14.592001       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:14.592004       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:14.592022       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:14.592033       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:14.592039       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:14.610756       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b3ad2917-72ea-4627-b8d4-55ca96bdf31e"
I0305 06:39:14.643388       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0513, numInputTokens, 7597
I0305 06:39:14.643407       1 tree.go:471] Updated node(0) last access: 112.7413 seconds
I0305 06:39:14.643415       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:14.643421       1 tree.go:471] Updated node(2) last access: 112.7414 seconds
I0305 06:39:14.643472       1 tree.go:667] Split complete - New node(23)
I0305 06:39:14.643477       1 tree.go:668] Split complete - Child node(15)
I0305 06:39:14.643482       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7593 tokens:
I0305 06:39:14.643487       1 tree.go:471] Updated node(23) last access: 112.7414 seconds
I0305 06:39:14.643493       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:39:14.643500       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:14.643507       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:14.643524       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:14.643530       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:14.643502746 +0000 UTC m=+112.860229615]
I0305 06:39:14.643544       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:39:14.643550       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:39:14.643568       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7478
I0305 06:39:14.643577       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:14.643587       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.643593       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.643597       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.643602       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.643609       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:14.643618       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:14.643628       1 prefix_cache_and_load.go:584] latency, Route, 0.0889
I0305 06:39:14.643635       1 gateway.go:415] latency, selectTargetPod, 0.0890, target pod, 10.0.3.42:8000
I0305 06:39:14.643646       1 gateway.go:235] latency, HandleRequestBody, 0.0892
I0305 06:39:14.645954       1 gateway.go:608] "First token received" requestID="b3ad2917-72ea-4627-b8d4-55ca96bdf31e" ttft_ms=104
I0305 06:39:14.660040       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="23678e48-2340-480d-9372-7e20ed1cfd5f"
I0305 06:39:14.669060       1 gateway.go:562] latency, 0.0000, summary, hash(request), ea23fa3c, selectedpod, 10.0.1.28:8000, ttft, 104, tpot, 19, e2e, 277, numInputTokens, 7610, numOutputTokens, 10, numTotalTokens, 7620
I0305 06:39:14.669080       1 gateway.go:748] "Request completed" requestID="58e8b169-22b8-4cc3-ba2b-82ac544a2434" targetPod="10.0.1.28:8000" promptTokens=7610 completionTokens=10 totalTokens=7620
I0305 06:39:14.669092       1 gateway.go:764] "HandleResponseBody completed" requestID="58e8b169-22b8-4cc3-ba2b-82ac544a2434" promptTokens=7610 completionTokens=10 stream=true
I0305 06:39:14.705257       1 gateway.go:608] "First token received" requestID="23678e48-2340-480d-9372-7e20ed1cfd5f" ttft_ms=150
I0305 06:39:14.797089       1 gateway.go:207] "Processing request" requestID="a7d94bb7-ecf1-41e7-8ec5-6fd7dd28a8c3"
I0305 06:39:14.797116       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a7d94bb7-ecf1-41e7-8ec5-6fd7dd28a8c3"
I0305 06:39:14.797125       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:14.811859       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6c5acd13-418a-41d9-b478-56d714f49e82"
I0305 06:39:14.812108       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6c5acd13-418a-41d9-b478-56d714f49e82" model="qwen2-5-7b-instruct"
I0305 06:39:14.812186       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:14.812194       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:14.812199       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:14.812228       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:14.812244       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:14.812249       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:14.818729       1 gateway.go:562] latency, 0.0000, summary, hash(request), 05ff8b0a, selectedpod, 10.0.1.53:8000, ttft, 104, tpot, 19, e2e, 276, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:14.818749       1 gateway.go:748] "Request completed" requestID="b3ad2917-72ea-4627-b8d4-55ca96bdf31e" targetPod="10.0.1.53:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:14.818760       1 gateway.go:764] "HandleResponseBody completed" requestID="b3ad2917-72ea-4627-b8d4-55ca96bdf31e" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:14.861025       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 7601
I0305 06:39:14.861041       1 tree.go:471] Updated node(0) last access: 112.9590 seconds
I0305 06:39:14.861047       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:14.861053       1 tree.go:471] Updated node(2) last access: 112.9590 seconds
I0305 06:39:14.861066       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:14.861070       1 tree.go:471] Updated node(23) last access: 112.9590 seconds
I0305 06:39:14.861076       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:14.861082       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:14.861088       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:14.861094       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:14.861100       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:14.861083782 +0000 UTC m=+113.077810647]
I0305 06:39:14.861113       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:14.861120       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:14.861143       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7478
I0305 06:39:14.861154       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:14.861163       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.861169       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.861173       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.861177       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:14.861185       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:14.861194       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:14.861203       1 prefix_cache_and_load.go:584] latency, Route, 0.0490
I0305 06:39:14.861211       1 gateway.go:415] latency, selectTargetPod, 0.0490, target pod, 10.0.3.42:8000
I0305 06:39:14.861220       1 gateway.go:235] latency, HandleRequestBody, 0.0494
I0305 06:39:14.880522       1 gateway.go:562] latency, 0.0000, summary, hash(request), a4ae5f3d, selectedpod, 10.0.3.42:8000, ttft, 150, tpot, 19, e2e, 326, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:14.880543       1 gateway.go:748] "Request completed" requestID="23678e48-2340-480d-9372-7e20ed1cfd5f" targetPod="10.0.3.42:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:14.880552       1 gateway.go:764] "HandleResponseBody completed" requestID="23678e48-2340-480d-9372-7e20ed1cfd5f" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:14.884074       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6c5acd13-418a-41d9-b478-56d714f49e82"
I0305 06:39:14.938180       1 gateway.go:608] "First token received" requestID="6c5acd13-418a-41d9-b478-56d714f49e82" ttft_ms=126
I0305 06:39:15.110876       1 gateway.go:562] latency, 0.0000, summary, hash(request), b996fd25, selectedpod, 10.0.3.42:8000, ttft, 126, tpot, 19, e2e, 298, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:15.110896       1 gateway.go:748] "Request completed" requestID="6c5acd13-418a-41d9-b478-56d714f49e82" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:15.110905       1 gateway.go:764] "HandleResponseBody completed" requestID="6c5acd13-418a-41d9-b478-56d714f49e82" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:15.164464       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a7d94bb7-ecf1-41e7-8ec5-6fd7dd28a8c3"
I0305 06:39:15.164687       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a7d94bb7-ecf1-41e7-8ec5-6fd7dd28a8c3" model="qwen2-5-7b-instruct"
I0305 06:39:15.164762       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:15.164768       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:15.164772       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:15.164801       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:15.164815       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:15.164822       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:15.212998       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 7602
I0305 06:39:15.213016       1 tree.go:471] Updated node(0) last access: 113.3110 seconds
I0305 06:39:15.213023       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:15.213026       1 tree.go:471] Updated node(2) last access: 113.3110 seconds
I0305 06:39:15.213059       1 tree.go:667] Split complete - New node(26)
I0305 06:39:15.213064       1 tree.go:668] Split complete - Child node(1)
I0305 06:39:15.213070       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7598 tokens:
I0305 06:39:15.213074       1 tree.go:471] Updated node(26) last access: 113.3110 seconds
I0305 06:39:15.213079       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 06:39:15.213083       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:15.213088       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:15.213094       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:15.213098       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:15.213084809 +0000 UTC m=+113.429811684]
I0305 06:39:15.213113       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 06:39:15.213120       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 06:39:15.213139       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7478
I0305 06:39:15.213146       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:15.213154       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:15.213159       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:15.213162       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:15.213165       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:15.213173       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:15.213184       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:15.213193       1 prefix_cache_and_load.go:584] latency, Route, 0.0484
I0305 06:39:15.213204       1 gateway.go:415] latency, selectTargetPod, 0.0484, target pod, 10.0.3.41:8000
I0305 06:39:15.213215       1 gateway.go:235] latency, HandleRequestBody, 0.0488
I0305 06:39:15.229937       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a7d94bb7-ecf1-41e7-8ec5-6fd7dd28a8c3"
I0305 06:39:15.273431       1 gateway.go:608] "First token received" requestID="a7d94bb7-ecf1-41e7-8ec5-6fd7dd28a8c3" ttft_ms=108
I0305 06:39:15.365037       1 gateway.go:207] "Processing request" requestID="c66c6b14-2b26-4463-8eb6-5dd8a6671cbf"
I0305 06:39:15.365066       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c66c6b14-2b26-4463-8eb6-5dd8a6671cbf"
I0305 06:39:15.365075       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:15.384024       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c66c6b14-2b26-4463-8eb6-5dd8a6671cbf"
I0305 06:39:15.384241       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c66c6b14-2b26-4463-8eb6-5dd8a6671cbf" model="qwen2-5-7b-instruct"
I0305 06:39:15.384308       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:15.384320       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:15.384325       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:15.384361       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:15.384374       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:15.384379       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:15.436845       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0525, numInputTokens, 7601
I0305 06:39:15.436866       1 tree.go:471] Updated node(0) last access: 113.5348 seconds
I0305 06:39:15.436872       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:15.436875       1 tree.go:471] Updated node(2) last access: 113.5348 seconds
I0305 06:39:15.436887       1 tree.go:484] Entire input tokens match the child node(10)
I0305 06:39:15.436892       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:15.436897       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:15.436905       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:15.436911       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:15.436894177 +0000 UTC m=+113.653621048 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:11.248985797 +0000 UTC m=+109.465712673]
I0305 06:39:15.436928       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:15.436936       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:15.436960       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7601
I0305 06:39:15.436979       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:15.436991       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:15.437000       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:15.437007       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:15.437029       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:15.437041       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:15.437055       1 prefix_cache_and_load.go:584] latency, Route, 0.0527
I0305 06:39:15.437065       1 gateway.go:415] latency, selectTargetPod, 0.0528, target pod, 10.0.0.34:8000
I0305 06:39:15.437078       1 gateway.go:235] latency, HandleRequestBody, 0.0531
I0305 06:39:15.446565       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3780117b, selectedpod, 10.0.3.41:8000, ttft, 108, tpot, 19, e2e, 282, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:15.446588       1 gateway.go:748] "Request completed" requestID="a7d94bb7-ecf1-41e7-8ec5-6fd7dd28a8c3" targetPod="10.0.3.41:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:15.446603       1 gateway.go:764] "HandleResponseBody completed" requestID="a7d94bb7-ecf1-41e7-8ec5-6fd7dd28a8c3" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:15.456310       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c66c6b14-2b26-4463-8eb6-5dd8a6671cbf"
I0305 06:39:15.490609       1 gateway.go:608] "First token received" requestID="c66c6b14-2b26-4463-8eb6-5dd8a6671cbf" ttft_ms=106
I0305 06:39:15.664091       1 gateway.go:562] latency, 0.0001, summary, hash(request), d9fab93d, selectedpod, 10.0.0.34:8000, ttft, 106, tpot, 19, e2e, 280, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:15.664111       1 gateway.go:748] "Request completed" requestID="c66c6b14-2b26-4463-8eb6-5dd8a6671cbf" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:15.664122       1 gateway.go:764] "HandleResponseBody completed" requestID="c66c6b14-2b26-4463-8eb6-5dd8a6671cbf" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:16.110850       1 gateway.go:207] "Processing request" requestID="3cf9ec3f-ce27-441f-9d39-9cd8c3f7f411"
I0305 06:39:16.110892       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3cf9ec3f-ce27-441f-9d39-9cd8c3f7f411"
I0305 06:39:16.110900       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:16.111806       1 gateway.go:207] "Processing request" requestID="e6b8bf47-ed11-4624-9dbf-4eacac8415e5"
I0305 06:39:16.111848       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e6b8bf47-ed11-4624-9dbf-4eacac8415e5"
I0305 06:39:16.111860       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:16.119957       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3cf9ec3f-ce27-441f-9d39-9cd8c3f7f411"
I0305 06:39:16.120191       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3cf9ec3f-ce27-441f-9d39-9cd8c3f7f411" model="qwen2-5-7b-instruct"
I0305 06:39:16.120267       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:16.120274       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:16.120278       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:16.120318       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:16.120331       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:16.120337       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:16.174021       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0537, numInputTokens, 7602
I0305 06:39:16.174045       1 tree.go:471] Updated node(0) last access: 114.2720 seconds
I0305 06:39:16.174053       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:16.174058       1 tree.go:471] Updated node(2) last access: 114.2720 seconds
I0305 06:39:16.174073       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:16.174077       1 tree.go:471] Updated node(4) last access: 114.2720 seconds
I0305 06:39:16.174085       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 06:39:16.174093       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:16.174102       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:16.174110       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:16.174118       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:16.174095607 +0000 UTC m=+114.390822484]
I0305 06:39:16.174139       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 06:39:16.174148       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 06:39:16.174174       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7478
I0305 06:39:16.174188       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:16.174198       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:16.174206       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:16.174212       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:16.174219       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:16.174231       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:16.174245       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:16.174259       1 prefix_cache_and_load.go:584] latency, Route, 0.0540
I0305 06:39:16.174275       1 gateway.go:415] latency, selectTargetPod, 0.0540, target pod, 10.0.1.47:8000
I0305 06:39:16.174289       1 gateway.go:235] latency, HandleRequestBody, 0.0543
I0305 06:39:16.193593       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3cf9ec3f-ce27-441f-9d39-9cd8c3f7f411"
I0305 06:39:16.237342       1 gateway.go:608] "First token received" requestID="3cf9ec3f-ce27-441f-9d39-9cd8c3f7f411" ttft_ms=117
I0305 06:39:16.392105       1 gateway.go:207] "Processing request" requestID="7a7d131f-6386-4d0f-911e-242c824bf902"
I0305 06:39:16.392127       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7a7d131f-6386-4d0f-911e-242c824bf902"
I0305 06:39:16.392134       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:16.410221       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90a27b07, selectedpod, 10.0.1.47:8000, ttft, 117, tpot, 19, e2e, 290, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:16.410238       1 gateway.go:748] "Request completed" requestID="3cf9ec3f-ce27-441f-9d39-9cd8c3f7f411" targetPod="10.0.1.47:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:16.410248       1 gateway.go:764] "HandleResponseBody completed" requestID="3cf9ec3f-ce27-441f-9d39-9cd8c3f7f411" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:16.788975       1 gateway.go:207] "Processing request" requestID="0fa48e22-f625-4c55-9a1e-f2a496fb0094"
I0305 06:39:16.789009       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0fa48e22-f625-4c55-9a1e-f2a496fb0094"
I0305 06:39:16.789018       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:16.790102       1 gateway.go:207] "Processing request" requestID="feca5c57-71f9-4f91-a634-ae16a12fe737"
I0305 06:39:16.790131       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="feca5c57-71f9-4f91-a634-ae16a12fe737"
I0305 06:39:16.790139       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:16.906748       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e6b8bf47-ed11-4624-9dbf-4eacac8415e5"
I0305 06:39:16.936873       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e6b8bf47-ed11-4624-9dbf-4eacac8415e5" model="qwen2-5-7b-instruct"
I0305 06:39:16.936961       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:16.936976       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:16.936979       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:16.937012       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:16.937024       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:16.937029       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:16.988682       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7a7d131f-6386-4d0f-911e-242c824bf902"
I0305 06:39:16.989103       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7a7d131f-6386-4d0f-911e-242c824bf902" model="qwen2-5-7b-instruct"
I0305 06:39:16.989284       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0522, numInputTokens, 7602
I0305 06:39:16.989303       1 tree.go:471] Updated node(0) last access: 115.0872 seconds
I0305 06:39:16.989343       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:16.989350       1 tree.go:471] Updated node(2) last access: 115.0873 seconds
I0305 06:39:16.989378       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7598 tokens:
I0305 06:39:16.989388       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:16.989399       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:16.989409       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:16.989416       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:16.989393031 +0000 UTC m=+115.206119912]
I0305 06:39:16.989444       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 06:39:16.989456       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 06:39:16.989465       1 prefix_cache_and_load.go:226] numTokens: 114, contextLength: 7594, targetGPU: V100
I0305 06:39:16.989472       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989479       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0153) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989488       1 prefix_cache_and_load.go:226] numTokens: 7587, contextLength: 7591, targetGPU: V100
I0305 06:39:16.989498       1 prefix_cache_and_load.go:227] prefillTime: 2.7074 = (Base time(2.0710) + attnQuad(0.3656)) / 0.9
I0305 06:39:16.989503       1 prefix_cache_and_load.go:229] totalPrefillCost: 5.4119 = miss rate(0.9995) * nodeToCount(2) * prefillTime(2.7074) / numPods(1)
I0305 06:39:16.989521       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 7602, targetGPU: V100
I0305 06:39:16.989526       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989540       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989546       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 7602, targetGPU: V100
I0305 06:39:16.989550       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989558       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0163) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989565       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:16.989569       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989575       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.1266 = miss rate(0.9997) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989582       1 prefix_cache_and_load.go:226] numTokens: 118, contextLength: 7603, targetGPU: V100
I0305 06:39:16.989585       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989590       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0643 = miss rate(0.5080) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989599       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 06:39:16.989631       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989637       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989643       1 prefix_cache_and_load.go:226] numTokens: 115, contextLength: 7595, targetGPU: V100
I0305 06:39:16.989647       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989651       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0151) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989658       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 06:39:16.989665       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989687       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989695       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:16.989698       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989705       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0162) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989712       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 06:39:16.989716       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 06:39:16.989733       1 prefix_cache_and_load.go:229] totalPrefillCost: 5.4200 = miss rate(0.9995) * nodeToCount(2) * prefillTime(2.7114) / numPods(1)
I0305 06:39:16.989752       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 7597, targetGPU: V100
I0305 06:39:16.989755       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989760       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0157) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989767       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:16.989771       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989775       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0643 = miss rate(0.5078) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989786       1 prefix_cache_and_load.go:226] numTokens: 112, contextLength: 7597, targetGPU: V100
I0305 06:39:16.989792       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989796       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0009 = miss rate(0.0147) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989802       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:16.989805       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989815       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989822       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:16.989825       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989833       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989838       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 7602, targetGPU: V100
I0305 06:39:16.989843       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989847       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0163) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989855       1 prefix_cache_and_load.go:226] numTokens: 122, contextLength: 7600, targetGPU: V100
I0305 06:39:16.989858       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989863       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.1265 = miss rate(0.9995) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989872       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7594, targetGPU: V100
I0305 06:39:16.989875       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:16.989892       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:16.989905       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-7gvxr, Cost: 13.627591
I0305 06:39:16.989911       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-p82gs, Cost: 12.169982
I0305 06:39:16.989916       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-d6fdd, Cost: 13.627532
I0305 06:39:16.989920       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-hkwnq, Cost: 12.161912
I0305 06:39:16.989923       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-vlxfk, Cost: 20.317368
I0305 06:39:16.989927       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-79hc6, Cost: 13.564287
I0305 06:39:16.989933       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-6b5hh, Cost: 20.315276
I0305 06:39:16.989937       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-swm4v, Cost: 33.819137
I0305 06:39:16.989962       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-867fbbcbd9-hkwnq
I0305 06:39:16.989999       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0005
I0305 06:39:16.990035       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:16.990050       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:16.990060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:16.990073       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:16.990087       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:16.990105       1 prefix_cache_and_load.go:584] latency, Route, 0.0531
I0305 06:39:16.990124       1 gateway.go:415] latency, selectTargetPod, 0.0532, target pod, 10.0.1.28:8000
I0305 06:39:16.990151       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0009
I0305 06:39:16.990156       1 gateway.go:235] latency, HandleRequestBody, 0.0834
I0305 06:39:16.990158       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:16.990163       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:16.990209       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:16.990246       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:16.990253       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:17.010317       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e6b8bf47-ed11-4624-9dbf-4eacac8415e5"
I0305 06:39:17.039289       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0490, numInputTokens, 7593
I0305 06:39:17.039307       1 tree.go:471] Updated node(0) last access: 115.1372 seconds
I0305 06:39:17.039313       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:17.039317       1 tree.go:471] Updated node(2) last access: 115.1373 seconds
I0305 06:39:17.039337       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 7589 tokens:
I0305 06:39:17.039343       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7593 tokens
I0305 06:39:17.039349       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 06:39:17.039355       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:17.039361       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:17.039345563 +0000 UTC m=+115.256072435]
I0305 06:39:17.039374       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 4, Matching ratio: 0.0005, # Matched pods: 0, Matched pods: []
I0305 06:39:17.039384       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0005, len(matchedPods): 0)
I0305 06:39:17.039389       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:17.039394       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039399       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0643 = miss rate(0.5078) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039404       1 prefix_cache_and_load.go:226] numTokens: 112, contextLength: 7597, targetGPU: V100
I0305 06:39:17.039406       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039410       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0009 = miss rate(0.0147) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039416       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 7597, targetGPU: V100
I0305 06:39:17.039419       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039422       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0157) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039427       1 prefix_cache_and_load.go:226] numTokens: 7598, contextLength: 7602, targetGPU: V100
I0305 06:39:17.039429       1 prefix_cache_and_load.go:227] prefillTime: 2.7118 = (Base time(2.0740) + attnQuad(0.3666)) / 0.9
I0305 06:39:17.039432       1 prefix_cache_and_load.go:229] totalPrefillCost: 2.7104 = miss rate(0.9995) * nodeToCount(1) * prefillTime(2.7118) / numPods(1)
I0305 06:39:17.039436       1 prefix_cache_and_load.go:226] numTokens: 122, contextLength: 7600, targetGPU: V100
I0305 06:39:17.039439       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039442       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.1265 = miss rate(0.9995) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039447       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 7594, targetGPU: V100
I0305 06:39:17.039449       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039452       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039457       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:17.039459       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039462       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039467       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:17.039471       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039476       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0162) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039482       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 7602, targetGPU: V100
I0305 06:39:17.039486       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039490       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0163) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039520       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:17.039523       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039525       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.1266 = miss rate(0.9997) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039529       1 prefix_cache_and_load.go:226] numTokens: 118, contextLength: 7603, targetGPU: V100
I0305 06:39:17.039531       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039534       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0643 = miss rate(0.5080) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039538       1 prefix_cache_and_load.go:226] numTokens: 114, contextLength: 7594, targetGPU: V100
I0305 06:39:17.039540       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039543       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0153) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039551       1 prefix_cache_and_load.go:226] numTokens: 7587, contextLength: 7591, targetGPU: V100
I0305 06:39:17.039553       1 prefix_cache_and_load.go:227] prefillTime: 2.7074 = (Base time(2.0710) + attnQuad(0.3656)) / 0.9
I0305 06:39:17.039557       1 prefix_cache_and_load.go:229] totalPrefillCost: 5.4119 = miss rate(0.9995) * nodeToCount(2) * prefillTime(2.7074) / numPods(1)
I0305 06:39:17.039561       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 7602, targetGPU: V100
I0305 06:39:17.039563       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039566       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0633 = miss rate(0.9995) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039570       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 7602, targetGPU: V100
I0305 06:39:17.039573       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039576       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0163) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039580       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 7601, targetGPU: V100
I0305 06:39:17.039582       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039586       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0162) * nodeToCount(2) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039590       1 prefix_cache_and_load.go:226] numTokens: 7597, contextLength: 7601, targetGPU: V100
I0305 06:39:17.039592       1 prefix_cache_and_load.go:227] prefillTime: 2.7114 = (Base time(2.0737) + attnQuad(0.3665)) / 0.9
I0305 06:39:17.039597       1 prefix_cache_and_load.go:229] totalPrefillCost: 5.4200 = miss rate(0.9995) * nodeToCount(2) * prefillTime(2.7114) / numPods(1)
I0305 06:39:17.039600       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 06:39:17.039602       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039605       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039609       1 prefix_cache_and_load.go:226] numTokens: 115, contextLength: 7595, targetGPU: V100
I0305 06:39:17.039611       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039614       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0151) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039619       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 7599, targetGPU: V100
I0305 06:39:17.039621       1 prefix_cache_and_load.go:227] prefillTime: 0.0633 = (Base time(0.0570) + attnQuad(0.0000)) / 0.9
I0305 06:39:17.039624       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0010 = miss rate(0.0159) * nodeToCount(1) * prefillTime(0.0633) / numPods(1)
I0305 06:39:17.039633       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-hkwnq, Cost: 21.622307
I0305 06:39:17.039637       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-vlxfk, Cost: 20.317368
I0305 06:39:17.039641       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-79hc6, Cost: 13.564287
I0305 06:39:17.039645       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-6b5hh, Cost: 20.315276
I0305 06:39:17.039648       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-swm4v, Cost: 33.819137
I0305 06:39:17.039651       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-7gvxr, Cost: 13.627591
I0305 06:39:17.039653       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-p82gs, Cost: 12.169982
I0305 06:39:17.039655       1 prefix_cache_and_load.go:556] Pod: qwen2-5-7b-instruct-867fbbcbd9-d6fdd, Cost: 13.627532
I0305 06:39:17.039660       1 prefix_cache_and_load.go:562] Lowest cost pod: qwen2-5-7b-instruct-867fbbcbd9-p82gs
I0305 06:39:17.039668       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0003
I0305 06:39:17.039674       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.039682       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.039686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.039694       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:17.039702       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:17.039714       1 prefix_cache_and_load.go:584] latency, Route, 0.0504
I0305 06:39:17.039725       1 gateway.go:415] latency, selectTargetPod, 0.0505, target pod, 10.0.0.34:8000
I0305 06:39:17.039733       1 gateway.go:235] latency, HandleRequestBody, 0.0511
I0305 06:39:17.053024       1 gateway.go:329] "-- In RequestBody processing ..." requestID="feca5c57-71f9-4f91-a634-ae16a12fe737"
I0305 06:39:17.053235       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="feca5c57-71f9-4f91-a634-ae16a12fe737" model="qwen2-5-7b-instruct"
I0305 06:39:17.053302       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:17.053310       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:17.053312       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:17.053333       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:17.053345       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:17.053350       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:17.059144       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7a7d131f-6386-4d0f-911e-242c824bf902"
I0305 06:39:17.117892       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0645, numInputTokens, 7599
I0305 06:39:17.117905       1 tree.go:471] Updated node(0) last access: 115.2158 seconds
I0305 06:39:17.117911       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:17.117915       1 tree.go:471] Updated node(2) last access: 115.2159 seconds
I0305 06:39:17.117929       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:17.117933       1 tree.go:471] Updated node(12) last access: 115.2159 seconds
I0305 06:39:17.117938       1 tree.go:484] Entire input tokens match the child node(13)
I0305 06:39:17.117942       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:17.117948       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:17.117955       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:17.117959       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:17.117944386 +0000 UTC m=+115.334671250 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:12.281376691 +0000 UTC m=+110.498103555]
I0305 06:39:17.117983       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:39:17.117997       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:17.118019       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7599
I0305 06:39:17.118026       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:17.118034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.118040       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.118043       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.118048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.118060       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:17.118068       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:17.118077       1 prefix_cache_and_load.go:584] latency, Route, 0.0648
I0305 06:39:17.118086       1 gateway.go:415] latency, selectTargetPod, 0.0648, target pod, 10.0.0.39:8000
I0305 06:39:17.118095       1 gateway.go:235] latency, HandleRequestBody, 0.0651
I0305 06:39:17.137395       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="feca5c57-71f9-4f91-a634-ae16a12fe737"
I0305 06:39:17.169993       1 gateway.go:608] "First token received" requestID="feca5c57-71f9-4f91-a634-ae16a12fe737" ttft_ms=116
I0305 06:39:17.343962       1 gateway.go:562] latency, 0.0001, summary, hash(request), 302e23e4, selectedpod, 10.0.0.39:8000, ttft, 116, tpot, 19, e2e, 290, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:17.343990       1 gateway.go:748] "Request completed" requestID="feca5c57-71f9-4f91-a634-ae16a12fe737" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:17.344001       1 gateway.go:764] "HandleResponseBody completed" requestID="feca5c57-71f9-4f91-a634-ae16a12fe737" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:17.392343       1 gateway.go:207] "Processing request" requestID="bbb22618-6f92-468d-ad74-bf7ea4740c48"
I0305 06:39:17.392389       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bbb22618-6f92-468d-ad74-bf7ea4740c48"
I0305 06:39:17.392400       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:17.720843       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bbb22618-6f92-468d-ad74-bf7ea4740c48"
I0305 06:39:17.721071       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bbb22618-6f92-468d-ad74-bf7ea4740c48" model="qwen2-5-7b-instruct"
I0305 06:39:17.721284       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:17.721306       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:17.721311       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:17.721456       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:17.721504       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:17.721532       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:17.775563       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0540, numInputTokens, 7597
I0305 06:39:17.775582       1 tree.go:471] Updated node(0) last access: 115.8735 seconds
I0305 06:39:17.775588       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:17.775592       1 tree.go:471] Updated node(2) last access: 115.8735 seconds
I0305 06:39:17.775632       1 tree.go:667] Split complete - New node(31)
I0305 06:39:17.775637       1 tree.go:668] Split complete - Child node(11)
I0305 06:39:17.775641       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7593 tokens:
I0305 06:39:17.775646       1 tree.go:471] Updated node(31) last access: 115.8736 seconds
I0305 06:39:17.775652       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:39:17.775656       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:17.775662       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:17.775668       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:17.775673       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:17.775658195 +0000 UTC m=+115.992385059]
I0305 06:39:17.775689       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:39:17.775696       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:39:17.775715       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:17.775724       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:17.775731       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.775736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.775740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.775745       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.775752       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:17.775762       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:17.775772       1 prefix_cache_and_load.go:584] latency, Route, 0.0545
I0305 06:39:17.775780       1 gateway.go:415] latency, selectTargetPod, 0.0545, target pod, 10.0.1.28:8000
I0305 06:39:17.775790       1 gateway.go:235] latency, HandleRequestBody, 0.0550
I0305 06:39:17.795422       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bbb22618-6f92-468d-ad74-bf7ea4740c48"
I0305 06:39:17.812364       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0fa48e22-f625-4c55-9a1e-f2a496fb0094"
I0305 06:39:17.812607       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0fa48e22-f625-4c55-9a1e-f2a496fb0094" model="qwen2-5-7b-instruct"
I0305 06:39:17.812692       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:17.812699       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:17.812703       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:17.812731       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:17.812744       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:17.812750       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:17.864774       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0520, numInputTokens, 7601
I0305 06:39:17.864796       1 tree.go:471] Updated node(0) last access: 115.9627 seconds
I0305 06:39:17.864802       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:17.864806       1 tree.go:471] Updated node(2) last access: 115.9627 seconds
I0305 06:39:17.864821       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:17.864827       1 tree.go:471] Updated node(23) last access: 115.9628 seconds
I0305 06:39:17.864834       1 tree.go:484] Entire input tokens match the child node(25)
I0305 06:39:17.864839       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:17.864846       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:17.864852       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:17.864857       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:17.8648416 +0000 UTC m=+116.081568465 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:14.861158019 +0000 UTC m=+113.077884892]
I0305 06:39:17.864876       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:17.864884       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:17.864910       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7601
I0305 06:39:17.864919       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:17.864928       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.864933       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.864937       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.864941       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:17.864951       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:17.864960       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:17.864981       1 prefix_cache_and_load.go:584] latency, Route, 0.0523
I0305 06:39:17.864992       1 gateway.go:415] latency, selectTargetPod, 0.0523, target pod, 10.0.3.42:8000
I0305 06:39:17.865003       1 gateway.go:235] latency, HandleRequestBody, 0.0526
I0305 06:39:17.881598       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0fa48e22-f625-4c55-9a1e-f2a496fb0094"
I0305 06:39:17.914230       1 gateway.go:608] "First token received" requestID="0fa48e22-f625-4c55-9a1e-f2a496fb0094" ttft_ms=101
I0305 06:39:18.076210       1 gateway.go:207] "Processing request" requestID="8c97513c-c51b-4adc-a972-84aeb7ca48c2"
I0305 06:39:18.076239       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8c97513c-c51b-4adc-a972-84aeb7ca48c2"
I0305 06:39:18.076250       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:18.087201       1 gateway.go:562] latency, 0.0000, summary, hash(request), b996fd25, selectedpod, 10.0.3.42:8000, ttft, 101, tpot, 19, e2e, 274, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:18.087225       1 gateway.go:748] "Request completed" requestID="0fa48e22-f625-4c55-9a1e-f2a496fb0094" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:18.087237       1 gateway.go:764] "HandleResponseBody completed" requestID="0fa48e22-f625-4c55-9a1e-f2a496fb0094" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:18.097852       1 gateway.go:608] "First token received" requestID="e6b8bf47-ed11-4624-9dbf-4eacac8415e5" ttft_ms=1191
I0305 06:39:18.106523       1 gateway.go:207] "Processing request" requestID="2b978a63-2d71-4dc3-bd27-d1170b6fa827"
I0305 06:39:18.106547       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2b978a63-2d71-4dc3-bd27-d1170b6fa827"
I0305 06:39:18.106555       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:18.107581       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8c97513c-c51b-4adc-a972-84aeb7ca48c2"
I0305 06:39:18.107786       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8c97513c-c51b-4adc-a972-84aeb7ca48c2" model="qwen2-5-7b-instruct"
I0305 06:39:18.107859       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:18.107866       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:18.107870       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:18.107899       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:18.107911       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:18.107915       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:18.121572       1 gateway.go:608] "First token received" requestID="bbb22618-6f92-468d-ad74-bf7ea4740c48" ttft_ms=400
I0305 06:39:18.136340       1 gateway.go:608] "First token received" requestID="7a7d131f-6386-4d0f-911e-242c824bf902" ttft_ms=1147
I0305 06:39:18.162425       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0545, numInputTokens, 7601
I0305 06:39:18.162446       1 tree.go:471] Updated node(0) last access: 116.2604 seconds
I0305 06:39:18.162452       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:18.162455       1 tree.go:471] Updated node(2) last access: 116.2604 seconds
I0305 06:39:18.162467       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:18.162470       1 tree.go:471] Updated node(18) last access: 116.2604 seconds
I0305 06:39:18.162474       1 tree.go:484] Entire input tokens match the child node(19)
I0305 06:39:18.162479       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:18.162485       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:18.162494       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:18.162500       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:18.162481725 +0000 UTC m=+116.379208591 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:13.7024713 +0000 UTC m=+111.919198165]
I0305 06:39:18.162532       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:18.162542       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:18.162569       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7601
I0305 06:39:18.162581       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:18.162601       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.162610       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.162619       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.162628       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.162642       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:18.162652       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:18.162663       1 prefix_cache_and_load.go:584] latency, Route, 0.0548
I0305 06:39:18.162674       1 gateway.go:415] latency, selectTargetPod, 0.0548, target pod, 10.0.0.131:8000
I0305 06:39:18.162685       1 gateway.go:235] latency, HandleRequestBody, 0.0551
I0305 06:39:18.185214       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8c97513c-c51b-4adc-a972-84aeb7ca48c2"
I0305 06:39:18.218531       1 gateway.go:608] "First token received" requestID="8c97513c-c51b-4adc-a972-84aeb7ca48c2" ttft_ms=110
I0305 06:39:18.305094       1 gateway.go:562] latency, 0.0000, summary, hash(request), b76af349, selectedpod, 10.0.1.28:8000, ttft, 1191, tpot, 23, e2e, 1398, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:18.305113       1 gateway.go:748] "Request completed" requestID="e6b8bf47-ed11-4624-9dbf-4eacac8415e5" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:18.305114       1 gateway.go:562] latency, 0.0000, summary, hash(request), fc7585eb, selectedpod, 10.0.1.28:8000, ttft, 400, tpot, 20, e2e, 584, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:18.305123       1 gateway.go:764] "HandleResponseBody completed" requestID="e6b8bf47-ed11-4624-9dbf-4eacac8415e5" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:18.305134       1 gateway.go:748] "Request completed" requestID="bbb22618-6f92-468d-ad74-bf7ea4740c48" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:18.305144       1 gateway.go:764] "HandleResponseBody completed" requestID="bbb22618-6f92-468d-ad74-bf7ea4740c48" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:18.309311       1 gateway.go:562] latency, 0.0000, summary, hash(request), d7c7ec98, selectedpod, 10.0.0.34:8000, ttft, 1147, tpot, 19, e2e, 1320, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 06:39:18.309325       1 gateway.go:748] "Request completed" requestID="7a7d131f-6386-4d0f-911e-242c824bf902" targetPod="10.0.0.34:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 06:39:18.309332       1 gateway.go:764] "HandleResponseBody completed" requestID="7a7d131f-6386-4d0f-911e-242c824bf902" promptTokens=7612 completionTokens=10 stream=true
I0305 06:39:18.393817       1 gateway.go:562] latency, 0.0000, summary, hash(request), 95288e39, selectedpod, 10.0.0.131:8000, ttft, 110, tpot, 19, e2e, 286, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:18.393832       1 gateway.go:748] "Request completed" requestID="8c97513c-c51b-4adc-a972-84aeb7ca48c2" targetPod="10.0.0.131:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:18.393842       1 gateway.go:764] "HandleResponseBody completed" requestID="8c97513c-c51b-4adc-a972-84aeb7ca48c2" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:18.430918       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2b978a63-2d71-4dc3-bd27-d1170b6fa827"
I0305 06:39:18.431171       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2b978a63-2d71-4dc3-bd27-d1170b6fa827" model="qwen2-5-7b-instruct"
I0305 06:39:18.431254       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:18.431263       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:18.431267       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:18.431312       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:18.431326       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:18.431331       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:18.485926       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0546, numInputTokens, 7602
I0305 06:39:18.485947       1 tree.go:471] Updated node(0) last access: 116.5839 seconds
I0305 06:39:18.485954       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:18.485957       1 tree.go:471] Updated node(2) last access: 116.5839 seconds
I0305 06:39:18.485977       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:18.485981       1 tree.go:471] Updated node(31) last access: 116.5839 seconds
I0305 06:39:18.485988       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 06:39:18.485994       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:18.486002       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:18.486009       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:18.486015       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:18.485996909 +0000 UTC m=+116.702723775]
I0305 06:39:18.486033       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 06:39:18.486041       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 06:39:18.486062       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:18.486073       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:18.486080       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.486085       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.486090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.486095       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.486103       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:18.486113       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:18.486123       1 prefix_cache_and_load.go:584] latency, Route, 0.0549
I0305 06:39:18.486131       1 gateway.go:415] latency, selectTargetPod, 0.0549, target pod, 10.0.1.28:8000
I0305 06:39:18.486143       1 gateway.go:235] latency, HandleRequestBody, 0.0552
I0305 06:39:18.506565       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2b978a63-2d71-4dc3-bd27-d1170b6fa827"
I0305 06:39:18.549381       1 gateway.go:608] "First token received" requestID="2b978a63-2d71-4dc3-bd27-d1170b6fa827" ttft_ms=118
I0305 06:39:18.651574       1 gateway.go:207] "Processing request" requestID="735875b1-c069-414b-bf35-ffb3611fe4bf"
I0305 06:39:18.651606       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="735875b1-c069-414b-bf35-ffb3611fe4bf"
I0305 06:39:18.651617       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:18.701644       1 gateway.go:329] "-- In RequestBody processing ..." requestID="735875b1-c069-414b-bf35-ffb3611fe4bf"
I0305 06:39:18.701871       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="735875b1-c069-414b-bf35-ffb3611fe4bf" model="qwen2-5-7b-instruct"
I0305 06:39:18.701949       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:18.701955       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:18.701959       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:18.701999       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:18.702021       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:18.702027       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:18.722489       1 gateway.go:562] latency, 0.0000, summary, hash(request), b79bc213, selectedpod, 10.0.1.28:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:18.722520       1 gateway.go:748] "Request completed" requestID="2b978a63-2d71-4dc3-bd27-d1170b6fa827" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:18.722535       1 gateway.go:764] "HandleResponseBody completed" requestID="2b978a63-2d71-4dc3-bd27-d1170b6fa827" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:18.752183       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0501, numInputTokens, 7602
I0305 06:39:18.752201       1 tree.go:471] Updated node(0) last access: 116.8501 seconds
I0305 06:39:18.752208       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:18.752211       1 tree.go:471] Updated node(2) last access: 116.8502 seconds
I0305 06:39:18.752225       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:18.752230       1 tree.go:471] Updated node(18) last access: 116.8502 seconds
I0305 06:39:18.752235       1 tree.go:484] Entire input tokens match the child node(14)
I0305 06:39:18.752239       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:18.752245       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:18.752253       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:18.752260       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:18.752241722 +0000 UTC m=+116.968968587 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:12.718336184 +0000 UTC m=+110.935063048]
I0305 06:39:18.752283       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:18.752291       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:18.752311       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7602
I0305 06:39:18.752320       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:18.752333       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.752339       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.752346       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.752353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.752364       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:18.752378       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:18.752390       1 prefix_cache_and_load.go:584] latency, Route, 0.0504
I0305 06:39:18.752403       1 gateway.go:415] latency, selectTargetPod, 0.0505, target pod, 10.0.0.131:8000
I0305 06:39:18.752417       1 gateway.go:235] latency, HandleRequestBody, 0.0508
I0305 06:39:18.771176       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="735875b1-c069-414b-bf35-ffb3611fe4bf"
I0305 06:39:18.802209       1 gateway.go:608] "First token received" requestID="735875b1-c069-414b-bf35-ffb3611fe4bf" ttft_ms=100
I0305 06:39:18.908410       1 gateway.go:207] "Processing request" requestID="98e79a4f-22ad-4ad1-b6cc-8192f302f44d"
I0305 06:39:18.908445       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="98e79a4f-22ad-4ad1-b6cc-8192f302f44d"
I0305 06:39:18.908453       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:18.926294       1 gateway.go:329] "-- In RequestBody processing ..." requestID="98e79a4f-22ad-4ad1-b6cc-8192f302f44d"
I0305 06:39:18.938396       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="98e79a4f-22ad-4ad1-b6cc-8192f302f44d" model="qwen2-5-7b-instruct"
I0305 06:39:18.938705       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:18.938726       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:18.938731       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:18.938782       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:18.938817       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:18.938822       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:18.975743       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2ddde691, selectedpod, 10.0.0.131:8000, ttft, 100, tpot, 19, e2e, 274, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:18.975766       1 gateway.go:748] "Request completed" requestID="735875b1-c069-414b-bf35-ffb3611fe4bf" targetPod="10.0.0.131:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:18.975778       1 gateway.go:764] "HandleResponseBody completed" requestID="735875b1-c069-414b-bf35-ffb3611fe4bf" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:18.990580       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0517, numInputTokens, 7601
I0305 06:39:18.990599       1 tree.go:471] Updated node(0) last access: 117.0885 seconds
I0305 06:39:18.990605       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:18.990609       1 tree.go:471] Updated node(2) last access: 117.0885 seconds
I0305 06:39:18.990622       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:18.990626       1 tree.go:471] Updated node(8) last access: 117.0886 seconds
I0305 06:39:18.990631       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 06:39:18.990633       1 tree.go:471] Updated node(16) last access: 117.0886 seconds
I0305 06:39:18.990643       1 tree.go:667] Split complete - New node(34)
I0305 06:39:18.990647       1 tree.go:668] Split complete - Child node(17)
I0305 06:39:18.990652       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:39:18.990658       1 tree.go:471] Updated node(34) last access: 117.0886 seconds
I0305 06:39:18.990663       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:39:18.990669       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:18.990675       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:18.990681       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:18.990686       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:18.990670773 +0000 UTC m=+117.207397638]
I0305 06:39:18.990702       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7484, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:39:18.990709       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:39:18.990731       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7484
I0305 06:39:18.990738       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:18.990746       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.990752       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.990756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.990759       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.990765       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.990770       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:18.990779       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:18.990788       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:18.990799       1 prefix_cache_and_load.go:584] latency, Route, 0.0521
I0305 06:39:18.990807       1 gateway.go:415] latency, selectTargetPod, 0.0521, target pod, 10.0.1.53:8000
I0305 06:39:18.990818       1 gateway.go:235] latency, HandleRequestBody, 0.0645
I0305 06:39:19.010503       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="98e79a4f-22ad-4ad1-b6cc-8192f302f44d"
I0305 06:39:19.046602       1 gateway.go:608] "First token received" requestID="98e79a4f-22ad-4ad1-b6cc-8192f302f44d" ttft_ms=120
I0305 06:39:19.132354       1 gateway.go:207] "Processing request" requestID="ede87e95-1882-4ceb-9bff-46a9f4b4fe36"
I0305 06:39:19.132385       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ede87e95-1882-4ceb-9bff-46a9f4b4fe36"
I0305 06:39:19.132394       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:19.219417       1 gateway.go:562] latency, 0.0000, summary, hash(request), a6e255ae, selectedpod, 10.0.1.53:8000, ttft, 120, tpot, 19, e2e, 293, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:19.219437       1 gateway.go:748] "Request completed" requestID="98e79a4f-22ad-4ad1-b6cc-8192f302f44d" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:19.219448       1 gateway.go:764] "HandleResponseBody completed" requestID="98e79a4f-22ad-4ad1-b6cc-8192f302f44d" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:19.320081       1 gateway.go:207] "Processing request" requestID="bf1cec13-6570-4304-8ba5-8d009691fceb"
I0305 06:39:19.320115       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bf1cec13-6570-4304-8ba5-8d009691fceb"
I0305 06:39:19.320124       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:19.511585       1 gateway.go:207] "Processing request" requestID="9cf08bbc-a050-4fdc-8de4-9d901b54a798"
I0305 06:39:19.511631       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9cf08bbc-a050-4fdc-8de4-9d901b54a798"
I0305 06:39:19.511639       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:19.849039       1 gateway.go:207] "Processing request" requestID="1eeb21af-567f-4175-b703-58bbfcba795c"
I0305 06:39:19.849074       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1eeb21af-567f-4175-b703-58bbfcba795c"
I0305 06:39:19.849082       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:19.912226       1 gateway.go:207] "Processing request" requestID="f63c3743-4d9e-4867-b3a1-c99d3fbf017c"
I0305 06:39:19.912246       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f63c3743-4d9e-4867-b3a1-c99d3fbf017c"
I0305 06:39:19.912254       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:20.129608       1 gateway.go:207] "Processing request" requestID="813c5539-bd9c-4492-8a15-da7a87c42264"
I0305 06:39:20.129644       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="813c5539-bd9c-4492-8a15-da7a87c42264"
I0305 06:39:20.129655       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:20.147304       1 gateway.go:207] "Processing request" requestID="98a060b6-d77a-4dec-9e21-4242b014fe6c"
I0305 06:39:20.147341       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="98a060b6-d77a-4dec-9e21-4242b014fe6c"
I0305 06:39:20.147349       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:20.238141       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ede87e95-1882-4ceb-9bff-46a9f4b4fe36"
I0305 06:39:20.238353       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ede87e95-1882-4ceb-9bff-46a9f4b4fe36" model="qwen2-5-7b-instruct"
I0305 06:39:20.238435       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:20.238442       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:20.238446       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:20.238492       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:20.238506       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:20.238518       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:20.293344       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0548, numInputTokens, 7594
I0305 06:39:20.293367       1 tree.go:471] Updated node(0) last access: 118.3913 seconds
I0305 06:39:20.293373       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:20.293376       1 tree.go:471] Updated node(2) last access: 118.3913 seconds
I0305 06:39:20.293390       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:20.293393       1 tree.go:471] Updated node(23) last access: 118.3913 seconds
I0305 06:39:20.293398       1 tree.go:484] Entire input tokens match the child node(15)
I0305 06:39:20.293402       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 06:39:20.293408       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:39:20.293416       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:20.293422       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:20.293404021 +0000 UTC m=+118.510130886 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:13.051785417 +0000 UTC m=+111.268512282]
I0305 06:39:20.293442       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7594, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:20.293451       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:20.293476       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7594
I0305 06:39:20.293485       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:20.293494       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:20.293499       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:20.293503       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:20.293507       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:20.293523       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:20.293531       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:20.293542       1 prefix_cache_and_load.go:584] latency, Route, 0.0551
I0305 06:39:20.293551       1 gateway.go:415] latency, selectTargetPod, 0.0551, target pod, 10.0.3.42:8000
I0305 06:39:20.293563       1 gateway.go:235] latency, HandleRequestBody, 0.0554
I0305 06:39:20.310015       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ede87e95-1882-4ceb-9bff-46a9f4b4fe36"
I0305 06:39:20.342164       1 gateway.go:608] "First token received" requestID="ede87e95-1882-4ceb-9bff-46a9f4b4fe36" ttft_ms=103
I0305 06:39:20.435453       1 gateway.go:207] "Processing request" requestID="8d572cdb-ace7-4b22-8681-17ebb81a47e8"
I0305 06:39:20.435481       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8d572cdb-ace7-4b22-8681-17ebb81a47e8"
I0305 06:39:20.435489       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:20.444274       1 gateway.go:207] "Processing request" requestID="3e55c408-85c5-4864-a519-4dd49e5b9359"
I0305 06:39:20.444300       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3e55c408-85c5-4864-a519-4dd49e5b9359"
I0305 06:39:20.444309       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:20.489735       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bf1cec13-6570-4304-8ba5-8d009691fceb"
I0305 06:39:20.489973       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bf1cec13-6570-4304-8ba5-8d009691fceb" model="qwen2-5-7b-instruct"
I0305 06:39:20.490049       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:20.490056       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:20.490060       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:20.490101       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:20.490116       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:20.490121       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:20.515194       1 gateway.go:562] latency, 0.0000, summary, hash(request), 45c4d554, selectedpod, 10.0.3.42:8000, ttft, 103, tpot, 19, e2e, 276, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:39:20.515218       1 gateway.go:748] "Request completed" requestID="ede87e95-1882-4ceb-9bff-46a9f4b4fe36" targetPod="10.0.3.42:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:39:20.515230       1 gateway.go:764] "HandleResponseBody completed" requestID="ede87e95-1882-4ceb-9bff-46a9f4b4fe36" promptTokens=7613 completionTokens=10 stream=true
I0305 06:39:20.544619       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0545, numInputTokens, 7601
I0305 06:39:20.544640       1 tree.go:471] Updated node(0) last access: 118.6426 seconds
I0305 06:39:20.544654       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:20.544658       1 tree.go:471] Updated node(2) last access: 118.6426 seconds
I0305 06:39:20.544673       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:20.544678       1 tree.go:471] Updated node(26) last access: 118.6426 seconds
I0305 06:39:20.544693       1 tree.go:667] Split complete - New node(36)
I0305 06:39:20.544698       1 tree.go:668] Split complete - Child node(27)
I0305 06:39:20.544702       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 06:39:20.544707       1 tree.go:471] Updated node(36) last access: 118.6426 seconds
I0305 06:39:20.544712       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:20.544716       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:20.544723       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:20.544729       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:20.544735       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:20.544719012 +0000 UTC m=+118.761445878]
I0305 06:39:20.544753       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:20.544761       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:20.544785       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7481
I0305 06:39:20.544794       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:20.544802       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:20.544807       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:20.544813       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:20.544818       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:20.544822       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:20.544830       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:20.544846       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:20.544859       1 prefix_cache_and_load.go:584] latency, Route, 0.0548
I0305 06:39:20.544874       1 gateway.go:415] latency, selectTargetPod, 0.0548, target pod, 10.0.3.41:8000
I0305 06:39:20.544888       1 gateway.go:235] latency, HandleRequestBody, 0.0552
I0305 06:39:20.561247       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bf1cec13-6570-4304-8ba5-8d009691fceb"
I0305 06:39:20.605161       1 gateway.go:608] "First token received" requestID="bf1cec13-6570-4304-8ba5-8d009691fceb" ttft_ms=115
I0305 06:39:20.669506       1 gateway.go:207] "Processing request" requestID="2d764069-9e4c-4bed-bbe8-d49be879ec04"
I0305 06:39:20.669540       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2d764069-9e4c-4bed-bbe8-d49be879ec04"
I0305 06:39:20.669549       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:20.778248       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8f626bd7, selectedpod, 10.0.3.41:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:20.778271       1 gateway.go:748] "Request completed" requestID="bf1cec13-6570-4304-8ba5-8d009691fceb" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:20.778282       1 gateway.go:764] "HandleResponseBody completed" requestID="bf1cec13-6570-4304-8ba5-8d009691fceb" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:20.868413       1 gateway.go:207] "Processing request" requestID="517eba98-408e-4443-8a10-77a7f5d3209d"
I0305 06:39:20.868443       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="517eba98-408e-4443-8a10-77a7f5d3209d"
I0305 06:39:20.868451       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:21.046275       1 gateway.go:207] "Processing request" requestID="27bafc83-d2b0-4743-8c3b-b29c8d55159c"
I0305 06:39:21.046317       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="27bafc83-d2b0-4743-8c3b-b29c8d55159c"
I0305 06:39:21.046327       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:21.088810       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9cf08bbc-a050-4fdc-8de4-9d901b54a798"
I0305 06:39:21.089110       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9cf08bbc-a050-4fdc-8de4-9d901b54a798" model="qwen2-5-7b-instruct"
I0305 06:39:21.089245       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:21.089252       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:21.089255       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:21.089302       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:21.089317       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:21.089322       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:21.143656       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0543, numInputTokens, 7595
I0305 06:39:21.143677       1 tree.go:471] Updated node(0) last access: 119.2416 seconds
I0305 06:39:21.143684       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:21.143687       1 tree.go:471] Updated node(2) last access: 119.2416 seconds
I0305 06:39:21.143701       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:21.143704       1 tree.go:471] Updated node(8) last access: 119.2416 seconds
I0305 06:39:21.143708       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 06:39:21.143712       1 tree.go:471] Updated node(16) last access: 119.2417 seconds
I0305 06:39:21.143715       1 tree.go:490] Partial tokens match child node(34). Continue to go deeper in the radix tree
I0305 06:39:21.143717       1 tree.go:471] Updated node(34) last access: 119.2417 seconds
I0305 06:39:21.143722       1 tree.go:484] Entire input tokens match the child node(17)
I0305 06:39:21.143725       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:39:21.143734       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:39:21.143742       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:21.143747       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:21.143729173 +0000 UTC m=+119.360456038 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:13.417756112 +0000 UTC m=+111.634482976]
I0305 06:39:21.143767       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7595, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:21.143776       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:21.143799       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7595
I0305 06:39:21.143809       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:21.143822       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.143831       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.143839       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.143844       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.143850       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.143857       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.143865       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:21.143879       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:21.143894       1 prefix_cache_and_load.go:584] latency, Route, 0.0546
I0305 06:39:21.143905       1 gateway.go:415] latency, selectTargetPod, 0.0547, target pod, 10.0.1.53:8000
I0305 06:39:21.143922       1 gateway.go:235] latency, HandleRequestBody, 0.0551
I0305 06:39:21.163671       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9cf08bbc-a050-4fdc-8de4-9d901b54a798"
I0305 06:39:21.195876       1 gateway.go:608] "First token received" requestID="9cf08bbc-a050-4fdc-8de4-9d901b54a798" ttft_ms=107
I0305 06:39:21.266699       1 gateway.go:207] "Processing request" requestID="7242852a-b963-4552-b67a-82c133d6ef39"
I0305 06:39:21.266731       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7242852a-b963-4552-b67a-82c133d6ef39"
I0305 06:39:21.266740       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:21.302423       1 gateway.go:207] "Processing request" requestID="d8a16eba-d8e1-43e3-98fd-cf839ea6dec1"
I0305 06:39:21.302445       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d8a16eba-d8e1-43e3-98fd-cf839ea6dec1"
I0305 06:39:21.302452       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:21.313072       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1eeb21af-567f-4175-b703-58bbfcba795c"
I0305 06:39:21.313281       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1eeb21af-567f-4175-b703-58bbfcba795c" model="qwen2-5-7b-instruct"
I0305 06:39:21.313360       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:21.313367       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:21.313371       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:21.313403       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:21.313417       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:21.313422       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:21.353061       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f63c3743-4d9e-4867-b3a1-c99d3fbf017c"
I0305 06:39:21.353457       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f63c3743-4d9e-4867-b3a1-c99d3fbf017c" model="qwen2-5-7b-instruct"
I0305 06:39:21.365561       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0521, numInputTokens, 7599
I0305 06:39:21.365591       1 tree.go:471] Updated node(0) last access: 119.4635 seconds
I0305 06:39:21.365598       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:21.365603       1 tree.go:471] Updated node(2) last access: 119.4635 seconds
I0305 06:39:21.365617       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:21.365620       1 tree.go:471] Updated node(8) last access: 119.4636 seconds
I0305 06:39:21.365625       1 tree.go:484] Entire input tokens match the child node(20)
I0305 06:39:21.365630       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:21.365636       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:21.365662       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:21.365690       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:21.365632733 +0000 UTC m=+119.582359597 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:14.209200566 +0000 UTC m=+112.425927430]
I0305 06:39:21.365716       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:21.365726       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:21.365766       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7599
I0305 06:39:21.365775       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:21.365784       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.365790       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.365795       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.365801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.365812       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:21.365826       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:21.365838       1 prefix_cache_and_load.go:584] latency, Route, 0.0525
I0305 06:39:21.365853       1 gateway.go:415] latency, selectTargetPod, 0.0525, target pod, 10.0.1.53:8000
I0305 06:39:21.365869       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0122
I0305 06:39:21.365889       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:21.365894       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:21.365890       1 gateway.go:235] latency, HandleRequestBody, 0.0528
I0305 06:39:21.365953       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:21.366001       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:21.366020       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:21.368605       1 gateway.go:562] latency, 0.0001, summary, hash(request), b17ff979, selectedpod, 10.0.1.53:8000, ttft, 107, tpot, 19, e2e, 279, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:39:21.368627       1 gateway.go:748] "Request completed" requestID="9cf08bbc-a050-4fdc-8de4-9d901b54a798" targetPod="10.0.1.53:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:39:21.368643       1 gateway.go:764] "HandleResponseBody completed" requestID="9cf08bbc-a050-4fdc-8de4-9d901b54a798" promptTokens=7614 completionTokens=10 stream=true
I0305 06:39:21.386337       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1eeb21af-567f-4175-b703-58bbfcba795c"
I0305 06:39:21.417041       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0510, numInputTokens, 7602
I0305 06:39:21.417058       1 tree.go:471] Updated node(0) last access: 119.5150 seconds
I0305 06:39:21.417064       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:21.417068       1 tree.go:471] Updated node(2) last access: 119.5150 seconds
I0305 06:39:21.417082       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:21.417086       1 tree.go:471] Updated node(4) last access: 119.5150 seconds
I0305 06:39:21.417095       1 tree.go:667] Split complete - New node(38)
I0305 06:39:21.417100       1 tree.go:668] Split complete - Child node(5)
I0305 06:39:21.417105       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 06:39:21.417111       1 tree.go:471] Updated node(38) last access: 119.5151 seconds
I0305 06:39:21.417116       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:21.417121       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:21.417126       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:21.417133       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:21.417138       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:21.417122988 +0000 UTC m=+119.633849852]
I0305 06:39:21.417147       1 gateway.go:608] "First token received" requestID="1eeb21af-567f-4175-b703-58bbfcba795c" ttft_ms=104
I0305 06:39:21.417151       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7482, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:21.417161       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:21.417182       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7482
I0305 06:39:21.417191       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:21.417198       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.417232       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.417238       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.417242       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.417247       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.417255       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:21.417263       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:21.417272       1 prefix_cache_and_load.go:584] latency, Route, 0.0636
I0305 06:39:21.417280       1 gateway.go:415] latency, selectTargetPod, 0.0637, target pod, 10.0.1.47:8000
I0305 06:39:21.417298       1 gateway.go:235] latency, HandleRequestBody, 0.0643
I0305 06:39:21.418677       1 gateway.go:329] "-- In RequestBody processing ..." requestID="813c5539-bd9c-4492-8a15-da7a87c42264"
I0305 06:39:21.418899       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="813c5539-bd9c-4492-8a15-da7a87c42264" model="qwen2-5-7b-instruct"
I0305 06:39:21.419013       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:21.419020       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:21.419023       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:21.419059       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:21.419075       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:21.419080       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:21.440529       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f63c3743-4d9e-4867-b3a1-c99d3fbf017c"
I0305 06:39:21.468809       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0497, numInputTokens, 7601
I0305 06:39:21.468826       1 tree.go:471] Updated node(0) last access: 119.5668 seconds
I0305 06:39:21.468832       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:21.468837       1 tree.go:471] Updated node(2) last access: 119.5668 seconds
I0305 06:39:21.468852       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:21.468857       1 tree.go:471] Updated node(4) last access: 119.5668 seconds
I0305 06:39:21.468864       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:21.468870       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:21.468878       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:21.468886       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:21.468895       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:21.46887305 +0000 UTC m=+119.685599915]
I0305 06:39:21.468912       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:21.468921       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:21.468943       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7478
I0305 06:39:21.468952       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:21.468960       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.468981       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.468986       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.468994       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.469013       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:21.469024       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:21.469034       1 prefix_cache_and_load.go:584] latency, Route, 0.0500
I0305 06:39:21.469042       1 gateway.go:415] latency, selectTargetPod, 0.0500, target pod, 10.0.1.47:8000
I0305 06:39:21.469051       1 gateway.go:235] latency, HandleRequestBody, 0.0504
I0305 06:39:21.481634       1 gateway.go:608] "First token received" requestID="f63c3743-4d9e-4867-b3a1-c99d3fbf017c" ttft_ms=128
I0305 06:39:21.487817       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="813c5539-bd9c-4492-8a15-da7a87c42264"
I0305 06:39:21.541615       1 gateway.go:608] "First token received" requestID="813c5539-bd9c-4492-8a15-da7a87c42264" ttft_ms=122
I0305 06:39:21.589996       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6e0db073, selectedpod, 10.0.1.53:8000, ttft, 104, tpot, 19, e2e, 276, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:21.590017       1 gateway.go:748] "Request completed" requestID="1eeb21af-567f-4175-b703-58bbfcba795c" targetPod="10.0.1.53:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:21.590197       1 gateway.go:764] "HandleResponseBody completed" requestID="1eeb21af-567f-4175-b703-58bbfcba795c" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:21.630267       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8d572cdb-ace7-4b22-8681-17ebb81a47e8"
I0305 06:39:21.630481       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8d572cdb-ace7-4b22-8681-17ebb81a47e8" model="qwen2-5-7b-instruct"
I0305 06:39:21.630572       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:21.630579       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:21.630582       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:21.630613       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:21.630633       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:21.630636       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:21.680106       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0495, numInputTokens, 7597
I0305 06:39:21.680130       1 tree.go:471] Updated node(0) last access: 119.7781 seconds
I0305 06:39:21.680179       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:21.680203       1 tree.go:471] Updated node(2) last access: 119.7781 seconds
I0305 06:39:21.680226       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:21.680232       1 tree.go:471] Updated node(8) last access: 119.7782 seconds
I0305 06:39:21.680239       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 06:39:21.680245       1 tree.go:471] Updated node(21) last access: 119.7782 seconds
I0305 06:39:21.680251       1 tree.go:484] Entire input tokens match the child node(22)
I0305 06:39:21.680256       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:21.680266       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:21.680285       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:21.680295       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:21.680259977 +0000 UTC m=+119.896986852 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:14.591866889 +0000 UTC m=+112.808593755]
I0305 06:39:21.680354       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0001, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:21.680362       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:21.680399       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7597
I0305 06:39:21.680409       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:21.680417       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.680424       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.680430       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.680437       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.680441       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.680453       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:21.680466       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:21.680478       1 prefix_cache_and_load.go:584] latency, Route, 0.0499
I0305 06:39:21.680489       1 gateway.go:415] latency, selectTargetPod, 0.0499, target pod, 10.0.1.53:8000
I0305 06:39:21.680506       1 gateway.go:235] latency, HandleRequestBody, 0.0502
I0305 06:39:21.698217       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8d572cdb-ace7-4b22-8681-17ebb81a47e8"
I0305 06:39:21.701740       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8df03065, selectedpod, 10.0.1.47:8000, ttft, 128, tpot, 24, e2e, 348, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:21.701760       1 gateway.go:748] "Request completed" requestID="f63c3743-4d9e-4867-b3a1-c99d3fbf017c" targetPod="10.0.1.47:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:21.701771       1 gateway.go:764] "HandleResponseBody completed" requestID="f63c3743-4d9e-4867-b3a1-c99d3fbf017c" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:21.722203       1 gateway.go:562] latency, 0.0000, summary, hash(request), 76ac87c7, selectedpod, 10.0.1.47:8000, ttft, 122, tpot, 20, e2e, 303, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:21.722225       1 gateway.go:748] "Request completed" requestID="813c5539-bd9c-4492-8a15-da7a87c42264" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:21.722240       1 gateway.go:764] "HandleResponseBody completed" requestID="813c5539-bd9c-4492-8a15-da7a87c42264" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:21.722553       1 gateway.go:608] "First token received" requestID="8d572cdb-ace7-4b22-8681-17ebb81a47e8" ttft_ms=92
I0305 06:39:21.815437       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2d764069-9e4c-4bed-bbe8-d49be879ec04"
I0305 06:39:21.815692       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2d764069-9e4c-4bed-bbe8-d49be879ec04" model="qwen2-5-7b-instruct"
I0305 06:39:21.815771       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:21.815778       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:21.815781       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:21.815811       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:21.815827       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:21.815833       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:21.864720       1 gateway.go:329] "-- In RequestBody processing ..." requestID="517eba98-408e-4443-8a10-77a7f5d3209d"
I0305 06:39:21.864948       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="517eba98-408e-4443-8a10-77a7f5d3209d" model="qwen2-5-7b-instruct"
I0305 06:39:21.867116       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0513, numInputTokens, 7603
I0305 06:39:21.867135       1 tree.go:471] Updated node(0) last access: 119.9651 seconds
I0305 06:39:21.867141       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:21.867145       1 tree.go:471] Updated node(2) last access: 119.9651 seconds
I0305 06:39:21.867158       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:21.867162       1 tree.go:471] Updated node(18) last access: 119.9651 seconds
I0305 06:39:21.867168       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 125 tokens:
I0305 06:39:21.867174       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 06:39:21.867181       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:39:21.867187       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:21.867192       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:21.86717622 +0000 UTC m=+120.083903085]
I0305 06:39:21.867207       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7478, Matching ratio: 0.9836, # Matched pods: 0, Matched pods: []
I0305 06:39:21.867215       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9836 > 0.5000)
I0305 06:39:21.867236       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7478
I0305 06:39:21.867245       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:21.867254       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.867260       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.867263       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.867269       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.867278       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:21.867288       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:21.867298       1 prefix_cache_and_load.go:584] latency, Route, 0.0515
I0305 06:39:21.867312       1 gateway.go:415] latency, selectTargetPod, 0.0515, target pod, 10.0.0.131:8000
I0305 06:39:21.867322       1 gateway.go:235] latency, HandleRequestBody, 0.0519
I0305 06:39:21.867346       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0023
I0305 06:39:21.867351       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:21.867354       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:21.867376       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:21.867390       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:21.867394       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:21.886829       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2d764069-9e4c-4bed-bbe8-d49be879ec04"
I0305 06:39:21.895518       1 gateway.go:562] latency, 0.0000, summary, hash(request), 05ff8b0a, selectedpod, 10.0.1.53:8000, ttft, 92, tpot, 19, e2e, 265, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:21.895540       1 gateway.go:748] "Request completed" requestID="8d572cdb-ace7-4b22-8681-17ebb81a47e8" targetPod="10.0.1.53:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:21.895551       1 gateway.go:764] "HandleResponseBody completed" requestID="8d572cdb-ace7-4b22-8681-17ebb81a47e8" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:21.918905       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0515, numInputTokens, 7596
I0305 06:39:21.918924       1 tree.go:471] Updated node(0) last access: 120.0169 seconds
I0305 06:39:21.918931       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:21.918935       1 tree.go:471] Updated node(2) last access: 120.0169 seconds
I0305 06:39:21.918951       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:21.918954       1 tree.go:471] Updated node(31) last access: 120.0169 seconds
I0305 06:39:21.918965       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:21.918980       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:21.918989       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:21.918997       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:21.919004       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:21.91898231 +0000 UTC m=+120.135709177]
I0305 06:39:21.919021       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:21.919032       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:21.919060       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:21.919072       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:21.919084       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.919094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.919102       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.919108       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:21.919120       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:21.919132       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:21.919145       1 prefix_cache_and_load.go:584] latency, Route, 0.0541
I0305 06:39:21.919159       1 gateway.go:415] latency, selectTargetPod, 0.0541, target pod, 10.0.1.28:8000
I0305 06:39:21.919173       1 gateway.go:235] latency, HandleRequestBody, 0.0545
I0305 06:39:21.930548       1 gateway.go:608] "First token received" requestID="2d764069-9e4c-4bed-bbe8-d49be879ec04" ttft_ms=115
I0305 06:39:21.938797       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="517eba98-408e-4443-8a10-77a7f5d3209d"
I0305 06:39:21.975648       1 gateway.go:608] "First token received" requestID="517eba98-408e-4443-8a10-77a7f5d3209d" ttft_ms=110
I0305 06:39:22.025551       1 gateway.go:207] "Processing request" requestID="4f28389a-5854-43fc-a1c6-a040abeff240"
I0305 06:39:22.025577       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4f28389a-5854-43fc-a1c6-a040abeff240"
I0305 06:39:22.025588       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:22.080731       1 gateway.go:329] "-- In RequestBody processing ..." requestID="27bafc83-d2b0-4743-8c3b-b29c8d55159c"
I0305 06:39:22.080945       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="27bafc83-d2b0-4743-8c3b-b29c8d55159c" model="qwen2-5-7b-instruct"
I0305 06:39:22.081027       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:22.081034       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:22.081037       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:22.081070       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:22.081090       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:22.081095       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:22.103732       1 gateway.go:562] latency, 0.0000, summary, hash(request), 29cc7d59, selectedpod, 10.0.0.131:8000, ttft, 115, tpot, 19, e2e, 288, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:39:22.103755       1 gateway.go:748] "Request completed" requestID="2d764069-9e4c-4bed-bbe8-d49be879ec04" targetPod="10.0.0.131:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:39:22.103766       1 gateway.go:764] "HandleResponseBody completed" requestID="2d764069-9e4c-4bed-bbe8-d49be879ec04" promptTokens=7622 completionTokens=10 stream=true
I0305 06:39:22.133088       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0520, numInputTokens, 7597
I0305 06:39:22.133103       1 tree.go:471] Updated node(0) last access: 120.2310 seconds
I0305 06:39:22.133109       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:22.133112       1 tree.go:471] Updated node(2) last access: 120.2311 seconds
I0305 06:39:22.133126       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:22.133129       1 tree.go:471] Updated node(23) last access: 120.2311 seconds
I0305 06:39:22.133134       1 tree.go:484] Entire input tokens match the child node(24)
I0305 06:39:22.133137       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:39:22.133143       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:22.133150       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:22.133155       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:22.133139356 +0000 UTC m=+120.349866220 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:14.643579412 +0000 UTC m=+112.860306280]
I0305 06:39:22.133172       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:22.133179       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:22.133201       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7597
I0305 06:39:22.133210       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:22.133227       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.133236       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.133246       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.133250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.133283       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:22.133299       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:22.133317       1 prefix_cache_and_load.go:584] latency, Route, 0.0523
I0305 06:39:22.133326       1 gateway.go:415] latency, selectTargetPod, 0.0523, target pod, 10.0.3.42:8000
I0305 06:39:22.133337       1 gateway.go:235] latency, HandleRequestBody, 0.0526
I0305 06:39:22.140470       1 gateway.go:207] "Processing request" requestID="a4c8e69a-5e07-4bdf-9823-bd9b43549617"
I0305 06:39:22.140500       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a4c8e69a-5e07-4bdf-9823-bd9b43549617"
I0305 06:39:22.140509       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:22.140508       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7242852a-b963-4552-b67a-82c133d6ef39"
I0305 06:39:22.140726       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7242852a-b963-4552-b67a-82c133d6ef39" model="qwen2-5-7b-instruct"
I0305 06:39:22.140801       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:22.140806       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:22.140808       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:22.140833       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:22.140847       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:22.140851       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:22.148567       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8fd9382e, selectedpod, 10.0.1.28:8000, ttft, 110, tpot, 19, e2e, 283, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:22.148589       1 gateway.go:748] "Request completed" requestID="517eba98-408e-4443-8a10-77a7f5d3209d" targetPod="10.0.1.28:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:22.148601       1 gateway.go:764] "HandleResponseBody completed" requestID="517eba98-408e-4443-8a10-77a7f5d3209d" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:22.149390       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="27bafc83-d2b0-4743-8c3b-b29c8d55159c"
I0305 06:39:22.175181       1 gateway.go:608] "First token received" requestID="27bafc83-d2b0-4743-8c3b-b29c8d55159c" ttft_ms=94
I0305 06:39:22.208628       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0678, numInputTokens, 7602
I0305 06:39:22.208661       1 tree.go:471] Updated node(0) last access: 120.3066 seconds
I0305 06:39:22.208670       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:22.208675       1 tree.go:471] Updated node(2) last access: 120.3066 seconds
I0305 06:39:22.208691       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:22.208755       1 tree.go:471] Updated node(26) last access: 120.3066 seconds
I0305 06:39:22.208782       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:39:22.208791       1 tree.go:471] Updated node(36) last access: 120.3067 seconds
I0305 06:39:22.208799       1 tree.go:484] Entire input tokens match the child node(27)
I0305 06:39:22.208804       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:22.208815       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:22.208823       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 06:39:22.208828       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:22.208808604 +0000 UTC m=+120.425535482 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:15.213149507 +0000 UTC m=+113.429876379]
I0305 06:39:22.208856       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:22.208865       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:22.208899       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7602
I0305 06:39:22.208913       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:22.208921       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.208927       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.208932       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.208936       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.208942       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.208950       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:22.208962       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:22.209006       1 prefix_cache_and_load.go:584] latency, Route, 0.0682
I0305 06:39:22.209024       1 gateway.go:415] latency, selectTargetPod, 0.0682, target pod, 10.0.3.41:8000
I0305 06:39:22.209054       1 gateway.go:235] latency, HandleRequestBody, 0.0685
I0305 06:39:22.225284       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7242852a-b963-4552-b67a-82c133d6ef39"
I0305 06:39:22.257684       1 gateway.go:608] "First token received" requestID="7242852a-b963-4552-b67a-82c133d6ef39" ttft_ms=117
I0305 06:39:22.342314       1 gateway.go:329] "-- In RequestBody processing ..." requestID="98a060b6-d77a-4dec-9e21-4242b014fe6c"
I0305 06:39:22.342548       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="98a060b6-d77a-4dec-9e21-4242b014fe6c" model="qwen2-5-7b-instruct"
I0305 06:39:22.342656       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:22.342663       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:22.342667       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:22.342701       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:22.342719       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:22.342725       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:22.348230       1 gateway.go:562] latency, 0.0000, summary, hash(request), a4ae5f3d, selectedpod, 10.0.3.42:8000, ttft, 94, tpot, 19, e2e, 267, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:22.348250       1 gateway.go:748] "Request completed" requestID="27bafc83-d2b0-4743-8c3b-b29c8d55159c" targetPod="10.0.3.42:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:22.348262       1 gateway.go:764] "HandleResponseBody completed" requestID="27bafc83-d2b0-4743-8c3b-b29c8d55159c" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:22.388892       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3e55c408-85c5-4864-a519-4dd49e5b9359"
I0305 06:39:22.389105       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3e55c408-85c5-4864-a519-4dd49e5b9359" model="qwen2-5-7b-instruct"
I0305 06:39:22.391383       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0487, numInputTokens, 7596
I0305 06:39:22.391399       1 tree.go:471] Updated node(0) last access: 120.4893 seconds
I0305 06:39:22.391406       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:22.391412       1 tree.go:471] Updated node(2) last access: 120.4894 seconds
I0305 06:39:22.391445       1 tree.go:667] Split complete - New node(43)
I0305 06:39:22.391450       1 tree.go:668] Split complete - Child node(30)
I0305 06:39:22.391455       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7592 tokens:
I0305 06:39:22.391460       1 tree.go:471] Updated node(43) last access: 120.4894 seconds
I0305 06:39:22.391465       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:22.391470       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:22.391476       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:22.391485       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:22.391490       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:22.391472531 +0000 UTC m=+120.608199396]
I0305 06:39:22.391504       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7481, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:22.391523       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:22.391546       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7481
I0305 06:39:22.391556       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:22.391564       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.391569       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.391573       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.391579       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.391588       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:22.391602       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:22.391612       1 prefix_cache_and_load.go:584] latency, Route, 0.0490
I0305 06:39:22.391626       1 gateway.go:415] latency, selectTargetPod, 0.0490, target pod, 10.0.0.34:8000
I0305 06:39:22.391635       1 gateway.go:235] latency, HandleRequestBody, 0.0493
I0305 06:39:22.391656       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0025
I0305 06:39:22.391661       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:22.391664       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:22.391691       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:22.391706       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:22.391711       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:22.411187       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="98a060b6-d77a-4dec-9e21-4242b014fe6c"
I0305 06:39:22.432352       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3780117b, selectedpod, 10.0.3.41:8000, ttft, 117, tpot, 19, e2e, 291, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:22.432371       1 gateway.go:748] "Request completed" requestID="7242852a-b963-4552-b67a-82c133d6ef39" targetPod="10.0.3.41:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:22.432382       1 gateway.go:764] "HandleResponseBody completed" requestID="7242852a-b963-4552-b67a-82c133d6ef39" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:22.443175       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0515, numInputTokens, 7600
I0305 06:39:22.443195       1 tree.go:471] Updated node(0) last access: 120.5411 seconds
I0305 06:39:22.443201       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:22.443206       1 tree.go:471] Updated node(2) last access: 120.5411 seconds
I0305 06:39:22.443257       1 tree.go:667] Split complete - New node(45)
I0305 06:39:22.443264       1 tree.go:668] Split complete - Child node(10)
I0305 06:39:22.443271       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7596 tokens:
I0305 06:39:22.443277       1 tree.go:471] Updated node(45) last access: 120.5412 seconds
I0305 06:39:22.443289       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:22.443296       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:22.443304       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:22.443312       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:22.443321       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:22.443298579 +0000 UTC m=+120.660025450]
I0305 06:39:22.443341       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:22.443353       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:22.443379       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:22.443388       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:22.443397       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.443407       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.443416       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.443423       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.443434       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:22.443447       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:22.443459       1 prefix_cache_and_load.go:584] latency, Route, 0.0543
I0305 06:39:22.443472       1 gateway.go:415] latency, selectTargetPod, 0.0543, target pod, 10.0.0.34:8000
I0305 06:39:22.443483       1 gateway.go:235] latency, HandleRequestBody, 0.0546
I0305 06:39:22.444255       1 gateway.go:207] "Processing request" requestID="a523f5df-9740-4298-a60d-7d7ec067490e"
I0305 06:39:22.444283       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a523f5df-9740-4298-a60d-7d7ec067490e"
I0305 06:39:22.444291       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:22.445292       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4f28389a-5854-43fc-a1c6-a040abeff240"
I0305 06:39:22.445506       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4f28389a-5854-43fc-a1c6-a040abeff240" model="qwen2-5-7b-instruct"
I0305 06:39:22.445587       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:22.445594       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:22.445598       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:22.445630       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:22.445644       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:22.445648       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:22.447693       1 gateway.go:608] "First token received" requestID="98a060b6-d77a-4dec-9e21-4242b014fe6c" ttft_ms=105
I0305 06:39:22.462035       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3e55c408-85c5-4864-a519-4dd49e5b9359"
I0305 06:39:22.507592       1 gateway.go:608] "First token received" requestID="3e55c408-85c5-4864-a519-4dd49e5b9359" ttft_ms=118
I0305 06:39:22.518301       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0726, numInputTokens, 7601
I0305 06:39:22.518316       1 tree.go:471] Updated node(0) last access: 120.6163 seconds
I0305 06:39:22.518323       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:22.518326       1 tree.go:471] Updated node(2) last access: 120.6163 seconds
I0305 06:39:22.518336       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 06:39:22.518340       1 tree.go:471] Updated node(43) last access: 120.6163 seconds
I0305 06:39:22.518346       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:22.518352       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:22.518358       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:22.518364       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:22.518368       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:22.518353886 +0000 UTC m=+120.735080752]
I0305 06:39:22.518383       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:22.518391       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:22.518412       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7481
I0305 06:39:22.518421       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:22.518428       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.518434       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.518438       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.518442       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.518449       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:22.518459       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:22.518469       1 prefix_cache_and_load.go:584] latency, Route, 0.0729
I0305 06:39:22.518478       1 gateway.go:415] latency, selectTargetPod, 0.0729, target pod, 10.0.0.34:8000
I0305 06:39:22.518487       1 gateway.go:235] latency, HandleRequestBody, 0.0732
I0305 06:39:22.536596       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4f28389a-5854-43fc-a1c6-a040abeff240"
I0305 06:39:22.588847       1 gateway.go:608] "First token received" requestID="4f28389a-5854-43fc-a1c6-a040abeff240" ttft_ms=143
I0305 06:39:22.667158       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d8a16eba-d8e1-43e3-98fd-cf839ea6dec1"
I0305 06:39:22.667387       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d8a16eba-d8e1-43e3-98fd-cf839ea6dec1" model="qwen2-5-7b-instruct"
I0305 06:39:22.667454       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:22.667462       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:22.667465       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:22.667499       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:22.667521       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:22.667527       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:22.714546       1 gateway.go:562] latency, 0.0003, summary, hash(request), da5d46f7, selectedpod, 10.0.0.34:8000, ttft, 105, tpot, 29, e2e, 371, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:22.714596       1 gateway.go:748] "Request completed" requestID="98a060b6-d77a-4dec-9e21-4242b014fe6c" targetPod="10.0.0.34:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:22.714618       1 gateway.go:764] "HandleResponseBody completed" requestID="98a060b6-d77a-4dec-9e21-4242b014fe6c" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:22.718131       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0506, numInputTokens, 7601
I0305 06:39:22.718148       1 tree.go:471] Updated node(0) last access: 120.8161 seconds
I0305 06:39:22.718154       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:22.718157       1 tree.go:471] Updated node(2) last access: 120.8161 seconds
I0305 06:39:22.718170       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:22.718173       1 tree.go:471] Updated node(8) last access: 120.8161 seconds
I0305 06:39:22.718176       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 06:39:22.718178       1 tree.go:471] Updated node(16) last access: 120.8161 seconds
I0305 06:39:22.718182       1 tree.go:490] Partial tokens match child node(34). Continue to go deeper in the radix tree
I0305 06:39:22.718184       1 tree.go:471] Updated node(34) last access: 120.8161 seconds
I0305 06:39:22.718188       1 tree.go:484] Entire input tokens match the child node(35)
I0305 06:39:22.718193       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:22.718200       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:22.718207       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:22.718213       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:22.718195352 +0000 UTC m=+120.934922226 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:18.990741662 +0000 UTC m=+117.207468527]
I0305 06:39:22.718233       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:22.718241       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:22.718265       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7601
I0305 06:39:22.718274       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:22.718282       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.718287       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.718293       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.718298       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.718301       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.718307       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.718314       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:22.718324       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:22.718336       1 prefix_cache_and_load.go:584] latency, Route, 0.0509
I0305 06:39:22.718346       1 gateway.go:415] latency, selectTargetPod, 0.0509, target pod, 10.0.1.53:8000
I0305 06:39:22.718357       1 gateway.go:235] latency, HandleRequestBody, 0.0512
I0305 06:39:22.736031       1 gateway.go:562] latency, 0.0000, summary, hash(request), c5c37b8f, selectedpod, 10.0.0.34:8000, ttft, 118, tpot, 25, e2e, 347, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:22.736054       1 gateway.go:748] "Request completed" requestID="3e55c408-85c5-4864-a519-4dd49e5b9359" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:22.736067       1 gateway.go:764] "HandleResponseBody completed" requestID="3e55c408-85c5-4864-a519-4dd49e5b9359" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:22.737586       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d8a16eba-d8e1-43e3-98fd-cf839ea6dec1"
I0305 06:39:22.769141       1 gateway.go:608] "First token received" requestID="d8a16eba-d8e1-43e3-98fd-cf839ea6dec1" ttft_ms=101
I0305 06:39:22.772448       1 gateway.go:207] "Processing request" requestID="f2fb9f87-e037-4276-be66-fbd7fb02a16a"
I0305 06:39:22.772477       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f2fb9f87-e037-4276-be66-fbd7fb02a16a"
I0305 06:39:22.772484       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:22.774571       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3a63d958, selectedpod, 10.0.0.34:8000, ttft, 143, tpot, 20, e2e, 329, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:22.774588       1 gateway.go:748] "Request completed" requestID="4f28389a-5854-43fc-a1c6-a040abeff240" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:22.774596       1 gateway.go:764] "HandleResponseBody completed" requestID="4f28389a-5854-43fc-a1c6-a040abeff240" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:22.848061       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a4c8e69a-5e07-4bdf-9823-bd9b43549617"
I0305 06:39:22.848280       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a4c8e69a-5e07-4bdf-9823-bd9b43549617" model="qwen2-5-7b-instruct"
I0305 06:39:22.848369       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:22.848376       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:22.848379       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:22.848415       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:22.848430       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:22.848436       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:22.848734       1 gateway.go:207] "Processing request" requestID="6afeba76-2d5d-4111-93cb-9a5bf0dd6140"
I0305 06:39:22.848754       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6afeba76-2d5d-4111-93cb-9a5bf0dd6140"
I0305 06:39:22.848762       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:22.868750       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a523f5df-9740-4298-a60d-7d7ec067490e"
I0305 06:39:22.868985       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a523f5df-9740-4298-a60d-7d7ec067490e" model="qwen2-5-7b-instruct"
I0305 06:39:22.897111       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0487, numInputTokens, 7601
I0305 06:39:22.897126       1 tree.go:471] Updated node(0) last access: 120.9951 seconds
I0305 06:39:22.897132       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:22.897136       1 tree.go:471] Updated node(2) last access: 120.9951 seconds
I0305 06:39:22.897150       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:22.897156       1 tree.go:471] Updated node(26) last access: 120.9951 seconds
I0305 06:39:22.897160       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:39:22.897162       1 tree.go:471] Updated node(36) last access: 120.9951 seconds
I0305 06:39:22.897168       1 tree.go:484] Entire input tokens match the child node(37)
I0305 06:39:22.897171       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:22.897177       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:22.897184       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:22.897188       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:22.897173335 +0000 UTC m=+121.113900199 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:20.544797368 +0000 UTC m=+118.761524232]
I0305 06:39:22.897239       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:22.897250       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:22.897280       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7601
I0305 06:39:22.897292       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:22.897301       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.897308       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.897315       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.897319       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.897325       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.897339       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:22.897348       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:22.897358       1 prefix_cache_and_load.go:584] latency, Route, 0.0490
I0305 06:39:22.897371       1 gateway.go:415] latency, selectTargetPod, 0.0490, target pod, 10.0.3.41:8000
I0305 06:39:22.897382       1 gateway.go:235] latency, HandleRequestBody, 0.0493
I0305 06:39:22.897407       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0283
I0305 06:39:22.897413       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:22.897416       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:22.897446       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:22.897460       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:22.897464       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:22.915294       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a4c8e69a-5e07-4bdf-9823-bd9b43549617"
I0305 06:39:22.941961       1 gateway.go:562] latency, 0.0000, summary, hash(request), a6e255ae, selectedpod, 10.0.1.53:8000, ttft, 101, tpot, 19, e2e, 274, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:22.941997       1 gateway.go:748] "Request completed" requestID="d8a16eba-d8e1-43e3-98fd-cf839ea6dec1" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:22.942010       1 gateway.go:764] "HandleResponseBody completed" requestID="d8a16eba-d8e1-43e3-98fd-cf839ea6dec1" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:22.947466       1 gateway.go:608] "First token received" requestID="a4c8e69a-5e07-4bdf-9823-bd9b43549617" ttft_ms=99
I0305 06:39:22.978904       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0814, numInputTokens, 7602
I0305 06:39:22.978921       1 tree.go:471] Updated node(0) last access: 121.0769 seconds
I0305 06:39:22.978927       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:22.978931       1 tree.go:471] Updated node(2) last access: 121.0769 seconds
I0305 06:39:22.978945       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:22.978949       1 tree.go:471] Updated node(4) last access: 121.0769 seconds
I0305 06:39:22.978955       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 06:39:22.978961       1 tree.go:471] Updated node(38) last access: 121.0769 seconds
I0305 06:39:22.978965       1 tree.go:484] Entire input tokens match the child node(39)
I0305 06:39:22.978974       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:22.978981       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:22.978986       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:22.978990       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:22.97897662 +0000 UTC m=+121.195703499 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:21.417193189 +0000 UTC m=+119.633920053]
I0305 06:39:22.979008       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:22.979015       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:22.979044       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7602
I0305 06:39:22.979052       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:22.979065       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.979072       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.979078       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.979082       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.979085       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:22.979094       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:22.979104       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:22.979115       1 prefix_cache_and_load.go:584] latency, Route, 0.1101
I0305 06:39:22.979131       1 gateway.go:415] latency, selectTargetPod, 0.1101, target pod, 10.0.1.47:8000
I0305 06:39:22.979146       1 gateway.go:235] latency, HandleRequestBody, 0.1104
I0305 06:39:22.998556       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a523f5df-9740-4298-a60d-7d7ec067490e"
I0305 06:39:23.030541       1 gateway.go:608] "First token received" requestID="a523f5df-9740-4298-a60d-7d7ec067490e" ttft_ms=161
I0305 06:39:23.120493       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8f626bd7, selectedpod, 10.0.3.41:8000, ttft, 99, tpot, 19, e2e, 272, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:23.120522       1 gateway.go:748] "Request completed" requestID="a4c8e69a-5e07-4bdf-9823-bd9b43549617" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:23.120537       1 gateway.go:764] "HandleResponseBody completed" requestID="a4c8e69a-5e07-4bdf-9823-bd9b43549617" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:23.194849       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f2fb9f87-e037-4276-be66-fbd7fb02a16a"
I0305 06:39:23.195083       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f2fb9f87-e037-4276-be66-fbd7fb02a16a" model="qwen2-5-7b-instruct"
I0305 06:39:23.195166       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:23.195175       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:23.195179       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:23.195212       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:23.195231       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:23.195238       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:23.203206       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8df03065, selectedpod, 10.0.1.47:8000, ttft, 161, tpot, 19, e2e, 334, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:23.203226       1 gateway.go:748] "Request completed" requestID="a523f5df-9740-4298-a60d-7d7ec067490e" targetPod="10.0.1.47:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:23.203238       1 gateway.go:764] "HandleResponseBody completed" requestID="a523f5df-9740-4298-a60d-7d7ec067490e" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:23.226838       1 gateway.go:207] "Processing request" requestID="419b6792-3ca6-4dfc-8119-8dc483a497cc"
I0305 06:39:23.226862       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="419b6792-3ca6-4dfc-8119-8dc483a497cc"
I0305 06:39:23.226866       1 gateway.go:207] "Processing request" requestID="8930726e-7c54-4ac6-abe4-8381043f3230"
I0305 06:39:23.226870       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:23.226889       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8930726e-7c54-4ac6-abe4-8381043f3230"
I0305 06:39:23.226898       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:23.242784       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6afeba76-2d5d-4111-93cb-9a5bf0dd6140"
I0305 06:39:23.243062       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6afeba76-2d5d-4111-93cb-9a5bf0dd6140" model="qwen2-5-7b-instruct"
I0305 06:39:23.243763       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0485, numInputTokens, 7603
I0305 06:39:23.243779       1 tree.go:471] Updated node(0) last access: 121.3417 seconds
I0305 06:39:23.243785       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:23.243790       1 tree.go:471] Updated node(2) last access: 121.3417 seconds
I0305 06:39:23.243803       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:23.243806       1 tree.go:471] Updated node(18) last access: 121.3417 seconds
I0305 06:39:23.243812       1 tree.go:484] Entire input tokens match the child node(41)
I0305 06:39:23.243816       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 06:39:23.243823       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:39:23.243830       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:23.243838       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:23.243818635 +0000 UTC m=+121.460545501 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:21.867248784 +0000 UTC m=+120.083975648]
I0305 06:39:23.243859       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:23.243877       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:23.243916       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7603
I0305 06:39:23.243930       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:23.243945       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.243953       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.243959       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.243963       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.243999       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:23.244011       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:23.244021       1 prefix_cache_and_load.go:584] latency, Route, 0.0489
I0305 06:39:23.244040       1 gateway.go:415] latency, selectTargetPod, 0.0489, target pod, 10.0.0.131:8000
I0305 06:39:23.244054       1 gateway.go:235] latency, HandleRequestBody, 0.0492
I0305 06:39:23.244082       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0009
I0305 06:39:23.244088       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:23.244091       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:23.244118       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:23.244136       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:23.244141       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:23.262187       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f2fb9f87-e037-4276-be66-fbd7fb02a16a"
I0305 06:39:23.294656       1 gateway.go:608] "First token received" requestID="f2fb9f87-e037-4276-be66-fbd7fb02a16a" ttft_ms=99
I0305 06:39:23.314114       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0700, numInputTokens, 7596
I0305 06:39:23.314134       1 tree.go:471] Updated node(0) last access: 121.4121 seconds
I0305 06:39:23.314141       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:23.314144       1 tree.go:471] Updated node(2) last access: 121.4121 seconds
I0305 06:39:23.314159       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:23.314163       1 tree.go:471] Updated node(31) last access: 121.4121 seconds
I0305 06:39:23.314167       1 tree.go:484] Entire input tokens match the child node(42)
I0305 06:39:23.314171       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 06:39:23.314179       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:23.314187       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:23.314195       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:23.314173841 +0000 UTC m=+121.530900713 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:21.919076073 +0000 UTC m=+120.135802937]
I0305 06:39:23.314213       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:23.314221       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:23.314242       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7596
I0305 06:39:23.314250       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:23.314258       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.314266       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.314272       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.314277       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.314284       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:23.314294       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:23.314306       1 prefix_cache_and_load.go:584] latency, Route, 0.0711
I0305 06:39:23.314319       1 gateway.go:415] latency, selectTargetPod, 0.0712, target pod, 10.0.1.28:8000
I0305 06:39:23.314329       1 gateway.go:235] latency, HandleRequestBody, 0.0715
I0305 06:39:23.334156       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6afeba76-2d5d-4111-93cb-9a5bf0dd6140"
I0305 06:39:23.366154       1 gateway.go:608] "First token received" requestID="6afeba76-2d5d-4111-93cb-9a5bf0dd6140" ttft_ms=123
I0305 06:39:23.468567       1 gateway.go:562] latency, 0.0001, summary, hash(request), 29cc7d59, selectedpod, 10.0.0.131:8000, ttft, 99, tpot, 19, e2e, 273, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:39:23.468587       1 gateway.go:748] "Request completed" requestID="f2fb9f87-e037-4276-be66-fbd7fb02a16a" targetPod="10.0.0.131:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:39:23.468598       1 gateway.go:764] "HandleResponseBody completed" requestID="f2fb9f87-e037-4276-be66-fbd7fb02a16a" promptTokens=7622 completionTokens=10 stream=true
I0305 06:39:23.539164       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8fd9382e, selectedpod, 10.0.1.28:8000, ttft, 123, tpot, 19, e2e, 296, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:23.539184       1 gateway.go:748] "Request completed" requestID="6afeba76-2d5d-4111-93cb-9a5bf0dd6140" targetPod="10.0.1.28:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:23.539193       1 gateway.go:764] "HandleResponseBody completed" requestID="6afeba76-2d5d-4111-93cb-9a5bf0dd6140" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:23.564335       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8930726e-7c54-4ac6-abe4-8381043f3230"
I0305 06:39:23.564563       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8930726e-7c54-4ac6-abe4-8381043f3230" model="qwen2-5-7b-instruct"
I0305 06:39:23.564644       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:23.564650       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:23.564654       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:23.564684       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:23.564700       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:23.564705       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:23.613029       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0483, numInputTokens, 7596
I0305 06:39:23.613045       1 tree.go:471] Updated node(0) last access: 121.7110 seconds
I0305 06:39:23.613051       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:23.613054       1 tree.go:471] Updated node(2) last access: 121.7110 seconds
I0305 06:39:23.613066       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 06:39:23.613069       1 tree.go:471] Updated node(43) last access: 121.7110 seconds
I0305 06:39:23.613073       1 tree.go:484] Entire input tokens match the child node(44)
I0305 06:39:23.613077       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 06:39:23.613083       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:23.613090       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:23.613095       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:23.613079616 +0000 UTC m=+121.829806490 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:22.391559102 +0000 UTC m=+120.608285966]
I0305 06:39:23.613111       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:23.613117       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:23.613141       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7596
I0305 06:39:23.613149       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:23.613156       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.613162       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.613168       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.613172       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.613180       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:23.613189       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:23.613199       1 prefix_cache_and_load.go:584] latency, Route, 0.0486
I0305 06:39:23.613209       1 gateway.go:415] latency, selectTargetPod, 0.0486, target pod, 10.0.0.34:8000
I0305 06:39:23.613221       1 gateway.go:235] latency, HandleRequestBody, 0.0489
I0305 06:39:23.631007       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8930726e-7c54-4ac6-abe4-8381043f3230"
I0305 06:39:23.662233       1 gateway.go:608] "First token received" requestID="8930726e-7c54-4ac6-abe4-8381043f3230" ttft_ms=97
I0305 06:39:23.702227       1 gateway.go:207] "Processing request" requestID="49874eb3-06d6-4c7f-b916-88f8dd6b2e27"
I0305 06:39:23.702250       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="49874eb3-06d6-4c7f-b916-88f8dd6b2e27"
I0305 06:39:23.702259       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:23.729082       1 gateway.go:329] "-- In RequestBody processing ..." requestID="419b6792-3ca6-4dfc-8119-8dc483a497cc"
I0305 06:39:23.729313       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="419b6792-3ca6-4dfc-8119-8dc483a497cc" model="qwen2-5-7b-instruct"
I0305 06:39:23.729388       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:23.729395       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:23.729399       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:23.729432       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:23.729448       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:23.729453       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:23.756160       1 gateway.go:329] "-- In RequestBody processing ..." requestID="49874eb3-06d6-4c7f-b916-88f8dd6b2e27"
I0305 06:39:23.756446       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="49874eb3-06d6-4c7f-b916-88f8dd6b2e27" model="qwen2-5-7b-instruct"
I0305 06:39:23.782398       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0529, numInputTokens, 7600
I0305 06:39:23.782457       1 tree.go:471] Updated node(0) last access: 121.8804 seconds
I0305 06:39:23.782463       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:23.782467       1 tree.go:471] Updated node(2) last access: 121.8804 seconds
I0305 06:39:23.782481       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:23.782483       1 tree.go:471] Updated node(45) last access: 121.8804 seconds
I0305 06:39:23.782488       1 tree.go:484] Entire input tokens match the child node(46)
I0305 06:39:23.782491       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:23.782497       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:23.782503       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:23.782509       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:23.782493992 +0000 UTC m=+121.999220856 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:22.443390661 +0000 UTC m=+120.660117526]
I0305 06:39:23.782533       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:23.782542       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:23.782564       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7600
I0305 06:39:23.782573       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:23.782580       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.782585       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.782589       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.782594       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.782601       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:23.782610       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:23.782618       1 prefix_cache_and_load.go:584] latency, Route, 0.0532
I0305 06:39:23.782635       1 gateway.go:415] latency, selectTargetPod, 0.0532, target pod, 10.0.0.34:8000
I0305 06:39:23.782645       1 gateway.go:235] latency, HandleRequestBody, 0.0536
I0305 06:39:23.782694       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0262
I0305 06:39:23.782699       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:23.782702       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:23.782727       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:23.782742       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:23.782747       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:23.801200       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="419b6792-3ca6-4dfc-8119-8dc483a497cc"
I0305 06:39:23.835922       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0532, numInputTokens, 7601
I0305 06:39:23.835942       1 tree.go:471] Updated node(0) last access: 121.9339 seconds
I0305 06:39:23.835948       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:23.835952       1 tree.go:471] Updated node(2) last access: 121.9339 seconds
I0305 06:39:23.835965       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:23.835977       1 tree.go:471] Updated node(23) last access: 121.9339 seconds
I0305 06:39:23.835983       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:23.835989       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:23.835996       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:23.836001       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:23.836007       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:23.835990661 +0000 UTC m=+122.052717525]
I0305 06:39:23.836023       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:23.836029       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:23.836052       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7478
I0305 06:39:23.836060       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:23.836079       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.836087       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.836093       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.836103       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.836111       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:23.836121       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:23.836130       1 prefix_cache_and_load.go:584] latency, Route, 0.0796
I0305 06:39:23.836140       1 gateway.go:415] latency, selectTargetPod, 0.0796, target pod, 10.0.3.42:8000
I0305 06:39:23.836151       1 gateway.go:235] latency, HandleRequestBody, 0.0800
I0305 06:39:23.845039       1 gateway.go:608] "First token received" requestID="419b6792-3ca6-4dfc-8119-8dc483a497cc" ttft_ms=115
I0305 06:39:23.852443       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="49874eb3-06d6-4c7f-b916-88f8dd6b2e27"
I0305 06:39:23.866214       1 gateway.go:562] latency, 0.0000, summary, hash(request), da5d46f7, selectedpod, 10.0.0.34:8000, ttft, 97, tpot, 22, e2e, 301, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:23.866233       1 gateway.go:748] "Request completed" requestID="8930726e-7c54-4ac6-abe4-8381043f3230" targetPod="10.0.0.34:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:23.866244       1 gateway.go:764] "HandleResponseBody completed" requestID="8930726e-7c54-4ac6-abe4-8381043f3230" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:23.894330       1 gateway.go:207] "Processing request" requestID="1e3bb0fe-5adf-44d8-86da-4fb793495a8e"
I0305 06:39:23.894352       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1e3bb0fe-5adf-44d8-86da-4fb793495a8e"
I0305 06:39:23.894363       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:23.896057       1 gateway.go:608] "First token received" requestID="49874eb3-06d6-4c7f-b916-88f8dd6b2e27" ttft_ms=139
I0305 06:39:23.925799       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1e3bb0fe-5adf-44d8-86da-4fb793495a8e"
I0305 06:39:23.947110       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1e3bb0fe-5adf-44d8-86da-4fb793495a8e" model="qwen2-5-7b-instruct"
I0305 06:39:23.947190       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:23.947196       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:23.947199       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:23.947230       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:23.947245       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:23.947250       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:23.960456       1 gateway.go:207] "Processing request" requestID="e8de9b96-5182-457e-aebd-3859ee2dca2c"
I0305 06:39:23.960488       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e8de9b96-5182-457e-aebd-3859ee2dca2c"
I0305 06:39:23.960495       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:23.996848       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0496, numInputTokens, 7602
I0305 06:39:23.996866       1 tree.go:471] Updated node(0) last access: 122.0948 seconds
I0305 06:39:23.996872       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:23.996875       1 tree.go:471] Updated node(2) last access: 122.0948 seconds
I0305 06:39:23.996890       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:23.996896       1 tree.go:471] Updated node(23) last access: 122.0948 seconds
I0305 06:39:23.996906       1 tree.go:667] Split complete - New node(49)
I0305 06:39:23.996912       1 tree.go:668] Split complete - Child node(24)
I0305 06:39:23.996918       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 06:39:23.996925       1 tree.go:471] Updated node(49) last access: 122.0949 seconds
I0305 06:39:23.996932       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:39:23.996939       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:23.996946       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:23.996955       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:23.996962       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:23.99694167 +0000 UTC m=+122.213668533]
I0305 06:39:23.996986       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7485, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:39:23.996995       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:39:23.997023       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7485
I0305 06:39:23.997034       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:23.997046       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.997054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.997062       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.997067       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.997073       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:23.997084       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:23.997097       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:23.997106       1 prefix_cache_and_load.go:584] latency, Route, 0.0499
I0305 06:39:23.997115       1 gateway.go:415] latency, selectTargetPod, 0.0499, target pod, 10.0.3.42:8000
I0305 06:39:23.997125       1 gateway.go:235] latency, HandleRequestBody, 0.0713
I0305 06:39:24.019482       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1e3bb0fe-5adf-44d8-86da-4fb793495a8e"
I0305 06:39:24.019707       1 gateway.go:562] latency, 0.0000, summary, hash(request), c5c37b8f, selectedpod, 10.0.0.34:8000, ttft, 115, tpot, 19, e2e, 290, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:24.019725       1 gateway.go:748] "Request completed" requestID="419b6792-3ca6-4dfc-8119-8dc483a497cc" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:24.019737       1 gateway.go:764] "HandleResponseBody completed" requestID="419b6792-3ca6-4dfc-8119-8dc483a497cc" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:24.064172       1 gateway.go:608] "First token received" requestID="1e3bb0fe-5adf-44d8-86da-4fb793495a8e" ttft_ms=138
I0305 06:39:24.091752       1 gateway.go:207] "Processing request" requestID="1130dcfa-a702-4be0-b797-793c20266aac"
I0305 06:39:24.091784       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1130dcfa-a702-4be0-b797-793c20266aac"
I0305 06:39:24.091794       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:24.104340       1 gateway.go:562] latency, 0.0000, summary, hash(request), 69f78e42, selectedpod, 10.0.3.42:8000, ttft, 139, tpot, 23, e2e, 348, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:24.104359       1 gateway.go:748] "Request completed" requestID="49874eb3-06d6-4c7f-b916-88f8dd6b2e27" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:24.104373       1 gateway.go:764] "HandleResponseBody completed" requestID="49874eb3-06d6-4c7f-b916-88f8dd6b2e27" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:24.106978       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e8de9b96-5182-457e-aebd-3859ee2dca2c"
I0305 06:39:24.107195       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e8de9b96-5182-457e-aebd-3859ee2dca2c" model="qwen2-5-7b-instruct"
I0305 06:39:24.107274       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:24.107280       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:24.107283       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:24.107320       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:24.107335       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:24.107341       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:24.159417       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0521, numInputTokens, 7600
I0305 06:39:24.159447       1 tree.go:471] Updated node(0) last access: 122.2574 seconds
I0305 06:39:24.159455       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:24.159459       1 tree.go:471] Updated node(2) last access: 122.2574 seconds
I0305 06:39:24.159495       1 tree.go:667] Split complete - New node(51)
I0305 06:39:24.159501       1 tree.go:668] Split complete - Child node(29)
I0305 06:39:24.159508       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7596 tokens:
I0305 06:39:24.159530       1 tree.go:471] Updated node(51) last access: 122.2575 seconds
I0305 06:39:24.159537       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:24.159544       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:24.159552       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:24.159560       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:24.159567       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:24.159547763 +0000 UTC m=+122.376274634]
I0305 06:39:24.159584       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:24.159594       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:24.159624       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:24.159636       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:24.159647       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.159656       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.159664       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.159670       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.159682       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:24.159695       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:24.159709       1 prefix_cache_and_load.go:584] latency, Route, 0.0524
I0305 06:39:24.159719       1 gateway.go:415] latency, selectTargetPod, 0.0524, target pod, 10.0.1.28:8000
I0305 06:39:24.159730       1 gateway.go:235] latency, HandleRequestBody, 0.0528
I0305 06:39:24.182196       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e8de9b96-5182-457e-aebd-3859ee2dca2c"
I0305 06:39:24.212981       1 gateway.go:207] "Processing request" requestID="3f72c504-260b-4400-9073-0d9c6aeeeaee"
I0305 06:39:24.212990       1 gateway.go:207] "Processing request" requestID="d869b154-c84f-40b5-bebc-f2d6208b7d5f"
I0305 06:39:24.213011       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3f72c504-260b-4400-9073-0d9c6aeeeaee"
I0305 06:39:24.213019       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d869b154-c84f-40b5-bebc-f2d6208b7d5f"
I0305 06:39:24.213019       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:24.213029       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:24.225768       1 gateway.go:608] "First token received" requestID="e8de9b96-5182-457e-aebd-3859ee2dca2c" ttft_ms=118
I0305 06:39:24.239427       1 gateway.go:562] latency, 0.0000, summary, hash(request), 45d64f59, selectedpod, 10.0.3.42:8000, ttft, 138, tpot, 19, e2e, 313, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:24.239443       1 gateway.go:748] "Request completed" requestID="1e3bb0fe-5adf-44d8-86da-4fb793495a8e" targetPod="10.0.3.42:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:24.239452       1 gateway.go:764] "HandleResponseBody completed" requestID="1e3bb0fe-5adf-44d8-86da-4fb793495a8e" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:24.266533       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1130dcfa-a702-4be0-b797-793c20266aac"
I0305 06:39:24.266741       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1130dcfa-a702-4be0-b797-793c20266aac" model="qwen2-5-7b-instruct"
I0305 06:39:24.266814       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:24.266821       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:24.266826       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:24.266866       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:24.266886       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:24.266892       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:24.315166       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0483, numInputTokens, 7598
I0305 06:39:24.315183       1 tree.go:471] Updated node(0) last access: 122.4131 seconds
I0305 06:39:24.315191       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:24.315194       1 tree.go:471] Updated node(2) last access: 122.4131 seconds
I0305 06:39:24.315233       1 tree.go:667] Split complete - New node(53)
I0305 06:39:24.315238       1 tree.go:668] Split complete - Child node(43)
I0305 06:39:24.315246       1 tree.go:501] latency, splitNode, 0.0000 seconds, 7594 tokens:
I0305 06:39:24.315252       1 tree.go:471] Updated node(53) last access: 122.4132 seconds
I0305 06:39:24.315260       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:24.315265       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:24.315272       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:24.315279       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:24.315285       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:24.31526736 +0000 UTC m=+122.531994229]
I0305 06:39:24.315303       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:24.315312       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:24.315340       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:24.315352       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:24.315363       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.315369       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.315377       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.315383       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.315395       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:24.315407       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:24.315419       1 prefix_cache_and_load.go:584] latency, Route, 0.0486
I0305 06:39:24.315429       1 gateway.go:415] latency, selectTargetPod, 0.0486, target pod, 10.0.0.34:8000
I0305 06:39:24.315441       1 gateway.go:235] latency, HandleRequestBody, 0.0489
I0305 06:39:24.333002       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1130dcfa-a702-4be0-b797-793c20266aac"
I0305 06:39:24.375376       1 gateway.go:608] "First token received" requestID="1130dcfa-a702-4be0-b797-793c20266aac" ttft_ms=108
I0305 06:39:24.380228       1 gateway.go:207] "Processing request" requestID="19accd13-fea9-47a3-937a-0001819589fe"
I0305 06:39:24.380253       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="19accd13-fea9-47a3-937a-0001819589fe"
I0305 06:39:24.380262       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:24.398590       1 gateway.go:562] latency, 0.0000, summary, hash(request), d5188f6e, selectedpod, 10.0.1.28:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:24.398610       1 gateway.go:748] "Request completed" requestID="e8de9b96-5182-457e-aebd-3859ee2dca2c" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:24.398620       1 gateway.go:764] "HandleResponseBody completed" requestID="e8de9b96-5182-457e-aebd-3859ee2dca2c" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:24.548249       1 gateway.go:562] latency, 0.0000, summary, hash(request), bd7e4698, selectedpod, 10.0.0.34:8000, ttft, 108, tpot, 19, e2e, 281, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:24.548268       1 gateway.go:748] "Request completed" requestID="1130dcfa-a702-4be0-b797-793c20266aac" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:24.548277       1 gateway.go:764] "HandleResponseBody completed" requestID="1130dcfa-a702-4be0-b797-793c20266aac" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:24.612981       1 gateway.go:207] "Processing request" requestID="db69d808-fff3-4501-9c6d-62453f9ed638"
I0305 06:39:24.613002       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="db69d808-fff3-4501-9c6d-62453f9ed638"
I0305 06:39:24.613011       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:24.659253       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d869b154-c84f-40b5-bebc-f2d6208b7d5f"
I0305 06:39:24.659447       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d869b154-c84f-40b5-bebc-f2d6208b7d5f" model="qwen2-5-7b-instruct"
I0305 06:39:24.659528       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:24.659536       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:24.659540       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:24.659583       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:24.659601       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:24.659606       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:24.711612       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0520, numInputTokens, 7593
I0305 06:39:24.711633       1 tree.go:471] Updated node(0) last access: 122.8096 seconds
I0305 06:39:24.711640       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:24.711643       1 tree.go:471] Updated node(2) last access: 122.8096 seconds
I0305 06:39:24.711657       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:24.711659       1 tree.go:471] Updated node(8) last access: 122.8096 seconds
I0305 06:39:24.711665       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:24.711671       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7593 tokens
I0305 06:39:24.711677       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 06:39:24.711685       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:24.711690       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:24.71167291 +0000 UTC m=+122.928399775]
I0305 06:39:24.711703       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7478, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:24.711710       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:24.711734       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7478
I0305 06:39:24.711742       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:24.711750       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.711757       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.711760       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.711765       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.711773       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:24.711782       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:24.711791       1 prefix_cache_and_load.go:584] latency, Route, 0.0523
I0305 06:39:24.711800       1 gateway.go:415] latency, selectTargetPod, 0.0523, target pod, 10.0.1.53:8000
I0305 06:39:24.711811       1 gateway.go:235] latency, HandleRequestBody, 0.0526
I0305 06:39:24.732264       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d869b154-c84f-40b5-bebc-f2d6208b7d5f"
I0305 06:39:24.768093       1 gateway.go:608] "First token received" requestID="d869b154-c84f-40b5-bebc-f2d6208b7d5f" ttft_ms=108
I0305 06:39:24.800869       1 gateway.go:207] "Processing request" requestID="0765a54f-cd7c-4127-888a-837d23749c32"
I0305 06:39:24.800895       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0765a54f-cd7c-4127-888a-837d23749c32"
I0305 06:39:24.800903       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:24.832055       1 gateway.go:207] "Processing request" requestID="13895d99-7358-4d60-935f-a1c88c9515f9"
I0305 06:39:24.832080       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="13895d99-7358-4d60-935f-a1c88c9515f9"
I0305 06:39:24.832089       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:24.832652       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3f72c504-260b-4400-9073-0d9c6aeeeaee"
I0305 06:39:24.832868       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3f72c504-260b-4400-9073-0d9c6aeeeaee" model="qwen2-5-7b-instruct"
I0305 06:39:24.832940       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:24.832948       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:24.832952       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:24.833021       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:24.833043       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:24.833060       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:24.843073       1 gateway.go:329] "-- In RequestBody processing ..." requestID="db69d808-fff3-4501-9c6d-62453f9ed638"
I0305 06:39:24.843283       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="db69d808-fff3-4501-9c6d-62453f9ed638" model="qwen2-5-7b-instruct"
I0305 06:39:24.886155       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0531, numInputTokens, 7598
I0305 06:39:24.886177       1 tree.go:471] Updated node(0) last access: 122.9841 seconds
I0305 06:39:24.886183       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:24.886186       1 tree.go:471] Updated node(2) last access: 122.9841 seconds
I0305 06:39:24.886201       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:24.886207       1 tree.go:471] Updated node(31) last access: 122.9841 seconds
I0305 06:39:24.886215       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:24.886223       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:24.886231       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:24.886241       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:24.886249       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:24.886225283 +0000 UTC m=+123.102952147]
I0305 06:39:24.886272       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:24.886282       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:24.886314       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:24.886325       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:24.886336       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.886343       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.886350       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.886356       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.886368       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:24.886381       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:24.886395       1 prefix_cache_and_load.go:584] latency, Route, 0.0535
I0305 06:39:24.886415       1 gateway.go:415] latency, selectTargetPod, 0.0535, target pod, 10.0.1.28:8000
I0305 06:39:24.886428       1 gateway.go:235] latency, HandleRequestBody, 0.0538
I0305 06:39:24.886457       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0430
I0305 06:39:24.886462       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:24.886465       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:24.886520       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:24.886537       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:24.886543       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:24.905819       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3f72c504-260b-4400-9073-0d9c6aeeeaee"
I0305 06:39:24.935450       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0489, numInputTokens, 7599
I0305 06:39:24.935468       1 tree.go:471] Updated node(0) last access: 123.0334 seconds
I0305 06:39:24.935474       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:24.935477       1 tree.go:471] Updated node(2) last access: 123.0334 seconds
I0305 06:39:24.935490       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:24.935492       1 tree.go:471] Updated node(53) last access: 123.0334 seconds
I0305 06:39:24.935499       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:24.935505       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:24.935519       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:24.935527       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:24.935531       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:24.935506681 +0000 UTC m=+123.152233553]
I0305 06:39:24.935546       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:24.935553       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:24.935578       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:24.935587       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:24.935594       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.935600       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.935604       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.935608       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:24.935616       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:24.935625       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:24.935634       1 prefix_cache_and_load.go:584] latency, Route, 0.0922
I0305 06:39:24.935649       1 gateway.go:415] latency, selectTargetPod, 0.0922, target pod, 10.0.0.34:8000
I0305 06:39:24.935659       1 gateway.go:235] latency, HandleRequestBody, 0.0926
I0305 06:39:24.941171       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3e93b3f2, selectedpod, 10.0.1.53:8000, ttft, 108, tpot, 19, e2e, 281, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 06:39:24.941189       1 gateway.go:748] "Request completed" requestID="d869b154-c84f-40b5-bebc-f2d6208b7d5f" targetPod="10.0.1.53:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 06:39:24.941198       1 gateway.go:764] "HandleResponseBody completed" requestID="d869b154-c84f-40b5-bebc-f2d6208b7d5f" promptTokens=7612 completionTokens=10 stream=true
I0305 06:39:24.948792       1 gateway.go:608] "First token received" requestID="3f72c504-260b-4400-9073-0d9c6aeeeaee" ttft_ms=116
I0305 06:39:24.954425       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="db69d808-fff3-4501-9c6d-62453f9ed638"
I0305 06:39:24.964469       1 gateway.go:207] "Processing request" requestID="d8e58594-c3c4-4467-865a-0ad9aa9884d0"
I0305 06:39:24.964487       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d8e58594-c3c4-4467-865a-0ad9aa9884d0"
I0305 06:39:24.964501       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:24.997651       1 gateway.go:608] "First token received" requestID="db69d808-fff3-4501-9c6d-62453f9ed638" ttft_ms=154
I0305 06:39:25.050986       1 gateway.go:207] "Processing request" requestID="318a18c6-5453-4d6d-be9b-8d8ff866c83b"
I0305 06:39:25.051012       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="318a18c6-5453-4d6d-be9b-8d8ff866c83b"
I0305 06:39:25.051021       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:25.098965       1 gateway.go:329] "-- In RequestBody processing ..." requestID="19accd13-fea9-47a3-937a-0001819589fe"
I0305 06:39:25.099184       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="19accd13-fea9-47a3-937a-0001819589fe" model="qwen2-5-7b-instruct"
I0305 06:39:25.099260       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:25.099266       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:25.099269       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:25.099323       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:25.099339       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:25.099344       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:25.122185       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90b77f3f, selectedpod, 10.0.1.28:8000, ttft, 116, tpot, 19, e2e, 289, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:25.122205       1 gateway.go:748] "Request completed" requestID="3f72c504-260b-4400-9073-0d9c6aeeeaee" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:25.122216       1 gateway.go:764] "HandleResponseBody completed" requestID="3f72c504-260b-4400-9073-0d9c6aeeeaee" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:25.153542       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0542, numInputTokens, 7596
I0305 06:39:25.153561       1 tree.go:471] Updated node(0) last access: 123.2515 seconds
I0305 06:39:25.153568       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:25.153571       1 tree.go:471] Updated node(2) last access: 123.2515 seconds
I0305 06:39:25.153584       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:25.153588       1 tree.go:471] Updated node(4) last access: 123.2515 seconds
I0305 06:39:25.153598       1 tree.go:667] Split complete - New node(58)
I0305 06:39:25.153601       1 tree.go:668] Split complete - Child node(28)
I0305 06:39:25.153605       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:39:25.153611       1 tree.go:471] Updated node(58) last access: 123.2516 seconds
I0305 06:39:25.153615       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:39:25.153620       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:25.153626       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:25.153633       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:25.153638       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:25.153622155 +0000 UTC m=+123.370349019]
I0305 06:39:25.153652       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7483, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:39:25.153658       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:39:25.153683       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7483
I0305 06:39:25.153741       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:25.153750       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.153755       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.153760       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.153764       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.153770       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.153778       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:25.153786       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:25.153797       1 prefix_cache_and_load.go:584] latency, Route, 0.0545
I0305 06:39:25.153806       1 gateway.go:415] latency, selectTargetPod, 0.0545, target pod, 10.0.1.47:8000
I0305 06:39:25.153817       1 gateway.go:235] latency, HandleRequestBody, 0.0549
I0305 06:39:25.170260       1 gateway.go:562] latency, 0.0000, summary, hash(request), ea53cbfa, selectedpod, 10.0.0.34:8000, ttft, 154, tpot, 19, e2e, 327, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:25.170281       1 gateway.go:748] "Request completed" requestID="db69d808-fff3-4501-9c6d-62453f9ed638" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:25.170294       1 gateway.go:764] "HandleResponseBody completed" requestID="db69d808-fff3-4501-9c6d-62453f9ed638" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:25.172343       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="19accd13-fea9-47a3-937a-0001819589fe"
I0305 06:39:25.208128       1 gateway.go:608] "First token received" requestID="19accd13-fea9-47a3-937a-0001819589fe" ttft_ms=109
I0305 06:39:25.379553       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d8e58594-c3c4-4467-865a-0ad9aa9884d0"
I0305 06:39:25.379799       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d8e58594-c3c4-4467-865a-0ad9aa9884d0" model="qwen2-5-7b-instruct"
I0305 06:39:25.379873       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:25.379882       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:25.379886       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:25.379942       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:25.379960       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:25.379965       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:25.380694       1 gateway.go:562] latency, 0.0000, summary, hash(request), 777a1a47, selectedpod, 10.0.1.47:8000, ttft, 109, tpot, 19, e2e, 281, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:25.380710       1 gateway.go:748] "Request completed" requestID="19accd13-fea9-47a3-937a-0001819589fe" targetPod="10.0.1.47:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:25.380719       1 gateway.go:764] "HandleResponseBody completed" requestID="19accd13-fea9-47a3-937a-0001819589fe" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:25.400997       1 gateway.go:329] "-- In RequestBody processing ..." requestID="318a18c6-5453-4d6d-be9b-8d8ff866c83b"
I0305 06:39:25.401208       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="318a18c6-5453-4d6d-be9b-8d8ff866c83b" model="qwen2-5-7b-instruct"
I0305 06:39:25.428092       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0481, numInputTokens, 7596
I0305 06:39:25.428108       1 tree.go:471] Updated node(0) last access: 123.5260 seconds
I0305 06:39:25.428114       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:25.428117       1 tree.go:471] Updated node(2) last access: 123.5261 seconds
I0305 06:39:25.428130       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:25.428135       1 tree.go:471] Updated node(26) last access: 123.5261 seconds
I0305 06:39:25.428141       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:25.428145       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 06:39:25.428152       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:25.428159       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:25.428167       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:25.428147836 +0000 UTC m=+123.644874701]
I0305 06:39:25.428182       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:25.428189       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:25.428213       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7478
I0305 06:39:25.428222       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:25.428231       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.428238       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.428247       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.428251       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.428259       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:25.428268       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:25.428279       1 prefix_cache_and_load.go:584] latency, Route, 0.0484
I0305 06:39:25.428292       1 gateway.go:415] latency, selectTargetPod, 0.0484, target pod, 10.0.3.41:8000
I0305 06:39:25.428303       1 gateway.go:235] latency, HandleRequestBody, 0.0488
I0305 06:39:25.428325       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0271
I0305 06:39:25.428330       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:25.428333       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:25.428363       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:25.428379       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:25.428382       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:25.446976       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d8e58594-c3c4-4467-865a-0ad9aa9884d0"
I0305 06:39:25.468148       1 gateway.go:207] "Processing request" requestID="bd692995-25cd-4b30-b0f2-6f68c8d13180"
I0305 06:39:25.468185       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bd692995-25cd-4b30-b0f2-6f68c8d13180"
I0305 06:39:25.468196       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:25.482849       1 gateway.go:608] "First token received" requestID="d8e58594-c3c4-4467-865a-0ad9aa9884d0" ttft_ms=103
I0305 06:39:25.498974       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0706, numInputTokens, 7598
I0305 06:39:25.498994       1 tree.go:471] Updated node(0) last access: 123.5969 seconds
I0305 06:39:25.499000       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:25.499004       1 tree.go:471] Updated node(2) last access: 123.5969 seconds
I0305 06:39:25.499014       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:25.499019       1 tree.go:471] Updated node(53) last access: 123.5970 seconds
I0305 06:39:25.499024       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:25.499029       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:25.499036       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:25.499043       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:25.499048       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:25.499031379 +0000 UTC m=+123.715758244]
I0305 06:39:25.499062       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:25.499069       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:25.499094       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:25.499103       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:25.499109       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.499115       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.499119       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.499124       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.499133       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:25.499142       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:25.499153       1 prefix_cache_and_load.go:584] latency, Route, 0.0979
I0305 06:39:25.499162       1 gateway.go:415] latency, selectTargetPod, 0.0979, target pod, 10.0.0.34:8000
I0305 06:39:25.499173       1 gateway.go:235] latency, HandleRequestBody, 0.0982
I0305 06:39:25.515847       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0765a54f-cd7c-4127-888a-837d23749c32"
I0305 06:39:25.516083       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0765a54f-cd7c-4127-888a-837d23749c32" model="qwen2-5-7b-instruct"
I0305 06:39:25.516156       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:25.516165       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:25.516169       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:25.516225       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:25.516243       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:25.516249       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:25.517812       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="318a18c6-5453-4d6d-be9b-8d8ff866c83b"
I0305 06:39:25.551760       1 gateway.go:329] "-- In RequestBody processing ..." requestID="13895d99-7358-4d60-935f-a1c88c9515f9"
I0305 06:39:25.551985       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="13895d99-7358-4d60-935f-a1c88c9515f9" model="qwen2-5-7b-instruct"
I0305 06:39:25.561458       1 gateway.go:608] "First token received" requestID="318a18c6-5453-4d6d-be9b-8d8ff866c83b" ttft_ms=160
I0305 06:39:25.568191       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0519, numInputTokens, 7600
I0305 06:39:25.568212       1 tree.go:471] Updated node(0) last access: 123.6662 seconds
I0305 06:39:25.568219       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:25.568223       1 tree.go:471] Updated node(2) last access: 123.6662 seconds
I0305 06:39:25.568236       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:25.568240       1 tree.go:471] Updated node(4) last access: 123.6662 seconds
I0305 06:39:25.568246       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:25.568252       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:25.568259       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:25.568270       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:25.568276       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:25.568254024 +0000 UTC m=+123.784980897]
I0305 06:39:25.568293       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:25.568302       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:25.568337       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7478
I0305 06:39:25.568354       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:25.568362       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.568369       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.568374       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.568382       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.568391       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:25.568404       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:25.568419       1 prefix_cache_and_load.go:584] latency, Route, 0.0523
I0305 06:39:25.568433       1 gateway.go:415] latency, selectTargetPod, 0.0523, target pod, 10.0.1.47:8000
I0305 06:39:25.568446       1 gateway.go:235] latency, HandleRequestBody, 0.0526
I0305 06:39:25.568447       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0164
I0305 06:39:25.568472       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:25.568478       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:25.568573       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:25.568613       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:25.568619       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:25.578853       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bd692995-25cd-4b30-b0f2-6f68c8d13180"
I0305 06:39:25.579097       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bd692995-25cd-4b30-b0f2-6f68c8d13180" model="qwen2-5-7b-instruct"
I0305 06:39:25.587458       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0765a54f-cd7c-4127-888a-837d23749c32"
I0305 06:39:25.627853       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0592, numInputTokens, 7600
I0305 06:39:25.627871       1 tree.go:471] Updated node(0) last access: 123.7258 seconds
I0305 06:39:25.627877       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:25.627880       1 tree.go:471] Updated node(2) last access: 123.7258 seconds
I0305 06:39:25.627894       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:25.627897       1 tree.go:471] Updated node(51) last access: 123.7258 seconds
I0305 06:39:25.627901       1 tree.go:484] Entire input tokens match the child node(52)
I0305 06:39:25.627905       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:25.627911       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:25.627918       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:25.627926       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:25.627907307 +0000 UTC m=+123.844634171 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:24.159639167 +0000 UTC m=+122.376366038]
I0305 06:39:25.627941       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:25.627948       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:25.627990       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7600
I0305 06:39:25.627999       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:25.628006       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.628013       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.628017       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.628021       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.628029       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:25.628038       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:25.628048       1 prefix_cache_and_load.go:584] latency, Route, 0.0760
I0305 06:39:25.628063       1 gateway.go:415] latency, selectTargetPod, 0.0760, target pod, 10.0.1.28:8000
I0305 06:39:25.628073       1 gateway.go:235] latency, HandleRequestBody, 0.0763
I0305 06:39:25.628101       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0489
I0305 06:39:25.628107       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:25.628111       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:25.628157       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:25.628174       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:25.628178       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:25.630700       1 gateway.go:608] "First token received" requestID="0765a54f-cd7c-4127-888a-837d23749c32" ttft_ms=114
I0305 06:39:25.647621       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="13895d99-7358-4d60-935f-a1c88c9515f9"
I0305 06:39:25.655818       1 gateway.go:562] latency, 0.0000, summary, hash(request), 07755d8a, selectedpod, 10.0.3.41:8000, ttft, 103, tpot, 19, e2e, 276, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:25.655840       1 gateway.go:748] "Request completed" requestID="d8e58594-c3c4-4467-865a-0ad9aa9884d0" targetPod="10.0.3.41:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:25.655852       1 gateway.go:764] "HandleResponseBody completed" requestID="d8e58594-c3c4-4467-865a-0ad9aa9884d0" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:25.681697       1 gateway.go:608] "First token received" requestID="13895d99-7358-4d60-935f-a1c88c9515f9" ttft_ms=129
I0305 06:39:25.686785       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0586, numInputTokens, 7597
I0305 06:39:25.686808       1 tree.go:471] Updated node(0) last access: 123.7847 seconds
I0305 06:39:25.686817       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:25.686821       1 tree.go:471] Updated node(2) last access: 123.7848 seconds
I0305 06:39:25.686833       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:25.686836       1 tree.go:471] Updated node(4) last access: 123.7848 seconds
I0305 06:39:25.686852       1 tree.go:667] Split complete - New node(63)
I0305 06:39:25.686860       1 tree.go:668] Split complete - Child node(62)
I0305 06:39:25.686865       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:39:25.686871       1 tree.go:471] Updated node(63) last access: 123.7848 seconds
I0305 06:39:25.686879       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:25.686889       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:25.686899       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:25.686907       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:25.686913       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:25.686894021 +0000 UTC m=+123.903620890]
I0305 06:39:25.686931       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7481, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:25.686942       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:25.686999       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7481
I0305 06:39:25.687008       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:25.687016       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.687025       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.687032       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.687038       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.687043       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.687057       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:25.687072       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:25.687086       1 prefix_cache_and_load.go:584] latency, Route, 0.1079
I0305 06:39:25.687095       1 gateway.go:415] latency, selectTargetPod, 0.1079, target pod, 10.0.1.47:8000
I0305 06:39:25.687108       1 gateway.go:235] latency, HandleRequestBody, 0.1083
I0305 06:39:25.701393       1 gateway.go:207] "Processing request" requestID="c4a93b9a-e4de-4679-a688-678121e7fd03"
I0305 06:39:25.701423       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c4a93b9a-e4de-4679-a688-678121e7fd03"
I0305 06:39:25.701431       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:25.705866       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bd692995-25cd-4b30-b0f2-6f68c8d13180"
I0305 06:39:25.734462       1 gateway.go:562] latency, 0.0000, summary, hash(request), a24ae043, selectedpod, 10.0.0.34:8000, ttft, 160, tpot, 19, e2e, 333, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:25.734483       1 gateway.go:748] "Request completed" requestID="318a18c6-5453-4d6d-be9b-8d8ff866c83b" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:25.734495       1 gateway.go:764] "HandleResponseBody completed" requestID="318a18c6-5453-4d6d-be9b-8d8ff866c83b" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:25.737954       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c4a93b9a-e4de-4679-a688-678121e7fd03"
I0305 06:39:25.738185       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c4a93b9a-e4de-4679-a688-678121e7fd03" model="qwen2-5-7b-instruct"
I0305 06:39:25.738254       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:25.738261       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:25.738264       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:25.738306       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:25.738324       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:25.738329       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:25.759944       1 gateway.go:608] "First token received" requestID="bd692995-25cd-4b30-b0f2-6f68c8d13180" ttft_ms=181
I0305 06:39:25.786927       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 7598
I0305 06:39:25.786947       1 tree.go:471] Updated node(0) last access: 123.8849 seconds
I0305 06:39:25.786953       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:25.786956       1 tree.go:471] Updated node(2) last access: 123.8849 seconds
I0305 06:39:25.786979       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:25.786984       1 tree.go:471] Updated node(18) last access: 123.8849 seconds
I0305 06:39:25.786990       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:25.786994       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:25.787002       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:25.787011       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:25.787017       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:25.786996873 +0000 UTC m=+124.003723736]
I0305 06:39:25.787037       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:25.787044       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:25.787068       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7478
I0305 06:39:25.787077       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:25.787085       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.787089       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.787094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.787100       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:25.787111       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:25.787121       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:25.787133       1 prefix_cache_and_load.go:584] latency, Route, 0.0489
I0305 06:39:25.787142       1 gateway.go:415] latency, selectTargetPod, 0.0489, target pod, 10.0.0.131:8000
I0305 06:39:25.787152       1 gateway.go:235] latency, HandleRequestBody, 0.0492
I0305 06:39:25.806082       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c4a93b9a-e4de-4679-a688-678121e7fd03"
I0305 06:39:25.838780       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5ff5c5d8, selectedpod, 10.0.1.47:8000, ttft, 114, tpot, 23, e2e, 322, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:25.838799       1 gateway.go:748] "Request completed" requestID="0765a54f-cd7c-4127-888a-837d23749c32" targetPod="10.0.1.47:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:25.838810       1 gateway.go:764] "HandleResponseBody completed" requestID="0765a54f-cd7c-4127-888a-837d23749c32" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:25.849687       1 gateway.go:608] "First token received" requestID="c4a93b9a-e4de-4679-a688-678121e7fd03" ttft_ms=111
I0305 06:39:25.852351       1 gateway.go:562] latency, 0.0000, summary, hash(request), d5188f6e, selectedpod, 10.0.1.28:8000, ttft, 129, tpot, 18, e2e, 300, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:25.852371       1 gateway.go:748] "Request completed" requestID="13895d99-7358-4d60-935f-a1c88c9515f9" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:25.852383       1 gateway.go:764] "HandleResponseBody completed" requestID="13895d99-7358-4d60-935f-a1c88c9515f9" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:25.905109       1 gateway.go:207] "Processing request" requestID="52698052-a946-4634-b9e6-664dc7ae4c20"
I0305 06:39:25.905130       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="52698052-a946-4634-b9e6-664dc7ae4c20"
I0305 06:39:25.905139       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:25.936029       1 gateway.go:562] latency, 0.0000, summary, hash(request), bc011e95, selectedpod, 10.0.1.47:8000, ttft, 181, tpot, 19, e2e, 357, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:25.936047       1 gateway.go:748] "Request completed" requestID="bd692995-25cd-4b30-b0f2-6f68c8d13180" targetPod="10.0.1.47:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:25.936058       1 gateway.go:764] "HandleResponseBody completed" requestID="bd692995-25cd-4b30-b0f2-6f68c8d13180" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:25.963155       1 gateway.go:207] "Processing request" requestID="345a29a0-dfb9-4727-a8e4-7ab11c7a9a7d"
I0305 06:39:25.963186       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="345a29a0-dfb9-4727-a8e4-7ab11c7a9a7d"
I0305 06:39:25.963193       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:26.009639       1 gateway.go:329] "-- In RequestBody processing ..." requestID="345a29a0-dfb9-4727-a8e4-7ab11c7a9a7d"
I0305 06:39:26.009843       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="345a29a0-dfb9-4727-a8e4-7ab11c7a9a7d" model="qwen2-5-7b-instruct"
I0305 06:39:26.009921       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:26.009928       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:26.009931       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:26.009982       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:26.009998       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:26.010004       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:26.022951       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d5a1259, selectedpod, 10.0.0.131:8000, ttft, 111, tpot, 19, e2e, 284, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:26.022980       1 gateway.go:748] "Request completed" requestID="c4a93b9a-e4de-4679-a688-678121e7fd03" targetPod="10.0.0.131:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:26.022990       1 gateway.go:764] "HandleResponseBody completed" requestID="c4a93b9a-e4de-4679-a688-678121e7fd03" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:26.061130       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0511, numInputTokens, 7599
I0305 06:39:26.061149       1 tree.go:471] Updated node(0) last access: 124.1591 seconds
I0305 06:39:26.061155       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:26.061158       1 tree.go:471] Updated node(2) last access: 124.1591 seconds
I0305 06:39:26.061172       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:26.061175       1 tree.go:471] Updated node(53) last access: 124.1591 seconds
I0305 06:39:26.061182       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:26.061186       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:26.061193       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:26.061201       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:26.061205       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:26.061189217 +0000 UTC m=+124.277916082]
I0305 06:39:26.061221       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:26.061228       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:26.061252       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:26.061261       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:26.061267       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.061275       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.061282       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.061288       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.061297       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:26.061307       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:26.061316       1 prefix_cache_and_load.go:584] latency, Route, 0.0514
I0305 06:39:26.061326       1 gateway.go:415] latency, selectTargetPod, 0.0514, target pod, 10.0.0.34:8000
I0305 06:39:26.061337       1 gateway.go:235] latency, HandleRequestBody, 0.0517
I0305 06:39:26.082282       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="345a29a0-dfb9-4727-a8e4-7ab11c7a9a7d"
I0305 06:39:26.107178       1 gateway.go:207] "Processing request" requestID="2bf87dee-00b6-48b9-ada4-35ea0da4789f"
I0305 06:39:26.107209       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2bf87dee-00b6-48b9-ada4-35ea0da4789f"
I0305 06:39:26.107217       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:26.121388       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2bf87dee-00b6-48b9-ada4-35ea0da4789f"
I0305 06:39:26.121619       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2bf87dee-00b6-48b9-ada4-35ea0da4789f" model="qwen2-5-7b-instruct"
I0305 06:39:26.121695       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:26.121702       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:26.121706       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:26.121748       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:26.121765       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:26.121769       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:26.129118       1 gateway.go:608] "First token received" requestID="345a29a0-dfb9-4727-a8e4-7ab11c7a9a7d" ttft_ms=119
I0305 06:39:26.171414       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0496, numInputTokens, 7602
I0305 06:39:26.171430       1 tree.go:471] Updated node(0) last access: 124.2694 seconds
I0305 06:39:26.171436       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:26.171439       1 tree.go:471] Updated node(2) last access: 124.2694 seconds
I0305 06:39:26.171453       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:26.171457       1 tree.go:471] Updated node(4) last access: 124.2694 seconds
I0305 06:39:26.171461       1 tree.go:490] Partial tokens match child node(58). Continue to go deeper in the radix tree
I0305 06:39:26.171465       1 tree.go:471] Updated node(58) last access: 124.2694 seconds
I0305 06:39:26.171469       1 tree.go:484] Entire input tokens match the child node(28)
I0305 06:39:26.171472       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:26.171480       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:26.171487       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:26.171492       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:26.171476023 +0000 UTC m=+124.388202888 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:16.174190475 +0000 UTC m=+114.390917344]
I0305 06:39:26.171508       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:26.171529       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:26.171560       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7602
I0305 06:39:26.171569       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:26.171578       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.171583       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.171587       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.171591       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.171596       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.171603       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:26.171611       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:26.171621       1 prefix_cache_and_load.go:584] latency, Route, 0.0499
I0305 06:39:26.171631       1 gateway.go:415] latency, selectTargetPod, 0.0499, target pod, 10.0.1.47:8000
I0305 06:39:26.171641       1 gateway.go:235] latency, HandleRequestBody, 0.0503
I0305 06:39:26.191587       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2bf87dee-00b6-48b9-ada4-35ea0da4789f"
I0305 06:39:26.223655       1 gateway.go:608] "First token received" requestID="2bf87dee-00b6-48b9-ada4-35ea0da4789f" ttft_ms=102
I0305 06:39:26.232627       1 gateway.go:207] "Processing request" requestID="82edc219-24d6-4fa9-b752-72360eb98ebc"
I0305 06:39:26.232647       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="82edc219-24d6-4fa9-b752-72360eb98ebc"
I0305 06:39:26.232655       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:26.298461       1 gateway.go:562] latency, 0.0000, summary, hash(request), 19023eb8, selectedpod, 10.0.0.34:8000, ttft, 119, tpot, 18, e2e, 288, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:26.298478       1 gateway.go:748] "Request completed" requestID="345a29a0-dfb9-4727-a8e4-7ab11c7a9a7d" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:26.298487       1 gateway.go:764] "HandleResponseBody completed" requestID="345a29a0-dfb9-4727-a8e4-7ab11c7a9a7d" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:26.327885       1 gateway.go:207] "Processing request" requestID="be2589e9-1a06-4c1b-be6b-fd34f0914846"
I0305 06:39:26.327914       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="be2589e9-1a06-4c1b-be6b-fd34f0914846"
I0305 06:39:26.327923       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:26.396725       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90a27b07, selectedpod, 10.0.1.47:8000, ttft, 102, tpot, 19, e2e, 275, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:26.396742       1 gateway.go:748] "Request completed" requestID="2bf87dee-00b6-48b9-ada4-35ea0da4789f" targetPod="10.0.1.47:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:26.396752       1 gateway.go:764] "HandleResponseBody completed" requestID="2bf87dee-00b6-48b9-ada4-35ea0da4789f" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:26.435386       1 gateway.go:207] "Processing request" requestID="251c5558-3c25-4636-9717-7b3d65b092a6"
I0305 06:39:26.435407       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="251c5558-3c25-4636-9717-7b3d65b092a6"
I0305 06:39:26.435414       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:26.556584       1 gateway.go:207] "Processing request" requestID="e0e06794-d31b-464f-89ab-ace1e3251cf0"
I0305 06:39:26.556610       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e0e06794-d31b-464f-89ab-ace1e3251cf0"
I0305 06:39:26.556621       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:26.568287       1 gateway.go:329] "-- In RequestBody processing ..." requestID="52698052-a946-4634-b9e6-664dc7ae4c20"
I0305 06:39:26.568508       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="52698052-a946-4634-b9e6-664dc7ae4c20" model="qwen2-5-7b-instruct"
I0305 06:39:26.568614       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:26.568621       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:26.568625       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:26.568667       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:26.568686       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:26.568691       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:26.621278       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0526, numInputTokens, 7602
I0305 06:39:26.621301       1 tree.go:471] Updated node(0) last access: 124.7192 seconds
I0305 06:39:26.621307       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:26.621310       1 tree.go:471] Updated node(2) last access: 124.7193 seconds
I0305 06:39:26.621323       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:26.621326       1 tree.go:471] Updated node(51) last access: 124.7193 seconds
I0305 06:39:26.621330       1 tree.go:484] Entire input tokens match the child node(29)
I0305 06:39:26.621335       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:26.621341       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:26.621347       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:26.621353       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:26.621337337 +0000 UTC m=+124.838064201 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:16.990003887 +0000 UTC m=+115.206730752]
I0305 06:39:26.621372       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:26.621380       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:26.621404       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7602
I0305 06:39:26.621413       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:26.621420       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.621426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.621430       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.621435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:26.621442       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:26.621450       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:26.621462       1 prefix_cache_and_load.go:584] latency, Route, 0.0528
I0305 06:39:26.621471       1 gateway.go:415] latency, selectTargetPod, 0.0529, target pod, 10.0.1.28:8000
I0305 06:39:26.621508       1 gateway.go:235] latency, HandleRequestBody, 0.0532
I0305 06:39:26.637261       1 gateway.go:207] "Processing request" requestID="76a2864e-32ac-4f5e-afb1-ed3afb158d4c"
I0305 06:39:26.637296       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="76a2864e-32ac-4f5e-afb1-ed3afb158d4c"
I0305 06:39:26.637305       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:26.640892       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="52698052-a946-4634-b9e6-664dc7ae4c20"
I0305 06:39:26.672561       1 gateway.go:608] "First token received" requestID="52698052-a946-4634-b9e6-664dc7ae4c20" ttft_ms=104
I0305 06:39:26.742896       1 gateway.go:207] "Processing request" requestID="9512e104-b5f7-4e92-a8ca-39110cc5144d"
I0305 06:39:26.742928       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9512e104-b5f7-4e92-a8ca-39110cc5144d"
I0305 06:39:26.742936       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:26.819371       1 gateway.go:207] "Processing request" requestID="744f474a-12a0-4021-9020-21c49fa63f14"
I0305 06:39:26.819396       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="744f474a-12a0-4021-9020-21c49fa63f14"
I0305 06:39:26.819405       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:26.845699       1 gateway.go:562] latency, 0.0000, summary, hash(request), b76af349, selectedpod, 10.0.1.28:8000, ttft, 104, tpot, 19, e2e, 277, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:26.845715       1 gateway.go:748] "Request completed" requestID="52698052-a946-4634-b9e6-664dc7ae4c20" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:26.845724       1 gateway.go:764] "HandleResponseBody completed" requestID="52698052-a946-4634-b9e6-664dc7ae4c20" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:26.914020       1 gateway.go:207] "Processing request" requestID="fd30acfb-6d76-40a1-b2da-69949ed03537"
I0305 06:39:26.914046       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fd30acfb-6d76-40a1-b2da-69949ed03537"
I0305 06:39:26.914055       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:26.985957       1 gateway.go:207] "Processing request" requestID="58390ad8-fca0-4237-857e-92ebc1301992"
I0305 06:39:26.985997       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="58390ad8-fca0-4237-857e-92ebc1301992"
I0305 06:39:26.986005       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:27.075163       1 gateway.go:207] "Processing request" requestID="5f440740-add7-4f47-a4c9-103262d377fe"
I0305 06:39:27.075190       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5f440740-add7-4f47-a4c9-103262d377fe"
I0305 06:39:27.075197       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:27.173966       1 gateway.go:207] "Processing request" requestID="26054c0e-853b-48a5-af35-ff92b87ca668"
I0305 06:39:27.174003       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="26054c0e-853b-48a5-af35-ff92b87ca668"
I0305 06:39:27.174010       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:27.259148       1 gateway.go:207] "Processing request" requestID="3a002132-e38b-4ab9-bdaa-f761ce3d2b0d"
I0305 06:39:27.259178       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3a002132-e38b-4ab9-bdaa-f761ce3d2b0d"
I0305 06:39:27.259188       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:27.341351       1 gateway.go:207] "Processing request" requestID="d4b3767e-9d39-4d27-8a14-b64e5f6b6ecb"
I0305 06:39:27.341374       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d4b3767e-9d39-4d27-8a14-b64e5f6b6ecb"
I0305 06:39:27.341383       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:27.410161       1 gateway.go:207] "Processing request" requestID="7eee613d-949d-4cad-9ff7-fcd11b5cb6d0"
I0305 06:39:27.410189       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7eee613d-949d-4cad-9ff7-fcd11b5cb6d0"
I0305 06:39:27.410197       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:27.535044       1 gateway.go:207] "Processing request" requestID="52e7c4d9-b9b8-4eab-9851-202b1af358b9"
I0305 06:39:27.535076       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="52e7c4d9-b9b8-4eab-9851-202b1af358b9"
I0305 06:39:27.535084       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:27.552622       1 gateway.go:329] "-- In RequestBody processing ..." requestID="be2589e9-1a06-4c1b-be6b-fd34f0914846"
I0305 06:39:27.552836       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="be2589e9-1a06-4c1b-be6b-fd34f0914846" model="qwen2-5-7b-instruct"
I0305 06:39:27.552913       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:27.552920       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:27.552923       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:27.552990       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:27.553008       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:27.553012       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:27.553373       1 gateway.go:329] "-- In RequestBody processing ..." requestID="82edc219-24d6-4fa9-b752-72360eb98ebc"
I0305 06:39:27.553595       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="82edc219-24d6-4fa9-b752-72360eb98ebc" model="qwen2-5-7b-instruct"
I0305 06:39:27.571029       1 gateway.go:329] "-- In RequestBody processing ..." requestID="251c5558-3c25-4636-9717-7b3d65b092a6"
I0305 06:39:27.571247       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="251c5558-3c25-4636-9717-7b3d65b092a6" model="qwen2-5-7b-instruct"
I0305 06:39:27.584429       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e0e06794-d31b-464f-89ab-ace1e3251cf0"
I0305 06:39:27.584678       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e0e06794-d31b-464f-89ab-ace1e3251cf0" model="qwen2-5-7b-instruct"
I0305 06:39:27.608290       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0553, numInputTokens, 7601
I0305 06:39:27.608311       1 tree.go:471] Updated node(0) last access: 125.7062 seconds
I0305 06:39:27.608319       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:27.608323       1 tree.go:471] Updated node(2) last access: 125.7063 seconds
I0305 06:39:27.608340       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:27.608345       1 tree.go:471] Updated node(45) last access: 125.7063 seconds
I0305 06:39:27.608354       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:27.608360       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:27.608368       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:27.608377       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:27.608384       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:27.608362406 +0000 UTC m=+125.825089271]
I0305 06:39:27.608405       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:27.608415       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:27.608443       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:27.608456       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:27.608490       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.608498       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.608505       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.608528       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.608545       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:27.608557       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:27.608571       1 prefix_cache_and_load.go:584] latency, Route, 0.0557
I0305 06:39:27.608588       1 gateway.go:415] latency, selectTargetPod, 0.0557, target pod, 10.0.0.34:8000
I0305 06:39:27.608602       1 gateway.go:235] latency, HandleRequestBody, 0.0560
I0305 06:39:27.608638       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0550
I0305 06:39:27.608643       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:27.608647       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:27.608694       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:27.608715       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:27.608720       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:27.611023       1 gateway.go:329] "-- In RequestBody processing ..." requestID="76a2864e-32ac-4f5e-afb1-ed3afb158d4c"
I0305 06:39:27.611256       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="76a2864e-32ac-4f5e-afb1-ed3afb158d4c" model="qwen2-5-7b-instruct"
I0305 06:39:27.615192       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9512e104-b5f7-4e92-a8ca-39110cc5144d"
I0305 06:39:27.615405       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9512e104-b5f7-4e92-a8ca-39110cc5144d" model="qwen2-5-7b-instruct"
I0305 06:39:27.628197       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="be2589e9-1a06-4c1b-be6b-fd34f0914846"
I0305 06:39:27.647656       1 gateway.go:329] "-- In RequestBody processing ..." requestID="744f474a-12a0-4021-9020-21c49fa63f14"
I0305 06:39:27.647883       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="744f474a-12a0-4021-9020-21c49fa63f14" model="qwen2-5-7b-instruct"
I0305 06:39:27.660857       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0521, numInputTokens, 7593
I0305 06:39:27.660873       1 tree.go:471] Updated node(0) last access: 125.7588 seconds
I0305 06:39:27.660881       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:27.660887       1 tree.go:471] Updated node(2) last access: 125.7588 seconds
I0305 06:39:27.660901       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:27.660905       1 tree.go:471] Updated node(53) last access: 125.7588 seconds
I0305 06:39:27.660909       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 06:39:27.660912       1 tree.go:471] Updated node(43) last access: 125.7589 seconds
I0305 06:39:27.660917       1 tree.go:484] Entire input tokens match the child node(30)
I0305 06:39:27.660920       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7593 tokens
I0305 06:39:27.660927       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 06:39:27.660934       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:27.660939       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:27.660922775 +0000 UTC m=+125.877649645 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:17.03966982 +0000 UTC m=+115.256396684]
I0305 06:39:27.660957       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7593, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:27.660973       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:27.661002       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7593
I0305 06:39:27.661012       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:27.661020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.661026       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.661031       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.661034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.661039       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.661049       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:27.661061       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:27.661072       1 prefix_cache_and_load.go:584] latency, Route, 0.1074
I0305 06:39:27.661086       1 gateway.go:415] latency, selectTargetPod, 0.1074, target pod, 10.0.0.34:8000
I0305 06:39:27.661095       1 gateway.go:235] latency, HandleRequestBody, 0.1077
I0305 06:39:27.661122       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0898
I0305 06:39:27.661127       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:27.661130       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:27.661168       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:27.661187       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:27.661192       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:27.671849       1 gateway.go:608] "First token received" requestID="be2589e9-1a06-4c1b-be6b-fd34f0914846" ttft_ms=119
I0305 06:39:27.672022       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fd30acfb-6d76-40a1-b2da-69949ed03537"
I0305 06:39:27.672263       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fd30acfb-6d76-40a1-b2da-69949ed03537" model="qwen2-5-7b-instruct"
I0305 06:39:27.681467       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="82edc219-24d6-4fa9-b752-72360eb98ebc"
I0305 06:39:27.692645       1 gateway.go:329] "-- In RequestBody processing ..." requestID="58390ad8-fca0-4237-857e-92ebc1301992"
I0305 06:39:27.692869       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="58390ad8-fca0-4237-857e-92ebc1301992" model="qwen2-5-7b-instruct"
I0305 06:39:27.714011       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5f440740-add7-4f47-a4c9-103262d377fe"
I0305 06:39:27.714238       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5f440740-add7-4f47-a4c9-103262d377fe" model="qwen2-5-7b-instruct"
I0305 06:39:27.723318       1 gateway.go:608] "First token received" requestID="82edc219-24d6-4fa9-b752-72360eb98ebc" ttft_ms=169
I0305 06:39:27.725264       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0641, numInputTokens, 7599
I0305 06:39:27.725282       1 tree.go:471] Updated node(0) last access: 125.8232 seconds
I0305 06:39:27.725289       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:27.725294       1 tree.go:471] Updated node(2) last access: 125.8232 seconds
I0305 06:39:27.725308       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:27.725312       1 tree.go:471] Updated node(26) last access: 125.8233 seconds
I0305 06:39:27.725319       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:27.725325       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:27.725331       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:27.725338       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:27.725343       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:27.725326853 +0000 UTC m=+125.942053725]
I0305 06:39:27.725358       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:27.725366       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:27.725401       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7478
I0305 06:39:27.725414       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:27.725427       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.725436       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.725442       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.725445       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.725457       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:27.725468       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:27.725481       1 prefix_cache_and_load.go:584] latency, Route, 0.1541
I0305 06:39:27.725495       1 gateway.go:415] latency, selectTargetPod, 0.1542, target pod, 10.0.3.41:8000
I0305 06:39:27.725507       1 gateway.go:235] latency, HandleRequestBody, 0.1545
I0305 06:39:27.725528       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1408
I0305 06:39:27.725541       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:27.725546       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:27.725631       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:27.725672       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:27.725682       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:27.741817       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="251c5558-3c25-4636-9717-7b3d65b092a6"
I0305 06:39:27.741941       1 gateway.go:329] "-- In RequestBody processing ..." requestID="26054c0e-853b-48a5-af35-ff92b87ca668"
I0305 06:39:27.742142       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="26054c0e-853b-48a5-af35-ff92b87ca668" model="qwen2-5-7b-instruct"
I0305 06:39:27.760764       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d4b3767e-9d39-4d27-8a14-b64e5f6b6ecb"
I0305 06:39:27.760852       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3a002132-e38b-4ab9-bdaa-f761ce3d2b0d"
I0305 06:39:27.761002       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d4b3767e-9d39-4d27-8a14-b64e5f6b6ecb" model="qwen2-5-7b-instruct"
I0305 06:39:27.761096       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3a002132-e38b-4ab9-bdaa-f761ce3d2b0d" model="qwen2-5-7b-instruct"
I0305 06:39:27.785724       1 gateway.go:608] "First token received" requestID="251c5558-3c25-4636-9717-7b3d65b092a6" ttft_ms=214
I0305 06:39:27.785826       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0601, numInputTokens, 7599
I0305 06:39:27.785844       1 tree.go:471] Updated node(0) last access: 125.8838 seconds
I0305 06:39:27.785850       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:27.785854       1 tree.go:471] Updated node(2) last access: 125.8838 seconds
I0305 06:39:27.785869       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:27.785872       1 tree.go:471] Updated node(12) last access: 125.8838 seconds
I0305 06:39:27.785878       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:27.785884       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:27.785891       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:27.785898       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:27.785903       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:27.785886242 +0000 UTC m=+126.002613107]
I0305 06:39:27.785918       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:27.785924       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:27.785953       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7478
I0305 06:39:27.785963       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:27.785979       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.785984       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.785989       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.785993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.786001       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:27.786014       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:27.786023       1 prefix_cache_and_load.go:584] latency, Route, 0.2013
I0305 06:39:27.786037       1 gateway.go:415] latency, selectTargetPod, 0.2013, target pod, 10.0.0.39:8000
I0305 06:39:27.786044       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1747
I0305 06:39:27.786049       1 gateway.go:235] latency, HandleRequestBody, 0.2016
I0305 06:39:27.786052       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:27.786055       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:27.786107       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:27.786127       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:27.786132       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:27.786913       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7eee613d-949d-4cad-9ff7-fcd11b5cb6d0"
I0305 06:39:27.787140       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7eee613d-949d-4cad-9ff7-fcd11b5cb6d0" model="qwen2-5-7b-instruct"
I0305 06:39:27.803128       1 gateway.go:329] "-- In RequestBody processing ..." requestID="52e7c4d9-b9b8-4eab-9851-202b1af358b9"
I0305 06:39:27.803374       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="52e7c4d9-b9b8-4eab-9851-202b1af358b9" model="qwen2-5-7b-instruct"
I0305 06:39:27.805307       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e0e06794-d31b-464f-89ab-ace1e3251cf0"
I0305 06:39:27.836755       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0506, numInputTokens, 7600
I0305 06:39:27.836771       1 tree.go:471] Updated node(0) last access: 125.9347 seconds
I0305 06:39:27.836778       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:27.836782       1 tree.go:471] Updated node(2) last access: 125.9347 seconds
I0305 06:39:27.836796       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:27.836800       1 tree.go:471] Updated node(23) last access: 125.9347 seconds
I0305 06:39:27.836807       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:27.836812       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:27.836818       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:27.836823       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:27.836830       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:27.836813781 +0000 UTC m=+126.053540646]
I0305 06:39:27.836844       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:27.836851       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:27.836877       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7478
I0305 06:39:27.836886       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:27.836894       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.836899       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.836904       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.836909       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.836916       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:27.836924       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:27.836933       1 prefix_cache_and_load.go:584] latency, Route, 0.2256
I0305 06:39:27.836946       1 gateway.go:415] latency, selectTargetPod, 0.2256, target pod, 10.0.3.42:8000
I0305 06:39:27.836957       1 gateway.go:235] latency, HandleRequestBody, 0.2259
I0305 06:39:27.836961       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2215
I0305 06:39:27.836977       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:27.836981       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:27.837058       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:27.837087       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:27.837095       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:27.849179       1 gateway.go:608] "First token received" requestID="e0e06794-d31b-464f-89ab-ace1e3251cf0" ttft_ms=264
I0305 06:39:27.853494       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="76a2864e-32ac-4f5e-afb1-ed3afb158d4c"
I0305 06:39:27.882654       1 gateway.go:562] latency, 0.0000, summary, hash(request), b9e451db, selectedpod, 10.0.0.34:8000, ttft, 119, tpot, 23, e2e, 329, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:27.882675       1 gateway.go:748] "Request completed" requestID="be2589e9-1a06-4c1b-be6b-fd34f0914846" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:27.882688       1 gateway.go:764] "HandleResponseBody completed" requestID="be2589e9-1a06-4c1b-be6b-fd34f0914846" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:27.897563       1 gateway.go:608] "First token received" requestID="76a2864e-32ac-4f5e-afb1-ed3afb158d4c" ttft_ms=286
I0305 06:39:27.902672       1 gateway.go:562] latency, 0.0000, summary, hash(request), d7c7ec98, selectedpod, 10.0.0.34:8000, ttft, 169, tpot, 19, e2e, 349, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 06:39:27.902685       1 gateway.go:748] "Request completed" requestID="82edc219-24d6-4fa9-b752-72360eb98ebc" targetPod="10.0.0.34:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 06:39:27.902692       1 gateway.go:764] "HandleResponseBody completed" requestID="82edc219-24d6-4fa9-b752-72360eb98ebc" promptTokens=7612 completionTokens=10 stream=true
I0305 06:39:27.927367       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0903, numInputTokens, 7597
I0305 06:39:27.927387       1 tree.go:471] Updated node(0) last access: 126.0253 seconds
I0305 06:39:27.927393       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:27.927396       1 tree.go:471] Updated node(2) last access: 126.0253 seconds
I0305 06:39:27.927410       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:27.927414       1 tree.go:471] Updated node(31) last access: 126.0254 seconds
I0305 06:39:27.927418       1 tree.go:484] Entire input tokens match the child node(32)
I0305 06:39:27.927421       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:39:27.927427       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:27.927433       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:27.927438       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:27.927423051 +0000 UTC m=+126.144149922 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:17.775725969 +0000 UTC m=+115.992452834]
I0305 06:39:27.927456       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:27.927463       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:27.927490       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7597
I0305 06:39:27.927505       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:27.927524       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.927532       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.927537       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.927542       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:27.927551       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:27.927559       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:27.927568       1 prefix_cache_and_load.go:584] latency, Route, 0.3121
I0305 06:39:27.927583       1 gateway.go:415] latency, selectTargetPod, 0.3121, target pod, 10.0.1.28:8000
I0305 06:39:27.927597       1 gateway.go:235] latency, HandleRequestBody, 0.3124
I0305 06:39:27.927597       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2796
I0305 06:39:27.927612       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:27.927618       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:27.927681       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:27.927702       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:27.927707       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:27.947093       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9512e104-b5f7-4e92-a8ca-39110cc5144d"
I0305 06:39:27.958436       1 gateway.go:562] latency, 0.0000, summary, hash(request), e264593e, selectedpod, 10.0.3.41:8000, ttft, 214, tpot, 19, e2e, 387, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:27.958453       1 gateway.go:748] "Request completed" requestID="251c5558-3c25-4636-9717-7b3d65b092a6" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:27.958461       1 gateway.go:764] "HandleResponseBody completed" requestID="251c5558-3c25-4636-9717-7b3d65b092a6" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:27.972841       1 gateway.go:608] "First token received" requestID="9512e104-b5f7-4e92-a8ca-39110cc5144d" ttft_ms=357
I0305 06:39:28.014361       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0866, numInputTokens, 7598
I0305 06:39:28.014378       1 tree.go:471] Updated node(0) last access: 126.1123 seconds
I0305 06:39:28.014385       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.014388       1 tree.go:471] Updated node(2) last access: 126.1123 seconds
I0305 06:39:28.014403       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:28.014408       1 tree.go:471] Updated node(26) last access: 126.1123 seconds
I0305 06:39:28.014413       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:39:28.014417       1 tree.go:471] Updated node(36) last access: 126.1124 seconds
I0305 06:39:28.014426       1 tree.go:667] Split complete - New node(71)
I0305 06:39:28.014430       1 tree.go:668] Split complete - Child node(37)
I0305 06:39:28.014435       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:39:28.014439       1 tree.go:471] Updated node(71) last access: 126.1124 seconds
I0305 06:39:28.014444       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:39:28.014447       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:28.014455       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:28.014461       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:28.014465       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.014451059 +0000 UTC m=+126.231177923]
I0305 06:39:28.014484       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7485, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:39:28.014494       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:39:28.014541       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7485
I0305 06:39:28.014554       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:28.014566       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.014574       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.014578       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.014581       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.014585       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.014589       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.014599       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.014607       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:28.014616       1 prefix_cache_and_load.go:584] latency, Route, 0.3667
I0305 06:39:28.014629       1 gateway.go:415] latency, selectTargetPod, 0.3667, target pod, 10.0.3.41:8000
I0305 06:39:28.014643       1 gateway.go:235] latency, HandleRequestBody, 0.3670
I0305 06:39:28.014668       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3423
I0305 06:39:28.014682       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.014685       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.014748       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.014773       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:28.014779       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.023106       1 gateway.go:562] latency, 0.0000, summary, hash(request), 253afa9c, selectedpod, 10.0.0.39:8000, ttft, 264, tpot, 19, e2e, 438, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:28.023124       1 gateway.go:748] "Request completed" requestID="e0e06794-d31b-464f-89ab-ace1e3251cf0" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:28.023134       1 gateway.go:764] "HandleResponseBody completed" requestID="e0e06794-d31b-464f-89ab-ace1e3251cf0" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:28.030734       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="744f474a-12a0-4021-9020-21c49fa63f14"
I0305 06:39:28.066118       1 gateway.go:608] "First token received" requestID="744f474a-12a0-4021-9020-21c49fa63f14" ttft_ms=418
I0305 06:39:28.070392       1 gateway.go:562] latency, 0.0000, summary, hash(request), 113b8978, selectedpod, 10.0.3.42:8000, ttft, 286, tpot, 19, e2e, 459, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:28.070413       1 gateway.go:748] "Request completed" requestID="76a2864e-32ac-4f5e-afb1-ed3afb158d4c" targetPod="10.0.3.42:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:28.070425       1 gateway.go:764] "HandleResponseBody completed" requestID="76a2864e-32ac-4f5e-afb1-ed3afb158d4c" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:28.099600       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0848, numInputTokens, 7601
I0305 06:39:28.099619       1 tree.go:471] Updated node(0) last access: 126.1976 seconds
I0305 06:39:28.099625       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.099629       1 tree.go:471] Updated node(2) last access: 126.1976 seconds
I0305 06:39:28.099641       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:28.099644       1 tree.go:471] Updated node(18) last access: 126.1976 seconds
I0305 06:39:28.099649       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:28.099655       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:28.099662       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:28.099667       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:28.099673       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.099657269 +0000 UTC m=+126.316384134]
I0305 06:39:28.099688       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:28.099694       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:28.099721       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7478
I0305 06:39:28.099731       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.099740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.099747       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.099751       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.099756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.099765       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.099774       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:28.099785       1 prefix_cache_and_load.go:584] latency, Route, 0.4274
I0305 06:39:28.099799       1 gateway.go:415] latency, selectTargetPod, 0.4274, target pod, 10.0.0.131:8000
I0305 06:39:28.099810       1 gateway.go:235] latency, HandleRequestBody, 0.4278
I0305 06:39:28.099841       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4069
I0305 06:39:28.099845       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.099848       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.099881       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.099899       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:28.099903       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.112710       1 gateway.go:207] "Processing request" requestID="738861b1-8805-402a-b621-9f9cbdf62667"
I0305 06:39:28.112733       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="738861b1-8805-402a-b621-9f9cbdf62667"
I0305 06:39:28.112742       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:28.119347       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fd30acfb-6d76-40a1-b2da-69949ed03537"
I0305 06:39:28.145704       1 gateway.go:562] latency, 0.0000, summary, hash(request), fc7585eb, selectedpod, 10.0.1.28:8000, ttft, 357, tpot, 19, e2e, 530, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:28.145723       1 gateway.go:748] "Request completed" requestID="9512e104-b5f7-4e92-a8ca-39110cc5144d" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:28.145733       1 gateway.go:764] "HandleResponseBody completed" requestID="9512e104-b5f7-4e92-a8ca-39110cc5144d" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:28.148749       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 7596
I0305 06:39:28.148767       1 tree.go:471] Updated node(0) last access: 126.2467 seconds
I0305 06:39:28.148773       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.148777       1 tree.go:471] Updated node(2) last access: 126.2467 seconds
I0305 06:39:28.148790       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:28.148794       1 tree.go:471] Updated node(23) last access: 126.2467 seconds
I0305 06:39:28.148801       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:28.148808       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 06:39:28.148816       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:28.148824       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:28.148831       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.148811224 +0000 UTC m=+126.365538104]
I0305 06:39:28.148850       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:28.148858       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:28.148885       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7478
I0305 06:39:28.148894       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.148901       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.148906       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.148911       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.148915       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.148930       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.148938       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:28.148947       1 prefix_cache_and_load.go:584] latency, Route, 0.4560
I0305 06:39:28.148960       1 gateway.go:415] latency, selectTargetPod, 0.4560, target pod, 10.0.3.42:8000
I0305 06:39:28.148976       1 gateway.go:235] latency, HandleRequestBody, 0.4563
I0305 06:39:28.148976       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4346
I0305 06:39:28.149005       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.149010       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.149078       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.149101       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:28.149107       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.158607       1 gateway.go:329] "-- In RequestBody processing ..." requestID="738861b1-8805-402a-b621-9f9cbdf62667"
I0305 06:39:28.158859       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="738861b1-8805-402a-b621-9f9cbdf62667" model="qwen2-5-7b-instruct"
I0305 06:39:28.163111       1 gateway.go:608] "First token received" requestID="fd30acfb-6d76-40a1-b2da-69949ed03537" ttft_ms=491
I0305 06:39:28.164756       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="58390ad8-fca0-4237-857e-92ebc1301992"
I0305 06:39:28.199834       1 gateway.go:608] "First token received" requestID="58390ad8-fca0-4237-857e-92ebc1301992" ttft_ms=507
I0305 06:39:28.220823       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0717, numInputTokens, 7596
I0305 06:39:28.220843       1 tree.go:471] Updated node(0) last access: 126.3188 seconds
I0305 06:39:28.220849       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.220853       1 tree.go:471] Updated node(2) last access: 126.3188 seconds
I0305 06:39:28.220865       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:28.220869       1 tree.go:471] Updated node(26) last access: 126.3188 seconds
I0305 06:39:28.220878       1 tree.go:667] Split complete - New node(75)
I0305 06:39:28.220882       1 tree.go:668] Split complete - Child node(68)
I0305 06:39:28.220887       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:39:28.220892       1 tree.go:471] Updated node(75) last access: 126.3188 seconds
I0305 06:39:28.220897       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 06:39:28.220902       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:28.220908       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:28.220915       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:28.220949       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.220904445 +0000 UTC m=+126.437631310]
I0305 06:39:28.220964       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7484, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 06:39:28.220982       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 06:39:28.221013       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7484
I0305 06:39:28.221022       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.221030       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.221036       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.221041       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.221045       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.221048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.221059       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.221069       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:28.221080       1 prefix_cache_and_load.go:584] latency, Route, 0.5067
I0305 06:39:28.221095       1 gateway.go:415] latency, selectTargetPod, 0.5067, target pod, 10.0.3.41:8000
I0305 06:39:28.221108       1 gateway.go:235] latency, HandleRequestBody, 0.5071
I0305 06:39:28.221107       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4789
I0305 06:39:28.221117       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.221124       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.221198       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.221224       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:28.221229       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.236758       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5f440740-add7-4f47-a4c9-103262d377fe"
I0305 06:39:28.239066       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7489be7b, selectedpod, 10.0.3.41:8000, ttft, 418, tpot, 19, e2e, 591, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:28.239085       1 gateway.go:748] "Request completed" requestID="744f474a-12a0-4021-9020-21c49fa63f14" targetPod="10.0.3.41:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:28.239095       1 gateway.go:764] "HandleResponseBody completed" requestID="744f474a-12a0-4021-9020-21c49fa63f14" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:28.247217       1 gateway.go:207] "Processing request" requestID="67547de8-d337-47bb-b274-e9e21a5d0542"
I0305 06:39:28.247236       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="67547de8-d337-47bb-b274-e9e21a5d0542"
I0305 06:39:28.247245       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:28.282256       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0610, numInputTokens, 7602
I0305 06:39:28.282273       1 tree.go:471] Updated node(0) last access: 126.3802 seconds
I0305 06:39:28.282279       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.282283       1 tree.go:471] Updated node(2) last access: 126.3802 seconds
I0305 06:39:28.282296       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:28.282300       1 tree.go:471] Updated node(31) last access: 126.3802 seconds
I0305 06:39:28.282304       1 tree.go:484] Entire input tokens match the child node(33)
I0305 06:39:28.282310       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:28.282316       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:28.282324       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:28.282328       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.282311795 +0000 UTC m=+126.499038659 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:18.48607539 +0000 UTC m=+116.702802255]
I0305 06:39:28.282347       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:28.282356       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:28.282391       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7602
I0305 06:39:28.282400       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.282407       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.282413       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.282417       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.282422       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.282433       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.282441       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:28.282450       1 prefix_cache_and_load.go:584] latency, Route, 0.5402
I0305 06:39:28.282463       1 gateway.go:415] latency, selectTargetPod, 0.5402, target pod, 10.0.1.28:8000
I0305 06:39:28.282472       1 gateway.go:235] latency, HandleRequestBody, 0.5405
I0305 06:39:28.282501       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5214
I0305 06:39:28.282506       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.282510       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.282555       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.282573       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:28.282578       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.290709       1 gateway.go:608] "First token received" requestID="5f440740-add7-4f47-a4c9-103262d377fe" ttft_ms=576
I0305 06:39:28.290768       1 gateway.go:329] "-- In RequestBody processing ..." requestID="67547de8-d337-47bb-b274-e9e21a5d0542"
I0305 06:39:28.290992       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="67547de8-d337-47bb-b274-e9e21a5d0542" model="qwen2-5-7b-instruct"
I0305 06:39:28.300526       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="26054c0e-853b-48a5-af35-ff92b87ca668"
I0305 06:39:28.331623       1 gateway.go:608] "First token received" requestID="26054c0e-853b-48a5-af35-ff92b87ca668" ttft_ms=589
I0305 06:39:28.333616       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0510, numInputTokens, 7594
I0305 06:39:28.333632       1 tree.go:471] Updated node(0) last access: 126.4316 seconds
I0305 06:39:28.333640       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.333646       1 tree.go:471] Updated node(2) last access: 126.4316 seconds
I0305 06:39:28.333659       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:28.333664       1 tree.go:471] Updated node(18) last access: 126.4316 seconds
I0305 06:39:28.333673       1 tree.go:667] Split complete - New node(77)
I0305 06:39:28.333677       1 tree.go:668] Split complete - Child node(41)
I0305 06:39:28.333681       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 06:39:28.333687       1 tree.go:471] Updated node(77) last access: 126.4316 seconds
I0305 06:39:28.333692       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:28.333697       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 06:39:28.333702       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:39:28.333708       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:28.333718       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.333698561 +0000 UTC m=+126.550425426]
I0305 06:39:28.333733       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7479, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:28.333740       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:28.333768       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7479
I0305 06:39:28.333777       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.333784       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.333792       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.333800       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.333806       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.333809       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.333820       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.333829       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:28.333838       1 prefix_cache_and_load.go:584] latency, Route, 0.5728
I0305 06:39:28.333852       1 gateway.go:415] latency, selectTargetPod, 0.5728, target pod, 10.0.0.131:8000
I0305 06:39:28.333864       1 gateway.go:235] latency, HandleRequestBody, 0.5731
I0305 06:39:28.333892       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5727
I0305 06:39:28.333897       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.333900       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.333934       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.333955       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:28.333960       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.338558       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9ff58bb6, selectedpod, 10.0.0.131:8000, ttft, 491, tpot, 19, e2e, 666, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:28.338578       1 gateway.go:748] "Request completed" requestID="fd30acfb-6d76-40a1-b2da-69949ed03537" targetPod="10.0.0.131:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:28.338590       1 gateway.go:764] "HandleResponseBody completed" requestID="fd30acfb-6d76-40a1-b2da-69949ed03537" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:28.352477       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d4b3767e-9d39-4d27-8a14-b64e5f6b6ecb"
I0305 06:39:28.361793       1 gateway.go:207] "Processing request" requestID="32b15069-6e7e-4177-8a61-f6337888531a"
I0305 06:39:28.361815       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="32b15069-6e7e-4177-8a61-f6337888531a"
I0305 06:39:28.361823       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:28.378595       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8a42d0fc, selectedpod, 10.0.3.42:8000, ttft, 507, tpot, 19, e2e, 685, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:28.378610       1 gateway.go:748] "Request completed" requestID="58390ad8-fca0-4237-857e-92ebc1301992" targetPod="10.0.3.42:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:28.378622       1 gateway.go:764] "HandleResponseBody completed" requestID="58390ad8-fca0-4237-857e-92ebc1301992" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:28.388528       1 gateway.go:608] "First token received" requestID="d4b3767e-9d39-4d27-8a14-b64e5f6b6ecb" ttft_ms=627
I0305 06:39:28.413492       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0795, numInputTokens, 7599
I0305 06:39:28.413518       1 tree.go:471] Updated node(0) last access: 126.5114 seconds
I0305 06:39:28.413527       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.413534       1 tree.go:471] Updated node(2) last access: 126.5115 seconds
I0305 06:39:28.413550       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:28.413553       1 tree.go:471] Updated node(51) last access: 126.5115 seconds
I0305 06:39:28.413560       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:28.413567       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:28.413577       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:28.413586       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:28.413593       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.41357125 +0000 UTC m=+126.630298116]
I0305 06:39:28.413612       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:28.413620       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:28.413659       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:28.413674       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.413683       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.413691       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.413696       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.413700       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.413710       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.413723       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:28.413737       1 prefix_cache_and_load.go:584] latency, Route, 0.6525
I0305 06:39:28.413753       1 gateway.go:415] latency, selectTargetPod, 0.6525, target pod, 10.0.1.28:8000
I0305 06:39:28.413767       1 gateway.go:235] latency, HandleRequestBody, 0.6529
I0305 06:39:28.413800       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6266
I0305 06:39:28.413807       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.413811       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.413865       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.413889       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:28.413896       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.432650       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3a002132-e38b-4ab9-bdaa-f761ce3d2b0d"
I0305 06:39:28.463240       1 gateway.go:562] latency, 0.0000, summary, hash(request), d8692829, selectedpod, 10.0.3.41:8000, ttft, 576, tpot, 19, e2e, 749, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:28.463260       1 gateway.go:748] "Request completed" requestID="5f440740-add7-4f47-a4c9-103262d377fe" targetPod="10.0.3.41:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:28.463270       1 gateway.go:764] "HandleResponseBody completed" requestID="5f440740-add7-4f47-a4c9-103262d377fe" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:28.473955       1 gateway.go:207] "Processing request" requestID="f588572f-24c9-4f3c-be33-5db71c876db4"
I0305 06:39:28.473992       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f588572f-24c9-4f3c-be33-5db71c876db4"
I0305 06:39:28.474001       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:28.487777       1 gateway.go:608] "First token received" requestID="3a002132-e38b-4ab9-bdaa-f761ce3d2b0d" ttft_ms=726
I0305 06:39:28.493327       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0794, numInputTokens, 7602
I0305 06:39:28.493344       1 tree.go:471] Updated node(0) last access: 126.5913 seconds
I0305 06:39:28.493350       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.493353       1 tree.go:471] Updated node(2) last access: 126.5913 seconds
I0305 06:39:28.493365       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:28.493370       1 tree.go:471] Updated node(23) last access: 126.5913 seconds
I0305 06:39:28.493380       1 tree.go:667] Split complete - New node(80)
I0305 06:39:28.493385       1 tree.go:668] Split complete - Child node(25)
I0305 06:39:28.493389       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 06:39:28.493393       1 tree.go:471] Updated node(80) last access: 126.5913 seconds
I0305 06:39:28.493397       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:28.493401       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:28.493407       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:28.493414       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:28.493418       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.49340343 +0000 UTC m=+126.710130294]
I0305 06:39:28.493433       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7486, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:28.493442       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:28.493468       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7486
I0305 06:39:28.493477       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.493484       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.493489       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.493494       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.493500       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.493504       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.493523       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.493531       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:28.493541       1 prefix_cache_and_load.go:584] latency, Route, 0.7063
I0305 06:39:28.493554       1 gateway.go:415] latency, selectTargetPod, 0.7063, target pod, 10.0.3.42:8000
I0305 06:39:28.493565       1 gateway.go:235] latency, HandleRequestBody, 0.7067
I0305 06:39:28.493593       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6901
I0305 06:39:28.493597       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.493600       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.493636       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.493654       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:28.493658       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.501989       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f588572f-24c9-4f3c-be33-5db71c876db4"
I0305 06:39:28.502200       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f588572f-24c9-4f3c-be33-5db71c876db4" model="qwen2-5-7b-instruct"
I0305 06:39:28.509090       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7eee613d-949d-4cad-9ff7-fcd11b5cb6d0"
I0305 06:39:28.541039       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0474, numInputTokens, 7600
I0305 06:39:28.541052       1 tree.go:471] Updated node(0) last access: 126.6390 seconds
I0305 06:39:28.541057       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.541060       1 tree.go:471] Updated node(2) last access: 126.6390 seconds
I0305 06:39:28.541073       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:28.541077       1 tree.go:471] Updated node(31) last access: 126.6390 seconds
I0305 06:39:28.541083       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:28.541088       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:28.541094       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:28.541099       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:28.541104       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.541090482 +0000 UTC m=+126.757817356]
I0305 06:39:28.541117       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:28.541123       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:28.541150       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:28.541159       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.541167       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.541175       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.541179       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.541184       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.541191       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.541199       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:28.541208       1 prefix_cache_and_load.go:584] latency, Route, 0.7378
I0305 06:39:28.541225       1 gateway.go:415] latency, selectTargetPod, 0.7378, target pod, 10.0.1.28:8000
I0305 06:39:28.541235       1 gateway.go:235] latency, HandleRequestBody, 0.7381
I0305 06:39:28.541270       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3823
I0305 06:39:28.541275       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.541278       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.541312       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.541329       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0305 06:39:28.541334       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.544720       1 gateway.go:608] "First token received" requestID="7eee613d-949d-4cad-9ff7-fcd11b5cb6d0" ttft_ms=757
I0305 06:39:28.549582       1 gateway.go:562] latency, 0.0000, summary, hash(request), b79bc213, selectedpod, 10.0.1.28:8000, ttft, 589, tpot, 24, e2e, 807, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:28.549605       1 gateway.go:748] "Request completed" requestID="26054c0e-853b-48a5-af35-ff92b87ca668" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:28.549618       1 gateway.go:764] "HandleResponseBody completed" requestID="26054c0e-853b-48a5-af35-ff92b87ca668" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:28.559982       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="52e7c4d9-b9b8-4eab-9851-202b1af358b9"
I0305 06:39:28.572680       1 gateway.go:207] "Processing request" requestID="78300df3-e203-465b-92bf-102ad28cb90d"
I0305 06:39:28.572709       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="78300df3-e203-465b-92bf-102ad28cb90d"
I0305 06:39:28.572719       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:28.578665       1 gateway.go:562] latency, 0.0000, summary, hash(request), 329aa8ee, selectedpod, 10.0.0.131:8000, ttft, 627, tpot, 21, e2e, 817, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:39:28.578683       1 gateway.go:748] "Request completed" requestID="d4b3767e-9d39-4d27-8a14-b64e5f6b6ecb" targetPod="10.0.0.131:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:39:28.578692       1 gateway.go:764] "HandleResponseBody completed" requestID="d4b3767e-9d39-4d27-8a14-b64e5f6b6ecb" promptTokens=7613 completionTokens=10 stream=true
I0305 06:39:28.590609       1 gateway.go:329] "-- In RequestBody processing ..." requestID="78300df3-e203-465b-92bf-102ad28cb90d"
I0305 06:39:28.590821       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="78300df3-e203-465b-92bf-102ad28cb90d" model="qwen2-5-7b-instruct"
I0305 06:39:28.609795       1 gateway.go:608] "First token received" requestID="52e7c4d9-b9b8-4eab-9851-202b1af358b9" ttft_ms=806
I0305 06:39:28.617858       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0765, numInputTokens, 7596
I0305 06:39:28.617875       1 tree.go:471] Updated node(0) last access: 126.7158 seconds
I0305 06:39:28.617883       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.617889       1 tree.go:471] Updated node(2) last access: 126.7158 seconds
I0305 06:39:28.617904       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:28.617907       1 tree.go:471] Updated node(23) last access: 126.7158 seconds
I0305 06:39:28.617917       1 tree.go:667] Split complete - New node(83)
I0305 06:39:28.617921       1 tree.go:668] Split complete - Child node(74)
I0305 06:39:28.617927       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:39:28.617932       1 tree.go:471] Updated node(83) last access: 126.7159 seconds
I0305 06:39:28.617938       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:28.617943       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:28.617948       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:28.617956       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:28.617964       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.61794469 +0000 UTC m=+126.834671555]
I0305 06:39:28.617989       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7480, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:28.617998       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:28.618028       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7480
I0305 06:39:28.618037       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.618045       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.618049       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.618054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.618058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.618065       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.618077       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.618086       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:28.618095       1 prefix_cache_and_load.go:584] latency, Route, 0.4591
I0305 06:39:28.618109       1 gateway.go:415] latency, selectTargetPod, 0.4591, target pod, 10.0.3.42:8000
I0305 06:39:28.618121       1 gateway.go:235] latency, HandleRequestBody, 0.4595
I0305 06:39:28.618121       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3270
I0305 06:39:28.618132       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.618139       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.618224       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.618251       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:28.618259       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.623416       1 gateway.go:329] "-- In RequestBody processing ..." requestID="32b15069-6e7e-4177-8a61-f6337888531a"
I0305 06:39:28.623633       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="32b15069-6e7e-4177-8a61-f6337888531a" model="qwen2-5-7b-instruct"
I0305 06:39:28.642680       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="738861b1-8805-402a-b621-9f9cbdf62667"
I0305 06:39:28.682701       1 gateway.go:207] "Processing request" requestID="40d9ca9b-e0e7-48be-bbf0-c09620f4d697"
I0305 06:39:28.682733       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="40d9ca9b-e0e7-48be-bbf0-c09620f4d697"
I0305 06:39:28.682741       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:28.683923       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0657, numInputTokens, 7596
I0305 06:39:28.683942       1 tree.go:471] Updated node(0) last access: 126.7819 seconds
I0305 06:39:28.683948       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.683951       1 tree.go:471] Updated node(2) last access: 126.7819 seconds
I0305 06:39:28.683964       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:28.683976       1 tree.go:471] Updated node(8) last access: 126.7819 seconds
I0305 06:39:28.683987       1 tree.go:667] Split complete - New node(85)
I0305 06:39:28.683991       1 tree.go:668] Split complete - Child node(20)
I0305 06:39:28.683996       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:39:28.684001       1 tree.go:471] Updated node(85) last access: 126.7819 seconds
I0305 06:39:28.684006       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:28.684010       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:28.684015       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:28.684022       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:28.684026       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.684011799 +0000 UTC m=+126.900738663]
I0305 06:39:28.684042       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7481, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:28.684049       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:28.684078       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7481
I0305 06:39:28.684088       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.684094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.684098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.684103       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.684107       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.684113       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.684121       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.684130       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:28.684142       1 prefix_cache_and_load.go:584] latency, Route, 0.3931
I0305 06:39:28.684157       1 gateway.go:415] latency, selectTargetPod, 0.3931, target pod, 10.0.1.53:8000
I0305 06:39:28.684167       1 gateway.go:235] latency, HandleRequestBody, 0.3934
I0305 06:39:28.684170       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1819
I0305 06:39:28.684179       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.684185       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.684266       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.684295       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:28.684303       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.692627       1 gateway.go:608] "First token received" requestID="738861b1-8805-402a-b621-9f9cbdf62667" ttft_ms=533
I0305 06:39:28.703023       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="67547de8-d337-47bb-b274-e9e21a5d0542"
I0305 06:39:28.714452       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1b1c7493, selectedpod, 10.0.1.28:8000, ttft, 726, tpot, 25, e2e, 953, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:28.714467       1 gateway.go:748] "Request completed" requestID="3a002132-e38b-4ab9-bdaa-f761ce3d2b0d" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:28.714476       1 gateway.go:764] "HandleResponseBody completed" requestID="3a002132-e38b-4ab9-bdaa-f761ce3d2b0d" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:28.734982       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0507, numInputTokens, 7597
I0305 06:39:28.734999       1 tree.go:471] Updated node(0) last access: 126.8329 seconds
I0305 06:39:28.735005       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.735009       1 tree.go:471] Updated node(2) last access: 126.8329 seconds
I0305 06:39:28.735019       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:28.735024       1 tree.go:471] Updated node(23) last access: 126.8330 seconds
I0305 06:39:28.735033       1 tree.go:667] Split complete - New node(87)
I0305 06:39:28.735038       1 tree.go:668] Split complete - Child node(70)
I0305 06:39:28.735043       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:39:28.735048       1 tree.go:471] Updated node(87) last access: 126.8330 seconds
I0305 06:39:28.735054       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:28.735057       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:28.735063       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:28.735069       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:28.735075       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.73505959 +0000 UTC m=+126.951786455]
I0305 06:39:28.735088       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7479, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:28.735094       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:28.735124       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7479
I0305 06:39:28.735132       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.735139       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.735144       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.735149       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.735154       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.735160       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.735167       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.735176       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:28.735186       1 prefix_cache_and_load.go:584] latency, Route, 0.2329
I0305 06:39:28.735202       1 gateway.go:415] latency, selectTargetPod, 0.2329, target pod, 10.0.3.42:8000
I0305 06:39:28.735215       1 gateway.go:235] latency, HandleRequestBody, 0.2332
I0305 06:39:28.735244       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1444
I0305 06:39:28.735248       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.735252       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.735308       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.735331       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:28.735335       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.738954       1 gateway.go:608] "First token received" requestID="67547de8-d337-47bb-b274-e9e21a5d0542" ttft_ms=448
I0305 06:39:28.778653       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f588572f-24c9-4f3c-be33-5db71c876db4"
I0305 06:39:28.778854       1 gateway.go:562] latency, 0.0001, summary, hash(request), 0bc01985, selectedpod, 10.0.3.42:8000, ttft, 757, tpot, 26, e2e, 991, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:28.778895       1 gateway.go:748] "Request completed" requestID="7eee613d-949d-4cad-9ff7-fcd11b5cb6d0" targetPod="10.0.3.42:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:28.778913       1 gateway.go:764] "HandleResponseBody completed" requestID="7eee613d-949d-4cad-9ff7-fcd11b5cb6d0" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:28.791376       1 gateway.go:562] latency, 0.0000, summary, hash(request), 754d2c24, selectedpod, 10.0.1.28:8000, ttft, 806, tpot, 20, e2e, 988, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:28.791398       1 gateway.go:748] "Request completed" requestID="52e7c4d9-b9b8-4eab-9851-202b1af358b9" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:28.791408       1 gateway.go:764] "HandleResponseBody completed" requestID="52e7c4d9-b9b8-4eab-9851-202b1af358b9" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:28.792608       1 gateway.go:207] "Processing request" requestID="f87d304e-18e4-417b-a45e-11bf8f4bcbd8"
I0305 06:39:28.792638       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f87d304e-18e4-417b-a45e-11bf8f4bcbd8"
I0305 06:39:28.792646       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:28.806447       1 gateway.go:608] "First token received" requestID="f588572f-24c9-4f3c-be33-5db71c876db4" ttft_ms=304
I0305 06:39:28.816497       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0812, numInputTokens, 7601
I0305 06:39:28.816522       1 tree.go:471] Updated node(0) last access: 126.9145 seconds
I0305 06:39:28.816528       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.816532       1 tree.go:471] Updated node(2) last access: 126.9145 seconds
I0305 06:39:28.816546       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:28.816548       1 tree.go:471] Updated node(53) last access: 126.9145 seconds
I0305 06:39:28.816551       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 06:39:28.816556       1 tree.go:471] Updated node(43) last access: 126.9145 seconds
I0305 06:39:28.816560       1 tree.go:484] Entire input tokens match the child node(47)
I0305 06:39:28.816563       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:28.816569       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:28.816576       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:28.816581       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.8165648 +0000 UTC m=+127.033291664 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:22.518423322 +0000 UTC m=+120.735150186]
I0305 06:39:28.816596       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:28.816603       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:28.816631       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7601
I0305 06:39:28.816640       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.816646       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.816651       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.816655       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.816659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.816664       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.816671       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.816681       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:28.816690       1 prefix_cache_and_load.go:584] latency, Route, 0.2258
I0305 06:39:28.816703       1 gateway.go:415] latency, selectTargetPod, 0.2258, target pod, 10.0.0.34:8000
I0305 06:39:28.816714       1 gateway.go:235] latency, HandleRequestBody, 0.2261
I0305 06:39:28.816741       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1930
I0305 06:39:28.816745       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:28.816747       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:28.816788       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:28.816808       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:28.816812       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:28.838457       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="78300df3-e203-465b-92bf-102ad28cb90d"
I0305 06:39:28.864566       1 gateway.go:207] "Processing request" requestID="747e9e21-67f2-494e-8e2e-6a95b6227427"
I0305 06:39:28.864591       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="747e9e21-67f2-494e-8e2e-6a95b6227427"
I0305 06:39:28.864599       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:28.870253       1 gateway.go:608] "First token received" requestID="78300df3-e203-465b-92bf-102ad28cb90d" ttft_ms=279
I0305 06:39:28.886918       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0701, numInputTokens, 7602
I0305 06:39:28.886934       1 tree.go:471] Updated node(0) last access: 126.9849 seconds
I0305 06:39:28.886940       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:28.886943       1 tree.go:471] Updated node(2) last access: 126.9849 seconds
I0305 06:39:28.886958       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:28.886962       1 tree.go:471] Updated node(12) last access: 126.9849 seconds
I0305 06:39:28.886976       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 06:39:28.886981       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:28.886987       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:28.886993       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:28.886998       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:28.886982741 +0000 UTC m=+127.103709613]
I0305 06:39:28.887012       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 06:39:28.887027       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 06:39:28.887060       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7478
I0305 06:39:28.887070       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:28.887078       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.887085       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.887088       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.887116       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:28.887124       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:28.887134       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:28.887143       1 prefix_cache_and_load.go:584] latency, Route, 0.2634
I0305 06:39:28.887151       1 gateway.go:415] latency, selectTargetPod, 0.2634, target pod, 10.0.0.39:8000
I0305 06:39:28.887160       1 gateway.go:235] latency, HandleRequestBody, 0.2637
I0305 06:39:28.906359       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="32b15069-6e7e-4177-8a61-f6337888531a"
I0305 06:39:28.907595       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d94fd2e, selectedpod, 10.0.3.42:8000, ttft, 533, tpot, 23, e2e, 748, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:28.907619       1 gateway.go:748] "Request completed" requestID="738861b1-8805-402a-b621-9f9cbdf62667" targetPod="10.0.3.42:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:28.907631       1 gateway.go:764] "HandleResponseBody completed" requestID="738861b1-8805-402a-b621-9f9cbdf62667" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:28.912198       1 gateway.go:562] latency, 0.0000, summary, hash(request), b95e3a68, selectedpod, 10.0.1.53:8000, ttft, 448, tpot, 19, e2e, 621, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:28.912218       1 gateway.go:748] "Request completed" requestID="67547de8-d337-47bb-b274-e9e21a5d0542" targetPod="10.0.1.53:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:28.912234       1 gateway.go:764] "HandleResponseBody completed" requestID="67547de8-d337-47bb-b274-e9e21a5d0542" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:28.950527       1 gateway.go:608] "First token received" requestID="32b15069-6e7e-4177-8a61-f6337888531a" ttft_ms=327
I0305 06:39:28.958962       1 gateway.go:207] "Processing request" requestID="6f0dd460-ac9f-4125-aeea-61ed5171f032"
I0305 06:39:28.958997       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6f0dd460-ac9f-4125-aeea-61ed5171f032"
I0305 06:39:28.959005       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:28.984866       1 gateway.go:562] latency, 0.0000, summary, hash(request), 89033503, selectedpod, 10.0.3.42:8000, ttft, 304, tpot, 19, e2e, 482, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:28.984885       1 gateway.go:748] "Request completed" requestID="f588572f-24c9-4f3c-be33-5db71c876db4" targetPod="10.0.3.42:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:28.984897       1 gateway.go:764] "HandleResponseBody completed" requestID="f588572f-24c9-4f3c-be33-5db71c876db4" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:29.043218       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3a63d958, selectedpod, 10.0.0.34:8000, ttft, 279, tpot, 19, e2e, 452, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:29.043236       1 gateway.go:748] "Request completed" requestID="78300df3-e203-465b-92bf-102ad28cb90d" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:29.043246       1 gateway.go:764] "HandleResponseBody completed" requestID="78300df3-e203-465b-92bf-102ad28cb90d" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:29.048628       1 gateway.go:207] "Processing request" requestID="f81d9e37-ef12-472e-94a9-9eabe8d43fea"
I0305 06:39:29.048650       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f81d9e37-ef12-472e-94a9-9eabe8d43fea"
I0305 06:39:29.048659       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:29.124320       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6dd1d4d2, selectedpod, 10.0.0.39:8000, ttft, 327, tpot, 19, e2e, 500, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:29.124336       1 gateway.go:748] "Request completed" requestID="32b15069-6e7e-4177-8a61-f6337888531a" targetPod="10.0.0.39:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:29.124346       1 gateway.go:764] "HandleResponseBody completed" requestID="32b15069-6e7e-4177-8a61-f6337888531a" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:29.129377       1 gateway.go:207] "Processing request" requestID="025065ff-ffef-4ea5-8a0f-2242b7b0f5ee"
I0305 06:39:29.129401       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="025065ff-ffef-4ea5-8a0f-2242b7b0f5ee"
I0305 06:39:29.129410       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:29.210284       1 gateway.go:207] "Processing request" requestID="d06567b7-c97e-42cb-afe4-a65ce600c1fa"
I0305 06:39:29.210316       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d06567b7-c97e-42cb-afe4-a65ce600c1fa"
I0305 06:39:29.210323       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:29.282726       1 gateway.go:207] "Processing request" requestID="99bc195f-be44-4384-a3cd-33ab0a8a1698"
I0305 06:39:29.282759       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="99bc195f-be44-4384-a3cd-33ab0a8a1698"
I0305 06:39:29.282768       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:29.367978       1 gateway.go:207] "Processing request" requestID="3120bd1d-4046-44bd-bcbf-7096ee67f8f4"
I0305 06:39:29.368005       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3120bd1d-4046-44bd-bcbf-7096ee67f8f4"
I0305 06:39:29.368013       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:29.457823       1 gateway.go:207] "Processing request" requestID="58d3c35c-4cd7-4e2e-af82-9c4d5dd92afd"
I0305 06:39:29.457855       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="58d3c35c-4cd7-4e2e-af82-9c4d5dd92afd"
I0305 06:39:29.457862       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:29.999735       1 gateway.go:207] "Processing request" requestID="9903bf2f-18ea-42e5-b978-d423eed98c92"
I0305 06:39:29.999767       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9903bf2f-18ea-42e5-b978-d423eed98c92"
I0305 06:39:29.999777       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.000654       1 gateway.go:207] "Processing request" requestID="a333e576-4b83-48f6-b43a-d5a466483941"
I0305 06:39:30.000691       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a333e576-4b83-48f6-b43a-d5a466483941"
I0305 06:39:30.000702       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.001526       1 gateway.go:207] "Processing request" requestID="7ff6d1ed-eb2b-4c6d-b3a0-24bdbcaf592b"
I0305 06:39:30.001557       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7ff6d1ed-eb2b-4c6d-b3a0-24bdbcaf592b"
I0305 06:39:30.001567       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.002635       1 gateway.go:207] "Processing request" requestID="e657fdad-82cc-41c0-b798-ab4033127281"
I0305 06:39:30.002657       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e657fdad-82cc-41c0-b798-ab4033127281"
I0305 06:39:30.002664       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.003646       1 gateway.go:207] "Processing request" requestID="adc2c586-9b54-4dea-a04b-e604ad44a1c2"
I0305 06:39:30.003672       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="adc2c586-9b54-4dea-a04b-e604ad44a1c2"
I0305 06:39:30.003683       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.003825       1 gateway.go:207] "Processing request" requestID="2210e901-d839-4d07-95ca-2706cde161d2"
I0305 06:39:30.003862       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2210e901-d839-4d07-95ca-2706cde161d2"
I0305 06:39:30.003876       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.021211       1 gateway.go:207] "Processing request" requestID="c87b2ba4-61bf-4a82-adb3-01cd6a2bac34"
I0305 06:39:30.021235       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c87b2ba4-61bf-4a82-adb3-01cd6a2bac34"
I0305 06:39:30.021244       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.137808       1 gateway.go:207] "Processing request" requestID="31e1b325-ca4e-4b9b-a449-25aae4ca5d95"
I0305 06:39:30.137842       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="31e1b325-ca4e-4b9b-a449-25aae4ca5d95"
I0305 06:39:30.137850       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.224485       1 gateway.go:207] "Processing request" requestID="6c2ca1d1-dc90-4906-b439-dc7ef9112d3f"
I0305 06:39:30.224524       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6c2ca1d1-dc90-4906-b439-dc7ef9112d3f"
I0305 06:39:30.224533       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.260522       1 gateway.go:329] "-- In RequestBody processing ..." requestID="40d9ca9b-e0e7-48be-bbf0-c09620f4d697"
I0305 06:39:30.260748       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="40d9ca9b-e0e7-48be-bbf0-c09620f4d697" model="qwen2-5-7b-instruct"
I0305 06:39:30.260846       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:30.260852       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:30.260856       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:30.260949       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:30.260979       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:30.260985       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:30.310802       1 gateway.go:207] "Processing request" requestID="96d6b73b-48cd-4274-ae2b-09ef489d4f3d"
I0305 06:39:30.310872       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="96d6b73b-48cd-4274-ae2b-09ef489d4f3d"
I0305 06:39:30.310884       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.315388       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0544, numInputTokens, 7601
I0305 06:39:30.315410       1 tree.go:471] Updated node(0) last access: 128.4133 seconds
I0305 06:39:30.315417       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:30.315421       1 tree.go:471] Updated node(2) last access: 128.4134 seconds
I0305 06:39:30.315435       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:30.315438       1 tree.go:471] Updated node(8) last access: 128.4134 seconds
I0305 06:39:30.315450       1 tree.go:667] Split complete - New node(90)
I0305 06:39:30.315455       1 tree.go:668] Split complete - Child node(55)
I0305 06:39:30.315461       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 06:39:30.315466       1 tree.go:471] Updated node(90) last access: 128.4134 seconds
I0305 06:39:30.315471       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:30.315475       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:30.315481       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:30.315491       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:30.315496       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:30.315477294 +0000 UTC m=+128.532204159]
I0305 06:39:30.315529       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7483, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:30.315537       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:30.315570       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7483
I0305 06:39:30.315580       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:30.315591       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:30.315598       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:30.315604       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:30.315613       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:30.315621       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:30.315630       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:30.315640       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:30.315653       1 prefix_cache_and_load.go:584] latency, Route, 0.0548
I0305 06:39:30.315663       1 gateway.go:415] latency, selectTargetPod, 0.0548, target pod, 10.0.1.53:8000
I0305 06:39:30.315677       1 gateway.go:235] latency, HandleRequestBody, 0.0552
I0305 06:39:30.335324       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="40d9ca9b-e0e7-48be-bbf0-c09620f4d697"
I0305 06:39:30.379474       1 gateway.go:608] "First token received" requestID="40d9ca9b-e0e7-48be-bbf0-c09620f4d697" ttft_ms=118
I0305 06:39:30.395411       1 gateway.go:207] "Processing request" requestID="89ea5563-6123-4e87-ade5-8a17c175cde1"
I0305 06:39:30.395447       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="89ea5563-6123-4e87-ade5-8a17c175cde1"
I0305 06:39:30.395456       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.467125       1 gateway.go:207] "Processing request" requestID="2cea471c-715c-47a1-bf5a-74ac22ad69dd"
I0305 06:39:30.467155       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2cea471c-715c-47a1-bf5a-74ac22ad69dd"
I0305 06:39:30.467165       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.538719       1 gateway.go:207] "Processing request" requestID="81332a3e-36dd-42f4-8cbb-2be02f31f727"
I0305 06:39:30.538750       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="81332a3e-36dd-42f4-8cbb-2be02f31f727"
I0305 06:39:30.538760       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.552398       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7eb5fc54, selectedpod, 10.0.1.53:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:30.552425       1 gateway.go:748] "Request completed" requestID="40d9ca9b-e0e7-48be-bbf0-c09620f4d697" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:30.552439       1 gateway.go:764] "HandleResponseBody completed" requestID="40d9ca9b-e0e7-48be-bbf0-c09620f4d697" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:30.615973       1 gateway.go:207] "Processing request" requestID="16f2c49e-f6ce-4096-878b-2dddcd0baaad"
I0305 06:39:30.616010       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="16f2c49e-f6ce-4096-878b-2dddcd0baaad"
I0305 06:39:30.616020       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.709522       1 gateway.go:207] "Processing request" requestID="0e73b4ea-a50f-46e1-b073-687d6c9e3d87"
I0305 06:39:30.709570       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0e73b4ea-a50f-46e1-b073-687d6c9e3d87"
I0305 06:39:30.709579       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.790262       1 gateway.go:207] "Processing request" requestID="0ae3aa06-77c7-431a-bd1e-e6f882238dae"
I0305 06:39:30.790289       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0ae3aa06-77c7-431a-bd1e-e6f882238dae"
I0305 06:39:30.790297       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.857642       1 gateway.go:207] "Processing request" requestID="164d41a3-b157-49cc-be48-1e36e703a8bc"
I0305 06:39:30.857678       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="164d41a3-b157-49cc-be48-1e36e703a8bc"
I0305 06:39:30.857688       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:30.920453       1 gateway.go:207] "Processing request" requestID="9276e6d3-7e9f-4ad5-a939-2338d6e424d4"
I0305 06:39:30.920487       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9276e6d3-7e9f-4ad5-a939-2338d6e424d4"
I0305 06:39:30.920495       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:31.011435       1 gateway.go:207] "Processing request" requestID="8bbf1d6a-f975-4964-9fb3-f93693ab92d8"
I0305 06:39:31.011471       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8bbf1d6a-f975-4964-9fb3-f93693ab92d8"
I0305 06:39:31.011478       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:31.196813       1 gateway.go:207] "Processing request" requestID="e1bdfd6a-4e79-42b6-a323-6f0e0a7caceb"
I0305 06:39:31.196848       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e1bdfd6a-4e79-42b6-a323-6f0e0a7caceb"
I0305 06:39:31.196858       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:31.267042       1 gateway.go:207] "Processing request" requestID="518dc52d-837b-4745-81ee-e8dc9f529070"
I0305 06:39:31.267075       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="518dc52d-837b-4745-81ee-e8dc9f529070"
I0305 06:39:31.267085       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:31.329050       1 gateway.go:207] "Processing request" requestID="de69b767-8fe7-4d2b-b5ec-88998d8793f2"
I0305 06:39:31.329087       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="de69b767-8fe7-4d2b-b5ec-88998d8793f2"
I0305 06:39:31.329096       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:31.418576       1 gateway.go:207] "Processing request" requestID="d6e5e43e-26dd-4830-87d6-4531597efa1d"
I0305 06:39:31.418601       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d6e5e43e-26dd-4830-87d6-4531597efa1d"
I0305 06:39:31.418610       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:31.500917       1 gateway.go:207] "Processing request" requestID="76058643-19e3-4433-9461-a0f8d6b27b0c"
I0305 06:39:31.500953       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="76058643-19e3-4433-9461-a0f8d6b27b0c"
I0305 06:39:31.500965       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:31.590799       1 gateway.go:207] "Processing request" requestID="8300e3b9-f5ed-472c-b1b2-17216b12a26c"
I0305 06:39:31.590839       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8300e3b9-f5ed-472c-b1b2-17216b12a26c"
I0305 06:39:31.590849       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:31.653621       1 gateway.go:207] "Processing request" requestID="2c511816-e4fc-40ca-b492-48408b69782c"
I0305 06:39:31.653648       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2c511816-e4fc-40ca-b492-48408b69782c"
I0305 06:39:31.653655       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:31.720089       1 gateway.go:207] "Processing request" requestID="844e20f2-fb8a-4971-9683-dc1b2015edd8"
I0305 06:39:31.720129       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="844e20f2-fb8a-4971-9683-dc1b2015edd8"
I0305 06:39:31.720141       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:31.792080       1 gateway.go:207] "Processing request" requestID="47e4db6c-9a13-4cbd-96a2-2f45fa84e851"
I0305 06:39:31.792110       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="47e4db6c-9a13-4cbd-96a2-2f45fa84e851"
I0305 06:39:31.792119       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:31.865156       1 gateway.go:207] "Processing request" requestID="ef17e7a0-ca7b-46e6-aba3-00d1f11ecc9a"
I0305 06:39:31.865192       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ef17e7a0-ca7b-46e6-aba3-00d1f11ecc9a"
I0305 06:39:31.865202       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:31.928072       1 gateway.go:207] "Processing request" requestID="70b55b68-b402-4312-b206-3a9443d31062"
I0305 06:39:31.928105       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="70b55b68-b402-4312-b206-3a9443d31062"
I0305 06:39:31.928116       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:32.003626       1 gateway.go:207] "Processing request" requestID="78fcb55b-1b27-4aa1-b0e6-f54814f9fa28"
I0305 06:39:32.003657       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="78fcb55b-1b27-4aa1-b0e6-f54814f9fa28"
I0305 06:39:32.003665       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:32.089045       1 gateway.go:207] "Processing request" requestID="b1e2653a-fa31-4b22-a94a-52c2494f3205"
I0305 06:39:32.089079       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b1e2653a-fa31-4b22-a94a-52c2494f3205"
I0305 06:39:32.089088       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:32.116153       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f87d304e-18e4-417b-a45e-11bf8f4bcbd8"
I0305 06:39:32.116378       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f87d304e-18e4-417b-a45e-11bf8f4bcbd8" model="qwen2-5-7b-instruct"
I0305 06:39:32.116464       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:32.116472       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.116475       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.116579       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.116600       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.116607       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.136719       1 gateway.go:329] "-- In RequestBody processing ..." requestID="747e9e21-67f2-494e-8e2e-6a95b6227427"
I0305 06:39:32.136935       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="747e9e21-67f2-494e-8e2e-6a95b6227427" model="qwen2-5-7b-instruct"
I0305 06:39:32.170339       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6f0dd460-ac9f-4125-aeea-61ed5171f032"
I0305 06:39:32.170584       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6f0dd460-ac9f-4125-aeea-61ed5171f032" model="qwen2-5-7b-instruct"
I0305 06:39:32.171555       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0549, numInputTokens, 7600
I0305 06:39:32.171573       1 tree.go:471] Updated node(0) last access: 130.2695 seconds
I0305 06:39:32.171580       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.171584       1 tree.go:471] Updated node(2) last access: 130.2695 seconds
I0305 06:39:32.171600       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:32.171604       1 tree.go:471] Updated node(53) last access: 130.2695 seconds
I0305 06:39:32.171613       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:32.171618       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:32.171625       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:32.171631       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.171637       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.171620244 +0000 UTC m=+130.388347109]
I0305 06:39:32.171655       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:32.171662       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:32.171699       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:32.171708       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:32.171717       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.171724       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.171729       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.171733       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.171741       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.171749       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:32.171758       1 prefix_cache_and_load.go:584] latency, Route, 0.0553
I0305 06:39:32.171773       1 gateway.go:415] latency, selectTargetPod, 0.0553, target pod, 10.0.0.34:8000
I0305 06:39:32.171786       1 gateway.go:235] latency, HandleRequestBody, 0.0556
I0305 06:39:32.171840       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0348
I0305 06:39:32.171849       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.171856       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.171953       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.171993       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.172001       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.187234       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f81d9e37-ef12-472e-94a9-9eabe8d43fea"
I0305 06:39:32.187589       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f81d9e37-ef12-472e-94a9-9eabe8d43fea" model="qwen2-5-7b-instruct"
I0305 06:39:32.188993       1 gateway.go:329] "-- In RequestBody processing ..." requestID="025065ff-ffef-4ea5-8a0f-2242b7b0f5ee"
I0305 06:39:32.189353       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="025065ff-ffef-4ea5-8a0f-2242b7b0f5ee" model="qwen2-5-7b-instruct"
I0305 06:39:32.191520       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f87d304e-18e4-417b-a45e-11bf8f4bcbd8"
I0305 06:39:32.216626       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d06567b7-c97e-42cb-afe4-a65ce600c1fa"
I0305 06:39:32.216843       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d06567b7-c97e-42cb-afe4-a65ce600c1fa" model="qwen2-5-7b-instruct"
I0305 06:39:32.226767       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0548, numInputTokens, 7601
I0305 06:39:32.226787       1 tree.go:471] Updated node(0) last access: 130.3247 seconds
I0305 06:39:32.226794       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.226798       1 tree.go:471] Updated node(2) last access: 130.3247 seconds
I0305 06:39:32.226812       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:32.226817       1 tree.go:471] Updated node(51) last access: 130.3248 seconds
I0305 06:39:32.226823       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:32.226828       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:32.226836       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:32.226843       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.226849       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.22683127 +0000 UTC m=+130.443558141]
I0305 06:39:32.226866       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:32.226872       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:32.226902       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:32.226911       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:32.226919       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.226925       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.226929       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.226933       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.226942       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.226952       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:32.226961       1 prefix_cache_and_load.go:584] latency, Route, 0.0899
I0305 06:39:32.226984       1 gateway.go:415] latency, selectTargetPod, 0.0900, target pod, 10.0.1.28:8000
I0305 06:39:32.226995       1 gateway.go:235] latency, HandleRequestBody, 0.0903
I0305 06:39:32.227021       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0563
I0305 06:39:32.227025       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.227028       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.227082       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.227110       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.227115       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.234965       1 gateway.go:608] "First token received" requestID="f87d304e-18e4-417b-a45e-11bf8f4bcbd8" ttft_ms=118
I0305 06:39:32.237756       1 gateway.go:329] "-- In RequestBody processing ..." requestID="99bc195f-be44-4384-a3cd-33ab0a8a1698"
I0305 06:39:32.237988       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="99bc195f-be44-4384-a3cd-33ab0a8a1698" model="qwen2-5-7b-instruct"
I0305 06:39:32.246946       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="747e9e21-67f2-494e-8e2e-6a95b6227427"
I0305 06:39:32.256758       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3120bd1d-4046-44bd-bcbf-7096ee67f8f4"
I0305 06:39:32.257005       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3120bd1d-4046-44bd-bcbf-7096ee67f8f4" model="qwen2-5-7b-instruct"
I0305 06:39:32.278661       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9903bf2f-18ea-42e5-b978-d423eed98c92"
I0305 06:39:32.278957       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9903bf2f-18ea-42e5-b978-d423eed98c92" model="qwen2-5-7b-instruct"
I0305 06:39:32.283038       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0559, numInputTokens, 7601
I0305 06:39:32.283057       1 tree.go:471] Updated node(0) last access: 130.3810 seconds
I0305 06:39:32.283063       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.283066       1 tree.go:471] Updated node(2) last access: 130.3810 seconds
I0305 06:39:32.283078       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:32.283083       1 tree.go:471] Updated node(23) last access: 130.3810 seconds
I0305 06:39:32.283089       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:32.283095       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:32.283102       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:32.283109       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.283114       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.283096696 +0000 UTC m=+130.499823571]
I0305 06:39:32.283130       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:32.283138       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:32.283168       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7478
I0305 06:39:32.283177       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:32.283185       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.283191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.283196       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.283201       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.283209       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.283218       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:32.283229       1 prefix_cache_and_load.go:584] latency, Route, 0.1125
I0305 06:39:32.283243       1 gateway.go:415] latency, selectTargetPod, 0.1125, target pod, 10.0.3.42:8000
I0305 06:39:32.283255       1 gateway.go:235] latency, HandleRequestBody, 0.1129
I0305 06:39:32.283285       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0956
I0305 06:39:32.283291       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.283295       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.283356       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.283379       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.283384       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.286209       1 gateway.go:329] "-- In RequestBody processing ..." requestID="58d3c35c-4cd7-4e2e-af82-9c4d5dd92afd"
I0305 06:39:32.286425       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="58d3c35c-4cd7-4e2e-af82-9c4d5dd92afd" model="qwen2-5-7b-instruct"
I0305 06:39:32.291849       1 gateway.go:608] "First token received" requestID="747e9e21-67f2-494e-8e2e-6a95b6227427" ttft_ms=155
I0305 06:39:32.299939       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6f0dd460-ac9f-4125-aeea-61ed5171f032"
I0305 06:39:32.302606       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a333e576-4b83-48f6-b43a-d5a466483941"
I0305 06:39:32.302848       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a333e576-4b83-48f6-b43a-d5a466483941" model="qwen2-5-7b-instruct"
I0305 06:39:32.311942       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7ff6d1ed-eb2b-4c6d-b3a0-24bdbcaf592b"
I0305 06:39:32.312158       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7ff6d1ed-eb2b-4c6d-b3a0-24bdbcaf592b" model="qwen2-5-7b-instruct"
I0305 06:39:32.331809       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0484, numInputTokens, 7598
I0305 06:39:32.331823       1 tree.go:471] Updated node(0) last access: 130.4298 seconds
I0305 06:39:32.331830       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.331834       1 tree.go:471] Updated node(2) last access: 130.4298 seconds
I0305 06:39:32.331847       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:32.331852       1 tree.go:471] Updated node(8) last access: 130.4298 seconds
I0305 06:39:32.331855       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 06:39:32.331859       1 tree.go:471] Updated node(16) last access: 130.4298 seconds
I0305 06:39:32.331868       1 tree.go:667] Split complete - New node(95)
I0305 06:39:32.331871       1 tree.go:668] Split complete - Child node(9)
I0305 06:39:32.331876       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:39:32.331882       1 tree.go:471] Updated node(95) last access: 130.4298 seconds
I0305 06:39:32.331887       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 107 tokens:
I0305 06:39:32.331892       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:32.331898       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:32.331903       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.331909       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.331893759 +0000 UTC m=+130.548620624]
I0305 06:39:32.331922       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7491, Matching ratio: 0.9859, # Matched pods: 0, Matched pods: []
I0305 06:39:32.331930       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9859 > 0.5000)
I0305 06:39:32.331959       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7491
I0305 06:39:32.331975       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:32.331984       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.331988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.331992       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.331997       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.332002       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.332006       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.332014       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.332023       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:32.332033       1 prefix_cache_and_load.go:584] latency, Route, 0.1443
I0305 06:39:32.332046       1 gateway.go:415] latency, selectTargetPod, 0.1444, target pod, 10.0.1.53:8000
I0305 06:39:32.332057       1 gateway.go:235] latency, HandleRequestBody, 0.1448
I0305 06:39:32.332084       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1426
I0305 06:39:32.332088       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.332091       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.332132       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.332153       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.332158       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.333236       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2210e901-d839-4d07-95ca-2706cde161d2"
I0305 06:39:32.333507       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2210e901-d839-4d07-95ca-2706cde161d2" model="qwen2-5-7b-instruct"
I0305 06:39:32.343565       1 gateway.go:608] "First token received" requestID="6f0dd460-ac9f-4125-aeea-61ed5171f032" ttft_ms=173
I0305 06:39:32.351196       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e657fdad-82cc-41c0-b798-ab4033127281"
I0305 06:39:32.351412       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e657fdad-82cc-41c0-b798-ab4033127281" model="qwen2-5-7b-instruct"
I0305 06:39:32.351899       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f81d9e37-ef12-472e-94a9-9eabe8d43fea"
I0305 06:39:32.378846       1 gateway.go:329] "-- In RequestBody processing ..." requestID="adc2c586-9b54-4dea-a04b-e604ad44a1c2"
I0305 06:39:32.379079       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="adc2c586-9b54-4dea-a04b-e604ad44a1c2" model="qwen2-5-7b-instruct"
I0305 06:39:32.387888       1 gateway.go:608] "First token received" requestID="f81d9e37-ef12-472e-94a9-9eabe8d43fea" ttft_ms=200
I0305 06:39:32.399618       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c87b2ba4-61bf-4a82-adb3-01cd6a2bac34"
I0305 06:39:32.399838       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c87b2ba4-61bf-4a82-adb3-01cd6a2bac34" model="qwen2-5-7b-instruct"
I0305 06:39:32.403916       1 gateway.go:329] "-- In RequestBody processing ..." requestID="31e1b325-ca4e-4b9b-a449-25aae4ca5d95"
I0305 06:39:32.404120       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="31e1b325-ca4e-4b9b-a449-25aae4ca5d95" model="qwen2-5-7b-instruct"
I0305 06:39:32.407963       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4c91744d, selectedpod, 10.0.0.34:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:32.407989       1 gateway.go:748] "Request completed" requestID="f87d304e-18e4-417b-a45e-11bf8f4bcbd8" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:32.408001       1 gateway.go:764] "HandleResponseBody completed" requestID="f87d304e-18e4-417b-a45e-11bf8f4bcbd8" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:32.415897       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0837, numInputTokens, 7598
I0305 06:39:32.415917       1 tree.go:471] Updated node(0) last access: 130.5139 seconds
I0305 06:39:32.415923       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.415926       1 tree.go:471] Updated node(2) last access: 130.5139 seconds
I0305 06:39:32.415941       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:32.415945       1 tree.go:471] Updated node(51) last access: 130.5139 seconds
I0305 06:39:32.415952       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:32.415957       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:32.415964       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:32.415981       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.415986       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.41595945 +0000 UTC m=+130.632686314]
I0305 06:39:32.416003       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:32.416010       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:32.416048       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:32.416056       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:32.416064       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.416070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.416077       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.416082       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.416091       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.416099       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:32.416110       1 prefix_cache_and_load.go:584] latency, Route, 0.2266
I0305 06:39:32.416126       1 gateway.go:415] latency, selectTargetPod, 0.2267, target pod, 10.0.1.28:8000
I0305 06:39:32.416137       1 gateway.go:235] latency, HandleRequestBody, 0.2271
I0305 06:39:32.416142       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1992
I0305 06:39:32.416157       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.416162       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.416236       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.416260       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.416268       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.427578       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6c2ca1d1-dc90-4906-b439-dc7ef9112d3f"
I0305 06:39:32.427923       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6c2ca1d1-dc90-4906-b439-dc7ef9112d3f" model="qwen2-5-7b-instruct"
I0305 06:39:32.433990       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="025065ff-ffef-4ea5-8a0f-2242b7b0f5ee"
I0305 06:39:32.437623       1 gateway.go:329] "-- In RequestBody processing ..." requestID="96d6b73b-48cd-4274-ae2b-09ef489d4f3d"
I0305 06:39:32.437997       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="96d6b73b-48cd-4274-ae2b-09ef489d4f3d" model="qwen2-5-7b-instruct"
I0305 06:39:32.451557       1 gateway.go:329] "-- In RequestBody processing ..." requestID="89ea5563-6123-4e87-ade5-8a17c175cde1"
I0305 06:39:32.451784       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="89ea5563-6123-4e87-ade5-8a17c175cde1" model="qwen2-5-7b-instruct"
I0305 06:39:32.484608       1 gateway.go:608] "First token received" requestID="025065ff-ffef-4ea5-8a0f-2242b7b0f5ee" ttft_ms=295
I0305 06:39:32.490741       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2cea471c-715c-47a1-bf5a-74ac22ad69dd"
I0305 06:39:32.490977       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2cea471c-715c-47a1-bf5a-74ac22ad69dd" model="qwen2-5-7b-instruct"
I0305 06:39:32.502896       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0866, numInputTokens, 7600
I0305 06:39:32.502913       1 tree.go:471] Updated node(0) last access: 130.6009 seconds
I0305 06:39:32.502919       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.502923       1 tree.go:471] Updated node(2) last access: 130.6009 seconds
I0305 06:39:32.502937       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:32.502942       1 tree.go:471] Updated node(45) last access: 130.6009 seconds
I0305 06:39:32.502950       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:32.502957       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:32.502965       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:32.502983       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.502992       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.502959786 +0000 UTC m=+130.719686664]
I0305 06:39:32.503011       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:32.503020       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:32.503057       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:32.503067       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:32.503075       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.503080       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.503084       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.503090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.503098       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.503107       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:32.503117       1 prefix_cache_and_load.go:584] latency, Route, 0.2862
I0305 06:39:32.503131       1 gateway.go:415] latency, selectTargetPod, 0.2862, target pod, 10.0.0.34:8000
I0305 06:39:32.503140       1 gateway.go:235] latency, HandleRequestBody, 0.2865
I0305 06:39:32.503165       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2651
I0305 06:39:32.503170       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.503173       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.503218       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.503243       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.503250       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.503356       1 gateway.go:329] "-- In RequestBody processing ..." requestID="81332a3e-36dd-42f4-8cbb-2be02f31f727"
I0305 06:39:32.503589       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="81332a3e-36dd-42f4-8cbb-2be02f31f727" model="qwen2-5-7b-instruct"
I0305 06:39:32.505117       1 gateway.go:562] latency, 0.0000, summary, hash(request), 67ef165c, selectedpod, 10.0.1.28:8000, ttft, 155, tpot, 23, e2e, 368, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:32.505137       1 gateway.go:748] "Request completed" requestID="747e9e21-67f2-494e-8e2e-6a95b6227427" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:32.505150       1 gateway.go:764] "HandleResponseBody completed" requestID="747e9e21-67f2-494e-8e2e-6a95b6227427" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:32.519390       1 gateway.go:562] latency, 0.0000, summary, hash(request), cafb37d4, selectedpod, 10.0.3.42:8000, ttft, 173, tpot, 19, e2e, 348, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:32.519412       1 gateway.go:748] "Request completed" requestID="6f0dd460-ac9f-4125-aeea-61ed5171f032" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:32.519426       1 gateway.go:764] "HandleResponseBody completed" requestID="6f0dd460-ac9f-4125-aeea-61ed5171f032" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:32.525267       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d06567b7-c97e-42cb-afe4-a65ce600c1fa"
I0305 06:39:32.525576       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0e73b4ea-a50f-46e1-b073-687d6c9e3d87"
I0305 06:39:32.525786       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0e73b4ea-a50f-46e1-b073-687d6c9e3d87" model="qwen2-5-7b-instruct"
I0305 06:39:32.531003       1 gateway.go:329] "-- In RequestBody processing ..." requestID="16f2c49e-f6ce-4096-878b-2dddcd0baaad"
I0305 06:39:32.531196       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="16f2c49e-f6ce-4096-878b-2dddcd0baaad" model="qwen2-5-7b-instruct"
I0305 06:39:32.578633       1 gateway.go:329] "-- In RequestBody processing ..." requestID="164d41a3-b157-49cc-be48-1e36e703a8bc"
I0305 06:39:32.578661       1 gateway.go:562] latency, 0.0000, summary, hash(request), 20151f27, selectedpod, 10.0.1.53:8000, ttft, 200, tpot, 21, e2e, 391, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:32.578667       1 gateway.go:608] "First token received" requestID="d06567b7-c97e-42cb-afe4-a65ce600c1fa" ttft_ms=361
I0305 06:39:32.578685       1 gateway.go:748] "Request completed" requestID="f81d9e37-ef12-472e-94a9-9eabe8d43fea" targetPod="10.0.1.53:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:32.578701       1 gateway.go:764] "HandleResponseBody completed" requestID="f81d9e37-ef12-472e-94a9-9eabe8d43fea" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:32.578900       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="164d41a3-b157-49cc-be48-1e36e703a8bc" model="qwen2-5-7b-instruct"
I0305 06:39:32.587883       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0ae3aa06-77c7-431a-bd1e-e6f882238dae"
I0305 06:39:32.588109       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0ae3aa06-77c7-431a-bd1e-e6f882238dae" model="qwen2-5-7b-instruct"
I0305 06:39:32.588758       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0855, numInputTokens, 7599
I0305 06:39:32.588777       1 tree.go:471] Updated node(0) last access: 130.6867 seconds
I0305 06:39:32.588783       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.588789       1 tree.go:471] Updated node(2) last access: 130.6867 seconds
I0305 06:39:32.588802       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:32.588805       1 tree.go:471] Updated node(26) last access: 130.6867 seconds
I0305 06:39:32.588812       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:32.588818       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:32.588826       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:32.588834       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.588842       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.588820442 +0000 UTC m=+130.805547307]
I0305 06:39:32.588861       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:32.588870       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:32.588916       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7478
I0305 06:39:32.588928       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:32.588942       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.588951       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.588957       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.588964       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.588984       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.588999       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:32.589016       1 prefix_cache_and_load.go:584] latency, Route, 0.3509
I0305 06:39:32.589035       1 gateway.go:415] latency, selectTargetPod, 0.3510, target pod, 10.0.3.41:8000
I0305 06:39:32.589047       1 gateway.go:235] latency, HandleRequestBody, 0.3513
I0305 06:39:32.589082       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3320
I0305 06:39:32.589088       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.589092       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.589142       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.589168       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.589175       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.605348       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="99bc195f-be44-4384-a3cd-33ab0a8a1698"
I0305 06:39:32.625006       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9276e6d3-7e9f-4ad5-a939-2338d6e424d4"
I0305 06:39:32.625214       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9276e6d3-7e9f-4ad5-a939-2338d6e424d4" model="qwen2-5-7b-instruct"
I0305 06:39:32.637783       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8bbf1d6a-f975-4964-9fb3-f93693ab92d8"
I0305 06:39:32.638013       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8bbf1d6a-f975-4964-9fb3-f93693ab92d8" model="qwen2-5-7b-instruct"
I0305 06:39:32.638620       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0494, numInputTokens, 7592
I0305 06:39:32.638637       1 tree.go:471] Updated node(0) last access: 130.7366 seconds
I0305 06:39:32.638643       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.638648       1 tree.go:471] Updated node(2) last access: 130.7366 seconds
I0305 06:39:32.638663       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:32.638667       1 tree.go:471] Updated node(51) last access: 130.7366 seconds
I0305 06:39:32.638683       1 tree.go:667] Split complete - New node(100)
I0305 06:39:32.638689       1 tree.go:668] Split complete - Child node(79)
I0305 06:39:32.638696       1 tree.go:501] latency, splitNode, 0.0000 seconds, 114 tokens:
I0305 06:39:32.638701       1 tree.go:471] Updated node(100) last access: 130.7366 seconds
I0305 06:39:32.638709       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 06:39:32.638715       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7592 tokens
I0305 06:39:32.638721       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7592 tokens
I0305 06:39:32.638728       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.638733       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.638717257 +0000 UTC m=+130.855444122]
I0305 06:39:32.638748       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7592, Matched tokens: 7483, Matching ratio: 0.9856, # Matched pods: 0, Matched pods: []
I0305 06:39:32.638759       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9856 > 0.5000)
I0305 06:39:32.638791       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7483
I0305 06:39:32.638800       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:32.638809       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.638816       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.638824       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.638831       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.638835       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.638844       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.638852       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:32.638861       1 prefix_cache_and_load.go:584] latency, Route, 0.3817
I0305 06:39:32.638877       1 gateway.go:415] latency, selectTargetPod, 0.3818, target pod, 10.0.1.28:8000
I0305 06:39:32.638893       1 gateway.go:235] latency, HandleRequestBody, 0.3821
I0305 06:39:32.638928       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3598
I0305 06:39:32.638934       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.638939       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.639002       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.639028       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.639033       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.651148       1 gateway.go:608] "First token received" requestID="99bc195f-be44-4384-a3cd-33ab0a8a1698" ttft_ms=413
I0305 06:39:32.657843       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3120bd1d-4046-44bd-bcbf-7096ee67f8f4"
I0305 06:39:32.659529       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7a2d037e, selectedpod, 10.0.1.28:8000, ttft, 295, tpot, 19, e2e, 470, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:32.659549       1 gateway.go:748] "Request completed" requestID="025065ff-ffef-4ea5-8a0f-2242b7b0f5ee" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:32.659564       1 gateway.go:764] "HandleResponseBody completed" requestID="025065ff-ffef-4ea5-8a0f-2242b7b0f5ee" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:32.687299       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e1bdfd6a-4e79-42b6-a323-6f0e0a7caceb"
I0305 06:39:32.687519       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e1bdfd6a-4e79-42b6-a323-6f0e0a7caceb" model="qwen2-5-7b-instruct"
I0305 06:39:32.688922       1 gateway.go:329] "-- In RequestBody processing ..." requestID="518dc52d-837b-4745-81ee-e8dc9f529070"
I0305 06:39:32.689154       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="518dc52d-837b-4745-81ee-e8dc9f529070" model="qwen2-5-7b-instruct"
I0305 06:39:32.693273       1 gateway.go:329] "-- In RequestBody processing ..." requestID="de69b767-8fe7-4d2b-b5ec-88998d8793f2"
I0305 06:39:32.693488       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="de69b767-8fe7-4d2b-b5ec-88998d8793f2" model="qwen2-5-7b-instruct"
I0305 06:39:32.693711       1 gateway.go:329] "-- In RequestBody processing ..." requestID="76058643-19e3-4433-9461-a0f8d6b27b0c"
I0305 06:39:32.693931       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="76058643-19e3-4433-9461-a0f8d6b27b0c" model="qwen2-5-7b-instruct"
I0305 06:39:32.697153       1 gateway.go:329] "-- In RequestBody processing ..." requestID="844e20f2-fb8a-4971-9683-dc1b2015edd8"
I0305 06:39:32.697364       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="844e20f2-fb8a-4971-9683-dc1b2015edd8" model="qwen2-5-7b-instruct"
I0305 06:39:32.700177       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8300e3b9-f5ed-472c-b1b2-17216b12a26c"
I0305 06:39:32.700391       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8300e3b9-f5ed-472c-b1b2-17216b12a26c" model="qwen2-5-7b-instruct"
I0305 06:39:32.703021       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ef17e7a0-ca7b-46e6-aba3-00d1f11ecc9a"
I0305 06:39:32.703233       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ef17e7a0-ca7b-46e6-aba3-00d1f11ecc9a" model="qwen2-5-7b-instruct"
I0305 06:39:32.704924       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d6e5e43e-26dd-4830-87d6-4531597efa1d"
I0305 06:39:32.705139       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d6e5e43e-26dd-4830-87d6-4531597efa1d" model="qwen2-5-7b-instruct"
I0305 06:39:32.707266       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2c511816-e4fc-40ca-b492-48408b69782c"
I0305 06:39:32.707490       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2c511816-e4fc-40ca-b492-48408b69782c" model="qwen2-5-7b-instruct"
I0305 06:39:32.709851       1 gateway.go:608] "First token received" requestID="3120bd1d-4046-44bd-bcbf-7096ee67f8f4" ttft_ms=453
I0305 06:39:32.714091       1 gateway.go:329] "-- In RequestBody processing ..." requestID="47e4db6c-9a13-4cbd-96a2-2f45fa84e851"
I0305 06:39:32.714295       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="47e4db6c-9a13-4cbd-96a2-2f45fa84e851" model="qwen2-5-7b-instruct"
I0305 06:39:32.718585       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0795, numInputTokens, 7598
I0305 06:39:32.718606       1 tree.go:471] Updated node(0) last access: 130.8165 seconds
I0305 06:39:32.718613       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.718617       1 tree.go:471] Updated node(2) last access: 130.8166 seconds
I0305 06:39:32.718629       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:32.718634       1 tree.go:471] Updated node(26) last access: 130.8166 seconds
I0305 06:39:32.718637       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:39:32.718640       1 tree.go:471] Updated node(36) last access: 130.8166 seconds
I0305 06:39:32.718646       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:39:32.718652       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:32.718658       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:32.718665       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.718670       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.718653785 +0000 UTC m=+130.935380649]
I0305 06:39:32.718686       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:39:32.718692       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:39:32.718724       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7481
I0305 06:39:32.718733       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:32.718740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.718745       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.718749       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.718753       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.718756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.718764       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.718773       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:32.718785       1 prefix_cache_and_load.go:584] latency, Route, 0.4397
I0305 06:39:32.718805       1 gateway.go:415] latency, selectTargetPod, 0.4397, target pod, 10.0.3.41:8000
I0305 06:39:32.718851       1 gateway.go:235] latency, HandleRequestBody, 0.4402
I0305 06:39:32.718823       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4323
I0305 06:39:32.718878       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.718880       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.718931       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.718951       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.718956       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.724491       1 gateway.go:329] "-- In RequestBody processing ..." requestID="70b55b68-b402-4312-b206-3a9443d31062"
I0305 06:39:32.724694       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="70b55b68-b402-4312-b206-3a9443d31062" model="qwen2-5-7b-instruct"
I0305 06:39:32.729197       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b1e2653a-fa31-4b22-a94a-52c2494f3205"
I0305 06:39:32.729384       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b1e2653a-fa31-4b22-a94a-52c2494f3205" model="qwen2-5-7b-instruct"
I0305 06:39:32.732614       1 gateway.go:329] "-- In RequestBody processing ..." requestID="78fcb55b-1b27-4aa1-b0e6-f54814f9fa28"
I0305 06:39:32.732817       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="78fcb55b-1b27-4aa1-b0e6-f54814f9fa28" model="qwen2-5-7b-instruct"
I0305 06:39:32.738887       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9903bf2f-18ea-42e5-b978-d423eed98c92"
I0305 06:39:32.741639       1 gateway.go:562] latency, 0.0000, summary, hash(request), 043b2f90, selectedpod, 10.0.0.34:8000, ttft, 361, tpot, 18, e2e, 524, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:32.741661       1 gateway.go:748] "Request completed" requestID="d06567b7-c97e-42cb-afe4-a65ce600c1fa" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:32.741673       1 gateway.go:764] "HandleResponseBody completed" requestID="d06567b7-c97e-42cb-afe4-a65ce600c1fa" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:32.786076       1 gateway.go:608] "First token received" requestID="9903bf2f-18ea-42e5-b978-d423eed98c92" ttft_ms=507
I0305 06:39:32.810583       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0916, numInputTokens, 7602
I0305 06:39:32.810601       1 tree.go:471] Updated node(0) last access: 130.9085 seconds
I0305 06:39:32.810607       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.810610       1 tree.go:471] Updated node(2) last access: 130.9086 seconds
I0305 06:39:32.810622       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:32.810626       1 tree.go:471] Updated node(26) last access: 130.9086 seconds
I0305 06:39:32.810630       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:39:32.810633       1 tree.go:471] Updated node(36) last access: 130.9086 seconds
I0305 06:39:32.810644       1 tree.go:667] Split complete - New node(103)
I0305 06:39:32.810648       1 tree.go:668] Split complete - Child node(27)
I0305 06:39:32.810654       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:39:32.810659       1 tree.go:471] Updated node(103) last access: 130.9086 seconds
I0305 06:39:32.810663       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:32.810670       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:32.810676       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:32.810682       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.810687       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.810672077 +0000 UTC m=+131.027398942]
I0305 06:39:32.810701       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7484, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:32.810708       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:32.810741       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7484
I0305 06:39:32.810750       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:32.810759       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.810764       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.810768       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.810771       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.810774       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.810778       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.810787       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.810797       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:32.810807       1 prefix_cache_and_load.go:584] latency, Route, 0.5243
I0305 06:39:32.810826       1 gateway.go:415] latency, selectTargetPod, 0.5243, target pod, 10.0.3.41:8000
I0305 06:39:32.810838       1 gateway.go:235] latency, HandleRequestBody, 0.5246
I0305 06:39:32.810868       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5079
I0305 06:39:32.810872       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.810876       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.810933       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.810954       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.810958       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.829303       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="58d3c35c-4cd7-4e2e-af82-9c4d5dd92afd"
I0305 06:39:32.860495       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0495, numInputTokens, 7599
I0305 06:39:32.860519       1 tree.go:471] Updated node(0) last access: 130.9585 seconds
I0305 06:39:32.860526       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.860529       1 tree.go:471] Updated node(2) last access: 130.9585 seconds
I0305 06:39:32.860543       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:32.860550       1 tree.go:471] Updated node(53) last access: 130.9585 seconds
I0305 06:39:32.860555       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:32.860560       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:32.860567       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:32.860577       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.860584       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.860562205 +0000 UTC m=+131.077289078]
I0305 06:39:32.860604       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:32.860614       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:32.860659       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:32.860673       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:32.860687       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.860695       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.860703       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.860712       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.860720       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.860729       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:32.860738       1 prefix_cache_and_load.go:584] latency, Route, 0.5578
I0305 06:39:32.860756       1 gateway.go:415] latency, selectTargetPod, 0.5578, target pod, 10.0.0.34:8000
I0305 06:39:32.860768       1 gateway.go:235] latency, HandleRequestBody, 0.5582
I0305 06:39:32.860803       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5486
I0305 06:39:32.860809       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.860813       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.860891       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.860914       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.860919       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.879539       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a333e576-4b83-48f6-b43a-d5a466483941"
I0305 06:39:32.880219       1 gateway.go:608] "First token received" requestID="58d3c35c-4cd7-4e2e-af82-9c4d5dd92afd" ttft_ms=593
I0305 06:39:32.883768       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9bab4dca, selectedpod, 10.0.1.28:8000, ttft, 453, tpot, 19, e2e, 626, numInputTokens, 7611, numOutputTokens, 10, numTotalTokens, 7621
I0305 06:39:32.883791       1 gateway.go:748] "Request completed" requestID="3120bd1d-4046-44bd-bcbf-7096ee67f8f4" targetPod="10.0.1.28:8000" promptTokens=7611 completionTokens=10 totalTokens=7621
I0305 06:39:32.883803       1 gateway.go:764] "HandleResponseBody completed" requestID="3120bd1d-4046-44bd-bcbf-7096ee67f8f4" promptTokens=7611 completionTokens=10 stream=true
I0305 06:39:32.901477       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3357b9bb, selectedpod, 10.0.3.41:8000, ttft, 413, tpot, 27, e2e, 663, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:32.901496       1 gateway.go:748] "Request completed" requestID="99bc195f-be44-4384-a3cd-33ab0a8a1698" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:32.901507       1 gateway.go:764] "HandleResponseBody completed" requestID="99bc195f-be44-4384-a3cd-33ab0a8a1698" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:32.919890       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0590, numInputTokens, 7599
I0305 06:39:32.919906       1 tree.go:471] Updated node(0) last access: 131.0178 seconds
I0305 06:39:32.919912       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.919915       1 tree.go:471] Updated node(2) last access: 131.0179 seconds
I0305 06:39:32.919927       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:32.919931       1 tree.go:471] Updated node(23) last access: 131.0179 seconds
I0305 06:39:32.919934       1 tree.go:490] Partial tokens match child node(87). Continue to go deeper in the radix tree
I0305 06:39:32.919938       1 tree.go:471] Updated node(87) last access: 131.0179 seconds
I0305 06:39:32.919948       1 tree.go:667] Split complete - New node(106)
I0305 06:39:32.919952       1 tree.go:668] Split complete - Child node(88)
I0305 06:39:32.919958       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:39:32.919963       1 tree.go:471] Updated node(106) last access: 131.0179 seconds
I0305 06:39:32.919975       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 06:39:32.919981       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:32.919988       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:32.919993       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.919998       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.919983458 +0000 UTC m=+131.136710322]
I0305 06:39:32.920013       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7489, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 06:39:32.920020       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 06:39:32.920052       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7489
I0305 06:39:32.920061       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:32.920070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.920074       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.920079       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.920082       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.920086       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.920092       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.920100       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.920109       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:32.920118       1 prefix_cache_and_load.go:584] latency, Route, 0.6079
I0305 06:39:32.920135       1 gateway.go:415] latency, selectTargetPod, 0.6079, target pod, 10.0.3.42:8000
I0305 06:39:32.920146       1 gateway.go:235] latency, HandleRequestBody, 0.6082
I0305 06:39:32.920174       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5866
I0305 06:39:32.920178       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.920182       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.920230       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.920251       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.920256       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:32.925566       1 gateway.go:608] "First token received" requestID="a333e576-4b83-48f6-b43a-d5a466483941" ttft_ms=622
I0305 06:39:32.936186       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7ff6d1ed-eb2b-4c6d-b3a0-24bdbcaf592b"
I0305 06:39:32.978705       1 gateway.go:608] "First token received" requestID="7ff6d1ed-eb2b-4c6d-b3a0-24bdbcaf592b" ttft_ms=666
I0305 06:39:32.994291       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0740, numInputTokens, 7599
I0305 06:39:32.994310       1 tree.go:471] Updated node(0) last access: 131.0922 seconds
I0305 06:39:32.994316       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:32.994319       1 tree.go:471] Updated node(2) last access: 131.0923 seconds
I0305 06:39:32.994332       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:32.994335       1 tree.go:471] Updated node(51) last access: 131.0923 seconds
I0305 06:39:32.994341       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:32.994347       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:32.994353       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:32.994360       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:32.994365       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:32.9943493 +0000 UTC m=+131.211076164]
I0305 06:39:32.994379       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:32.994386       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:32.994420       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:32.994429       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:32.994435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.994442       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.994448       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.994452       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:32.994461       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:32.994471       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:32.994480       1 prefix_cache_and_load.go:584] latency, Route, 0.6609
I0305 06:39:32.994496       1 gateway.go:415] latency, selectTargetPod, 0.6609, target pod, 10.0.1.28:8000
I0305 06:39:32.994506       1 gateway.go:235] latency, HandleRequestBody, 0.6613
I0305 06:39:32.994524       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6430
I0305 06:39:32.994534       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:32.994537       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:32.994624       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:32.994649       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:32.994654       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.001429       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90ca1194, selectedpod, 10.0.3.41:8000, ttft, 507, tpot, 23, e2e, 722, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:33.001451       1 gateway.go:748] "Request completed" requestID="9903bf2f-18ea-42e5-b978-d423eed98c92" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:33.001461       1 gateway.go:764] "HandleResponseBody completed" requestID="9903bf2f-18ea-42e5-b978-d423eed98c92" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:33.013661       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2210e901-d839-4d07-95ca-2706cde161d2"
I0305 06:39:33.046180       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0515, numInputTokens, 7597
I0305 06:39:33.046199       1 tree.go:471] Updated node(0) last access: 131.1441 seconds
I0305 06:39:33.046206       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.046209       1 tree.go:471] Updated node(2) last access: 131.1442 seconds
I0305 06:39:33.046222       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:33.046226       1 tree.go:471] Updated node(26) last access: 131.1442 seconds
I0305 06:39:33.046230       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:39:33.046233       1 tree.go:471] Updated node(36) last access: 131.1442 seconds
I0305 06:39:33.046239       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:33.046245       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:39:33.046253       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:33.046260       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:33.046265       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.046247572 +0000 UTC m=+131.262974438]
I0305 06:39:33.046278       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7481, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:33.046286       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:33.046336       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7481
I0305 06:39:33.046345       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:33.046353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.046361       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.046366       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.046371       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.046378       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.046385       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.046395       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:33.046407       1 prefix_cache_and_load.go:584] latency, Route, 0.6949
I0305 06:39:33.046424       1 gateway.go:415] latency, selectTargetPod, 0.6949, target pod, 10.0.3.41:8000
I0305 06:39:33.046436       1 gateway.go:235] latency, HandleRequestBody, 0.6952
I0305 06:39:33.046463       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6673
I0305 06:39:33.046468       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.046471       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.046529       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.046551       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:33.046556       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.056640       1 gateway.go:608] "First token received" requestID="2210e901-d839-4d07-95ca-2706cde161d2" ttft_ms=723
I0305 06:39:33.060187       1 gateway.go:562] latency, 0.0000, summary, hash(request), f3351890, selectedpod, 10.0.3.41:8000, ttft, 593, tpot, 19, e2e, 773, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:33.060206       1 gateway.go:748] "Request completed" requestID="58d3c35c-4cd7-4e2e-af82-9c4d5dd92afd" targetPod="10.0.3.41:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:33.060221       1 gateway.go:764] "HandleResponseBody completed" requestID="58d3c35c-4cd7-4e2e-af82-9c4d5dd92afd" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:33.078581       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e657fdad-82cc-41c0-b798-ab4033127281"
I0305 06:39:33.095292       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0bcbe15f, selectedpod, 10.0.0.34:8000, ttft, 622, tpot, 18, e2e, 792, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:33.095320       1 gateway.go:748] "Request completed" requestID="a333e576-4b83-48f6-b43a-d5a466483941" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:33.095334       1 gateway.go:764] "HandleResponseBody completed" requestID="a333e576-4b83-48f6-b43a-d5a466483941" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:33.112151       1 gateway.go:608] "First token received" requestID="e657fdad-82cc-41c0-b798-ab4033127281" ttft_ms=760
I0305 06:39:33.119282       1 gateway.go:207] "Processing request" requestID="40ec2939-0a78-4765-823b-c1fcdc258636"
I0305 06:39:33.119311       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="40ec2939-0a78-4765-823b-c1fcdc258636"
I0305 06:39:33.119321       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:33.125757       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0792, numInputTokens, 7599
I0305 06:39:33.125782       1 tree.go:471] Updated node(0) last access: 131.2237 seconds
I0305 06:39:33.125791       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.125796       1 tree.go:471] Updated node(2) last access: 131.2237 seconds
I0305 06:39:33.125812       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:33.125818       1 tree.go:471] Updated node(12) last access: 131.2238 seconds
I0305 06:39:33.125829       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:33.125837       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:33.125847       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:33.125862       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:33.125871       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.125840072 +0000 UTC m=+131.342566945]
I0305 06:39:33.125893       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:33.125905       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:33.125986       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7478
I0305 06:39:33.126001       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:33.126014       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.126026       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.126045       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.126053       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.126067       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.126087       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:33.126106       1 prefix_cache_and_load.go:584] latency, Route, 0.7469
I0305 06:39:33.126165       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7263
I0305 06:39:33.126172       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.126176       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.126181       1 gateway.go:415] latency, selectTargetPod, 0.7470, target pod, 10.0.0.39:8000
I0305 06:39:33.126204       1 gateway.go:235] latency, HandleRequestBody, 0.7474
I0305 06:39:33.126306       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.126372       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:33.126379       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.144586       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2e36eac4, selectedpod, 10.0.3.42:8000, ttft, 666, tpot, 18, e2e, 832, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:33.144611       1 gateway.go:748] "Request completed" requestID="7ff6d1ed-eb2b-4c6d-b3a0-24bdbcaf592b" targetPod="10.0.3.42:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:33.144624       1 gateway.go:764] "HandleResponseBody completed" requestID="7ff6d1ed-eb2b-4c6d-b3a0-24bdbcaf592b" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:33.145952       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="adc2c586-9b54-4dea-a04b-e604ad44a1c2"
I0305 06:39:33.189736       1 gateway.go:608] "First token received" requestID="adc2c586-9b54-4dea-a04b-e604ad44a1c2" ttft_ms=810
I0305 06:39:33.212451       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0861, numInputTokens, 7593
I0305 06:39:33.212469       1 tree.go:471] Updated node(0) last access: 131.3104 seconds
I0305 06:39:33.212476       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.212479       1 tree.go:471] Updated node(2) last access: 131.3104 seconds
I0305 06:39:33.212494       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:33.212498       1 tree.go:471] Updated node(31) last access: 131.3104 seconds
I0305 06:39:33.212507       1 tree.go:667] Split complete - New node(111)
I0305 06:39:33.212522       1 tree.go:668] Split complete - Child node(32)
I0305 06:39:33.212530       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 06:39:33.212536       1 tree.go:471] Updated node(111) last access: 131.3105 seconds
I0305 06:39:33.212541       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:39:33.212547       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7593 tokens
I0305 06:39:33.212553       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 06:39:33.212558       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:33.212563       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.212548793 +0000 UTC m=+131.429275668]
I0305 06:39:33.212578       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7479, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:39:33.212585       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:39:33.212624       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7479
I0305 06:39:33.212633       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:33.212640       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.212645       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.212649       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.212657       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.212662       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.212669       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.212684       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:33.212695       1 prefix_cache_and_load.go:584] latency, Route, 0.8128
I0305 06:39:33.212711       1 gateway.go:415] latency, selectTargetPod, 0.8128, target pod, 10.0.1.28:8000
I0305 06:39:33.212720       1 gateway.go:235] latency, HandleRequestBody, 0.8131
I0305 06:39:33.212750       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8086
I0305 06:39:33.212756       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.212760       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.212809       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.212835       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:33.212840       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.229725       1 gateway.go:562] latency, 0.0000, summary, hash(request), 13acd843, selectedpod, 10.0.1.28:8000, ttft, 723, tpot, 19, e2e, 896, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:33.229746       1 gateway.go:748] "Request completed" requestID="2210e901-d839-4d07-95ca-2706cde161d2" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:33.229759       1 gateway.go:764] "HandleResponseBody completed" requestID="2210e901-d839-4d07-95ca-2706cde161d2" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:33.231546       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c87b2ba4-61bf-4a82-adb3-01cd6a2bac34"
I0305 06:39:33.257706       1 gateway.go:207] "Processing request" requestID="9d824e0a-a89f-490f-9683-941b9aeb0ee5"
I0305 06:39:33.257734       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9d824e0a-a89f-490f-9683-941b9aeb0ee5"
I0305 06:39:33.257743       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:33.262745       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 7601
I0305 06:39:33.262761       1 tree.go:471] Updated node(0) last access: 131.3607 seconds
I0305 06:39:33.262767       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.262771       1 tree.go:471] Updated node(2) last access: 131.3607 seconds
I0305 06:39:33.262782       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:33.262785       1 tree.go:471] Updated node(4) last access: 131.3607 seconds
I0305 06:39:33.262789       1 tree.go:484] Entire input tokens match the child node(40)
I0305 06:39:33.262794       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:33.262800       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:33.262808       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:33.262816       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.262796172 +0000 UTC m=+131.479523036 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:21.468955814 +0000 UTC m=+119.685682679]
I0305 06:39:33.262834       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:33.262841       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:33.262874       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7601
I0305 06:39:33.262886       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:33.262895       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.262902       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.262908       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.262912       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.262920       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.262929       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:33.262939       1 prefix_cache_and_load.go:584] latency, Route, 0.8588
I0305 06:39:33.262954       1 gateway.go:415] latency, selectTargetPod, 0.8588, target pod, 10.0.1.47:8000
I0305 06:39:33.262975       1 gateway.go:235] latency, HandleRequestBody, 0.8591
I0305 06:39:33.263005       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8350
I0305 06:39:33.263013       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.263017       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.263104       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.263130       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:33.263136       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.281723       1 gateway.go:608] "First token received" requestID="c87b2ba4-61bf-4a82-adb3-01cd6a2bac34" ttft_ms=882
I0305 06:39:33.282718       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="31e1b325-ca4e-4b9b-a449-25aae4ca5d95"
I0305 06:39:33.285390       1 gateway.go:562] latency, 0.0000, summary, hash(request), 36bf9e31, selectedpod, 10.0.3.41:8000, ttft, 760, tpot, 19, e2e, 934, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:33.285408       1 gateway.go:748] "Request completed" requestID="e657fdad-82cc-41c0-b798-ab4033127281" targetPod="10.0.3.41:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:33.285416       1 gateway.go:764] "HandleResponseBody completed" requestID="e657fdad-82cc-41c0-b798-ab4033127281" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:33.316129       1 gateway.go:608] "First token received" requestID="31e1b325-ca4e-4b9b-a449-25aae4ca5d95" ttft_ms=912
I0305 06:39:33.330069       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0669, numInputTokens, 7601
I0305 06:39:33.330086       1 tree.go:471] Updated node(0) last access: 131.4280 seconds
I0305 06:39:33.330093       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.330096       1 tree.go:471] Updated node(2) last access: 131.4280 seconds
I0305 06:39:33.330109       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:33.330113       1 tree.go:471] Updated node(23) last access: 131.4281 seconds
I0305 06:39:33.330118       1 tree.go:490] Partial tokens match child node(87). Continue to go deeper in the radix tree
I0305 06:39:33.330122       1 tree.go:471] Updated node(87) last access: 131.4281 seconds
I0305 06:39:33.330130       1 tree.go:667] Split complete - New node(113)
I0305 06:39:33.330135       1 tree.go:668] Split complete - Child node(106)
I0305 06:39:33.330140       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 06:39:33.330146       1 tree.go:471] Updated node(113) last access: 131.4281 seconds
I0305 06:39:33.330151       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:39:33.330156       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:33.330163       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:33.330169       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:33.330176       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.330158727 +0000 UTC m=+131.546885592]
I0305 06:39:33.330190       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7484, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:39:33.330198       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:39:33.330232       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7484
I0305 06:39:33.330241       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:33.330249       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.330254       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.330259       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.330265       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.330270       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.330275       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.330283       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.330292       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:33.330301       1 prefix_cache_and_load.go:584] latency, Route, 0.9023
I0305 06:39:33.330317       1 gateway.go:415] latency, selectTargetPod, 0.9023, target pod, 10.0.3.42:8000
I0305 06:39:33.330329       1 gateway.go:235] latency, HandleRequestBody, 0.9028
I0305 06:39:33.330357       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8922
I0305 06:39:33.330361       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.330364       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.330411       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.330435       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:33.330439       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.346647       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6c2ca1d1-dc90-4906-b439-dc7ef9112d3f"
I0305 06:39:33.363498       1 gateway.go:562] latency, 0.0000, summary, hash(request), ce738e63, selectedpod, 10.0.0.39:8000, ttft, 810, tpot, 19, e2e, 984, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:33.363534       1 gateway.go:748] "Request completed" requestID="adc2c586-9b54-4dea-a04b-e604ad44a1c2" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:33.363547       1 gateway.go:764] "HandleResponseBody completed" requestID="adc2c586-9b54-4dea-a04b-e604ad44a1c2" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:33.382399       1 gateway.go:608] "First token received" requestID="6c2ca1d1-dc90-4906-b439-dc7ef9112d3f" ttft_ms=954
I0305 06:39:33.389672       1 gateway.go:207] "Processing request" requestID="07a9ebcf-48c1-484c-81a7-628fa452376f"
I0305 06:39:33.389696       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="07a9ebcf-48c1-484c-81a7-628fa452376f"
I0305 06:39:33.389705       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:33.398820       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0684, numInputTokens, 7596
I0305 06:39:33.398835       1 tree.go:471] Updated node(0) last access: 131.4968 seconds
I0305 06:39:33.398841       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.398844       1 tree.go:471] Updated node(2) last access: 131.4968 seconds
I0305 06:39:33.398857       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:33.398860       1 tree.go:471] Updated node(18) last access: 131.4968 seconds
I0305 06:39:33.398866       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:33.398872       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 06:39:33.398878       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:33.398883       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:33.398888       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.398873797 +0000 UTC m=+131.615600661]
I0305 06:39:33.398901       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:33.398909       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:33.398943       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7478
I0305 06:39:33.398953       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:33.398961       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.398978       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.398983       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.398991       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.399002       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.399015       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:33.399028       1 prefix_cache_and_load.go:584] latency, Route, 0.9609
I0305 06:39:33.399044       1 gateway.go:415] latency, selectTargetPod, 0.9609, target pod, 10.0.0.131:8000
I0305 06:39:33.399055       1 gateway.go:235] latency, HandleRequestBody, 0.9614
I0305 06:39:33.399083       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9472
I0305 06:39:33.399088       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.399091       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.399140       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.399162       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:33.399167       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.418481       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="96d6b73b-48cd-4274-ae2b-09ef489d4f3d"
I0305 06:39:33.437673       1 gateway.go:329] "-- In RequestBody processing ..." requestID="40ec2939-0a78-4765-823b-c1fcdc258636"
I0305 06:39:33.437879       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="40ec2939-0a78-4765-823b-c1fcdc258636" model="qwen2-5-7b-instruct"
I0305 06:39:33.454527       1 gateway.go:562] latency, 0.0000, summary, hash(request), bc11c86a, selectedpod, 10.0.1.28:8000, ttft, 882, tpot, 19, e2e, 1054, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:39:33.454544       1 gateway.go:748] "Request completed" requestID="c87b2ba4-61bf-4a82-adb3-01cd6a2bac34" targetPod="10.0.1.28:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:39:33.454555       1 gateway.go:764] "HandleResponseBody completed" requestID="c87b2ba4-61bf-4a82-adb3-01cd6a2bac34" promptTokens=7613 completionTokens=10 stream=true
I0305 06:39:33.454577       1 gateway.go:608] "First token received" requestID="96d6b73b-48cd-4274-ae2b-09ef489d4f3d" ttft_ms=1016
I0305 06:39:33.471334       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9d824e0a-a89f-490f-9683-941b9aeb0ee5"
I0305 06:39:33.471553       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9d824e0a-a89f-490f-9683-941b9aeb0ee5" model="qwen2-5-7b-instruct"
I0305 06:39:33.479042       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0799, numInputTokens, 7599
I0305 06:39:33.479058       1 tree.go:471] Updated node(0) last access: 131.5770 seconds
I0305 06:39:33.479066       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.479072       1 tree.go:471] Updated node(2) last access: 131.5770 seconds
I0305 06:39:33.479087       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:33.479090       1 tree.go:471] Updated node(31) last access: 131.5770 seconds
I0305 06:39:33.479095       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:33.479101       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:33.479108       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:33.479114       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:33.479118       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.479103521 +0000 UTC m=+131.695830392]
I0305 06:39:33.479131       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:33.479139       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:33.479176       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:33.479186       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:33.479195       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.479201       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.479205       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.479210       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.479218       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.479231       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:33.479241       1 prefix_cache_and_load.go:584] latency, Route, 1.0274
I0305 06:39:33.479257       1 gateway.go:415] latency, selectTargetPod, 1.0274, target pod, 10.0.1.28:8000
I0305 06:39:33.479268       1 gateway.go:235] latency, HandleRequestBody, 1.0277
I0305 06:39:33.479289       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9882
I0305 06:39:33.479293       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.479297       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.479352       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.479377       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:33.479382       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.492156       1 gateway.go:562] latency, 0.0000, summary, hash(request), 76ac87c7, selectedpod, 10.0.1.47:8000, ttft, 912, tpot, 19, e2e, 1088, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:33.492177       1 gateway.go:748] "Request completed" requestID="31e1b325-ca4e-4b9b-a449-25aae4ca5d95" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:33.492188       1 gateway.go:764] "HandleResponseBody completed" requestID="31e1b325-ca4e-4b9b-a449-25aae4ca5d95" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:33.497939       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="89ea5563-6123-4e87-ade5-8a17c175cde1"
I0305 06:39:33.505547       1 gateway.go:329] "-- In RequestBody processing ..." requestID="07a9ebcf-48c1-484c-81a7-628fa452376f"
I0305 06:39:33.505737       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="07a9ebcf-48c1-484c-81a7-628fa452376f" model="qwen2-5-7b-instruct"
I0305 06:39:33.528793       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0494, numInputTokens, 7601
I0305 06:39:33.528822       1 tree.go:471] Updated node(0) last access: 131.6268 seconds
I0305 06:39:33.528830       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.528834       1 tree.go:471] Updated node(2) last access: 131.6268 seconds
I0305 06:39:33.528848       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:33.528852       1 tree.go:471] Updated node(23) last access: 131.6268 seconds
I0305 06:39:33.528858       1 tree.go:484] Entire input tokens match the child node(48)
I0305 06:39:33.528862       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:33.528870       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:33.528878       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:33.528892       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.528865778 +0000 UTC m=+131.745592649 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:23.836062053 +0000 UTC m=+122.052788918]
I0305 06:39:33.528918       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:33.528927       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:33.529009       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7601
I0305 06:39:33.529021       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:33.529032       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.529041       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.529049       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.529054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.529065       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.529079       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:33.529096       1 prefix_cache_and_load.go:584] latency, Route, 1.0380
I0305 06:39:33.529109       1 gateway.go:415] latency, selectTargetPod, 1.0381, target pod, 10.0.3.42:8000
I0305 06:39:33.529127       1 gateway.go:235] latency, HandleRequestBody, 1.0384
I0305 06:39:33.529185       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0255
I0305 06:39:33.529192       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.529195       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.529323       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.529390       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:33.529397       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.540709       1 gateway.go:608] "First token received" requestID="89ea5563-6123-4e87-ade5-8a17c175cde1" ttft_ms=1089
I0305 06:39:33.545611       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2cea471c-715c-47a1-bf5a-74ac22ad69dd"
I0305 06:39:33.564062       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7f1e5862, selectedpod, 10.0.3.42:8000, ttft, 954, tpot, 20, e2e, 1136, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:33.564083       1 gateway.go:748] "Request completed" requestID="6c2ca1d1-dc90-4906-b439-dc7ef9112d3f" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:33.564094       1 gateway.go:764] "HandleResponseBody completed" requestID="6c2ca1d1-dc90-4906-b439-dc7ef9112d3f" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:33.583549       1 gateway.go:608] "First token received" requestID="2cea471c-715c-47a1-bf5a-74ac22ad69dd" ttft_ms=1092
I0305 06:39:33.617493       1 gateway.go:207] "Processing request" requestID="9d6763ff-11c3-47a1-8edd-94b2ca742609"
I0305 06:39:33.617531       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9d6763ff-11c3-47a1-8edd-94b2ca742609"
I0305 06:39:33.617542       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:33.620368       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0910, numInputTokens, 7599
I0305 06:39:33.620387       1 tree.go:471] Updated node(0) last access: 131.7183 seconds
I0305 06:39:33.620393       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.620397       1 tree.go:471] Updated node(2) last access: 131.7183 seconds
I0305 06:39:33.620412       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:33.620417       1 tree.go:471] Updated node(4) last access: 131.7184 seconds
I0305 06:39:33.620428       1 tree.go:667] Split complete - New node(117)
I0305 06:39:33.620433       1 tree.go:668] Split complete - Child node(40)
I0305 06:39:33.620438       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:39:33.620444       1 tree.go:471] Updated node(117) last access: 131.7184 seconds
I0305 06:39:33.620453       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:39:33.620458       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:33.620464       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:33.620470       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:33.620475       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.62046064 +0000 UTC m=+131.837187504]
I0305 06:39:33.620488       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7482, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:39:33.620494       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:39:33.620541       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7482
I0305 06:39:33.620551       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:33.620558       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.620563       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.620568       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.620571       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.620574       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.620584       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.620593       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:33.620605       1 prefix_cache_and_load.go:584] latency, Route, 1.1169
I0305 06:39:33.620618       1 gateway.go:415] latency, selectTargetPod, 1.1170, target pod, 10.0.1.47:8000
I0305 06:39:33.620629       1 gateway.go:235] latency, HandleRequestBody, 1.1173
I0305 06:39:33.620657       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0948
I0305 06:39:33.620663       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.620667       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.620713       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.620737       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:33.620743       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.627429       1 gateway.go:562] latency, 0.0000, summary, hash(request), 682eb173, selectedpod, 10.0.0.131:8000, ttft, 1016, tpot, 19, e2e, 1189, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:33.627446       1 gateway.go:748] "Request completed" requestID="96d6b73b-48cd-4274-ae2b-09ef489d4f3d" targetPod="10.0.0.131:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:33.627455       1 gateway.go:764] "HandleResponseBody completed" requestID="96d6b73b-48cd-4274-ae2b-09ef489d4f3d" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:33.642606       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="81332a3e-36dd-42f4-8cbb-2be02f31f727"
I0305 06:39:33.657873       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9d6763ff-11c3-47a1-8edd-94b2ca742609"
I0305 06:39:33.658092       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9d6763ff-11c3-47a1-8edd-94b2ca742609" model="qwen2-5-7b-instruct"
I0305 06:39:33.671410       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0507, numInputTokens, 7602
I0305 06:39:33.671425       1 tree.go:471] Updated node(0) last access: 131.7694 seconds
I0305 06:39:33.671431       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.671435       1 tree.go:471] Updated node(2) last access: 131.7694 seconds
I0305 06:39:33.671450       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:33.671456       1 tree.go:471] Updated node(53) last access: 131.7694 seconds
I0305 06:39:33.671463       1 tree.go:667] Split complete - New node(119)
I0305 06:39:33.671467       1 tree.go:668] Split complete - Child node(61)
I0305 06:39:33.671473       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 06:39:33.671480       1 tree.go:471] Updated node(119) last access: 131.7694 seconds
I0305 06:39:33.671488       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:33.671493       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:33.671499       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:33.671504       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:33.671517       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.671495052 +0000 UTC m=+131.888221916]
I0305 06:39:33.671532       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7487, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:33.671546       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:33.671577       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7487
I0305 06:39:33.671586       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:33.671596       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.671602       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.671608       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.671612       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.671616       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.671624       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.671633       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:33.671642       1 prefix_cache_and_load.go:584] latency, Route, 1.1458
I0305 06:39:33.671655       1 gateway.go:415] latency, selectTargetPod, 1.1458, target pod, 10.0.0.34:8000
I0305 06:39:33.671664       1 gateway.go:235] latency, HandleRequestBody, 1.1461
I0305 06:39:33.671689       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1403
I0305 06:39:33.671693       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.671696       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.671744       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.671767       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:33.671772       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.685188       1 gateway.go:608] "First token received" requestID="81332a3e-36dd-42f4-8cbb-2be02f31f727" ttft_ms=1181
I0305 06:39:33.690221       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0e73b4ea-a50f-46e1-b073-687d6c9e3d87"
I0305 06:39:33.713539       1 gateway.go:562] latency, 0.0001, summary, hash(request), 571c1b01, selectedpod, 10.0.1.28:8000, ttft, 1089, tpot, 19, e2e, 1261, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:33.713560       1 gateway.go:748] "Request completed" requestID="89ea5563-6123-4e87-ade5-8a17c175cde1" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:33.713572       1 gateway.go:764] "HandleResponseBody completed" requestID="89ea5563-6123-4e87-ade5-8a17c175cde1" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:33.725802       1 gateway.go:608] "First token received" requestID="0e73b4ea-a50f-46e1-b073-687d6c9e3d87" ttft_ms=1200
I0305 06:39:33.729929       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0581, numInputTokens, 7598
I0305 06:39:33.729949       1 tree.go:471] Updated node(0) last access: 131.8279 seconds
I0305 06:39:33.729955       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.729958       1 tree.go:471] Updated node(2) last access: 131.8279 seconds
I0305 06:39:33.729981       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:33.729987       1 tree.go:471] Updated node(53) last access: 131.8279 seconds
I0305 06:39:33.729992       1 tree.go:484] Entire input tokens match the child node(54)
I0305 06:39:33.729995       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:33.730002       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:33.730007       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:33.730012       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.72999814 +0000 UTC m=+131.946725004 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:24.315354745 +0000 UTC m=+122.532081613]
I0305 06:39:33.730028       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:33.730036       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:33.730072       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7598
I0305 06:39:33.730081       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:33.730091       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.730097       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.730102       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.730109       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.730116       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.730126       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:33.730140       1 prefix_cache_and_load.go:584] latency, Route, 1.1987
I0305 06:39:33.730155       1 gateway.go:415] latency, selectTargetPod, 1.1988, target pod, 10.0.0.34:8000
I0305 06:39:33.730167       1 gateway.go:235] latency, HandleRequestBody, 1.1992
I0305 06:39:33.730170       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1512
I0305 06:39:33.730182       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.730186       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.730281       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.730307       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:33.730312       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.739958       1 gateway.go:207] "Processing request" requestID="f74975b0-0048-449e-a734-027b76b4f579"
I0305 06:39:33.739993       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f74975b0-0048-449e-a734-027b76b4f579"
I0305 06:39:33.740001       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:33.748453       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="16f2c49e-f6ce-4096-878b-2dddcd0baaad"
I0305 06:39:33.756950       1 gateway.go:562] latency, 0.0000, summary, hash(request), 69f78e42, selectedpod, 10.0.3.42:8000, ttft, 1092, tpot, 19, e2e, 1266, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:33.756978       1 gateway.go:748] "Request completed" requestID="2cea471c-715c-47a1-bf5a-74ac22ad69dd" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:33.756989       1 gateway.go:764] "HandleResponseBody completed" requestID="2cea471c-715c-47a1-bf5a-74ac22ad69dd" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:33.786604       1 gateway.go:608] "First token received" requestID="16f2c49e-f6ce-4096-878b-2dddcd0baaad" ttft_ms=1255
I0305 06:39:33.796850       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0665, numInputTokens, 7600
I0305 06:39:33.796868       1 tree.go:471] Updated node(0) last access: 131.8948 seconds
I0305 06:39:33.796874       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.796879       1 tree.go:471] Updated node(2) last access: 131.8948 seconds
I0305 06:39:33.796897       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:33.796900       1 tree.go:471] Updated node(8) last access: 131.8948 seconds
I0305 06:39:33.796905       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 06:39:33.796907       1 tree.go:471] Updated node(16) last access: 131.8948 seconds
I0305 06:39:33.796911       1 tree.go:490] Partial tokens match child node(34). Continue to go deeper in the radix tree
I0305 06:39:33.796913       1 tree.go:471] Updated node(34) last access: 131.8949 seconds
I0305 06:39:33.796919       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:33.796925       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:33.796933       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:33.796940       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:33.796945       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.796927672 +0000 UTC m=+132.013654537]
I0305 06:39:33.796960       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:33.796978       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:33.797015       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7484
I0305 06:39:33.797024       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:33.797032       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.797039       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.797044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.797053       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.797059       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.797063       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.797072       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.797082       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:33.797093       1 prefix_cache_and_load.go:584] latency, Route, 1.2181
I0305 06:39:33.797110       1 gateway.go:415] latency, selectTargetPod, 1.2181, target pod, 10.0.1.53:8000
I0305 06:39:33.797123       1 gateway.go:235] latency, HandleRequestBody, 1.2185
I0305 06:39:33.797154       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2090
I0305 06:39:33.797158       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.797162       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.797216       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.797246       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:33.797253       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.820138       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f74975b0-0048-449e-a734-027b76b4f579"
I0305 06:39:33.820293       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="164d41a3-b157-49cc-be48-1e36e703a8bc"
I0305 06:39:33.820349       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f74975b0-0048-449e-a734-027b76b4f579" model="qwen2-5-7b-instruct"
I0305 06:39:33.856441       1 gateway.go:608] "First token received" requestID="164d41a3-b157-49cc-be48-1e36e703a8bc" ttft_ms=1277
I0305 06:39:33.860629       1 gateway.go:562] latency, 0.0000, summary, hash(request), f7af61af, selectedpod, 10.0.1.47:8000, ttft, 1181, tpot, 19, e2e, 1357, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:33.860644       1 gateway.go:748] "Request completed" requestID="81332a3e-36dd-42f4-8cbb-2be02f31f727" targetPod="10.0.1.47:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:33.860653       1 gateway.go:764] "HandleResponseBody completed" requestID="81332a3e-36dd-42f4-8cbb-2be02f31f727" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:33.885277       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0880, numInputTokens, 7602
I0305 06:39:33.885295       1 tree.go:471] Updated node(0) last access: 131.9832 seconds
I0305 06:39:33.885301       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.885304       1 tree.go:471] Updated node(2) last access: 131.9832 seconds
I0305 06:39:33.885317       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:33.885320       1 tree.go:471] Updated node(23) last access: 131.9833 seconds
I0305 06:39:33.885323       1 tree.go:490] Partial tokens match child node(49). Continue to go deeper in the radix tree
I0305 06:39:33.885325       1 tree.go:471] Updated node(49) last access: 131.9833 seconds
I0305 06:39:33.885329       1 tree.go:484] Entire input tokens match the child node(50)
I0305 06:39:33.885334       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:33.885342       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:33.885349       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:33.885355       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.8853365 +0000 UTC m=+132.102063374 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:23.997037991 +0000 UTC m=+122.213764859]
I0305 06:39:33.885374       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:33.885380       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:33.885418       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7602
I0305 06:39:33.885430       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:33.885440       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.885445       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.885449       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.885453       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.885457       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.885466       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.885475       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:33.885487       1 prefix_cache_and_load.go:584] latency, Route, 1.2973
I0305 06:39:33.885499       1 gateway.go:415] latency, selectTargetPod, 1.2973, target pod, 10.0.3.42:8000
I0305 06:39:33.885522       1 gateway.go:235] latency, HandleRequestBody, 1.2976
I0305 06:39:33.885535       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2602
I0305 06:39:33.885546       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.885550       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.885641       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.885675       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:33.885683       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.887429       1 gateway.go:207] "Processing request" requestID="e1baad41-dfc0-436b-ba24-8fe5c3ab179d"
I0305 06:39:33.887454       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e1baad41-dfc0-436b-ba24-8fe5c3ab179d"
I0305 06:39:33.887463       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:33.900660       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0ae3aa06-77c7-431a-bd1e-e6f882238dae"
I0305 06:39:33.914035       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e1baad41-dfc0-436b-ba24-8fe5c3ab179d"
I0305 06:39:33.927667       1 gateway.go:562] latency, 0.0000, summary, hash(request), fa12a647, selectedpod, 10.0.0.34:8000, ttft, 1200, tpot, 22, e2e, 1402, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:33.927691       1 gateway.go:748] "Request completed" requestID="0e73b4ea-a50f-46e1-b073-687d6c9e3d87" targetPod="10.0.0.34:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:33.927707       1 gateway.go:764] "HandleResponseBody completed" requestID="0e73b4ea-a50f-46e1-b073-687d6c9e3d87" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:33.931852       1 gateway.go:608] "First token received" requestID="0ae3aa06-77c7-431a-bd1e-e6f882238dae" ttft_ms=1343
I0305 06:39:33.939959       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0543, numInputTokens, 7596
I0305 06:39:33.939983       1 tree.go:471] Updated node(0) last access: 132.0379 seconds
I0305 06:39:33.939989       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:33.939993       1 tree.go:471] Updated node(2) last access: 132.0379 seconds
I0305 06:39:33.940007       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:33.940012       1 tree.go:471] Updated node(4) last access: 132.0380 seconds
I0305 06:39:33.940016       1 tree.go:490] Partial tokens match child node(58). Continue to go deeper in the radix tree
I0305 06:39:33.940020       1 tree.go:471] Updated node(58) last access: 132.0380 seconds
I0305 06:39:33.940029       1 tree.go:484] Entire input tokens match the child node(59)
I0305 06:39:33.940033       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:33.940043       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:33.940053       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:33.940061       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:33.940037258 +0000 UTC m=+132.156764142 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:25.153745188 +0000 UTC m=+123.370472052]
I0305 06:39:33.940086       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:33.940098       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:33.940151       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7596
I0305 06:39:33.940162       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:33.940174       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.940183       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.940191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.940199       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.940206       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:33.940218       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:33.940232       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:33.940248       1 prefix_cache_and_load.go:584] latency, Route, 1.3149
I0305 06:39:33.940262       1 gateway.go:415] latency, selectTargetPod, 1.3150, target pod, 10.0.1.47:8000
I0305 06:39:33.940273       1 gateway.go:235] latency, HandleRequestBody, 1.3153
I0305 06:39:33.940275       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3022
I0305 06:39:33.940291       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:33.940296       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:33.940388       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:33.940418       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:33.940425       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:33.961159       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9276e6d3-7e9f-4ad5-a939-2338d6e424d4"
I0305 06:39:33.967026       1 gateway.go:562] latency, 0.0000, summary, hash(request), bd7e4698, selectedpod, 10.0.0.34:8000, ttft, 1255, tpot, 20, e2e, 1435, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:33.967046       1 gateway.go:748] "Request completed" requestID="16f2c49e-f6ce-4096-878b-2dddcd0baaad" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:33.967057       1 gateway.go:764] "HandleResponseBody completed" requestID="16f2c49e-f6ce-4096-878b-2dddcd0baaad" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:33.979034       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e1baad41-dfc0-436b-ba24-8fe5c3ab179d" model="qwen2-5-7b-instruct"
I0305 06:39:33.989716       1 gateway.go:608] "First token received" requestID="9276e6d3-7e9f-4ad5-a939-2338d6e424d4" ttft_ms=1364
I0305 06:39:33.990644       1 gateway.go:207] "Processing request" requestID="f7fa6c5e-59bf-464a-b101-dd0576371c97"
I0305 06:39:33.990665       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f7fa6c5e-59bf-464a-b101-dd0576371c97"
I0305 06:39:33.990673       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:34.008765       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f7fa6c5e-59bf-464a-b101-dd0576371c97"
I0305 06:39:34.008989       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f7fa6c5e-59bf-464a-b101-dd0576371c97" model="qwen2-5-7b-instruct"
I0305 06:39:34.025006       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0846, numInputTokens, 7599
I0305 06:39:34.025023       1 tree.go:471] Updated node(0) last access: 132.1230 seconds
I0305 06:39:34.025031       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.025037       1 tree.go:471] Updated node(2) last access: 132.1230 seconds
I0305 06:39:34.025052       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:34.025056       1 tree.go:471] Updated node(53) last access: 132.1230 seconds
I0305 06:39:34.025060       1 tree.go:484] Entire input tokens match the child node(57)
I0305 06:39:34.025065       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:34.025071       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:34.025078       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.025083       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.025067056 +0000 UTC m=+132.241793920 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:24.935588694 +0000 UTC m=+123.152315566]
I0305 06:39:34.025100       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:34.025111       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:34.025152       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:39:34.025161       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:34.025170       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.025175       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.025180       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.025185       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.025194       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.025205       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:34.025216       1 prefix_cache_and_load.go:584] latency, Route, 1.3871
I0305 06:39:34.025230       1 gateway.go:415] latency, selectTargetPod, 1.3871, target pod, 10.0.0.34:8000
I0305 06:39:34.025240       1 gateway.go:235] latency, HandleRequestBody, 1.3875
I0305 06:39:34.025245       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3376
I0305 06:39:34.025257       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.025264       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.025369       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.025398       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:34.025404       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.029343       1 gateway.go:562] latency, 0.0000, summary, hash(request), 96efbd11, selectedpod, 10.0.1.53:8000, ttft, 1277, tpot, 19, e2e, 1450, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:34.029363       1 gateway.go:748] "Request completed" requestID="164d41a3-b157-49cc-be48-1e36e703a8bc" targetPod="10.0.1.53:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:34.029378       1 gateway.go:764] "HandleResponseBody completed" requestID="164d41a3-b157-49cc-be48-1e36e703a8bc" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:34.043600       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8bbf1d6a-f975-4964-9fb3-f93693ab92d8"
I0305 06:39:34.074328       1 gateway.go:608] "First token received" requestID="8bbf1d6a-f975-4964-9fb3-f93693ab92d8" ttft_ms=1436
I0305 06:39:34.084375       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0590, numInputTokens, 7599
I0305 06:39:34.084400       1 tree.go:471] Updated node(0) last access: 132.1823 seconds
I0305 06:39:34.084406       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.084411       1 tree.go:471] Updated node(2) last access: 132.1824 seconds
I0305 06:39:34.084424       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:34.084430       1 tree.go:471] Updated node(23) last access: 132.1824 seconds
I0305 06:39:34.084439       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:34.084445       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:34.084459       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:34.084467       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.084474       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.084447538 +0000 UTC m=+132.301174416]
I0305 06:39:34.084493       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:34.084500       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:34.084576       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7478
I0305 06:39:34.084587       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:34.084594       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.084601       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.084606       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.084611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.084619       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.084629       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:34.084646       1 prefix_cache_and_load.go:584] latency, Route, 1.3971
I0305 06:39:34.084690       1 gateway.go:415] latency, selectTargetPod, 1.3971, target pod, 10.0.3.42:8000
I0305 06:39:34.084714       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3955
I0305 06:39:34.084750       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.084750       1 gateway.go:235] latency, HandleRequestBody, 1.3974
I0305 06:39:34.084754       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.085203       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.085363       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0006
I0305 06:39:34.085371       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.093269       1 gateway.go:207] "Processing request" requestID="75eb8afd-a7f0-449a-ae5e-6fe0296868e5"
I0305 06:39:34.093300       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="75eb8afd-a7f0-449a-ae5e-6fe0296868e5"
I0305 06:39:34.093309       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:34.100869       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e1bdfd6a-4e79-42b6-a323-6f0e0a7caceb"
I0305 06:39:34.114794       1 gateway.go:562] latency, 0.0000, summary, hash(request), 45d64f59, selectedpod, 10.0.3.42:8000, ttft, 1343, tpot, 20, e2e, 1526, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:34.114815       1 gateway.go:748] "Request completed" requestID="0ae3aa06-77c7-431a-bd1e-e6f882238dae" targetPod="10.0.3.42:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:34.114828       1 gateway.go:764] "HandleResponseBody completed" requestID="0ae3aa06-77c7-431a-bd1e-e6f882238dae" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:34.134021       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 7593
I0305 06:39:34.134040       1 tree.go:471] Updated node(0) last access: 132.2320 seconds
I0305 06:39:34.134046       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.134050       1 tree.go:471] Updated node(2) last access: 132.2320 seconds
I0305 06:39:34.134064       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:34.134069       1 tree.go:471] Updated node(8) last access: 132.2320 seconds
I0305 06:39:34.134072       1 tree.go:490] Partial tokens match child node(90). Continue to go deeper in the radix tree
I0305 06:39:34.134076       1 tree.go:471] Updated node(90) last access: 132.2320 seconds
I0305 06:39:34.134080       1 tree.go:484] Entire input tokens match the child node(55)
I0305 06:39:34.134084       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7593 tokens
I0305 06:39:34.134091       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 06:39:34.134097       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.134102       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.134086796 +0000 UTC m=+132.350813660 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:24.711744934 +0000 UTC m=+122.928471799]
I0305 06:39:34.134120       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7593, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:34.134127       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:34.134162       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7593
I0305 06:39:34.134171       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:34.134181       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.134186       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.134191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.134196       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.134201       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.134210       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.134219       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:34.134232       1 prefix_cache_and_load.go:584] latency, Route, 1.4450
I0305 06:39:34.134246       1 gateway.go:415] latency, selectTargetPod, 1.4450, target pod, 10.0.1.53:8000
I0305 06:39:34.134257       1 gateway.go:235] latency, HandleRequestBody, 1.4453
I0305 06:39:34.134257       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4407
I0305 06:39:34.134265       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.134268       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.134366       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.134395       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:34.134401       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.136254       1 gateway.go:329] "-- In RequestBody processing ..." requestID="75eb8afd-a7f0-449a-ae5e-6fe0296868e5"
I0305 06:39:34.136471       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="75eb8afd-a7f0-449a-ae5e-6fe0296868e5" model="qwen2-5-7b-instruct"
I0305 06:39:34.145376       1 gateway.go:608] "First token received" requestID="e1bdfd6a-4e79-42b6-a323-6f0e0a7caceb" ttft_ms=1458
I0305 06:39:34.153477       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="518dc52d-837b-4745-81ee-e8dc9f529070"
I0305 06:39:34.163067       1 gateway.go:562] latency, 0.0000, summary, hash(request), 777a1a47, selectedpod, 10.0.1.47:8000, ttft, 1364, tpot, 19, e2e, 1538, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:34.163087       1 gateway.go:748] "Request completed" requestID="9276e6d3-7e9f-4ad5-a939-2338d6e424d4" targetPod="10.0.1.47:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:34.163097       1 gateway.go:764] "HandleResponseBody completed" requestID="9276e6d3-7e9f-4ad5-a939-2338d6e424d4" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:34.184986       1 gateway.go:608] "First token received" requestID="518dc52d-837b-4745-81ee-e8dc9f529070" ttft_ms=1496
I0305 06:39:34.206048       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0716, numInputTokens, 7599
I0305 06:39:34.206064       1 tree.go:471] Updated node(0) last access: 132.3040 seconds
I0305 06:39:34.206072       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.206079       1 tree.go:471] Updated node(2) last access: 132.3040 seconds
I0305 06:39:34.206093       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:34.206097       1 tree.go:471] Updated node(51) last access: 132.3040 seconds
I0305 06:39:34.206113       1 tree.go:667] Split complete - New node(123)
I0305 06:39:34.206118       1 tree.go:668] Split complete - Child node(93)
I0305 06:39:34.206124       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:39:34.206129       1 tree.go:471] Updated node(123) last access: 132.3041 seconds
I0305 06:39:34.206133       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:34.206137       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:34.206144       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:34.206151       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.206159       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.206139621 +0000 UTC m=+132.422866486]
I0305 06:39:34.206174       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7481, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:34.206181       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:34.206217       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7481
I0305 06:39:34.206227       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:34.206237       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.206246       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.206250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.206257       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.206263       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.206271       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.206280       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:34.206289       1 prefix_cache_and_load.go:584] latency, Route, 1.5127
I0305 06:39:34.206302       1 gateway.go:415] latency, selectTargetPod, 1.5127, target pod, 10.0.1.28:8000
I0305 06:39:34.206312       1 gateway.go:235] latency, HandleRequestBody, 1.5130
I0305 06:39:34.206310       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5123
I0305 06:39:34.206318       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.206323       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.206421       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.206455       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:34.206463       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.219025       1 gateway.go:207] "Processing request" requestID="0dcbcb10-b904-4ad9-9288-2b736c66debe"
I0305 06:39:34.219076       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0dcbcb10-b904-4ad9-9288-2b736c66debe"
I0305 06:39:34.219090       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:34.226076       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="de69b767-8fe7-4d2b-b5ec-88998d8793f2"
I0305 06:39:34.246091       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0dcbcb10-b904-4ad9-9288-2b736c66debe"
I0305 06:39:34.246310       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0dcbcb10-b904-4ad9-9288-2b736c66debe" model="qwen2-5-7b-instruct"
I0305 06:39:34.269854       1 gateway.go:608] "First token received" requestID="de69b767-8fe7-4d2b-b5ec-88998d8793f2" ttft_ms=1576
I0305 06:39:34.278661       1 gateway.go:562] latency, 0.0000, summary, hash(request), ea53cbfa, selectedpod, 10.0.0.34:8000, ttft, 1436, tpot, 22, e2e, 1640, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:34.278679       1 gateway.go:748] "Request completed" requestID="8bbf1d6a-f975-4964-9fb3-f93693ab92d8" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:34.278691       1 gateway.go:764] "HandleResponseBody completed" requestID="8bbf1d6a-f975-4964-9fb3-f93693ab92d8" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:34.284381       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0779, numInputTokens, 7595
I0305 06:39:34.284401       1 tree.go:471] Updated node(0) last access: 132.3823 seconds
I0305 06:39:34.284409       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.284415       1 tree.go:471] Updated node(2) last access: 132.3824 seconds
I0305 06:39:34.284431       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:34.284435       1 tree.go:471] Updated node(18) last access: 132.3824 seconds
I0305 06:39:34.284444       1 tree.go:667] Split complete - New node(125)
I0305 06:39:34.284447       1 tree.go:668] Split complete - Child node(115)
I0305 06:39:34.284451       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:39:34.284455       1 tree.go:471] Updated node(125) last access: 132.3824 seconds
I0305 06:39:34.284462       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:34.284465       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:39:34.284470       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:39:34.284477       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.284482       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.284467267 +0000 UTC m=+132.501194133]
I0305 06:39:34.284499       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7480, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:34.284507       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:34.284548       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7480
I0305 06:39:34.284556       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:34.284567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.284575       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.284584       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.284588       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.284597       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.284610       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.284621       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:34.284637       1 prefix_cache_and_load.go:584] latency, Route, 1.5906
I0305 06:39:34.284651       1 gateway.go:415] latency, selectTargetPod, 1.5906, target pod, 10.0.0.131:8000
I0305 06:39:34.284660       1 gateway.go:235] latency, HandleRequestBody, 1.5910
I0305 06:39:34.284664       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5872
I0305 06:39:34.284676       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.284680       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.284773       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.284803       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:34.284808       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.303873       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="76058643-19e3-4433-9461-a0f8d6b27b0c"
I0305 06:39:34.309388       1 gateway.go:207] "Processing request" requestID="8f7cac7b-2cd9-4077-90ba-80fd40dc8daf"
I0305 06:39:34.309422       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8f7cac7b-2cd9-4077-90ba-80fd40dc8daf"
I0305 06:39:34.309429       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:34.321127       1 gateway.go:562] latency, 0.0000, summary, hash(request), e608a3a9, selectedpod, 10.0.3.42:8000, ttft, 1458, tpot, 19, e2e, 1633, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:34.321149       1 gateway.go:748] "Request completed" requestID="e1bdfd6a-4e79-42b6-a323-6f0e0a7caceb" targetPod="10.0.3.42:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:34.321161       1 gateway.go:764] "HandleResponseBody completed" requestID="e1bdfd6a-4e79-42b6-a323-6f0e0a7caceb" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:34.336588       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8f7cac7b-2cd9-4077-90ba-80fd40dc8daf"
I0305 06:39:34.336822       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8f7cac7b-2cd9-4077-90ba-80fd40dc8daf" model="qwen2-5-7b-instruct"
I0305 06:39:34.336873       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0521, numInputTokens, 7602
I0305 06:39:34.336893       1 tree.go:471] Updated node(0) last access: 132.4348 seconds
I0305 06:39:34.336901       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.336904       1 tree.go:471] Updated node(2) last access: 132.4348 seconds
I0305 06:39:34.336918       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:34.336921       1 tree.go:471] Updated node(4) last access: 132.4349 seconds
I0305 06:39:34.336924       1 tree.go:490] Partial tokens match child node(117). Continue to go deeper in the radix tree
I0305 06:39:34.336927       1 tree.go:471] Updated node(117) last access: 132.4349 seconds
I0305 06:39:34.336933       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:34.336937       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:34.336944       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:34.336950       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.336956       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.336939397 +0000 UTC m=+132.553666271]
I0305 06:39:34.336979       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7482, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:34.336988       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:34.337023       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7482
I0305 06:39:34.337032       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:34.337039       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.337044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.337049       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.337054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.337059       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.337069       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.337078       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:34.337089       1 prefix_cache_and_load.go:584] latency, Route, 1.6397
I0305 06:39:34.337104       1 gateway.go:415] latency, selectTargetPod, 1.6397, target pod, 10.0.1.47:8000
I0305 06:39:34.337112       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6367
I0305 06:39:34.337116       1 gateway.go:235] latency, HandleRequestBody, 1.6400
I0305 06:39:34.337119       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.337122       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.337212       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.337236       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:34.337242       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.339940       1 gateway.go:608] "First token received" requestID="76058643-19e3-4433-9461-a0f8d6b27b0c" ttft_ms=1646
I0305 06:39:34.356202       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="844e20f2-fb8a-4971-9683-dc1b2015edd8"
I0305 06:39:34.358039       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3e93b3f2, selectedpod, 10.0.1.53:8000, ttft, 1496, tpot, 19, e2e, 1669, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 06:39:34.358054       1 gateway.go:748] "Request completed" requestID="518dc52d-837b-4745-81ee-e8dc9f529070" targetPod="10.0.1.53:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 06:39:34.358062       1 gateway.go:764] "HandleResponseBody completed" requestID="518dc52d-837b-4745-81ee-e8dc9f529070" promptTokens=7612 completionTokens=10 stream=true
I0305 06:39:34.399042       1 gateway.go:608] "First token received" requestID="844e20f2-fb8a-4971-9683-dc1b2015edd8" ttft_ms=1701
I0305 06:39:34.414555       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0773, numInputTokens, 7598
I0305 06:39:34.414577       1 tree.go:471] Updated node(0) last access: 132.5125 seconds
I0305 06:39:34.414583       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.414587       1 tree.go:471] Updated node(2) last access: 132.5125 seconds
I0305 06:39:34.414600       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:34.414605       1 tree.go:471] Updated node(31) last access: 132.5125 seconds
I0305 06:39:34.414609       1 tree.go:484] Entire input tokens match the child node(56)
I0305 06:39:34.414614       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:34.414620       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:34.414630       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.414639       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.414616036 +0000 UTC m=+132.631342908 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:24.886328394 +0000 UTC m=+123.103055261]
I0305 06:39:34.414664       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:34.414675       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:34.414741       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7598
I0305 06:39:34.414751       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:34.414762       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.414770       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.414777       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.414783       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.414791       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.414801       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:34.414814       1 prefix_cache_and_load.go:584] latency, Route, 1.7144
I0305 06:39:34.414835       1 gateway.go:415] latency, selectTargetPod, 1.7144, target pod, 10.0.1.28:8000
I0305 06:39:34.414849       1 gateway.go:235] latency, HandleRequestBody, 1.7147
I0305 06:39:34.414879       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7116
I0305 06:39:34.414883       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.414886       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.414995       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.415118       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:34.415152       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.430898       1 gateway.go:207] "Processing request" requestID="ba5b2f05-0a6f-4766-adc3-a8d82237d7fc"
I0305 06:39:34.430928       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ba5b2f05-0a6f-4766-adc3-a8d82237d7fc"
I0305 06:39:34.430937       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:34.432771       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8300e3b9-f5ed-472c-b1b2-17216b12a26c"
I0305 06:39:34.478683       1 gateway.go:608] "First token received" requestID="8300e3b9-f5ed-472c-b1b2-17216b12a26c" ttft_ms=1778
I0305 06:39:34.478740       1 gateway.go:562] latency, 0.0000, summary, hash(request), 87b3ce5e, selectedpod, 10.0.1.28:8000, ttft, 1576, tpot, 23, e2e, 1785, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:34.478767       1 gateway.go:748] "Request completed" requestID="de69b767-8fe7-4d2b-b5ec-88998d8793f2" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:34.478778       1 gateway.go:764] "HandleResponseBody completed" requestID="de69b767-8fe7-4d2b-b5ec-88998d8793f2" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:34.480405       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ba5b2f05-0a6f-4766-adc3-a8d82237d7fc"
I0305 06:39:34.480601       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ba5b2f05-0a6f-4766-adc3-a8d82237d7fc" model="qwen2-5-7b-instruct"
I0305 06:39:34.494358       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0792, numInputTokens, 7596
I0305 06:39:34.494376       1 tree.go:471] Updated node(0) last access: 132.5923 seconds
I0305 06:39:34.494383       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.494386       1 tree.go:471] Updated node(2) last access: 132.5923 seconds
I0305 06:39:34.494400       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:34.494405       1 tree.go:471] Updated node(26) last access: 132.5923 seconds
I0305 06:39:34.494409       1 tree.go:484] Entire input tokens match the child node(60)
I0305 06:39:34.494414       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 06:39:34.494420       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:34.494427       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.494431       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.494416333 +0000 UTC m=+132.711143197 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:25.428226123 +0000 UTC m=+123.644952987]
I0305 06:39:34.494447       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:34.494454       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:34.494499       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7596
I0305 06:39:34.494508       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:34.494527       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.494531       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.494535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.494540       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.494547       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.494556       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:34.494565       1 prefix_cache_and_load.go:584] latency, Route, 1.7913
I0305 06:39:34.494580       1 gateway.go:415] latency, selectTargetPod, 1.7913, target pod, 10.0.3.41:8000
I0305 06:39:34.494591       1 gateway.go:235] latency, HandleRequestBody, 1.7916
I0305 06:39:34.494589       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7894
I0305 06:39:34.494596       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.494599       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.494686       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.494711       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:34.494716       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.510710       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ef17e7a0-ca7b-46e6-aba3-00d1f11ecc9a"
I0305 06:39:34.513440       1 gateway.go:562] latency, 0.0000, summary, hash(request), d5f9798e, selectedpod, 10.0.0.131:8000, ttft, 1646, tpot, 19, e2e, 1819, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:39:34.513455       1 gateway.go:748] "Request completed" requestID="76058643-19e3-4433-9461-a0f8d6b27b0c" targetPod="10.0.0.131:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:39:34.513464       1 gateway.go:764] "HandleResponseBody completed" requestID="76058643-19e3-4433-9461-a0f8d6b27b0c" promptTokens=7614 completionTokens=10 stream=true
I0305 06:39:34.542736       1 gateway.go:608] "First token received" requestID="ef17e7a0-ca7b-46e6-aba3-00d1f11ecc9a" ttft_ms=1839
I0305 06:39:34.547042       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0523, numInputTokens, 7602
I0305 06:39:34.547061       1 tree.go:471] Updated node(0) last access: 132.6450 seconds
I0305 06:39:34.547068       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.547072       1 tree.go:471] Updated node(2) last access: 132.6450 seconds
I0305 06:39:34.547086       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:34.547090       1 tree.go:471] Updated node(51) last access: 132.6450 seconds
I0305 06:39:34.547104       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 06:39:34.547110       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:34.547118       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:34.547124       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.547135       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.547112379 +0000 UTC m=+132.763839244]
I0305 06:39:34.547150       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 06:39:34.547159       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 06:39:34.547288       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:34.547314       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:34.547328       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.547337       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.547344       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.547353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.547365       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.547386       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:34.547405       1 prefix_cache_and_load.go:584] latency, Route, 1.8422
I0305 06:39:34.547419       1 gateway.go:415] latency, selectTargetPod, 1.8422, target pod, 10.0.1.28:8000
I0305 06:39:34.547434       1 gateway.go:235] latency, HandleRequestBody, 1.8425
I0305 06:39:34.547464       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8399
I0305 06:39:34.547468       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.547472       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.547695       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.547784       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:39:34.547791       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.560839       1 gateway.go:207] "Processing request" requestID="64ca7ddf-22e6-486e-9fa9-5405bbf488df"
I0305 06:39:34.560878       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="64ca7ddf-22e6-486e-9fa9-5405bbf488df"
I0305 06:39:34.560886       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:34.566276       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d6e5e43e-26dd-4830-87d6-4531597efa1d"
I0305 06:39:34.572219       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3ccb81f7, selectedpod, 10.0.1.47:8000, ttft, 1701, tpot, 19, e2e, 1875, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:34.572240       1 gateway.go:748] "Request completed" requestID="844e20f2-fb8a-4971-9683-dc1b2015edd8" targetPod="10.0.1.47:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:34.572252       1 gateway.go:764] "HandleResponseBody completed" requestID="844e20f2-fb8a-4971-9683-dc1b2015edd8" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:34.621247       1 gateway.go:608] "First token received" requestID="d6e5e43e-26dd-4830-87d6-4531597efa1d" ttft_ms=1916
I0305 06:39:34.627414       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0796, numInputTokens, 7598
I0305 06:39:34.627433       1 tree.go:471] Updated node(0) last access: 132.7254 seconds
I0305 06:39:34.627439       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.627443       1 tree.go:471] Updated node(2) last access: 132.7254 seconds
I0305 06:39:34.627457       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:34.627462       1 tree.go:471] Updated node(51) last access: 132.7254 seconds
I0305 06:39:34.627466       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:39:34.627468       1 tree.go:471] Updated node(123) last access: 132.7254 seconds
I0305 06:39:34.627475       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:39:34.627481       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:34.627488       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:34.627494       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.627499       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.62748305 +0000 UTC m=+132.844209915]
I0305 06:39:34.627522       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:39:34.627534       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:39:34.627568       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7481
I0305 06:39:34.627578       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:34.627586       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.627591       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.627595       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.627604       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.627608       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.627618       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.627627       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:34.627637       1 prefix_cache_and_load.go:584] latency, Route, 1.9201
I0305 06:39:34.627656       1 gateway.go:415] latency, selectTargetPod, 1.9201, target pod, 10.0.1.28:8000
I0305 06:39:34.627667       1 gateway.go:235] latency, HandleRequestBody, 1.9204
I0305 06:39:34.627674       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9133
I0305 06:39:34.627687       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.627694       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.627787       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.627820       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:34.627828       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.633265       1 gateway.go:207] "Processing request" requestID="4b3ef9a6-5668-4e62-9f64-9be5b77d7b57"
I0305 06:39:34.633297       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4b3ef9a6-5668-4e62-9f64-9be5b77d7b57"
I0305 06:39:34.633304       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:34.646890       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2c511816-e4fc-40ca-b492-48408b69782c"
I0305 06:39:34.702587       1 gateway.go:608] "First token received" requestID="2c511816-e4fc-40ca-b492-48408b69782c" ttft_ms=1995
I0305 06:39:34.708086       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0803, numInputTokens, 7598
I0305 06:39:34.708107       1 tree.go:471] Updated node(0) last access: 132.8060 seconds
I0305 06:39:34.708113       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.708118       1 tree.go:471] Updated node(2) last access: 132.8061 seconds
I0305 06:39:34.708132       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:34.708136       1 tree.go:471] Updated node(53) last access: 132.8061 seconds
I0305 06:39:34.708140       1 tree.go:490] Partial tokens match child node(119). Continue to go deeper in the radix tree
I0305 06:39:34.708144       1 tree.go:471] Updated node(119) last access: 132.8061 seconds
I0305 06:39:34.708151       1 tree.go:484] Entire input tokens match the child node(61)
I0305 06:39:34.708155       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:34.708161       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:34.708168       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.708173       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.708157009 +0000 UTC m=+132.924883873 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:25.499104894 +0000 UTC m=+123.715831759]
I0305 06:39:34.708190       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:34.708197       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:34.708234       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7598
I0305 06:39:34.708243       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:34.708251       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.708256       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.708261       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.708267       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.708271       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.708279       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.708288       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:34.708303       1 prefix_cache_and_load.go:584] latency, Route, 1.9939
I0305 06:39:34.708321       1 gateway.go:415] latency, selectTargetPod, 1.9939, target pod, 10.0.0.34:8000
I0305 06:39:34.708355       1 gateway.go:235] latency, HandleRequestBody, 1.9943
I0305 06:39:34.708389       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9836
I0305 06:39:34.708398       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.708401       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.708484       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.708527       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:34.708536       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.715931       1 gateway.go:562] latency, 0.0000, summary, hash(request), 07755d8a, selectedpod, 10.0.3.41:8000, ttft, 1839, tpot, 19, e2e, 2012, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:34.715951       1 gateway.go:748] "Request completed" requestID="ef17e7a0-ca7b-46e6-aba3-00d1f11ecc9a" targetPod="10.0.3.41:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:34.715972       1 gateway.go:764] "HandleResponseBody completed" requestID="ef17e7a0-ca7b-46e6-aba3-00d1f11ecc9a" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:34.724254       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90b77f3f, selectedpod, 10.0.1.28:8000, ttft, 1778, tpot, 27, e2e, 2024, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:34.724275       1 gateway.go:748] "Request completed" requestID="8300e3b9-f5ed-472c-b1b2-17216b12a26c" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:34.724289       1 gateway.go:764] "HandleResponseBody completed" requestID="8300e3b9-f5ed-472c-b1b2-17216b12a26c" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:34.727627       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="47e4db6c-9a13-4cbd-96a2-2f45fa84e851"
I0305 06:39:34.732191       1 gateway.go:207] "Processing request" requestID="f5adec1c-af34-463f-bbd8-820027f08f60"
I0305 06:39:34.732221       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f5adec1c-af34-463f-bbd8-820027f08f60"
I0305 06:39:34.732229       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:34.752848       1 gateway.go:608] "First token received" requestID="47e4db6c-9a13-4cbd-96a2-2f45fa84e851" ttft_ms=2038
I0305 06:39:34.757318       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 7600
I0305 06:39:34.757337       1 tree.go:471] Updated node(0) last access: 132.8553 seconds
I0305 06:39:34.757343       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.757347       1 tree.go:471] Updated node(2) last access: 132.8553 seconds
I0305 06:39:34.757359       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:34.757363       1 tree.go:471] Updated node(4) last access: 132.8553 seconds
I0305 06:39:34.757367       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:39:34.757371       1 tree.go:471] Updated node(63) last access: 132.8553 seconds
I0305 06:39:34.757376       1 tree.go:484] Entire input tokens match the child node(62)
I0305 06:39:34.757379       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:34.757386       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:34.757391       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.757396       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.757381678 +0000 UTC m=+132.974108543 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:25.568357198 +0000 UTC m=+123.785084064]
I0305 06:39:34.757413       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:34.757420       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:34.757458       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7600
I0305 06:39:34.757467       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:34.757476       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.757482       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.757487       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.757493       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.757496       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.757504       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.757523       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:34.757535       1 prefix_cache_and_load.go:584] latency, Route, 2.0328
I0305 06:39:34.757551       1 gateway.go:415] latency, selectTargetPod, 2.0328, target pod, 10.0.1.47:8000
I0305 06:39:34.757563       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0281
I0305 06:39:34.757566       1 gateway.go:235] latency, HandleRequestBody, 2.0331
I0305 06:39:34.757569       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.757573       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.757656       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.757684       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:34.757689       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.778614       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="70b55b68-b402-4312-b206-3a9443d31062"
I0305 06:39:34.807699       1 gateway.go:608] "First token received" requestID="70b55b68-b402-4312-b206-3a9443d31062" ttft_ms=2083
I0305 06:39:34.824034       1 gateway.go:207] "Processing request" requestID="960a08f7-cd00-4857-bca8-cf15c35369af"
I0305 06:39:34.824061       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="960a08f7-cd00-4857-bca8-cf15c35369af"
I0305 06:39:34.824071       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:34.828307       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0706, numInputTokens, 7597
I0305 06:39:34.828326       1 tree.go:471] Updated node(0) last access: 132.9263 seconds
I0305 06:39:34.828333       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.828336       1 tree.go:471] Updated node(2) last access: 132.9263 seconds
I0305 06:39:34.828353       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:34.828357       1 tree.go:471] Updated node(12) last access: 132.9263 seconds
I0305 06:39:34.828362       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:39:34.828366       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:39:34.828372       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:34.828379       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.828384       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.828367762 +0000 UTC m=+133.045094627]
I0305 06:39:34.828398       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:39:34.828404       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:39:34.828438       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7478
I0305 06:39:34.828447       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:34.828454       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.828459       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.828465       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.828470       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.828479       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.828487       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:34.828497       1 prefix_cache_and_load.go:584] latency, Route, 2.0990
I0305 06:39:34.828521       1 gateway.go:415] latency, selectTargetPod, 2.0991, target pod, 10.0.0.39:8000
I0305 06:39:34.828533       1 gateway.go:235] latency, HandleRequestBody, 2.0993
I0305 06:39:34.828562       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0956
I0305 06:39:34.828567       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.828570       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.828621       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.828646       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:34.828651       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.844265       1 gateway.go:562] latency, 0.0000, summary, hash(request), 053eff7b, selectedpod, 10.0.1.28:8000, ttft, 1916, tpot, 24, e2e, 2139, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:34.844287       1 gateway.go:748] "Request completed" requestID="d6e5e43e-26dd-4830-87d6-4531597efa1d" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:34.844298       1 gateway.go:764] "HandleResponseBody completed" requestID="d6e5e43e-26dd-4830-87d6-4531597efa1d" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:34.848195       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b1e2653a-fa31-4b22-a94a-52c2494f3205"
I0305 06:39:34.884137       1 gateway.go:562] latency, 0.0000, summary, hash(request), d7b03bd1, selectedpod, 10.0.1.28:8000, ttft, 1995, tpot, 20, e2e, 2176, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:34.884155       1 gateway.go:748] "Request completed" requestID="2c511816-e4fc-40ca-b492-48408b69782c" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:34.884164       1 gateway.go:764] "HandleResponseBody completed" requestID="2c511816-e4fc-40ca-b492-48408b69782c" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:34.884422       1 gateway.go:608] "First token received" requestID="b1e2653a-fa31-4b22-a94a-52c2494f3205" ttft_ms=2155
I0305 06:39:34.892912       1 gateway.go:207] "Processing request" requestID="2cbbb5a4-246f-4d32-9203-298de6016d8e"
I0305 06:39:34.892933       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2cbbb5a4-246f-4d32-9203-298de6016d8e"
I0305 06:39:34.892941       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:34.900795       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0721, numInputTokens, 7595
I0305 06:39:34.900814       1 tree.go:471] Updated node(0) last access: 132.9988 seconds
I0305 06:39:34.900820       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.900831       1 tree.go:471] Updated node(2) last access: 132.9988 seconds
I0305 06:39:34.900845       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:34.900850       1 tree.go:471] Updated node(23) last access: 132.9988 seconds
I0305 06:39:34.900853       1 tree.go:490] Partial tokens match child node(87). Continue to go deeper in the radix tree
I0305 06:39:34.900856       1 tree.go:471] Updated node(87) last access: 132.9988 seconds
I0305 06:39:34.900859       1 tree.go:490] Partial tokens match child node(113). Continue to go deeper in the radix tree
I0305 06:39:34.900862       1 tree.go:471] Updated node(113) last access: 132.9988 seconds
I0305 06:39:34.900868       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 06:39:34.900874       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:39:34.900881       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:39:34.900888       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:34.900893       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.900875764 +0000 UTC m=+133.117602639]
I0305 06:39:34.900913       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7484, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 06:39:34.900921       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 06:39:34.900960       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7484
I0305 06:39:34.900976       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:34.900984       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.900991       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.900995       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.901000       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.901004       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.901008       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.901017       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.901027       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:34.901036       1 prefix_cache_and_load.go:584] latency, Route, 2.1681
I0305 06:39:34.901050       1 gateway.go:415] latency, selectTargetPod, 2.1681, target pod, 10.0.3.42:8000
I0305 06:39:34.901062       1 gateway.go:235] latency, HandleRequestBody, 2.1684
I0305 06:39:34.901116       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4632
I0305 06:39:34.901121       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.901124       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.901178       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.901200       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:34.901205       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:34.923046       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="78fcb55b-1b27-4aa1-b0e6-f54814f9fa28"
I0305 06:39:34.928678       1 gateway.go:562] latency, 0.0000, summary, hash(request), a24ae043, selectedpod, 10.0.0.34:8000, ttft, 2038, tpot, 19, e2e, 2214, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:34.928694       1 gateway.go:748] "Request completed" requestID="47e4db6c-9a13-4cbd-96a2-2f45fa84e851" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:34.928703       1 gateway.go:764] "HandleResponseBody completed" requestID="47e4db6c-9a13-4cbd-96a2-2f45fa84e851" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:34.978780       1 gateway.go:608] "First token received" requestID="78fcb55b-1b27-4aa1-b0e6-f54814f9fa28" ttft_ms=2246
I0305 06:39:34.980925       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5ff5c5d8, selectedpod, 10.0.1.47:8000, ttft, 2083, tpot, 19, e2e, 2256, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:34.980942       1 gateway.go:748] "Request completed" requestID="70b55b68-b402-4312-b206-3a9443d31062" targetPod="10.0.1.47:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:34.980952       1 gateway.go:764] "HandleResponseBody completed" requestID="70b55b68-b402-4312-b206-3a9443d31062" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:34.985387       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0842, numInputTokens, 7598
I0305 06:39:34.985403       1 tree.go:471] Updated node(0) last access: 133.0833 seconds
I0305 06:39:34.985409       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:34.985412       1 tree.go:471] Updated node(2) last access: 133.0834 seconds
I0305 06:39:34.985426       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:34.985430       1 tree.go:471] Updated node(18) last access: 133.0834 seconds
I0305 06:39:34.985435       1 tree.go:484] Entire input tokens match the child node(65)
I0305 06:39:34.985439       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:34.985445       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:34.985450       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:34.985457       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:34.98544118 +0000 UTC m=+133.202168045 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:25.787079676 +0000 UTC m=+124.003806541]
I0305 06:39:34.985473       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:34.985482       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:34.985523       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7598
I0305 06:39:34.985531       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:34.985539       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.985543       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.985546       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.985549       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:34.985556       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:34.985564       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:34.985574       1 prefix_cache_and_load.go:584] latency, Route, 1.5476
I0305 06:39:34.985588       1 gateway.go:415] latency, selectTargetPod, 1.5476, target pod, 10.0.0.131:8000
I0305 06:39:34.985599       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5140
I0305 06:39:34.985609       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:34.985613       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:34.985602       1 gateway.go:235] latency, HandleRequestBody, 1.5479
I0305 06:39:34.985679       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:34.985712       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:34.985719       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.000628       1 gateway.go:207] "Processing request" requestID="62d98a9c-8daa-40df-a408-293152a4534e"
I0305 06:39:35.000649       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="62d98a9c-8daa-40df-a408-293152a4534e"
I0305 06:39:35.000656       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:35.006085       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="40ec2939-0a78-4765-823b-c1fcdc258636"
I0305 06:39:35.033345       1 gateway.go:608] "First token received" requestID="40ec2939-0a78-4765-823b-c1fcdc258636" ttft_ms=1595
I0305 06:39:35.038285       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0526, numInputTokens, 7600
I0305 06:39:35.038302       1 tree.go:471] Updated node(0) last access: 133.1362 seconds
I0305 06:39:35.038308       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.038311       1 tree.go:471] Updated node(2) last access: 133.1363 seconds
I0305 06:39:35.038325       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:35.038328       1 tree.go:471] Updated node(45) last access: 133.1363 seconds
I0305 06:39:35.038334       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:35.038338       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:35.038345       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:35.038351       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:35.038356       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.038340214 +0000 UTC m=+133.255067079]
I0305 06:39:35.038374       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:35.038384       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:35.038432       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:35.038444       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:35.038451       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.038458       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.038463       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.038467       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.038474       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.038482       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:35.038493       1 prefix_cache_and_load.go:584] latency, Route, 1.5669
I0305 06:39:35.038508       1 gateway.go:415] latency, selectTargetPod, 1.5669, target pod, 10.0.0.34:8000
I0305 06:39:35.038528       1 gateway.go:235] latency, HandleRequestBody, 1.5672
I0305 06:39:35.038556       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5327
I0305 06:39:35.038560       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.038563       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.038616       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.038644       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.038649       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.057051       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9d824e0a-a89f-490f-9683-941b9aeb0ee5"
I0305 06:39:35.057910       1 gateway.go:562] latency, 0.0001, summary, hash(request), 465a9d90, selectedpod, 10.0.0.39:8000, ttft, 2155, tpot, 19, e2e, 2328, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:35.057931       1 gateway.go:748] "Request completed" requestID="b1e2653a-fa31-4b22-a94a-52c2494f3205" targetPod="10.0.0.39:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:35.057947       1 gateway.go:764] "HandleResponseBody completed" requestID="b1e2653a-fa31-4b22-a94a-52c2494f3205" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:35.091873       1 gateway.go:207] "Processing request" requestID="11b52e1a-f1f4-4453-a55f-a32fd01987fb"
I0305 06:39:35.091894       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="11b52e1a-f1f4-4453-a55f-a32fd01987fb"
I0305 06:39:35.091901       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:35.100033       1 gateway.go:608] "First token received" requestID="9d824e0a-a89f-490f-9683-941b9aeb0ee5" ttft_ms=1628
I0305 06:39:35.117858       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0792, numInputTokens, 7597
I0305 06:39:35.117875       1 tree.go:471] Updated node(0) last access: 133.2158 seconds
I0305 06:39:35.117882       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.117885       1 tree.go:471] Updated node(2) last access: 133.2158 seconds
I0305 06:39:35.117901       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:35.117906       1 tree.go:471] Updated node(4) last access: 133.2158 seconds
I0305 06:39:35.117910       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:39:35.117918       1 tree.go:471] Updated node(63) last access: 133.2159 seconds
I0305 06:39:35.117924       1 tree.go:484] Entire input tokens match the child node(64)
I0305 06:39:35.117928       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:35.117936       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:35.117943       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:35.117951       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.117930783 +0000 UTC m=+133.334657653 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:25.687010872 +0000 UTC m=+123.903737736]
I0305 06:39:35.117979       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:35.117988       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:35.118027       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7597
I0305 06:39:35.118036       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:35.118044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.118049       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.118054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.118060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.118066       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.118077       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.118090       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:35.118101       1 prefix_cache_and_load.go:584] latency, Route, 1.6123
I0305 06:39:35.118119       1 gateway.go:415] latency, selectTargetPod, 1.6123, target pod, 10.0.1.47:8000
I0305 06:39:35.118130       1 gateway.go:235] latency, HandleRequestBody, 1.6126
I0305 06:39:35.118162       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4600
I0305 06:39:35.118168       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.118171       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.118232       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.118260       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.118266       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.131677       1 gateway.go:562] latency, 0.0000, summary, hash(request), 19b4fb4d, selectedpod, 10.0.3.42:8000, ttft, 2246, tpot, 16, e2e, 2399, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:39:35.131696       1 gateway.go:748] "Request completed" requestID="78fcb55b-1b27-4aa1-b0e6-f54814f9fa28" targetPod="10.0.3.42:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:39:35.131708       1 gateway.go:764] "HandleResponseBody completed" requestID="78fcb55b-1b27-4aa1-b0e6-f54814f9fa28" promptTokens=7614 completionTokens=10 stream=true
I0305 06:39:35.139017       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="07a9ebcf-48c1-484c-81a7-628fa452376f"
I0305 06:39:35.163383       1 gateway.go:608] "First token received" requestID="07a9ebcf-48c1-484c-81a7-628fa452376f" ttft_ms=1657
I0305 06:39:35.180010       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0617, numInputTokens, 7601
I0305 06:39:35.180030       1 tree.go:471] Updated node(0) last access: 133.2780 seconds
I0305 06:39:35.180036       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.180039       1 tree.go:471] Updated node(2) last access: 133.2780 seconds
I0305 06:39:35.180055       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:35.180069       1 tree.go:471] Updated node(12) last access: 133.2780 seconds
I0305 06:39:35.180084       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:35.180093       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:35.180103       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:35.180110       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:35.180118       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.180096114 +0000 UTC m=+133.396822996]
I0305 06:39:35.180138       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:35.180147       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:35.180214       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7478
I0305 06:39:35.180228       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:35.180241       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.180249       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.180255       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.180258       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.180266       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.180276       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:35.180286       1 prefix_cache_and_load.go:584] latency, Route, 1.5221
I0305 06:39:35.180307       1 gateway.go:415] latency, selectTargetPod, 1.5221, target pod, 10.0.0.39:8000
I0305 06:39:35.180321       1 gateway.go:235] latency, HandleRequestBody, 1.5224
I0305 06:39:35.180356       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3599
I0305 06:39:35.180361       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.180364       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.180477       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.180548       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:35.180554       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.184177       1 gateway.go:207] "Processing request" requestID="72c42e48-cc65-4598-a6c6-dcaff53e3d1f"
I0305 06:39:35.184206       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="72c42e48-cc65-4598-a6c6-dcaff53e3d1f"
I0305 06:39:35.184213       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:35.201402       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9d6763ff-11c3-47a1-8edd-94b2ca742609"
I0305 06:39:35.204822       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d5a1259, selectedpod, 10.0.0.131:8000, ttft, 1595, tpot, 19, e2e, 1767, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:35.204844       1 gateway.go:748] "Request completed" requestID="40ec2939-0a78-4765-823b-c1fcdc258636" targetPod="10.0.0.131:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:35.204856       1 gateway.go:764] "HandleResponseBody completed" requestID="40ec2939-0a78-4765-823b-c1fcdc258636" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:35.232345       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0518, numInputTokens, 7601
I0305 06:39:35.232363       1 tree.go:471] Updated node(0) last access: 133.3303 seconds
I0305 06:39:35.232369       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.232373       1 tree.go:471] Updated node(2) last access: 133.3303 seconds
I0305 06:39:35.232384       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:35.232387       1 tree.go:471] Updated node(4) last access: 133.3303 seconds
I0305 06:39:35.232394       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:35.232400       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:35.232406       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:35.232413       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:35.232418       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.232402142 +0000 UTC m=+133.449129006]
I0305 06:39:35.232433       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:35.232442       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:35.232480       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7478
I0305 06:39:35.232489       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:35.232496       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.232503       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.232508       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.232526       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.232537       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.232548       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:35.232562       1 prefix_cache_and_load.go:584] latency, Route, 1.4121
I0305 06:39:35.232580       1 gateway.go:415] latency, selectTargetPod, 1.4122, target pod, 10.0.1.47:8000
I0305 06:39:35.232592       1 gateway.go:235] latency, HandleRequestBody, 1.4125
I0305 06:39:35.232624       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2535
I0305 06:39:35.232629       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.232633       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.232686       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.232714       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.232719       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.244179       1 gateway.go:608] "First token received" requestID="9d6763ff-11c3-47a1-8edd-94b2ca742609" ttft_ms=1586
I0305 06:39:35.252208       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f74975b0-0048-449e-a734-027b76b4f579"
I0305 06:39:35.258110       1 gateway.go:207] "Processing request" requestID="c50bbb56-ddd5-4272-9354-76c76363c77f"
I0305 06:39:35.258139       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c50bbb56-ddd5-4272-9354-76c76363c77f"
I0305 06:39:35.258148       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:35.273628       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6e515901, selectedpod, 10.0.0.34:8000, ttft, 1628, tpot, 19, e2e, 1802, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:35.273647       1 gateway.go:748] "Request completed" requestID="9d824e0a-a89f-490f-9683-941b9aeb0ee5" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:35.273657       1 gateway.go:764] "HandleResponseBody completed" requestID="9d824e0a-a89f-490f-9683-941b9aeb0ee5" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:35.299593       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0669, numInputTokens, 7599
I0305 06:39:35.299608       1 tree.go:471] Updated node(0) last access: 133.3975 seconds
I0305 06:39:35.299614       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.299617       1 tree.go:471] Updated node(2) last access: 133.3976 seconds
I0305 06:39:35.299630       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:35.299633       1 tree.go:471] Updated node(53) last access: 133.3976 seconds
I0305 06:39:35.299637       1 tree.go:484] Entire input tokens match the child node(66)
I0305 06:39:35.299641       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:35.299647       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:35.299653       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:35.299657       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.299643404 +0000 UTC m=+133.516370282 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:26.061263071 +0000 UTC m=+124.277989936]
I0305 06:39:35.299673       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:35.299680       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:35.299713       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:39:35.299722       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:35.299728       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.299736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.299740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.299746       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.299753       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.299761       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:35.299772       1 prefix_cache_and_load.go:584] latency, Route, 1.3207
I0305 06:39:35.299785       1 gateway.go:415] latency, selectTargetPod, 1.3207, target pod, 10.0.0.34:8000
I0305 06:39:35.299795       1 gateway.go:235] latency, HandleRequestBody, 1.3858
I0305 06:39:35.299813       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2908
I0305 06:39:35.299817       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.299820       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.299873       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.299898       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.299899       1 gateway.go:608] "First token received" requestID="f74975b0-0048-449e-a734-027b76b4f579" ttft_ms=1479
I0305 06:39:35.299903       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.317583       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e1baad41-dfc0-436b-ba24-8fe5c3ab179d"
I0305 06:39:35.348657       1 gateway.go:608] "First token received" requestID="e1baad41-dfc0-436b-ba24-8fe5c3ab179d" ttft_ms=1434
I0305 06:39:35.373910       1 gateway.go:207] "Processing request" requestID="565ba18d-7e80-4d77-8b47-0fe48dbf2217"
I0305 06:39:35.373934       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="565ba18d-7e80-4d77-8b47-0fe48dbf2217"
I0305 06:39:35.373943       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:35.380408       1 gateway.go:562] latency, 0.0000, summary, hash(request), bc011e95, selectedpod, 10.0.1.47:8000, ttft, 1657, tpot, 24, e2e, 1874, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:35.380425       1 gateway.go:748] "Request completed" requestID="07a9ebcf-48c1-484c-81a7-628fa452376f" targetPod="10.0.1.47:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:35.380434       1 gateway.go:764] "HandleResponseBody completed" requestID="07a9ebcf-48c1-484c-81a7-628fa452376f" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:35.382194       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0823, numInputTokens, 7598
I0305 06:39:35.382211       1 tree.go:471] Updated node(0) last access: 133.4802 seconds
I0305 06:39:35.382216       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.382221       1 tree.go:471] Updated node(2) last access: 133.4802 seconds
I0305 06:39:35.382234       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:35.382238       1 tree.go:471] Updated node(26) last access: 133.4802 seconds
I0305 06:39:35.382244       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:35.382249       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:35.382255       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:35.382261       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:35.382266       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.382251406 +0000 UTC m=+133.598978280]
I0305 06:39:35.382280       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:35.382287       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:35.382322       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7478
I0305 06:39:35.382331       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:35.382338       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.382343       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.382347       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.382353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.382360       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.382370       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:35.382381       1 prefix_cache_and_load.go:584] latency, Route, 1.3733
I0305 06:39:35.382394       1 gateway.go:415] latency, selectTargetPod, 1.3733, target pod, 10.0.3.41:8000
I0305 06:39:35.382405       1 gateway.go:235] latency, HandleRequestBody, 1.3736
I0305 06:39:35.382431       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2459
I0305 06:39:35.382444       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.382447       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.382555       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.382584       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.382590       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.398908       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f7fa6c5e-59bf-464a-b101-dd0576371c97"
I0305 06:39:35.418838       1 gateway.go:562] latency, 0.0000, summary, hash(request), c9adebde, selectedpod, 10.0.0.39:8000, ttft, 1586, tpot, 19, e2e, 1760, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:35.418857       1 gateway.go:748] "Request completed" requestID="9d6763ff-11c3-47a1-8edd-94b2ca742609" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:35.418871       1 gateway.go:764] "HandleResponseBody completed" requestID="9d6763ff-11c3-47a1-8edd-94b2ca742609" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:35.432486       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 7597
I0305 06:39:35.432502       1 tree.go:471] Updated node(0) last access: 133.5304 seconds
I0305 06:39:35.432508       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.432519       1 tree.go:471] Updated node(2) last access: 133.5305 seconds
I0305 06:39:35.432532       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:35.432537       1 tree.go:471] Updated node(18) last access: 133.5305 seconds
I0305 06:39:35.432543       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:39:35.432547       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:39:35.432553       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:35.432560       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:35.432564       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.432548845 +0000 UTC m=+133.649275710]
I0305 06:39:35.432579       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:39:35.432586       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:39:35.432622       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7478
I0305 06:39:35.432632       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:35.432639       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.432643       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.432646       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.432651       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.432660       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.432668       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:35.432677       1 prefix_cache_and_load.go:584] latency, Route, 1.2961
I0305 06:39:35.432691       1 gateway.go:415] latency, selectTargetPod, 1.2961, target pod, 10.0.0.131:8000
I0305 06:39:35.432701       1 gateway.go:235] latency, HandleRequestBody, 1.2965
I0305 06:39:35.432704       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1863
I0305 06:39:35.432716       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.432719       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.432808       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.432838       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.432844       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.442959       1 gateway.go:608] "First token received" requestID="f7fa6c5e-59bf-464a-b101-dd0576371c97" ttft_ms=1434
I0305 06:39:35.451864       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="75eb8afd-a7f0-449a-ae5e-6fe0296868e5"
I0305 06:39:35.478773       1 gateway.go:562] latency, 0.0000, summary, hash(request), c124c593, selectedpod, 10.0.1.47:8000, ttft, 1479, tpot, 19, e2e, 1658, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:35.478796       1 gateway.go:748] "Request completed" requestID="f74975b0-0048-449e-a734-027b76b4f579" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:35.478808       1 gateway.go:764] "HandleResponseBody completed" requestID="f74975b0-0048-449e-a734-027b76b4f579" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:35.487032       1 gateway.go:608] "First token received" requestID="75eb8afd-a7f0-449a-ae5e-6fe0296868e5" ttft_ms=1350
I0305 06:39:35.492274       1 gateway.go:207] "Processing request" requestID="5b67e151-84a3-4f85-8449-60b5958c7a0f"
I0305 06:39:35.492295       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5b67e151-84a3-4f85-8449-60b5958c7a0f"
I0305 06:39:35.492303       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:35.516481       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0836, numInputTokens, 7600
I0305 06:39:35.516498       1 tree.go:471] Updated node(0) last access: 133.6144 seconds
I0305 06:39:35.516504       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.516508       1 tree.go:471] Updated node(2) last access: 133.6144 seconds
I0305 06:39:35.516531       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:35.516537       1 tree.go:471] Updated node(51) last access: 133.6145 seconds
I0305 06:39:35.516542       1 tree.go:490] Partial tokens match child node(100). Continue to go deeper in the radix tree
I0305 06:39:35.516545       1 tree.go:471] Updated node(100) last access: 133.6145 seconds
I0305 06:39:35.516558       1 tree.go:667] Split complete - New node(137)
I0305 06:39:35.516564       1 tree.go:668] Split complete - Child node(79)
I0305 06:39:35.516570       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:39:35.516577       1 tree.go:471] Updated node(137) last access: 133.6145 seconds
I0305 06:39:35.516585       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:39:35.516590       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:35.516600       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:35.516610       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:35.516619       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.516593849 +0000 UTC m=+133.733320721]
I0305 06:39:35.516638       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7487, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:39:35.516647       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:39:35.516695       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7487
I0305 06:39:35.516705       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:35.516718       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.516727       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.516735       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.516744       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.516751       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.516757       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.516770       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.516783       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:35.516799       1 prefix_cache_and_load.go:584] latency, Route, 1.2704
I0305 06:39:35.516817       1 gateway.go:415] latency, selectTargetPod, 1.2704, target pod, 10.0.1.28:8000
I0305 06:39:35.516830       1 gateway.go:235] latency, HandleRequestBody, 1.2707
I0305 06:39:35.516861       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1800
I0305 06:39:35.516866       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.516870       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.516944       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.516982       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.516989       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.521298       1 gateway.go:329] "-- In RequestBody processing ..." requestID="64ca7ddf-22e6-486e-9fa9-5405bbf488df"
I0305 06:39:35.521327       1 gateway.go:562] latency, 0.0000, summary, hash(request), 19023eb8, selectedpod, 10.0.0.34:8000, ttft, 1434, tpot, 19, e2e, 1607, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:35.521354       1 gateway.go:748] "Request completed" requestID="e1baad41-dfc0-436b-ba24-8fe5c3ab179d" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:35.521365       1 gateway.go:764] "HandleResponseBody completed" requestID="e1baad41-dfc0-436b-ba24-8fe5c3ab179d" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:35.521582       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="64ca7ddf-22e6-486e-9fa9-5405bbf488df" model="qwen2-5-7b-instruct"
I0305 06:39:35.535414       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0dcbcb10-b904-4ad9-9288-2b736c66debe"
I0305 06:39:35.535876       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4b3ef9a6-5668-4e62-9f64-9be5b77d7b57"
I0305 06:39:35.536094       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4b3ef9a6-5668-4e62-9f64-9be5b77d7b57" model="qwen2-5-7b-instruct"
I0305 06:39:35.565362       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f5adec1c-af34-463f-bbd8-820027f08f60"
I0305 06:39:35.565567       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f5adec1c-af34-463f-bbd8-820027f08f60" model="qwen2-5-7b-instruct"
I0305 06:39:35.578647       1 gateway.go:608] "First token received" requestID="0dcbcb10-b904-4ad9-9288-2b736c66debe" ttft_ms=1332
I0305 06:39:35.608443       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0914, numInputTokens, 7596
I0305 06:39:35.608462       1 tree.go:471] Updated node(0) last access: 133.7064 seconds
I0305 06:39:35.608469       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.608473       1 tree.go:471] Updated node(2) last access: 133.7064 seconds
I0305 06:39:35.608486       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:35.608490       1 tree.go:471] Updated node(31) last access: 133.7064 seconds
I0305 06:39:35.608500       1 tree.go:667] Split complete - New node(139)
I0305 06:39:35.608506       1 tree.go:668] Split complete - Child node(56)
I0305 06:39:35.608520       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:39:35.608525       1 tree.go:471] Updated node(139) last access: 133.7065 seconds
I0305 06:39:35.608530       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:39:35.608535       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:35.608541       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:35.608546       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:35.608552       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.608537032 +0000 UTC m=+133.825263896]
I0305 06:39:35.608567       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7483, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:39:35.608573       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:39:35.608612       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7483
I0305 06:39:35.608621       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:35.608628       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.608635       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.608640       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.608645       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.608649       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.608658       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.608671       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:35.608683       1 prefix_cache_and_load.go:584] latency, Route, 1.2718
I0305 06:39:35.608696       1 gateway.go:415] latency, selectTargetPod, 1.2718, target pod, 10.0.1.28:8000
I0305 06:39:35.608708       1 gateway.go:235] latency, HandleRequestBody, 1.2721
I0305 06:39:35.608706       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1280
I0305 06:39:35.608715       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.608721       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.608816       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.608847       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.608853       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.615924       1 gateway.go:562] latency, 0.0000, summary, hash(request), eb2f7e4a, selectedpod, 10.0.3.41:8000, ttft, 1434, tpot, 19, e2e, 1607, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:35.615946       1 gateway.go:748] "Request completed" requestID="f7fa6c5e-59bf-464a-b101-dd0576371c97" targetPod="10.0.3.41:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:35.615960       1 gateway.go:764] "HandleResponseBody completed" requestID="f7fa6c5e-59bf-464a-b101-dd0576371c97" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:35.626493       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8f7cac7b-2cd9-4077-90ba-80fd40dc8daf"
I0305 06:39:35.644833       1 gateway.go:207] "Processing request" requestID="91035036-f7e1-4174-87bf-2b20cbe28954"
I0305 06:39:35.644854       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="91035036-f7e1-4174-87bf-2b20cbe28954"
I0305 06:39:35.644862       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:35.656835       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0480, numInputTokens, 7601
I0305 06:39:35.656852       1 tree.go:471] Updated node(0) last access: 133.7548 seconds
I0305 06:39:35.656860       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.656864       1 tree.go:471] Updated node(2) last access: 133.7548 seconds
I0305 06:39:35.656879       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:35.656883       1 tree.go:471] Updated node(8) last access: 133.7548 seconds
I0305 06:39:35.656887       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:39:35.656890       1 tree.go:471] Updated node(85) last access: 133.7548 seconds
I0305 06:39:35.656900       1 tree.go:667] Split complete - New node(141)
I0305 06:39:35.656909       1 tree.go:668] Split complete - Child node(20)
I0305 06:39:35.656916       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:39:35.656921       1 tree.go:471] Updated node(141) last access: 133.7549 seconds
I0305 06:39:35.656927       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:35.656938       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:35.656944       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:35.656949       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:35.656954       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.656940403 +0000 UTC m=+133.873667269]
I0305 06:39:35.656976       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7486, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:35.656984       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:35.657019       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7486
I0305 06:39:35.657028       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:35.657037       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.657046       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.657056       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.657060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.657065       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.657070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.657078       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.657087       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:35.657096       1 prefix_cache_and_load.go:584] latency, Route, 1.1764
I0305 06:39:35.657110       1 gateway.go:415] latency, selectTargetPod, 1.1764, target pod, 10.0.1.53:8000
I0305 06:39:35.657119       1 gateway.go:235] latency, HandleRequestBody, 1.1767
I0305 06:39:35.657163       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1355
I0305 06:39:35.657167       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.657171       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.657227       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.657253       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.657260       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.660371       1 gateway.go:562] latency, 0.0001, summary, hash(request), e99bd382, selectedpod, 10.0.0.131:8000, ttft, 1350, tpot, 19, e2e, 1524, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:35.660399       1 gateway.go:748] "Request completed" requestID="75eb8afd-a7f0-449a-ae5e-6fe0296868e5" targetPod="10.0.0.131:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:35.660413       1 gateway.go:764] "HandleResponseBody completed" requestID="75eb8afd-a7f0-449a-ae5e-6fe0296868e5" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:35.661406       1 gateway.go:608] "First token received" requestID="8f7cac7b-2cd9-4077-90ba-80fd40dc8daf" ttft_ms=1324
I0305 06:39:35.676592       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ba5b2f05-0a6f-4766-adc3-a8d82237d7fc"
I0305 06:39:35.712553       1 gateway.go:608] "First token received" requestID="ba5b2f05-0a6f-4766-adc3-a8d82237d7fc" ttft_ms=1232
I0305 06:39:35.724898       1 gateway.go:207] "Processing request" requestID="33d22605-772a-4fdc-807e-8cd9926dfdd0"
I0305 06:39:35.724922       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="33d22605-772a-4fdc-807e-8cd9926dfdd0"
I0305 06:39:35.724931       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:35.725089       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0678, numInputTokens, 7597
I0305 06:39:35.725108       1 tree.go:471] Updated node(0) last access: 133.8230 seconds
I0305 06:39:35.725114       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.725119       1 tree.go:471] Updated node(2) last access: 133.8231 seconds
I0305 06:39:35.725133       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:35.725140       1 tree.go:471] Updated node(51) last access: 133.8231 seconds
I0305 06:39:35.725148       1 tree.go:667] Split complete - New node(143)
I0305 06:39:35.725151       1 tree.go:668] Split complete - Child node(100)
I0305 06:39:35.725156       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:39:35.725159       1 tree.go:471] Updated node(143) last access: 133.8231 seconds
I0305 06:39:35.725164       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:39:35.725168       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:35.725174       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:35.725180       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:35.725184       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.725170681 +0000 UTC m=+133.941897545]
I0305 06:39:35.725199       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7480, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:39:35.725206       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:39:35.725241       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7480
I0305 06:39:35.725251       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:35.725258       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.725264       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.725269       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.725275       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.725279       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.725288       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.725296       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:35.725308       1 prefix_cache_and_load.go:584] latency, Route, 0.2036
I0305 06:39:35.725324       1 gateway.go:415] latency, selectTargetPod, 0.2037, target pod, 10.0.1.28:8000
I0305 06:39:35.725335       1 gateway.go:235] latency, HandleRequestBody, 0.2040
I0305 06:39:35.725339       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1892
I0305 06:39:35.725353       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.725356       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.725453       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.725483       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.725489       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.744691       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="64ca7ddf-22e6-486e-9fa9-5405bbf488df"
I0305 06:39:35.791303       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0658, numInputTokens, 7600
I0305 06:39:35.791324       1 tree.go:471] Updated node(0) last access: 133.8893 seconds
I0305 06:39:35.791332       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.791336       1 tree.go:471] Updated node(2) last access: 133.8893 seconds
I0305 06:39:35.791351       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:35.791356       1 tree.go:471] Updated node(4) last access: 133.8893 seconds
I0305 06:39:35.791361       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:39:35.791365       1 tree.go:471] Updated node(63) last access: 133.8893 seconds
I0305 06:39:35.791379       1 tree.go:667] Split complete - New node(145)
I0305 06:39:35.791384       1 tree.go:668] Split complete - Child node(62)
I0305 06:39:35.791391       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:39:35.791397       1 tree.go:471] Updated node(145) last access: 133.8893 seconds
I0305 06:39:35.791403       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 06:39:35.791408       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:35.791417       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:35.791425       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:35.791431       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.79141107 +0000 UTC m=+134.008137940]
I0305 06:39:35.791450       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7488, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 06:39:35.791460       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 06:39:35.791508       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7488
I0305 06:39:35.791529       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:35.791541       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.791549       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.791553       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.791559       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.791567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.791571       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.791629       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.791643       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:35.791666       1 prefix_cache_and_load.go:584] latency, Route, 0.2555
I0305 06:39:35.791682       1 gateway.go:415] latency, selectTargetPod, 0.2555, target pod, 10.0.1.47:8000
I0305 06:39:35.791696       1 gateway.go:235] latency, HandleRequestBody, 0.2558
I0305 06:39:35.791744       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2261
I0305 06:39:35.791749       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.791753       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.791821       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.791868       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.791873       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.795552       1 gateway.go:608] "First token received" requestID="64ca7ddf-22e6-486e-9fa9-5405bbf488df" ttft_ms=274
I0305 06:39:35.811475       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4b3ef9a6-5668-4e62-9f64-9be5b77d7b57"
I0305 06:39:35.814887       1 gateway.go:207] "Processing request" requestID="95bfdeff-06a9-4f2e-8c11-aa6bd6dcdb92"
I0305 06:39:35.814915       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="95bfdeff-06a9-4f2e-8c11-aa6bd6dcdb92"
I0305 06:39:35.814923       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:35.817206       1 gateway.go:562] latency, 0.0000, summary, hash(request), c17e6f2a, selectedpod, 10.0.1.28:8000, ttft, 1332, tpot, 26, e2e, 1571, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:35.817221       1 gateway.go:748] "Request completed" requestID="0dcbcb10-b904-4ad9-9288-2b736c66debe" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:35.817232       1 gateway.go:764] "HandleResponseBody completed" requestID="0dcbcb10-b904-4ad9-9288-2b736c66debe" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:35.841030       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 7601
I0305 06:39:35.841046       1 tree.go:471] Updated node(0) last access: 133.9390 seconds
I0305 06:39:35.841052       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.841055       1 tree.go:471] Updated node(2) last access: 133.9390 seconds
I0305 06:39:35.841069       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:35.841073       1 tree.go:471] Updated node(45) last access: 133.9390 seconds
I0305 06:39:35.841077       1 tree.go:484] Entire input tokens match the child node(67)
I0305 06:39:35.841081       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:35.841088       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:35.841095       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:35.841100       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.84108336 +0000 UTC m=+134.057810226 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:27.608459907 +0000 UTC m=+125.825186771]
I0305 06:39:35.841116       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:35.841126       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:35.841175       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7601
I0305 06:39:35.841188       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:35.841198       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.841207       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.841214       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.841222       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.841232       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.841246       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:35.841256       1 prefix_cache_and_load.go:584] latency, Route, 0.2756
I0305 06:39:35.841264       1 gateway.go:415] latency, selectTargetPod, 0.2756, target pod, 10.0.0.34:8000
I0305 06:39:35.841273       1 gateway.go:235] latency, HandleRequestBody, 0.2759
I0305 06:39:35.847108       1 gateway.go:608] "First token received" requestID="4b3ef9a6-5668-4e62-9f64-9be5b77d7b57" ttft_ms=311
I0305 06:39:35.854003       1 gateway.go:329] "-- In RequestBody processing ..." requestID="960a08f7-cd00-4857-bca8-cf15c35369af"
I0305 06:39:35.854213       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="960a08f7-cd00-4857-bca8-cf15c35369af" model="qwen2-5-7b-instruct"
I0305 06:39:35.854305       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:35.854311       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.854314       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.854394       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.854421       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.854427       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.860680       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f5adec1c-af34-463f-bbd8-820027f08f60"
I0305 06:39:35.878955       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2cbbb5a4-246f-4d32-9203-298de6016d8e"
I0305 06:39:35.879283       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2cbbb5a4-246f-4d32-9203-298de6016d8e" model="qwen2-5-7b-instruct"
I0305 06:39:35.882125       1 gateway.go:562] latency, 0.0000, summary, hash(request), b8b17bc9, selectedpod, 10.0.1.28:8000, ttft, 1324, tpot, 24, e2e, 1545, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:35.882149       1 gateway.go:748] "Request completed" requestID="8f7cac7b-2cd9-4077-90ba-80fd40dc8daf" targetPod="10.0.1.28:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:35.882161       1 gateway.go:764] "HandleResponseBody completed" requestID="8f7cac7b-2cd9-4077-90ba-80fd40dc8daf" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:35.887631       1 gateway.go:562] latency, 0.0001, summary, hash(request), 71199108, selectedpod, 10.0.1.53:8000, ttft, 1232, tpot, 19, e2e, 1407, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:35.887654       1 gateway.go:748] "Request completed" requestID="ba5b2f05-0a6f-4766-adc3-a8d82237d7fc" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:35.887668       1 gateway.go:764] "HandleResponseBody completed" requestID="ba5b2f05-0a6f-4766-adc3-a8d82237d7fc" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:35.892272       1 gateway.go:608] "First token received" requestID="f5adec1c-af34-463f-bbd8-820027f08f60" ttft_ms=326
I0305 06:39:35.923729       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0693, numInputTokens, 7599
I0305 06:39:35.923747       1 tree.go:471] Updated node(0) last access: 134.0217 seconds
I0305 06:39:35.923753       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:35.923756       1 tree.go:471] Updated node(2) last access: 134.0217 seconds
I0305 06:39:35.923772       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:35.923777       1 tree.go:471] Updated node(26) last access: 134.0217 seconds
I0305 06:39:35.923780       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 06:39:35.923782       1 tree.go:471] Updated node(75) last access: 134.0217 seconds
I0305 06:39:35.923786       1 tree.go:484] Entire input tokens match the child node(68)
I0305 06:39:35.923790       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:35.923797       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:35.923804       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:35.923809       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:35.923792495 +0000 UTC m=+134.140519359 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:27.725417348 +0000 UTC m=+125.942144231]
I0305 06:39:35.923833       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:35.923841       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:35.923876       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7599
I0305 06:39:35.923886       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:35.923894       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.923901       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.923906       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.923911       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.923915       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:35.923923       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:35.923932       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:35.923942       1 prefix_cache_and_load.go:584] latency, Route, 0.0696
I0305 06:39:35.923957       1 gateway.go:415] latency, selectTargetPod, 0.0697, target pod, 10.0.3.41:8000
I0305 06:39:35.923976       1 gateway.go:235] latency, HandleRequestBody, 0.0700
I0305 06:39:35.923973       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0445
I0305 06:39:35.923984       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:35.923990       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:35.924084       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:35.924112       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:35.924117       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:35.936539       1 gateway.go:207] "Processing request" requestID="f8b0cc9e-e579-47b8-b06c-13b4990830f1"
I0305 06:39:35.936568       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f8b0cc9e-e579-47b8-b06c-13b4990830f1"
I0305 06:39:35.936577       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:35.939839       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="960a08f7-cd00-4857-bca8-cf15c35369af"
I0305 06:39:35.978641       1 gateway.go:608] "First token received" requestID="960a08f7-cd00-4857-bca8-cf15c35369af" ttft_ms=124
I0305 06:39:35.978720       1 gateway.go:562] latency, 0.0000, summary, hash(request), b70166ca, selectedpod, 10.0.1.28:8000, ttft, 274, tpot, 20, e2e, 457, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:35.978739       1 gateway.go:748] "Request completed" requestID="64ca7ddf-22e6-486e-9fa9-5405bbf488df" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:35.978751       1 gateway.go:764] "HandleResponseBody completed" requestID="64ca7ddf-22e6-486e-9fa9-5405bbf488df" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:36.009592       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0855, numInputTokens, 7599
I0305 06:39:36.009608       1 tree.go:471] Updated node(0) last access: 134.1075 seconds
I0305 06:39:36.009614       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:36.009618       1 tree.go:471] Updated node(2) last access: 134.1076 seconds
I0305 06:39:36.009629       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:36.009632       1 tree.go:471] Updated node(45) last access: 134.1076 seconds
I0305 06:39:36.009640       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:36.009647       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:36.009657       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:36.009664       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:36.009671       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:36.00965025 +0000 UTC m=+134.226377116]
I0305 06:39:36.009688       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:36.009698       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:36.009741       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:36.009753       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:36.009764       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.009771       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.009777       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.009783       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.009791       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:36.009801       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:36.009810       1 prefix_cache_and_load.go:584] latency, Route, 0.1303
I0305 06:39:36.009824       1 gateway.go:415] latency, selectTargetPod, 0.1303, target pod, 10.0.0.34:8000
I0305 06:39:36.009834       1 gateway.go:235] latency, HandleRequestBody, 0.1309
I0305 06:39:36.020101       1 gateway.go:562] latency, 0.0001, summary, hash(request), c62f97b8, selectedpod, 10.0.1.47:8000, ttft, 311, tpot, 19, e2e, 484, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:36.020124       1 gateway.go:748] "Request completed" requestID="4b3ef9a6-5668-4e62-9f64-9be5b77d7b57" targetPod="10.0.1.47:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:36.020151       1 gateway.go:764] "HandleResponseBody completed" requestID="4b3ef9a6-5668-4e62-9f64-9be5b77d7b57" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:36.021802       1 gateway.go:207] "Processing request" requestID="b6136ee4-3027-4590-a4b7-77635848ec04"
I0305 06:39:36.021835       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b6136ee4-3027-4590-a4b7-77635848ec04"
I0305 06:39:36.021842       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:36.028043       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2cbbb5a4-246f-4d32-9203-298de6016d8e"
I0305 06:39:36.087021       1 gateway.go:608] "First token received" requestID="2cbbb5a4-246f-4d32-9203-298de6016d8e" ttft_ms=207
I0305 06:39:36.107679       1 gateway.go:562] latency, 0.0001, summary, hash(request), b9e451db, selectedpod, 10.0.0.34:8000, ttft, 326, tpot, 23, e2e, 542, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:36.107699       1 gateway.go:748] "Request completed" requestID="f5adec1c-af34-463f-bbd8-820027f08f60" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:36.107710       1 gateway.go:764] "HandleResponseBody completed" requestID="f5adec1c-af34-463f-bbd8-820027f08f60" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:36.111750       1 gateway.go:207] "Processing request" requestID="fd9cc84e-3604-4294-a845-a13bffcbdb86"
I0305 06:39:36.111771       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fd9cc84e-3604-4294-a845-a13bffcbdb86"
I0305 06:39:36.111779       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:36.144689       1 gateway.go:562] latency, 0.0000, summary, hash(request), e264593e, selectedpod, 10.0.3.41:8000, ttft, 124, tpot, 18, e2e, 290, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:36.144711       1 gateway.go:748] "Request completed" requestID="960a08f7-cd00-4857-bca8-cf15c35369af" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:36.144730       1 gateway.go:764] "HandleResponseBody completed" requestID="960a08f7-cd00-4857-bca8-cf15c35369af" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:36.201328       1 gateway.go:207] "Processing request" requestID="a6022a98-f8ae-4472-86d3-51862d306d13"
I0305 06:39:36.201353       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a6022a98-f8ae-4472-86d3-51862d306d13"
I0305 06:39:36.201362       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:36.262086       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8c9ac2eb, selectedpod, 10.0.0.34:8000, ttft, 207, tpot, 19, e2e, 383, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:36.262101       1 gateway.go:748] "Request completed" requestID="2cbbb5a4-246f-4d32-9203-298de6016d8e" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:36.262110       1 gateway.go:764] "HandleResponseBody completed" requestID="2cbbb5a4-246f-4d32-9203-298de6016d8e" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:36.283084       1 gateway.go:207] "Processing request" requestID="d018c8cc-6766-4b9d-9f3b-699b5079d786"
I0305 06:39:36.283119       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d018c8cc-6766-4b9d-9f3b-699b5079d786"
I0305 06:39:36.283127       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:36.355032       1 gateway.go:207] "Processing request" requestID="033cfbb5-0838-474a-9213-454e621e4cb2"
I0305 06:39:36.355057       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="033cfbb5-0838-474a-9213-454e621e4cb2"
I0305 06:39:36.355065       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:36.422436       1 gateway.go:207] "Processing request" requestID="be730328-1238-45e1-89d3-6003c08e1878"
I0305 06:39:36.422477       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="be730328-1238-45e1-89d3-6003c08e1878"
I0305 06:39:36.422488       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:36.493154       1 gateway.go:207] "Processing request" requestID="fcd2754f-19c2-43eb-922c-a3c3e0b50c36"
I0305 06:39:36.493179       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fcd2754f-19c2-43eb-922c-a3c3e0b50c36"
I0305 06:39:36.493186       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:36.564897       1 gateway.go:207] "Processing request" requestID="e527a8b1-470d-4ef0-a532-68ea407f36e1"
I0305 06:39:36.564944       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e527a8b1-470d-4ef0-a532-68ea407f36e1"
I0305 06:39:36.564953       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:36.650307       1 gateway.go:207] "Processing request" requestID="518d9f39-611c-45ff-9d0f-3dd1ab44e594"
I0305 06:39:36.650357       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="518d9f39-611c-45ff-9d0f-3dd1ab44e594"
I0305 06:39:36.650368       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:36.750866       1 gateway.go:207] "Processing request" requestID="f1945090-c674-449e-8f38-c4c08973df24"
I0305 06:39:36.751006       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f1945090-c674-449e-8f38-c4c08973df24"
I0305 06:39:36.751023       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:36.782412       1 gateway.go:329] "-- In RequestBody processing ..." requestID="62d98a9c-8daa-40df-a408-293152a4534e"
I0305 06:39:36.782645       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="62d98a9c-8daa-40df-a408-293152a4534e" model="qwen2-5-7b-instruct"
I0305 06:39:36.782725       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:36.782732       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:36.782735       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:36.782823       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:36.782851       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:36.782856       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:36.800959       1 gateway.go:329] "-- In RequestBody processing ..." requestID="11b52e1a-f1f4-4453-a55f-a32fd01987fb"
I0305 06:39:36.801185       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="11b52e1a-f1f4-4453-a55f-a32fd01987fb" model="qwen2-5-7b-instruct"
I0305 06:39:36.809893       1 gateway.go:329] "-- In RequestBody processing ..." requestID="72c42e48-cc65-4598-a6c6-dcaff53e3d1f"
I0305 06:39:36.810104       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="72c42e48-cc65-4598-a6c6-dcaff53e3d1f" model="qwen2-5-7b-instruct"
I0305 06:39:36.834579       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0517, numInputTokens, 7601
I0305 06:39:36.834598       1 tree.go:471] Updated node(0) last access: 134.9325 seconds
I0305 06:39:36.834604       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:36.834608       1 tree.go:471] Updated node(2) last access: 134.9325 seconds
I0305 06:39:36.834623       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:36.834627       1 tree.go:471] Updated node(18) last access: 134.9326 seconds
I0305 06:39:36.834633       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:36.834638       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:36.834644       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:36.834652       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:36.834656       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:36.834640087 +0000 UTC m=+135.051366951]
I0305 06:39:36.834673       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:36.834679       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:36.834717       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7478
I0305 06:39:36.834726       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:36.834733       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.834739       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.834742       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.834747       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.834765       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:36.834775       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:36.834784       1 prefix_cache_and_load.go:584] latency, Route, 0.0521
I0305 06:39:36.834798       1 gateway.go:415] latency, selectTargetPod, 0.0521, target pod, 10.0.0.131:8000
I0305 06:39:36.834810       1 gateway.go:235] latency, HandleRequestBody, 0.0524
I0305 06:39:36.834813       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0335
I0305 06:39:36.834823       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:36.834826       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:36.834959       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:36.835025       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:36.835031       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:36.837165       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c50bbb56-ddd5-4272-9354-76c76363c77f"
I0305 06:39:36.837470       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c50bbb56-ddd5-4272-9354-76c76363c77f" model="qwen2-5-7b-instruct"
I0305 06:39:36.852236       1 gateway.go:329] "-- In RequestBody processing ..." requestID="565ba18d-7e80-4d77-8b47-0fe48dbf2217"
I0305 06:39:36.852441       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="565ba18d-7e80-4d77-8b47-0fe48dbf2217" model="qwen2-5-7b-instruct"
I0305 06:39:36.854026       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="62d98a9c-8daa-40df-a408-293152a4534e"
I0305 06:39:36.897931       1 gateway.go:608] "First token received" requestID="62d98a9c-8daa-40df-a408-293152a4534e" ttft_ms=115
I0305 06:39:36.906585       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0715, numInputTokens, 7599
I0305 06:39:36.906604       1 tree.go:471] Updated node(0) last access: 135.0045 seconds
I0305 06:39:36.906609       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:36.906613       1 tree.go:471] Updated node(2) last access: 135.0046 seconds
I0305 06:39:36.906627       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:36.906631       1 tree.go:471] Updated node(12) last access: 135.0046 seconds
I0305 06:39:36.906635       1 tree.go:484] Entire input tokens match the child node(69)
I0305 06:39:36.906639       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:36.906645       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:36.906654       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:36.906660       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:36.90664131 +0000 UTC m=+135.123368174 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:27.785965504 +0000 UTC m=+126.002692369]
I0305 06:39:36.906678       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:39:36.906685       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:36.906725       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7599
I0305 06:39:36.906734       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:36.906741       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.906746       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.906751       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.906757       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.906770       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:36.906780       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:36.906790       1 prefix_cache_and_load.go:584] latency, Route, 0.1055
I0305 06:39:36.906806       1 gateway.go:415] latency, selectTargetPod, 0.1055, target pod, 10.0.0.39:8000
I0305 06:39:36.906817       1 gateway.go:235] latency, HandleRequestBody, 0.1059
I0305 06:39:36.906816       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0966
I0305 06:39:36.906825       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:36.906831       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:36.906933       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:36.906973       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:36.906979       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:36.924804       1 gateway.go:207] "Processing request" requestID="545a91a0-48d9-489b-92fd-44d6b3c8ce88"
I0305 06:39:36.924841       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="545a91a0-48d9-489b-92fd-44d6b3c8ce88"
I0305 06:39:36.924851       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:36.925692       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="11b52e1a-f1f4-4453-a55f-a32fd01987fb"
I0305 06:39:36.954323       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5b67e151-84a3-4f85-8449-60b5958c7a0f"
I0305 06:39:36.984282       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0773, numInputTokens, 7604
I0305 06:39:36.984303       1 tree.go:471] Updated node(0) last access: 135.0822 seconds
I0305 06:39:36.984310       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:36.984314       1 tree.go:471] Updated node(2) last access: 135.0823 seconds
I0305 06:39:36.984328       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:36.984332       1 tree.go:471] Updated node(18) last access: 135.0823 seconds
I0305 06:39:36.984338       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 06:39:36.984345       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 06:39:36.984353       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 06:39:36.984360       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:36.984365       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:36.984347676 +0000 UTC m=+135.201074549]
I0305 06:39:36.984382       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 06:39:36.984390       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 06:39:36.984442       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7478
I0305 06:39:36.984451       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:36.984460       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.984466       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.984473       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.984480       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:36.984493       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:36.984503       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:36.984526       1 prefix_cache_and_load.go:584] latency, Route, 0.1743
I0305 06:39:36.984545       1 gateway.go:415] latency, selectTargetPod, 0.1744, target pod, 10.0.0.131:8000
I0305 06:39:36.984559       1 gateway.go:235] latency, HandleRequestBody, 0.1747
I0305 06:39:36.984591       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1470
I0305 06:39:36.984596       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:36.984599       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:36.984673       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:36.984710       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:36.984715       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:37.003013       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="72c42e48-cc65-4598-a6c6-dcaff53e3d1f"
I0305 06:39:37.014648       1 gateway.go:207] "Processing request" requestID="bc887de4-209f-4c35-bb8f-4a8cbbacb740"
I0305 06:39:37.014678       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bc887de4-209f-4c35-bb8f-4a8cbbacb740"
I0305 06:39:37.014685       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:37.034951       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0502, numInputTokens, 7601
I0305 06:39:37.034979       1 tree.go:471] Updated node(0) last access: 135.1329 seconds
I0305 06:39:37.034986       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:37.034989       1 tree.go:471] Updated node(2) last access: 135.1329 seconds
I0305 06:39:37.035002       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:37.035005       1 tree.go:471] Updated node(18) last access: 135.1329 seconds
I0305 06:39:37.035009       1 tree.go:484] Entire input tokens match the child node(73)
I0305 06:39:37.035013       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:37.035020       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:37.035027       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:37.035033       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:37.035015187 +0000 UTC m=+135.251742062 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:28.099734899 +0000 UTC m=+126.316461763]
I0305 06:39:37.035052       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:37.035059       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:37.035126       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7601
I0305 06:39:37.035136       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:37.035144       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.035151       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.035160       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.035166       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.035182       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:37.035191       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:37.035201       1 prefix_cache_and_load.go:584] latency, Route, 0.1976
I0305 06:39:37.035215       1 gateway.go:415] latency, selectTargetPod, 0.1976, target pod, 10.0.0.131:8000
I0305 06:39:37.035225       1 gateway.go:235] latency, HandleRequestBody, 0.1981
I0305 06:39:37.035258       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1827
I0305 06:39:37.035262       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:37.035265       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:37.035341       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:37.035371       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:37.035378       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:37.053306       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c50bbb56-ddd5-4272-9354-76c76363c77f"
I0305 06:39:37.054248       1 gateway.go:608] "First token received" requestID="72c42e48-cc65-4598-a6c6-dcaff53e3d1f" ttft_ms=244
I0305 06:39:37.058421       1 gateway.go:608] "First token received" requestID="11b52e1a-f1f4-4453-a55f-a32fd01987fb" ttft_ms=257
I0305 06:39:37.058890       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5b67e151-84a3-4f85-8449-60b5958c7a0f" model="qwen2-5-7b-instruct"
I0305 06:39:37.091880       1 gateway.go:207] "Processing request" requestID="9f043f1e-7f4b-4754-b195-849625562daa"
I0305 06:39:37.091917       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9f043f1e-7f4b-4754-b195-849625562daa"
I0305 06:39:37.091929       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:37.101826       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0664, numInputTokens, 7598
I0305 06:39:37.101847       1 tree.go:471] Updated node(0) last access: 135.1998 seconds
I0305 06:39:37.101853       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:37.101856       1 tree.go:471] Updated node(2) last access: 135.1998 seconds
I0305 06:39:37.101868       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:37.101873       1 tree.go:471] Updated node(26) last access: 135.1998 seconds
I0305 06:39:37.101877       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:39:37.101880       1 tree.go:471] Updated node(36) last access: 135.1998 seconds
I0305 06:39:37.101884       1 tree.go:490] Partial tokens match child node(71). Continue to go deeper in the radix tree
I0305 06:39:37.101887       1 tree.go:471] Updated node(71) last access: 135.1998 seconds
I0305 06:39:37.101892       1 tree.go:484] Entire input tokens match the child node(72)
I0305 06:39:37.101894       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:37.101903       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:37.101910       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:37.101915       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:37.101898091 +0000 UTC m=+135.318624955 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:28.014557984 +0000 UTC m=+126.231284848]
I0305 06:39:37.101934       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:37.101943       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:37.102015       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7598
I0305 06:39:37.102030       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:37.102044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.102052       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.102060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.102070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.102079       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.102086       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.102106       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:37.102131       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:37.102149       1 prefix_cache_and_load.go:584] latency, Route, 0.2496
I0305 06:39:37.102169       1 gateway.go:415] latency, selectTargetPod, 0.2496, target pod, 10.0.3.41:8000
I0305 06:39:37.102184       1 gateway.go:235] latency, HandleRequestBody, 0.2500
I0305 06:39:37.102234       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0432
I0305 06:39:37.102247       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:37.102251       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:37.102350       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:37.102383       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:37.102415       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:37.103051       1 gateway.go:608] "First token received" requestID="c50bbb56-ddd5-4272-9354-76c76363c77f" ttft_ms=265
I0305 06:39:37.119080       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="565ba18d-7e80-4d77-8b47-0fe48dbf2217"
I0305 06:39:37.131826       1 gateway.go:562] latency, 0.0000, summary, hash(request), 253afa9c, selectedpod, 10.0.0.39:8000, ttft, 257, tpot, 8, e2e, 330, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:37.131845       1 gateway.go:748] "Request completed" requestID="11b52e1a-f1f4-4453-a55f-a32fd01987fb" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:37.131858       1 gateway.go:764] "HandleResponseBody completed" requestID="11b52e1a-f1f4-4453-a55f-a32fd01987fb" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:37.144297       1 gateway.go:562] latency, 0.0000, summary, hash(request), bebd767c, selectedpod, 10.0.0.131:8000, ttft, 115, tpot, 27, e2e, 361, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:37.144318       1 gateway.go:748] "Request completed" requestID="62d98a9c-8daa-40df-a408-293152a4534e" targetPod="10.0.0.131:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:37.144332       1 gateway.go:764] "HandleResponseBody completed" requestID="62d98a9c-8daa-40df-a408-293152a4534e" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:37.145230       1 gateway.go:608] "First token received" requestID="565ba18d-7e80-4d77-8b47-0fe48dbf2217" ttft_ms=292
I0305 06:39:37.164038       1 gateway.go:207] "Processing request" requestID="6726e2ff-c7a1-4f6a-86f6-a140c8fa9d95"
I0305 06:39:37.164063       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6726e2ff-c7a1-4f6a-86f6-a140c8fa9d95"
I0305 06:39:37.164074       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:37.183358       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0809, numInputTokens, 7596
I0305 06:39:37.183373       1 tree.go:471] Updated node(0) last access: 135.2813 seconds
I0305 06:39:37.183379       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:37.183382       1 tree.go:471] Updated node(2) last access: 135.2813 seconds
I0305 06:39:37.183397       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:37.183402       1 tree.go:471] Updated node(23) last access: 135.2813 seconds
I0305 06:39:37.183407       1 tree.go:490] Partial tokens match child node(83). Continue to go deeper in the radix tree
I0305 06:39:37.183409       1 tree.go:471] Updated node(83) last access: 135.2814 seconds
I0305 06:39:37.183416       1 tree.go:484] Entire input tokens match the child node(74)
I0305 06:39:37.183419       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 06:39:37.183425       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:37.183431       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:37.183436       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:37.183421513 +0000 UTC m=+135.400148384 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:28.148896387 +0000 UTC m=+126.365623260]
I0305 06:39:37.183453       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:37.183460       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:37.183505       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7596
I0305 06:39:37.183527       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:37.183540       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.183547       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.183552       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.183557       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.183563       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.183576       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:37.183585       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:37.183594       1 prefix_cache_and_load.go:584] latency, Route, 0.1246
I0305 06:39:37.183602       1 gateway.go:415] latency, selectTargetPod, 0.1246, target pod, 10.0.3.42:8000
I0305 06:39:37.183616       1 gateway.go:235] latency, HandleRequestBody, 0.2293
I0305 06:39:37.200335       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5b67e151-84a3-4f85-8449-60b5958c7a0f"
I0305 06:39:37.233207       1 gateway.go:608] "First token received" requestID="5b67e151-84a3-4f85-8449-60b5958c7a0f" ttft_ms=278
I0305 06:39:37.240665       1 gateway.go:207] "Processing request" requestID="c0c43420-81b3-474b-a701-f444bc97c4ae"
I0305 06:39:37.240692       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c0c43420-81b3-474b-a701-f444bc97c4ae"
I0305 06:39:37.240701       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:37.264780       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8de50e11, selectedpod, 10.0.0.131:8000, ttft, 244, tpot, 23, e2e, 454, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 06:39:37.264800       1 gateway.go:748] "Request completed" requestID="72c42e48-cc65-4598-a6c6-dcaff53e3d1f" targetPod="10.0.0.131:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 06:39:37.264811       1 gateway.go:764] "HandleResponseBody completed" requestID="72c42e48-cc65-4598-a6c6-dcaff53e3d1f" promptTokens=7623 completionTokens=10 stream=true
I0305 06:39:37.288285       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9ff58bb6, selectedpod, 10.0.0.131:8000, ttft, 265, tpot, 20, e2e, 451, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:37.288297       1 gateway.go:748] "Request completed" requestID="c50bbb56-ddd5-4272-9354-76c76363c77f" targetPod="10.0.0.131:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:37.288304       1 gateway.go:764] "HandleResponseBody completed" requestID="c50bbb56-ddd5-4272-9354-76c76363c77f" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:37.320100       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7489be7b, selectedpod, 10.0.3.41:8000, ttft, 292, tpot, 19, e2e, 467, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:37.320119       1 gateway.go:748] "Request completed" requestID="565ba18d-7e80-4d77-8b47-0fe48dbf2217" targetPod="10.0.3.41:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:37.320129       1 gateway.go:764] "HandleResponseBody completed" requestID="565ba18d-7e80-4d77-8b47-0fe48dbf2217" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:37.320648       1 gateway.go:207] "Processing request" requestID="5ed1a167-1088-4106-9b6b-f594f5d6e884"
I0305 06:39:37.320670       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5ed1a167-1088-4106-9b6b-f594f5d6e884"
I0305 06:39:37.320677       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:37.396792       1 gateway.go:207] "Processing request" requestID="074d33d1-3c20-4295-b214-482645f27e97"
I0305 06:39:37.396824       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="074d33d1-3c20-4295-b214-482645f27e97"
I0305 06:39:37.396833       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:37.406080       1 gateway.go:562] latency, 0.0001, summary, hash(request), 8a42d0fc, selectedpod, 10.0.3.42:8000, ttft, 278, tpot, 19, e2e, 451, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:37.406101       1 gateway.go:748] "Request completed" requestID="5b67e151-84a3-4f85-8449-60b5958c7a0f" targetPod="10.0.3.42:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:37.406112       1 gateway.go:764] "HandleResponseBody completed" requestID="5b67e151-84a3-4f85-8449-60b5958c7a0f" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:37.491977       1 gateway.go:207] "Processing request" requestID="d8a92fb9-fa25-4e83-9af6-42d5e6785524"
I0305 06:39:37.492004       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d8a92fb9-fa25-4e83-9af6-42d5e6785524"
I0305 06:39:37.492013       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:37.510303       1 gateway.go:329] "-- In RequestBody processing ..." requestID="91035036-f7e1-4174-87bf-2b20cbe28954"
I0305 06:39:37.510524       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="91035036-f7e1-4174-87bf-2b20cbe28954" model="qwen2-5-7b-instruct"
I0305 06:39:37.510605       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:37.510612       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:37.510615       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:37.510710       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:37.510761       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:37.510766       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:37.545537       1 gateway.go:329] "-- In RequestBody processing ..." requestID="33d22605-772a-4fdc-807e-8cd9926dfdd0"
I0305 06:39:37.545780       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="33d22605-772a-4fdc-807e-8cd9926dfdd0" model="qwen2-5-7b-instruct"
I0305 06:39:37.561029       1 gateway.go:329] "-- In RequestBody processing ..." requestID="95bfdeff-06a9-4f2e-8c11-aa6bd6dcdb92"
I0305 06:39:37.561254       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="95bfdeff-06a9-4f2e-8c11-aa6bd6dcdb92" model="qwen2-5-7b-instruct"
I0305 06:39:37.562784       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0520, numInputTokens, 7598
I0305 06:39:37.562803       1 tree.go:471] Updated node(0) last access: 135.6607 seconds
I0305 06:39:37.562808       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:37.562814       1 tree.go:471] Updated node(2) last access: 135.6608 seconds
I0305 06:39:37.562827       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:37.562831       1 tree.go:471] Updated node(31) last access: 135.6608 seconds
I0305 06:39:37.562843       1 tree.go:667] Split complete - New node(150)
I0305 06:39:37.562849       1 tree.go:668] Split complete - Child node(82)
I0305 06:39:37.562855       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:39:37.562862       1 tree.go:471] Updated node(150) last access: 135.6608 seconds
I0305 06:39:37.562869       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 06:39:37.562874       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:37.562882       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:37.562889       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:37.562897       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:37.562876927 +0000 UTC m=+135.779603795]
I0305 06:39:37.562919       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7488, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 06:39:37.562931       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 06:39:37.562996       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7488
I0305 06:39:37.563008       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:37.563020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.563027       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.563035       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.563045       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.563051       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.563068       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:37.563083       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:37.563099       1 prefix_cache_and_load.go:584] latency, Route, 0.0525
I0305 06:39:37.563115       1 gateway.go:415] latency, selectTargetPod, 0.0525, target pod, 10.0.1.28:8000
I0305 06:39:37.563128       1 gateway.go:235] latency, HandleRequestBody, 0.0528
I0305 06:39:37.563159       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0173
I0305 06:39:37.563165       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:37.563169       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:37.563265       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:37.563312       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:37.563318       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:37.576740       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f8b0cc9e-e579-47b8-b06c-13b4990830f1"
I0305 06:39:37.576943       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f8b0cc9e-e579-47b8-b06c-13b4990830f1" model="qwen2-5-7b-instruct"
I0305 06:39:37.583112       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="91035036-f7e1-4174-87bf-2b20cbe28954"
I0305 06:39:37.605979       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b6136ee4-3027-4590-a4b7-77635848ec04"
I0305 06:39:37.606194       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b6136ee4-3027-4590-a4b7-77635848ec04" model="qwen2-5-7b-instruct"
I0305 06:39:37.614482       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0512, numInputTokens, 7601
I0305 06:39:37.614501       1 tree.go:471] Updated node(0) last access: 135.7124 seconds
I0305 06:39:37.614507       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:37.614518       1 tree.go:471] Updated node(2) last access: 135.7125 seconds
I0305 06:39:37.614531       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:37.614535       1 tree.go:471] Updated node(53) last access: 135.7125 seconds
I0305 06:39:37.614545       1 tree.go:667] Split complete - New node(152)
I0305 06:39:37.614550       1 tree.go:668] Split complete - Child node(92)
I0305 06:39:37.614555       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 06:39:37.614559       1 tree.go:471] Updated node(152) last access: 135.7125 seconds
I0305 06:39:37.614563       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:37.614567       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:37.614574       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:37.614580       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:37.614584       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:37.614569989 +0000 UTC m=+135.831296862]
I0305 06:39:37.614598       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7486, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:37.614605       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:37.614643       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7486
I0305 06:39:37.614653       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:37.614659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.614665       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.614671       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.614675       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.614682       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.614692       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:37.614700       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:37.614711       1 prefix_cache_and_load.go:584] latency, Route, 0.0688
I0305 06:39:37.614726       1 gateway.go:415] latency, selectTargetPod, 0.0689, target pod, 10.0.0.34:8000
I0305 06:39:37.614737       1 gateway.go:235] latency, HandleRequestBody, 0.0692
I0305 06:39:37.614764       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0534
I0305 06:39:37.614768       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:37.614772       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:37.614831       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:37.614861       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:37.614865       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:37.619742       1 gateway.go:608] "First token received" requestID="91035036-f7e1-4174-87bf-2b20cbe28954" ttft_ms=109
I0305 06:39:37.632341       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fd9cc84e-3604-4294-a845-a13bffcbdb86"
I0305 06:39:37.632554       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fd9cc84e-3604-4294-a845-a13bffcbdb86" model="qwen2-5-7b-instruct"
I0305 06:39:37.637677       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="33d22605-772a-4fdc-807e-8cd9926dfdd0"
I0305 06:39:37.658944       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a6022a98-f8ae-4472-86d3-51862d306d13"
I0305 06:39:37.659158       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a6022a98-f8ae-4472-86d3-51862d306d13" model="qwen2-5-7b-instruct"
I0305 06:39:37.673747       1 gateway.go:608] "First token received" requestID="33d22605-772a-4fdc-807e-8cd9926dfdd0" ttft_ms=128
I0305 06:39:37.678636       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d018c8cc-6766-4b9d-9f3b-699b5079d786"
I0305 06:39:37.678928       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d018c8cc-6766-4b9d-9f3b-699b5079d786" model="qwen2-5-7b-instruct"
I0305 06:39:37.682156       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0673, numInputTokens, 7605
I0305 06:39:37.682176       1 tree.go:471] Updated node(0) last access: 135.7801 seconds
I0305 06:39:37.682182       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:37.682186       1 tree.go:471] Updated node(2) last access: 135.7801 seconds
I0305 06:39:37.682200       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:37.682205       1 tree.go:471] Updated node(45) last access: 135.7801 seconds
I0305 06:39:37.682211       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 127 tokens:
I0305 06:39:37.682217       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7605 tokens
I0305 06:39:37.682224       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7605 tokens
I0305 06:39:37.682231       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:37.682236       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:37.682219078 +0000 UTC m=+135.898945951]
I0305 06:39:37.682252       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7605, Matched tokens: 7478, Matching ratio: 0.9833, # Matched pods: 0, Matched pods: []
I0305 06:39:37.682259       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9833 > 0.5000)
I0305 06:39:37.682300       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:37.682309       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:37.682318       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.682324       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.682327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.682332       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.682346       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:37.682359       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:37.682373       1 prefix_cache_and_load.go:584] latency, Route, 0.1210
I0305 06:39:37.682388       1 gateway.go:415] latency, selectTargetPod, 0.1211, target pod, 10.0.0.34:8000
I0305 06:39:37.682400       1 gateway.go:235] latency, HandleRequestBody, 0.1214
I0305 06:39:37.682408       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1054
I0305 06:39:37.682424       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:37.682428       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:37.682571       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:37.682612       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:37.682618       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:37.688915       1 gateway.go:329] "-- In RequestBody processing ..." requestID="033cfbb5-0838-474a-9213-454e621e4cb2"
I0305 06:39:37.689139       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="033cfbb5-0838-474a-9213-454e621e4cb2" model="qwen2-5-7b-instruct"
I0305 06:39:37.698719       1 gateway.go:329] "-- In RequestBody processing ..." requestID="be730328-1238-45e1-89d3-6003c08e1878"
I0305 06:39:37.698931       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="be730328-1238-45e1-89d3-6003c08e1878" model="qwen2-5-7b-instruct"
I0305 06:39:37.702342       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="95bfdeff-06a9-4f2e-8c11-aa6bd6dcdb92"
I0305 06:39:37.717607       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fcd2754f-19c2-43eb-922c-a3c3e0b50c36"
I0305 06:39:37.717812       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fcd2754f-19c2-43eb-922c-a3c3e0b50c36" model="qwen2-5-7b-instruct"
I0305 06:39:37.730988       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0484, numInputTokens, 7596
I0305 06:39:37.731006       1 tree.go:471] Updated node(0) last access: 135.8289 seconds
I0305 06:39:37.731012       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:37.731017       1 tree.go:471] Updated node(2) last access: 135.8290 seconds
I0305 06:39:37.731031       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:37.731036       1 tree.go:471] Updated node(26) last access: 135.8290 seconds
I0305 06:39:37.731041       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 06:39:37.731046       1 tree.go:471] Updated node(75) last access: 135.8290 seconds
I0305 06:39:37.731052       1 tree.go:484] Entire input tokens match the child node(76)
I0305 06:39:37.731056       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:37.731064       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:37.731071       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:37.731079       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:37.731058328 +0000 UTC m=+135.947785194 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:28.221025202 +0000 UTC m=+126.437752066]
I0305 06:39:37.731102       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:37.731112       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:37.731168       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7596
I0305 06:39:37.731182       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:37.731195       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.731202       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.731210       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.731216       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.731221       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.731236       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:37.731249       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:37.731258       1 prefix_cache_and_load.go:584] latency, Route, 0.1542
I0305 06:39:37.731272       1 gateway.go:415] latency, selectTargetPod, 0.1542, target pod, 10.0.3.41:8000
I0305 06:39:37.731281       1 gateway.go:235] latency, HandleRequestBody, 0.1545
I0305 06:39:37.731300       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1250
I0305 06:39:37.731307       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:37.731311       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:37.731408       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:37.731442       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:37.731447       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:37.747497       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f8b0cc9e-e579-47b8-b06c-13b4990830f1"
I0305 06:39:37.748849       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e527a8b1-470d-4ef0-a532-68ea407f36e1"
I0305 06:39:37.749073       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e527a8b1-470d-4ef0-a532-68ea407f36e1" model="qwen2-5-7b-instruct"
I0305 06:39:37.753136       1 gateway.go:608] "First token received" requestID="95bfdeff-06a9-4f2e-8c11-aa6bd6dcdb92" ttft_ms=192
I0305 06:39:37.771120       1 gateway.go:329] "-- In RequestBody processing ..." requestID="518d9f39-611c-45ff-9d0f-3dd1ab44e594"
I0305 06:39:37.771354       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="518d9f39-611c-45ff-9d0f-3dd1ab44e594" model="qwen2-5-7b-instruct"
I0305 06:39:37.779390       1 gateway.go:608] "First token received" requestID="f8b0cc9e-e579-47b8-b06c-13b4990830f1" ttft_ms=202
I0305 06:39:37.792954       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7091c449, selectedpod, 10.0.1.28:8000, ttft, 109, tpot, 19, e2e, 282, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:37.792996       1 gateway.go:748] "Request completed" requestID="91035036-f7e1-4174-87bf-2b20cbe28954" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:37.793014       1 gateway.go:764] "HandleResponseBody completed" requestID="91035036-f7e1-4174-87bf-2b20cbe28954" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:37.794242       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f1945090-c674-449e-8f38-c4c08973df24"
I0305 06:39:37.794811       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f1945090-c674-449e-8f38-c4c08973df24" model="qwen2-5-7b-instruct"
I0305 06:39:37.798077       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0666, numInputTokens, 7594
I0305 06:39:37.798095       1 tree.go:471] Updated node(0) last access: 135.8960 seconds
I0305 06:39:37.798101       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:37.798105       1 tree.go:471] Updated node(2) last access: 135.8960 seconds
I0305 06:39:37.798122       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:37.798129       1 tree.go:471] Updated node(18) last access: 135.8961 seconds
I0305 06:39:37.798133       1 tree.go:490] Partial tokens match child node(77). Continue to go deeper in the radix tree
I0305 06:39:37.798138       1 tree.go:471] Updated node(77) last access: 135.8961 seconds
I0305 06:39:37.798144       1 tree.go:484] Entire input tokens match the child node(78)
I0305 06:39:37.798150       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 06:39:37.798160       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:39:37.798170       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:37.798180       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:37.798154005 +0000 UTC m=+136.014880884 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:28.333779696 +0000 UTC m=+126.550506561]
I0305 06:39:37.798205       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7594, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:37.798216       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:37.798265       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7594
I0305 06:39:37.798274       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:37.798283       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.798288       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.798293       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.798298       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.798306       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.798319       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:37.798329       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:37.798341       1 prefix_cache_and_load.go:584] latency, Route, 0.1921
I0305 06:39:37.798355       1 gateway.go:415] latency, selectTargetPod, 0.1921, target pod, 10.0.0.131:8000
I0305 06:39:37.798369       1 gateway.go:235] latency, HandleRequestBody, 0.1924
I0305 06:39:37.798402       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1658
I0305 06:39:37.798406       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:37.798410       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:37.798485       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:37.798532       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:37.798537       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:37.815957       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b6136ee4-3027-4590-a4b7-77635848ec04"
I0305 06:39:37.824397       1 gateway.go:329] "-- In RequestBody processing ..." requestID="545a91a0-48d9-489b-92fd-44d6b3c8ce88"
I0305 06:39:37.824784       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="545a91a0-48d9-489b-92fd-44d6b3c8ce88" model="qwen2-5-7b-instruct"
I0305 06:39:37.846668       1 gateway.go:608] "First token received" requestID="b6136ee4-3027-4590-a4b7-77635848ec04" ttft_ms=240
I0305 06:39:37.862675       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bc887de4-209f-4c35-bb8f-4a8cbbacb740"
I0305 06:39:37.862872       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bc887de4-209f-4c35-bb8f-4a8cbbacb740" model="qwen2-5-7b-instruct"
I0305 06:39:37.883630       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0851, numInputTokens, 7600
I0305 06:39:37.883648       1 tree.go:471] Updated node(0) last access: 135.9816 seconds
I0305 06:39:37.883656       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:37.883663       1 tree.go:471] Updated node(2) last access: 135.9816 seconds
I0305 06:39:37.883678       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:37.883683       1 tree.go:471] Updated node(23) last access: 135.9816 seconds
I0305 06:39:37.883686       1 tree.go:490] Partial tokens match child node(87). Continue to go deeper in the radix tree
I0305 06:39:37.883688       1 tree.go:471] Updated node(87) last access: 135.9816 seconds
I0305 06:39:37.883693       1 tree.go:484] Entire input tokens match the child node(70)
I0305 06:39:37.883696       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:37.883702       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:37.883709       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:37.883714       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:37.883698109 +0000 UTC m=+136.100424973 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:27.836888838 +0000 UTC m=+126.053615702]
I0305 06:39:37.883736       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:37.883746       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:37.883796       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7600
I0305 06:39:37.883806       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:37.883815       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.883821       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.883824       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.883829       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.883833       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.883842       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:37.883850       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:37.883862       1 prefix_cache_and_load.go:584] latency, Route, 0.2512
I0305 06:39:37.883876       1 gateway.go:415] latency, selectTargetPod, 0.2512, target pod, 10.0.3.42:8000
I0305 06:39:37.883886       1 gateway.go:235] latency, HandleRequestBody, 0.2515
I0305 06:39:37.883914       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2247
I0305 06:39:37.883919       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:37.883922       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:37.884003       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:37.884037       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:37.884043       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:37.884644       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9f043f1e-7f4b-4754-b195-849625562daa"
I0305 06:39:37.884862       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9f043f1e-7f4b-4754-b195-849625562daa" model="qwen2-5-7b-instruct"
I0305 06:39:37.895589       1 gateway.go:562] latency, 0.0000, summary, hash(request), 63292ecc, selectedpod, 10.0.0.34:8000, ttft, 128, tpot, 24, e2e, 350, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:37.895609       1 gateway.go:748] "Request completed" requestID="33d22605-772a-4fdc-807e-8cd9926dfdd0" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:37.895621       1 gateway.go:764] "HandleResponseBody completed" requestID="33d22605-772a-4fdc-807e-8cd9926dfdd0" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:37.900472       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fd9cc84e-3604-4294-a845-a13bffcbdb86"
I0305 06:39:37.912016       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6726e2ff-c7a1-4f6a-86f6-a140c8fa9d95"
I0305 06:39:37.930636       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c0c43420-81b3-474b-a701-f444bc97c4ae"
I0305 06:39:37.934468       1 gateway.go:608] "First token received" requestID="fd9cc84e-3604-4294-a845-a13bffcbdb86" ttft_ms=302
I0305 06:39:37.937621       1 gateway.go:562] latency, 0.0000, summary, hash(request), edf3a57c, selectedpod, 10.0.0.34:8000, ttft, 192, tpot, 20, e2e, 376, numInputTokens, 7624, numOutputTokens, 10, numTotalTokens, 7634
I0305 06:39:37.937640       1 gateway.go:748] "Request completed" requestID="95bfdeff-06a9-4f2e-8c11-aa6bd6dcdb92" targetPod="10.0.0.34:8000" promptTokens=7624 completionTokens=10 totalTokens=7634
I0305 06:39:37.937650       1 gateway.go:764] "HandleResponseBody completed" requestID="95bfdeff-06a9-4f2e-8c11-aa6bd6dcdb92" promptTokens=7624 completionTokens=10 stream=true
I0305 06:39:37.978610       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5ed1a167-1088-4106-9b6b-f594f5d6e884"
I0305 06:39:37.978622       1 gateway.go:329] "-- In RequestBody processing ..." requestID="074d33d1-3c20-4295-b214-482645f27e97"
I0305 06:39:37.978688       1 gateway.go:562] latency, 0.0000, summary, hash(request), d8692829, selectedpod, 10.0.3.41:8000, ttft, 202, tpot, 22, e2e, 401, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:37.978709       1 gateway.go:748] "Request completed" requestID="f8b0cc9e-e579-47b8-b06c-13b4990830f1" targetPod="10.0.3.41:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:37.978718       1 gateway.go:764] "HandleResponseBody completed" requestID="f8b0cc9e-e579-47b8-b06c-13b4990830f1" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:37.979405       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0954, numInputTokens, 7599
I0305 06:39:37.979422       1 tree.go:471] Updated node(0) last access: 136.0774 seconds
I0305 06:39:37.979428       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:37.979431       1 tree.go:471] Updated node(2) last access: 136.0774 seconds
I0305 06:39:37.979443       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:37.979449       1 tree.go:471] Updated node(51) last access: 136.0774 seconds
I0305 06:39:37.979454       1 tree.go:490] Partial tokens match child node(143). Continue to go deeper in the radix tree
I0305 06:39:37.979460       1 tree.go:471] Updated node(143) last access: 136.0774 seconds
I0305 06:39:37.979466       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6726e2ff-c7a1-4f6a-86f6-a140c8fa9d95" model="qwen2-5-7b-instruct"
I0305 06:39:37.979534       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c0c43420-81b3-474b-a701-f444bc97c4ae" model="qwen2-5-7b-instruct"
I0305 06:39:37.979468       1 tree.go:490] Partial tokens match child node(100). Continue to go deeper in the radix tree
I0305 06:39:37.979600       1 tree.go:471] Updated node(100) last access: 136.0775 seconds
I0305 06:39:37.979606       1 tree.go:490] Partial tokens match child node(137). Continue to go deeper in the radix tree
I0305 06:39:37.979451       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5ed1a167-1088-4106-9b6b-f594f5d6e884" model="qwen2-5-7b-instruct"
I0305 06:39:37.979534       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="074d33d1-3c20-4295-b214-482645f27e97" model="qwen2-5-7b-instruct"
I0305 06:39:37.979612       1 tree.go:471] Updated node(137) last access: 136.0776 seconds
I0305 06:39:37.979787       1 tree.go:484] Entire input tokens match the child node(79)
I0305 06:39:37.979791       1 tree.go:449] latency, insertHelper, 0.0004 seconds, 7599 tokens
I0305 06:39:37.979802       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:37.979810       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0004
I0305 06:39:37.979823       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:37.979795119 +0000 UTC m=+136.196521984 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:28.413676758 +0000 UTC m=+126.630403632]
I0305 06:39:37.979849       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:37.979862       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:37.979929       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7599
I0305 06:39:37.979939       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:37.979948       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.979954       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.979960       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.979976       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.979983       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.979990       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.979993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:37.980002       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:37.980011       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:37.980020       1 prefix_cache_and_load.go:584] latency, Route, 0.3208
I0305 06:39:37.980033       1 gateway.go:415] latency, selectTargetPod, 0.3208, target pod, 10.0.1.28:8000
I0305 06:39:37.980045       1 gateway.go:235] latency, HandleRequestBody, 0.3211
I0305 06:39:37.980072       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3010
I0305 06:39:37.980077       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:37.980080       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:37.980165       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:37.980202       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:37.980207       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:37.993083       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d8a92fb9-fa25-4e83-9af6-42d5e6785524"
I0305 06:39:37.993322       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d8a92fb9-fa25-4e83-9af6-42d5e6785524" model="qwen2-5-7b-instruct"
I0305 06:39:38.000529       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a6022a98-f8ae-4472-86d3-51862d306d13"
I0305 06:39:38.020579       1 gateway.go:562] latency, 0.0000, summary, hash(request), 329aa8ee, selectedpod, 10.0.0.131:8000, ttft, 240, tpot, 19, e2e, 414, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:39:38.020596       1 gateway.go:748] "Request completed" requestID="b6136ee4-3027-4590-a4b7-77635848ec04" targetPod="10.0.0.131:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:39:38.020607       1 gateway.go:764] "HandleResponseBody completed" requestID="b6136ee4-3027-4590-a4b7-77635848ec04" promptTokens=7613 completionTokens=10 stream=true
I0305 06:39:38.028860       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 7602
I0305 06:39:38.028877       1 tree.go:471] Updated node(0) last access: 136.1268 seconds
I0305 06:39:38.028883       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.028887       1 tree.go:471] Updated node(2) last access: 136.1268 seconds
I0305 06:39:38.028899       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:38.028904       1 tree.go:471] Updated node(23) last access: 136.1268 seconds
I0305 06:39:38.028909       1 tree.go:490] Partial tokens match child node(80). Continue to go deeper in the radix tree
I0305 06:39:38.028914       1 tree.go:471] Updated node(80) last access: 136.1269 seconds
I0305 06:39:38.028919       1 tree.go:484] Entire input tokens match the child node(81)
I0305 06:39:38.028925       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:38.028933       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:38.028943       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.028951       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.028927562 +0000 UTC m=+136.245654434 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:28.493479349 +0000 UTC m=+126.710206214]
I0305 06:39:38.028980       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:38.028998       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:38.029041       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7602
I0305 06:39:38.029051       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:38.029063       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.029070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.029074       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.029079       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.029083       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.029092       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.029101       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:38.029110       1 prefix_cache_and_load.go:584] latency, Route, 0.3500
I0305 06:39:38.029124       1 gateway.go:415] latency, selectTargetPod, 0.3500, target pod, 10.0.3.42:8000
I0305 06:39:38.029133       1 gateway.go:235] latency, HandleRequestBody, 0.3505
I0305 06:39:38.029137       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3399
I0305 06:39:38.029149       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.029155       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.029315       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.029403       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:38.029410       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.032231       1 gateway.go:608] "First token received" requestID="a6022a98-f8ae-4472-86d3-51862d306d13" ttft_ms=373
I0305 06:39:38.044600       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d018c8cc-6766-4b9d-9f3b-699b5079d786"
I0305 06:39:38.076454       1 gateway.go:608] "First token received" requestID="d018c8cc-6766-4b9d-9f3b-699b5079d786" ttft_ms=397
I0305 06:39:38.114359       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0849, numInputTokens, 7600
I0305 06:39:38.114377       1 tree.go:471] Updated node(0) last access: 136.2123 seconds
I0305 06:39:38.114384       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.114387       1 tree.go:471] Updated node(2) last access: 136.2123 seconds
I0305 06:39:38.114401       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:38.114406       1 tree.go:471] Updated node(31) last access: 136.2123 seconds
I0305 06:39:38.114409       1 tree.go:490] Partial tokens match child node(150). Continue to go deeper in the radix tree
I0305 06:39:38.114412       1 tree.go:471] Updated node(150) last access: 136.2124 seconds
I0305 06:39:38.114416       1 tree.go:484] Entire input tokens match the child node(82)
I0305 06:39:38.114419       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:38.114428       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:38.114433       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.114440       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.114423137 +0000 UTC m=+136.331150001 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:28.541162355 +0000 UTC m=+126.757889227]
I0305 06:39:38.114457       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:38.114465       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:38.114505       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7600
I0305 06:39:38.114524       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:38.114533       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.114539       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.114544       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.114548       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.114550       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.114557       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.114567       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:38.114578       1 prefix_cache_and_load.go:584] latency, Route, 0.4253
I0305 06:39:38.114593       1 gateway.go:415] latency, selectTargetPod, 0.4254, target pod, 10.0.1.28:8000
I0305 06:39:38.114605       1 gateway.go:235] latency, HandleRequestBody, 0.4257
I0305 06:39:38.114634       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4156
I0305 06:39:38.114638       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.114641       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.114715       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.114744       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:38.114749       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.133463       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="033cfbb5-0838-474a-9213-454e621e4cb2"
I0305 06:39:38.137444       1 gateway.go:562] latency, 0.0000, summary, hash(request), 113b8978, selectedpod, 10.0.3.42:8000, ttft, 302, tpot, 22, e2e, 505, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:38.137460       1 gateway.go:748] "Request completed" requestID="fd9cc84e-3604-4294-a845-a13bffcbdb86" targetPod="10.0.3.42:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:38.137469       1 gateway.go:764] "HandleResponseBody completed" requestID="fd9cc84e-3604-4294-a845-a13bffcbdb86" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:38.164911       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0502, numInputTokens, 7596
I0305 06:39:38.164926       1 tree.go:471] Updated node(0) last access: 136.2629 seconds
I0305 06:39:38.164932       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.164937       1 tree.go:471] Updated node(2) last access: 136.2629 seconds
I0305 06:39:38.164949       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:38.164953       1 tree.go:471] Updated node(23) last access: 136.2629 seconds
I0305 06:39:38.164957       1 tree.go:490] Partial tokens match child node(83). Continue to go deeper in the radix tree
I0305 06:39:38.164961       1 tree.go:471] Updated node(83) last access: 136.2629 seconds
I0305 06:39:38.164965       1 tree.go:484] Entire input tokens match the child node(84)
I0305 06:39:38.164977       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:38.164984       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:38.164991       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.164997       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.164980147 +0000 UTC m=+136.381707012 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:28.618039995 +0000 UTC m=+126.834766860]
I0305 06:39:38.165021       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:38.165027       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:38.165066       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7596
I0305 06:39:38.165075       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:38.165084       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.165090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.165095       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.165105       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.165110       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.165118       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.165127       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:38.165135       1 prefix_cache_and_load.go:584] latency, Route, 0.4661
I0305 06:39:38.165149       1 gateway.go:415] latency, selectTargetPod, 0.4661, target pod, 10.0.3.42:8000
I0305 06:39:38.165159       1 gateway.go:235] latency, HandleRequestBody, 0.4664
I0305 06:39:38.165160       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4473
I0305 06:39:38.165168       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.165173       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.165272       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.165305       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:38.165311       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.178824       1 gateway.go:608] "First token received" requestID="033cfbb5-0838-474a-9213-454e621e4cb2" ttft_ms=489
I0305 06:39:38.180558       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="be730328-1238-45e1-89d3-6003c08e1878"
I0305 06:39:38.223158       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0578, numInputTokens, 7597
I0305 06:39:38.223178       1 tree.go:471] Updated node(0) last access: 136.3211 seconds
I0305 06:39:38.223185       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.223188       1 tree.go:471] Updated node(2) last access: 136.3211 seconds
I0305 06:39:38.223198       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:38.223201       1 tree.go:471] Updated node(23) last access: 136.3211 seconds
I0305 06:39:38.223204       1 tree.go:490] Partial tokens match child node(87). Continue to go deeper in the radix tree
I0305 06:39:38.223207       1 tree.go:471] Updated node(87) last access: 136.3211 seconds
I0305 06:39:38.223210       1 tree.go:490] Partial tokens match child node(113). Continue to go deeper in the radix tree
I0305 06:39:38.223214       1 tree.go:471] Updated node(113) last access: 136.3212 seconds
I0305 06:39:38.223217       1 tree.go:490] Partial tokens match child node(106). Continue to go deeper in the radix tree
I0305 06:39:38.223220       1 tree.go:471] Updated node(106) last access: 136.3212 seconds
I0305 06:39:38.223227       1 tree.go:484] Entire input tokens match the child node(88)
I0305 06:39:38.223230       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:38.223239       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:38.223246       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.223251       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.223233879 +0000 UTC m=+136.439960743 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:28.735134651 +0000 UTC m=+126.951861516]
I0305 06:39:38.223270       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:38.223276       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:38.223314       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7597
I0305 06:39:38.223324       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:38.223331       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.223336       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.223341       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.223347       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.223354       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.223359       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.223367       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.223378       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.223390       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:38.223404       1 prefix_cache_and_load.go:584] latency, Route, 0.5055
I0305 06:39:38.223423       1 gateway.go:415] latency, selectTargetPod, 0.5055, target pod, 10.0.3.42:8000
I0305 06:39:38.223437       1 gateway.go:235] latency, HandleRequestBody, 0.5058
I0305 06:39:38.223468       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4743
I0305 06:39:38.223473       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.223475       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.223558       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.223594       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:38.223599       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.224033       1 gateway.go:608] "First token received" requestID="be730328-1238-45e1-89d3-6003c08e1878" ttft_ms=525
I0305 06:39:38.238907       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fcd2754f-19c2-43eb-922c-a3c3e0b50c36"
I0305 06:39:38.241554       1 gateway.go:562] latency, 0.0001, summary, hash(request), 1b1c7493, selectedpod, 10.0.1.28:8000, ttft, 373, tpot, 23, e2e, 582, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:38.241578       1 gateway.go:748] "Request completed" requestID="a6022a98-f8ae-4472-86d3-51862d306d13" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:38.241588       1 gateway.go:764] "HandleResponseBody completed" requestID="a6022a98-f8ae-4472-86d3-51862d306d13" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:38.266800       1 gateway.go:608] "First token received" requestID="fcd2754f-19c2-43eb-922c-a3c3e0b50c36" ttft_ms=549
I0305 06:39:38.301792       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0782, numInputTokens, 7602
I0305 06:39:38.301809       1 tree.go:471] Updated node(0) last access: 136.3997 seconds
I0305 06:39:38.301815       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.301818       1 tree.go:471] Updated node(2) last access: 136.3998 seconds
I0305 06:39:38.301831       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:38.301836       1 tree.go:471] Updated node(4) last access: 136.3998 seconds
I0305 06:39:38.301842       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 06:39:38.301846       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:38.301851       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:38.301860       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.301864       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.301847771 +0000 UTC m=+136.518574636]
I0305 06:39:38.301879       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 06:39:38.301885       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 06:39:38.301920       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7478
I0305 06:39:38.301929       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:38.301937       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.301941       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.301944       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.301949       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.301958       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.301974       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:38.301985       1 prefix_cache_and_load.go:584] latency, Route, 0.5528
I0305 06:39:38.301998       1 gateway.go:415] latency, selectTargetPod, 0.5529, target pod, 10.0.1.47:8000
I0305 06:39:38.302009       1 gateway.go:235] latency, HandleRequestBody, 0.5532
I0305 06:39:38.302010       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5306
I0305 06:39:38.302019       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.302031       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.302149       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.302190       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:38.302197       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.308221       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0bc01985, selectedpod, 10.0.3.42:8000, ttft, 397, tpot, 25, e2e, 629, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:38.308245       1 gateway.go:748] "Request completed" requestID="d018c8cc-6766-4b9d-9f3b-699b5079d786" targetPod="10.0.3.42:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:38.308255       1 gateway.go:764] "HandleResponseBody completed" requestID="d018c8cc-6766-4b9d-9f3b-699b5079d786" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:38.321765       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e527a8b1-470d-4ef0-a532-68ea407f36e1"
I0305 06:39:38.353949       1 gateway.go:562] latency, 0.0000, summary, hash(request), 754d2c24, selectedpod, 10.0.1.28:8000, ttft, 489, tpot, 19, e2e, 664, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:38.353975       1 gateway.go:748] "Request completed" requestID="033cfbb5-0838-474a-9213-454e621e4cb2" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:38.353989       1 gateway.go:764] "HandleResponseBody completed" requestID="033cfbb5-0838-474a-9213-454e621e4cb2" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:38.365637       1 gateway.go:608] "First token received" requestID="e527a8b1-470d-4ef0-a532-68ea407f36e1" ttft_ms=616
I0305 06:39:38.384175       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0820, numInputTokens, 7596
I0305 06:39:38.384192       1 tree.go:471] Updated node(0) last access: 136.4821 seconds
I0305 06:39:38.384198       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.384202       1 tree.go:471] Updated node(2) last access: 136.4821 seconds
I0305 06:39:38.384216       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:38.384220       1 tree.go:471] Updated node(8) last access: 136.4822 seconds
I0305 06:39:38.384224       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:39:38.384227       1 tree.go:471] Updated node(85) last access: 136.4822 seconds
I0305 06:39:38.384231       1 tree.go:484] Entire input tokens match the child node(86)
I0305 06:39:38.384236       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 06:39:38.384242       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:38.384249       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.384255       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.384237882 +0000 UTC m=+136.600964746 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:28.684089814 +0000 UTC m=+126.900816677]
I0305 06:39:38.384273       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:38.384281       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:38.384325       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7596
I0305 06:39:38.384338       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:38.384348       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.384357       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.384364       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.384371       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.384376       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.384388       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.384402       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:38.384417       1 prefix_cache_and_load.go:584] latency, Route, 0.6130
I0305 06:39:38.384435       1 gateway.go:415] latency, selectTargetPod, 0.6130, target pod, 10.0.1.53:8000
I0305 06:39:38.384451       1 gateway.go:235] latency, HandleRequestBody, 0.6133
I0305 06:39:38.384476       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5889
I0305 06:39:38.384489       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.384493       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.384603       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.384638       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:38.384644       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.404316       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="518d9f39-611c-45ff-9d0f-3dd1ab44e594"
I0305 06:39:38.422097       1 gateway.go:207] "Processing request" requestID="7d6b8c11-5c52-4fa3-9025-c6bef03111d7"
I0305 06:39:38.422125       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7d6b8c11-5c52-4fa3-9025-c6bef03111d7"
I0305 06:39:38.422135       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:38.426435       1 gateway.go:207] "Processing request" requestID="ab896f24-0a6d-4100-8aaa-3d5e03d8d9c9"
I0305 06:39:38.426460       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ab896f24-0a6d-4100-8aaa-3d5e03d8d9c9"
I0305 06:39:38.426468       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:38.428701       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d94fd2e, selectedpod, 10.0.3.42:8000, ttft, 525, tpot, 22, e2e, 729, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:38.428718       1 gateway.go:748] "Request completed" requestID="be730328-1238-45e1-89d3-6003c08e1878" targetPod="10.0.3.42:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:38.428727       1 gateway.go:764] "HandleResponseBody completed" requestID="be730328-1238-45e1-89d3-6003c08e1878" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:38.436414       1 gateway.go:608] "First token received" requestID="518d9f39-611c-45ff-9d0f-3dd1ab44e594" ttft_ms=665
I0305 06:39:38.438454       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0538, numInputTokens, 7602
I0305 06:39:38.438476       1 tree.go:471] Updated node(0) last access: 136.5364 seconds
I0305 06:39:38.438482       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.438487       1 tree.go:471] Updated node(2) last access: 136.5364 seconds
I0305 06:39:38.438502       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:38.438506       1 tree.go:471] Updated node(12) last access: 136.5364 seconds
I0305 06:39:38.438521       1 tree.go:484] Entire input tokens match the child node(89)
I0305 06:39:38.438525       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:38.438533       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:38.438540       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.438545       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.438527877 +0000 UTC m=+136.655254742 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:28.88707378 +0000 UTC m=+127.103800654]
I0305 06:39:38.438562       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:39:38.438570       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:38.438607       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7602
I0305 06:39:38.438616       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:38.438623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.438629       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.438636       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.438641       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.438648       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.438656       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:38.438668       1 prefix_cache_and_load.go:584] latency, Route, 0.6431
I0305 06:39:38.438683       1 gateway.go:415] latency, selectTargetPod, 0.6431, target pod, 10.0.0.39:8000
I0305 06:39:38.438693       1 gateway.go:235] latency, HandleRequestBody, 0.6445
I0305 06:39:38.438721       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6138
I0305 06:39:38.438726       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.438729       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.438789       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.438818       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:38.438823       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.448770       1 gateway.go:207] "Processing request" requestID="9ccb8ba3-83bd-4ce3-a5ec-f789c3e3c258"
I0305 06:39:38.448797       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9ccb8ba3-83bd-4ce3-a5ec-f789c3e3c258"
I0305 06:39:38.448806       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:38.449225       1 gateway.go:562] latency, 0.0000, summary, hash(request), 89033503, selectedpod, 10.0.3.42:8000, ttft, 549, tpot, 20, e2e, 731, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:38.449244       1 gateway.go:748] "Request completed" requestID="fcd2754f-19c2-43eb-922c-a3c3e0b50c36" targetPod="10.0.3.42:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:38.449255       1 gateway.go:764] "HandleResponseBody completed" requestID="fcd2754f-19c2-43eb-922c-a3c3e0b50c36" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:38.456071       1 gateway.go:207] "Processing request" requestID="cfd55c82-af85-48c6-af5b-4ae41e249809"
I0305 06:39:38.456092       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cfd55c82-af85-48c6-af5b-4ae41e249809"
I0305 06:39:38.456106       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:38.458042       1 gateway.go:207] "Processing request" requestID="5040c8c0-b0fa-44cd-88df-3bf5ef56fe9c"
I0305 06:39:38.458080       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5040c8c0-b0fa-44cd-88df-3bf5ef56fe9c"
I0305 06:39:38.458091       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:38.478621       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f1945090-c674-449e-8f38-c4c08973df24"
I0305 06:39:38.491247       1 gateway.go:608] "First token received" requestID="f1945090-c674-449e-8f38-c4c08973df24" ttft_ms=696
I0305 06:39:38.525104       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0863, numInputTokens, 7597
I0305 06:39:38.525123       1 tree.go:471] Updated node(0) last access: 136.6231 seconds
I0305 06:39:38.525129       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.525132       1 tree.go:471] Updated node(2) last access: 136.6231 seconds
I0305 06:39:38.525146       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:38.525151       1 tree.go:471] Updated node(31) last access: 136.6231 seconds
I0305 06:39:38.525156       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:39:38.525161       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:39:38.525168       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:38.525175       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.525179       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.525163352 +0000 UTC m=+136.741890217]
I0305 06:39:38.525194       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:39:38.525201       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:39:38.525237       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:38.525246       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:38.525253       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.525258       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.525263       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.525268       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.525275       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.525285       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:38.525294       1 prefix_cache_and_load.go:584] latency, Route, 0.7004
I0305 06:39:38.525307       1 gateway.go:415] latency, selectTargetPod, 0.7004, target pod, 10.0.1.28:8000
I0305 06:39:38.525316       1 gateway.go:235] latency, HandleRequestBody, 0.7009
I0305 06:39:38.525343       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6624
I0305 06:39:38.525347       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.525350       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.525407       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.525447       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:38.525452       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.534117       1 gateway.go:207] "Processing request" requestID="ef72f68c-a3ba-4741-84f3-1ed7ce13952c"
I0305 06:39:38.534141       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ef72f68c-a3ba-4741-84f3-1ed7ce13952c"
I0305 06:39:38.534149       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:38.539058       1 gateway.go:562] latency, 0.0001, summary, hash(request), 682acebf, selectedpod, 10.0.1.47:8000, ttft, 616, tpot, 19, e2e, 790, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:38.539089       1 gateway.go:748] "Request completed" requestID="e527a8b1-470d-4ef0-a532-68ea407f36e1" targetPod="10.0.1.47:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:38.539103       1 gateway.go:764] "HandleResponseBody completed" requestID="e527a8b1-470d-4ef0-a532-68ea407f36e1" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:38.545214       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="545a91a0-48d9-489b-92fd-44d6b3c8ce88"
I0305 06:39:38.581422       1 gateway.go:608] "First token received" requestID="545a91a0-48d9-489b-92fd-44d6b3c8ce88" ttft_ms=756
I0305 06:39:38.609388       1 gateway.go:562] latency, 0.0001, summary, hash(request), b95e3a68, selectedpod, 10.0.1.53:8000, ttft, 665, tpot, 19, e2e, 838, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:38.609418       1 gateway.go:748] "Request completed" requestID="518d9f39-611c-45ff-9d0f-3dd1ab44e594" targetPod="10.0.1.53:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:38.609436       1 gateway.go:764] "HandleResponseBody completed" requestID="518d9f39-611c-45ff-9d0f-3dd1ab44e594" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:38.611117       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0857, numInputTokens, 7603
I0305 06:39:38.611135       1 tree.go:471] Updated node(0) last access: 136.7091 seconds
I0305 06:39:38.611141       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.611145       1 tree.go:471] Updated node(2) last access: 136.7091 seconds
I0305 06:39:38.611157       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:38.611162       1 tree.go:471] Updated node(53) last access: 136.7091 seconds
I0305 06:39:38.611168       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 125 tokens:
I0305 06:39:38.611175       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 06:39:38.611183       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:39:38.611192       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.611209       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.611177199 +0000 UTC m=+136.827904065]
I0305 06:39:38.611228       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7478, Matching ratio: 0.9836, # Matched pods: 0, Matched pods: []
I0305 06:39:38.611236       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9836 > 0.5000)
I0305 06:39:38.611290       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:38.611305       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:38.611318       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.611326       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.611332       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.611337       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.611351       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.611363       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:38.611373       1 prefix_cache_and_load.go:584] latency, Route, 0.7484
I0305 06:39:38.611386       1 gateway.go:415] latency, selectTargetPod, 0.7484, target pod, 10.0.0.34:8000
I0305 06:39:38.611400       1 gateway.go:235] latency, HandleRequestBody, 0.7487
I0305 06:39:38.611430       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7265
I0305 06:39:38.611435       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.611438       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.611505       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.611554       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:38.611562       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.633335       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bc887de4-209f-4c35-bb8f-4a8cbbacb740"
I0305 06:39:38.659720       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 7599
I0305 06:39:38.659738       1 tree.go:471] Updated node(0) last access: 136.7577 seconds
I0305 06:39:38.659745       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.659750       1 tree.go:471] Updated node(2) last access: 136.7577 seconds
I0305 06:39:38.659766       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:38.659771       1 tree.go:471] Updated node(8) last access: 136.7577 seconds
I0305 06:39:38.659780       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:38.659786       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:38.659796       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:38.659805       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.659814       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.659790036 +0000 UTC m=+136.876516902]
I0305 06:39:38.659835       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:38.659846       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:38.659885       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7478
I0305 06:39:38.659896       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:38.659909       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.659919       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.659925       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.659930       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.659938       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.659946       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:38.659958       1 prefix_cache_and_load.go:584] latency, Route, 0.7750
I0305 06:39:38.659984       1 gateway.go:415] latency, selectTargetPod, 0.7750, target pod, 10.0.1.53:8000
I0305 06:39:38.659996       1 gateway.go:235] latency, HandleRequestBody, 0.7754
I0305 06:39:38.660045       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6804
I0305 06:39:38.660051       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.660055       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.660115       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.660142       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:38.660147       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.664308       1 gateway.go:207] "Processing request" requestID="fccf8f45-a718-4a47-96ef-b88d9d2cd75d"
I0305 06:39:38.664367       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fccf8f45-a718-4a47-96ef-b88d9d2cd75d"
I0305 06:39:38.664385       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:38.665154       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6dd1d4d2, selectedpod, 10.0.0.39:8000, ttft, 696, tpot, 19, e2e, 870, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:38.665185       1 gateway.go:748] "Request completed" requestID="f1945090-c674-449e-8f38-c4c08973df24" targetPod="10.0.0.39:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:38.665200       1 gateway.go:764] "HandleResponseBody completed" requestID="f1945090-c674-449e-8f38-c4c08973df24" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:38.676756       1 gateway.go:608] "First token received" requestID="bc887de4-209f-4c35-bb8f-4a8cbbacb740" ttft_ms=814
I0305 06:39:38.678952       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9f043f1e-7f4b-4754-b195-849625562daa"
I0305 06:39:38.721485       1 gateway.go:608] "First token received" requestID="9f043f1e-7f4b-4754-b195-849625562daa" ttft_ms=836
I0305 06:39:38.725471       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0653, numInputTokens, 7600
I0305 06:39:38.725490       1 tree.go:471] Updated node(0) last access: 136.8234 seconds
I0305 06:39:38.725496       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.725499       1 tree.go:471] Updated node(2) last access: 136.8234 seconds
I0305 06:39:38.725522       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:38.725528       1 tree.go:471] Updated node(23) last access: 136.8235 seconds
I0305 06:39:38.725562       1 tree.go:667] Split complete - New node(159)
I0305 06:39:38.725569       1 tree.go:668] Split complete - Child node(94)
I0305 06:39:38.725575       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 06:39:38.725583       1 tree.go:471] Updated node(159) last access: 136.8235 seconds
I0305 06:39:38.725591       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:39:38.725596       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:38.725605       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:38.725612       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.725621       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.725598847 +0000 UTC m=+136.942325711]
I0305 06:39:38.725639       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7483, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:39:38.725648       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:39:38.725695       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7483
I0305 06:39:38.725705       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:38.725714       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.725721       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.725727       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.725736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.725744       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.725755       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.725770       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:38.725780       1 prefix_cache_and_load.go:584] latency, Route, 0.7462
I0305 06:39:38.725793       1 gateway.go:415] latency, selectTargetPod, 0.7462, target pod, 10.0.3.42:8000
I0305 06:39:38.725804       1 gateway.go:235] latency, HandleRequestBody, 0.8138
I0305 06:39:38.725821       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7462
I0305 06:39:38.725838       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.725842       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.725947       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.725998       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:38.726004       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.741614       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6726e2ff-c7a1-4f6a-86f6-a140c8fa9d95"
I0305 06:39:38.753495       1 gateway.go:562] latency, 0.0000, summary, hash(request), cfac6cd7, selectedpod, 10.0.1.28:8000, ttft, 756, tpot, 19, e2e, 929, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:38.753525       1 gateway.go:748] "Request completed" requestID="545a91a0-48d9-489b-92fd-44d6b3c8ce88" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:38.753535       1 gateway.go:764] "HandleResponseBody completed" requestID="545a91a0-48d9-489b-92fd-44d6b3c8ce88" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:38.778584       1 gateway.go:207] "Processing request" requestID="7391f6d4-c39a-4252-8a35-18cde12a5a9a"
I0305 06:39:38.778608       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7391f6d4-c39a-4252-8a35-18cde12a5a9a"
I0305 06:39:38.778617       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:38.784617       1 gateway.go:608] "First token received" requestID="6726e2ff-c7a1-4f6a-86f6-a140c8fa9d95" ttft_ms=872
I0305 06:39:38.786434       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0604, numInputTokens, 7598
I0305 06:39:38.786455       1 tree.go:471] Updated node(0) last access: 136.8844 seconds
I0305 06:39:38.786462       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.786465       1 tree.go:471] Updated node(2) last access: 136.8844 seconds
I0305 06:39:38.786478       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:38.786481       1 tree.go:471] Updated node(4) last access: 136.8844 seconds
I0305 06:39:38.786486       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:39:38.786490       1 tree.go:471] Updated node(63) last access: 136.8844 seconds
I0305 06:39:38.786495       1 tree.go:490] Partial tokens match child node(145). Continue to go deeper in the radix tree
I0305 06:39:38.786500       1 tree.go:471] Updated node(145) last access: 136.8844 seconds
I0305 06:39:38.786537       1 tree.go:667] Split complete - New node(161)
I0305 06:39:38.786544       1 tree.go:668] Split complete - Child node(146)
I0305 06:39:38.786550       1 tree.go:501] latency, splitNode, 0.0000 seconds, 110 tokens:
I0305 06:39:38.786556       1 tree.go:471] Updated node(161) last access: 136.8845 seconds
I0305 06:39:38.786568       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 06:39:38.786574       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:38.786585       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:38.786595       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.786604       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.786576788 +0000 UTC m=+137.003303653]
I0305 06:39:38.786630       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7489, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 06:39:38.786641       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 06:39:38.786716       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7489
I0305 06:39:38.786725       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:38.786732       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.786737       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.786742       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.786747       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.786752       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.786762       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.786770       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.786781       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.786796       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:38.786813       1 prefix_cache_and_load.go:584] latency, Route, 0.8072
I0305 06:39:38.786833       1 gateway.go:415] latency, selectTargetPod, 0.8072, target pod, 10.0.1.47:8000
I0305 06:39:38.786916       1 gateway.go:235] latency, HandleRequestBody, 0.8563
I0305 06:39:38.787010       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8073
I0305 06:39:38.787046       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.787051       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.787220       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.787287       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:38.787294       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.805865       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c0c43420-81b3-474b-a701-f444bc97c4ae"
I0305 06:39:38.839920       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0526, numInputTokens, 7601
I0305 06:39:38.839937       1 tree.go:471] Updated node(0) last access: 136.9379 seconds
I0305 06:39:38.839943       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.839946       1 tree.go:471] Updated node(2) last access: 136.9379 seconds
I0305 06:39:38.839960       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:38.839965       1 tree.go:471] Updated node(8) last access: 136.9379 seconds
I0305 06:39:38.839979       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:38.839985       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:38.839991       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:38.839998       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.840005       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.839986986 +0000 UTC m=+137.056713858]
I0305 06:39:38.840022       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:38.840028       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:38.840065       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7478
I0305 06:39:38.840074       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:38.840082       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.840090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.840094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.840099       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.840107       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.840115       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:38.840122       1 prefix_cache_and_load.go:584] latency, Route, 0.8604
I0305 06:39:38.840137       1 gateway.go:415] latency, selectTargetPod, 0.8605, target pod, 10.0.1.53:8000
I0305 06:39:38.840147       1 gateway.go:235] latency, HandleRequestBody, 0.8615
I0305 06:39:38.840173       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8604
I0305 06:39:38.840177       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.840180       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.840253       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.840287       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:38.840292       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.841115       1 gateway.go:608] "First token received" requestID="c0c43420-81b3-474b-a701-f444bc97c4ae" ttft_ms=910
I0305 06:39:38.850057       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0e7b3b9b, selectedpod, 10.0.0.34:8000, ttft, 814, tpot, 19, e2e, 987, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:39:38.850085       1 gateway.go:748] "Request completed" requestID="bc887de4-209f-4c35-bb8f-4a8cbbacb740" targetPod="10.0.0.34:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:39:38.850100       1 gateway.go:764] "HandleResponseBody completed" requestID="bc887de4-209f-4c35-bb8f-4a8cbbacb740" promptTokens=7622 completionTokens=10 stream=true
I0305 06:39:38.860837       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5ed1a167-1088-4106-9b6b-f594f5d6e884"
I0305 06:39:38.873660       1 gateway.go:207] "Processing request" requestID="5155516c-9098-487c-8b37-c92544dec107"
I0305 06:39:38.873678       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5155516c-9098-487c-8b37-c92544dec107"
I0305 06:39:38.873686       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:38.911211       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0709, numInputTokens, 7601
I0305 06:39:38.911227       1 tree.go:471] Updated node(0) last access: 137.0092 seconds
I0305 06:39:38.911233       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.911237       1 tree.go:471] Updated node(2) last access: 137.0092 seconds
I0305 06:39:38.911251       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:38.911256       1 tree.go:471] Updated node(26) last access: 137.0092 seconds
I0305 06:39:38.911263       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:38.911267       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:38.911275       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:38.911282       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.911289       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.911269664 +0000 UTC m=+137.127996528]
I0305 06:39:38.911306       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:38.911317       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:38.911379       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7478
I0305 06:39:38.911392       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:38.911403       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.911415       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.911428       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.911434       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.911447       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.911461       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:38.911478       1 prefix_cache_and_load.go:584] latency, Route, 0.9317
I0305 06:39:38.911519       1 gateway.go:415] latency, selectTargetPod, 0.9317, target pod, 10.0.3.41:8000
I0305 06:39:38.911533       1 gateway.go:235] latency, HandleRequestBody, 0.9329
I0305 06:39:38.911541       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9181
I0305 06:39:38.911553       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:38.911560       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:38.911666       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:38.911702       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:38.911708       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:38.915544       1 gateway.go:608] "First token received" requestID="5ed1a167-1088-4106-9b6b-f594f5d6e884" ttft_ms=936
I0305 06:39:38.936045       1 gateway.go:562] latency, 0.0000, summary, hash(request), 165adebb, selectedpod, 10.0.1.53:8000, ttft, 836, tpot, 23, e2e, 1051, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:38.936066       1 gateway.go:748] "Request completed" requestID="9f043f1e-7f4b-4754-b195-849625562daa" targetPod="10.0.1.53:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:38.936078       1 gateway.go:764] "HandleResponseBody completed" requestID="9f043f1e-7f4b-4754-b195-849625562daa" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:38.943312       1 gateway.go:207] "Processing request" requestID="33c0142a-8c23-49a2-ac47-772081f90cb8"
I0305 06:39:38.943336       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="33c0142a-8c23-49a2-ac47-772081f90cb8"
I0305 06:39:38.943344       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:38.957708       1 gateway.go:562] latency, 0.0000, summary, hash(request), 18ac63a0, selectedpod, 10.0.3.42:8000, ttft, 872, tpot, 19, e2e, 1045, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:38.957727       1 gateway.go:748] "Request completed" requestID="6726e2ff-c7a1-4f6a-86f6-a140c8fa9d95" targetPod="10.0.3.42:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:38.957739       1 gateway.go:764] "HandleResponseBody completed" requestID="6726e2ff-c7a1-4f6a-86f6-a140c8fa9d95" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:38.993767       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0821, numInputTokens, 7600
I0305 06:39:38.993786       1 tree.go:471] Updated node(0) last access: 137.0917 seconds
I0305 06:39:38.993792       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:38.993796       1 tree.go:471] Updated node(2) last access: 137.0917 seconds
I0305 06:39:38.993808       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:38.993811       1 tree.go:471] Updated node(51) last access: 137.0918 seconds
I0305 06:39:38.993817       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:38.993823       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:38.993830       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:38.993837       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:38.993844       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:38.993824816 +0000 UTC m=+137.210551681]
I0305 06:39:38.993860       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:38.993869       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:38.993922       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:38.993935       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:38.993947       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.993956       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.993963       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.993978       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:38.993990       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:38.994004       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:38.994020       1 prefix_cache_and_load.go:584] latency, Route, 1.0006
I0305 06:39:38.994036       1 gateway.go:415] latency, selectTargetPod, 1.0006, target pod, 10.0.1.28:8000
I0305 06:39:38.994050       1 gateway.go:235] latency, HandleRequestBody, 1.0010
I0305 06:39:39.013808       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d8a92fb9-fa25-4e83-9af6-42d5e6785524"
I0305 06:39:39.014095       1 gateway.go:562] latency, 0.0000, summary, hash(request), ab77e84c, selectedpod, 10.0.1.47:8000, ttft, 910, tpot, 19, e2e, 1083, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:39.014110       1 gateway.go:748] "Request completed" requestID="c0c43420-81b3-474b-a701-f444bc97c4ae" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:39.014121       1 gateway.go:764] "HandleResponseBody completed" requestID="c0c43420-81b3-474b-a701-f444bc97c4ae" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:39.032333       1 gateway.go:207] "Processing request" requestID="26aece48-6369-4d35-8ffa-127a34814cd4"
I0305 06:39:39.032355       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="26aece48-6369-4d35-8ffa-127a34814cd4"
I0305 06:39:39.032363       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:39.048087       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="074d33d1-3c20-4295-b214-482645f27e97"
I0305 06:39:39.057012       1 gateway.go:608] "First token received" requestID="d8a92fb9-fa25-4e83-9af6-42d5e6785524" ttft_ms=1063
I0305 06:39:39.090263       1 gateway.go:562] latency, 0.0000, summary, hash(request), 64e13894, selectedpod, 10.0.1.53:8000, ttft, 936, tpot, 19, e2e, 1111, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:39.090280       1 gateway.go:748] "Request completed" requestID="5ed1a167-1088-4106-9b6b-f594f5d6e884" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:39.090289       1 gateway.go:764] "HandleResponseBody completed" requestID="5ed1a167-1088-4106-9b6b-f594f5d6e884" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:39.094924       1 gateway.go:608] "First token received" requestID="074d33d1-3c20-4295-b214-482645f27e97" ttft_ms=1116
I0305 06:39:39.120827       1 gateway.go:207] "Processing request" requestID="e1c4bbe4-4cd4-4047-8d3d-b52fda0708aa"
I0305 06:39:39.120852       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e1c4bbe4-4cd4-4047-8d3d-b52fda0708aa"
I0305 06:39:39.120860       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:39.183281       1 gateway.go:207] "Processing request" requestID="bf67001a-71fd-4d87-8cb3-e2786ed85717"
I0305 06:39:39.183305       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bf67001a-71fd-4d87-8cb3-e2786ed85717"
I0305 06:39:39.183313       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:39.230329       1 gateway.go:562] latency, 0.0000, summary, hash(request), fea8936d, selectedpod, 10.0.1.28:8000, ttft, 1063, tpot, 19, e2e, 1237, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:39.230344       1 gateway.go:748] "Request completed" requestID="d8a92fb9-fa25-4e83-9af6-42d5e6785524" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:39.230353       1 gateway.go:764] "HandleResponseBody completed" requestID="d8a92fb9-fa25-4e83-9af6-42d5e6785524" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:39.259744       1 gateway.go:207] "Processing request" requestID="048dd492-74b0-4980-9ff2-eda0bc595a29"
I0305 06:39:39.259767       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="048dd492-74b0-4980-9ff2-eda0bc595a29"
I0305 06:39:39.259776       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:39.265571       1 gateway.go:562] latency, 0.0000, summary, hash(request), 18376846, selectedpod, 10.0.3.41:8000, ttft, 1116, tpot, 18, e2e, 1286, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:39.265583       1 gateway.go:748] "Request completed" requestID="074d33d1-3c20-4295-b214-482645f27e97" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:39.265590       1 gateway.go:764] "HandleResponseBody completed" requestID="074d33d1-3c20-4295-b214-482645f27e97" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:39.337669       1 gateway.go:207] "Processing request" requestID="8a1d5ae2-0a3b-40b0-b952-233c3c499a02"
I0305 06:39:39.337690       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8a1d5ae2-0a3b-40b0-b952-233c3c499a02"
I0305 06:39:39.337698       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:39.404449       1 gateway.go:207] "Processing request" requestID="9883ba75-6063-422e-adb8-949a5228526c"
I0305 06:39:39.404480       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9883ba75-6063-422e-adb8-949a5228526c"
I0305 06:39:39.404488       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:39.488595       1 gateway.go:207] "Processing request" requestID="ad2383a7-0da2-44df-824f-07bd56d4af04"
I0305 06:39:39.488625       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ad2383a7-0da2-44df-824f-07bd56d4af04"
I0305 06:39:39.488632       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:39.509580       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7d6b8c11-5c52-4fa3-9025-c6bef03111d7"
I0305 06:39:39.509784       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7d6b8c11-5c52-4fa3-9025-c6bef03111d7" model="qwen2-5-7b-instruct"
I0305 06:39:39.509866       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:39.509873       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:39.509876       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:39.510031       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:39.510063       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:39.510069       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:39.526718       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ab896f24-0a6d-4100-8aaa-3d5e03d8d9c9"
I0305 06:39:39.526935       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ab896f24-0a6d-4100-8aaa-3d5e03d8d9c9" model="qwen2-5-7b-instruct"
I0305 06:39:39.537396       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9ccb8ba3-83bd-4ce3-a5ec-f789c3e3c258"
I0305 06:39:39.537655       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9ccb8ba3-83bd-4ce3-a5ec-f789c3e3c258" model="qwen2-5-7b-instruct"
I0305 06:39:39.548161       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cfd55c82-af85-48c6-af5b-4ae41e249809"
I0305 06:39:39.548361       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cfd55c82-af85-48c6-af5b-4ae41e249809" model="qwen2-5-7b-instruct"
I0305 06:39:39.563732       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0537, numInputTokens, 7603
I0305 06:39:39.563751       1 tree.go:471] Updated node(0) last access: 137.6617 seconds
I0305 06:39:39.563758       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:39.563762       1 tree.go:471] Updated node(2) last access: 137.6617 seconds
I0305 06:39:39.563776       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:39.563780       1 tree.go:471] Updated node(8) last access: 137.6617 seconds
I0305 06:39:39.563784       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:39:39.563786       1 tree.go:471] Updated node(85) last access: 137.6617 seconds
I0305 06:39:39.563793       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:39.563798       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 06:39:39.563806       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:39:39.563812       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:39.563818       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:39.563800496 +0000 UTC m=+137.780527371]
I0305 06:39:39.563835       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7481, Matching ratio: 0.9840, # Matched pods: 0, Matched pods: []
I0305 06:39:39.563842       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9840 > 0.5000)
I0305 06:39:39.563886       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7481
I0305 06:39:39.563895       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:39.563902       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.563909       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.563914       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.563918       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.563922       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.563930       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:39.563940       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:39.563954       1 prefix_cache_and_load.go:584] latency, Route, 0.0541
I0305 06:39:39.563977       1 gateway.go:415] latency, selectTargetPod, 0.0541, target pod, 10.0.1.53:8000
I0305 06:39:39.563991       1 gateway.go:235] latency, HandleRequestBody, 0.0544
I0305 06:39:39.564019       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0370
I0305 06:39:39.564024       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:39.564027       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:39.564104       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:39.564136       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:39.564141       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:39.578533       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5040c8c0-b0fa-44cd-88df-3bf5ef56fe9c"
I0305 06:39:39.578743       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5040c8c0-b0fa-44cd-88df-3bf5ef56fe9c" model="qwen2-5-7b-instruct"
I0305 06:39:39.583508       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7d6b8c11-5c52-4fa3-9025-c6bef03111d7"
I0305 06:39:39.589434       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ef72f68c-a3ba-4741-84f3-1ed7ce13952c"
I0305 06:39:39.589658       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ef72f68c-a3ba-4741-84f3-1ed7ce13952c" model="qwen2-5-7b-instruct"
I0305 06:39:39.601090       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fccf8f45-a718-4a47-96ef-b88d9d2cd75d"
I0305 06:39:39.601293       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fccf8f45-a718-4a47-96ef-b88d9d2cd75d" model="qwen2-5-7b-instruct"
I0305 06:39:39.613531       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0494, numInputTokens, 7601
I0305 06:39:39.613548       1 tree.go:471] Updated node(0) last access: 137.7115 seconds
I0305 06:39:39.613555       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:39.613559       1 tree.go:471] Updated node(2) last access: 137.7115 seconds
I0305 06:39:39.613573       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:39.613578       1 tree.go:471] Updated node(8) last access: 137.7115 seconds
I0305 06:39:39.613582       1 tree.go:490] Partial tokens match child node(90). Continue to go deeper in the radix tree
I0305 06:39:39.613584       1 tree.go:471] Updated node(90) last access: 137.7115 seconds
I0305 06:39:39.613589       1 tree.go:484] Entire input tokens match the child node(91)
I0305 06:39:39.613594       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:39.613600       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:39.613606       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:39.613611       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:39.613596051 +0000 UTC m=+137.830322925 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:30.315585227 +0000 UTC m=+128.532312092]
I0305 06:39:39.613629       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:39.613637       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:39.613678       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7601
I0305 06:39:39.613687       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:39.613696       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.613702       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.613707       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.613713       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.613718       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.613726       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:39.613736       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:39.613745       1 prefix_cache_and_load.go:584] latency, Route, 0.0867
I0305 06:39:39.613759       1 gateway.go:415] latency, selectTargetPod, 0.0867, target pod, 10.0.1.53:8000
I0305 06:39:39.613770       1 gateway.go:235] latency, HandleRequestBody, 0.0871
I0305 06:39:39.613794       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0761
I0305 06:39:39.613799       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:39.613802       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:39.613870       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:39.613899       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:39.613904       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:39.623499       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7391f6d4-c39a-4252-8a35-18cde12a5a9a"
I0305 06:39:39.623855       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7391f6d4-c39a-4252-8a35-18cde12a5a9a" model="qwen2-5-7b-instruct"
I0305 06:39:39.626532       1 gateway.go:608] "First token received" requestID="7d6b8c11-5c52-4fa3-9025-c6bef03111d7" ttft_ms=116
I0305 06:39:39.632473       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ab896f24-0a6d-4100-8aaa-3d5e03d8d9c9"
I0305 06:39:39.642248       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5155516c-9098-487c-8b37-c92544dec107"
I0305 06:39:39.642475       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5155516c-9098-487c-8b37-c92544dec107" model="qwen2-5-7b-instruct"
I0305 06:39:39.672362       1 gateway.go:329] "-- In RequestBody processing ..." requestID="33c0142a-8c23-49a2-ac47-772081f90cb8"
I0305 06:39:39.672575       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="33c0142a-8c23-49a2-ac47-772081f90cb8" model="qwen2-5-7b-instruct"
I0305 06:39:39.678589       1 gateway.go:608] "First token received" requestID="ab896f24-0a6d-4100-8aaa-3d5e03d8d9c9" ttft_ms=151
I0305 06:39:39.687339       1 gateway.go:329] "-- In RequestBody processing ..." requestID="26aece48-6369-4d35-8ffa-127a34814cd4"
I0305 06:39:39.687559       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="26aece48-6369-4d35-8ffa-127a34814cd4" model="qwen2-5-7b-instruct"
I0305 06:39:39.701135       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0872, numInputTokens, 7601
I0305 06:39:39.701156       1 tree.go:471] Updated node(0) last access: 137.7991 seconds
I0305 06:39:39.701163       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:39.701168       1 tree.go:471] Updated node(2) last access: 137.7991 seconds
I0305 06:39:39.701183       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:39.701188       1 tree.go:471] Updated node(4) last access: 137.7991 seconds
I0305 06:39:39.701197       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:39.701204       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:39.701212       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:39.701221       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:39.701230       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:39.701206207 +0000 UTC m=+137.917933087]
I0305 06:39:39.701249       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:39.701261       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:39.701309       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7478
I0305 06:39:39.701319       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:39.701327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.701334       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.701342       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.701348       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.701359       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:39.701370       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:39.701382       1 prefix_cache_and_load.go:584] latency, Route, 0.1636
I0305 06:39:39.701395       1 gateway.go:415] latency, selectTargetPod, 0.1637, target pod, 10.0.1.47:8000
I0305 06:39:39.701408       1 gateway.go:235] latency, HandleRequestBody, 0.1640
I0305 06:39:39.701445       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1530
I0305 06:39:39.701449       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:39.701452       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:39.701530       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:39.701561       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:39.701566       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:39.706944       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e1c4bbe4-4cd4-4047-8d3d-b52fda0708aa"
I0305 06:39:39.707182       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e1c4bbe4-4cd4-4047-8d3d-b52fda0708aa" model="qwen2-5-7b-instruct"
I0305 06:39:39.720709       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9ccb8ba3-83bd-4ce3-a5ec-f789c3e3c258"
I0305 06:39:39.742040       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bf67001a-71fd-4d87-8cb3-e2786ed85717"
I0305 06:39:39.742267       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bf67001a-71fd-4d87-8cb3-e2786ed85717" model="qwen2-5-7b-instruct"
I0305 06:39:39.750358       1 gateway.go:329] "-- In RequestBody processing ..." requestID="048dd492-74b0-4980-9ff2-eda0bc595a29"
I0305 06:39:39.750576       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="048dd492-74b0-4980-9ff2-eda0bc595a29" model="qwen2-5-7b-instruct"
I0305 06:39:39.750639       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 7600
I0305 06:39:39.750656       1 tree.go:471] Updated node(0) last access: 137.8486 seconds
I0305 06:39:39.750664       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:39.750669       1 tree.go:471] Updated node(2) last access: 137.8486 seconds
I0305 06:39:39.750683       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:39.750688       1 tree.go:471] Updated node(51) last access: 137.8486 seconds
I0305 06:39:39.750691       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:39:39.750695       1 tree.go:471] Updated node(123) last access: 137.8486 seconds
I0305 06:39:39.750704       1 tree.go:667] Split complete - New node(168)
I0305 06:39:39.750708       1 tree.go:668] Split complete - Child node(124)
I0305 06:39:39.750714       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:39:39.750720       1 tree.go:471] Updated node(168) last access: 137.8487 seconds
I0305 06:39:39.750726       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:39.750731       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:39.750737       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:39.750743       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:39.750748       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:39.750733063 +0000 UTC m=+137.967459929]
I0305 06:39:39.750763       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:39.750770       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:39.750814       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7484
I0305 06:39:39.750823       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:39.750830       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.750838       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.750844       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.750849       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.750856       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.750862       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.750874       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:39.750895       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:39.750908       1 prefix_cache_and_load.go:584] latency, Route, 0.2025
I0305 06:39:39.750925       1 gateway.go:415] latency, selectTargetPod, 0.2025, target pod, 10.0.1.28:8000
I0305 06:39:39.750937       1 gateway.go:235] latency, HandleRequestBody, 0.2028
I0305 06:39:39.750960       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1721
I0305 06:39:39.750964       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:39.750975       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:39.751056       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:39.751094       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:39.751101       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:39.764034       1 gateway.go:608] "First token received" requestID="9ccb8ba3-83bd-4ce3-a5ec-f789c3e3c258" ttft_ms=226
I0305 06:39:39.771198       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cfd55c82-af85-48c6-af5b-4ae41e249809"
I0305 06:39:39.779801       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8a1d5ae2-0a3b-40b0-b952-233c3c499a02"
I0305 06:39:39.780052       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8a1d5ae2-0a3b-40b0-b952-233c3c499a02" model="qwen2-5-7b-instruct"
I0305 06:39:39.791945       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9883ba75-6063-422e-adb8-949a5228526c"
I0305 06:39:39.792172       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9883ba75-6063-422e-adb8-949a5228526c" model="qwen2-5-7b-instruct"
I0305 06:39:39.806941       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ad2383a7-0da2-44df-824f-07bd56d4af04"
I0305 06:39:39.807153       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ad2383a7-0da2-44df-824f-07bd56d4af04" model="qwen2-5-7b-instruct"
I0305 06:39:39.808557       1 gateway.go:608] "First token received" requestID="cfd55c82-af85-48c6-af5b-4ae41e249809" ttft_ms=260
I0305 06:39:39.822580       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0715, numInputTokens, 7598
I0305 06:39:39.822598       1 tree.go:471] Updated node(0) last access: 137.9205 seconds
I0305 06:39:39.822605       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:39.822608       1 tree.go:471] Updated node(2) last access: 137.9205 seconds
I0305 06:39:39.822621       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:39.822626       1 tree.go:471] Updated node(18) last access: 137.9206 seconds
I0305 06:39:39.822637       1 tree.go:667] Split complete - New node(170)
I0305 06:39:39.822642       1 tree.go:668] Split complete - Child node(19)
I0305 06:39:39.822647       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:39:39.822651       1 tree.go:471] Updated node(170) last access: 137.9206 seconds
I0305 06:39:39.822656       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:39:39.822661       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:39.822670       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:39.822678       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:39.822686       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:39.822665441 +0000 UTC m=+138.039392306]
I0305 06:39:39.822701       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7485, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:39:39.822708       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:39:39.822764       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7485
I0305 06:39:39.822776       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:39.822787       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.822796       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.822805       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.822812       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.822820       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.822830       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:39.822840       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:39.822850       1 prefix_cache_and_load.go:584] latency, Route, 0.2440
I0305 06:39:39.822863       1 gateway.go:415] latency, selectTargetPod, 0.2441, target pod, 10.0.0.131:8000
I0305 06:39:39.822879       1 gateway.go:235] latency, HandleRequestBody, 0.2443
I0305 06:39:39.822913       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2332
I0305 06:39:39.822918       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:39.822922       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:39.823050       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:39.823084       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:39.823089       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:39.835438       1 gateway.go:562] latency, 0.0000, summary, hash(request), 82c0004a, selectedpod, 10.0.1.53:8000, ttft, 116, tpot, 23, e2e, 325, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:39:39.835459       1 gateway.go:748] "Request completed" requestID="7d6b8c11-5c52-4fa3-9025-c6bef03111d7" targetPod="10.0.1.53:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:39:39.835473       1 gateway.go:764] "HandleResponseBody completed" requestID="7d6b8c11-5c52-4fa3-9025-c6bef03111d7" promptTokens=7622 completionTokens=10 stream=true
I0305 06:39:39.842656       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5040c8c0-b0fa-44cd-88df-3bf5ef56fe9c"
I0305 06:39:39.856025       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7eb5fc54, selectedpod, 10.0.1.53:8000, ttft, 151, tpot, 19, e2e, 329, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:39.856040       1 gateway.go:748] "Request completed" requestID="ab896f24-0a6d-4100-8aaa-3d5e03d8d9c9" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:39.856050       1 gateway.go:764] "HandleResponseBody completed" requestID="ab896f24-0a6d-4100-8aaa-3d5e03d8d9c9" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:39.878473       1 gateway.go:608] "First token received" requestID="5040c8c0-b0fa-44cd-88df-3bf5ef56fe9c" ttft_ms=299
I0305 06:39:39.882942       1 gateway.go:207] "Processing request" requestID="ab462ea0-4c86-4ac6-8bae-cc1898266fb0"
I0305 06:39:39.882974       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ab462ea0-4c86-4ac6-8bae-cc1898266fb0"
I0305 06:39:39.882985       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:39.889230       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0661, numInputTokens, 7592
I0305 06:39:39.889249       1 tree.go:471] Updated node(0) last access: 137.9872 seconds
I0305 06:39:39.889256       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:39.889261       1 tree.go:471] Updated node(2) last access: 137.9872 seconds
I0305 06:39:39.889274       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:39.889279       1 tree.go:471] Updated node(26) last access: 137.9872 seconds
I0305 06:39:39.889288       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:39:39.889295       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7592 tokens
I0305 06:39:39.889303       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7592 tokens
I0305 06:39:39.889312       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:39.889322       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:39.889297464 +0000 UTC m=+138.106024341]
I0305 06:39:39.889342       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7592, Matched tokens: 7478, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:39:39.889350       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:39:39.889402       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7478
I0305 06:39:39.889413       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:39.889426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.889436       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.889445       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.889453       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.889464       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:39.889478       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:39.889491       1 prefix_cache_and_load.go:584] latency, Route, 0.2998
I0305 06:39:39.889509       1 gateway.go:415] latency, selectTargetPod, 0.2998, target pod, 10.0.3.41:8000
I0305 06:39:39.889523       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2882
I0305 06:39:39.889529       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:39.889532       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:39.889533       1 gateway.go:235] latency, HandleRequestBody, 0.3001
I0305 06:39:39.889649       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:39.889682       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:39.889688       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:39.905688       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ef72f68c-a3ba-4741-84f3-1ed7ce13952c"
I0305 06:39:39.912189       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ab462ea0-4c86-4ac6-8bae-cc1898266fb0"
I0305 06:39:39.936688       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0a42ca7e, selectedpod, 10.0.1.47:8000, ttft, 226, tpot, 19, e2e, 399, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:39.936706       1 gateway.go:748] "Request completed" requestID="9ccb8ba3-83bd-4ce3-a5ec-f789c3e3c258" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:39.936718       1 gateway.go:764] "HandleResponseBody completed" requestID="9ccb8ba3-83bd-4ce3-a5ec-f789c3e3c258" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:39.941819       1 gateway.go:608] "First token received" requestID="ef72f68c-a3ba-4741-84f3-1ed7ce13952c" ttft_ms=352
I0305 06:39:39.941948       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0523, numInputTokens, 7598
I0305 06:39:39.941976       1 tree.go:471] Updated node(0) last access: 138.0399 seconds
I0305 06:39:39.941987       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:39.941990       1 tree.go:471] Updated node(2) last access: 138.0399 seconds
I0305 06:39:39.942005       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:39.942010       1 tree.go:471] Updated node(8) last access: 138.0400 seconds
I0305 06:39:39.942015       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 06:39:39.942018       1 tree.go:471] Updated node(16) last access: 138.0400 seconds
I0305 06:39:39.942024       1 tree.go:490] Partial tokens match child node(95). Continue to go deeper in the radix tree
I0305 06:39:39.942029       1 tree.go:471] Updated node(95) last access: 138.0400 seconds
I0305 06:39:39.942035       1 tree.go:484] Entire input tokens match the child node(96)
I0305 06:39:39.942040       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:39.942048       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:39.942056       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:39.942063       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:39.942042652 +0000 UTC m=+138.158769540 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:32.331979641 +0000 UTC m=+130.548706505]
I0305 06:39:39.942084       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:39.942094       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:39.942142       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7598
I0305 06:39:39.942154       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:39.942166       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.942174       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.942183       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.942188       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.942195       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.942201       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:39.942212       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:39.942223       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:39.942238       1 prefix_cache_and_load.go:584] latency, Route, 0.3409
I0305 06:39:39.942253       1 gateway.go:415] latency, selectTargetPod, 0.3409, target pod, 10.0.1.53:8000
I0305 06:39:39.942262       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3182
I0305 06:39:39.942267       1 gateway.go:235] latency, HandleRequestBody, 0.3412
I0305 06:39:39.942269       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:39.942272       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:39.942383       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:39.942423       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:39.942429       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:39.978554       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fccf8f45-a718-4a47-96ef-b88d9d2cd75d"
I0305 06:39:39.981520       1 gateway.go:562] latency, 0.0000, summary, hash(request), c97a36a4, selectedpod, 10.0.1.28:8000, ttft, 260, tpot, 19, e2e, 433, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:39.981539       1 gateway.go:748] "Request completed" requestID="cfd55c82-af85-48c6-af5b-4ae41e249809" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:39.981551       1 gateway.go:764] "HandleResponseBody completed" requestID="cfd55c82-af85-48c6-af5b-4ae41e249809" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:39.984381       1 gateway.go:608] "First token received" requestID="fccf8f45-a718-4a47-96ef-b88d9d2cd75d" ttft_ms=383
I0305 06:39:39.995136       1 gateway.go:207] "Processing request" requestID="e84bc7b0-17c9-4964-b20c-29065b7decd2"
I0305 06:39:39.995172       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e84bc7b0-17c9-4964-b20c-29065b7decd2"
I0305 06:39:39.995183       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:40.000103       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ab462ea0-4c86-4ac6-8bae-cc1898266fb0" model="qwen2-5-7b-instruct"
I0305 06:39:40.028262       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0858, numInputTokens, 7600
I0305 06:39:40.028281       1 tree.go:471] Updated node(0) last access: 138.1262 seconds
I0305 06:39:40.028288       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.028292       1 tree.go:471] Updated node(2) last access: 138.1262 seconds
I0305 06:39:40.028306       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:40.028310       1 tree.go:471] Updated node(53) last access: 138.1263 seconds
I0305 06:39:40.028315       1 tree.go:490] Partial tokens match child node(152). Continue to go deeper in the radix tree
I0305 06:39:40.028317       1 tree.go:471] Updated node(152) last access: 138.1263 seconds
I0305 06:39:40.028322       1 tree.go:484] Entire input tokens match the child node(92)
I0305 06:39:40.028325       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:40.028331       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:40.028339       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.028344       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.028326993 +0000 UTC m=+138.245053858 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:32.171712089 +0000 UTC m=+130.388438953]
I0305 06:39:40.028361       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:40.028369       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:40.028412       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7600
I0305 06:39:40.028421       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:40.028429       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.028435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.028440       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.028443       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.028446       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.028453       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.028461       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:40.028471       1 prefix_cache_and_load.go:584] latency, Route, 0.4045
I0305 06:39:40.028486       1 gateway.go:415] latency, selectTargetPod, 0.4045, target pod, 10.0.0.34:8000
I0305 06:39:40.028497       1 gateway.go:235] latency, HandleRequestBody, 0.4062
I0305 06:39:40.028498       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3859
I0305 06:39:40.028509       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.028522       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.028641       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.028693       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:40.028702       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.047845       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7391f6d4-c39a-4252-8a35-18cde12a5a9a"
I0305 06:39:40.051906       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2e0f441f, selectedpod, 10.0.0.131:8000, ttft, 299, tpot, 19, e2e, 473, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:40.051928       1 gateway.go:748] "Request completed" requestID="5040c8c0-b0fa-44cd-88df-3bf5ef56fe9c" targetPod="10.0.0.131:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:40.051941       1 gateway.go:764] "HandleResponseBody completed" requestID="5040c8c0-b0fa-44cd-88df-3bf5ef56fe9c" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:40.080183       1 gateway.go:608] "First token received" requestID="7391f6d4-c39a-4252-8a35-18cde12a5a9a" ttft_ms=456
I0305 06:39:40.088622       1 gateway.go:207] "Processing request" requestID="f0c91b50-f215-4f49-9528-305fdcec3ef6"
I0305 06:39:40.088655       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f0c91b50-f215-4f49-9528-305fdcec3ef6"
I0305 06:39:40.088666       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:40.114254       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0855, numInputTokens, 7601
I0305 06:39:40.114270       1 tree.go:471] Updated node(0) last access: 138.2122 seconds
I0305 06:39:40.114276       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.114279       1 tree.go:471] Updated node(2) last access: 138.2122 seconds
I0305 06:39:40.114293       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:40.114297       1 tree.go:471] Updated node(51) last access: 138.2122 seconds
I0305 06:39:40.114301       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:39:40.114304       1 tree.go:471] Updated node(123) last access: 138.2122 seconds
I0305 06:39:40.114309       1 tree.go:484] Entire input tokens match the child node(93)
I0305 06:39:40.114314       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:40.114321       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:40.114326       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.114331       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.114315853 +0000 UTC m=+138.331042718 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:32.226914057 +0000 UTC m=+130.443640931]
I0305 06:39:40.114349       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:40.114357       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:40.114402       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7601
I0305 06:39:40.114411       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:40.114420       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.114426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.114430       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.114436       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.114440       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.114448       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.114456       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:40.114465       1 prefix_cache_and_load.go:584] latency, Route, 0.4719
I0305 06:39:40.114478       1 gateway.go:415] latency, selectTargetPod, 0.4719, target pod, 10.0.1.28:8000
I0305 06:39:40.114489       1 gateway.go:235] latency, HandleRequestBody, 0.4722
I0305 06:39:40.114490       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4418
I0305 06:39:40.114498       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.114503       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.114668       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.114718       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:40.114725       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.115354       1 gateway.go:562] latency, 0.0002, summary, hash(request), f63f2ffb, selectedpod, 10.0.3.41:8000, ttft, 352, tpot, 19, e2e, 525, numInputTokens, 7611, numOutputTokens, 10, numTotalTokens, 7621
I0305 06:39:40.115396       1 gateway.go:748] "Request completed" requestID="ef72f68c-a3ba-4741-84f3-1ed7ce13952c" targetPod="10.0.3.41:8000" promptTokens=7611 completionTokens=10 totalTokens=7621
I0305 06:39:40.115415       1 gateway.go:764] "HandleResponseBody completed" requestID="ef72f68c-a3ba-4741-84f3-1ed7ce13952c" promptTokens=7611 completionTokens=10 stream=true
I0305 06:39:40.129357       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e84bc7b0-17c9-4964-b20c-29065b7decd2"
I0305 06:39:40.129711       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e84bc7b0-17c9-4964-b20c-29065b7decd2" model="qwen2-5-7b-instruct"
I0305 06:39:40.129850       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f0c91b50-f215-4f49-9528-305fdcec3ef6"
I0305 06:39:40.130084       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f0c91b50-f215-4f49-9528-305fdcec3ef6" model="qwen2-5-7b-instruct"
I0305 06:39:40.134756       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5155516c-9098-487c-8b37-c92544dec107"
I0305 06:39:40.157192       1 gateway.go:562] latency, 0.0000, summary, hash(request), 20151f27, selectedpod, 10.0.1.53:8000, ttft, 383, tpot, 19, e2e, 556, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:40.157215       1 gateway.go:748] "Request completed" requestID="fccf8f45-a718-4a47-96ef-b88d9d2cd75d" targetPod="10.0.1.53:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:40.157228       1 gateway.go:764] "HandleResponseBody completed" requestID="fccf8f45-a718-4a47-96ef-b88d9d2cd75d" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:40.166500       1 gateway.go:608] "First token received" requestID="5155516c-9098-487c-8b37-c92544dec107" ttft_ms=524
I0305 06:39:40.186133       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0714, numInputTokens, 7601
I0305 06:39:40.186152       1 tree.go:471] Updated node(0) last access: 138.2841 seconds
I0305 06:39:40.186158       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.186162       1 tree.go:471] Updated node(2) last access: 138.2841 seconds
I0305 06:39:40.186176       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:40.186180       1 tree.go:471] Updated node(23) last access: 138.2841 seconds
I0305 06:39:40.186184       1 tree.go:490] Partial tokens match child node(159). Continue to go deeper in the radix tree
I0305 06:39:40.186187       1 tree.go:471] Updated node(159) last access: 138.2841 seconds
I0305 06:39:40.186192       1 tree.go:484] Entire input tokens match the child node(94)
I0305 06:39:40.186195       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:40.186202       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:40.186209       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.186215       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.18619769 +0000 UTC m=+138.402924554 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:32.283179384 +0000 UTC m=+130.499906258]
I0305 06:39:40.186232       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:40.186239       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:40.186282       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7601
I0305 06:39:40.186292       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:40.186300       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.186307       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.186312       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.186316       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.186321       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.186329       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.186337       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:40.186348       1 prefix_cache_and_load.go:584] latency, Route, 0.5137
I0305 06:39:40.186365       1 gateway.go:415] latency, selectTargetPod, 0.5137, target pod, 10.0.3.42:8000
I0305 06:39:40.186376       1 gateway.go:235] latency, HandleRequestBody, 0.5140
I0305 06:39:40.186414       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4987
I0305 06:39:40.186425       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.186429       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.186561       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.186610       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:40.186616       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.202922       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="33c0142a-8c23-49a2-ac47-772081f90cb8"
I0305 06:39:40.212323       1 gateway.go:207] "Processing request" requestID="06791010-1e34-42b6-bbaf-f95685e7cdf1"
I0305 06:39:40.212345       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="06791010-1e34-42b6-bbaf-f95685e7cdf1"
I0305 06:39:40.212353       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:40.230112       1 gateway.go:329] "-- In RequestBody processing ..." requestID="06791010-1e34-42b6-bbaf-f95685e7cdf1"
I0305 06:39:40.230365       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="06791010-1e34-42b6-bbaf-f95685e7cdf1" model="qwen2-5-7b-instruct"
I0305 06:39:40.235426       1 gateway.go:608] "First token received" requestID="33c0142a-8c23-49a2-ac47-772081f90cb8" ttft_ms=562
I0305 06:39:40.243129       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0565, numInputTokens, 7598
I0305 06:39:40.243151       1 tree.go:471] Updated node(0) last access: 138.3411 seconds
I0305 06:39:40.243159       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.243162       1 tree.go:471] Updated node(2) last access: 138.3411 seconds
I0305 06:39:40.243176       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:40.243179       1 tree.go:471] Updated node(51) last access: 138.3411 seconds
I0305 06:39:40.243184       1 tree.go:484] Entire input tokens match the child node(97)
I0305 06:39:40.243188       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:40.243194       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:40.243202       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.243208       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.243190572 +0000 UTC m=+138.459917437 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:32.416059478 +0000 UTC m=+130.632786343]
I0305 06:39:40.243233       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:40.243239       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:40.243309       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7598
I0305 06:39:40.243318       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:40.243325       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.243330       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.243334       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.243338       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.243347       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.243356       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:40.243372       1 prefix_cache_and_load.go:584] latency, Route, 0.5557
I0305 06:39:40.243391       1 gateway.go:415] latency, selectTargetPod, 0.5557, target pod, 10.0.1.28:8000
I0305 06:39:40.243407       1 gateway.go:235] latency, HandleRequestBody, 0.5561
I0305 06:39:40.243434       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5361
I0305 06:39:40.243438       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.243441       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.243578       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.243652       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:40.243657       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.279061       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="26aece48-6369-4d35-8ffa-127a34814cd4"
I0305 06:39:40.279287       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4c91744d, selectedpod, 10.0.0.34:8000, ttft, 456, tpot, 22, e2e, 655, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:40.279312       1 gateway.go:748] "Request completed" requestID="7391f6d4-c39a-4252-8a35-18cde12a5a9a" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:40.279329       1 gateway.go:764] "HandleResponseBody completed" requestID="7391f6d4-c39a-4252-8a35-18cde12a5a9a" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:40.304269       1 gateway.go:608] "First token received" requestID="26aece48-6369-4d35-8ffa-127a34814cd4" ttft_ms=616
I0305 06:39:40.328468       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0848, numInputTokens, 7592
I0305 06:39:40.328489       1 tree.go:471] Updated node(0) last access: 138.4264 seconds
I0305 06:39:40.328495       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.328499       1 tree.go:471] Updated node(2) last access: 138.4264 seconds
I0305 06:39:40.328519       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:40.328524       1 tree.go:471] Updated node(51) last access: 138.4265 seconds
I0305 06:39:40.328528       1 tree.go:490] Partial tokens match child node(143). Continue to go deeper in the radix tree
I0305 06:39:40.328530       1 tree.go:471] Updated node(143) last access: 138.4265 seconds
I0305 06:39:40.328534       1 tree.go:490] Partial tokens match child node(100). Continue to go deeper in the radix tree
I0305 06:39:40.328539       1 tree.go:471] Updated node(100) last access: 138.4265 seconds
I0305 06:39:40.328543       1 tree.go:484] Entire input tokens match the child node(101)
I0305 06:39:40.328546       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7592 tokens
I0305 06:39:40.328555       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7592 tokens
I0305 06:39:40.328561       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.328567       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.328550722 +0000 UTC m=+138.545277596 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:32.638802268 +0000 UTC m=+130.855529133]
I0305 06:39:40.328585       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7592, Matched tokens: 7592, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:40.328592       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:40.328640       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7592
I0305 06:39:40.328649       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:40.328656       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.328662       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.328665       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.328669       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.328674       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.328679       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.328689       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.328700       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:40.328715       1 prefix_cache_and_load.go:584] latency, Route, 0.6214
I0305 06:39:40.328733       1 gateway.go:415] latency, selectTargetPod, 0.6214, target pod, 10.0.1.28:8000
I0305 06:39:40.328744       1 gateway.go:235] latency, HandleRequestBody, 0.6218
I0305 06:39:40.328791       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5864
I0305 06:39:40.328797       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.328801       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.328874       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.328911       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:40.328918       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.347133       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e1c4bbe4-4cd4-4047-8d3d-b52fda0708aa"
I0305 06:39:40.374164       1 gateway.go:562] latency, 0.0000, summary, hash(request), 67ef165c, selectedpod, 10.0.1.28:8000, ttft, 524, tpot, 23, e2e, 731, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:40.374183       1 gateway.go:748] "Request completed" requestID="5155516c-9098-487c-8b37-c92544dec107" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:40.374193       1 gateway.go:764] "HandleResponseBody completed" requestID="5155516c-9098-487c-8b37-c92544dec107" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:40.382004       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0531, numInputTokens, 7599
I0305 06:39:40.382020       1 tree.go:471] Updated node(0) last access: 138.4800 seconds
I0305 06:39:40.382026       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.382030       1 tree.go:471] Updated node(2) last access: 138.4800 seconds
I0305 06:39:40.382046       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:40.382050       1 tree.go:471] Updated node(26) last access: 138.4800 seconds
I0305 06:39:40.382055       1 tree.go:484] Entire input tokens match the child node(99)
I0305 06:39:40.382058       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:40.382064       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:40.382069       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:40.382074       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.382060129 +0000 UTC m=+138.598787004 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:32.588933481 +0000 UTC m=+130.805660348]
I0305 06:39:40.382091       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:40.382097       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:40.382143       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7599
I0305 06:39:40.382152       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:40.382161       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.382170       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.382175       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.382179       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.382190       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.382204       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:40.382217       1 prefix_cache_and_load.go:584] latency, Route, 0.6399
I0305 06:39:40.382235       1 gateway.go:415] latency, selectTargetPod, 0.6399, target pod, 10.0.3.41:8000
I0305 06:39:40.382245       1 gateway.go:235] latency, HandleRequestBody, 0.6402
I0305 06:39:40.382266       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6316
I0305 06:39:40.382277       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.382281       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.382400       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.382446       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:40.382453       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.391005       1 gateway.go:207] "Processing request" requestID="16a2d216-6066-4c35-8ef3-2334f58c2123"
I0305 06:39:40.391049       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="16a2d216-6066-4c35-8ef3-2334f58c2123"
I0305 06:39:40.391060       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:40.394023       1 gateway.go:608] "First token received" requestID="e1c4bbe4-4cd4-4047-8d3d-b52fda0708aa" ttft_ms=687
I0305 06:39:40.398926       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bf67001a-71fd-4d87-8cb3-e2786ed85717"
I0305 06:39:40.408168       1 gateway.go:562] latency, 0.0000, summary, hash(request), cafb37d4, selectedpod, 10.0.3.42:8000, ttft, 562, tpot, 19, e2e, 735, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:40.408197       1 gateway.go:748] "Request completed" requestID="33c0142a-8c23-49a2-ac47-772081f90cb8" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:40.408213       1 gateway.go:764] "HandleResponseBody completed" requestID="33c0142a-8c23-49a2-ac47-772081f90cb8" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:40.433359       1 gateway.go:608] "First token received" requestID="bf67001a-71fd-4d87-8cb3-e2786ed85717" ttft_ms=691
I0305 06:39:40.436814       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0544, numInputTokens, 7600
I0305 06:39:40.436831       1 tree.go:471] Updated node(0) last access: 138.5348 seconds
I0305 06:39:40.436837       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.436842       1 tree.go:471] Updated node(2) last access: 138.5348 seconds
I0305 06:39:40.436855       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:40.436859       1 tree.go:471] Updated node(45) last access: 138.5348 seconds
I0305 06:39:40.436864       1 tree.go:484] Entire input tokens match the child node(98)
I0305 06:39:40.436868       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:40.436874       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:40.436881       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.436886       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.436870478 +0000 UTC m=+138.653597352 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:32.503069971 +0000 UTC m=+130.719796836]
I0305 06:39:40.436903       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:40.436910       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:40.436952       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7600
I0305 06:39:40.436961       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:40.436981       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.436988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.436993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.436998       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.437006       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.437015       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:40.437025       1 prefix_cache_and_load.go:584] latency, Route, 0.6864
I0305 06:39:40.437040       1 gateway.go:415] latency, selectTargetPod, 0.6864, target pod, 10.0.0.34:8000
I0305 06:39:40.437050       1 gateway.go:235] latency, HandleRequestBody, 0.6867
I0305 06:39:40.437074       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6569
I0305 06:39:40.437079       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.437082       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.437156       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.437188       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:40.437194       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.455004       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="048dd492-74b0-4980-9ff2-eda0bc595a29"
I0305 06:39:40.486351       1 gateway.go:608] "First token received" requestID="048dd492-74b0-4980-9ff2-eda0bc595a29" ttft_ms=735
I0305 06:39:40.493453       1 gateway.go:207] "Processing request" requestID="f87e7632-8133-4aeb-9303-400cdd118e2b"
I0305 06:39:40.493477       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f87e7632-8133-4aeb-9303-400cdd118e2b"
I0305 06:39:40.493488       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:40.514858       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7a2d037e, selectedpod, 10.0.1.28:8000, ttft, 616, tpot, 23, e2e, 827, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:40.514904       1 gateway.go:748] "Request completed" requestID="26aece48-6369-4d35-8ffa-127a34814cd4" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:40.514922       1 gateway.go:764] "HandleResponseBody completed" requestID="26aece48-6369-4d35-8ffa-127a34814cd4" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:40.520321       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0831, numInputTokens, 7597
I0305 06:39:40.520340       1 tree.go:471] Updated node(0) last access: 138.6183 seconds
I0305 06:39:40.520346       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.520350       1 tree.go:471] Updated node(2) last access: 138.6183 seconds
I0305 06:39:40.520363       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:40.520366       1 tree.go:471] Updated node(45) last access: 138.6183 seconds
I0305 06:39:40.520377       1 tree.go:667] Split complete - New node(173)
I0305 06:39:40.520383       1 tree.go:668] Split complete - Child node(46)
I0305 06:39:40.520387       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:39:40.520393       1 tree.go:471] Updated node(173) last access: 138.6183 seconds
I0305 06:39:40.520399       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:39:40.520404       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:40.520409       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:40.520416       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.520420       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.520405503 +0000 UTC m=+138.737132367]
I0305 06:39:40.520436       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7483, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:39:40.520443       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:39:40.520486       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7483
I0305 06:39:40.520495       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:40.520503       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.520518       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.520522       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.520529       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.520533       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.520542       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.520552       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:40.520564       1 prefix_cache_and_load.go:584] latency, Route, 0.7404
I0305 06:39:40.520578       1 gateway.go:415] latency, selectTargetPod, 0.7404, target pod, 10.0.0.34:8000
I0305 06:39:40.520590       1 gateway.go:235] latency, HandleRequestBody, 0.7408
I0305 06:39:40.520618       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7284
I0305 06:39:40.520622       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.520626       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.520697       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.520731       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:40.520736       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.541050       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8a1d5ae2-0a3b-40b0-b952-233c3c499a02"
I0305 06:39:40.569699       1 gateway.go:207] "Processing request" requestID="e5219438-5fda-412a-9d90-790f21203e20"
I0305 06:39:40.569725       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e5219438-5fda-412a-9d90-790f21203e20"
I0305 06:39:40.569734       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:40.576657       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9bab4dca, selectedpod, 10.0.1.28:8000, ttft, 687, tpot, 20, e2e, 869, numInputTokens, 7611, numOutputTokens, 10, numTotalTokens, 7621
I0305 06:39:40.576672       1 gateway.go:748] "Request completed" requestID="e1c4bbe4-4cd4-4047-8d3d-b52fda0708aa" targetPod="10.0.1.28:8000" promptTokens=7611 completionTokens=10 totalTokens=7621
I0305 06:39:40.576679       1 gateway.go:764] "HandleResponseBody completed" requestID="e1c4bbe4-4cd4-4047-8d3d-b52fda0708aa" promptTokens=7611 completionTokens=10 stream=true
I0305 06:39:40.577079       1 gateway.go:608] "First token received" requestID="8a1d5ae2-0a3b-40b0-b952-233c3c499a02" ttft_ms=797
I0305 06:39:40.600085       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0793, numInputTokens, 7598
I0305 06:39:40.600102       1 tree.go:471] Updated node(0) last access: 138.6980 seconds
I0305 06:39:40.600108       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.600111       1 tree.go:471] Updated node(2) last access: 138.6981 seconds
I0305 06:39:40.600124       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:40.600127       1 tree.go:471] Updated node(26) last access: 138.6981 seconds
I0305 06:39:40.600130       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:39:40.600132       1 tree.go:471] Updated node(36) last access: 138.6981 seconds
I0305 06:39:40.600137       1 tree.go:484] Entire input tokens match the child node(102)
I0305 06:39:40.600140       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:40.600147       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:40.600153       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.600158       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.600142944 +0000 UTC m=+138.816869819 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:32.718735133 +0000 UTC m=+130.935461998]
I0305 06:39:40.600177       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:40.600184       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:40.600224       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7598
I0305 06:39:40.600232       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:40.600239       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.600243       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.600246       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.600251       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.600254       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.600260       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.600270       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:40.600280       1 prefix_cache_and_load.go:584] latency, Route, 0.8080
I0305 06:39:40.600293       1 gateway.go:415] latency, selectTargetPod, 0.8080, target pod, 10.0.3.41:8000
I0305 06:39:40.600303       1 gateway.go:235] latency, HandleRequestBody, 0.8084
I0305 06:39:40.600329       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7931
I0305 06:39:40.600334       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.600336       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.600403       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.600433       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:40.600438       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.603954       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3357b9bb, selectedpod, 10.0.3.41:8000, ttft, 691, tpot, 18, e2e, 861, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:40.603981       1 gateway.go:748] "Request completed" requestID="bf67001a-71fd-4d87-8cb3-e2786ed85717" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:40.603994       1 gateway.go:764] "HandleResponseBody completed" requestID="bf67001a-71fd-4d87-8cb3-e2786ed85717" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:40.616433       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9883ba75-6063-422e-adb8-949a5228526c"
I0305 06:39:40.651244       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0508, numInputTokens, 7599
I0305 06:39:40.651265       1 tree.go:471] Updated node(0) last access: 138.7492 seconds
I0305 06:39:40.651271       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.651276       1 tree.go:471] Updated node(2) last access: 138.7492 seconds
I0305 06:39:40.651289       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:40.651294       1 tree.go:471] Updated node(45) last access: 138.7492 seconds
I0305 06:39:40.651305       1 tree.go:667] Split complete - New node(175)
I0305 06:39:40.651310       1 tree.go:668] Split complete - Child node(10)
I0305 06:39:40.651315       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:39:40.651324       1 tree.go:471] Updated node(175) last access: 138.7493 seconds
I0305 06:39:40.651329       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:40.651333       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:40.651340       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:40.651347       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.651352       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.651335367 +0000 UTC m=+138.868062232]
I0305 06:39:40.651366       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7481, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:40.651373       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:40.651443       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7481
I0305 06:39:40.651455       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:40.651463       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.651469       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.651472       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.651478       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.651482       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.651491       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.651501       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:40.651519       1 prefix_cache_and_load.go:584] latency, Route, 0.8443
I0305 06:39:40.651538       1 gateway.go:415] latency, selectTargetPod, 0.8443, target pod, 10.0.0.34:8000
I0305 06:39:40.651558       1 gateway.go:235] latency, HandleRequestBody, 0.8446
I0305 06:39:40.651635       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6514
I0305 06:39:40.651649       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.651654       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.651915       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.652050       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:39:40.652061       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.652165       1 gateway.go:608] "First token received" requestID="9883ba75-6063-422e-adb8-949a5228526c" ttft_ms=860
I0305 06:39:40.670281       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ad2383a7-0da2-44df-824f-07bd56d4af04"
I0305 06:39:40.718271       1 gateway.go:608] "First token received" requestID="ad2383a7-0da2-44df-824f-07bd56d4af04" ttft_ms=911
I0305 06:39:40.724802       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0727, numInputTokens, 7601
I0305 06:39:40.724820       1 tree.go:471] Updated node(0) last access: 138.8228 seconds
I0305 06:39:40.724826       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.724829       1 tree.go:471] Updated node(2) last access: 138.8228 seconds
I0305 06:39:40.724843       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:40.724847       1 tree.go:471] Updated node(12) last access: 138.8228 seconds
I0305 06:39:40.724852       1 tree.go:484] Entire input tokens match the child node(133)
I0305 06:39:40.724857       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:40.724863       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:40.724871       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.724876       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.724859367 +0000 UTC m=+138.941586231 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:35.180231339 +0000 UTC m=+133.396958212]
I0305 06:39:40.724891       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:39:40.724897       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:40.724937       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7601
I0305 06:39:40.724946       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:40.724953       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.724959       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.724963       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.724973       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.724982       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.724990       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:40.724999       1 prefix_cache_and_load.go:584] latency, Route, 0.7248
I0305 06:39:40.725013       1 gateway.go:415] latency, selectTargetPod, 0.7248, target pod, 10.0.0.39:8000
I0305 06:39:40.725022       1 gateway.go:235] latency, HandleRequestBody, 0.8128
I0305 06:39:40.725028       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5952
I0305 06:39:40.725043       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.725048       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.725179       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.725236       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:40.725243       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.739963       1 gateway.go:562] latency, 0.0000, summary, hash(request), 043b2f90, selectedpod, 10.0.0.34:8000, ttft, 735, tpot, 28, e2e, 989, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:40.739987       1 gateway.go:748] "Request completed" requestID="048dd492-74b0-4980-9ff2-eda0bc595a29" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:40.739996       1 gateway.go:764] "HandleResponseBody completed" requestID="048dd492-74b0-4980-9ff2-eda0bc595a29" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:40.743309       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ab462ea0-4c86-4ac6-8bae-cc1898266fb0"
I0305 06:39:40.775360       1 gateway.go:608] "First token received" requestID="ab462ea0-4c86-4ac6-8bae-cc1898266fb0" ttft_ms=863
I0305 06:39:40.778654       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0534, numInputTokens, 7599
I0305 06:39:40.778670       1 tree.go:471] Updated node(0) last access: 138.8766 seconds
I0305 06:39:40.778677       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.778683       1 tree.go:471] Updated node(2) last access: 138.8766 seconds
I0305 06:39:40.778697       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:40.778702       1 tree.go:471] Updated node(53) last access: 138.8766 seconds
I0305 06:39:40.778706       1 tree.go:484] Entire input tokens match the child node(105)
I0305 06:39:40.778710       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:40.778716       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:40.778721       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.778725       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.778712096 +0000 UTC m=+138.995438967 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:32.860677946 +0000 UTC m=+131.077404824]
I0305 06:39:40.778744       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:40.778753       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:40.778798       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:39:40.778807       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:40.778814       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.778820       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.778823       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.778829       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.778841       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.778852       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:40.778862       1 prefix_cache_and_load.go:584] latency, Route, 0.6491
I0305 06:39:40.778876       1 gateway.go:415] latency, selectTargetPod, 0.6491, target pod, 10.0.0.34:8000
I0305 06:39:40.778887       1 gateway.go:235] latency, HandleRequestBody, 0.6495
I0305 06:39:40.778916       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6488
I0305 06:39:40.778922       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.778927       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.779011       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.779055       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:40.779060       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.797170       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e84bc7b0-17c9-4964-b20c-29065b7decd2"
I0305 06:39:40.810194       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5b6a1f29, selectedpod, 10.0.0.34:8000, ttft, 797, tpot, 25, e2e, 1030, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:40.810215       1 gateway.go:748] "Request completed" requestID="8a1d5ae2-0a3b-40b0-b952-233c3c499a02" targetPod="10.0.0.34:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:40.810225       1 gateway.go:764] "HandleResponseBody completed" requestID="8a1d5ae2-0a3b-40b0-b952-233c3c499a02" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:40.825130       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90ca1194, selectedpod, 10.0.3.41:8000, ttft, 860, tpot, 19, e2e, 1033, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:40.825148       1 gateway.go:748] "Request completed" requestID="9883ba75-6063-422e-adb8-949a5228526c" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:40.825160       1 gateway.go:764] "HandleResponseBody completed" requestID="9883ba75-6063-422e-adb8-949a5228526c" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:40.829291       1 gateway.go:608] "First token received" requestID="e84bc7b0-17c9-4964-b20c-29065b7decd2" ttft_ms=699
I0305 06:39:40.831949       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0529, numInputTokens, 7595
I0305 06:39:40.831976       1 tree.go:471] Updated node(0) last access: 138.9299 seconds
I0305 06:39:40.831983       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.831986       1 tree.go:471] Updated node(2) last access: 138.9299 seconds
I0305 06:39:40.832000       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:40.832004       1 tree.go:471] Updated node(31) last access: 138.9299 seconds
I0305 06:39:40.832008       1 tree.go:490] Partial tokens match child node(111). Continue to go deeper in the radix tree
I0305 06:39:40.832010       1 tree.go:471] Updated node(111) last access: 138.9300 seconds
I0305 06:39:40.832019       1 tree.go:667] Split complete - New node(177)
I0305 06:39:40.832024       1 tree.go:668] Split complete - Child node(32)
I0305 06:39:40.832029       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 06:39:40.832035       1 tree.go:471] Updated node(177) last access: 138.9300 seconds
I0305 06:39:40.832040       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 106 tokens:
I0305 06:39:40.832045       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:39:40.832051       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:39:40.832056       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.832061       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.832046659 +0000 UTC m=+139.048773524]
I0305 06:39:40.832076       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7489, Matching ratio: 0.9860, # Matched pods: 0, Matched pods: []
I0305 06:39:40.832083       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9860 > 0.5000)
I0305 06:39:40.832124       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7489
I0305 06:39:40.832134       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:40.832142       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.832146       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.832149       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.832152       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.832158       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.832162       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.832169       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.832179       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:40.832190       1 prefix_cache_and_load.go:584] latency, Route, 0.7020
I0305 06:39:40.832203       1 gateway.go:415] latency, selectTargetPod, 0.7020, target pod, 10.0.1.28:8000
I0305 06:39:40.832214       1 gateway.go:235] latency, HandleRequestBody, 0.7024
I0305 06:39:40.832214       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6018
I0305 06:39:40.832222       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:40.832226       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:40.832361       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:40.832398       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:40.832404       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:40.852097       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f0c91b50-f215-4f49-9528-305fdcec3ef6"
I0305 06:39:40.887421       1 gateway.go:608] "First token received" requestID="f0c91b50-f215-4f49-9528-305fdcec3ef6" ttft_ms=757
I0305 06:39:40.921686       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0893, numInputTokens, 7599
I0305 06:39:40.921705       1 tree.go:471] Updated node(0) last access: 139.0196 seconds
I0305 06:39:40.921713       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:40.921717       1 tree.go:471] Updated node(2) last access: 139.0197 seconds
I0305 06:39:40.921734       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:40.921739       1 tree.go:471] Updated node(51) last access: 139.0197 seconds
I0305 06:39:40.921745       1 tree.go:484] Entire input tokens match the child node(108)
I0305 06:39:40.921750       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:40.921757       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:40.921767       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:40.921774       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:40.9217529 +0000 UTC m=+139.138479767 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:32.994430803 +0000 UTC m=+131.211157667]
I0305 06:39:40.921797       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:40.921805       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:40.921851       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7599
I0305 06:39:40.921862       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:40.921875       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.921885       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.921891       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.921898       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:40.921911       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:40.921924       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:40.921939       1 prefix_cache_and_load.go:584] latency, Route, 0.6915
I0305 06:39:40.921953       1 gateway.go:415] latency, selectTargetPod, 0.6915, target pod, 10.0.1.28:8000
I0305 06:39:40.921965       1 gateway.go:235] latency, HandleRequestBody, 0.6919
I0305 06:39:40.931822       1 gateway.go:562] latency, 0.0000, summary, hash(request), e21b7797, selectedpod, 10.0.0.34:8000, ttft, 911, tpot, 23, e2e, 1124, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:40.931842       1 gateway.go:748] "Request completed" requestID="ad2383a7-0da2-44df-824f-07bd56d4af04" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:40.931854       1 gateway.go:764] "HandleResponseBody completed" requestID="ad2383a7-0da2-44df-824f-07bd56d4af04" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:40.941182       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="06791010-1e34-42b6-bbaf-f95685e7cdf1"
I0305 06:39:40.948779       1 gateway.go:562] latency, 0.0000, summary, hash(request), c9adebde, selectedpod, 10.0.0.39:8000, ttft, 863, tpot, 19, e2e, 1036, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:40.948796       1 gateway.go:748] "Request completed" requestID="ab462ea0-4c86-4ac6-8bae-cc1898266fb0" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:40.948808       1 gateway.go:764] "HandleResponseBody completed" requestID="ab462ea0-4c86-4ac6-8bae-cc1898266fb0" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:40.974430       1 gateway.go:608] "First token received" requestID="06791010-1e34-42b6-bbaf-f95685e7cdf1" ttft_ms=744
I0305 06:39:41.009371       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0bcbe15f, selectedpod, 10.0.0.34:8000, ttft, 699, tpot, 20, e2e, 879, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:41.009390       1 gateway.go:748] "Request completed" requestID="e84bc7b0-17c9-4964-b20c-29065b7decd2" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:41.009404       1 gateway.go:764] "HandleResponseBody completed" requestID="e84bc7b0-17c9-4964-b20c-29065b7decd2" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:41.096999       1 gateway.go:562] latency, 0.0000, summary, hash(request), adcc98d7, selectedpod, 10.0.1.28:8000, ttft, 757, tpot, 23, e2e, 967, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:39:41.097020       1 gateway.go:748] "Request completed" requestID="f0c91b50-f215-4f49-9528-305fdcec3ef6" targetPod="10.0.1.28:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:39:41.097031       1 gateway.go:764] "HandleResponseBody completed" requestID="f0c91b50-f215-4f49-9528-305fdcec3ef6" promptTokens=7614 completionTokens=10 stream=true
I0305 06:39:41.155004       1 gateway.go:562] latency, 0.0000, summary, hash(request), 13acd843, selectedpod, 10.0.1.28:8000, ttft, 744, tpot, 20, e2e, 924, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:41.155020       1 gateway.go:748] "Request completed" requestID="06791010-1e34-42b6-bbaf-f95685e7cdf1" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:41.155031       1 gateway.go:764] "HandleResponseBody completed" requestID="06791010-1e34-42b6-bbaf-f95685e7cdf1" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:41.405271       1 gateway.go:207] "Processing request" requestID="5157e29e-386e-465a-805c-80ecdea765a6"
I0305 06:39:41.405305       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5157e29e-386e-465a-805c-80ecdea765a6"
I0305 06:39:41.405314       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.406196       1 gateway.go:207] "Processing request" requestID="e807faaf-fd53-4a41-95be-aaf9cee3e1af"
I0305 06:39:41.406234       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e807faaf-fd53-4a41-95be-aaf9cee3e1af"
I0305 06:39:41.406247       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.407127       1 gateway.go:207] "Processing request" requestID="1d0b2a43-faa5-4a31-8bbd-31b12ae1bdd7"
I0305 06:39:41.407152       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1d0b2a43-faa5-4a31-8bbd-31b12ae1bdd7"
I0305 06:39:41.407160       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.409126       1 gateway.go:207] "Processing request" requestID="42c6c94c-96b5-406e-a7ad-79f58cb50be3"
I0305 06:39:41.409158       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="42c6c94c-96b5-406e-a7ad-79f58cb50be3"
I0305 06:39:41.409165       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.410115       1 gateway.go:207] "Processing request" requestID="a15359bf-a151-49a2-a28b-8696289e4281"
I0305 06:39:41.410148       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a15359bf-a151-49a2-a28b-8696289e4281"
I0305 06:39:41.410160       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.414109       1 gateway.go:207] "Processing request" requestID="90528e65-dd41-4614-ac37-d145006e622b"
I0305 06:39:41.414134       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="90528e65-dd41-4614-ac37-d145006e622b"
I0305 06:39:41.414142       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.414152       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f87e7632-8133-4aeb-9303-400cdd118e2b"
I0305 06:39:41.414413       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f87e7632-8133-4aeb-9303-400cdd118e2b" model="qwen2-5-7b-instruct"
I0305 06:39:41.414538       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:41.414548       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:41.414551       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:41.414726       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:41.414765       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:41.414771       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:41.416094       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5157e29e-386e-465a-805c-80ecdea765a6"
I0305 06:39:41.416316       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5157e29e-386e-465a-805c-80ecdea765a6" model="qwen2-5-7b-instruct"
I0305 06:39:41.416710       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e807faaf-fd53-4a41-95be-aaf9cee3e1af"
I0305 06:39:41.416715       1 gateway.go:207] "Processing request" requestID="4198fa96-6bcb-4e51-94b4-caccf15ab635"
I0305 06:39:41.416922       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e807faaf-fd53-4a41-95be-aaf9cee3e1af" model="qwen2-5-7b-instruct"
I0305 06:39:41.417634       1 gateway.go:207] "Processing request" requestID="501207cb-301b-4446-8ac4-d06ced473dea"
I0305 06:39:41.417641       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4198fa96-6bcb-4e51-94b4-caccf15ab635"
I0305 06:39:41.417651       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.417660       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="501207cb-301b-4446-8ac4-d06ced473dea"
I0305 06:39:41.417669       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.418776       1 gateway.go:329] "-- In RequestBody processing ..." requestID="42c6c94c-96b5-406e-a7ad-79f58cb50be3"
I0305 06:39:41.418995       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="42c6c94c-96b5-406e-a7ad-79f58cb50be3" model="qwen2-5-7b-instruct"
I0305 06:39:41.419372       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1d0b2a43-faa5-4a31-8bbd-31b12ae1bdd7"
I0305 06:39:41.419616       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1d0b2a43-faa5-4a31-8bbd-31b12ae1bdd7" model="qwen2-5-7b-instruct"
I0305 06:39:41.420628       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4198fa96-6bcb-4e51-94b4-caccf15ab635"
I0305 06:39:41.420710       1 gateway.go:329] "-- In RequestBody processing ..." requestID="16a2d216-6066-4c35-8ef3-2334f58c2123"
I0305 06:39:41.420849       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4198fa96-6bcb-4e51-94b4-caccf15ab635" model="qwen2-5-7b-instruct"
I0305 06:39:41.420999       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="16a2d216-6066-4c35-8ef3-2334f58c2123" model="qwen2-5-7b-instruct"
I0305 06:39:41.449049       1 gateway.go:207] "Processing request" requestID="7a12eee4-7a7f-4fb8-bdc8-c74a28549a10"
I0305 06:39:41.449100       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7a12eee4-7a7f-4fb8-bdc8-c74a28549a10"
I0305 06:39:41.449110       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.469427       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0546, numInputTokens, 7602
I0305 06:39:41.469446       1 tree.go:471] Updated node(0) last access: 139.5674 seconds
I0305 06:39:41.469452       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:41.469455       1 tree.go:471] Updated node(2) last access: 139.5674 seconds
I0305 06:39:41.469468       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:41.469471       1 tree.go:471] Updated node(4) last access: 139.5674 seconds
I0305 06:39:41.469477       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 06:39:41.469485       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:41.469492       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:41.469499       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:41.469504       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:41.469487268 +0000 UTC m=+139.686214141]
I0305 06:39:41.469533       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 06:39:41.469539       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 06:39:41.469586       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7478
I0305 06:39:41.469596       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:41.469603       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.469612       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.469616       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.469620       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.469628       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:41.469636       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:41.469646       1 prefix_cache_and_load.go:584] latency, Route, 0.0551
I0305 06:39:41.469661       1 gateway.go:415] latency, selectTargetPod, 0.0551, target pod, 10.0.1.47:8000
I0305 06:39:41.469673       1 gateway.go:235] latency, HandleRequestBody, 0.0555
I0305 06:39:41.469701       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0533
I0305 06:39:41.469706       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:41.469708       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:41.469789       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:41.469823       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:41.469828       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:41.475849       1 gateway.go:207] "Processing request" requestID="23ab128d-653e-491f-ba77-a8f02a7470f4"
I0305 06:39:41.475880       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="23ab128d-653e-491f-ba77-a8f02a7470f4"
I0305 06:39:41.475889       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.490611       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f87e7632-8133-4aeb-9303-400cdd118e2b"
I0305 06:39:41.492221       1 gateway.go:207] "Processing request" requestID="6469cc36-bb90-4578-87bc-3f3de4cefe4d"
I0305 06:39:41.492248       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6469cc36-bb90-4578-87bc-3f3de4cefe4d"
I0305 06:39:41.492255       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.493776       1 gateway.go:207] "Processing request" requestID="63c84fe8-d1cb-4396-aed0-17cae56ba87c"
I0305 06:39:41.493804       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="63c84fe8-d1cb-4396-aed0-17cae56ba87c"
I0305 06:39:41.493817       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.522407       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0526, numInputTokens, 7596
I0305 06:39:41.522424       1 tree.go:471] Updated node(0) last access: 139.6204 seconds
I0305 06:39:41.522430       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:41.522434       1 tree.go:471] Updated node(2) last access: 139.6204 seconds
I0305 06:39:41.522447       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:41.522452       1 tree.go:471] Updated node(31) last access: 139.6204 seconds
I0305 06:39:41.522455       1 tree.go:490] Partial tokens match child node(139). Continue to go deeper in the radix tree
I0305 06:39:41.522457       1 tree.go:471] Updated node(139) last access: 139.6204 seconds
I0305 06:39:41.522461       1 tree.go:484] Entire input tokens match the child node(140)
I0305 06:39:41.522466       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 06:39:41.522472       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:41.522479       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:41.522484       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:41.522468093 +0000 UTC m=+139.739194957 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:35.608623648 +0000 UTC m=+133.825350513]
I0305 06:39:41.522501       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:41.522508       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:41.522561       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7596
I0305 06:39:41.522570       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:41.522577       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.522582       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.522586       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.522588       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.522592       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.522599       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:41.522609       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:41.522619       1 prefix_cache_and_load.go:584] latency, Route, 0.1062
I0305 06:39:41.522633       1 gateway.go:415] latency, selectTargetPod, 0.1062, target pod, 10.0.1.28:8000
I0305 06:39:41.522644       1 gateway.go:235] latency, HandleRequestBody, 0.1066
I0305 06:39:41.522672       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1057
I0305 06:39:41.522676       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:41.522679       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:41.522751       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:41.522782       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:41.522787       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:41.525589       1 gateway.go:207] "Processing request" requestID="86071972-f1be-46de-94f4-70cee6472c60"
I0305 06:39:41.525642       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="86071972-f1be-46de-94f4-70cee6472c60"
I0305 06:39:41.525652       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.537654       1 gateway.go:608] "First token received" requestID="f87e7632-8133-4aeb-9303-400cdd118e2b" ttft_ms=123
I0305 06:39:41.543479       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5157e29e-386e-465a-805c-80ecdea765a6"
I0305 06:39:41.574746       1 gateway.go:608] "First token received" requestID="5157e29e-386e-465a-805c-80ecdea765a6" ttft_ms=158
I0305 06:39:41.599409       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0766, numInputTokens, 7601
I0305 06:39:41.599425       1 tree.go:471] Updated node(0) last access: 139.6974 seconds
I0305 06:39:41.599431       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:41.599435       1 tree.go:471] Updated node(2) last access: 139.6974 seconds
I0305 06:39:41.599449       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:41.599453       1 tree.go:471] Updated node(4) last access: 139.6974 seconds
I0305 06:39:41.599458       1 tree.go:484] Entire input tokens match the child node(134)
I0305 06:39:41.599461       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:41.599468       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:41.599474       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:41.599479       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:41.599464244 +0000 UTC m=+139.816191108 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:35.232491104 +0000 UTC m=+133.449217969]
I0305 06:39:41.599497       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:41.599503       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:41.599556       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7601
I0305 06:39:41.599566       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:41.599573       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.599579       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.599583       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.599588       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.599597       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:41.599607       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:41.599618       1 prefix_cache_and_load.go:584] latency, Route, 0.1826
I0305 06:39:41.599635       1 gateway.go:415] latency, selectTargetPod, 0.1826, target pod, 10.0.1.47:8000
I0305 06:39:41.599650       1 gateway.go:235] latency, HandleRequestBody, 0.1829
I0305 06:39:41.599682       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1806
I0305 06:39:41.599687       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:41.599691       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:41.599775       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:41.599811       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:41.599816       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:41.618221       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e807faaf-fd53-4a41-95be-aaf9cee3e1af"
I0305 06:39:41.659254       1 gateway.go:608] "First token received" requestID="e807faaf-fd53-4a41-95be-aaf9cee3e1af" ttft_ms=242
I0305 06:39:41.685553       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0857, numInputTokens, 7593
I0305 06:39:41.685574       1 tree.go:471] Updated node(0) last access: 139.7835 seconds
I0305 06:39:41.685582       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:41.685586       1 tree.go:471] Updated node(2) last access: 139.7835 seconds
I0305 06:39:41.685602       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:41.685606       1 tree.go:471] Updated node(31) last access: 139.7835 seconds
I0305 06:39:41.685612       1 tree.go:490] Partial tokens match child node(111). Continue to go deeper in the radix tree
I0305 06:39:41.685616       1 tree.go:471] Updated node(111) last access: 139.7836 seconds
I0305 06:39:41.685623       1 tree.go:484] Entire input tokens match the child node(112)
I0305 06:39:41.685628       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7593 tokens
I0305 06:39:41.685636       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 06:39:41.685645       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:41.685652       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:41.685630493 +0000 UTC m=+139.902357358 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:33.21263531 +0000 UTC m=+131.429362175]
I0305 06:39:41.685673       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7593, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:41.685684       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:41.685733       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7593
I0305 06:39:41.685745       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:41.685756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.685762       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.685767       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.685775       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.685784       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.685797       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:41.685810       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:41.685823       1 prefix_cache_and_load.go:584] latency, Route, 0.2667
I0305 06:39:41.685840       1 gateway.go:415] latency, selectTargetPod, 0.2668, target pod, 10.0.1.28:8000
I0305 06:39:41.685855       1 gateway.go:235] latency, HandleRequestBody, 0.2671
I0305 06:39:41.685852       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2661
I0305 06:39:41.685863       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:41.685867       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:41.685995       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:41.686039       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:41.686045       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:41.687382       1 gateway.go:207] "Processing request" requestID="57c6018e-41fc-4aab-b0ae-d233723e01b4"
I0305 06:39:41.687414       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="57c6018e-41fc-4aab-b0ae-d233723e01b4"
I0305 06:39:41.687424       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.704880       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="42c6c94c-96b5-406e-a7ad-79f58cb50be3"
I0305 06:39:41.735302       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 7599
I0305 06:39:41.735322       1 tree.go:471] Updated node(0) last access: 139.8333 seconds
I0305 06:39:41.735331       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:41.735337       1 tree.go:471] Updated node(2) last access: 139.8333 seconds
I0305 06:39:41.735350       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:41.735354       1 tree.go:471] Updated node(31) last access: 139.8333 seconds
I0305 06:39:41.735360       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:41.735367       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:41.735374       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:41.735381       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:41.735386       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:41.735370067 +0000 UTC m=+139.952096932]
I0305 06:39:41.735401       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:41.735410       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:41.735457       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:41.735466       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:41.735474       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.735480       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.735484       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.735490       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.735502       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:41.735522       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:41.735535       1 prefix_cache_and_load.go:584] latency, Route, 0.3158
I0305 06:39:41.735550       1 gateway.go:415] latency, selectTargetPod, 0.3158, target pod, 10.0.1.28:8000
I0305 06:39:41.735559       1 gateway.go:235] latency, HandleRequestBody, 0.3162
I0305 06:39:41.735587       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3147
I0305 06:39:41.735594       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:41.735598       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:41.735676       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:41.735711       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:41.735716       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:41.737841       1 gateway.go:608] "First token received" requestID="42c6c94c-96b5-406e-a7ad-79f58cb50be3" ttft_ms=319
I0305 06:39:41.739690       1 gateway.go:562] latency, 0.0000, summary, hash(request), cce348a5, selectedpod, 10.0.1.47:8000, ttft, 123, tpot, 22, e2e, 325, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:41.739710       1 gateway.go:748] "Request completed" requestID="f87e7632-8133-4aeb-9303-400cdd118e2b" targetPod="10.0.1.47:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:41.739721       1 gateway.go:764] "HandleResponseBody completed" requestID="f87e7632-8133-4aeb-9303-400cdd118e2b" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:41.753505       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1d0b2a43-faa5-4a31-8bbd-31b12ae1bdd7"
I0305 06:39:41.780343       1 gateway.go:207] "Processing request" requestID="396d0880-e9dd-4623-82a7-1f83393dd874"
I0305 06:39:41.780372       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="396d0880-e9dd-4623-82a7-1f83393dd874"
I0305 06:39:41.780381       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.799183       1 gateway.go:608] "First token received" requestID="1d0b2a43-faa5-4a31-8bbd-31b12ae1bdd7" ttft_ms=379
I0305 06:39:41.816329       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0806, numInputTokens, 7596
I0305 06:39:41.816347       1 tree.go:471] Updated node(0) last access: 139.9143 seconds
I0305 06:39:41.816354       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:41.816359       1 tree.go:471] Updated node(2) last access: 139.9143 seconds
I0305 06:39:41.816375       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:41.816380       1 tree.go:471] Updated node(18) last access: 139.9143 seconds
I0305 06:39:41.816384       1 tree.go:490] Partial tokens match child node(125). Continue to go deeper in the radix tree
I0305 06:39:41.816390       1 tree.go:471] Updated node(125) last access: 139.9143 seconds
I0305 06:39:41.816396       1 tree.go:484] Entire input tokens match the child node(115)
I0305 06:39:41.816402       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:41.816411       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:41.816420       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:41.816430       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:41.816405802 +0000 UTC m=+140.033132673 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:33.398956223 +0000 UTC m=+131.615683087]
I0305 06:39:41.816453       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:41.816463       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:41.816506       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7596
I0305 06:39:41.816529       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:41.816540       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.816550       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.816556       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.816561       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.816569       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.816580       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:41.816592       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:41.816607       1 prefix_cache_and_load.go:584] latency, Route, 0.3957
I0305 06:39:41.816623       1 gateway.go:415] latency, selectTargetPod, 0.3957, target pod, 10.0.0.131:8000
I0305 06:39:41.816636       1 gateway.go:235] latency, HandleRequestBody, 0.3960
I0305 06:39:41.816660       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3956
I0305 06:39:41.816665       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:41.816668       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:41.816744       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:41.816786       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:41.816792       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:41.820278       1 gateway.go:562] latency, 0.0000, summary, hash(request), b8b17bc9, selectedpod, 10.0.1.28:8000, ttft, 158, tpot, 27, e2e, 404, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:41.820298       1 gateway.go:748] "Request completed" requestID="5157e29e-386e-465a-805c-80ecdea765a6" targetPod="10.0.1.28:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:41.820309       1 gateway.go:764] "HandleResponseBody completed" requestID="5157e29e-386e-465a-805c-80ecdea765a6" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:41.835658       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4198fa96-6bcb-4e51-94b4-caccf15ab635"
I0305 06:39:41.837121       1 gateway.go:562] latency, 0.0000, summary, hash(request), c124c593, selectedpod, 10.0.1.47:8000, ttft, 242, tpot, 19, e2e, 420, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:41.837133       1 gateway.go:748] "Request completed" requestID="e807faaf-fd53-4a41-95be-aaf9cee3e1af" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:41.837142       1 gateway.go:764] "HandleResponseBody completed" requestID="e807faaf-fd53-4a41-95be-aaf9cee3e1af" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:41.865394       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 7602
I0305 06:39:41.865411       1 tree.go:471] Updated node(0) last access: 139.9634 seconds
I0305 06:39:41.865417       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:41.865420       1 tree.go:471] Updated node(2) last access: 139.9634 seconds
I0305 06:39:41.865435       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:41.865439       1 tree.go:471] Updated node(26) last access: 139.9634 seconds
I0305 06:39:41.865442       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:39:41.865444       1 tree.go:471] Updated node(36) last access: 139.9634 seconds
I0305 06:39:41.865448       1 tree.go:490] Partial tokens match child node(103). Continue to go deeper in the radix tree
I0305 06:39:41.865451       1 tree.go:471] Updated node(103) last access: 139.9634 seconds
I0305 06:39:41.865457       1 tree.go:484] Entire input tokens match the child node(104)
I0305 06:39:41.865461       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:41.865468       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:41.865474       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:41.865481       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:41.865463425 +0000 UTC m=+140.082190289 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:32.8107538 +0000 UTC m=+131.027480665]
I0305 06:39:41.865498       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:41.865504       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:41.865554       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7602
I0305 06:39:41.865563       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:41.865572       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.865579       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.865584       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.865588       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.865593       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.865598       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:41.865605       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:41.865614       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:41.865623       1 prefix_cache_and_load.go:584] latency, Route, 0.4445
I0305 06:39:41.865632       1 gateway.go:415] latency, selectTargetPod, 0.4445, target pod, 10.0.3.41:8000
I0305 06:39:41.865643       1 gateway.go:235] latency, HandleRequestBody, 0.4449
I0305 06:39:41.868322       1 gateway.go:608] "First token received" requestID="4198fa96-6bcb-4e51-94b4-caccf15ab635" ttft_ms=447
I0305 06:39:41.881961       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="16a2d216-6066-4c35-8ef3-2334f58c2123"
I0305 06:39:41.883280       1 gateway.go:207] "Processing request" requestID="279f1ec8-3c70-4603-9229-fe1ff29ca3ea"
I0305 06:39:41.883301       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="279f1ec8-3c70-4603-9229-fe1ff29ca3ea"
I0305 06:39:41.883309       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.914381       1 gateway.go:608] "First token received" requestID="16a2d216-6066-4c35-8ef3-2334f58c2123" ttft_ms=493
I0305 06:39:41.964247       1 gateway.go:562] latency, 0.0001, summary, hash(request), bc11c86a, selectedpod, 10.0.1.28:8000, ttft, 319, tpot, 25, e2e, 545, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:39:41.964265       1 gateway.go:748] "Request completed" requestID="42c6c94c-96b5-406e-a7ad-79f58cb50be3" targetPod="10.0.1.28:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:39:41.964281       1 gateway.go:764] "HandleResponseBody completed" requestID="42c6c94c-96b5-406e-a7ad-79f58cb50be3" promptTokens=7613 completionTokens=10 stream=true
I0305 06:39:41.973273       1 gateway.go:207] "Processing request" requestID="b09508ee-08c4-4a59-ab55-4428115993b0"
I0305 06:39:41.973305       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b09508ee-08c4-4a59-ab55-4428115993b0"
I0305 06:39:41.973312       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:41.982075       1 gateway.go:562] latency, 0.0001, summary, hash(request), aed63f91, selectedpod, 10.0.1.28:8000, ttft, 379, tpot, 20, e2e, 562, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:41.982094       1 gateway.go:748] "Request completed" requestID="1d0b2a43-faa5-4a31-8bbd-31b12ae1bdd7" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:41.982104       1 gateway.go:764] "HandleResponseBody completed" requestID="1d0b2a43-faa5-4a31-8bbd-31b12ae1bdd7" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:42.041613       1 gateway.go:562] latency, 0.0001, summary, hash(request), 682eb173, selectedpod, 10.0.0.131:8000, ttft, 447, tpot, 19, e2e, 620, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:42.041630       1 gateway.go:748] "Request completed" requestID="4198fa96-6bcb-4e51-94b4-caccf15ab635" targetPod="10.0.0.131:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:42.041638       1 gateway.go:764] "HandleResponseBody completed" requestID="4198fa96-6bcb-4e51-94b4-caccf15ab635" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:42.058460       1 gateway.go:207] "Processing request" requestID="d6fd2da5-efd8-40b8-8de2-21620b509000"
I0305 06:39:42.058491       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d6fd2da5-efd8-40b8-8de2-21620b509000"
I0305 06:39:42.058498       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:42.087559       1 gateway.go:562] latency, 0.0001, summary, hash(request), f3351890, selectedpod, 10.0.3.41:8000, ttft, 493, tpot, 19, e2e, 666, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:42.087574       1 gateway.go:748] "Request completed" requestID="16a2d216-6066-4c35-8ef3-2334f58c2123" targetPod="10.0.3.41:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:42.087583       1 gateway.go:764] "HandleResponseBody completed" requestID="16a2d216-6066-4c35-8ef3-2334f58c2123" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:42.143091       1 gateway.go:207] "Processing request" requestID="0e08008e-aadc-4596-b5ee-bff21e1c5a2d"
I0305 06:39:42.143128       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0e08008e-aadc-4596-b5ee-bff21e1c5a2d"
I0305 06:39:42.143139       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:42.246245       1 gateway.go:207] "Processing request" requestID="e3db7a9d-8ae8-4e7a-bca1-4e35a24b4849"
I0305 06:39:42.246277       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e3db7a9d-8ae8-4e7a-bca1-4e35a24b4849"
I0305 06:39:42.246284       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:42.323534       1 gateway.go:207] "Processing request" requestID="e5b66563-f6e3-4bb4-ba55-233fe55313f7"
I0305 06:39:42.323569       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e5b66563-f6e3-4bb4-ba55-233fe55313f7"
I0305 06:39:42.323580       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:42.381657       1 gateway.go:207] "Processing request" requestID="6d3f5084-e91a-4b92-9c5f-61fcac28654f"
I0305 06:39:42.381691       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6d3f5084-e91a-4b92-9c5f-61fcac28654f"
I0305 06:39:42.381700       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:42.449075       1 gateway.go:207] "Processing request" requestID="392793c7-f163-4d83-b944-f85323baf52e"
I0305 06:39:42.449099       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="392793c7-f163-4d83-b944-f85323baf52e"
I0305 06:39:42.449107       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:42.533693       1 gateway.go:207] "Processing request" requestID="1db61a17-ffb3-4c25-96d3-6df62cb77ebd"
I0305 06:39:42.533726       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1db61a17-ffb3-4c25-96d3-6df62cb77ebd"
I0305 06:39:42.533734       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:42.578365       1 gateway.go:207] "Processing request" requestID="a11a66a2-b690-4313-8d5a-d3594ac636cd"
I0305 06:39:42.578403       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a11a66a2-b690-4313-8d5a-d3594ac636cd"
I0305 06:39:42.578415       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:42.659229       1 gateway.go:207] "Processing request" requestID="3bdee872-e575-4133-8f17-c27c34601e3c"
I0305 06:39:42.659272       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3bdee872-e575-4133-8f17-c27c34601e3c"
I0305 06:39:42.659282       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:42.728231       1 gateway.go:207] "Processing request" requestID="f6b3fac1-a735-41f4-a761-3bd0dc9d99f4"
I0305 06:39:42.728259       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f6b3fac1-a735-41f4-a761-3bd0dc9d99f4"
I0305 06:39:42.728268       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:42.795424       1 gateway.go:207] "Processing request" requestID="9ec8366a-d351-4b84-b8ee-87a368526263"
I0305 06:39:42.795460       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9ec8366a-d351-4b84-b8ee-87a368526263"
I0305 06:39:42.795470       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:42.875384       1 gateway.go:207] "Processing request" requestID="41b4c29c-ef2c-4211-9474-1d24b95a9b9d"
I0305 06:39:42.875414       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="41b4c29c-ef2c-4211-9474-1d24b95a9b9d"
I0305 06:39:42.875421       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:42.956385       1 gateway.go:207] "Processing request" requestID="4cb9b2f1-306d-41c4-9676-deecc9c83ba0"
I0305 06:39:42.956415       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4cb9b2f1-306d-41c4-9676-deecc9c83ba0"
I0305 06:39:42.956422       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.046240       1 gateway.go:207] "Processing request" requestID="684a07de-c81c-4898-b6de-6ab0c5f2a3fe"
I0305 06:39:43.046272       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="684a07de-c81c-4898-b6de-6ab0c5f2a3fe"
I0305 06:39:43.046282       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.114310       1 gateway.go:207] "Processing request" requestID="967b99fb-8754-4f11-ae3c-2af77103ec23"
I0305 06:39:43.114340       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="967b99fb-8754-4f11-ae3c-2af77103ec23"
I0305 06:39:43.114348       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.190417       1 gateway.go:207] "Processing request" requestID="fb07a42d-6e74-42d7-8d4b-12072922b9cc"
I0305 06:39:43.190450       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fb07a42d-6e74-42d7-8d4b-12072922b9cc"
I0305 06:39:43.190459       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.273271       1 gateway.go:207] "Processing request" requestID="3a2bee87-a676-44c2-a8bb-693fdf693dd6"
I0305 06:39:43.273305       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3a2bee87-a676-44c2-a8bb-693fdf693dd6"
I0305 06:39:43.273315       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.338475       1 gateway.go:207] "Processing request" requestID="c88717e5-cd4e-4dbe-91e8-3b0e6ac4eb8e"
I0305 06:39:43.338519       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c88717e5-cd4e-4dbe-91e8-3b0e6ac4eb8e"
I0305 06:39:43.338529       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.401371       1 gateway.go:207] "Processing request" requestID="d39ebd76-0765-4aa7-8cc8-3a7c01cb256b"
I0305 06:39:43.401403       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d39ebd76-0765-4aa7-8cc8-3a7c01cb256b"
I0305 06:39:43.401411       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.474145       1 gateway.go:207] "Processing request" requestID="382c9608-7a8e-4435-91b2-8637cd90537b"
I0305 06:39:43.474167       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="382c9608-7a8e-4435-91b2-8637cd90537b"
I0305 06:39:43.474175       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.502718       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e5219438-5fda-412a-9d90-790f21203e20"
I0305 06:39:43.502955       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e5219438-5fda-412a-9d90-790f21203e20" model="qwen2-5-7b-instruct"
I0305 06:39:43.503640       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:43.503650       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:43.503653       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:43.503861       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:43.503912       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:39:43.503919       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:43.555565       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0516, numInputTokens, 7598
I0305 06:39:43.555585       1 tree.go:471] Updated node(0) last access: 141.6535 seconds
I0305 06:39:43.555591       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:43.555595       1 tree.go:471] Updated node(2) last access: 141.6535 seconds
I0305 06:39:43.555610       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:43.555614       1 tree.go:471] Updated node(53) last access: 141.6536 seconds
I0305 06:39:43.555623       1 tree.go:667] Split complete - New node(181)
I0305 06:39:43.555628       1 tree.go:668] Split complete - Child node(152)
I0305 06:39:43.555633       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:39:43.555639       1 tree.go:471] Updated node(181) last access: 141.6536 seconds
I0305 06:39:43.555645       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:43.555651       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:43.555657       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:43.555663       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:43.555667       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:43.555653172 +0000 UTC m=+141.772380037]
I0305 06:39:43.555685       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7483, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:43.555692       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:43.555766       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7483
I0305 06:39:43.555779       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:43.555791       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.555801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.555808       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.555812       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.555821       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.555830       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:43.555840       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:43.555850       1 prefix_cache_and_load.go:584] latency, Route, 0.0522
I0305 06:39:43.555865       1 gateway.go:415] latency, selectTargetPod, 0.0522, target pod, 10.0.0.34:8000
I0305 06:39:43.555882       1 gateway.go:235] latency, HandleRequestBody, 0.0532
I0305 06:39:43.572641       1 gateway.go:207] "Processing request" requestID="b4d3ccf5-5748-4426-a10c-41287f2c7c0c"
I0305 06:39:43.572672       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b4d3ccf5-5748-4426-a10c-41287f2c7c0c"
I0305 06:39:43.572680       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.577712       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e5219438-5fda-412a-9d90-790f21203e20"
I0305 06:39:43.621261       1 gateway.go:608] "First token received" requestID="e5219438-5fda-412a-9d90-790f21203e20" ttft_ms=118
I0305 06:39:43.635487       1 gateway.go:207] "Processing request" requestID="73c3e286-106c-47d2-9ba6-1f59a310e8f7"
I0305 06:39:43.635522       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="73c3e286-106c-47d2-9ba6-1f59a310e8f7"
I0305 06:39:43.635529       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.674569       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a15359bf-a151-49a2-a28b-8696289e4281"
I0305 06:39:43.674857       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a15359bf-a151-49a2-a28b-8696289e4281" model="qwen2-5-7b-instruct"
I0305 06:39:43.674953       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:43.674962       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:43.674973       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:43.675119       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:43.675159       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:43.675167       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:43.692061       1 gateway.go:329] "-- In RequestBody processing ..." requestID="90528e65-dd41-4614-ac37-d145006e622b"
I0305 06:39:43.692292       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="90528e65-dd41-4614-ac37-d145006e622b" model="qwen2-5-7b-instruct"
I0305 06:39:43.710058       1 gateway.go:329] "-- In RequestBody processing ..." requestID="501207cb-301b-4446-8ac4-d06ced473dea"
I0305 06:39:43.710291       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="501207cb-301b-4446-8ac4-d06ced473dea" model="qwen2-5-7b-instruct"
I0305 06:39:43.728040       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0529, numInputTokens, 7599
I0305 06:39:43.728058       1 tree.go:471] Updated node(0) last access: 141.8260 seconds
I0305 06:39:43.728064       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:43.728067       1 tree.go:471] Updated node(2) last access: 141.8260 seconds
I0305 06:39:43.728081       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:43.728085       1 tree.go:471] Updated node(23) last access: 141.8260 seconds
I0305 06:39:43.728089       1 tree.go:490] Partial tokens match child node(87). Continue to go deeper in the radix tree
I0305 06:39:43.728092       1 tree.go:471] Updated node(87) last access: 141.8260 seconds
I0305 06:39:43.728095       1 tree.go:490] Partial tokens match child node(113). Continue to go deeper in the radix tree
I0305 06:39:43.728098       1 tree.go:471] Updated node(113) last access: 141.8260 seconds
I0305 06:39:43.728101       1 tree.go:490] Partial tokens match child node(106). Continue to go deeper in the radix tree
I0305 06:39:43.728104       1 tree.go:471] Updated node(106) last access: 141.8260 seconds
I0305 06:39:43.728110       1 tree.go:484] Entire input tokens match the child node(107)
I0305 06:39:43.728113       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:43.728120       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:43.728127       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:43.728132       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:43.728115361 +0000 UTC m=+141.944842225 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:32.920065209 +0000 UTC m=+131.136792074]
I0305 06:39:43.728150       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:43.728160       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:43.728204       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7599
I0305 06:39:43.728213       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:43.728222       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.728228       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.728234       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.728239       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.728244       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.728250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.728252       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.728260       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:43.728268       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:43.728278       1 prefix_cache_and_load.go:584] latency, Route, 0.0533
I0305 06:39:43.728295       1 gateway.go:415] latency, selectTargetPod, 0.0533, target pod, 10.0.3.42:8000
I0305 06:39:43.728308       1 gateway.go:235] latency, HandleRequestBody, 0.0537
I0305 06:39:43.728335       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0360
I0305 06:39:43.728340       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:43.728343       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:43.728420       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:43.728454       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:43.728459       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:43.744957       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a15359bf-a151-49a2-a28b-8696289e4281"
I0305 06:39:43.774139       1 gateway.go:207] "Processing request" requestID="4b5d071c-3441-4b27-b73f-520bb9684e66"
I0305 06:39:43.774165       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4b5d071c-3441-4b27-b73f-520bb9684e66"
I0305 06:39:43.774178       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.778719       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0503, numInputTokens, 7602
I0305 06:39:43.778742       1 tree.go:471] Updated node(0) last access: 141.8767 seconds
I0305 06:39:43.778750       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:43.778756       1 tree.go:471] Updated node(2) last access: 141.8767 seconds
I0305 06:39:43.778774       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:43.778779       1 tree.go:471] Updated node(51) last access: 141.8767 seconds
I0305 06:39:43.778790       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 06:39:43.778798       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:43.778811       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:43.778818       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:43.778823       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:43.778806168 +0000 UTC m=+141.995533032]
I0305 06:39:43.778844       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 06:39:43.778854       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 06:39:43.778914       1 gateway.go:608] "First token received" requestID="a15359bf-a151-49a2-a28b-8696289e4281" ttft_ms=104
I0305 06:39:43.778931       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:43.778943       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:43.778951       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.778978       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.778982       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.778987       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.778994       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:43.779003       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:43.779017       1 prefix_cache_and_load.go:584] latency, Route, 0.0866
I0305 06:39:43.779036       1 gateway.go:415] latency, selectTargetPod, 0.0867, target pod, 10.0.1.28:8000
I0305 06:39:43.779047       1 gateway.go:235] latency, HandleRequestBody, 0.0870
I0305 06:39:43.779076       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0687
I0305 06:39:43.779079       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:43.779082       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:43.779216       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:43.779295       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:43.779299       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:43.794030       1 gateway.go:562] latency, 0.0000, summary, hash(request), 87ae73f2, selectedpod, 10.0.0.34:8000, ttft, 118, tpot, 19, e2e, 291, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:43.794050       1 gateway.go:748] "Request completed" requestID="e5219438-5fda-412a-9d90-790f21203e20" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:43.794064       1 gateway.go:764] "HandleResponseBody completed" requestID="e5219438-5fda-412a-9d90-790f21203e20" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:43.798274       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="90528e65-dd41-4614-ac37-d145006e622b"
I0305 06:39:43.828660       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0494, numInputTokens, 7599
I0305 06:39:43.828679       1 tree.go:471] Updated node(0) last access: 141.9266 seconds
I0305 06:39:43.828685       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:43.828689       1 tree.go:471] Updated node(2) last access: 141.9266 seconds
I0305 06:39:43.828703       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:43.828708       1 tree.go:471] Updated node(31) last access: 141.9266 seconds
I0305 06:39:43.828712       1 tree.go:484] Entire input tokens match the child node(116)
I0305 06:39:43.828716       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:43.828722       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:43.828729       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:43.828734       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:43.828718365 +0000 UTC m=+142.045445236 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:33.479190191 +0000 UTC m=+131.695917065]
I0305 06:39:43.828751       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:43.828759       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:43.828805       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7599
I0305 06:39:43.828814       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:43.828821       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.828827       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.828832       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.828836       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:43.828845       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:43.828855       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:43.828866       1 prefix_cache_and_load.go:584] latency, Route, 0.1185
I0305 06:39:43.828879       1 gateway.go:415] latency, selectTargetPod, 0.1185, target pod, 10.0.1.28:8000
I0305 06:39:43.828888       1 gateway.go:235] latency, HandleRequestBody, 0.1188
I0305 06:39:43.842714       1 gateway.go:608] "First token received" requestID="90528e65-dd41-4614-ac37-d145006e622b" ttft_ms=150
I0305 06:39:43.846850       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="501207cb-301b-4446-8ac4-d06ced473dea"
I0305 06:39:43.859415       1 gateway.go:207] "Processing request" requestID="d5db65fd-9523-424a-92ae-ccfcd4b8ad65"
I0305 06:39:43.859445       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d5db65fd-9523-424a-92ae-ccfcd4b8ad65"
I0305 06:39:43.859452       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.891503       1 gateway.go:608] "First token received" requestID="501207cb-301b-4446-8ac4-d06ced473dea" ttft_ms=181
I0305 06:39:43.941493       1 gateway.go:207] "Processing request" requestID="21fd6c04-7d18-4b64-9d6f-152b3f3ca390"
I0305 06:39:43.941538       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="21fd6c04-7d18-4b64-9d6f-152b3f3ca390"
I0305 06:39:43.941551       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:43.950375       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2e36eac4, selectedpod, 10.0.3.42:8000, ttft, 104, tpot, 19, e2e, 275, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:43.950395       1 gateway.go:748] "Request completed" requestID="a15359bf-a151-49a2-a28b-8696289e4281" targetPod="10.0.3.42:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:43.950406       1 gateway.go:764] "HandleResponseBody completed" requestID="a15359bf-a151-49a2-a28b-8696289e4281" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:43.999951       1 gateway.go:207] "Processing request" requestID="e024b38f-d59c-45b8-a817-41e9ea83653f"
I0305 06:39:43.999983       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e024b38f-d59c-45b8-a817-41e9ea83653f"
I0305 06:39:43.999992       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:44.054111       1 gateway.go:562] latency, 0.0000, summary, hash(request), 70adb513, selectedpod, 10.0.1.28:8000, ttft, 150, tpot, 23, e2e, 361, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:44.054128       1 gateway.go:748] "Request completed" requestID="90528e65-dd41-4614-ac37-d145006e622b" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:44.054138       1 gateway.go:764] "HandleResponseBody completed" requestID="90528e65-dd41-4614-ac37-d145006e622b" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:44.067111       1 gateway.go:207] "Processing request" requestID="fc9ce755-3d89-4424-81a1-d17ab476ed38"
I0305 06:39:44.067129       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fc9ce755-3d89-4424-81a1-d17ab476ed38"
I0305 06:39:44.067137       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:44.073550       1 gateway.go:562] latency, 0.0000, summary, hash(request), 571c1b01, selectedpod, 10.0.1.28:8000, ttft, 181, tpot, 20, e2e, 363, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:44.073564       1 gateway.go:748] "Request completed" requestID="501207cb-301b-4446-8ac4-d06ced473dea" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:44.073572       1 gateway.go:764] "HandleResponseBody completed" requestID="501207cb-301b-4446-8ac4-d06ced473dea" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:44.129365       1 gateway.go:207] "Processing request" requestID="08de6885-d1f0-4781-a6e8-173a6d1618bb"
I0305 06:39:44.129382       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="08de6885-d1f0-4781-a6e8-173a6d1618bb"
I0305 06:39:44.129391       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:44.192363       1 gateway.go:207] "Processing request" requestID="fb4744f6-a73c-4f38-af2d-849bc0d40bb0"
I0305 06:39:44.192392       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fb4744f6-a73c-4f38-af2d-849bc0d40bb0"
I0305 06:39:44.192400       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:44.255475       1 gateway.go:207] "Processing request" requestID="fba48fe9-efa6-4d84-83d8-57116a1a8fbe"
I0305 06:39:44.255508       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fba48fe9-efa6-4d84-83d8-57116a1a8fbe"
I0305 06:39:44.255527       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:44.341121       1 gateway.go:207] "Processing request" requestID="96dedcd8-1570-4458-bce3-a8466dd8922b"
I0305 06:39:44.341153       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="96dedcd8-1570-4458-bce3-a8466dd8922b"
I0305 06:39:44.341161       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:44.412853       1 gateway.go:207] "Processing request" requestID="97654616-5091-4c75-96c9-a5e89a6745b4"
I0305 06:39:44.412896       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="97654616-5091-4c75-96c9-a5e89a6745b4"
I0305 06:39:44.412905       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:45.129344       1 gateway.go:207] "Processing request" requestID="cddfa541-9df2-4440-a549-1e6a660fbda1"
I0305 06:39:45.129380       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cddfa541-9df2-4440-a549-1e6a660fbda1"
I0305 06:39:45.129387       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:45.130273       1 gateway.go:207] "Processing request" requestID="eeca339a-1d81-4b7d-89b0-848e3770d908"
I0305 06:39:45.130305       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="eeca339a-1d81-4b7d-89b0-848e3770d908"
I0305 06:39:45.130314       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:45.131211       1 gateway.go:207] "Processing request" requestID="2addfc46-7d34-4415-8911-035d978b8dbd"
I0305 06:39:45.131237       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2addfc46-7d34-4415-8911-035d978b8dbd"
I0305 06:39:45.131245       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:45.132195       1 gateway.go:207] "Processing request" requestID="3de88411-4f4f-48f7-943a-6e02c48c4fb5"
I0305 06:39:45.132217       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3de88411-4f4f-48f7-943a-6e02c48c4fb5"
I0305 06:39:45.132224       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:45.136786       1 gateway.go:207] "Processing request" requestID="9b4c487e-832e-4d14-a2c7-794bac878026"
I0305 06:39:45.136807       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9b4c487e-832e-4d14-a2c7-794bac878026"
I0305 06:39:45.136815       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:45.136853       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7a12eee4-7a7f-4fb8-bdc8-c74a28549a10"
I0305 06:39:45.137079       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7a12eee4-7a7f-4fb8-bdc8-c74a28549a10" model="qwen2-5-7b-instruct"
I0305 06:39:45.137196       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:45.137205       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.137208       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.137369       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.137407       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:45.137415       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.140295       1 gateway.go:329] "-- In RequestBody processing ..." requestID="279f1ec8-3c70-4603-9229-fe1ff29ca3ea"
I0305 06:39:45.140506       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="279f1ec8-3c70-4603-9229-fe1ff29ca3ea" model="qwen2-5-7b-instruct"
I0305 06:39:45.141617       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b09508ee-08c4-4a59-ab55-4428115993b0"
I0305 06:39:45.141939       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b09508ee-08c4-4a59-ab55-4428115993b0" model="qwen2-5-7b-instruct"
I0305 06:39:45.142163       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6469cc36-bb90-4578-87bc-3f3de4cefe4d"
I0305 06:39:45.142474       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e5b66563-f6e3-4bb4-ba55-233fe55313f7"
I0305 06:39:45.142557       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6469cc36-bb90-4578-87bc-3f3de4cefe4d" model="qwen2-5-7b-instruct"
I0305 06:39:45.142675       1 gateway.go:329] "-- In RequestBody processing ..." requestID="86071972-f1be-46de-94f4-70cee6472c60"
I0305 06:39:45.142737       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e3db7a9d-8ae8-4e7a-bca1-4e35a24b4849"
I0305 06:39:45.142865       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e5b66563-f6e3-4bb4-ba55-233fe55313f7" model="qwen2-5-7b-instruct"
I0305 06:39:45.143045       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="86071972-f1be-46de-94f4-70cee6472c60" model="qwen2-5-7b-instruct"
I0305 06:39:45.143703       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e3db7a9d-8ae8-4e7a-bca1-4e35a24b4849" model="qwen2-5-7b-instruct"
I0305 06:39:45.143704       1 gateway.go:329] "-- In RequestBody processing ..." requestID="392793c7-f163-4d83-b944-f85323baf52e"
I0305 06:39:45.143742       1 gateway.go:329] "-- In RequestBody processing ..." requestID="23ab128d-653e-491f-ba77-a8f02a7470f4"
I0305 06:39:45.144619       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="23ab128d-653e-491f-ba77-a8f02a7470f4" model="qwen2-5-7b-instruct"
I0305 06:39:45.144639       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="392793c7-f163-4d83-b944-f85323baf52e" model="qwen2-5-7b-instruct"
I0305 06:39:45.144642       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0e08008e-aadc-4596-b5ee-bff21e1c5a2d"
I0305 06:39:45.144936       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0e08008e-aadc-4596-b5ee-bff21e1c5a2d" model="qwen2-5-7b-instruct"
I0305 06:39:45.145280       1 gateway.go:329] "-- In RequestBody processing ..." requestID="63c84fe8-d1cb-4396-aed0-17cae56ba87c"
I0305 06:39:45.145589       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="63c84fe8-d1cb-4396-aed0-17cae56ba87c" model="qwen2-5-7b-instruct"
I0305 06:39:45.145978       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d6fd2da5-efd8-40b8-8de2-21620b509000"
I0305 06:39:45.146039       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6d3f5084-e91a-4b92-9c5f-61fcac28654f"
I0305 06:39:45.146197       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d6fd2da5-efd8-40b8-8de2-21620b509000" model="qwen2-5-7b-instruct"
I0305 06:39:45.146288       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6d3f5084-e91a-4b92-9c5f-61fcac28654f" model="qwen2-5-7b-instruct"
I0305 06:39:45.147373       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1db61a17-ffb3-4c25-96d3-6df62cb77ebd"
I0305 06:39:45.147592       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1db61a17-ffb3-4c25-96d3-6df62cb77ebd" model="qwen2-5-7b-instruct"
I0305 06:39:45.147709       1 gateway.go:329] "-- In RequestBody processing ..." requestID="396d0880-e9dd-4623-82a7-1f83393dd874"
I0305 06:39:45.147906       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="396d0880-e9dd-4623-82a7-1f83393dd874" model="qwen2-5-7b-instruct"
I0305 06:39:45.148488       1 gateway.go:329] "-- In RequestBody processing ..." requestID="57c6018e-41fc-4aab-b0ae-d233723e01b4"
I0305 06:39:45.148689       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="57c6018e-41fc-4aab-b0ae-d233723e01b4" model="qwen2-5-7b-instruct"
I0305 06:39:45.174691       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a11a66a2-b690-4313-8d5a-d3594ac636cd"
I0305 06:39:45.174891       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a11a66a2-b690-4313-8d5a-d3594ac636cd" model="qwen2-5-7b-instruct"
I0305 06:39:45.192763       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0553, numInputTokens, 7600
I0305 06:39:45.192784       1 tree.go:471] Updated node(0) last access: 143.2907 seconds
I0305 06:39:45.192791       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:45.192796       1 tree.go:471] Updated node(2) last access: 143.2907 seconds
I0305 06:39:45.192809       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:45.192813       1 tree.go:471] Updated node(45) last access: 143.2908 seconds
I0305 06:39:45.192817       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:39:45.192821       1 tree.go:471] Updated node(175) last access: 143.2908 seconds
I0305 06:39:45.192831       1 tree.go:667] Split complete - New node(184)
I0305 06:39:45.192836       1 tree.go:668] Split complete - Child node(176)
I0305 06:39:45.192833       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f6b3fac1-a735-41f4-a761-3bd0dc9d99f4"
I0305 06:39:45.192841       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:39:45.192845       1 tree.go:471] Updated node(184) last access: 143.2908 seconds
I0305 06:39:45.192852       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:45.192855       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:45.192861       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:45.192867       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:45.192873       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:45.192856971 +0000 UTC m=+143.409583835]
I0305 06:39:45.192893       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:45.192901       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:45.192950       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7484
I0305 06:39:45.192959       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:45.192976       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.192982       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.192988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.192993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.192997       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.193004       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.193013       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:45.193023       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:45.193033       1 prefix_cache_and_load.go:584] latency, Route, 0.0558
I0305 06:39:45.193051       1 gateway.go:415] latency, selectTargetPod, 0.0559, target pod, 10.0.0.34:8000
I0305 06:39:45.193064       1 gateway.go:235] latency, HandleRequestBody, 0.0562
I0305 06:39:45.193093       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0525
I0305 06:39:45.193097       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.193101       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.193104       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f6b3fac1-a735-41f4-a761-3bd0dc9d99f4" model="qwen2-5-7b-instruct"
I0305 06:39:45.193182       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.193219       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:45.193223       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.200449       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3bdee872-e575-4133-8f17-c27c34601e3c"
I0305 06:39:45.200684       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3bdee872-e575-4133-8f17-c27c34601e3c" model="qwen2-5-7b-instruct"
I0305 06:39:45.212411       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7a12eee4-7a7f-4fb8-bdc8-c74a28549a10"
I0305 06:39:45.219000       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9ec8366a-d351-4b84-b8ee-87a368526263"
I0305 06:39:45.219219       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9ec8366a-d351-4b84-b8ee-87a368526263" model="qwen2-5-7b-instruct"
I0305 06:39:45.232504       1 gateway.go:329] "-- In RequestBody processing ..." requestID="41b4c29c-ef2c-4211-9474-1d24b95a9b9d"
I0305 06:39:45.232857       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="41b4c29c-ef2c-4211-9474-1d24b95a9b9d" model="qwen2-5-7b-instruct"
I0305 06:39:45.245570       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0523, numInputTokens, 7600
I0305 06:39:45.245591       1 tree.go:471] Updated node(0) last access: 143.3435 seconds
I0305 06:39:45.245598       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:45.245600       1 tree.go:471] Updated node(2) last access: 143.3435 seconds
I0305 06:39:45.245613       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:45.245616       1 tree.go:471] Updated node(31) last access: 143.3436 seconds
I0305 06:39:45.245628       1 tree.go:667] Split complete - New node(186)
I0305 06:39:45.245631       1 tree.go:668] Split complete - Child node(180)
I0305 06:39:45.245636       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 06:39:45.245641       1 tree.go:471] Updated node(186) last access: 143.3436 seconds
I0305 06:39:45.245646       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 06:39:45.245652       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:45.245660       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:45.245667       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:45.245671       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:45.245655001 +0000 UTC m=+143.462381866]
I0305 06:39:45.245686       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7489, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 06:39:45.245692       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 06:39:45.245740       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7489
I0305 06:39:45.245749       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:45.245756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.245761       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.245766       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.245771       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.245776       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.245785       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:45.245795       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:45.245804       1 prefix_cache_and_load.go:584] latency, Route, 0.1052
I0305 06:39:45.245820       1 gateway.go:415] latency, selectTargetPod, 0.1052, target pod, 10.0.1.28:8000
I0305 06:39:45.245833       1 gateway.go:235] latency, HandleRequestBody, 0.1055
I0305 06:39:45.245861       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1037
I0305 06:39:45.245866       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.245869       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.245977       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.246017       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:45.246022       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.248129       1 gateway.go:608] "First token received" requestID="7a12eee4-7a7f-4fb8-bdc8-c74a28549a10" ttft_ms=111
I0305 06:39:45.258945       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4cb9b2f1-306d-41c4-9676-deecc9c83ba0"
I0305 06:39:45.259165       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4cb9b2f1-306d-41c4-9676-deecc9c83ba0" model="qwen2-5-7b-instruct"
I0305 06:39:45.265003       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="279f1ec8-3c70-4603-9229-fe1ff29ca3ea"
I0305 06:39:45.269145       1 gateway.go:329] "-- In RequestBody processing ..." requestID="684a07de-c81c-4898-b6de-6ab0c5f2a3fe"
I0305 06:39:45.269353       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="684a07de-c81c-4898-b6de-6ab0c5f2a3fe" model="qwen2-5-7b-instruct"
I0305 06:39:45.287036       1 gateway.go:329] "-- In RequestBody processing ..." requestID="967b99fb-8754-4f11-ae3c-2af77103ec23"
I0305 06:39:45.287222       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="967b99fb-8754-4f11-ae3c-2af77103ec23" model="qwen2-5-7b-instruct"
I0305 06:39:45.301025       1 gateway.go:608] "First token received" requestID="279f1ec8-3c70-4603-9229-fe1ff29ca3ea" ttft_ms=160
I0305 06:39:45.315910       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fb07a42d-6e74-42d7-8d4b-12072922b9cc"
I0305 06:39:45.316121       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fb07a42d-6e74-42d7-8d4b-12072922b9cc" model="qwen2-5-7b-instruct"
I0305 06:39:45.323113       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0771, numInputTokens, 7600
I0305 06:39:45.323131       1 tree.go:471] Updated node(0) last access: 143.4211 seconds
I0305 06:39:45.323138       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:45.323142       1 tree.go:471] Updated node(2) last access: 143.4211 seconds
I0305 06:39:45.323155       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:45.323160       1 tree.go:471] Updated node(8) last access: 143.4211 seconds
I0305 06:39:45.323163       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 06:39:45.323166       1 tree.go:471] Updated node(16) last access: 143.4211 seconds
I0305 06:39:45.323168       1 tree.go:490] Partial tokens match child node(34). Continue to go deeper in the radix tree
I0305 06:39:45.323171       1 tree.go:471] Updated node(34) last access: 143.4211 seconds
I0305 06:39:45.323175       1 tree.go:484] Entire input tokens match the child node(121)
I0305 06:39:45.323179       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:45.323186       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:45.323192       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:45.323198       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:45.323181616 +0000 UTC m=+143.539908481 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:33.797027825 +0000 UTC m=+132.013754690]
I0305 06:39:45.323216       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:45.323224       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:45.323268       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7600
I0305 06:39:45.323277       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:45.323285       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.323290       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.323294       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.323298       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.323301       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.323305       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.323313       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:45.323322       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:45.323332       1 prefix_cache_and_load.go:584] latency, Route, 0.1812
I0305 06:39:45.323350       1 gateway.go:415] latency, selectTargetPod, 0.1812, target pod, 10.0.1.53:8000
I0305 06:39:45.323361       1 gateway.go:235] latency, HandleRequestBody, 0.1818
I0305 06:39:45.323386       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1807
I0305 06:39:45.323397       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.323401       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.323556       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.323616       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:45.323624       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.325883       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3a2bee87-a676-44c2-a8bb-693fdf693dd6"
I0305 06:39:45.326091       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3a2bee87-a676-44c2-a8bb-693fdf693dd6" model="qwen2-5-7b-instruct"
I0305 06:39:45.343006       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b09508ee-08c4-4a59-ab55-4428115993b0"
I0305 06:39:45.344391       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c88717e5-cd4e-4dbe-91e8-3b0e6ac4eb8e"
I0305 06:39:45.344617       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c88717e5-cd4e-4dbe-91e8-3b0e6ac4eb8e" model="qwen2-5-7b-instruct"
I0305 06:39:45.362667       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d39ebd76-0765-4aa7-8cc8-3a7c01cb256b"
I0305 06:39:45.362894       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d39ebd76-0765-4aa7-8cc8-3a7c01cb256b" model="qwen2-5-7b-instruct"
I0305 06:39:45.375398       1 gateway.go:608] "First token received" requestID="b09508ee-08c4-4a59-ab55-4428115993b0" ttft_ms=233
I0305 06:39:45.379301       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0557, numInputTokens, 7599
I0305 06:39:45.379327       1 tree.go:471] Updated node(0) last access: 143.4773 seconds
I0305 06:39:45.379333       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:45.379337       1 tree.go:471] Updated node(2) last access: 143.4773 seconds
I0305 06:39:45.379350       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:45.379354       1 tree.go:471] Updated node(4) last access: 143.4773 seconds
I0305 06:39:45.379358       1 tree.go:490] Partial tokens match child node(117). Continue to go deeper in the radix tree
I0305 06:39:45.379360       1 tree.go:471] Updated node(117) last access: 143.4773 seconds
I0305 06:39:45.379367       1 tree.go:484] Entire input tokens match the child node(118)
I0305 06:39:45.379370       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:45.379378       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:45.379384       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:45.379392       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:45.379373747 +0000 UTC m=+143.596100612 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:33.620553285 +0000 UTC m=+131.837280150]
I0305 06:39:45.379410       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:45.379419       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:45.379486       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7599
I0305 06:39:45.379523       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:45.379574       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.379582       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.379588       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.379594       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.379600       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.379608       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:45.379617       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:45.379630       1 prefix_cache_and_load.go:584] latency, Route, 0.2369
I0305 06:39:45.379645       1 gateway.go:415] latency, selectTargetPod, 0.2369, target pod, 10.0.1.47:8000
I0305 06:39:45.379662       1 gateway.go:235] latency, HandleRequestBody, 0.2375
I0305 06:39:45.379699       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2360
I0305 06:39:45.379705       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.379710       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.380004       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.380118       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:39:45.380141       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.380371       1 gateway.go:329] "-- In RequestBody processing ..." requestID="382c9608-7a8e-4435-91b2-8637cd90537b"
I0305 06:39:45.380615       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="382c9608-7a8e-4435-91b2-8637cd90537b" model="qwen2-5-7b-instruct"
I0305 06:39:45.399032       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b4d3ccf5-5748-4426-a10c-41287f2c7c0c"
I0305 06:39:45.399180       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6469cc36-bb90-4578-87bc-3f3de4cefe4d"
I0305 06:39:45.399261       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b4d3ccf5-5748-4426-a10c-41287f2c7c0c" model="qwen2-5-7b-instruct"
I0305 06:39:45.402569       1 gateway.go:329] "-- In RequestBody processing ..." requestID="73c3e286-106c-47d2-9ba6-1f59a310e8f7"
I0305 06:39:45.402789       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="73c3e286-106c-47d2-9ba6-1f59a310e8f7" model="qwen2-5-7b-instruct"
I0305 06:39:45.421046       1 gateway.go:562] latency, 0.0001, summary, hash(request), bbf7e859, selectedpod, 10.0.0.34:8000, ttft, 111, tpot, 19, e2e, 284, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:45.421056       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4b5d071c-3441-4b27-b73f-520bb9684e66"
I0305 06:39:45.421066       1 gateway.go:748] "Request completed" requestID="7a12eee4-7a7f-4fb8-bdc8-c74a28549a10" targetPod="10.0.0.34:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:45.421079       1 gateway.go:764] "HandleResponseBody completed" requestID="7a12eee4-7a7f-4fb8-bdc8-c74a28549a10" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:45.421299       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4b5d071c-3441-4b27-b73f-520bb9684e66" model="qwen2-5-7b-instruct"
I0305 06:39:45.428899       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 7601
I0305 06:39:45.428916       1 tree.go:471] Updated node(0) last access: 143.5269 seconds
I0305 06:39:45.428922       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:45.428926       1 tree.go:471] Updated node(2) last access: 143.5269 seconds
I0305 06:39:45.428939       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:45.428945       1 tree.go:471] Updated node(26) last access: 143.5269 seconds
I0305 06:39:45.428954       1 tree.go:667] Split complete - New node(188)
I0305 06:39:45.428957       1 tree.go:668] Split complete - Child node(164)
I0305 06:39:45.428962       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 06:39:45.428965       1 tree.go:471] Updated node(188) last access: 143.5269 seconds
I0305 06:39:45.428981       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:39:45.428985       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:45.428990       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:45.428995       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:45.429000       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:45.428986632 +0000 UTC m=+143.645713496]
I0305 06:39:45.429012       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7482, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:39:45.429018       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:39:45.429059       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7482
I0305 06:39:45.429069       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:45.429078       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.429083       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.429088       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.429093       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.429097       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.429105       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:45.429115       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:45.429127       1 prefix_cache_and_load.go:584] latency, Route, 0.2855
I0305 06:39:45.429145       1 gateway.go:415] latency, selectTargetPod, 0.2855, target pod, 10.0.3.41:8000
I0305 06:39:45.429155       1 gateway.go:235] latency, HandleRequestBody, 0.2867
I0305 06:39:45.429176       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2853
I0305 06:39:45.429181       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.429184       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.429257       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.429294       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:45.429299       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.431369       1 gateway.go:608] "First token received" requestID="6469cc36-bb90-4578-87bc-3f3de4cefe4d" ttft_ms=289
I0305 06:39:45.445754       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e5b66563-f6e3-4bb4-ba55-233fe55313f7"
I0305 06:39:45.460898       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d5db65fd-9523-424a-92ae-ccfcd4b8ad65"
I0305 06:39:45.461168       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d5db65fd-9523-424a-92ae-ccfcd4b8ad65" model="qwen2-5-7b-instruct"
I0305 06:39:45.473739       1 gateway.go:562] latency, 0.0000, summary, hash(request), 09cfa368, selectedpod, 10.0.1.28:8000, ttft, 160, tpot, 19, e2e, 333, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:45.473757       1 gateway.go:748] "Request completed" requestID="279f1ec8-3c70-4603-9229-fe1ff29ca3ea" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:45.473767       1 gateway.go:764] "HandleResponseBody completed" requestID="279f1ec8-3c70-4603-9229-fe1ff29ca3ea" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:45.486348       1 gateway.go:329] "-- In RequestBody processing ..." requestID="21fd6c04-7d18-4b64-9d6f-152b3f3ca390"
I0305 06:39:45.486608       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="21fd6c04-7d18-4b64-9d6f-152b3f3ca390" model="qwen2-5-7b-instruct"
I0305 06:39:45.489307       1 gateway.go:608] "First token received" requestID="e5b66563-f6e3-4bb4-ba55-233fe55313f7" ttft_ms=346
I0305 06:39:45.501581       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e024b38f-d59c-45b8-a817-41e9ea83653f"
I0305 06:39:45.501853       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e024b38f-d59c-45b8-a817-41e9ea83653f" model="qwen2-5-7b-instruct"
I0305 06:39:45.515654       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fc9ce755-3d89-4424-81a1-d17ab476ed38"
I0305 06:39:45.515878       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fc9ce755-3d89-4424-81a1-d17ab476ed38" model="qwen2-5-7b-instruct"
I0305 06:39:45.516073       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0868, numInputTokens, 7601
I0305 06:39:45.516091       1 tree.go:471] Updated node(0) last access: 143.6140 seconds
I0305 06:39:45.516097       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:45.516102       1 tree.go:471] Updated node(2) last access: 143.6140 seconds
I0305 06:39:45.516114       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:45.516117       1 tree.go:471] Updated node(23) last access: 143.6141 seconds
I0305 06:39:45.516122       1 tree.go:490] Partial tokens match child node(87). Continue to go deeper in the radix tree
I0305 06:39:45.516127       1 tree.go:471] Updated node(87) last access: 143.6141 seconds
I0305 06:39:45.516132       1 tree.go:490] Partial tokens match child node(113). Continue to go deeper in the radix tree
I0305 06:39:45.516137       1 tree.go:471] Updated node(113) last access: 143.6141 seconds
I0305 06:39:45.516143       1 tree.go:484] Entire input tokens match the child node(114)
I0305 06:39:45.516149       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:45.516158       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:45.516167       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:45.516175       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:45.51615195 +0000 UTC m=+143.732878826 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:33.330244767 +0000 UTC m=+131.546971631]
I0305 06:39:45.516195       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:45.516203       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:45.516258       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7601
I0305 06:39:45.516271       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:45.516284       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.516292       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.516298       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.516306       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.516310       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.516315       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.516322       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:45.516332       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:45.516342       1 prefix_cache_and_load.go:584] latency, Route, 0.3724
I0305 06:39:45.516362       1 gateway.go:415] latency, selectTargetPod, 0.3725, target pod, 10.0.3.42:8000
I0305 06:39:45.516374       1 gateway.go:235] latency, HandleRequestBody, 0.3737
I0305 06:39:45.516403       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3718
I0305 06:39:45.516408       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.516412       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.516508       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.516560       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:45.516566       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.532885       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="86071972-f1be-46de-94f4-70cee6472c60"
I0305 06:39:45.538532       1 gateway.go:329] "-- In RequestBody processing ..." requestID="08de6885-d1f0-4781-a6e8-173a6d1618bb"
I0305 06:39:45.538739       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="08de6885-d1f0-4781-a6e8-173a6d1618bb" model="qwen2-5-7b-instruct"
I0305 06:39:45.578626       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fba48fe9-efa6-4d84-83d8-57116a1a8fbe"
I0305 06:39:45.578627       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fb4744f6-a73c-4f38-af2d-849bc0d40bb0"
I0305 06:39:45.578736       1 gateway.go:608] "First token received" requestID="86071972-f1be-46de-94f4-70cee6472c60" ttft_ms=435
I0305 06:39:45.578757       1 gateway.go:562] latency, 0.0000, summary, hash(request), 96efbd11, selectedpod, 10.0.1.53:8000, ttft, 233, tpot, 22, e2e, 437, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:45.578780       1 gateway.go:748] "Request completed" requestID="b09508ee-08c4-4a59-ab55-4428115993b0" targetPod="10.0.1.53:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:45.578795       1 gateway.go:764] "HandleResponseBody completed" requestID="b09508ee-08c4-4a59-ab55-4428115993b0" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:45.578865       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fba48fe9-efa6-4d84-83d8-57116a1a8fbe" model="qwen2-5-7b-instruct"
I0305 06:39:45.578949       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fb4744f6-a73c-4f38-af2d-849bc0d40bb0" model="qwen2-5-7b-instruct"
I0305 06:39:45.586610       1 gateway.go:329] "-- In RequestBody processing ..." requestID="96dedcd8-1570-4458-bce3-a8466dd8922b"
I0305 06:39:45.586817       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="96dedcd8-1570-4458-bce3-a8466dd8922b" model="qwen2-5-7b-instruct"
I0305 06:39:45.602908       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0863, numInputTokens, 7601
I0305 06:39:45.602929       1 tree.go:471] Updated node(0) last access: 143.7009 seconds
I0305 06:39:45.602936       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:45.602942       1 tree.go:471] Updated node(2) last access: 143.7009 seconds
I0305 06:39:45.602955       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:45.602959       1 tree.go:471] Updated node(12) last access: 143.7009 seconds
I0305 06:39:45.602980       1 tree.go:667] Split complete - New node(190)
I0305 06:39:45.602985       1 tree.go:668] Split complete - Child node(7)
I0305 06:39:45.602991       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 06:39:45.602996       1 tree.go:471] Updated node(190) last access: 143.7009 seconds
I0305 06:39:45.603002       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:45.603006       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:45.603012       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:45.603019       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:45.603024       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:45.603008103 +0000 UTC m=+143.819734969]
I0305 06:39:45.603038       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:45.603044       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:45.603091       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7481
I0305 06:39:45.603100       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:45.603107       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.603114       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.603120       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.603123       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.603127       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.603136       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:45.603148       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:45.603160       1 prefix_cache_and_load.go:584] latency, Route, 0.4586
I0305 06:39:45.603176       1 gateway.go:415] latency, selectTargetPod, 0.4586, target pod, 10.0.0.39:8000
I0305 06:39:45.603188       1 gateway.go:235] latency, HandleRequestBody, 0.4605
I0305 06:39:45.603219       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4585
I0305 06:39:45.603225       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.603229       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.603309       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.603345       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:45.603350       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.604432       1 gateway.go:562] latency, 0.0000, summary, hash(request), f7af61af, selectedpod, 10.0.1.47:8000, ttft, 289, tpot, 19, e2e, 462, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:45.604448       1 gateway.go:748] "Request completed" requestID="6469cc36-bb90-4578-87bc-3f3de4cefe4d" targetPod="10.0.1.47:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:45.604458       1 gateway.go:764] "HandleResponseBody completed" requestID="6469cc36-bb90-4578-87bc-3f3de4cefe4d" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:45.617793       1 gateway.go:329] "-- In RequestBody processing ..." requestID="97654616-5091-4c75-96c9-a5e89a6745b4"
I0305 06:39:45.618067       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="97654616-5091-4c75-96c9-a5e89a6745b4" model="qwen2-5-7b-instruct"
I0305 06:39:45.623418       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e3db7a9d-8ae8-4e7a-bca1-4e35a24b4849"
I0305 06:39:45.650069       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cddfa541-9df2-4440-a549-1e6a660fbda1"
I0305 06:39:45.650295       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cddfa541-9df2-4440-a549-1e6a660fbda1" model="qwen2-5-7b-instruct"
I0305 06:39:45.662659       1 gateway.go:562] latency, 0.0001, summary, hash(request), 3a3e8db2, selectedpod, 10.0.3.41:8000, ttft, 346, tpot, 19, e2e, 520, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:45.662680       1 gateway.go:748] "Request completed" requestID="e5b66563-f6e3-4bb4-ba55-233fe55313f7" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:45.662693       1 gateway.go:764] "HandleResponseBody completed" requestID="e5b66563-f6e3-4bb4-ba55-233fe55313f7" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:45.667564       1 gateway.go:608] "First token received" requestID="e3db7a9d-8ae8-4e7a-bca1-4e35a24b4849" ttft_ms=524
I0305 06:39:45.676435       1 gateway.go:329] "-- In RequestBody processing ..." requestID="eeca339a-1d81-4b7d-89b0-848e3770d908"
I0305 06:39:45.676706       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="eeca339a-1d81-4b7d-89b0-848e3770d908" model="qwen2-5-7b-instruct"
I0305 06:39:45.689269       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9b4c487e-832e-4d14-a2c7-794bac878026"
I0305 06:39:45.689502       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9b4c487e-832e-4d14-a2c7-794bac878026" model="qwen2-5-7b-instruct"
I0305 06:39:45.689652       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0863, numInputTokens, 7597
I0305 06:39:45.689672       1 tree.go:471] Updated node(0) last access: 143.7876 seconds
I0305 06:39:45.689678       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:45.689684       1 tree.go:471] Updated node(2) last access: 143.7876 seconds
I0305 06:39:45.689696       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:45.689700       1 tree.go:471] Updated node(26) last access: 143.7876 seconds
I0305 06:39:45.689703       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:39:45.689706       1 tree.go:471] Updated node(36) last access: 143.7876 seconds
I0305 06:39:45.689710       1 tree.go:484] Entire input tokens match the child node(109)
I0305 06:39:45.689713       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:39:45.689720       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:45.689728       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:45.689733       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:45.689715527 +0000 UTC m=+143.906442391 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:33.046348852 +0000 UTC m=+131.263075717]
I0305 06:39:45.689750       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:45.689757       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:45.689814       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7597
I0305 06:39:45.689825       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:45.689831       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.689836       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.689839       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.689843       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.689847       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.689854       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:45.689862       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:45.689873       1 prefix_cache_and_load.go:584] latency, Route, 0.5452
I0305 06:39:45.689888       1 gateway.go:415] latency, selectTargetPod, 0.5452, target pod, 10.0.3.41:8000
I0305 06:39:45.689899       1 gateway.go:235] latency, HandleRequestBody, 0.5462
I0305 06:39:45.689928       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5452
I0305 06:39:45.689933       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.689936       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.690025       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.690063       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:45.690067       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.706019       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="23ab128d-653e-491f-ba77-a8f02a7470f4"
I0305 06:39:45.707769       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2addfc46-7d34-4415-8911-035d978b8dbd"
I0305 06:39:45.707992       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2addfc46-7d34-4415-8911-035d978b8dbd" model="qwen2-5-7b-instruct"
I0305 06:39:45.726915       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3de88411-4f4f-48f7-943a-6e02c48c4fb5"
I0305 06:39:45.727165       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3de88411-4f4f-48f7-943a-6e02c48c4fb5" model="qwen2-5-7b-instruct"
I0305 06:39:45.730562       1 gateway.go:608] "First token received" requestID="23ab128d-653e-491f-ba77-a8f02a7470f4" ttft_ms=586
I0305 06:39:45.740646       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7f1e5862, selectedpod, 10.0.3.42:8000, ttft, 435, tpot, 17, e2e, 597, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:45.740663       1 gateway.go:748] "Request completed" requestID="86071972-f1be-46de-94f4-70cee6472c60" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:45.740672       1 gateway.go:764] "HandleResponseBody completed" requestID="86071972-f1be-46de-94f4-70cee6472c60" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:45.740956       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0509, numInputTokens, 7604
I0305 06:39:45.740981       1 tree.go:471] Updated node(0) last access: 143.8389 seconds
I0305 06:39:45.740987       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:45.740992       1 tree.go:471] Updated node(2) last access: 143.8389 seconds
I0305 06:39:45.741005       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:45.741010       1 tree.go:471] Updated node(26) last access: 143.8390 seconds
I0305 06:39:45.741014       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:39:45.741017       1 tree.go:471] Updated node(36) last access: 143.8390 seconds
I0305 06:39:45.741021       1 tree.go:490] Partial tokens match child node(71). Continue to go deeper in the radix tree
I0305 06:39:45.741023       1 tree.go:471] Updated node(71) last access: 143.8390 seconds
I0305 06:39:45.741033       1 tree.go:667] Split complete - New node(192)
I0305 06:39:45.741036       1 tree.go:668] Split complete - Child node(72)
I0305 06:39:45.741041       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:39:45.741046       1 tree.go:471] Updated node(192) last access: 143.8390 seconds
I0305 06:39:45.741051       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:45.741056       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7604 tokens
I0305 06:39:45.741063       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 06:39:45.741070       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:45.741075       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:45.741058944 +0000 UTC m=+143.957785808]
I0305 06:39:45.741090       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7488, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:45.741096       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:45.741147       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7488
I0305 06:39:45.741157       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:45.741164       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.741168       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.741173       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.741176       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.741184       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.741188       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.741193       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.741201       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:45.741211       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:45.741224       1 prefix_cache_and_load.go:584] latency, Route, 0.5965
I0305 06:39:45.741238       1 gateway.go:415] latency, selectTargetPod, 0.5965, target pod, 10.0.3.41:8000
I0305 06:39:45.741250       1 gateway.go:235] latency, HandleRequestBody, 0.5976
I0305 06:39:45.741282       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5963
I0305 06:39:45.741287       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.741290       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.741370       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.741403       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:45.741408       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.756308       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="392793c7-f163-4d83-b944-f85323baf52e"
I0305 06:39:45.802119       1 gateway.go:608] "First token received" requestID="392793c7-f163-4d83-b944-f85323baf52e" ttft_ms=658
I0305 06:39:45.820834       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0794, numInputTokens, 7602
I0305 06:39:45.820855       1 tree.go:471] Updated node(0) last access: 143.9188 seconds
I0305 06:39:45.820862       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:45.820865       1 tree.go:471] Updated node(2) last access: 143.9188 seconds
I0305 06:39:45.820879       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:45.820884       1 tree.go:471] Updated node(4) last access: 143.9188 seconds
I0305 06:39:45.820889       1 tree.go:490] Partial tokens match child node(117). Continue to go deeper in the radix tree
I0305 06:39:45.820894       1 tree.go:471] Updated node(117) last access: 143.9188 seconds
I0305 06:39:45.820901       1 tree.go:484] Entire input tokens match the child node(127)
I0305 06:39:45.820908       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:45.820917       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:45.820926       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:45.820933       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:45.820911083 +0000 UTC m=+144.037637958 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:34.337034093 +0000 UTC m=+132.553760957]
I0305 06:39:45.820955       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:45.820973       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:45.821037       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7602
I0305 06:39:45.821050       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:45.821062       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.821070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.821078       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.821089       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.821096       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.821109       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:45.821124       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:45.821140       1 prefix_cache_and_load.go:584] latency, Route, 0.6761
I0305 06:39:45.821158       1 gateway.go:415] latency, selectTargetPod, 0.6761, target pod, 10.0.1.47:8000
I0305 06:39:45.821170       1 gateway.go:235] latency, HandleRequestBody, 0.6765
I0305 06:39:45.821200       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6755
I0305 06:39:45.821205       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.821208       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.821290       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.821330       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:45.821335       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.840089       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0e08008e-aadc-4596-b5ee-bff21e1c5a2d"
I0305 06:39:45.841776       1 gateway.go:562] latency, 0.0000, summary, hash(request), b6592c04, selectedpod, 10.0.0.39:8000, ttft, 524, tpot, 19, e2e, 698, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:45.841796       1 gateway.go:748] "Request completed" requestID="e3db7a9d-8ae8-4e7a-bca1-4e35a24b4849" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:45.841807       1 gateway.go:764] "HandleResponseBody completed" requestID="e3db7a9d-8ae8-4e7a-bca1-4e35a24b4849" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:45.878678       1 gateway.go:608] "First token received" requestID="0e08008e-aadc-4596-b5ee-bff21e1c5a2d" ttft_ms=733
I0305 06:39:45.881213       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0599, numInputTokens, 7602
I0305 06:39:45.881231       1 tree.go:471] Updated node(0) last access: 143.9792 seconds
I0305 06:39:45.881258       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:45.881400       1 tree.go:471] Updated node(2) last access: 143.9793 seconds
I0305 06:39:45.881417       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:45.881421       1 tree.go:471] Updated node(53) last access: 143.9794 seconds
I0305 06:39:45.881425       1 tree.go:490] Partial tokens match child node(119). Continue to go deeper in the radix tree
I0305 06:39:45.881430       1 tree.go:471] Updated node(119) last access: 143.9794 seconds
I0305 06:39:45.881436       1 tree.go:484] Entire input tokens match the child node(120)
I0305 06:39:45.881442       1 tree.go:449] latency, insertHelper, 0.0002 seconds, 7602 tokens
I0305 06:39:45.881452       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:45.881462       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 06:39:45.881500       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:45.881446446 +0000 UTC m=+144.098173320 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:33.671588909 +0000 UTC m=+131.888315776]
I0305 06:39:45.881541       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0001, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:45.881551       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:45.881617       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7602
I0305 06:39:45.881630       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:45.881642       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.881652       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.881660       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.881665       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.881668       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.881676       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:45.881688       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:45.881700       1 prefix_cache_and_load.go:584] latency, Route, 0.7360
I0305 06:39:45.881718       1 gateway.go:415] latency, selectTargetPod, 0.7361, target pod, 10.0.0.34:8000
I0305 06:39:45.881731       1 gateway.go:235] latency, HandleRequestBody, 0.7365
I0305 06:39:45.881765       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7355
I0305 06:39:45.881771       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.881775       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.881903       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.881943       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:45.881960       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.901208       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="63c84fe8-d1cb-4396-aed0-17cae56ba87c"
I0305 06:39:45.930478       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0485, numInputTokens, 7599
I0305 06:39:45.930495       1 tree.go:471] Updated node(0) last access: 144.0284 seconds
I0305 06:39:45.930502       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:45.930505       1 tree.go:471] Updated node(2) last access: 144.0284 seconds
I0305 06:39:45.930528       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:45.930533       1 tree.go:471] Updated node(12) last access: 144.0285 seconds
I0305 06:39:45.930537       1 tree.go:484] Entire input tokens match the child node(110)
I0305 06:39:45.930543       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:45.930549       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:45.930555       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:45.930560       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:45.930545522 +0000 UTC m=+144.147272387 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:33.126005517 +0000 UTC m=+131.342732398]
I0305 06:39:45.930577       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:39:45.930584       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:45.930627       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7599
I0305 06:39:45.930636       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:45.930643       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.930649       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.930654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.930658       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:45.930667       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:45.930675       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:45.930683       1 prefix_cache_and_load.go:584] latency, Route, 0.7844
I0305 06:39:45.930703       1 gateway.go:415] latency, selectTargetPod, 0.7844, target pod, 10.0.0.39:8000
I0305 06:39:45.930715       1 gateway.go:235] latency, HandleRequestBody, 0.7847
I0305 06:39:45.930763       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7844
I0305 06:39:45.930769       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:45.930773       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:45.930920       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:45.930962       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:45.930974       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:45.932892       1 gateway.go:608] "First token received" requestID="63c84fe8-d1cb-4396-aed0-17cae56ba87c" ttft_ms=787
I0305 06:39:45.943207       1 gateway.go:562] latency, 0.0001, summary, hash(request), 36bf9e31, selectedpod, 10.0.3.41:8000, ttft, 586, tpot, 23, e2e, 799, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:45.943232       1 gateway.go:748] "Request completed" requestID="23ab128d-653e-491f-ba77-a8f02a7470f4" targetPod="10.0.3.41:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:45.943248       1 gateway.go:764] "HandleResponseBody completed" requestID="23ab128d-653e-491f-ba77-a8f02a7470f4" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:45.950285       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d6fd2da5-efd8-40b8-8de2-21620b509000"
I0305 06:39:45.982247       1 gateway.go:608] "First token received" requestID="d6fd2da5-efd8-40b8-8de2-21620b509000" ttft_ms=836
I0305 06:39:45.983082       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5762d23b, selectedpod, 10.0.3.41:8000, ttft, 658, tpot, 20, e2e, 839, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 06:39:45.983099       1 gateway.go:748] "Request completed" requestID="392793c7-f163-4d83-b944-f85323baf52e" targetPod="10.0.3.41:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 06:39:45.983111       1 gateway.go:764] "HandleResponseBody completed" requestID="392793c7-f163-4d83-b944-f85323baf52e" promptTokens=7623 completionTokens=10 stream=true
I0305 06:39:46.014148       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0832, numInputTokens, 7598
I0305 06:39:46.014168       1 tree.go:471] Updated node(0) last access: 144.1121 seconds
I0305 06:39:46.014175       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.014178       1 tree.go:471] Updated node(2) last access: 144.1121 seconds
I0305 06:39:46.014191       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:46.014195       1 tree.go:471] Updated node(26) last access: 144.1121 seconds
I0305 06:39:46.014198       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 06:39:46.014201       1 tree.go:471] Updated node(75) last access: 144.1121 seconds
I0305 06:39:46.014207       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:39:46.014213       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:46.014220       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:46.014227       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.014233       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.014214703 +0000 UTC m=+144.230941567]
I0305 06:39:46.014250       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:39:46.014257       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:39:46.014304       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7484
I0305 06:39:46.014313       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.014321       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.014328       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.014333       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.014337       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.014341       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.014348       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.014357       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:46.014368       1 prefix_cache_and_load.go:584] latency, Route, 0.8680
I0305 06:39:46.014383       1 gateway.go:415] latency, selectTargetPod, 0.8680, target pod, 10.0.3.41:8000
I0305 06:39:46.014395       1 gateway.go:235] latency, HandleRequestBody, 0.8684
I0305 06:39:46.014429       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8668
I0305 06:39:46.014440       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.014445       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.014580       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.014627       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:46.014632       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.033557       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6d3f5084-e91a-4b92-9c5f-61fcac28654f"
I0305 06:39:46.044363       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3ccb81f7, selectedpod, 10.0.1.47:8000, ttft, 733, tpot, 18, e2e, 899, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:46.044382       1 gateway.go:748] "Request completed" requestID="0e08008e-aadc-4596-b5ee-bff21e1c5a2d" targetPod="10.0.1.47:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:46.044394       1 gateway.go:764] "HandleResponseBody completed" requestID="0e08008e-aadc-4596-b5ee-bff21e1c5a2d" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:46.068196       1 gateway.go:608] "First token received" requestID="6d3f5084-e91a-4b92-9c5f-61fcac28654f" ttft_ms=922
I0305 06:39:46.094478       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0798, numInputTokens, 7598
I0305 06:39:46.094493       1 tree.go:471] Updated node(0) last access: 144.1924 seconds
I0305 06:39:46.094501       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.094505       1 tree.go:471] Updated node(2) last access: 144.1924 seconds
I0305 06:39:46.094530       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:46.094534       1 tree.go:471] Updated node(51) last access: 144.1925 seconds
I0305 06:39:46.094539       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:39:46.094541       1 tree.go:471] Updated node(123) last access: 144.1925 seconds
I0305 06:39:46.094546       1 tree.go:484] Entire input tokens match the child node(129)
I0305 06:39:46.094549       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:46.094555       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:46.094562       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.094567       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.094551318 +0000 UTC m=+144.311278183 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:34.627581072 +0000 UTC m=+132.844307937]
I0305 06:39:46.094588       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:46.094597       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:46.094640       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7598
I0305 06:39:46.094651       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.094663       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.094670       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.094674       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.094680       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.094684       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.094692       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.094701       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:46.094711       1 prefix_cache_and_load.go:584] latency, Route, 0.9470
I0305 06:39:46.094728       1 gateway.go:415] latency, selectTargetPod, 0.9471, target pod, 10.0.1.28:8000
I0305 06:39:46.094742       1 gateway.go:235] latency, HandleRequestBody, 0.9474
I0305 06:39:46.094746       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9468
I0305 06:39:46.094760       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.094768       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.094923       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.094987       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:46.094996       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.106724       1 gateway.go:562] latency, 0.0000, summary, hash(request), fa12a647, selectedpod, 10.0.0.34:8000, ttft, 787, tpot, 19, e2e, 961, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:46.106745       1 gateway.go:748] "Request completed" requestID="63c84fe8-d1cb-4396-aed0-17cae56ba87c" targetPod="10.0.0.34:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:46.106756       1 gateway.go:764] "HandleResponseBody completed" requestID="63c84fe8-d1cb-4396-aed0-17cae56ba87c" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:46.114612       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1db61a17-ffb3-4c25-96d3-6df62cb77ebd"
I0305 06:39:46.139861       1 gateway.go:608] "First token received" requestID="1db61a17-ffb3-4c25-96d3-6df62cb77ebd" ttft_ms=992
I0305 06:39:46.144321       1 gateway.go:207] "Processing request" requestID="b6fe8bc9-c9c6-46a0-a856-f009f3cd292b"
I0305 06:39:46.144361       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b6fe8bc9-c9c6-46a0-a856-f009f3cd292b"
I0305 06:39:46.144372       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:46.150248       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0552, numInputTokens, 7599
I0305 06:39:46.150271       1 tree.go:471] Updated node(0) last access: 144.2482 seconds
I0305 06:39:46.150277       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.150280       1 tree.go:471] Updated node(2) last access: 144.2482 seconds
I0305 06:39:46.150294       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:46.150298       1 tree.go:471] Updated node(23) last access: 144.2482 seconds
I0305 06:39:46.150307       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:46.150316       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:46.150331       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:46.150340       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.150348       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.150324536 +0000 UTC m=+144.367051400]
I0305 06:39:46.150369       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:46.150380       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:46.150487       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7478
I0305 06:39:46.150499       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.157344       1 gateway.go:562] latency, 0.0000, summary, hash(request), ce738e63, selectedpod, 10.0.0.39:8000, ttft, 836, tpot, 19, e2e, 1011, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:46.157370       1 gateway.go:748] "Request completed" requestID="d6fd2da5-efd8-40b8-8de2-21620b509000" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:46.157384       1 gateway.go:764] "HandleResponseBody completed" requestID="d6fd2da5-efd8-40b8-8de2-21620b509000" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:46.174463       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b6fe8bc9-c9c6-46a0-a856-f009f3cd292b"
I0305 06:39:46.174742       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b6fe8bc9-c9c6-46a0-a856-f009f3cd292b" model="qwen2-5-7b-instruct"
I0305 06:39:46.178554       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.178572       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.178577       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.178582       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.178590       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.178599       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:46.178613       1 prefix_cache_and_load.go:584] latency, Route, 1.0307
I0305 06:39:46.178637       1 gateway.go:415] latency, selectTargetPod, 1.0307, target pod, 10.0.3.42:8000
I0305 06:39:46.178655       1 gateway.go:235] latency, HandleRequestBody, 1.0309
I0305 06:39:46.178697       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0300
I0305 06:39:46.178706       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.178710       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.178981       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.179130       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:39:46.179148       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.194779       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="396d0880-e9dd-4623-82a7-1f83393dd874"
I0305 06:39:46.228531       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0494, numInputTokens, 7599
I0305 06:39:46.228551       1 tree.go:471] Updated node(0) last access: 144.3265 seconds
I0305 06:39:46.228558       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.228563       1 tree.go:471] Updated node(2) last access: 144.3265 seconds
I0305 06:39:46.228576       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:46.228582       1 tree.go:471] Updated node(23) last access: 144.3265 seconds
I0305 06:39:46.228587       1 tree.go:484] Entire input tokens match the child node(122)
I0305 06:39:46.228592       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:46.228600       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:46.228609       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.228618       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.228595553 +0000 UTC m=+144.445322420 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:34.084589811 +0000 UTC m=+132.301316684]
I0305 06:39:46.228640       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:46.228651       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:46.228703       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7599
I0305 06:39:46.228713       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.228721       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.228726       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.228735       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.228747       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.228755       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.228796       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:46.228809       1 prefix_cache_and_load.go:584] latency, Route, 1.0801
I0305 06:39:46.228827       1 gateway.go:415] latency, selectTargetPod, 1.0801, target pod, 10.0.3.42:8000
I0305 06:39:46.228840       1 gateway.go:235] latency, HandleRequestBody, 1.0804
I0305 06:39:46.228873       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0539
I0305 06:39:46.228879       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.228888       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.228987       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.229031       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:46.229036       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.237942       1 gateway.go:608] "First token received" requestID="396d0880-e9dd-4623-82a7-1f83393dd874" ttft_ms=1090
I0305 06:39:46.241352       1 gateway.go:562] latency, 0.0000, summary, hash(request), c30c9fe8, selectedpod, 10.0.3.41:8000, ttft, 922, tpot, 19, e2e, 1095, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:46.241374       1 gateway.go:748] "Request completed" requestID="6d3f5084-e91a-4b92-9c5f-61fcac28654f" targetPod="10.0.3.41:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:46.241387       1 gateway.go:764] "HandleResponseBody completed" requestID="6d3f5084-e91a-4b92-9c5f-61fcac28654f" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:46.246117       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="57c6018e-41fc-4aab-b0ae-d233723e01b4"
I0305 06:39:46.286367       1 gateway.go:608] "First token received" requestID="57c6018e-41fc-4aab-b0ae-d233723e01b4" ttft_ms=1137
I0305 06:39:46.287170       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0581, numInputTokens, 7595
I0305 06:39:46.287187       1 tree.go:471] Updated node(0) last access: 144.3851 seconds
I0305 06:39:46.287192       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.287196       1 tree.go:471] Updated node(2) last access: 144.3851 seconds
I0305 06:39:46.287208       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:46.287214       1 tree.go:471] Updated node(23) last access: 144.3852 seconds
I0305 06:39:46.287218       1 tree.go:490] Partial tokens match child node(87). Continue to go deeper in the radix tree
I0305 06:39:46.287223       1 tree.go:471] Updated node(87) last access: 144.3852 seconds
I0305 06:39:46.287228       1 tree.go:490] Partial tokens match child node(113). Continue to go deeper in the radix tree
I0305 06:39:46.287232       1 tree.go:471] Updated node(113) last access: 144.3852 seconds
I0305 06:39:46.287238       1 tree.go:484] Entire input tokens match the child node(131)
I0305 06:39:46.287243       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:39:46.287251       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:39:46.287260       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.287301       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.287245707 +0000 UTC m=+144.503972579 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:34.900979005 +0000 UTC m=+133.117705879]
I0305 06:39:46.287323       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7595, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:46.287330       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:46.287377       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7595
I0305 06:39:46.287389       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.287398       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.287407       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.287414       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.287419       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.287426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.287431       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.287441       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.287451       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:46.287461       1 prefix_cache_and_load.go:584] latency, Route, 1.1125
I0305 06:39:46.287477       1 gateway.go:415] latency, selectTargetPod, 1.1125, target pod, 10.0.3.42:8000
I0305 06:39:46.287489       1 gateway.go:235] latency, HandleRequestBody, 1.1128
I0305 06:39:46.287528       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0943
I0305 06:39:46.287541       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.287544       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.287703       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.287753       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:46.287761       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.304206       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a11a66a2-b690-4313-8d5a-d3594ac636cd"
I0305 06:39:46.314464       1 gateway.go:562] latency, 0.0000, summary, hash(request), d7b03bd1, selectedpod, 10.0.1.28:8000, ttft, 992, tpot, 19, e2e, 1167, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:46.314484       1 gateway.go:748] "Request completed" requestID="1db61a17-ffb3-4c25-96d3-6df62cb77ebd" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:46.314494       1 gateway.go:764] "HandleResponseBody completed" requestID="1db61a17-ffb3-4c25-96d3-6df62cb77ebd" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:46.319220       1 gateway.go:207] "Processing request" requestID="01c55a49-cac6-4932-9015-1b4ffb13f1b6"
I0305 06:39:46.319252       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="01c55a49-cac6-4932-9015-1b4ffb13f1b6"
I0305 06:39:46.319260       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:46.335710       1 gateway.go:608] "First token received" requestID="a11a66a2-b690-4313-8d5a-d3594ac636cd" ttft_ms=1160
I0305 06:39:46.341283       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0535, numInputTokens, 7602
I0305 06:39:46.341302       1 tree.go:471] Updated node(0) last access: 144.4392 seconds
I0305 06:39:46.341308       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.341311       1 tree.go:471] Updated node(2) last access: 144.4393 seconds
I0305 06:39:46.341323       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:46.341327       1 tree.go:471] Updated node(51) last access: 144.4393 seconds
I0305 06:39:46.341340       1 tree.go:667] Split complete - New node(196)
I0305 06:39:46.341346       1 tree.go:668] Split complete - Child node(97)
I0305 06:39:46.341352       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 06:39:46.341357       1 tree.go:471] Updated node(196) last access: 144.4393 seconds
I0305 06:39:46.341363       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 104 tokens:
I0305 06:39:46.341368       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:46.341374       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:46.341380       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.341385       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.341369913 +0000 UTC m=+144.558096778]
I0305 06:39:46.341401       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7498, Matching ratio: 0.9863, # Matched pods: 0, Matched pods: []
I0305 06:39:46.341412       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9863 > 0.5000)
I0305 06:39:46.341459       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7498
I0305 06:39:46.341468       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.341479       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.341485       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.341490       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.341498       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.341503       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.341523       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.341533       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:46.341543       1 prefix_cache_and_load.go:584] latency, Route, 1.1483
I0305 06:39:46.341558       1 gateway.go:415] latency, selectTargetPod, 1.1484, target pod, 10.0.1.28:8000
I0305 06:39:46.341570       1 gateway.go:235] latency, HandleRequestBody, 1.1488
I0305 06:39:46.341569       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1408
I0305 06:39:46.341577       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.341580       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.341705       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.341746       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:46.341752       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.361068       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f6b3fac1-a735-41f4-a761-3bd0dc9d99f4"
I0305 06:39:46.396269       1 gateway.go:608] "First token received" requestID="f6b3fac1-a735-41f4-a761-3bd0dc9d99f4" ttft_ms=1203
I0305 06:39:46.417769       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0760, numInputTokens, 7596
I0305 06:39:46.417786       1 tree.go:471] Updated node(0) last access: 144.5157 seconds
I0305 06:39:46.417792       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.417795       1 tree.go:471] Updated node(2) last access: 144.5157 seconds
I0305 06:39:46.417809       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:46.417812       1 tree.go:471] Updated node(45) last access: 144.5158 seconds
I0305 06:39:46.417820       1 tree.go:667] Split complete - New node(198)
I0305 06:39:46.417825       1 tree.go:668] Split complete - Child node(132)
I0305 06:39:46.417830       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:39:46.417834       1 tree.go:471] Updated node(198) last access: 144.5158 seconds
I0305 06:39:46.417840       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:46.417844       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:46.417851       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:46.417856       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.417862       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.417847375 +0000 UTC m=+144.634574240]
I0305 06:39:46.417905       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7480, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:46.417911       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:46.417959       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7480
I0305 06:39:46.417979       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.417990       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.417997       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.418005       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.418012       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.418018       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.418028       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.418037       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:46.418048       1 prefix_cache_and_load.go:584] latency, Route, 1.2173
I0305 06:39:46.418063       1 gateway.go:415] latency, selectTargetPod, 1.2173, target pod, 10.0.0.34:8000
I0305 06:39:46.418073       1 gateway.go:235] latency, HandleRequestBody, 1.2176
I0305 06:39:46.418105       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1988
I0305 06:39:46.418110       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.418113       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.418198       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.418235       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:46.418241       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.436756       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3bdee872-e575-4133-8f17-c27c34601e3c"
I0305 06:39:46.453697       1 gateway.go:207] "Processing request" requestID="b89c3822-73ba-45b9-84b7-433049a5fa32"
I0305 06:39:46.453726       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b89c3822-73ba-45b9-84b7-433049a5fa32"
I0305 06:39:46.453735       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:46.471887       1 gateway.go:608] "First token received" requestID="3bdee872-e575-4133-8f17-c27c34601e3c" ttft_ms=1271
I0305 06:39:46.480676       1 gateway.go:562] latency, 0.0000, summary, hash(request), de7ee06d, selectedpod, 10.0.3.42:8000, ttft, 1090, tpot, 26, e2e, 1332, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:46.480694       1 gateway.go:748] "Request completed" requestID="396d0880-e9dd-4623-82a7-1f83393dd874" targetPod="10.0.3.42:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:46.480703       1 gateway.go:764] "HandleResponseBody completed" requestID="396d0880-e9dd-4623-82a7-1f83393dd874" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:46.501103       1 gateway.go:562] latency, 0.0000, summary, hash(request), e608a3a9, selectedpod, 10.0.3.42:8000, ttft, 1137, tpot, 23, e2e, 1352, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:46.501123       1 gateway.go:748] "Request completed" requestID="57c6018e-41fc-4aab-b0ae-d233723e01b4" targetPod="10.0.3.42:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:46.501136       1 gateway.go:764] "HandleResponseBody completed" requestID="57c6018e-41fc-4aab-b0ae-d233723e01b4" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:46.503231       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0850, numInputTokens, 7598
I0305 06:39:46.503249       1 tree.go:471] Updated node(0) last access: 144.6012 seconds
I0305 06:39:46.503255       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.503258       1 tree.go:471] Updated node(2) last access: 144.6012 seconds
I0305 06:39:46.503271       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:46.503275       1 tree.go:471] Updated node(18) last access: 144.6012 seconds
I0305 06:39:46.503279       1 tree.go:490] Partial tokens match child node(170). Continue to go deeper in the radix tree
I0305 06:39:46.503281       1 tree.go:471] Updated node(170) last access: 144.6012 seconds
I0305 06:39:46.503291       1 tree.go:667] Split complete - New node(200)
I0305 06:39:46.503294       1 tree.go:668] Split complete - Child node(19)
I0305 06:39:46.503298       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 06:39:46.503303       1 tree.go:471] Updated node(200) last access: 144.6012 seconds
I0305 06:39:46.503307       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 06:39:46.503313       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:46.503319       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:46.503324       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.503330       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.503314799 +0000 UTC m=+144.720041664]
I0305 06:39:46.503344       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7488, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 06:39:46.503350       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 06:39:46.503398       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7488
I0305 06:39:46.503408       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.503415       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.503419       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.503424       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.503428       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.503433       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.503438       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.503446       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.503459       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:46.503475       1 prefix_cache_and_load.go:584] latency, Route, 1.2842
I0305 06:39:46.503492       1 gateway.go:415] latency, selectTargetPod, 1.2842, target pod, 10.0.0.131:8000
I0305 06:39:46.503506       1 gateway.go:235] latency, HandleRequestBody, 1.2845
I0305 06:39:46.503524       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2706
I0305 06:39:46.503531       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.503534       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.503661       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.503712       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:46.503719       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.521952       1 gateway.go:562] latency, 0.0000, summary, hash(request), 19b4fb4d, selectedpod, 10.0.3.42:8000, ttft, 1160, tpot, 20, e2e, 1347, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:39:46.522000       1 gateway.go:748] "Request completed" requestID="a11a66a2-b690-4313-8d5a-d3594ac636cd" targetPod="10.0.3.42:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:39:46.522011       1 gateway.go:764] "HandleResponseBody completed" requestID="a11a66a2-b690-4313-8d5a-d3594ac636cd" promptTokens=7614 completionTokens=10 stream=true
I0305 06:39:46.522850       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9ec8366a-d351-4b84-b8ee-87a368526263"
I0305 06:39:46.558955       1 gateway.go:608] "First token received" requestID="9ec8366a-d351-4b84-b8ee-87a368526263" ttft_ms=1339
I0305 06:39:46.560776       1 gateway.go:207] "Processing request" requestID="502c8982-44e8-40e2-b76d-c3593decc3bd"
I0305 06:39:46.560806       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="502c8982-44e8-40e2-b76d-c3593decc3bd"
I0305 06:39:46.560816       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:46.578963       1 gateway.go:562] latency, 0.0000, summary, hash(request), 52847f86, selectedpod, 10.0.1.28:8000, ttft, 1203, tpot, 20, e2e, 1386, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:46.578996       1 gateway.go:748] "Request completed" requestID="f6b3fac1-a735-41f4-a761-3bd0dc9d99f4" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:46.579010       1 gateway.go:764] "HandleResponseBody completed" requestID="f6b3fac1-a735-41f4-a761-3bd0dc9d99f4" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:46.581980       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0782, numInputTokens, 7595
I0305 06:39:46.582000       1 tree.go:471] Updated node(0) last access: 144.6799 seconds
I0305 06:39:46.582007       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.582014       1 tree.go:471] Updated node(2) last access: 144.6800 seconds
I0305 06:39:46.582030       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:46.582035       1 tree.go:471] Updated node(18) last access: 144.6800 seconds
I0305 06:39:46.582040       1 tree.go:490] Partial tokens match child node(125). Continue to go deeper in the radix tree
I0305 06:39:46.582043       1 tree.go:471] Updated node(125) last access: 144.6800 seconds
I0305 06:39:46.582051       1 tree.go:484] Entire input tokens match the child node(126)
I0305 06:39:46.582055       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:39:46.582064       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:39:46.582073       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.582083       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.582058442 +0000 UTC m=+144.798785315 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:34.284560022 +0000 UTC m=+132.501286896]
I0305 06:39:46.582110       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7595, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:46.582118       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:46.582169       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7595
I0305 06:39:46.582179       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.582190       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.582196       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.582204       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.582212       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.582217       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.582229       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.582242       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:46.582255       1 prefix_cache_and_load.go:584] latency, Route, 1.3493
I0305 06:39:46.582270       1 gateway.go:415] latency, selectTargetPod, 1.3493, target pod, 10.0.0.131:8000
I0305 06:39:46.582283       1 gateway.go:235] latency, HandleRequestBody, 1.3498
I0305 06:39:46.582314       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3231
I0305 06:39:46.582319       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.582322       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.582411       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.582454       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:46.582459       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.600373       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="41b4c29c-ef2c-4211-9474-1d24b95a9b9d"
I0305 06:39:46.631058       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 7599
I0305 06:39:46.631076       1 tree.go:471] Updated node(0) last access: 144.7290 seconds
I0305 06:39:46.631082       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.631085       1 tree.go:471] Updated node(2) last access: 144.7290 seconds
I0305 06:39:46.631097       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:46.631102       1 tree.go:471] Updated node(51) last access: 144.7290 seconds
I0305 06:39:46.631105       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:39:46.631108       1 tree.go:471] Updated node(123) last access: 144.7290 seconds
I0305 06:39:46.631111       1 tree.go:490] Partial tokens match child node(168). Continue to go deeper in the radix tree
I0305 06:39:46.631114       1 tree.go:471] Updated node(168) last access: 144.7291 seconds
I0305 06:39:46.631118       1 tree.go:484] Entire input tokens match the child node(124)
I0305 06:39:46.631121       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:46.631127       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:46.631134       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.631139       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.631123024 +0000 UTC m=+144.847849889 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:34.206230378 +0000 UTC m=+132.422957242]
I0305 06:39:46.631155       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:46.631163       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:46.631222       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7599
I0305 06:39:46.631231       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.631239       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.631244       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.631247       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.631251       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.631256       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.631264       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.631272       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.631280       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:46.631290       1 prefix_cache_and_load.go:584] latency, Route, 1.3721
I0305 06:39:46.631306       1 gateway.go:415] latency, selectTargetPod, 1.3721, target pod, 10.0.1.28:8000
I0305 06:39:46.631318       1 gateway.go:235] latency, HandleRequestBody, 1.3724
I0305 06:39:46.631342       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3619
I0305 06:39:46.631354       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.631359       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.631490       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.631542       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:46.631548       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.644958       1 gateway.go:562] latency, 0.0000, summary, hash(request), 924a935c, selectedpod, 10.0.0.34:8000, ttft, 1271, tpot, 19, e2e, 1444, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:46.644990       1 gateway.go:748] "Request completed" requestID="3bdee872-e575-4133-8f17-c27c34601e3c" targetPod="10.0.0.34:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:46.645001       1 gateway.go:764] "HandleResponseBody completed" requestID="3bdee872-e575-4133-8f17-c27c34601e3c" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:46.645599       1 gateway.go:608] "First token received" requestID="41b4c29c-ef2c-4211-9474-1d24b95a9b9d" ttft_ms=1413
I0305 06:39:46.650237       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4cb9b2f1-306d-41c4-9676-deecc9c83ba0"
I0305 06:39:46.654924       1 gateway.go:207] "Processing request" requestID="e6d64086-244b-472a-8918-bf14454002c4"
I0305 06:39:46.654946       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e6d64086-244b-472a-8918-bf14454002c4"
I0305 06:39:46.654953       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:46.681363       1 gateway.go:608] "First token received" requestID="4cb9b2f1-306d-41c4-9676-deecc9c83ba0" ttft_ms=1422
I0305 06:39:46.715846       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0843, numInputTokens, 7603
I0305 06:39:46.715866       1 tree.go:471] Updated node(0) last access: 144.8138 seconds
I0305 06:39:46.715872       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.715876       1 tree.go:471] Updated node(2) last access: 144.8138 seconds
I0305 06:39:46.715889       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:46.715893       1 tree.go:471] Updated node(45) last access: 144.8138 seconds
I0305 06:39:46.715897       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:39:46.715901       1 tree.go:471] Updated node(175) last access: 144.8138 seconds
I0305 06:39:46.715910       1 tree.go:667] Split complete - New node(202)
I0305 06:39:46.715916       1 tree.go:668] Split complete - Child node(10)
I0305 06:39:46.715920       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 06:39:46.715925       1 tree.go:471] Updated node(202) last access: 144.8139 seconds
I0305 06:39:46.715930       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:46.715935       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:39:46.715941       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:39:46.715948       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.715952       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.71593724 +0000 UTC m=+144.932664105]
I0305 06:39:46.715966       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7488, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:46.715982       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:46.716028       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7488
I0305 06:39:46.716037       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.716044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.716049       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.716053       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.716058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.716062       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.716067       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.716075       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.716084       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:46.716096       1 prefix_cache_and_load.go:584] latency, Route, 1.4467
I0305 06:39:46.716112       1 gateway.go:415] latency, selectTargetPod, 1.4467, target pod, 10.0.0.34:8000
I0305 06:39:46.716123       1 gateway.go:235] latency, HandleRequestBody, 1.4470
I0305 06:39:46.716126       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4288
I0305 06:39:46.716140       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.716145       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.716276       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.716319       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:46.716325       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.734605       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="684a07de-c81c-4898-b6de-6ab0c5f2a3fe"
I0305 06:39:46.741605       1 gateway.go:207] "Processing request" requestID="a854bd7b-c8f4-4478-86ae-d1ff03631328"
I0305 06:39:46.741631       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a854bd7b-c8f4-4478-86ae-d1ff03631328"
I0305 06:39:46.741639       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:46.765117       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 7600
I0305 06:39:46.765134       1 tree.go:471] Updated node(0) last access: 144.8631 seconds
I0305 06:39:46.765140       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.765144       1 tree.go:471] Updated node(2) last access: 144.8631 seconds
I0305 06:39:46.765157       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:46.765162       1 tree.go:471] Updated node(45) last access: 144.8631 seconds
I0305 06:39:46.765167       1 tree.go:490] Partial tokens match child node(198). Continue to go deeper in the radix tree
I0305 06:39:46.765172       1 tree.go:471] Updated node(198) last access: 144.8631 seconds
I0305 06:39:46.765176       1 tree.go:484] Entire input tokens match the child node(132)
I0305 06:39:46.765179       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:46.765185       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:46.765192       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.765197       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.765180912 +0000 UTC m=+144.981907776 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:35.038446476 +0000 UTC m=+133.255173340]
I0305 06:39:46.765214       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:46.765223       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:46.765286       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7600
I0305 06:39:46.765299       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.765306       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.765311       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.765318       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.765327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.765332       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.765345       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.765359       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:46.765374       1 prefix_cache_and_load.go:584] latency, Route, 1.4781
I0305 06:39:46.765392       1 gateway.go:415] latency, selectTargetPod, 1.4781, target pod, 10.0.0.34:8000
I0305 06:39:46.765403       1 gateway.go:235] latency, HandleRequestBody, 1.4784
I0305 06:39:46.765432       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4492
I0305 06:39:46.765439       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.765443       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.765545       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.765584       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:46.765591       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.766430       1 gateway.go:562] latency, 0.0000, summary, hash(request), ea5e9c2d, selectedpod, 10.0.0.131:8000, ttft, 1339, tpot, 23, e2e, 1547, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:46.766452       1 gateway.go:748] "Request completed" requestID="9ec8366a-d351-4b84-b8ee-87a368526263" targetPod="10.0.0.131:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:46.766463       1 gateway.go:764] "HandleResponseBody completed" requestID="9ec8366a-d351-4b84-b8ee-87a368526263" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:46.778770       1 gateway.go:608] "First token received" requestID="684a07de-c81c-4898-b6de-6ab0c5f2a3fe" ttft_ms=1509
I0305 06:39:46.783616       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="967b99fb-8754-4f11-ae3c-2af77103ec23"
I0305 06:39:46.817749       1 gateway.go:608] "First token received" requestID="967b99fb-8754-4f11-ae3c-2af77103ec23" ttft_ms=1530
I0305 06:39:46.824940       1 gateway.go:562] latency, 0.0000, summary, hash(request), d5f9798e, selectedpod, 10.0.0.131:8000, ttft, 1413, tpot, 19, e2e, 1592, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:39:46.824958       1 gateway.go:748] "Request completed" requestID="41b4c29c-ef2c-4211-9474-1d24b95a9b9d" targetPod="10.0.0.131:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:39:46.824976       1 gateway.go:764] "HandleResponseBody completed" requestID="41b4c29c-ef2c-4211-9474-1d24b95a9b9d" promptTokens=7614 completionTokens=10 stream=true
I0305 06:39:46.827561       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0620, numInputTokens, 7604
I0305 06:39:46.827580       1 tree.go:471] Updated node(0) last access: 144.9255 seconds
I0305 06:39:46.827586       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.827590       1 tree.go:471] Updated node(2) last access: 144.9255 seconds
I0305 06:39:46.827601       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:46.827605       1 tree.go:471] Updated node(45) last access: 144.9255 seconds
I0305 06:39:46.827612       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 06:39:46.827617       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 06:39:46.827623       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 06:39:46.827629       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:46.827634       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.827619192 +0000 UTC m=+145.044346057]
I0305 06:39:46.827649       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 06:39:46.827655       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 06:39:46.827700       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:46.827709       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.827716       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.827721       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.827726       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.827729       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.827736       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.827745       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:46.827756       1 prefix_cache_and_load.go:584] latency, Route, 1.5116
I0305 06:39:46.827771       1 gateway.go:415] latency, selectTargetPod, 1.5116, target pod, 10.0.0.34:8000
I0305 06:39:46.827781       1 gateway.go:235] latency, HandleRequestBody, 1.5119
I0305 06:39:46.827808       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5017
I0305 06:39:46.827812       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.827815       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.827891       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.827927       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:46.827932       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.845846       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fb07a42d-6e74-42d7-8d4b-12072922b9cc"
I0305 06:39:46.854019       1 gateway.go:207] "Processing request" requestID="16c77e2c-91f8-4a0a-8da7-296ab95164ff"
I0305 06:39:46.854039       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="16c77e2c-91f8-4a0a-8da7-296ab95164ff"
I0305 06:39:46.854049       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:46.854454       1 gateway.go:562] latency, 0.0000, summary, hash(request), 87b3ce5e, selectedpod, 10.0.1.28:8000, ttft, 1422, tpot, 19, e2e, 1595, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:46.854471       1 gateway.go:748] "Request completed" requestID="4cb9b2f1-306d-41c4-9676-deecc9c83ba0" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:46.854483       1 gateway.go:764] "HandleResponseBody completed" requestID="4cb9b2f1-306d-41c4-9676-deecc9c83ba0" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:46.898633       1 gateway.go:608] "First token received" requestID="fb07a42d-6e74-42d7-8d4b-12072922b9cc" ttft_ms=1582
I0305 06:39:46.900044       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0721, numInputTokens, 7601
I0305 06:39:46.900076       1 tree.go:471] Updated node(0) last access: 144.9980 seconds
I0305 06:39:46.900085       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.900091       1 tree.go:471] Updated node(2) last access: 144.9980 seconds
I0305 06:39:46.900107       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:46.900113       1 tree.go:471] Updated node(18) last access: 144.9981 seconds
I0305 06:39:46.900126       1 tree.go:490] Partial tokens match child node(170). Continue to go deeper in the radix tree
I0305 06:39:46.900131       1 tree.go:471] Updated node(170) last access: 144.9981 seconds
I0305 06:39:46.900137       1 tree.go:490] Partial tokens match child node(200). Continue to go deeper in the radix tree
I0305 06:39:46.900144       1 tree.go:471] Updated node(200) last access: 144.9981 seconds
I0305 06:39:46.900161       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:39:46.900167       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:46.900178       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:46.900186       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:46.900193       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.900169586 +0000 UTC m=+145.116896462]
I0305 06:39:46.900216       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7488, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:39:46.900226       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:39:46.900340       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7488
I0305 06:39:46.900355       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.900367       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.900374       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.900381       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.900386       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.900396       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.900404       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.900416       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.900429       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:46.900447       1 prefix_cache_and_load.go:584] latency, Route, 1.5743
I0305 06:39:46.900461       1 gateway.go:415] latency, selectTargetPod, 1.5743, target pod, 10.0.0.131:8000
I0305 06:39:46.900475       1 gateway.go:235] latency, HandleRequestBody, 1.5746
I0305 06:39:46.900524       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5558
I0305 06:39:46.900530       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.900535       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.900777       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.900921       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:39:46.900938       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:46.918837       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3a2bee87-a676-44c2-a8bb-693fdf693dd6"
I0305 06:39:46.925063       1 gateway.go:207] "Processing request" requestID="cfec237a-2720-46d0-abb7-2591e23205b7"
I0305 06:39:46.925093       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cfec237a-2720-46d0-abb7-2591e23205b7"
I0305 06:39:46.925102       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:46.954942       1 gateway.go:608] "First token received" requestID="3a2bee87-a676-44c2-a8bb-693fdf693dd6" ttft_ms=1629
I0305 06:39:46.991047       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0901, numInputTokens, 7602
I0305 06:39:46.991064       1 tree.go:471] Updated node(0) last access: 145.0890 seconds
I0305 06:39:46.991069       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:46.991072       1 tree.go:471] Updated node(2) last access: 145.0890 seconds
I0305 06:39:46.991085       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:46.991088       1 tree.go:471] Updated node(51) last access: 145.0890 seconds
I0305 06:39:46.991093       1 tree.go:484] Entire input tokens match the child node(128)
I0305 06:39:46.991098       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:46.991104       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:46.991110       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:46.991115       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:46.991100642 +0000 UTC m=+145.207827507 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:34.547318953 +0000 UTC m=+132.764045821]
I0305 06:39:46.991134       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:46.991140       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:46.991184       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7602
I0305 06:39:46.991194       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:46.991202       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.991209       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.991214       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.991220       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:46.991227       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:46.991236       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:46.991245       1 prefix_cache_and_load.go:584] latency, Route, 1.6466
I0305 06:39:46.991262       1 gateway.go:415] latency, selectTargetPod, 1.6466, target pod, 10.0.1.28:8000
I0305 06:39:46.991275       1 gateway.go:235] latency, HandleRequestBody, 1.6469
I0305 06:39:46.991297       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6283
I0305 06:39:46.991302       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:46.991305       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:46.991399       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:46.991435       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:46.991440       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.010483       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c88717e5-cd4e-4dbe-91e8-3b0e6ac4eb8e"
I0305 06:39:47.022883       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6b9e9514, selectedpod, 10.0.0.34:8000, ttft, 1509, tpot, 27, e2e, 1753, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:39:47.022904       1 gateway.go:748] "Request completed" requestID="684a07de-c81c-4898-b6de-6ab0c5f2a3fe" targetPod="10.0.0.34:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:39:47.022914       1 gateway.go:764] "HandleResponseBody completed" requestID="684a07de-c81c-4898-b6de-6ab0c5f2a3fe" promptTokens=7622 completionTokens=10 stream=true
I0305 06:39:47.031332       1 gateway.go:207] "Processing request" requestID="ac2d2448-42b4-4efa-b4df-ac5ef7dbe062"
I0305 06:39:47.031358       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ac2d2448-42b4-4efa-b4df-ac5ef7dbe062"
I0305 06:39:47.031365       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:47.040932       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0495, numInputTokens, 7597
I0305 06:39:47.040974       1 tree.go:471] Updated node(0) last access: 145.1389 seconds
I0305 06:39:47.040983       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.040987       1 tree.go:471] Updated node(2) last access: 145.1389 seconds
I0305 06:39:47.041002       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:47.041006       1 tree.go:471] Updated node(51) last access: 145.1389 seconds
I0305 06:39:47.041011       1 tree.go:490] Partial tokens match child node(143). Continue to go deeper in the radix tree
I0305 06:39:47.041015       1 tree.go:471] Updated node(143) last access: 145.1390 seconds
I0305 06:39:47.041021       1 tree.go:484] Entire input tokens match the child node(144)
I0305 06:39:47.041025       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:47.041034       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:47.041049       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:47.041056       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.041027541 +0000 UTC m=+145.257754413 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:35.725252954 +0000 UTC m=+133.941979818]
I0305 06:39:47.041085       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:47.041095       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:47.041254       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7597
I0305 06:39:47.041277       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:39:47.041287       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.041294       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.041300       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.041304       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.041309       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.041319       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.041330       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:47.041340       1 prefix_cache_and_load.go:584] latency, Route, 1.6784
I0305 06:39:47.041356       1 gateway.go:415] latency, selectTargetPod, 1.6784, target pod, 10.0.1.28:8000
I0305 06:39:47.041374       1 gateway.go:235] latency, HandleRequestBody, 1.6787
I0305 06:39:47.041405       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6607
I0305 06:39:47.041411       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.041415       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.041666       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.041949       1 gateway.go:608] "First token received" requestID="c88717e5-cd4e-4dbe-91e8-3b0e6ac4eb8e" ttft_ms=1697
I0305 06:39:47.041945       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:39:47.042026       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.043361       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6e515901, selectedpod, 10.0.0.34:8000, ttft, 1530, tpot, 25, e2e, 1756, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:47.043393       1 gateway.go:748] "Request completed" requestID="967b99fb-8754-4f11-ae3c-2af77103ec23" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:47.043407       1 gateway.go:764] "HandleResponseBody completed" requestID="967b99fb-8754-4f11-ae3c-2af77103ec23" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:47.078587       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d39ebd76-0765-4aa7-8cc8-3a7c01cb256b"
I0305 06:39:47.083077       1 gateway.go:562] latency, 0.0000, summary, hash(request), a596fc02, selectedpod, 10.0.0.34:8000, ttft, 1582, tpot, 20, e2e, 1767, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 06:39:47.083098       1 gateway.go:748] "Request completed" requestID="fb07a42d-6e74-42d7-8d4b-12072922b9cc" targetPod="10.0.0.34:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 06:39:47.083109       1 gateway.go:764] "HandleResponseBody completed" requestID="fb07a42d-6e74-42d7-8d4b-12072922b9cc" promptTokens=7623 completionTokens=10 stream=true
I0305 06:39:47.102234       1 gateway.go:207] "Processing request" requestID="a6caeb44-c1a1-4d92-89b2-db5cbad835f4"
I0305 06:39:47.102254       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a6caeb44-c1a1-4d92-89b2-db5cbad835f4"
I0305 06:39:47.102262       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:47.102468       1 gateway.go:608] "First token received" requestID="d39ebd76-0765-4aa7-8cc8-3a7c01cb256b" ttft_ms=1739
I0305 06:39:47.125493       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0835, numInputTokens, 7597
I0305 06:39:47.125519       1 tree.go:471] Updated node(0) last access: 145.2235 seconds
I0305 06:39:47.125526       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.125532       1 tree.go:471] Updated node(2) last access: 145.2235 seconds
I0305 06:39:47.125545       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:47.125549       1 tree.go:471] Updated node(12) last access: 145.2235 seconds
I0305 06:39:47.125555       1 tree.go:484] Entire input tokens match the child node(130)
I0305 06:39:47.125559       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:39:47.125565       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:47.125572       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:47.125577       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.125561417 +0000 UTC m=+145.342288290 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:34.828449163 +0000 UTC m=+133.045176028]
I0305 06:39:47.125594       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:39:47.125602       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:47.125644       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7597
I0305 06:39:47.125653       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:47.125661       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.125667       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.125671       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.125677       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.125684       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.125693       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:47.125702       1 prefix_cache_and_load.go:584] latency, Route, 1.7450
I0305 06:39:47.125716       1 gateway.go:415] latency, selectTargetPod, 1.7450, target pod, 10.0.0.39:8000
I0305 06:39:47.125725       1 gateway.go:235] latency, HandleRequestBody, 1.7454
I0305 06:39:47.125751       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7264
I0305 06:39:47.125756       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.125759       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.125832       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.125881       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:47.125886       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.127929       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3ba2db3c, selectedpod, 10.0.0.131:8000, ttft, 1629, tpot, 19, e2e, 1801, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:47.127948       1 gateway.go:748] "Request completed" requestID="3a2bee87-a676-44c2-a8bb-693fdf693dd6" targetPod="10.0.0.131:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:47.127958       1 gateway.go:764] "HandleResponseBody completed" requestID="3a2bee87-a676-44c2-a8bb-693fdf693dd6" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:47.143807       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="382c9608-7a8e-4435-91b2-8637cd90537b"
I0305 06:39:47.172719       1 gateway.go:608] "First token received" requestID="382c9608-7a8e-4435-91b2-8637cd90537b" ttft_ms=1792
I0305 06:39:47.178698       1 gateway.go:207] "Processing request" requestID="82ff3f31-c999-4437-8d87-40e2bc64a0ae"
I0305 06:39:47.178721       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="82ff3f31-c999-4437-8d87-40e2bc64a0ae"
I0305 06:39:47.178730       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:47.183806       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0579, numInputTokens, 7597
I0305 06:39:47.183821       1 tree.go:471] Updated node(0) last access: 145.2818 seconds
I0305 06:39:47.183827       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.183830       1 tree.go:471] Updated node(2) last access: 145.2818 seconds
I0305 06:39:47.183845       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:47.183850       1 tree.go:471] Updated node(26) last access: 145.2818 seconds
I0305 06:39:47.183862       1 tree.go:667] Split complete - New node(206)
I0305 06:39:47.183867       1 tree.go:668] Split complete - Child node(1)
I0305 06:39:47.183873       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:39:47.183880       1 tree.go:471] Updated node(206) last access: 145.2818 seconds
I0305 06:39:47.183888       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:39:47.183894       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:47.183904       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:47.183912       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:47.183919       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.183898571 +0000 UTC m=+145.400625443]
I0305 06:39:47.183936       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7483, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:39:47.183947       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:39:47.184007       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7483
I0305 06:39:47.184017       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:47.184029       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.184036       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.184042       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.184051       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.184060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.184073       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.184082       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:47.184091       1 prefix_cache_and_load.go:584] latency, Route, 1.7847
I0305 06:39:47.184108       1 gateway.go:415] latency, selectTargetPod, 1.7847, target pod, 10.0.3.41:8000
I0305 06:39:47.184120       1 gateway.go:235] latency, HandleRequestBody, 1.7851
I0305 06:39:47.184152       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7813
I0305 06:39:47.184158       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.184162       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.184255       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.184297       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:47.184302       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.200699       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b4d3ccf5-5748-4426-a10c-41287f2c7c0c"
I0305 06:39:47.232528       1 gateway.go:207] "Processing request" requestID="69415d92-7088-42b2-a6e5-b888c06f4790"
I0305 06:39:47.232569       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="69415d92-7088-42b2-a6e5-b888c06f4790"
I0305 06:39:47.232578       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:47.235918       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0516, numInputTokens, 7598
I0305 06:39:47.235937       1 tree.go:471] Updated node(0) last access: 145.3339 seconds
I0305 06:39:47.235942       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.235946       1 tree.go:471] Updated node(2) last access: 145.3339 seconds
I0305 06:39:47.235958       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:47.235963       1 tree.go:471] Updated node(26) last access: 145.3339 seconds
I0305 06:39:47.235975       1 tree.go:484] Entire input tokens match the child node(135)
I0305 06:39:47.235980       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:47.235987       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:47.235992       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:47.236001       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.235983137 +0000 UTC m=+145.452710003 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:35.382332898 +0000 UTC m=+133.599059762]
I0305 06:39:47.236019       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:47.236027       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:47.236070       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7598
I0305 06:39:47.236080       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:47.236087       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.236091       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.236094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.236099       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.236108       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.236117       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:47.236127       1 prefix_cache_and_load.go:584] latency, Route, 1.8333
I0305 06:39:47.236142       1 gateway.go:415] latency, selectTargetPod, 1.8333, target pod, 10.0.3.41:8000
I0305 06:39:47.236153       1 gateway.go:235] latency, HandleRequestBody, 1.8336
I0305 06:39:47.236181       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8148
I0305 06:39:47.236186       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.236189       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.236270       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.236307       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:47.236312       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.238067       1 gateway.go:608] "First token received" requestID="b4d3ccf5-5748-4426-a10c-41287f2c7c0c" ttft_ms=1838
I0305 06:39:47.243414       1 gateway.go:562] latency, 0.0000, summary, hash(request), 053eff7b, selectedpod, 10.0.1.28:8000, ttft, 1697, tpot, 22, e2e, 1898, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:47.243431       1 gateway.go:748] "Request completed" requestID="c88717e5-cd4e-4dbe-91e8-3b0e6ac4eb8e" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:47.243440       1 gateway.go:764] "HandleResponseBody completed" requestID="c88717e5-cd4e-4dbe-91e8-3b0e6ac4eb8e" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:47.251499       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="73c3e286-106c-47d2-9ba6-1f59a310e8f7"
I0305 06:39:47.279668       1 gateway.go:608] "First token received" requestID="73c3e286-106c-47d2-9ba6-1f59a310e8f7" ttft_ms=1877
I0305 06:39:47.282839       1 gateway.go:562] latency, 0.0000, summary, hash(request), b70166ca, selectedpod, 10.0.1.28:8000, ttft, 1739, tpot, 20, e2e, 1920, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:47.282957       1 gateway.go:748] "Request completed" requestID="d39ebd76-0765-4aa7-8cc8-3a7c01cb256b" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:47.282980       1 gateway.go:764] "HandleResponseBody completed" requestID="d39ebd76-0765-4aa7-8cc8-3a7c01cb256b" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:47.300530       1 gateway.go:207] "Processing request" requestID="7efc848e-9135-432f-93fc-8bc531a22c3a"
I0305 06:39:47.300562       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7efc848e-9135-432f-93fc-8bc531a22c3a"
I0305 06:39:47.300569       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:47.318169       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0818, numInputTokens, 7597
I0305 06:39:47.318187       1 tree.go:471] Updated node(0) last access: 145.4161 seconds
I0305 06:39:47.318193       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.318197       1 tree.go:471] Updated node(2) last access: 145.4161 seconds
I0305 06:39:47.318210       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:47.318216       1 tree.go:471] Updated node(18) last access: 145.4162 seconds
I0305 06:39:47.318221       1 tree.go:484] Entire input tokens match the child node(136)
I0305 06:39:47.318223       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:39:47.318230       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:47.318236       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:47.318240       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.318226787 +0000 UTC m=+145.534953659 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:35.432633713 +0000 UTC m=+133.649360577]
I0305 06:39:47.318262       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:47.318269       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:47.318311       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7597
I0305 06:39:47.318320       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:47.318327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.318331       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.318336       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.318341       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.318348       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.318358       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:47.318370       1 prefix_cache_and_load.go:584] latency, Route, 1.8970
I0305 06:39:47.318385       1 gateway.go:415] latency, selectTargetPod, 1.8970, target pod, 10.0.0.131:8000
I0305 06:39:47.318396       1 gateway.go:235] latency, HandleRequestBody, 1.8973
I0305 06:39:47.318421       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8572
I0305 06:39:47.318426       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.318429       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.318532       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.318569       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:47.318574       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.338144       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4b5d071c-3441-4b27-b73f-520bb9684e66"
I0305 06:39:47.344431       1 gateway.go:562] latency, 0.0000, summary, hash(request), 465a9d90, selectedpod, 10.0.0.39:8000, ttft, 1792, tpot, 19, e2e, 1964, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:47.344453       1 gateway.go:748] "Request completed" requestID="382c9608-7a8e-4435-91b2-8637cd90537b" targetPod="10.0.0.39:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:47.344465       1 gateway.go:764] "HandleResponseBody completed" requestID="382c9608-7a8e-4435-91b2-8637cd90537b" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:47.362637       1 gateway.go:608] "First token received" requestID="4b5d071c-3441-4b27-b73f-520bb9684e66" ttft_ms=1941
I0305 06:39:47.403225       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0846, numInputTokens, 7600
I0305 06:39:47.403242       1 tree.go:471] Updated node(0) last access: 145.5012 seconds
I0305 06:39:47.403248       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.403252       1 tree.go:471] Updated node(2) last access: 145.5012 seconds
I0305 06:39:47.403265       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:47.403269       1 tree.go:471] Updated node(4) last access: 145.5012 seconds
I0305 06:39:47.403272       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:39:47.403275       1 tree.go:471] Updated node(63) last access: 145.5012 seconds
I0305 06:39:47.403278       1 tree.go:490] Partial tokens match child node(145). Continue to go deeper in the radix tree
I0305 06:39:47.403280       1 tree.go:471] Updated node(145) last access: 145.5012 seconds
I0305 06:39:47.403284       1 tree.go:490] Partial tokens match child node(161). Continue to go deeper in the radix tree
I0305 06:39:47.403286       1 tree.go:471] Updated node(161) last access: 145.5012 seconds
I0305 06:39:47.403291       1 tree.go:484] Entire input tokens match the child node(146)
I0305 06:39:47.403295       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:47.403303       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:47.403309       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:47.403314       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.403297663 +0000 UTC m=+145.620024528 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:35.791532015 +0000 UTC m=+134.008258882]
I0305 06:39:47.403331       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:47.403339       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:47.403384       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7600
I0305 06:39:47.403392       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:47.403401       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.403407       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.403412       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.403418       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.403422       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.403427       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.403430       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.403437       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.403446       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:47.403455       1 prefix_cache_and_load.go:584] latency, Route, 1.9422
I0305 06:39:47.403469       1 gateway.go:415] latency, selectTargetPod, 1.9422, target pod, 10.0.1.47:8000
I0305 06:39:47.403482       1 gateway.go:235] latency, HandleRequestBody, 1.9426
I0305 06:39:47.403483       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9168
I0305 06:39:47.403490       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.403496       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.403609       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.403651       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:47.403657       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.408441       1 gateway.go:207] "Processing request" requestID="68ec86f0-e9c2-42c2-b815-295a40358a85"
I0305 06:39:47.408482       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="68ec86f0-e9c2-42c2-b815-295a40358a85"
I0305 06:39:47.408495       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:47.424485       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d5db65fd-9523-424a-92ae-ccfcd4b8ad65"
I0305 06:39:47.440591       1 gateway.go:562] latency, 0.0000, summary, hash(request), 899e781f, selectedpod, 10.0.3.41:8000, ttft, 1838, tpot, 22, e2e, 2041, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:47.440620       1 gateway.go:748] "Request completed" requestID="b4d3ccf5-5748-4426-a10c-41287f2c7c0c" targetPod="10.0.3.41:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:47.440636       1 gateway.go:764] "HandleResponseBody completed" requestID="b4d3ccf5-5748-4426-a10c-41287f2c7c0c" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:47.456882       1 gateway.go:608] "First token received" requestID="d5db65fd-9523-424a-92ae-ccfcd4b8ad65" ttft_ms=1995
I0305 06:39:47.461001       1 gateway.go:562] latency, 0.0001, summary, hash(request), eb2f7e4a, selectedpod, 10.0.3.41:8000, ttft, 1877, tpot, 20, e2e, 2058, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:47.461021       1 gateway.go:748] "Request completed" requestID="73c3e286-106c-47d2-9ba6-1f59a310e8f7" targetPod="10.0.3.41:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:47.461034       1 gateway.go:764] "HandleResponseBody completed" requestID="73c3e286-106c-47d2-9ba6-1f59a310e8f7" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:47.482245       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0786, numInputTokens, 7591
I0305 06:39:47.482263       1 tree.go:471] Updated node(0) last access: 145.5802 seconds
I0305 06:39:47.482269       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.482273       1 tree.go:471] Updated node(2) last access: 145.5802 seconds
I0305 06:39:47.482285       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:47.482289       1 tree.go:471] Updated node(26) last access: 145.5802 seconds
I0305 06:39:47.482298       1 tree.go:667] Split complete - New node(208)
I0305 06:39:47.482301       1 tree.go:668] Split complete - Child node(172)
I0305 06:39:47.482309       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 06:39:47.482314       1 tree.go:471] Updated node(208) last access: 145.5803 seconds
I0305 06:39:47.482318       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 06:39:47.482323       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7591 tokens
I0305 06:39:47.482329       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7591 tokens
I0305 06:39:47.482336       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:47.482344       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.482325655 +0000 UTC m=+145.699052520]
I0305 06:39:47.482359       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7591, Matched tokens: 7480, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 06:39:47.482367       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 06:39:47.482413       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7480
I0305 06:39:47.482422       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:47.482430       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.482437       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.482443       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.482449       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.482454       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.482464       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.482474       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:47.482484       1 prefix_cache_and_load.go:584] latency, Route, 1.9958
I0305 06:39:47.482501       1 gateway.go:415] latency, selectTargetPod, 1.9958, target pod, 10.0.3.41:8000
I0305 06:39:47.482527       1 gateway.go:235] latency, HandleRequestBody, 1.9962
I0305 06:39:47.482540       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9806
I0305 06:39:47.482553       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.482556       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.482710       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.482757       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:47.482765       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.489065       1 gateway.go:207] "Processing request" requestID="03e4a0e2-b25a-4d8e-9eb6-e4e3256c0c41"
I0305 06:39:47.489090       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="03e4a0e2-b25a-4d8e-9eb6-e4e3256c0c41"
I0305 06:39:47.489097       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:47.498777       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="21fd6c04-7d18-4b64-9d6f-152b3f3ca390"
I0305 06:39:47.525237       1 gateway.go:207] "Processing request" requestID="f177dbf6-0b83-493b-9736-e04dd3e080f6"
I0305 06:39:47.525261       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f177dbf6-0b83-493b-9736-e04dd3e080f6"
I0305 06:39:47.525270       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:47.534232       1 gateway.go:608] "First token received" requestID="21fd6c04-7d18-4b64-9d6f-152b3f3ca390" ttft_ms=2047
I0305 06:39:47.535252       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0525, numInputTokens, 7601
I0305 06:39:47.535268       1 tree.go:471] Updated node(0) last access: 145.6332 seconds
I0305 06:39:47.535274       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.535280       1 tree.go:471] Updated node(2) last access: 145.6332 seconds
I0305 06:39:47.535295       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:47.535298       1 tree.go:471] Updated node(8) last access: 145.6332 seconds
I0305 06:39:47.535302       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:39:47.535304       1 tree.go:471] Updated node(85) last access: 145.6332 seconds
I0305 06:39:47.535308       1 tree.go:490] Partial tokens match child node(141). Continue to go deeper in the radix tree
I0305 06:39:47.535311       1 tree.go:471] Updated node(141) last access: 145.6333 seconds
I0305 06:39:47.535315       1 tree.go:484] Entire input tokens match the child node(142)
I0305 06:39:47.535319       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:47.535327       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:47.535334       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:47.535340       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.535321619 +0000 UTC m=+145.752048491 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:35.657031428 +0000 UTC m=+133.873758292]
I0305 06:39:47.535361       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:47.535368       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:47.535415       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7601
I0305 06:39:47.535424       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:47.535436       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.535442       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.535446       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.535449       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.535452       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.535455       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.535462       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.535471       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:47.535482       1 prefix_cache_and_load.go:584] latency, Route, 2.0335
I0305 06:39:47.535498       1 gateway.go:415] latency, selectTargetPod, 2.0335, target pod, 10.0.1.53:8000
I0305 06:39:47.535520       1 gateway.go:235] latency, HandleRequestBody, 2.0339
I0305 06:39:47.535528       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0195
I0305 06:39:47.535539       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.535543       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.535669       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.535712       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:47.535719       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.537337       1 gateway.go:562] latency, 0.0000, summary, hash(request), e99bd382, selectedpod, 10.0.0.131:8000, ttft, 1941, tpot, 19, e2e, 2116, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:47.537353       1 gateway.go:748] "Request completed" requestID="4b5d071c-3441-4b27-b73f-520bb9684e66" targetPod="10.0.0.131:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:47.537360       1 gateway.go:764] "HandleResponseBody completed" requestID="4b5d071c-3441-4b27-b73f-520bb9684e66" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:47.555279       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e024b38f-d59c-45b8-a817-41e9ea83653f"
I0305 06:39:47.557013       1 gateway.go:207] "Processing request" requestID="4e29085c-1a06-47fb-9b79-363c32e26496"
I0305 06:39:47.557044       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4e29085c-1a06-47fb-9b79-363c32e26496"
I0305 06:39:47.557053       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:47.587798       1 gateway.go:608] "First token received" requestID="e024b38f-d59c-45b8-a817-41e9ea83653f" ttft_ms=2086
I0305 06:39:47.618923       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0832, numInputTokens, 7599
I0305 06:39:47.618938       1 tree.go:471] Updated node(0) last access: 145.7169 seconds
I0305 06:39:47.618944       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.618947       1 tree.go:471] Updated node(2) last access: 145.7169 seconds
I0305 06:39:47.618961       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:47.618965       1 tree.go:471] Updated node(45) last access: 145.7169 seconds
I0305 06:39:47.618977       1 tree.go:484] Entire input tokens match the child node(147)
I0305 06:39:47.618982       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:47.618987       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:47.618992       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:47.618997       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.618983749 +0000 UTC m=+145.835710613 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:36.009755982 +0000 UTC m=+134.226482851]
I0305 06:39:47.619013       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:47.619022       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:47.619067       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:39:47.619076       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:47.619083       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.619089       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.619095       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.619100       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.619109       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.619117       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:47.619129       1 prefix_cache_and_load.go:584] latency, Route, 2.1031
I0305 06:39:47.619143       1 gateway.go:415] latency, selectTargetPod, 2.1032, target pod, 10.0.0.34:8000
I0305 06:39:47.619155       1 gateway.go:235] latency, HandleRequestBody, 2.1035
I0305 06:39:47.619156       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0803
I0305 06:39:47.619166       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.619169       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.619333       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.619384       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:47.619391       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.629869       1 gateway.go:562] latency, 0.0000, summary, hash(request), c62f97b8, selectedpod, 10.0.1.47:8000, ttft, 1995, tpot, 19, e2e, 2168, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:47.629891       1 gateway.go:748] "Request completed" requestID="d5db65fd-9523-424a-92ae-ccfcd4b8ad65" targetPod="10.0.1.47:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:47.629900       1 gateway.go:764] "HandleResponseBody completed" requestID="d5db65fd-9523-424a-92ae-ccfcd4b8ad65" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:47.638335       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fc9ce755-3d89-4424-81a1-d17ab476ed38"
I0305 06:39:47.644669       1 gateway.go:207] "Processing request" requestID="553dc4f4-8043-4790-b0c7-dbe99dfcb6fa"
I0305 06:39:47.644696       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="553dc4f4-8043-4790-b0c7-dbe99dfcb6fa"
I0305 06:39:47.644704       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:47.670127       1 gateway.go:608] "First token received" requestID="fc9ce755-3d89-4424-81a1-d17ab476ed38" ttft_ms=2154
I0305 06:39:47.672472       1 gateway.go:329] "-- In RequestBody processing ..." requestID="01c55a49-cac6-4932-9015-1b4ffb13f1b6"
I0305 06:39:47.672752       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="01c55a49-cac6-4932-9015-1b4ffb13f1b6" model="qwen2-5-7b-instruct"
I0305 06:39:47.694758       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b89c3822-73ba-45b9-84b7-433049a5fa32"
I0305 06:39:47.694958       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b89c3822-73ba-45b9-84b7-433049a5fa32" model="qwen2-5-7b-instruct"
I0305 06:39:47.697549       1 gateway.go:329] "-- In RequestBody processing ..." requestID="502c8982-44e8-40e2-b76d-c3593decc3bd"
I0305 06:39:47.697752       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="502c8982-44e8-40e2-b76d-c3593decc3bd" model="qwen2-5-7b-instruct"
I0305 06:39:47.701820       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0824, numInputTokens, 7604
I0305 06:39:47.701836       1 tree.go:471] Updated node(0) last access: 145.7998 seconds
I0305 06:39:47.701842       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.701846       1 tree.go:471] Updated node(2) last access: 145.7998 seconds
I0305 06:39:47.701859       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:47.701863       1 tree.go:471] Updated node(31) last access: 145.7998 seconds
I0305 06:39:47.701868       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 06:39:47.701874       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 06:39:47.701881       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 06:39:47.701889       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:47.701894       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.701876313 +0000 UTC m=+145.918603186]
I0305 06:39:47.701907       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 06:39:47.701913       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 06:39:47.701956       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:47.701964       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:47.701983       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.701989       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.701997       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.702002       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.702011       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.702021       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:47.702030       1 prefix_cache_and_load.go:584] latency, Route, 2.1632
I0305 06:39:47.702043       1 gateway.go:415] latency, selectTargetPod, 2.1632, target pod, 10.0.1.28:8000
I0305 06:39:47.702054       1 gateway.go:235] latency, HandleRequestBody, 2.1635
I0305 06:39:47.702083       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1231
I0305 06:39:47.702089       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.702092       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.702190       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.702228       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:47.702233       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.708082       1 gateway.go:562] latency, 0.0000, summary, hash(request), a6d0f85c, selectedpod, 10.0.3.41:8000, ttft, 2047, tpot, 19, e2e, 2221, numInputTokens, 7610, numOutputTokens, 10, numTotalTokens, 7620
I0305 06:39:47.708101       1 gateway.go:748] "Request completed" requestID="21fd6c04-7d18-4b64-9d6f-152b3f3ca390" targetPod="10.0.3.41:8000" promptTokens=7610 completionTokens=10 totalTokens=7620
I0305 06:39:47.708112       1 gateway.go:764] "HandleResponseBody completed" requestID="21fd6c04-7d18-4b64-9d6f-152b3f3ca390" promptTokens=7610 completionTokens=10 stream=true
I0305 06:39:47.716027       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e6d64086-244b-472a-8918-bf14454002c4"
I0305 06:39:47.716245       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e6d64086-244b-472a-8918-bf14454002c4" model="qwen2-5-7b-instruct"
I0305 06:39:47.721642       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="08de6885-d1f0-4781-a6e8-173a6d1618bb"
I0305 06:39:47.748741       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a854bd7b-c8f4-4478-86ae-d1ff03631328"
I0305 06:39:47.748995       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a854bd7b-c8f4-4478-86ae-d1ff03631328" model="qwen2-5-7b-instruct"
I0305 06:39:47.749682       1 gateway.go:329] "-- In RequestBody processing ..." requestID="16c77e2c-91f8-4a0a-8da7-296ab95164ff"
I0305 06:39:47.750062       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="16c77e2c-91f8-4a0a-8da7-296ab95164ff" model="qwen2-5-7b-instruct"
I0305 06:39:47.752043       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0498, numInputTokens, 7597
I0305 06:39:47.752059       1 tree.go:471] Updated node(0) last access: 145.8500 seconds
I0305 06:39:47.752067       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.752071       1 tree.go:471] Updated node(2) last access: 145.8500 seconds
I0305 06:39:47.752083       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:47.752089       1 tree.go:471] Updated node(45) last access: 145.8500 seconds
I0305 06:39:47.752093       1 tree.go:490] Partial tokens match child node(173). Continue to go deeper in the radix tree
I0305 06:39:47.752096       1 tree.go:471] Updated node(173) last access: 145.8500 seconds
I0305 06:39:47.752103       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:39:47.752109       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:47.752116       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:47.752123       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:47.752132       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.752111633 +0000 UTC m=+145.968838497]
I0305 06:39:47.752147       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7483, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:39:47.752153       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:39:47.752228       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7483
I0305 06:39:47.752237       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:47.752244       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.752251       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.752257       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.752262       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.752267       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.752278       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.752290       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:47.752300       1 prefix_cache_and_load.go:584] latency, Route, 2.1734
I0305 06:39:47.752317       1 gateway.go:415] latency, selectTargetPod, 2.1734, target pod, 10.0.0.34:8000
I0305 06:39:47.752329       1 gateway.go:235] latency, HandleRequestBody, 2.1737
I0305 06:39:47.752350       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1733
I0305 06:39:47.752366       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.752374       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.752691       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.752826       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:39:47.752834       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.778682       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fba48fe9-efa6-4d84-83d8-57116a1a8fbe"
I0305 06:39:47.778774       1 gateway.go:608] "First token received" requestID="08de6885-d1f0-4781-a6e8-173a6d1618bb" ttft_ms=2240
I0305 06:39:47.778983       1 gateway.go:562] latency, 0.0001, summary, hash(request), 71199108, selectedpod, 10.0.1.53:8000, ttft, 2086, tpot, 21, e2e, 2277, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:47.779008       1 gateway.go:748] "Request completed" requestID="e024b38f-d59c-45b8-a817-41e9ea83653f" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:47.779023       1 gateway.go:764] "HandleResponseBody completed" requestID="e024b38f-d59c-45b8-a817-41e9ea83653f" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:47.786068       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ac2d2448-42b4-4efa-b4df-ac5ef7dbe062"
I0305 06:39:47.786410       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ac2d2448-42b4-4efa-b4df-ac5ef7dbe062" model="qwen2-5-7b-instruct"
I0305 06:39:47.791996       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cfec237a-2720-46d0-abb7-2591e23205b7"
I0305 06:39:47.792209       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cfec237a-2720-46d0-abb7-2591e23205b7" model="qwen2-5-7b-instruct"
I0305 06:39:47.810604       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a6caeb44-c1a1-4d92-89b2-db5cbad835f4"
I0305 06:39:47.810993       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a6caeb44-c1a1-4d92-89b2-db5cbad835f4" model="qwen2-5-7b-instruct"
I0305 06:39:47.817675       1 gateway.go:608] "First token received" requestID="fba48fe9-efa6-4d84-83d8-57116a1a8fbe" ttft_ms=2238
I0305 06:39:47.828802       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0760, numInputTokens, 7604
I0305 06:39:47.828819       1 tree.go:471] Updated node(0) last access: 145.9268 seconds
I0305 06:39:47.828824       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.828828       1 tree.go:471] Updated node(2) last access: 145.9268 seconds
I0305 06:39:47.828841       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:47.828846       1 tree.go:471] Updated node(18) last access: 145.9268 seconds
I0305 06:39:47.828850       1 tree.go:484] Entire input tokens match the child node(149)
I0305 06:39:47.828854       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 06:39:47.828860       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 06:39:47.828867       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:47.828872       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.82885647 +0000 UTC m=+146.045583343 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:36.984454489 +0000 UTC m=+135.201181362]
I0305 06:39:47.828889       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7604, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:47.828897       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:47.828946       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7604
I0305 06:39:47.828955       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:47.828962       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.828976       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.828983       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.828987       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.828996       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.829005       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:47.829015       1 prefix_cache_and_load.go:584] latency, Route, 2.2500
I0305 06:39:47.829029       1 gateway.go:415] latency, selectTargetPod, 2.2500, target pod, 10.0.0.131:8000
I0305 06:39:47.829041       1 gateway.go:235] latency, HandleRequestBody, 2.2504
I0305 06:39:47.829068       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.2422
I0305 06:39:47.829073       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.829076       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.829188       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.829236       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:47.829241       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.832178       1 gateway.go:329] "-- In RequestBody processing ..." requestID="82ff3f31-c999-4437-8d87-40e2bc64a0ae"
I0305 06:39:47.832462       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="82ff3f31-c999-4437-8d87-40e2bc64a0ae" model="qwen2-5-7b-instruct"
I0305 06:39:47.847709       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fb4744f6-a73c-4f38-af2d-849bc0d40bb0"
I0305 06:39:47.865888       1 gateway.go:329] "-- In RequestBody processing ..." requestID="69415d92-7088-42b2-a6e5-b888c06f4790"
I0305 06:39:47.866105       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="69415d92-7088-42b2-a6e5-b888c06f4790" model="qwen2-5-7b-instruct"
I0305 06:39:47.878880       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8c9ac2eb, selectedpod, 10.0.0.34:8000, ttft, 2154, tpot, 23, e2e, 2363, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:47.878897       1 gateway.go:748] "Request completed" requestID="fc9ce755-3d89-4424-81a1-d17ab476ed38" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:47.878907       1 gateway.go:764] "HandleResponseBody completed" requestID="fc9ce755-3d89-4424-81a1-d17ab476ed38" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:47.879332       1 gateway.go:608] "First token received" requestID="fb4744f6-a73c-4f38-af2d-849bc0d40bb0" ttft_ms=2300
I0305 06:39:47.886294       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7efc848e-9135-432f-93fc-8bc531a22c3a"
I0305 06:39:47.886567       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7efc848e-9135-432f-93fc-8bc531a22c3a" model="qwen2-5-7b-instruct"
I0305 06:39:47.891865       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0626, numInputTokens, 7601
I0305 06:39:47.891881       1 tree.go:471] Updated node(0) last access: 145.9898 seconds
I0305 06:39:47.891887       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.891890       1 tree.go:471] Updated node(2) last access: 145.9898 seconds
I0305 06:39:47.891902       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:47.891907       1 tree.go:471] Updated node(18) last access: 145.9898 seconds
I0305 06:39:47.891911       1 tree.go:484] Entire input tokens match the child node(148)
I0305 06:39:47.891914       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:47.891921       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:47.891927       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:47.891933       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.891917682 +0000 UTC m=+146.108644547 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:36.834728202 +0000 UTC m=+135.051455065]
I0305 06:39:47.891951       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:47.891958       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:47.892017       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7601
I0305 06:39:47.892025       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:47.892032       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.892037       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.892041       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.892044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.892051       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.892059       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:47.892075       1 prefix_cache_and_load.go:584] latency, Route, 2.3052
I0305 06:39:47.892088       1 gateway.go:415] latency, selectTargetPod, 2.3052, target pod, 10.0.0.131:8000
I0305 06:39:47.892098       1 gateway.go:235] latency, HandleRequestBody, 2.3055
I0305 06:39:47.892132       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.2740
I0305 06:39:47.892136       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.892139       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.892243       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.892285       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:47.892290       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.901515       1 gateway.go:329] "-- In RequestBody processing ..." requestID="68ec86f0-e9c2-42c2-b815-295a40358a85"
I0305 06:39:47.901725       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="68ec86f0-e9c2-42c2-b815-295a40358a85" model="qwen2-5-7b-instruct"
I0305 06:39:47.910602       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="96dedcd8-1570-4458-bce3-a8466dd8922b"
I0305 06:39:47.937616       1 gateway.go:562] latency, 0.0000, summary, hash(request), b58ebdd3, selectedpod, 10.0.1.28:8000, ttft, 2240, tpot, 17, e2e, 2399, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 06:39:47.937636       1 gateway.go:748] "Request completed" requestID="08de6885-d1f0-4781-a6e8-173a6d1618bb" targetPod="10.0.1.28:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 06:39:47.937646       1 gateway.go:764] "HandleResponseBody completed" requestID="08de6885-d1f0-4781-a6e8-173a6d1618bb" promptTokens=7623 completionTokens=10 stream=true
I0305 06:39:47.947105       1 gateway.go:608] "First token received" requestID="96dedcd8-1570-4458-bce3-a8466dd8922b" ttft_ms=2360
I0305 06:39:47.967856       1 gateway.go:207] "Processing request" requestID="4d6ad597-ab50-4cb2-b921-27fcbd6b23f8"
I0305 06:39:47.967876       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4d6ad597-ab50-4cb2-b921-27fcbd6b23f8"
I0305 06:39:47.967885       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:47.986053       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0938, numInputTokens, 7600
I0305 06:39:47.986071       1 tree.go:471] Updated node(0) last access: 146.0840 seconds
I0305 06:39:47.986078       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:47.986082       1 tree.go:471] Updated node(2) last access: 146.0840 seconds
I0305 06:39:47.986096       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:47.986100       1 tree.go:471] Updated node(51) last access: 146.0840 seconds
I0305 06:39:47.986104       1 tree.go:490] Partial tokens match child node(143). Continue to go deeper in the radix tree
I0305 06:39:47.986107       1 tree.go:471] Updated node(143) last access: 146.0840 seconds
I0305 06:39:47.986110       1 tree.go:490] Partial tokens match child node(100). Continue to go deeper in the radix tree
I0305 06:39:47.986114       1 tree.go:471] Updated node(100) last access: 146.0841 seconds
I0305 06:39:47.986118       1 tree.go:490] Partial tokens match child node(137). Continue to go deeper in the radix tree
I0305 06:39:47.986122       1 tree.go:471] Updated node(137) last access: 146.0841 seconds
I0305 06:39:47.986126       1 tree.go:484] Entire input tokens match the child node(138)
I0305 06:39:47.986131       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:47.986140       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:47.986148       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:47.986157       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:47.986133295 +0000 UTC m=+146.202860162 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:35.516710024 +0000 UTC m=+133.733436893]
I0305 06:39:47.986175       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:47.986183       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:47.986238       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7600
I0305 06:39:47.986248       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:47.986258       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.986264       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.986269       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.986274       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.986279       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.986283       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.986289       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:47.986297       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:47.986305       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:47.986314       1 prefix_cache_and_load.go:584] latency, Route, 2.3682
I0305 06:39:47.986331       1 gateway.go:415] latency, selectTargetPod, 2.3682, target pod, 10.0.1.28:8000
I0305 06:39:47.986344       1 gateway.go:235] latency, HandleRequestBody, 2.3686
I0305 06:39:47.986379       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.3360
I0305 06:39:47.986398       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:47.986404       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:47.986568       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:47.986627       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:47.986633       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:47.994388       1 gateway.go:562] latency, 0.0000, summary, hash(request), 05ec3e72, selectedpod, 10.0.0.34:8000, ttft, 2238, tpot, 19, e2e, 2415, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:47.994416       1 gateway.go:748] "Request completed" requestID="fba48fe9-efa6-4d84-83d8-57116a1a8fbe" targetPod="10.0.0.34:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:47.994429       1 gateway.go:764] "HandleResponseBody completed" requestID="fba48fe9-efa6-4d84-83d8-57116a1a8fbe" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:48.004284       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="97654616-5091-4c75-96c9-a5e89a6745b4"
I0305 06:39:48.035376       1 gateway.go:207] "Processing request" requestID="be698aba-6dba-4a91-9568-2fe4da6f7140"
I0305 06:39:48.035410       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="be698aba-6dba-4a91-9568-2fe4da6f7140"
I0305 06:39:48.035421       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:48.035585       1 gateway.go:608] "First token received" requestID="97654616-5091-4c75-96c9-a5e89a6745b4" ttft_ms=2417
I0305 06:39:48.039881       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0532, numInputTokens, 7598
I0305 06:39:48.039900       1 tree.go:471] Updated node(0) last access: 146.1378 seconds
I0305 06:39:48.039906       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.039912       1 tree.go:471] Updated node(2) last access: 146.1379 seconds
I0305 06:39:48.039923       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:48.039927       1 tree.go:471] Updated node(31) last access: 146.1379 seconds
I0305 06:39:48.039931       1 tree.go:490] Partial tokens match child node(150). Continue to go deeper in the radix tree
I0305 06:39:48.039934       1 tree.go:471] Updated node(150) last access: 146.1379 seconds
I0305 06:39:48.039939       1 tree.go:484] Entire input tokens match the child node(151)
I0305 06:39:48.039944       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:48.039950       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:48.039957       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:48.039962       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.039946131 +0000 UTC m=+146.256673004 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:37.563011765 +0000 UTC m=+135.779738632]
I0305 06:39:48.039988       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:48.039996       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:48.040043       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7598
I0305 06:39:48.040051       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:48.040060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.040065       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.040070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.040075       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.040078       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.040086       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.040095       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:48.040107       1 prefix_cache_and_load.go:584] latency, Route, 2.3897
I0305 06:39:48.040122       1 gateway.go:415] latency, selectTargetPod, 2.3898, target pod, 10.0.1.28:8000
I0305 06:39:48.040137       1 gateway.go:235] latency, HandleRequestBody, 2.3901
I0305 06:39:48.040173       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.3634
I0305 06:39:48.040188       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.040192       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.040305       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.040346       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:48.040351       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.058717       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cddfa541-9df2-4440-a549-1e6a660fbda1"
I0305 06:39:48.088181       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8de50e11, selectedpod, 10.0.0.131:8000, ttft, 2300, tpot, 23, e2e, 2509, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 06:39:48.088201       1 gateway.go:748] "Request completed" requestID="fb4744f6-a73c-4f38-af2d-849bc0d40bb0" targetPod="10.0.0.131:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 06:39:48.088210       1 gateway.go:764] "HandleResponseBody completed" requestID="fb4744f6-a73c-4f38-af2d-849bc0d40bb0" promptTokens=7623 completionTokens=10 stream=true
I0305 06:39:48.096813       1 gateway.go:608] "First token received" requestID="cddfa541-9df2-4440-a549-1e6a660fbda1" ttft_ms=2446
I0305 06:39:48.121173       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0808, numInputTokens, 7599
I0305 06:39:48.121209       1 tree.go:471] Updated node(0) last access: 146.2191 seconds
I0305 06:39:48.121217       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.121223       1 tree.go:471] Updated node(2) last access: 146.2192 seconds
I0305 06:39:48.121243       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:48.121252       1 tree.go:471] Updated node(26) last access: 146.2192 seconds
I0305 06:39:48.121262       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:48.121303       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:48.121319       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:48.121331       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:48.121348       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.121308912 +0000 UTC m=+146.338035777]
I0305 06:39:48.121378       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:48.121386       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:48.121561       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7478
I0305 06:39:48.121582       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:39:48.121596       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.121607       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.121625       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.121635       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.121647       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.121659       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:48.121680       1 prefix_cache_and_load.go:584] latency, Route, 2.4449
I0305 06:39:48.121700       1 gateway.go:415] latency, selectTargetPod, 2.4449, target pod, 10.0.3.41:8000
I0305 06:39:48.121718       1 gateway.go:235] latency, HandleRequestBody, 2.4453
I0305 06:39:48.121746       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.4322
I0305 06:39:48.121762       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.121766       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.121963       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.122090       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:39:48.122097       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.125073       1 gateway.go:207] "Processing request" requestID="cb4f697a-e7f7-405a-a319-ef6fe6d27b73"
I0305 06:39:48.125105       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cb4f697a-e7f7-405a-a319-ef6fe6d27b73"
I0305 06:39:48.125114       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:48.127508       1 gateway.go:562] latency, 0.0000, summary, hash(request), bebd767c, selectedpod, 10.0.0.131:8000, ttft, 2360, tpot, 20, e2e, 2540, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:48.127539       1 gateway.go:748] "Request completed" requestID="96dedcd8-1570-4458-bce3-a8466dd8922b" targetPod="10.0.0.131:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:48.127555       1 gateway.go:764] "HandleResponseBody completed" requestID="96dedcd8-1570-4458-bce3-a8466dd8922b" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:48.138325       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="eeca339a-1d81-4b7d-89b0-848e3770d908"
I0305 06:39:48.166723       1 gateway.go:329] "-- In RequestBody processing ..." requestID="03e4a0e2-b25a-4d8e-9eb6-e4e3256c0c41"
I0305 06:39:48.166943       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="03e4a0e2-b25a-4d8e-9eb6-e4e3256c0c41" model="qwen2-5-7b-instruct"
I0305 06:39:48.177521       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4e29085c-1a06-47fb-9b79-363c32e26496"
I0305 06:39:48.177733       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4e29085c-1a06-47fb-9b79-363c32e26496" model="qwen2-5-7b-instruct"
I0305 06:39:48.180602       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f177dbf6-0b83-493b-9736-e04dd3e080f6"
I0305 06:39:48.180863       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f177dbf6-0b83-493b-9736-e04dd3e080f6" model="qwen2-5-7b-instruct"
I0305 06:39:48.182047       1 gateway.go:608] "First token received" requestID="eeca339a-1d81-4b7d-89b0-848e3770d908" ttft_ms=2505
I0305 06:39:48.198548       1 gateway.go:329] "-- In RequestBody processing ..." requestID="553dc4f4-8043-4790-b0c7-dbe99dfcb6fa"
I0305 06:39:48.198776       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="553dc4f4-8043-4790-b0c7-dbe99dfcb6fa" model="qwen2-5-7b-instruct"
I0305 06:39:48.209338       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0872, numInputTokens, 7599
I0305 06:39:48.209358       1 tree.go:471] Updated node(0) last access: 146.3073 seconds
I0305 06:39:48.209364       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.209368       1 tree.go:471] Updated node(2) last access: 146.3073 seconds
I0305 06:39:48.209381       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:48.209385       1 tree.go:471] Updated node(26) last access: 146.3073 seconds
I0305 06:39:48.209388       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 06:39:48.209392       1 tree.go:471] Updated node(75) last access: 146.3073 seconds
I0305 06:39:48.209401       1 tree.go:667] Split complete - New node(213)
I0305 06:39:48.209406       1 tree.go:668] Split complete - Child node(68)
I0305 06:39:48.209412       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 06:39:48.209417       1 tree.go:471] Updated node(213) last access: 146.3074 seconds
I0305 06:39:48.209421       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 06:39:48.209426       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:48.209433       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:48.209439       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:48.209446       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.20942864 +0000 UTC m=+146.426155505]
I0305 06:39:48.209462       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7490, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 06:39:48.209469       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 06:39:48.209526       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7490
I0305 06:39:48.209535       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:48.209542       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.209549       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.209553       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.209560       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.209564       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.209570       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.209579       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.209588       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:48.209598       1 prefix_cache_and_load.go:584] latency, Route, 2.5200
I0305 06:39:48.209612       1 gateway.go:415] latency, selectTargetPod, 2.5200, target pod, 10.0.3.41:8000
I0305 06:39:48.209622       1 gateway.go:235] latency, HandleRequestBody, 2.5204
I0305 06:39:48.209646       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.5016
I0305 06:39:48.209649       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.209652       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.209736       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.209788       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:48.209792       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.220019       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4d6ad597-ab50-4cb2-b921-27fcbd6b23f8"
I0305 06:39:48.220265       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4d6ad597-ab50-4cb2-b921-27fcbd6b23f8" model="qwen2-5-7b-instruct"
I0305 06:39:48.225439       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9b4c487e-832e-4d14-a2c7-794bac878026"
I0305 06:39:48.241306       1 gateway.go:562] latency, 0.0000, summary, hash(request), c17e6f2a, selectedpod, 10.0.1.28:8000, ttft, 2417, tpot, 22, e2e, 2623, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:48.241324       1 gateway.go:748] "Request completed" requestID="97654616-5091-4c75-96c9-a5e89a6745b4" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:48.241333       1 gateway.go:764] "HandleResponseBody completed" requestID="97654616-5091-4c75-96c9-a5e89a6745b4" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:48.251799       1 gateway.go:329] "-- In RequestBody processing ..." requestID="be698aba-6dba-4a91-9568-2fe4da6f7140"
I0305 06:39:48.252016       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="be698aba-6dba-4a91-9568-2fe4da6f7140" model="qwen2-5-7b-instruct"
I0305 06:39:48.263017       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0532, numInputTokens, 7605
I0305 06:39:48.263039       1 tree.go:471] Updated node(0) last access: 146.3610 seconds
I0305 06:39:48.263045       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.263049       1 tree.go:471] Updated node(2) last access: 146.3610 seconds
I0305 06:39:48.263063       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:48.263070       1 tree.go:471] Updated node(45) last access: 146.3610 seconds
I0305 06:39:48.263075       1 tree.go:484] Entire input tokens match the child node(154)
I0305 06:39:48.263080       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7605 tokens
I0305 06:39:48.263086       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7605 tokens
I0305 06:39:48.263093       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:48.263100       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.263082386 +0000 UTC m=+146.479809260 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:37.682312906 +0000 UTC m=+135.899039781]
I0305 06:39:48.263117       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7605, Matched tokens: 7605, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:48.263133       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:48.263207       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7605
I0305 06:39:48.263216       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:48.263226       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.263230       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.263234       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.263237       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.263245       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.263254       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:48.263266       1 prefix_cache_and_load.go:584] latency, Route, 2.5552
I0305 06:39:48.263277       1 gateway.go:415] latency, selectTargetPod, 2.5552, target pod, 10.0.0.34:8000
I0305 06:39:48.263292       1 gateway.go:235] latency, HandleRequestBody, 2.5555
I0305 06:39:48.263321       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.5361
I0305 06:39:48.263326       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.263329       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.263477       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.275716       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cb4f697a-e7f7-405a-a319-ef6fe6d27b73"
I0305 06:39:48.275951       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cb4f697a-e7f7-405a-a319-ef6fe6d27b73" model="qwen2-5-7b-instruct"
I0305 06:39:48.276210       1 gateway.go:608] "First token received" requestID="9b4c487e-832e-4d14-a2c7-794bac878026" ttft_ms=2586
I0305 06:39:48.278602       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0153
I0305 06:39:48.278608       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.278847       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7091c449, selectedpod, 10.0.1.28:8000, ttft, 2446, tpot, 20, e2e, 2628, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:48.278893       1 gateway.go:748] "Request completed" requestID="cddfa541-9df2-4440-a549-1e6a660fbda1" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:48.278912       1 gateway.go:764] "HandleResponseBody completed" requestID="cddfa541-9df2-4440-a549-1e6a660fbda1" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:48.293191       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2addfc46-7d34-4415-8911-035d978b8dbd"
I0305 06:39:48.324078       1 gateway.go:608] "First token received" requestID="2addfc46-7d34-4415-8911-035d978b8dbd" ttft_ms=2616
I0305 06:39:48.327269       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0487, numInputTokens, 7601
I0305 06:39:48.327288       1 tree.go:471] Updated node(0) last access: 146.4252 seconds
I0305 06:39:48.327296       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.327302       1 tree.go:471] Updated node(2) last access: 146.4252 seconds
I0305 06:39:48.327319       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:48.327324       1 tree.go:471] Updated node(53) last access: 146.4253 seconds
I0305 06:39:48.327328       1 tree.go:490] Partial tokens match child node(181). Continue to go deeper in the radix tree
I0305 06:39:48.327333       1 tree.go:471] Updated node(181) last access: 146.4253 seconds
I0305 06:39:48.327337       1 tree.go:490] Partial tokens match child node(152). Continue to go deeper in the radix tree
I0305 06:39:48.327341       1 tree.go:471] Updated node(152) last access: 146.4253 seconds
I0305 06:39:48.327348       1 tree.go:484] Entire input tokens match the child node(153)
I0305 06:39:48.327351       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:48.327361       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:48.327368       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:48.327375       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.327353938 +0000 UTC m=+146.544080818 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:37.614654945 +0000 UTC m=+135.831381822]
I0305 06:39:48.327391       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:48.327398       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:48.327442       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7601
I0305 06:39:48.327449       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0305 06:39:48.327456       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.327461       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.327466       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.327470       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.327473       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.327478       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.327485       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.327493       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:48.327507       1 prefix_cache_and_load.go:584] latency, Route, 2.6003
I0305 06:39:48.327536       1 gateway.go:415] latency, selectTargetPod, 2.6003, target pod, 10.0.0.34:8000
I0305 06:39:48.327550       1 gateway.go:235] latency, HandleRequestBody, 2.6006
I0305 06:39:48.327643       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1528
I0305 06:39:48.327652       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.327656       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.327780       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.327836       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:48.327842       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.346026       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3de88411-4f4f-48f7-943a-6e02c48c4fb5"
I0305 06:39:48.391950       1 gateway.go:608] "First token received" requestID="3de88411-4f4f-48f7-943a-6e02c48c4fb5" ttft_ms=2664
I0305 06:39:48.393340       1 gateway.go:562] latency, 0.0000, summary, hash(request), bf1bee4e, selectedpod, 10.0.3.41:8000, ttft, 2505, tpot, 23, e2e, 2716, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:48.393358       1 gateway.go:748] "Request completed" requestID="eeca339a-1d81-4b7d-89b0-848e3770d908" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:48.393367       1 gateway.go:764] "HandleResponseBody completed" requestID="eeca339a-1d81-4b7d-89b0-848e3770d908" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:48.395853       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0680, numInputTokens, 7598
I0305 06:39:48.395870       1 tree.go:471] Updated node(0) last access: 146.4938 seconds
I0305 06:39:48.395876       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.395880       1 tree.go:471] Updated node(2) last access: 146.4938 seconds
I0305 06:39:48.395893       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:48.395898       1 tree.go:471] Updated node(12) last access: 146.4938 seconds
I0305 06:39:48.395908       1 tree.go:667] Split complete - New node(215)
I0305 06:39:48.395912       1 tree.go:668] Split complete - Child node(130)
I0305 06:39:48.395918       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:39:48.395924       1 tree.go:471] Updated node(215) last access: 146.4939 seconds
I0305 06:39:48.395929       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:48.395934       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:48.395940       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:48.395946       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:48.395951       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.395936577 +0000 UTC m=+146.612663443]
I0305 06:39:48.395966       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7480, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:48.395983       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:48.396027       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7480
I0305 06:39:48.396036       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:48.396043       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.396051       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.396055       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.396060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.396064       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.396074       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.396083       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:48.396093       1 prefix_cache_and_load.go:584] latency, Route, 2.2212
I0305 06:39:48.396108       1 gateway.go:415] latency, selectTargetPod, 2.2212, target pod, 10.0.0.39:8000
I0305 06:39:48.396120       1 gateway.go:235] latency, HandleRequestBody, 2.2217
I0305 06:39:48.396126       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7233
I0305 06:39:48.396139       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.396146       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.396322       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.396374       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:48.396382       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.415330       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b6fe8bc9-c9c6-46a0-a856-f009f3cd292b"
I0305 06:39:48.452509       1 gateway.go:562] latency, 0.0000, summary, hash(request), aa2820a2, selectedpod, 10.0.3.41:8000, ttft, 2586, tpot, 19, e2e, 2763, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:48.452542       1 gateway.go:748] "Request completed" requestID="9b4c487e-832e-4d14-a2c7-794bac878026" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:48.452552       1 gateway.go:764] "HandleResponseBody completed" requestID="9b4c487e-832e-4d14-a2c7-794bac878026" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:48.459655       1 gateway.go:608] "First token received" requestID="b6fe8bc9-c9c6-46a0-a856-f009f3cd292b" ttft_ms=2285
I0305 06:39:48.480062       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0837, numInputTokens, 7602
I0305 06:39:48.480081       1 tree.go:471] Updated node(0) last access: 146.5780 seconds
I0305 06:39:48.480087       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.480091       1 tree.go:471] Updated node(2) last access: 146.5780 seconds
I0305 06:39:48.480105       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:48.480111       1 tree.go:471] Updated node(4) last access: 146.5781 seconds
I0305 06:39:48.480116       1 tree.go:484] Entire input tokens match the child node(155)
I0305 06:39:48.480119       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:48.480125       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:48.480134       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:48.480139       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.48012157 +0000 UTC m=+146.696848442 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:38.301932772 +0000 UTC m=+136.518659636]
I0305 06:39:48.480155       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:48.480163       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:48.480216       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7602
I0305 06:39:48.480226       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:48.480233       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.480238       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.480245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.480253       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.480260       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.480269       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:48.480282       1 prefix_cache_and_load.go:584] latency, Route, 0.8074
I0305 06:39:48.480298       1 gateway.go:415] latency, selectTargetPod, 0.8074, target pod, 10.0.1.47:8000
I0305 06:39:48.480310       1 gateway.go:235] latency, HandleRequestBody, 0.8078
I0305 06:39:48.480339       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7853
I0305 06:39:48.480351       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.480354       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.480524       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.480576       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:48.480583       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.499322       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="01c55a49-cac6-4932-9015-1b4ffb13f1b6"
I0305 06:39:48.530680       1 gateway.go:608] "First token received" requestID="01c55a49-cac6-4932-9015-1b4ffb13f1b6" ttft_ms=858
I0305 06:39:48.533935       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0533, numInputTokens, 7598
I0305 06:39:48.533953       1 tree.go:471] Updated node(0) last access: 146.6319 seconds
I0305 06:39:48.533959       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.533962       1 tree.go:471] Updated node(2) last access: 146.6319 seconds
I0305 06:39:48.533984       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:48.533988       1 tree.go:471] Updated node(4) last access: 146.6319 seconds
I0305 06:39:48.533992       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:39:48.533994       1 tree.go:471] Updated node(63) last access: 146.6319 seconds
I0305 06:39:48.533997       1 tree.go:490] Partial tokens match child node(145). Continue to go deeper in the radix tree
I0305 06:39:48.533999       1 tree.go:471] Updated node(145) last access: 146.6319 seconds
I0305 06:39:48.534002       1 tree.go:490] Partial tokens match child node(161). Continue to go deeper in the radix tree
I0305 06:39:48.534005       1 tree.go:471] Updated node(161) last access: 146.6319 seconds
I0305 06:39:48.534010       1 tree.go:484] Entire input tokens match the child node(162)
I0305 06:39:48.534013       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:48.534020       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:48.534026       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:48.534031       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.534015461 +0000 UTC m=+146.750742334 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:38.786727685 +0000 UTC m=+137.003454550]
I0305 06:39:48.534048       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:48.534055       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:48.534101       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7598
I0305 06:39:48.534110       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:48.534119       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.534125       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.534129       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.534135       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.534139       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.534143       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.534148       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.534156       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.534165       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:48.534177       1 prefix_cache_and_load.go:584] latency, Route, 0.8391
I0305 06:39:48.534193       1 gateway.go:415] latency, selectTargetPod, 0.8392, target pod, 10.0.1.47:8000
I0305 06:39:48.534205       1 gateway.go:235] latency, HandleRequestBody, 0.8395
I0305 06:39:48.534232       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8364
I0305 06:39:48.534237       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.534240       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.534329       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.534371       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:48.534376       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.534870       1 gateway.go:562] latency, 0.0000, summary, hash(request), edf3a57c, selectedpod, 10.0.0.34:8000, ttft, 2616, tpot, 23, e2e, 2827, numInputTokens, 7624, numOutputTokens, 10, numTotalTokens, 7634
I0305 06:39:48.534890       1 gateway.go:748] "Request completed" requestID="2addfc46-7d34-4415-8911-035d978b8dbd" targetPod="10.0.0.34:8000" promptTokens=7624 completionTokens=10 totalTokens=7634
I0305 06:39:48.534902       1 gateway.go:764] "HandleResponseBody completed" requestID="2addfc46-7d34-4415-8911-035d978b8dbd" promptTokens=7624 completionTokens=10 stream=true
I0305 06:39:48.551687       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b89c3822-73ba-45b9-84b7-433049a5fa32"
I0305 06:39:48.573365       1 gateway.go:562] latency, 0.0000, summary, hash(request), 63292ecc, selectedpod, 10.0.0.34:8000, ttft, 2664, tpot, 20, e2e, 2846, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:48.573383       1 gateway.go:748] "Request completed" requestID="3de88411-4f4f-48f7-943a-6e02c48c4fb5" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:48.573395       1 gateway.go:764] "HandleResponseBody completed" requestID="3de88411-4f4f-48f7-943a-6e02c48c4fb5" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:48.591787       1 gateway.go:608] "First token received" requestID="b89c3822-73ba-45b9-84b7-433049a5fa32" ttft_ms=896
I0305 06:39:48.608749       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0744, numInputTokens, 7599
I0305 06:39:48.608765       1 tree.go:471] Updated node(0) last access: 146.7067 seconds
I0305 06:39:48.608771       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.608774       1 tree.go:471] Updated node(2) last access: 146.7067 seconds
I0305 06:39:48.608788       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:48.608792       1 tree.go:471] Updated node(8) last access: 146.7067 seconds
I0305 06:39:48.608796       1 tree.go:484] Entire input tokens match the child node(158)
I0305 06:39:48.608800       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:48.608806       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:48.608812       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:48.608817       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.608802594 +0000 UTC m=+146.825529459 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:38.659901173 +0000 UTC m=+136.876628042]
I0305 06:39:48.608833       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:48.608840       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:48.608884       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7599
I0305 06:39:48.608893       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:48.608900       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.608906       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.608911       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.608915       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.608922       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.608932       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:48.608941       1 prefix_cache_and_load.go:584] latency, Route, 0.9111
I0305 06:39:48.608954       1 gateway.go:415] latency, selectTargetPod, 0.9111, target pod, 10.0.1.53:8000
I0305 06:39:48.608964       1 gateway.go:235] latency, HandleRequestBody, 0.9114
I0305 06:39:48.608999       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8927
I0305 06:39:48.609003       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.609006       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.609088       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.609125       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:48.609130       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.628151       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="502c8982-44e8-40e2-b76d-c3593decc3bd"
I0305 06:39:48.633521       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6c66e40b, selectedpod, 10.0.0.39:8000, ttft, 2285, tpot, 19, e2e, 2458, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:48.633544       1 gateway.go:748] "Request completed" requestID="b6fe8bc9-c9c6-46a0-a856-f009f3cd292b" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:48.633556       1 gateway.go:764] "HandleResponseBody completed" requestID="b6fe8bc9-c9c6-46a0-a856-f009f3cd292b" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:48.659379       1 gateway.go:608] "First token received" requestID="502c8982-44e8-40e2-b76d-c3593decc3bd" ttft_ms=961
I0305 06:39:48.687261       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0781, numInputTokens, 7603
I0305 06:39:48.687280       1 tree.go:471] Updated node(0) last access: 146.7852 seconds
I0305 06:39:48.687286       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.687289       1 tree.go:471] Updated node(2) last access: 146.7852 seconds
I0305 06:39:48.687301       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:48.687306       1 tree.go:471] Updated node(53) last access: 146.7852 seconds
I0305 06:39:48.687310       1 tree.go:484] Entire input tokens match the child node(157)
I0305 06:39:48.687315       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 06:39:48.687321       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:39:48.687327       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:48.687332       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.687317136 +0000 UTC m=+146.904044000 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:38.611308862 +0000 UTC m=+136.828035738]
I0305 06:39:48.687348       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:48.687354       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:48.687398       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7603
I0305 06:39:48.687407       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:48.687414       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.687420       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.687424       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.687427       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.687435       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.687444       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:48.687454       1 prefix_cache_and_load.go:584] latency, Route, 0.9711
I0305 06:39:48.687470       1 gateway.go:415] latency, selectTargetPod, 0.9712, target pod, 10.0.0.34:8000
I0305 06:39:48.687480       1 gateway.go:235] latency, HandleRequestBody, 0.9715
I0305 06:39:48.687506       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9384
I0305 06:39:48.687520       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.687524       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.687603       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.687641       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:48.687646       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.705721       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e6d64086-244b-472a-8918-bf14454002c4"
I0305 06:39:48.736889       1 gateway.go:608] "First token received" requestID="e6d64086-244b-472a-8918-bf14454002c4" ttft_ms=1020
I0305 06:39:48.736958       1 gateway.go:562] latency, 0.0001, summary, hash(request), 682acebf, selectedpod, 10.0.1.47:8000, ttft, 858, tpot, 22, e2e, 1064, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:48.736993       1 gateway.go:748] "Request completed" requestID="01c55a49-cac6-4932-9015-1b4ffb13f1b6" targetPod="10.0.1.47:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:48.737010       1 gateway.go:764] "HandleResponseBody completed" requestID="01c55a49-cac6-4932-9015-1b4ffb13f1b6" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:48.738850       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0512, numInputTokens, 7595
I0305 06:39:48.738867       1 tree.go:471] Updated node(0) last access: 146.8368 seconds
I0305 06:39:48.738875       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.738879       1 tree.go:471] Updated node(2) last access: 146.8368 seconds
I0305 06:39:48.738893       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:48.738896       1 tree.go:471] Updated node(31) last access: 146.8368 seconds
I0305 06:39:48.738907       1 tree.go:667] Split complete - New node(217)
I0305 06:39:48.738912       1 tree.go:668] Split complete - Child node(150)
I0305 06:39:48.738917       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:39:48.738921       1 tree.go:471] Updated node(217) last access: 146.8369 seconds
I0305 06:39:48.738926       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:39:48.738930       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:39:48.738937       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:39:48.738943       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:48.738948       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.738932836 +0000 UTC m=+146.955659701]
I0305 06:39:48.738962       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7481, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:39:48.738977       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:39:48.739028       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7481
I0305 06:39:48.739038       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:48.739045       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.739053       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.739061       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.739070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.739077       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.739088       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.739096       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:48.739135       1 prefix_cache_and_load.go:584] latency, Route, 0.9900
I0305 06:39:48.739154       1 gateway.go:415] latency, selectTargetPod, 0.9900, target pod, 10.0.1.28:8000
I0305 06:39:48.739166       1 gateway.go:235] latency, HandleRequestBody, 0.9904
I0305 06:39:48.739197       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9890
I0305 06:39:48.739201       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.739204       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.739302       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.739356       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:48.739361       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.778580       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a854bd7b-c8f4-4478-86ae-d1ff03631328"
I0305 06:39:48.778709       1 gateway.go:562] latency, 0.0000, summary, hash(request), ab77e84c, selectedpod, 10.0.1.47:8000, ttft, 896, tpot, 20, e2e, 1083, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:48.778730       1 gateway.go:748] "Request completed" requestID="b89c3822-73ba-45b9-84b7-433049a5fa32" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:48.778744       1 gateway.go:764] "HandleResponseBody completed" requestID="b89c3822-73ba-45b9-84b7-433049a5fa32" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:48.793443       1 gateway.go:608] "First token received" requestID="a854bd7b-c8f4-4478-86ae-d1ff03631328" ttft_ms=1044
I0305 06:39:48.813847       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0745, numInputTokens, 7601
I0305 06:39:48.813863       1 tree.go:471] Updated node(0) last access: 146.9118 seconds
I0305 06:39:48.813869       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.813873       1 tree.go:471] Updated node(2) last access: 146.9118 seconds
I0305 06:39:48.813887       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:48.813893       1 tree.go:471] Updated node(18) last access: 146.9118 seconds
I0305 06:39:48.813902       1 tree.go:667] Split complete - New node(219)
I0305 06:39:48.813907       1 tree.go:668] Split complete - Child node(149)
I0305 06:39:48.813912       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 06:39:48.813915       1 tree.go:471] Updated node(219) last access: 146.9119 seconds
I0305 06:39:48.813920       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:48.813925       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:48.813931       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:48.813937       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:48.813943       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.813927537 +0000 UTC m=+147.030654401]
I0305 06:39:48.813956       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:48.813966       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:48.814019       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7481
I0305 06:39:48.814028       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:48.814036       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.814045       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.814051       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.814056       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.814060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.814067       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.814075       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:48.814084       1 prefix_cache_and_load.go:584] latency, Route, 1.0639
I0305 06:39:48.814099       1 gateway.go:415] latency, selectTargetPod, 1.0639, target pod, 10.0.0.131:8000
I0305 06:39:48.814109       1 gateway.go:235] latency, HandleRequestBody, 1.0644
I0305 06:39:48.814119       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0276
I0305 06:39:48.814128       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.814132       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.814273       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.814322       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:48.814329       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.832852       1 gateway.go:562] latency, 0.0000, summary, hash(request), 165adebb, selectedpod, 10.0.1.53:8000, ttft, 961, tpot, 19, e2e, 1135, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:48.832865       1 gateway.go:748] "Request completed" requestID="502c8982-44e8-40e2-b76d-c3593decc3bd" targetPod="10.0.1.53:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:48.832873       1 gateway.go:764] "HandleResponseBody completed" requestID="502c8982-44e8-40e2-b76d-c3593decc3bd" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:48.833155       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="16c77e2c-91f8-4a0a-8da7-296ab95164ff"
I0305 06:39:48.866266       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0519, numInputTokens, 7597
I0305 06:39:48.866288       1 tree.go:471] Updated node(0) last access: 146.9642 seconds
I0305 06:39:48.866294       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.866298       1 tree.go:471] Updated node(2) last access: 146.9642 seconds
I0305 06:39:48.866311       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:48.866315       1 tree.go:471] Updated node(31) last access: 146.9643 seconds
I0305 06:39:48.866319       1 tree.go:484] Entire input tokens match the child node(156)
I0305 06:39:48.866324       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:39:48.866330       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:48.866338       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:48.866345       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.866326671 +0000 UTC m=+147.083053536 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:38.525248507 +0000 UTC m=+136.741975372]
I0305 06:39:48.866364       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:48.866377       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:48.866461       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7597
I0305 06:39:48.866471       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:48.866478       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.866483       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.866488       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.866493       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.866502       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.878594       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:48.878637       1 prefix_cache_and_load.go:584] latency, Route, 1.0921
I0305 06:39:48.878655       1 gateway.go:415] latency, selectTargetPod, 1.0921, target pod, 10.0.1.28:8000
I0305 06:39:48.878672       1 gateway.go:235] latency, HandleRequestBody, 1.0926
I0305 06:39:48.878755       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0864
I0305 06:39:48.878773       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.878778       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.879026       1 gateway.go:608] "First token received" requestID="16c77e2c-91f8-4a0a-8da7-296ab95164ff" ttft_ms=1129
I0305 06:39:48.879112       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.879274       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:39:48.879283       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.897570       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ac2d2448-42b4-4efa-b4df-ac5ef7dbe062"
I0305 06:39:48.909773       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0e7b3b9b, selectedpod, 10.0.0.34:8000, ttft, 1020, tpot, 19, e2e, 1193, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:39:48.909795       1 gateway.go:748] "Request completed" requestID="e6d64086-244b-472a-8918-bf14454002c4" targetPod="10.0.0.34:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:39:48.909807       1 gateway.go:764] "HandleResponseBody completed" requestID="e6d64086-244b-472a-8918-bf14454002c4" promptTokens=7622 completionTokens=10 stream=true
I0305 06:39:48.931541       1 gateway.go:608] "First token received" requestID="ac2d2448-42b4-4efa-b4df-ac5ef7dbe062" ttft_ms=1145
I0305 06:39:48.938757       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0595, numInputTokens, 7601
I0305 06:39:48.938776       1 tree.go:471] Updated node(0) last access: 147.0367 seconds
I0305 06:39:48.938782       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:48.938786       1 tree.go:471] Updated node(2) last access: 147.0367 seconds
I0305 06:39:48.938798       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:48.938804       1 tree.go:471] Updated node(26) last access: 147.0367 seconds
I0305 06:39:48.938807       1 tree.go:490] Partial tokens match child node(188). Continue to go deeper in the radix tree
I0305 06:39:48.938809       1 tree.go:471] Updated node(188) last access: 147.0368 seconds
I0305 06:39:48.938814       1 tree.go:484] Entire input tokens match the child node(164)
I0305 06:39:48.938817       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:48.938823       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:48.938829       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:48.938837       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:48.938819498 +0000 UTC m=+147.155546363 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:38.911395195 +0000 UTC m=+137.128122063]
I0305 06:39:48.938854       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:48.938860       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:48.938913       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7601
I0305 06:39:48.938921       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:48.938930       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.938935       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.938939       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.938942       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.938947       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:48.938956       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:48.938965       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:48.938982       1 prefix_cache_and_load.go:584] latency, Route, 1.1467
I0305 06:39:48.938999       1 gateway.go:415] latency, selectTargetPod, 1.1467, target pod, 10.0.3.41:8000
I0305 06:39:48.939008       1 gateway.go:235] latency, HandleRequestBody, 1.1470
I0305 06:39:48.939038       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1279
I0305 06:39:48.939043       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:48.939046       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:48.939135       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:48.939181       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:48.939186       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:48.955000       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cfec237a-2720-46d0-abb7-2591e23205b7"
I0305 06:39:48.987679       1 gateway.go:608] "First token received" requestID="cfec237a-2720-46d0-abb7-2591e23205b7" ttft_ms=1195
I0305 06:39:48.992375       1 gateway.go:562] latency, 0.0000, summary, hash(request), d61034cc, selectedpod, 10.0.1.28:8000, ttft, 1044, tpot, 22, e2e, 1243, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:48.992398       1 gateway.go:748] "Request completed" requestID="a854bd7b-c8f4-4478-86ae-d1ff03631328" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:48.992411       1 gateway.go:764] "HandleResponseBody completed" requestID="a854bd7b-c8f4-4478-86ae-d1ff03631328" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:49.010532       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0713, numInputTokens, 7596
I0305 06:39:49.010551       1 tree.go:471] Updated node(0) last access: 147.1085 seconds
I0305 06:39:49.010557       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.010561       1 tree.go:471] Updated node(2) last access: 147.1085 seconds
I0305 06:39:49.010575       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:49.010579       1 tree.go:471] Updated node(45) last access: 147.1085 seconds
I0305 06:39:49.010590       1 tree.go:667] Split complete - New node(221)
I0305 06:39:49.010594       1 tree.go:668] Split complete - Child node(147)
I0305 06:39:49.010599       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:39:49.010604       1 tree.go:471] Updated node(221) last access: 147.1085 seconds
I0305 06:39:49.010609       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 107 tokens:
I0305 06:39:49.010615       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:49.010621       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:49.010627       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:49.010631       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.010616771 +0000 UTC m=+147.227343636]
I0305 06:39:49.010646       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7489, Matching ratio: 0.9859, # Matched pods: 0, Matched pods: []
I0305 06:39:49.010653       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9859 > 0.5000)
I0305 06:39:49.010701       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7489
I0305 06:39:49.010710       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.010719       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.010726       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.010729       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.010731       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.010735       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.010743       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.010752       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:49.010763       1 prefix_cache_and_load.go:584] latency, Route, 1.1997
I0305 06:39:49.010777       1 gateway.go:415] latency, selectTargetPod, 1.1997, target pod, 10.0.0.34:8000
I0305 06:39:49.010788       1 gateway.go:235] latency, HandleRequestBody, 1.2002
I0305 06:39:49.010815       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1783
I0305 06:39:49.010820       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.010822       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.010909       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.010949       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:49.010954       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.029171       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a6caeb44-c1a1-4d92-89b2-db5cbad835f4"
I0305 06:39:49.049326       1 gateway.go:562] latency, 0.0000, summary, hash(request), e3f195b9, selectedpod, 10.0.0.131:8000, ttft, 1129, tpot, 18, e2e, 1299, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:49.049349       1 gateway.go:748] "Request completed" requestID="16c77e2c-91f8-4a0a-8da7-296ab95164ff" targetPod="10.0.0.131:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:49.049358       1 gateway.go:764] "HandleResponseBody completed" requestID="16c77e2c-91f8-4a0a-8da7-296ab95164ff" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:49.064704       1 gateway.go:608] "First token received" requestID="a6caeb44-c1a1-4d92-89b2-db5cbad835f4" ttft_ms=1254
I0305 06:39:49.096790       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0858, numInputTokens, 7600
I0305 06:39:49.096810       1 tree.go:471] Updated node(0) last access: 147.1947 seconds
I0305 06:39:49.096816       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.096819       1 tree.go:471] Updated node(2) last access: 147.1948 seconds
I0305 06:39:49.096831       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:49.096833       1 tree.go:471] Updated node(51) last access: 147.1948 seconds
I0305 06:39:49.096838       1 tree.go:484] Entire input tokens match the child node(165)
I0305 06:39:49.096843       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:49.096848       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:49.096856       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:49.096861       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.096844727 +0000 UTC m=+147.313571591 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:38.993939013 +0000 UTC m=+137.210665877]
I0305 06:39:49.096877       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:49.096886       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:49.096940       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7600
I0305 06:39:49.096949       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.096956       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.096965       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.096981       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.096986       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.096998       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.097012       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:49.097028       1 prefix_cache_and_load.go:584] latency, Route, 1.2645
I0305 06:39:49.097046       1 gateway.go:415] latency, selectTargetPod, 1.2645, target pod, 10.0.1.28:8000
I0305 06:39:49.097061       1 gateway.go:235] latency, HandleRequestBody, 1.2649
I0305 06:39:49.097095       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2309
I0305 06:39:49.097101       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.097104       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.097193       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.097237       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:49.097242       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.108700       1 gateway.go:562] latency, 0.0000, summary, hash(request), cfac6cd7, selectedpod, 10.0.1.28:8000, ttft, 1145, tpot, 19, e2e, 1322, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:49.108729       1 gateway.go:748] "Request completed" requestID="ac2d2448-42b4-4efa-b4df-ac5ef7dbe062" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:49.108757       1 gateway.go:764] "HandleResponseBody completed" requestID="ac2d2448-42b4-4efa-b4df-ac5ef7dbe062" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:49.115255       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="82ff3f31-c999-4437-8d87-40e2bc64a0ae"
I0305 06:39:49.149587       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0523, numInputTokens, 7598
I0305 06:39:49.149606       1 tree.go:471] Updated node(0) last access: 147.2475 seconds
I0305 06:39:49.149612       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.149615       1 tree.go:471] Updated node(2) last access: 147.2476 seconds
I0305 06:39:49.149629       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:49.149632       1 tree.go:471] Updated node(4) last access: 147.2476 seconds
I0305 06:39:49.149635       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:39:49.149639       1 tree.go:471] Updated node(63) last access: 147.2476 seconds
I0305 06:39:49.149644       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:39:49.149650       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:49.149657       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:49.149665       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:49.149670       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.149652526 +0000 UTC m=+147.366379391]
I0305 06:39:49.149685       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:39:49.149691       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:39:49.149736       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7481
I0305 06:39:49.149746       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.149754       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.149761       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.149765       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.149770       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.149776       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.149784       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.149793       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:49.149804       1 prefix_cache_and_load.go:584] latency, Route, 1.2836
I0305 06:39:49.149819       1 gateway.go:415] latency, selectTargetPod, 1.2836, target pod, 10.0.1.47:8000
I0305 06:39:49.149830       1 gateway.go:235] latency, HandleRequestBody, 1.2839
I0305 06:39:49.149858       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2631
I0305 06:39:49.149871       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.149875       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.150019       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.150064       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:49.150070       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.155790       1 gateway.go:608] "First token received" requestID="82ff3f31-c999-4437-8d87-40e2bc64a0ae" ttft_ms=1323
I0305 06:39:49.160784       1 gateway.go:562] latency, 0.0000, summary, hash(request), 18376846, selectedpod, 10.0.3.41:8000, ttft, 1195, tpot, 19, e2e, 1368, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:49.160801       1 gateway.go:748] "Request completed" requestID="cfec237a-2720-46d0-abb7-2591e23205b7" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:49.160811       1 gateway.go:764] "HandleResponseBody completed" requestID="cfec237a-2720-46d0-abb7-2591e23205b7" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:49.167887       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="69415d92-7088-42b2-a6e5-b888c06f4790"
I0305 06:39:49.210710       1 gateway.go:608] "First token received" requestID="69415d92-7088-42b2-a6e5-b888c06f4790" ttft_ms=1344
I0305 06:39:49.225041       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0750, numInputTokens, 7601
I0305 06:39:49.225057       1 tree.go:471] Updated node(0) last access: 147.3230 seconds
I0305 06:39:49.225063       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.225070       1 tree.go:471] Updated node(2) last access: 147.3230 seconds
I0305 06:39:49.225083       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:49.225088       1 tree.go:471] Updated node(8) last access: 147.3230 seconds
I0305 06:39:49.225092       1 tree.go:484] Entire input tokens match the child node(163)
I0305 06:39:49.225096       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:49.225102       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:49.225109       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:49.225114       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.225098771 +0000 UTC m=+147.441825636 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:38.84007768 +0000 UTC m=+137.056804555]
I0305 06:39:49.225132       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:49.225140       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:49.225188       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7601
I0305 06:39:49.225197       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.225204       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.225211       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.225214       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.225217       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.225224       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.225234       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:49.225242       1 prefix_cache_and_load.go:584] latency, Route, 1.3385
I0305 06:39:49.225258       1 gateway.go:415] latency, selectTargetPod, 1.3385, target pod, 10.0.1.53:8000
I0305 06:39:49.225268       1 gateway.go:235] latency, HandleRequestBody, 1.3390
I0305 06:39:49.225298       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3235
I0305 06:39:49.225303       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.225305       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.225386       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.225424       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:49.225429       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.237814       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2af473e3, selectedpod, 10.0.0.34:8000, ttft, 1254, tpot, 19, e2e, 1427, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:49.237842       1 gateway.go:748] "Request completed" requestID="a6caeb44-c1a1-4d92-89b2-db5cbad835f4" targetPod="10.0.0.34:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:49.237856       1 gateway.go:764] "HandleResponseBody completed" requestID="a6caeb44-c1a1-4d92-89b2-db5cbad835f4" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:49.244104       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7efc848e-9135-432f-93fc-8bc531a22c3a"
I0305 06:39:49.263084       1 gateway.go:207] "Processing request" requestID="741d329c-f707-4295-a521-167014ce1214"
I0305 06:39:49.263114       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="741d329c-f707-4295-a521-167014ce1214"
I0305 06:39:49.263121       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:49.275242       1 gateway.go:608] "First token received" requestID="7efc848e-9135-432f-93fc-8bc531a22c3a" ttft_ms=1388
I0305 06:39:49.293780       1 gateway.go:207] "Processing request" requestID="47b1d06f-111b-450b-a6d9-93aedac20224"
I0305 06:39:49.293808       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="47b1d06f-111b-450b-a6d9-93aedac20224"
I0305 06:39:49.293819       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:49.296154       1 gateway.go:329] "-- In RequestBody processing ..." requestID="741d329c-f707-4295-a521-167014ce1214"
I0305 06:39:49.296522       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="741d329c-f707-4295-a521-167014ce1214" model="qwen2-5-7b-instruct"
I0305 06:39:49.304745       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0793, numInputTokens, 7600
I0305 06:39:49.304767       1 tree.go:471] Updated node(0) last access: 147.4027 seconds
I0305 06:39:49.304773       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.304776       1 tree.go:471] Updated node(2) last access: 147.4027 seconds
I0305 06:39:49.304789       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:49.304793       1 tree.go:471] Updated node(23) last access: 147.4027 seconds
I0305 06:39:49.304798       1 tree.go:490] Partial tokens match child node(159). Continue to go deeper in the radix tree
I0305 06:39:49.304801       1 tree.go:471] Updated node(159) last access: 147.4027 seconds
I0305 06:39:49.304805       1 tree.go:484] Entire input tokens match the child node(160)
I0305 06:39:49.304809       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:49.304816       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:49.304824       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:49.304830       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.30481162 +0000 UTC m=+147.521538492 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:38.72570945 +0000 UTC m=+136.942436315]
I0305 06:39:49.304850       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:39:49.304857       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:49.304910       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7600
I0305 06:39:49.304919       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.304928       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.304931       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.304935       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.304940       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.304945       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.304954       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.304963       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:49.304985       1 prefix_cache_and_load.go:584] latency, Route, 1.4032
I0305 06:39:49.305001       1 gateway.go:415] latency, selectTargetPod, 1.4032, target pod, 10.0.3.42:8000
I0305 06:39:49.305015       1 gateway.go:235] latency, HandleRequestBody, 1.4035
I0305 06:39:49.305044       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1380
I0305 06:39:49.305050       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.305055       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.305161       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.305202       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:49.305206       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.311336       1 gateway.go:329] "-- In RequestBody processing ..." requestID="47b1d06f-111b-450b-a6d9-93aedac20224"
I0305 06:39:49.311561       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="47b1d06f-111b-450b-a6d9-93aedac20224" model="qwen2-5-7b-instruct"
I0305 06:39:49.324221       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="68ec86f0-e9c2-42c2-b815-295a40358a85"
I0305 06:39:49.328950       1 gateway.go:562] latency, 0.0000, summary, hash(request), fea8936d, selectedpod, 10.0.1.28:8000, ttft, 1323, tpot, 19, e2e, 1496, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:49.328983       1 gateway.go:748] "Request completed" requestID="82ff3f31-c999-4437-8d87-40e2bc64a0ae" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:49.328995       1 gateway.go:764] "HandleResponseBody completed" requestID="82ff3f31-c999-4437-8d87-40e2bc64a0ae" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:49.356785       1 gateway.go:608] "First token received" requestID="68ec86f0-e9c2-42c2-b815-295a40358a85" ttft_ms=1455
I0305 06:39:49.383301       1 gateway.go:207] "Processing request" requestID="629757db-fc2a-4a97-886b-7c6325fe89ce"
I0305 06:39:49.383324       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="629757db-fc2a-4a97-886b-7c6325fe89ce"
I0305 06:39:49.383333       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:49.383738       1 gateway.go:562] latency, 0.0000, summary, hash(request), d34c5d59, selectedpod, 10.0.1.47:8000, ttft, 1344, tpot, 19, e2e, 1517, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:49.383753       1 gateway.go:748] "Request completed" requestID="69415d92-7088-42b2-a6e5-b888c06f4790" targetPod="10.0.1.47:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:49.383761       1 gateway.go:764] "HandleResponseBody completed" requestID="69415d92-7088-42b2-a6e5-b888c06f4790" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:49.390351       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0851, numInputTokens, 7603
I0305 06:39:49.390370       1 tree.go:471] Updated node(0) last access: 147.4883 seconds
I0305 06:39:49.390377       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.390380       1 tree.go:471] Updated node(2) last access: 147.4883 seconds
I0305 06:39:49.390396       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:49.390400       1 tree.go:471] Updated node(8) last access: 147.4883 seconds
I0305 06:39:49.390403       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:39:49.390406       1 tree.go:471] Updated node(85) last access: 147.4883 seconds
I0305 06:39:49.390410       1 tree.go:484] Entire input tokens match the child node(166)
I0305 06:39:49.390415       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 06:39:49.390421       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:39:49.390429       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:49.390433       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.390416751 +0000 UTC m=+147.607143625 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:39.563897062 +0000 UTC m=+137.780623936]
I0305 06:39:49.390450       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:39:49.390456       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:49.390508       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7603
I0305 06:39:49.390530       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.390541       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.390547       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.390553       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.390557       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.390562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.390569       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.390579       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:49.390590       1 prefix_cache_and_load.go:584] latency, Route, 1.2236
I0305 06:39:49.390605       1 gateway.go:415] latency, selectTargetPod, 1.2236, target pod, 10.0.1.53:8000
I0305 06:39:49.390619       1 gateway.go:235] latency, HandleRequestBody, 1.2239
I0305 06:39:49.390648       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2128
I0305 06:39:49.390652       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.390655       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.390746       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.390789       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:49.390794       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.409536       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="03e4a0e2-b25a-4d8e-9eb6-e4e3256c0c41"
I0305 06:39:49.441557       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0508, numInputTokens, 7600
I0305 06:39:49.441575       1 tree.go:471] Updated node(0) last access: 147.5395 seconds
I0305 06:39:49.441581       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.441584       1 tree.go:471] Updated node(2) last access: 147.5395 seconds
I0305 06:39:49.441603       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:49.441607       1 tree.go:471] Updated node(51) last access: 147.5395 seconds
I0305 06:39:49.441611       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:39:49.441615       1 tree.go:471] Updated node(123) last access: 147.5396 seconds
I0305 06:39:49.441619       1 tree.go:490] Partial tokens match child node(168). Continue to go deeper in the radix tree
I0305 06:39:49.441623       1 tree.go:471] Updated node(168) last access: 147.5396 seconds
I0305 06:39:49.441627       1 tree.go:484] Entire input tokens match the child node(169)
I0305 06:39:49.441631       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:49.441638       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:49.441644       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:49.441650       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.441633326 +0000 UTC m=+147.658360190 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:39.750825279 +0000 UTC m=+137.967552143]
I0305 06:39:49.441666       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:49.441673       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:49.441722       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7600
I0305 06:39:49.441731       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.441740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.441746       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.441751       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.441756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.441760       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.441764       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.441772       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.441780       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:49.441788       1 prefix_cache_and_load.go:584] latency, Route, 1.2640
I0305 06:39:49.441802       1 gateway.go:415] latency, selectTargetPod, 1.2640, target pod, 10.0.1.28:8000
I0305 06:39:49.441813       1 gateway.go:235] latency, HandleRequestBody, 1.2643
I0305 06:39:49.441818       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2609
I0305 06:39:49.441841       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.441847       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.442403       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.442635       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0008
I0305 06:39:49.442647       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.457398       1 gateway.go:608] "First token received" requestID="03e4a0e2-b25a-4d8e-9eb6-e4e3256c0c41" ttft_ms=1290
I0305 06:39:49.460605       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4e29085c-1a06-47fb-9b79-363c32e26496"
I0305 06:39:49.478083       1 gateway.go:562] latency, 0.0000, summary, hash(request), 64e13894, selectedpod, 10.0.1.53:8000, ttft, 1388, tpot, 22, e2e, 1591, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:49.478102       1 gateway.go:748] "Request completed" requestID="7efc848e-9135-432f-93fc-8bc531a22c3a" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:49.478113       1 gateway.go:764] "HandleResponseBody completed" requestID="7efc848e-9135-432f-93fc-8bc531a22c3a" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:49.492192       1 gateway.go:608] "First token received" requestID="4e29085c-1a06-47fb-9b79-363c32e26496" ttft_ms=1314
I0305 06:39:49.496286       1 gateway.go:207] "Processing request" requestID="d6f2a904-9259-497c-95be-d914872d7d08"
I0305 06:39:49.496309       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d6f2a904-9259-497c-95be-d914872d7d08"
I0305 06:39:49.496316       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:49.519372       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0767, numInputTokens, 7603
I0305 06:39:49.519388       1 tree.go:471] Updated node(0) last access: 147.6173 seconds
I0305 06:39:49.519394       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.519398       1 tree.go:471] Updated node(2) last access: 147.6173 seconds
I0305 06:39:49.519411       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:49.519414       1 tree.go:471] Updated node(23) last access: 147.6174 seconds
I0305 06:39:49.519423       1 tree.go:667] Split complete - New node(224)
I0305 06:39:49.519427       1 tree.go:668] Split complete - Child node(195)
I0305 06:39:49.519434       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0305 06:39:49.519439       1 tree.go:471] Updated node(224) last access: 147.6174 seconds
I0305 06:39:49.519444       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:49.519448       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:39:49.519455       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:39:49.519461       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:49.519465       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.519451709 +0000 UTC m=+147.736178573]
I0305 06:39:49.519477       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7485, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:49.519483       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:49.519537       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7485
I0305 06:39:49.519547       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.519553       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.519558       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.519562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.519567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.519571       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.519579       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.519586       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:49.519595       1 prefix_cache_and_load.go:584] latency, Route, 1.3386
I0305 06:39:49.519608       1 gateway.go:415] latency, selectTargetPod, 1.3386, target pod, 10.0.3.42:8000
I0305 06:39:49.519619       1 gateway.go:235] latency, HandleRequestBody, 1.3390
I0305 06:39:49.519648       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3208
I0305 06:39:49.519652       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.519655       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.519745       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.519786       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:49.519791       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.530301       1 gateway.go:562] latency, 0.0000, summary, hash(request), 18ac63a0, selectedpod, 10.0.3.42:8000, ttft, 1455, tpot, 19, e2e, 1628, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:49.530316       1 gateway.go:748] "Request completed" requestID="68ec86f0-e9c2-42c2-b815-295a40358a85" targetPod="10.0.3.42:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:49.530324       1 gateway.go:764] "HandleResponseBody completed" requestID="68ec86f0-e9c2-42c2-b815-295a40358a85" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:49.530795       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d6f2a904-9259-497c-95be-d914872d7d08"
I0305 06:39:49.531040       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d6f2a904-9259-497c-95be-d914872d7d08" model="qwen2-5-7b-instruct"
I0305 06:39:49.535666       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f177dbf6-0b83-493b-9736-e04dd3e080f6"
I0305 06:39:49.583108       1 gateway.go:608] "First token received" requestID="f177dbf6-0b83-493b-9736-e04dd3e080f6" ttft_ms=1402
I0305 06:39:49.605442       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0856, numInputTokens, 7600
I0305 06:39:49.605462       1 tree.go:471] Updated node(0) last access: 147.7034 seconds
I0305 06:39:49.605468       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.605472       1 tree.go:471] Updated node(2) last access: 147.7034 seconds
I0305 06:39:49.605485       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:49.605490       1 tree.go:471] Updated node(26) last access: 147.7034 seconds
I0305 06:39:49.605496       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:49.605501       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:49.605507       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:49.605527       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:49.605535       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.605503052 +0000 UTC m=+147.822229926]
I0305 06:39:49.605556       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:49.605567       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:49.605616       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7478
I0305 06:39:49.605627       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.605634       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.605638       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.605642       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.605645       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.605654       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.605662       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:49.605674       1 prefix_cache_and_load.go:584] latency, Route, 1.4068
I0305 06:39:49.605686       1 gateway.go:415] latency, selectTargetPod, 1.4068, target pod, 10.0.3.41:8000
I0305 06:39:49.605696       1 gateway.go:235] latency, HandleRequestBody, 1.4072
I0305 06:39:49.605719       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3854
I0305 06:39:49.605724       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.605727       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.605813       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.605854       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:49.605859       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.613035       1 gateway.go:207] "Processing request" requestID="c50a6419-10e1-4799-93eb-250c4e082cbf"
I0305 06:39:49.613061       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c50a6419-10e1-4799-93eb-250c4e082cbf"
I0305 06:39:49.613071       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:49.621775       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="553dc4f4-8043-4790-b0c7-dbe99dfcb6fa"
I0305 06:39:49.632156       1 gateway.go:562] latency, 0.0000, summary, hash(request), 82c0004a, selectedpod, 10.0.1.53:8000, ttft, 1290, tpot, 19, e2e, 1465, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:39:49.632176       1 gateway.go:748] "Request completed" requestID="03e4a0e2-b25a-4d8e-9eb6-e4e3256c0c41" targetPod="10.0.1.53:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:39:49.632187       1 gateway.go:764] "HandleResponseBody completed" requestID="03e4a0e2-b25a-4d8e-9eb6-e4e3256c0c41" promptTokens=7622 completionTokens=10 stream=true
I0305 06:39:49.655145       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0493, numInputTokens, 7601
I0305 06:39:49.655162       1 tree.go:471] Updated node(0) last access: 147.7531 seconds
I0305 06:39:49.655169       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.655172       1 tree.go:471] Updated node(2) last access: 147.7531 seconds
I0305 06:39:49.655187       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:49.655191       1 tree.go:471] Updated node(4) last access: 147.7531 seconds
I0305 06:39:49.655195       1 tree.go:484] Entire input tokens match the child node(167)
I0305 06:39:49.655198       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:49.655204       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:49.655212       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:39:49.655221       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.655200307 +0000 UTC m=+147.871927171 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:39.701322031 +0000 UTC m=+137.918048905]
I0305 06:39:49.655240       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:49.655248       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:49.655298       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7601
I0305 06:39:49.655307       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.655316       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.655321       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.655327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.655335       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.655346       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.655359       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:49.655374       1 prefix_cache_and_load.go:584] latency, Route, 1.4350
I0305 06:39:49.655389       1 gateway.go:415] latency, selectTargetPod, 1.4350, target pod, 10.0.1.47:8000
I0305 06:39:49.655401       1 gateway.go:235] latency, HandleRequestBody, 1.4354
I0305 06:39:49.655399       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4033
I0305 06:39:49.655411       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.655416       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.655570       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.655619       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:49.655626       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.678726       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4d6ad597-ab50-4cb2-b921-27fcbd6b23f8"
I0305 06:39:49.679241       1 gateway.go:608] "First token received" requestID="553dc4f4-8043-4790-b0c7-dbe99dfcb6fa" ttft_ms=1480
I0305 06:39:49.679273       1 gateway.go:562] latency, 0.0000, summary, hash(request), c97a36a4, selectedpod, 10.0.1.28:8000, ttft, 1314, tpot, 20, e2e, 1501, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:49.679295       1 gateway.go:748] "Request completed" requestID="4e29085c-1a06-47fb-9b79-363c32e26496" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:49.679307       1 gateway.go:764] "HandleResponseBody completed" requestID="4e29085c-1a06-47fb-9b79-363c32e26496" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:49.702454       1 gateway.go:207] "Processing request" requestID="123b0c28-31b8-4d83-94d2-ba692129c28d"
I0305 06:39:49.702477       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="123b0c28-31b8-4d83-94d2-ba692129c28d"
I0305 06:39:49.702484       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:49.704297       1 gateway.go:608] "First token received" requestID="4d6ad597-ab50-4cb2-b921-27fcbd6b23f8" ttft_ms=1484
I0305 06:39:49.725229       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0696, numInputTokens, 7598
I0305 06:39:49.725245       1 tree.go:471] Updated node(0) last access: 147.8232 seconds
I0305 06:39:49.725251       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.725255       1 tree.go:471] Updated node(2) last access: 147.8232 seconds
I0305 06:39:49.725268       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:49.725272       1 tree.go:471] Updated node(18) last access: 147.8232 seconds
I0305 06:39:49.725275       1 tree.go:490] Partial tokens match child node(170). Continue to go deeper in the radix tree
I0305 06:39:49.725278       1 tree.go:471] Updated node(170) last access: 147.8232 seconds
I0305 06:39:49.725282       1 tree.go:484] Entire input tokens match the child node(171)
I0305 06:39:49.725285       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:49.725293       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:49.725301       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:49.725309       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.725288361 +0000 UTC m=+147.942015225 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:39.822779951 +0000 UTC m=+138.039506820]
I0305 06:39:49.725331       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:49.725342       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:49.725408       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7598
I0305 06:39:49.725421       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.725431       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.725439       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.725448       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.725452       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.725457       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.725464       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.725472       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:49.725481       1 prefix_cache_and_load.go:584] latency, Route, 1.4734
I0305 06:39:49.725494       1 gateway.go:415] latency, selectTargetPod, 1.4734, target pod, 10.0.0.131:8000
I0305 06:39:49.725502       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4494
I0305 06:39:49.725506       1 gateway.go:235] latency, HandleRequestBody, 1.4737
I0305 06:39:49.725509       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.725522       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.725655       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.725698       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:49.725703       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.745407       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="be698aba-6dba-4a91-9568-2fe4da6f7140"
I0305 06:39:49.756076       1 gateway.go:562] latency, 0.0000, summary, hash(request), b2df60cf, selectedpod, 10.0.3.42:8000, ttft, 1402, tpot, 19, e2e, 1575, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:39:49.756097       1 gateway.go:748] "Request completed" requestID="f177dbf6-0b83-493b-9736-e04dd3e080f6" targetPod="10.0.3.42:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:39:49.756107       1 gateway.go:764] "HandleResponseBody completed" requestID="f177dbf6-0b83-493b-9736-e04dd3e080f6" promptTokens=7622 completionTokens=10 stream=true
I0305 06:39:49.770953       1 gateway.go:608] "First token received" requestID="be698aba-6dba-4a91-9568-2fe4da6f7140" ttft_ms=1519
I0305 06:39:49.815473       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0898, numInputTokens, 7592
I0305 06:39:49.815492       1 tree.go:471] Updated node(0) last access: 147.9134 seconds
I0305 06:39:49.815498       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.815501       1 tree.go:471] Updated node(2) last access: 147.9134 seconds
I0305 06:39:49.815521       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:49.815524       1 tree.go:471] Updated node(26) last access: 147.9135 seconds
I0305 06:39:49.815528       1 tree.go:490] Partial tokens match child node(208). Continue to go deeper in the radix tree
I0305 06:39:49.815530       1 tree.go:471] Updated node(208) last access: 147.9135 seconds
I0305 06:39:49.815535       1 tree.go:484] Entire input tokens match the child node(172)
I0305 06:39:49.815539       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7592 tokens
I0305 06:39:49.815545       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7592 tokens
I0305 06:39:49.815551       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:49.815556       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.815540925 +0000 UTC m=+148.032267791 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:39.889417398 +0000 UTC m=+138.106144272]
I0305 06:39:49.815572       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7592, Matched tokens: 7592, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:49.815580       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:49.815626       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7592
I0305 06:39:49.815635       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.815643       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.815650       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.815654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.815660       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.815664       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.815672       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.815681       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:49.815693       1 prefix_cache_and_load.go:584] latency, Route, 1.5396
I0305 06:39:49.815708       1 gateway.go:415] latency, selectTargetPod, 1.5396, target pod, 10.0.3.41:8000
I0305 06:39:49.815719       1 gateway.go:235] latency, HandleRequestBody, 1.5400
I0305 06:39:49.815761       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5191
I0305 06:39:49.815766       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.815769       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.815858       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.815906       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:49.815913       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.827923       1 gateway.go:207] "Processing request" requestID="1dcfad7d-0c2f-4ea9-be21-2c6b30b9f59a"
I0305 06:39:49.827947       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1dcfad7d-0c2f-4ea9-be21-2c6b30b9f59a"
I0305 06:39:49.827955       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:49.832059       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cb4f697a-e7f7-405a-a319-ef6fe6d27b73"
I0305 06:39:49.847216       1 gateway.go:562] latency, 0.0000, summary, hash(request), 688aa7f1, selectedpod, 10.0.3.41:8000, ttft, 1480, tpot, 18, e2e, 1648, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:49.847242       1 gateway.go:748] "Request completed" requestID="553dc4f4-8043-4790-b0c7-dbe99dfcb6fa" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:49.847259       1 gateway.go:764] "HandleResponseBody completed" requestID="553dc4f4-8043-4790-b0c7-dbe99dfcb6fa" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:49.865163       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 7597
I0305 06:39:49.865179       1 tree.go:471] Updated node(0) last access: 147.9631 seconds
I0305 06:39:49.865185       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.865188       1 tree.go:471] Updated node(2) last access: 147.9631 seconds
I0305 06:39:49.865201       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:49.865203       1 tree.go:471] Updated node(45) last access: 147.9631 seconds
I0305 06:39:49.865207       1 tree.go:490] Partial tokens match child node(173). Continue to go deeper in the radix tree
I0305 06:39:49.865210       1 tree.go:471] Updated node(173) last access: 147.9632 seconds
I0305 06:39:49.865215       1 tree.go:484] Entire input tokens match the child node(174)
I0305 06:39:49.865218       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:39:49.865224       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:49.865230       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:49.865234       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.865220135 +0000 UTC m=+148.081947000 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:40.520498351 +0000 UTC m=+138.737225216]
I0305 06:39:49.865252       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:49.865261       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:49.865320       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7597
I0305 06:39:49.865329       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.865336       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.865341       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.865346       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.865349       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.865354       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.865361       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.865369       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:49.865377       1 prefix_cache_and_load.go:584] latency, Route, 0.5687
I0305 06:39:49.865393       1 gateway.go:415] latency, selectTargetPod, 0.5687, target pod, 10.0.0.34:8000
I0305 06:39:49.865404       1 gateway.go:235] latency, HandleRequestBody, 0.5693
I0305 06:39:49.865436       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5538
I0305 06:39:49.865441       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.865443       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.865555       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.865596       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:49.865601       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.866803       1 gateway.go:608] "First token received" requestID="cb4f697a-e7f7-405a-a319-ef6fe6d27b73" ttft_ms=1591
I0305 06:39:49.878365       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0a42ca7e, selectedpod, 10.0.1.47:8000, ttft, 1484, tpot, 19, e2e, 1658, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:49.878390       1 gateway.go:748] "Request completed" requestID="4d6ad597-ab50-4cb2-b921-27fcbd6b23f8" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:49.878401       1 gateway.go:764] "HandleResponseBody completed" requestID="4d6ad597-ab50-4cb2-b921-27fcbd6b23f8" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:49.886551       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="741d329c-f707-4295-a521-167014ce1214"
I0305 06:39:49.911519       1 gateway.go:608] "First token received" requestID="741d329c-f707-4295-a521-167014ce1214" ttft_ms=615
I0305 06:39:49.923484       1 gateway.go:207] "Processing request" requestID="6e1a23f8-8d88-47d5-8c99-45a304d30a7f"
I0305 06:39:49.923525       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6e1a23f8-8d88-47d5-8c99-45a304d30a7f"
I0305 06:39:49.923536       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:49.931295       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0657, numInputTokens, 7599
I0305 06:39:49.931316       1 tree.go:471] Updated node(0) last access: 148.0293 seconds
I0305 06:39:49.931323       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:49.931326       1 tree.go:471] Updated node(2) last access: 148.0293 seconds
I0305 06:39:49.931340       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:49.931343       1 tree.go:471] Updated node(31) last access: 148.0293 seconds
I0305 06:39:49.931352       1 tree.go:667] Split complete - New node(227)
I0305 06:39:49.931357       1 tree.go:668] Split complete - Child node(42)
I0305 06:39:49.931362       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:39:49.931366       1 tree.go:471] Updated node(227) last access: 148.0293 seconds
I0305 06:39:49.931372       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:39:49.931377       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:49.931383       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:49.931390       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:49.931395       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:49.9313792 +0000 UTC m=+148.148106065]
I0305 06:39:49.931409       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7480, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:39:49.931415       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:39:49.931461       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7480
I0305 06:39:49.931470       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:49.931477       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.931485       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.931490       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.931496       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.931500       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:49.931508       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:49.931526       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:49.931536       1 prefix_cache_and_load.go:584] latency, Route, 0.6199
I0305 06:39:49.931551       1 gateway.go:415] latency, selectTargetPod, 0.6199, target pod, 10.0.1.28:8000
I0305 06:39:49.931561       1 gateway.go:235] latency, HandleRequestBody, 0.6202
I0305 06:39:49.931590       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4005
I0305 06:39:49.931595       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:49.931598       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:49.931688       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:49.931729       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:49.931734       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:49.978642       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="47b1d06f-111b-450b-a6d9-93aedac20224"
I0305 06:39:49.978948       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2e0f441f, selectedpod, 10.0.0.131:8000, ttft, 1519, tpot, 23, e2e, 1727, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:49.979000       1 gateway.go:748] "Request completed" requestID="be698aba-6dba-4a91-9568-2fe4da6f7140" targetPod="10.0.0.131:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:49.979021       1 gateway.go:764] "HandleResponseBody completed" requestID="be698aba-6dba-4a91-9568-2fe4da6f7140" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:49.982250       1 gateway.go:329] "-- In RequestBody processing ..." requestID="629757db-fc2a-4a97-886b-7c6325fe89ce"
I0305 06:39:49.982468       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="629757db-fc2a-4a97-886b-7c6325fe89ce" model="qwen2-5-7b-instruct"
I0305 06:39:49.993261       1 gateway.go:608] "First token received" requestID="47b1d06f-111b-450b-a6d9-93aedac20224" ttft_ms=681
I0305 06:39:49.998766       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c50a6419-10e1-4799-93eb-250c4e082cbf"
I0305 06:39:49.999021       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c50a6419-10e1-4799-93eb-250c4e082cbf" model="qwen2-5-7b-instruct"
I0305 06:39:50.023934       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0922, numInputTokens, 7601
I0305 06:39:50.023953       1 tree.go:471] Updated node(0) last access: 148.1219 seconds
I0305 06:39:50.023960       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:50.023963       1 tree.go:471] Updated node(2) last access: 148.1219 seconds
I0305 06:39:50.023985       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:50.023988       1 tree.go:471] Updated node(4) last access: 148.1219 seconds
I0305 06:39:50.023999       1 tree.go:667] Split complete - New node(229)
I0305 06:39:50.024004       1 tree.go:668] Split complete - Child node(179)
I0305 06:39:50.024008       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 06:39:50.024012       1 tree.go:471] Updated node(229) last access: 148.1220 seconds
I0305 06:39:50.024019       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 06:39:50.024022       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:50.024030       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:50.024035       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:50.024040       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:50.024025359 +0000 UTC m=+148.240752223]
I0305 06:39:50.024055       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7489, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 06:39:50.024062       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 06:39:50.024119       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7489
I0305 06:39:50.024128       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:50.024135       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.024142       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.024146       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.024151       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.024156       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.024164       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:50.024173       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:50.024184       1 prefix_cache_and_load.go:584] latency, Route, 0.4931
I0305 06:39:50.024199       1 gateway.go:415] latency, selectTargetPod, 0.4931, target pod, 10.0.1.47:8000
I0305 06:39:50.024213       1 gateway.go:235] latency, HandleRequestBody, 0.4934
I0305 06:39:50.024238       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0417
I0305 06:39:50.024249       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:50.024255       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:50.024394       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:50.024438       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:50.024444       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:50.035974       1 gateway.go:329] "-- In RequestBody processing ..." requestID="123b0c28-31b8-4d83-94d2-ba692129c28d"
I0305 06:39:50.036204       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="123b0c28-31b8-4d83-94d2-ba692129c28d" model="qwen2-5-7b-instruct"
I0305 06:39:50.040242       1 gateway.go:562] latency, 0.0000, summary, hash(request), f63f2ffb, selectedpod, 10.0.3.41:8000, ttft, 1591, tpot, 19, e2e, 1764, numInputTokens, 7611, numOutputTokens, 10, numTotalTokens, 7621
I0305 06:39:50.040259       1 gateway.go:748] "Request completed" requestID="cb4f697a-e7f7-405a-a319-ef6fe6d27b73" targetPod="10.0.3.41:8000" promptTokens=7611 completionTokens=10 totalTokens=7621
I0305 06:39:50.040269       1 gateway.go:764] "HandleResponseBody completed" requestID="cb4f697a-e7f7-405a-a319-ef6fe6d27b73" promptTokens=7611 completionTokens=10 stream=true
I0305 06:39:50.043820       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d6f2a904-9259-497c-95be-d914872d7d08"
I0305 06:39:50.061097       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1dcfad7d-0c2f-4ea9-be21-2c6b30b9f59a"
I0305 06:39:50.061298       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1dcfad7d-0c2f-4ea9-be21-2c6b30b9f59a" model="qwen2-5-7b-instruct"
I0305 06:39:50.067321       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6e1a23f8-8d88-47d5-8c99-45a304d30a7f"
I0305 06:39:50.067522       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6e1a23f8-8d88-47d5-8c99-45a304d30a7f" model="qwen2-5-7b-instruct"
I0305 06:39:50.078644       1 gateway.go:608] "First token received" requestID="d6f2a904-9259-497c-95be-d914872d7d08" ttft_ms=547
I0305 06:39:50.084463       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5b6a1f29, selectedpod, 10.0.0.34:8000, ttft, 615, tpot, 19, e2e, 788, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:50.084481       1 gateway.go:748] "Request completed" requestID="741d329c-f707-4295-a521-167014ce1214" targetPod="10.0.0.34:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:50.084494       1 gateway.go:764] "HandleResponseBody completed" requestID="741d329c-f707-4295-a521-167014ce1214" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:50.104618       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0802, numInputTokens, 7599
I0305 06:39:50.104644       1 tree.go:471] Updated node(0) last access: 148.2026 seconds
I0305 06:39:50.104651       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:50.104655       1 tree.go:471] Updated node(2) last access: 148.2026 seconds
I0305 06:39:50.104668       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:50.104672       1 tree.go:471] Updated node(23) last access: 148.2026 seconds
I0305 06:39:50.104678       1 tree.go:490] Partial tokens match child node(87). Continue to go deeper in the radix tree
I0305 06:39:50.104683       1 tree.go:471] Updated node(87) last access: 148.2026 seconds
I0305 06:39:50.104705       1 tree.go:667] Split complete - New node(231)
I0305 06:39:50.104717       1 tree.go:668] Split complete - Child node(70)
I0305 06:39:50.104725       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:39:50.104732       1 tree.go:471] Updated node(231) last access: 148.2027 seconds
I0305 06:39:50.104743       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:50.104750       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:50.104759       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:50.104769       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:50.104781       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:50.104752608 +0000 UTC m=+148.321479473]
I0305 06:39:50.104807       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:50.104818       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:50.104982       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7483
I0305 06:39:50.105031       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:39:50.105060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.105069       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.105074       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.105081       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.105086       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.105092       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.105101       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:50.105121       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:50.105134       1 prefix_cache_and_load.go:584] latency, Route, 0.1226
I0305 06:39:50.105150       1 gateway.go:415] latency, selectTargetPod, 0.1226, target pod, 10.0.3.42:8000
I0305 06:39:50.105170       1 gateway.go:235] latency, HandleRequestBody, 0.1229
I0305 06:39:50.105217       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1061
I0305 06:39:50.105231       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:50.105235       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:50.105468       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:50.105578       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:39:50.105585       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:50.121206       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="629757db-fc2a-4a97-886b-7c6325fe89ce"
I0305 06:39:50.129325       1 gateway.go:207] "Processing request" requestID="08982072-4b31-4da2-ba0c-d714041ff1f4"
I0305 06:39:50.129345       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="08982072-4b31-4da2-ba0c-d714041ff1f4"
I0305 06:39:50.129353       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:50.165170       1 gateway.go:608] "First token received" requestID="629757db-fc2a-4a97-886b-7c6325fe89ce" ttft_ms=182
I0305 06:39:50.178623       1 gateway.go:562] latency, 0.0000, summary, hash(request), 867a3881, selectedpod, 10.0.1.28:8000, ttft, 681, tpot, 20, e2e, 867, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:50.178641       1 gateway.go:748] "Request completed" requestID="47b1d06f-111b-450b-a6d9-93aedac20224" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:50.178651       1 gateway.go:764] "HandleResponseBody completed" requestID="47b1d06f-111b-450b-a6d9-93aedac20224" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:50.187440       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0818, numInputTokens, 7595
I0305 06:39:50.187457       1 tree.go:471] Updated node(0) last access: 148.2854 seconds
I0305 06:39:50.187464       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:50.187467       1 tree.go:471] Updated node(2) last access: 148.2854 seconds
I0305 06:39:50.187480       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:50.187484       1 tree.go:471] Updated node(31) last access: 148.2854 seconds
I0305 06:39:50.187488       1 tree.go:490] Partial tokens match child node(111). Continue to go deeper in the radix tree
I0305 06:39:50.187491       1 tree.go:471] Updated node(111) last access: 148.2854 seconds
I0305 06:39:50.187495       1 tree.go:490] Partial tokens match child node(177). Continue to go deeper in the radix tree
I0305 06:39:50.187497       1 tree.go:471] Updated node(177) last access: 148.2854 seconds
I0305 06:39:50.187502       1 tree.go:484] Entire input tokens match the child node(178)
I0305 06:39:50.187506       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:39:50.187524       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:39:50.187534       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:50.187541       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:50.187508483 +0000 UTC m=+148.404235356 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:40.832137663 +0000 UTC m=+139.048864527]
I0305 06:39:50.187562       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7595, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:50.187569       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:50.187621       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7595
I0305 06:39:50.187630       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:50.187638       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.187642       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.187646       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.187651       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.187654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.187660       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.187667       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:50.187675       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:50.187686       1 prefix_cache_and_load.go:584] latency, Route, 0.1886
I0305 06:39:50.187699       1 gateway.go:415] latency, selectTargetPod, 0.1886, target pod, 10.0.1.28:8000
I0305 06:39:50.187710       1 gateway.go:235] latency, HandleRequestBody, 0.1889
I0305 06:39:50.187738       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1515
I0305 06:39:50.187743       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:50.187746       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:50.187845       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:50.187894       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:50.187898       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:50.205587       1 gateway.go:207] "Processing request" requestID="b87f1ff7-0d99-4a3d-9f70-a0db7b3ac5df"
I0305 06:39:50.205619       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b87f1ff7-0d99-4a3d-9f70-a0db7b3ac5df"
I0305 06:39:50.205627       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:50.205744       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c50a6419-10e1-4799-93eb-250c4e082cbf"
I0305 06:39:50.237034       1 gateway.go:608] "First token received" requestID="c50a6419-10e1-4799-93eb-250c4e082cbf" ttft_ms=238
I0305 06:39:50.238220       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0503, numInputTokens, 7599
I0305 06:39:50.238238       1 tree.go:471] Updated node(0) last access: 148.3362 seconds
I0305 06:39:50.238246       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:50.238252       1 tree.go:471] Updated node(2) last access: 148.3362 seconds
I0305 06:39:50.238268       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:50.238274       1 tree.go:471] Updated node(45) last access: 148.3362 seconds
I0305 06:39:50.238278       1 tree.go:490] Partial tokens match child node(173). Continue to go deeper in the radix tree
I0305 06:39:50.238284       1 tree.go:471] Updated node(173) last access: 148.3362 seconds
I0305 06:39:50.238294       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:50.238301       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:50.238311       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:50.238321       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:50.238330       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:50.23830512 +0000 UTC m=+148.455031990]
I0305 06:39:50.238350       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:50.238358       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:50.238411       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7483
I0305 06:39:50.238420       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:50.238429       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.238437       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.238445       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.238451       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.238459       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.238469       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:50.238480       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:50.238490       1 prefix_cache_and_load.go:584] latency, Route, 0.2022
I0305 06:39:50.238504       1 gateway.go:415] latency, selectTargetPod, 0.2022, target pod, 10.0.0.34:8000
I0305 06:39:50.238521       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1772
I0305 06:39:50.238527       1 gateway.go:235] latency, HandleRequestBody, 0.2026
I0305 06:39:50.238529       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:50.238533       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:50.238682       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:50.238727       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:50.238733       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:50.240477       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b87f1ff7-0d99-4a3d-9f70-a0db7b3ac5df"
I0305 06:39:50.240891       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b87f1ff7-0d99-4a3d-9f70-a0db7b3ac5df" model="qwen2-5-7b-instruct"
I0305 06:39:50.251691       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6cad6d6c, selectedpod, 10.0.1.47:8000, ttft, 547, tpot, 19, e2e, 720, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:50.251715       1 gateway.go:748] "Request completed" requestID="d6f2a904-9259-497c-95be-d914872d7d08" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:50.251728       1 gateway.go:764] "HandleResponseBody completed" requestID="d6f2a904-9259-497c-95be-d914872d7d08" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:50.256060       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="123b0c28-31b8-4d83-94d2-ba692129c28d"
I0305 06:39:50.291926       1 gateway.go:207] "Processing request" requestID="93805716-862b-4175-b5ae-a8831a3dc1eb"
I0305 06:39:50.291972       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="93805716-862b-4175-b5ae-a8831a3dc1eb"
I0305 06:39:50.291981       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:50.298654       1 gateway.go:608] "First token received" requestID="123b0c28-31b8-4d83-94d2-ba692129c28d" ttft_ms=262
I0305 06:39:50.321736       1 gateway.go:329] "-- In RequestBody processing ..." requestID="93805716-862b-4175-b5ae-a8831a3dc1eb"
I0305 06:39:50.321941       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="93805716-862b-4175-b5ae-a8831a3dc1eb" model="qwen2-5-7b-instruct"
I0305 06:39:50.324620       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0859, numInputTokens, 7600
I0305 06:39:50.324637       1 tree.go:471] Updated node(0) last access: 148.4226 seconds
I0305 06:39:50.324643       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:50.324646       1 tree.go:471] Updated node(2) last access: 148.4226 seconds
I0305 06:39:50.324659       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:50.324663       1 tree.go:471] Updated node(8) last access: 148.4226 seconds
I0305 06:39:50.324669       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:50.324674       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:50.324681       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:50.324689       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:50.324698       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:50.324676511 +0000 UTC m=+148.541403376]
I0305 06:39:50.324719       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:50.324727       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:50.324782       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7478
I0305 06:39:50.324795       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:50.324805       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.324812       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.324820       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.324826       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.324859       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:50.324874       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:50.324887       1 prefix_cache_and_load.go:584] latency, Route, 0.2635
I0305 06:39:50.324911       1 gateway.go:415] latency, selectTargetPod, 0.2635, target pod, 10.0.1.53:8000
I0305 06:39:50.324923       1 gateway.go:235] latency, HandleRequestBody, 0.2638
I0305 06:39:50.324929       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2573
I0305 06:39:50.324940       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:50.324948       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:50.325114       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:50.325158       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:50.325164       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:50.338274       1 gateway.go:562] latency, 0.0001, summary, hash(request), bef21ae0, selectedpod, 10.0.3.42:8000, ttft, 182, tpot, 19, e2e, 355, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:50.338300       1 gateway.go:748] "Request completed" requestID="629757db-fc2a-4a97-886b-7c6325fe89ce" targetPod="10.0.3.42:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:50.338312       1 gateway.go:764] "HandleResponseBody completed" requestID="629757db-fc2a-4a97-886b-7c6325fe89ce" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:50.343656       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1dcfad7d-0c2f-4ea9-be21-2c6b30b9f59a"
I0305 06:39:50.386429       1 gateway.go:608] "First token received" requestID="1dcfad7d-0c2f-4ea9-be21-2c6b30b9f59a" ttft_ms=325
I0305 06:39:50.391915       1 gateway.go:207] "Processing request" requestID="d11d2407-9ede-4dce-8c02-d4cd63944616"
I0305 06:39:50.391939       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d11d2407-9ede-4dce-8c02-d4cd63944616"
I0305 06:39:50.391948       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:50.408713       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0835, numInputTokens, 7602
I0305 06:39:50.408734       1 tree.go:471] Updated node(0) last access: 148.5067 seconds
I0305 06:39:50.408742       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:50.408748       1 tree.go:471] Updated node(2) last access: 148.5067 seconds
I0305 06:39:50.408762       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:50.408767       1 tree.go:471] Updated node(53) last access: 148.5067 seconds
I0305 06:39:50.408774       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 06:39:50.408782       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:50.408791       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:50.408802       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:50.408808       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:50.408785105 +0000 UTC m=+148.625511971]
I0305 06:39:50.408828       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 06:39:50.408838       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 06:39:50.408899       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:50.408910       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:50.408921       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.408931       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.408938       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.408947       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.408991       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:50.409000       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:50.409014       1 prefix_cache_and_load.go:584] latency, Route, 0.3414
I0305 06:39:50.409032       1 gateway.go:415] latency, selectTargetPod, 0.3414, target pod, 10.0.0.34:8000
I0305 06:39:50.409048       1 gateway.go:235] latency, HandleRequestBody, 0.3417
I0305 06:39:50.409080       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1680
I0305 06:39:50.409085       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:50.409088       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:50.409197       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:50.409241       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:50.409246       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:50.410327       1 gateway.go:562] latency, 0.0000, summary, hash(request), adcc98d7, selectedpod, 10.0.1.28:8000, ttft, 238, tpot, 19, e2e, 411, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:39:50.410344       1 gateway.go:748] "Request completed" requestID="c50a6419-10e1-4799-93eb-250c4e082cbf" targetPod="10.0.1.28:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:39:50.410355       1 gateway.go:764] "HandleResponseBody completed" requestID="c50a6419-10e1-4799-93eb-250c4e082cbf" promptTokens=7614 completionTokens=10 stream=true
I0305 06:39:50.411007       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d11d2407-9ede-4dce-8c02-d4cd63944616"
I0305 06:39:50.411209       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d11d2407-9ede-4dce-8c02-d4cd63944616" model="qwen2-5-7b-instruct"
I0305 06:39:50.426713       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6e1a23f8-8d88-47d5-8c99-45a304d30a7f"
I0305 06:39:50.458339       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 7599
I0305 06:39:50.458355       1 tree.go:471] Updated node(0) last access: 148.5563 seconds
I0305 06:39:50.458361       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:50.458364       1 tree.go:471] Updated node(2) last access: 148.5563 seconds
I0305 06:39:50.458377       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:50.458380       1 tree.go:471] Updated node(31) last access: 148.5563 seconds
I0305 06:39:50.458385       1 tree.go:490] Partial tokens match child node(217). Continue to go deeper in the radix tree
I0305 06:39:50.458387       1 tree.go:471] Updated node(217) last access: 148.5563 seconds
I0305 06:39:50.458396       1 tree.go:667] Split complete - New node(236)
I0305 06:39:50.458399       1 tree.go:668] Split complete - Child node(218)
I0305 06:39:50.458404       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:39:50.458407       1 tree.go:471] Updated node(236) last access: 148.5563 seconds
I0305 06:39:50.458413       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:50.458418       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:50.458425       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:50.458430       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:50.458435       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:50.458420076 +0000 UTC m=+148.675146941]
I0305 06:39:50.458450       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7484, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:50.458456       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:50.458518       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7484
I0305 06:39:50.458528       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:50.458534       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.458539       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.458543       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.458547       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.458553       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.458557       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.458565       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:50.458574       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:50.458583       1 prefix_cache_and_load.go:584] latency, Route, 0.2175
I0305 06:39:50.458597       1 gateway.go:415] latency, selectTargetPod, 0.2175, target pod, 10.0.1.28:8000
I0305 06:39:50.458607       1 gateway.go:235] latency, HandleRequestBody, 0.2182
I0305 06:39:50.458633       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1366
I0305 06:39:50.458644       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:50.458648       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:50.458818       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:50.458885       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:50.458892       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:50.474316       1 gateway.go:608] "First token received" requestID="6e1a23f8-8d88-47d5-8c99-45a304d30a7f" ttft_ms=406
I0305 06:39:50.478558       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b87f1ff7-0d99-4a3d-9f70-a0db7b3ac5df"
I0305 06:39:50.514538       1 gateway.go:608] "First token received" requestID="b87f1ff7-0d99-4a3d-9f70-a0db7b3ac5df" ttft_ms=274
I0305 06:39:50.515266       1 gateway.go:562] latency, 0.0000, summary, hash(request), bdbf9111, selectedpod, 10.0.0.34:8000, ttft, 262, tpot, 24, e2e, 479, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:50.515287       1 gateway.go:748] "Request completed" requestID="123b0c28-31b8-4d83-94d2-ba692129c28d" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:50.515299       1 gateway.go:764] "HandleResponseBody completed" requestID="123b0c28-31b8-4d83-94d2-ba692129c28d" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:50.524994       1 gateway.go:207] "Processing request" requestID="34e6a94b-f312-4871-81f2-96c859a94503"
I0305 06:39:50.525019       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="34e6a94b-f312-4871-81f2-96c859a94503"
I0305 06:39:50.525027       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:50.525452       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0666, numInputTokens, 7599
I0305 06:39:50.525468       1 tree.go:471] Updated node(0) last access: 148.6234 seconds
I0305 06:39:50.525476       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:50.525481       1 tree.go:471] Updated node(2) last access: 148.6234 seconds
I0305 06:39:50.525499       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:50.525504       1 tree.go:471] Updated node(8) last access: 148.6234 seconds
I0305 06:39:50.525521       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:39:50.525527       1 tree.go:471] Updated node(85) last access: 148.6235 seconds
I0305 06:39:50.525539       1 tree.go:667] Split complete - New node(238)
I0305 06:39:50.525544       1 tree.go:668] Split complete - Child node(166)
I0305 06:39:50.525549       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:39:50.525553       1 tree.go:471] Updated node(238) last access: 148.6235 seconds
I0305 06:39:50.525560       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 06:39:50.525566       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:50.525572       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:50.525578       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:50.525585       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:50.525567994 +0000 UTC m=+148.742294858]
I0305 06:39:50.525602       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7487, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 06:39:50.525613       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 06:39:50.525666       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7487
I0305 06:39:50.525677       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:50.525687       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.525693       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.525700       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.525708       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.525718       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.525723       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.525731       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:50.525739       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:50.525751       1 prefix_cache_and_load.go:584] latency, Route, 0.2037
I0305 06:39:50.525766       1 gateway.go:415] latency, selectTargetPod, 0.2037, target pod, 10.0.1.53:8000
I0305 06:39:50.525781       1 gateway.go:235] latency, HandleRequestBody, 0.2040
I0305 06:39:50.525814       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1145
I0305 06:39:50.525819       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:50.525823       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:50.525926       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:50.525980       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:50.525986       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:50.544550       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="93805716-862b-4175-b5ae-a8831a3dc1eb"
I0305 06:39:50.570364       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3898c26d, selectedpod, 10.0.1.53:8000, ttft, 325, tpot, 20, e2e, 509, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:50.570386       1 gateway.go:748] "Request completed" requestID="1dcfad7d-0c2f-4ea9-be21-2c6b30b9f59a" targetPod="10.0.1.53:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:50.570398       1 gateway.go:764] "HandleResponseBody completed" requestID="1dcfad7d-0c2f-4ea9-be21-2c6b30b9f59a" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:50.591352       1 gateway.go:608] "First token received" requestID="93805716-862b-4175-b5ae-a8831a3dc1eb" ttft_ms=269
I0305 06:39:50.617058       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0911, numInputTokens, 7593
I0305 06:39:50.617078       1 tree.go:471] Updated node(0) last access: 148.7150 seconds
I0305 06:39:50.617085       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:50.617088       1 tree.go:471] Updated node(2) last access: 148.7150 seconds
I0305 06:39:50.617102       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:50.617106       1 tree.go:471] Updated node(23) last access: 148.7150 seconds
I0305 06:39:50.617113       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:50.617118       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7593 tokens
I0305 06:39:50.617125       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 06:39:50.617132       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:50.617137       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:50.617120318 +0000 UTC m=+148.833847183]
I0305 06:39:50.617151       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7478, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:50.617159       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:50.617210       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7478
I0305 06:39:50.617219       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:50.617228       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.617234       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.617238       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.617244       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.617253       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:50.617263       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:50.617275       1 prefix_cache_and_load.go:584] latency, Route, 0.2060
I0305 06:39:50.617284       1 gateway.go:415] latency, selectTargetPod, 0.2060, target pod, 10.0.3.42:8000
I0305 06:39:50.617295       1 gateway.go:235] latency, HandleRequestBody, 0.2063
I0305 06:39:50.634868       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d11d2407-9ede-4dce-8c02-d4cd63944616"
I0305 06:39:50.649755       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2ac88e96, selectedpod, 10.0.0.34:8000, ttft, 406, tpot, 19, e2e, 582, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:50.649771       1 gateway.go:748] "Request completed" requestID="6e1a23f8-8d88-47d5-8c99-45a304d30a7f" targetPod="10.0.0.34:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:50.649781       1 gateway.go:764] "HandleResponseBody completed" requestID="6e1a23f8-8d88-47d5-8c99-45a304d30a7f" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:50.670601       1 gateway.go:608] "First token received" requestID="d11d2407-9ede-4dce-8c02-d4cd63944616" ttft_ms=259
I0305 06:39:50.685944       1 gateway.go:562] latency, 0.0000, summary, hash(request), daf000ab, selectedpod, 10.0.1.28:8000, ttft, 274, tpot, 19, e2e, 445, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:50.685962       1 gateway.go:748] "Request completed" requestID="b87f1ff7-0d99-4a3d-9f70-a0db7b3ac5df" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:50.685978       1 gateway.go:764] "HandleResponseBody completed" requestID="b87f1ff7-0d99-4a3d-9f70-a0db7b3ac5df" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:50.756408       1 gateway.go:329] "-- In RequestBody processing ..." requestID="34e6a94b-f312-4871-81f2-96c859a94503"
I0305 06:39:50.756635       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="34e6a94b-f312-4871-81f2-96c859a94503" model="qwen2-5-7b-instruct"
I0305 06:39:50.756709       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:50.756717       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:50.756721       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:50.756859       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:50.756906       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:50.756912       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:50.765285       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2bbe411b, selectedpod, 10.0.1.53:8000, ttft, 269, tpot, 19, e2e, 443, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:50.765298       1 gateway.go:748] "Request completed" requestID="93805716-862b-4175-b5ae-a8831a3dc1eb" targetPod="10.0.1.53:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:50.765305       1 gateway.go:764] "HandleResponseBody completed" requestID="93805716-862b-4175-b5ae-a8831a3dc1eb" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:50.774594       1 gateway.go:329] "-- In RequestBody processing ..." requestID="08982072-4b31-4da2-ba0c-d714041ff1f4"
I0305 06:39:50.774965       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="08982072-4b31-4da2-ba0c-d714041ff1f4" model="qwen2-5-7b-instruct"
I0305 06:39:50.808392       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0515, numInputTokens, 7599
I0305 06:39:50.808417       1 tree.go:471] Updated node(0) last access: 148.9064 seconds
I0305 06:39:50.808423       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:50.808427       1 tree.go:471] Updated node(2) last access: 148.9064 seconds
I0305 06:39:50.808440       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:50.808444       1 tree.go:471] Updated node(51) last access: 148.9064 seconds
I0305 06:39:50.808454       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:50.808461       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:50.808472       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:50.808482       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:50.808490       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:50.808463247 +0000 UTC m=+149.025190111]
I0305 06:39:50.808507       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:50.808527       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:50.808607       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:50.808617       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:50.808627       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.808634       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.808637       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.808641       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.808650       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:50.808659       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:50.808672       1 prefix_cache_and_load.go:584] latency, Route, 0.0520
I0305 06:39:50.808687       1 gateway.go:415] latency, selectTargetPod, 0.0520, target pod, 10.0.1.28:8000
I0305 06:39:50.808724       1 gateway.go:235] latency, HandleRequestBody, 0.0523
I0305 06:39:50.808746       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0337
I0305 06:39:50.808767       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:50.808771       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:50.809087       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:50.809375       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0006
I0305 06:39:50.809404       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:50.828085       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="34e6a94b-f312-4871-81f2-96c859a94503"
I0305 06:39:50.830942       1 gateway.go:207] "Processing request" requestID="a5154e9e-2ece-45c8-ad2e-7e1959772e60"
I0305 06:39:50.830964       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a5154e9e-2ece-45c8-ad2e-7e1959772e60"
I0305 06:39:50.830983       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:50.843509       1 gateway.go:562] latency, 0.0000, summary, hash(request), ee618cae, selectedpod, 10.0.3.42:8000, ttft, 259, tpot, 19, e2e, 432, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 06:39:50.843533       1 gateway.go:748] "Request completed" requestID="d11d2407-9ede-4dce-8c02-d4cd63944616" targetPod="10.0.3.42:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 06:39:50.843542       1 gateway.go:764] "HandleResponseBody completed" requestID="d11d2407-9ede-4dce-8c02-d4cd63944616" promptTokens=7612 completionTokens=10 stream=true
I0305 06:39:50.851709       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a5154e9e-2ece-45c8-ad2e-7e1959772e60"
I0305 06:39:50.851937       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a5154e9e-2ece-45c8-ad2e-7e1959772e60" model="qwen2-5-7b-instruct"
I0305 06:39:50.871983       1 gateway.go:608] "First token received" requestID="34e6a94b-f312-4871-81f2-96c859a94503" ttft_ms=115
I0305 06:39:50.888890       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0795, numInputTokens, 7600
I0305 06:39:50.888910       1 tree.go:471] Updated node(0) last access: 148.9868 seconds
I0305 06:39:50.888916       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:50.888919       1 tree.go:471] Updated node(2) last access: 148.9869 seconds
I0305 06:39:50.888935       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:50.888941       1 tree.go:471] Updated node(53) last access: 148.9869 seconds
I0305 06:39:50.888946       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:50.888950       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:50.888956       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:50.888962       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:50.888977       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:50.888952302 +0000 UTC m=+149.105679174]
I0305 06:39:50.888998       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:50.889006       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:50.889076       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:50.889090       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:50.889103       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.889110       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.889119       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.889128       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.889140       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:50.889152       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:50.889163       1 prefix_cache_and_load.go:584] latency, Route, 0.1141
I0305 06:39:50.889178       1 gateway.go:415] latency, selectTargetPod, 0.1141, target pod, 10.0.0.34:8000
I0305 06:39:50.889187       1 gateway.go:235] latency, HandleRequestBody, 0.1146
I0305 06:39:50.889221       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0372
I0305 06:39:50.889225       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:50.889228       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:50.889340       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:50.889389       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:50.889395       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:50.903209       1 gateway.go:207] "Processing request" requestID="f6375729-439b-4925-98a8-bbcca99b7324"
I0305 06:39:50.903244       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f6375729-439b-4925-98a8-bbcca99b7324"
I0305 06:39:50.903251       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:50.907265       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="08982072-4b31-4da2-ba0c-d714041ff1f4"
I0305 06:39:50.941132       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0517, numInputTokens, 7599
I0305 06:39:50.941156       1 tree.go:471] Updated node(0) last access: 149.0391 seconds
I0305 06:39:50.941165       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:50.941169       1 tree.go:471] Updated node(2) last access: 149.0391 seconds
I0305 06:39:50.941183       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:50.941187       1 tree.go:471] Updated node(31) last access: 149.0391 seconds
I0305 06:39:50.941192       1 tree.go:490] Partial tokens match child node(186). Continue to go deeper in the radix tree
I0305 06:39:50.941195       1 tree.go:471] Updated node(186) last access: 149.0391 seconds
I0305 06:39:50.941201       1 tree.go:484] Entire input tokens match the child node(180)
I0305 06:39:50.941205       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:50.941214       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:50.941227       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:50.941234       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:50.941209735 +0000 UTC m=+149.157936608 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:41.735469757 +0000 UTC m=+139.952196620]
I0305 06:39:50.941255       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:50.941263       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:50.941367       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7599
I0305 06:39:50.941377       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:50.941384       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.941388       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.941394       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.941399       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.941403       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:50.941411       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:50.941421       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:50.941444       1 prefix_cache_and_load.go:584] latency, Route, 0.0894
I0305 06:39:50.941460       1 gateway.go:415] latency, selectTargetPod, 0.0894, target pod, 10.0.1.28:8000
I0305 06:39:50.941475       1 gateway.go:235] latency, HandleRequestBody, 0.0898
I0305 06:39:50.950310       1 gateway.go:608] "First token received" requestID="08982072-4b31-4da2-ba0c-d714041ff1f4" ttft_ms=175
I0305 06:39:50.961500       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a5154e9e-2ece-45c8-ad2e-7e1959772e60"
I0305 06:39:50.973916       1 gateway.go:207] "Processing request" requestID="67256e60-4e91-401d-84ff-a9fb10fed2a6"
I0305 06:39:50.973942       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="67256e60-4e91-401d-84ff-a9fb10fed2a6"
I0305 06:39:50.973951       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:50.997117       1 gateway.go:608] "First token received" requestID="a5154e9e-2ece-45c8-ad2e-7e1959772e60" ttft_ms=145
I0305 06:39:51.036662       1 gateway.go:207] "Processing request" requestID="845afcbd-1811-4686-a46a-71a7f1a000b0"
I0305 06:39:51.036692       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="845afcbd-1811-4686-a46a-71a7f1a000b0"
I0305 06:39:51.036700       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:51.081794       1 gateway.go:562] latency, 0.0000, summary, hash(request), 198c550f, selectedpod, 10.0.1.28:8000, ttft, 115, tpot, 23, e2e, 325, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:51.081814       1 gateway.go:748] "Request completed" requestID="34e6a94b-f312-4871-81f2-96c859a94503" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:51.081824       1 gateway.go:764] "HandleResponseBody completed" requestID="34e6a94b-f312-4871-81f2-96c859a94503" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:51.105791       1 gateway.go:207] "Processing request" requestID="599d7210-3526-4c14-8f70-3183c3f3303f"
I0305 06:39:51.105815       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="599d7210-3526-4c14-8f70-3183c3f3303f"
I0305 06:39:51.105823       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:51.124315       1 gateway.go:562] latency, 0.0000, summary, hash(request), cf0c998f, selectedpod, 10.0.0.34:8000, ttft, 175, tpot, 19, e2e, 349, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:51.124330       1 gateway.go:748] "Request completed" requestID="08982072-4b31-4da2-ba0c-d714041ff1f4" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:51.124337       1 gateway.go:764] "HandleResponseBody completed" requestID="08982072-4b31-4da2-ba0c-d714041ff1f4" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:51.175186       1 gateway.go:562] latency, 0.0000, summary, hash(request), aed63f91, selectedpod, 10.0.1.28:8000, ttft, 145, tpot, 19, e2e, 323, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:51.175200       1 gateway.go:748] "Request completed" requestID="a5154e9e-2ece-45c8-ad2e-7e1959772e60" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:51.175209       1 gateway.go:764] "HandleResponseBody completed" requestID="a5154e9e-2ece-45c8-ad2e-7e1959772e60" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:51.244809       1 gateway.go:207] "Processing request" requestID="83823111-0fd0-49ee-9446-68b02b573391"
I0305 06:39:51.244846       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="83823111-0fd0-49ee-9446-68b02b573391"
I0305 06:39:51.244854       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:51.383129       1 gateway.go:207] "Processing request" requestID="18c91c8f-42b6-4c3e-b650-8da2fc2f0012"
I0305 06:39:51.383151       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="18c91c8f-42b6-4c3e-b650-8da2fc2f0012"
I0305 06:39:51.383158       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:51.468896       1 gateway.go:207] "Processing request" requestID="688559d8-74ca-4da6-acdb-fa3da6a2cf9a"
I0305 06:39:51.468929       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="688559d8-74ca-4da6-acdb-fa3da6a2cf9a"
I0305 06:39:51.468945       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:51.639798       1 gateway.go:207] "Processing request" requestID="52b04e1a-51f0-4f4f-a7b0-63d2a1e24f39"
I0305 06:39:51.639821       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="52b04e1a-51f0-4f4f-a7b0-63d2a1e24f39"
I0305 06:39:51.639828       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:51.711543       1 gateway.go:207] "Processing request" requestID="e623bfc0-8230-4222-8d3b-6dff65d60c14"
I0305 06:39:51.711564       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e623bfc0-8230-4222-8d3b-6dff65d60c14"
I0305 06:39:51.711571       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:51.778864       1 gateway.go:207] "Processing request" requestID="2c47e4c7-bcde-4f74-acf9-0ccaa2831111"
I0305 06:39:51.778899       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2c47e4c7-bcde-4f74-acf9-0ccaa2831111"
I0305 06:39:51.778908       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:51.855135       1 gateway.go:207] "Processing request" requestID="7925512b-bdaa-4dc9-90bc-24290f3f5970"
I0305 06:39:51.855156       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7925512b-bdaa-4dc9-90bc-24290f3f5970"
I0305 06:39:51.855162       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:51.927726       1 gateway.go:207] "Processing request" requestID="81dd8b71-ba00-4fd3-ae56-00465ad2d1e8"
I0305 06:39:51.927756       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="81dd8b71-ba00-4fd3-ae56-00465ad2d1e8"
I0305 06:39:51.927764       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.013145       1 gateway.go:207] "Processing request" requestID="05631de7-93a8-4a58-803f-19f5c6aef1f3"
I0305 06:39:52.013174       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="05631de7-93a8-4a58-803f-19f5c6aef1f3"
I0305 06:39:52.013182       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.088650       1 gateway.go:207] "Processing request" requestID="9850e584-d5e9-4f9c-ba60-2f8b3c21036b"
I0305 06:39:52.088683       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9850e584-d5e9-4f9c-ba60-2f8b3c21036b"
I0305 06:39:52.088691       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.160396       1 gateway.go:207] "Processing request" requestID="9b4196c2-1bfc-4040-bfb2-014925c256d7"
I0305 06:39:52.160426       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9b4196c2-1bfc-4040-bfb2-014925c256d7"
I0305 06:39:52.160433       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.263800       1 gateway.go:207] "Processing request" requestID="14fcb373-0d2a-4f8c-ab12-5359de5cdef2"
I0305 06:39:52.263827       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="14fcb373-0d2a-4f8c-ab12-5359de5cdef2"
I0305 06:39:52.263835       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.337400       1 gateway.go:207] "Processing request" requestID="989e55ae-c18b-4c1d-93bf-1e507b26cf85"
I0305 06:39:52.337433       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="989e55ae-c18b-4c1d-93bf-1e507b26cf85"
I0305 06:39:52.337441       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.395415       1 gateway.go:207] "Processing request" requestID="b673c1c8-f32f-4a61-a920-1a2e366a41a4"
I0305 06:39:52.395438       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b673c1c8-f32f-4a61-a920-1a2e366a41a4"
I0305 06:39:52.395445       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.471229       1 gateway.go:207] "Processing request" requestID="a7f1daae-90ad-4121-90da-888a3f32111a"
I0305 06:39:52.471261       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a7f1daae-90ad-4121-90da-888a3f32111a"
I0305 06:39:52.471269       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.533878       1 gateway.go:207] "Processing request" requestID="61f002fa-f9fb-4949-b116-098cd1c0762e"
I0305 06:39:52.533906       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="61f002fa-f9fb-4949-b116-098cd1c0762e"
I0305 06:39:52.533915       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.623497       1 gateway.go:207] "Processing request" requestID="9bbb8350-a02d-44b2-bb53-136607e96275"
I0305 06:39:52.623527       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9bbb8350-a02d-44b2-bb53-136607e96275"
I0305 06:39:52.623535       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.691804       1 gateway.go:207] "Processing request" requestID="5459f95e-5201-4a0a-ab94-037a4331b223"
I0305 06:39:52.691836       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5459f95e-5201-4a0a-ab94-037a4331b223"
I0305 06:39:52.691844       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.732163       1 gateway.go:207] "Processing request" requestID="5ccf05c0-3cfc-4cdc-b240-eece8cdc06b7"
I0305 06:39:52.732185       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5ccf05c0-3cfc-4cdc-b240-eece8cdc06b7"
I0305 06:39:52.732192       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.752222       1 gateway.go:207] "Processing request" requestID="812271bf-b4cc-463b-8db6-00340658df41"
I0305 06:39:52.752243       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="812271bf-b4cc-463b-8db6-00340658df41"
I0305 06:39:52.752250       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.779295       1 gateway.go:207] "Processing request" requestID="b76252b3-54cc-4762-af6a-5f625873fcd7"
I0305 06:39:52.779339       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b76252b3-54cc-4762-af6a-5f625873fcd7"
I0305 06:39:52.779349       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.792714       1 gateway.go:207] "Processing request" requestID="56c6c222-2b43-4b0e-ad2a-a38d27962071"
I0305 06:39:52.792752       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="56c6c222-2b43-4b0e-ad2a-a38d27962071"
I0305 06:39:52.792762       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:52.825728       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f6375729-439b-4925-98a8-bbcca99b7324"
I0305 06:39:52.825981       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f6375729-439b-4925-98a8-bbcca99b7324" model="qwen2-5-7b-instruct"
I0305 06:39:52.826072       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:52.826079       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:52.826082       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:52.826321       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:52.826391       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:39:52.826397       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:52.837461       1 gateway.go:329] "-- In RequestBody processing ..." requestID="67256e60-4e91-401d-84ff-a9fb10fed2a6"
I0305 06:39:52.837707       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="67256e60-4e91-401d-84ff-a9fb10fed2a6" model="qwen2-5-7b-instruct"
I0305 06:39:52.861313       1 gateway.go:329] "-- In RequestBody processing ..." requestID="845afcbd-1811-4686-a46a-71a7f1a000b0"
I0305 06:39:52.861699       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="845afcbd-1811-4686-a46a-71a7f1a000b0" model="qwen2-5-7b-instruct"
I0305 06:39:52.877842       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0514, numInputTokens, 7598
I0305 06:39:52.877860       1 tree.go:471] Updated node(0) last access: 150.9758 seconds
I0305 06:39:52.877866       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:52.877871       1 tree.go:471] Updated node(2) last access: 150.9758 seconds
I0305 06:39:52.877883       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:52.877887       1 tree.go:471] Updated node(45) last access: 150.9758 seconds
I0305 06:39:52.877890       1 tree.go:490] Partial tokens match child node(221). Continue to go deeper in the radix tree
I0305 06:39:52.877894       1 tree.go:471] Updated node(221) last access: 150.9758 seconds
I0305 06:39:52.877905       1 tree.go:667] Split complete - New node(243)
I0305 06:39:52.877910       1 tree.go:668] Split complete - Child node(147)
I0305 06:39:52.877915       1 tree.go:501] latency, splitNode, 0.0000 seconds, 109 tokens:
I0305 06:39:52.877919       1 tree.go:471] Updated node(243) last access: 150.9759 seconds
I0305 06:39:52.877924       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 105 tokens:
I0305 06:39:52.877929       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:52.877937       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:52.877943       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:52.877948       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:52.877931768 +0000 UTC m=+151.094658641]
I0305 06:39:52.877965       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7493, Matching ratio: 0.9862, # Matched pods: 0, Matched pods: []
I0305 06:39:52.877982       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9862 > 0.5000)
I0305 06:39:52.878061       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7493
I0305 06:39:52.878074       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:52.878083       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:52.878091       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:52.878098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:52.878102       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:52.878112       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:52.878116       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:52.878124       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:52.878134       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:52.878143       1 prefix_cache_and_load.go:584] latency, Route, 0.0521
I0305 06:39:52.878160       1 gateway.go:415] latency, selectTargetPod, 0.0521, target pod, 10.0.0.34:8000
I0305 06:39:52.878175       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0404
I0305 06:39:52.878177       1 gateway.go:235] latency, HandleRequestBody, 0.0525
I0305 06:39:52.878182       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:52.878186       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:52.878343       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:52.878393       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:52.878399       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:52.887950       1 gateway.go:329] "-- In RequestBody processing ..." requestID="599d7210-3526-4c14-8f70-3183c3f3303f"
I0305 06:39:52.888179       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="599d7210-3526-4c14-8f70-3183c3f3303f" model="qwen2-5-7b-instruct"
I0305 06:39:52.897287       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f6375729-439b-4925-98a8-bbcca99b7324"
I0305 06:39:52.900645       1 gateway.go:329] "-- In RequestBody processing ..." requestID="83823111-0fd0-49ee-9446-68b02b573391"
I0305 06:39:52.900864       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="83823111-0fd0-49ee-9446-68b02b573391" model="qwen2-5-7b-instruct"
I0305 06:39:52.920872       1 gateway.go:329] "-- In RequestBody processing ..." requestID="18c91c8f-42b6-4c3e-b650-8da2fc2f0012"
I0305 06:39:52.926689       1 gateway.go:329] "-- In RequestBody processing ..." requestID="688559d8-74ca-4da6-acdb-fa3da6a2cf9a"
I0305 06:39:52.930842       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0524, numInputTokens, 7598
I0305 06:39:52.930861       1 tree.go:471] Updated node(0) last access: 151.0288 seconds
I0305 06:39:52.930867       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:52.930872       1 tree.go:471] Updated node(2) last access: 151.0288 seconds
I0305 06:39:52.930885       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:52.930892       1 tree.go:471] Updated node(53) last access: 151.0288 seconds
I0305 06:39:52.930896       1 tree.go:490] Partial tokens match child node(181). Continue to go deeper in the radix tree
I0305 06:39:52.930900       1 tree.go:471] Updated node(181) last access: 151.0288 seconds
I0305 06:39:52.930905       1 tree.go:484] Entire input tokens match the child node(182)
I0305 06:39:52.930908       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:52.930915       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:52.930922       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:52.930929       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:52.930910196 +0000 UTC m=+151.147637074 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:43.555784312 +0000 UTC m=+141.772511177]
I0305 06:39:52.930952       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:52.930961       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:52.931047       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7598
I0305 06:39:52.931062       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:52.931077       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:52.931088       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:52.931095       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:52.931101       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:52.931108       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:52.931121       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:52.931133       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:52.931150       1 prefix_cache_and_load.go:584] latency, Route, 0.0934
I0305 06:39:52.931164       1 gateway.go:415] latency, selectTargetPod, 0.0934, target pod, 10.0.0.34:8000
I0305 06:39:52.931176       1 gateway.go:235] latency, HandleRequestBody, 0.0937
I0305 06:39:52.931207       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0694
I0305 06:39:52.931213       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:52.931216       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:52.931332       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:52.931376       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:52.931381       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:52.936339       1 gateway.go:608] "First token received" requestID="f6375729-439b-4925-98a8-bbcca99b7324" ttft_ms=110
I0305 06:39:52.978600       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="67256e60-4e91-401d-84ff-a9fb10fed2a6"
I0305 06:39:52.978621       1 gateway.go:329] "-- In RequestBody processing ..." requestID="52b04e1a-51f0-4f4f-a7b0-63d2a1e24f39"
I0305 06:39:52.978676       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e623bfc0-8230-4222-8d3b-6dff65d60c14"
I0305 06:39:52.979874       1 gateway.go:608] "First token received" requestID="67256e60-4e91-401d-84ff-a9fb10fed2a6" ttft_ms=142
I0305 06:39:52.983322       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e623bfc0-8230-4222-8d3b-6dff65d60c14" model="qwen2-5-7b-instruct"
I0305 06:39:52.983337       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="688559d8-74ca-4da6-acdb-fa3da6a2cf9a" model="qwen2-5-7b-instruct"
I0305 06:39:52.983403       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="52b04e1a-51f0-4f4f-a7b0-63d2a1e24f39" model="qwen2-5-7b-instruct"
I0305 06:39:52.983408       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="18c91c8f-42b6-4c3e-b650-8da2fc2f0012" model="qwen2-5-7b-instruct"
I0305 06:39:52.996208       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2c47e4c7-bcde-4f74-acf9-0ccaa2831111"
I0305 06:39:52.996453       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2c47e4c7-bcde-4f74-acf9-0ccaa2831111" model="qwen2-5-7b-instruct"
I0305 06:39:53.015270       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7925512b-bdaa-4dc9-90bc-24290f3f5970"
I0305 06:39:53.015499       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7925512b-bdaa-4dc9-90bc-24290f3f5970" model="qwen2-5-7b-instruct"
I0305 06:39:53.026724       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0953, numInputTokens, 7599
I0305 06:39:53.026743       1 tree.go:471] Updated node(0) last access: 151.1247 seconds
I0305 06:39:53.026750       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.026755       1 tree.go:471] Updated node(2) last access: 151.1247 seconds
I0305 06:39:53.026771       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:53.026776       1 tree.go:471] Updated node(45) last access: 151.1247 seconds
I0305 06:39:53.026779       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:39:53.026782       1 tree.go:471] Updated node(175) last access: 151.1247 seconds
I0305 06:39:53.026786       1 tree.go:490] Partial tokens match child node(184). Continue to go deeper in the radix tree
I0305 06:39:53.026790       1 tree.go:471] Updated node(184) last access: 151.1247 seconds
I0305 06:39:53.026795       1 tree.go:484] Entire input tokens match the child node(176)
I0305 06:39:53.026798       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:39:53.026806       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:53.026814       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.026818       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.026801423 +0000 UTC m=+151.243528288 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:40.651457748 +0000 UTC m=+138.868184612]
I0305 06:39:53.026838       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:53.026847       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:53.026898       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:39:53.026908       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.026921       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.026925       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.026930       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.026933       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.026960       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.026965       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.026984       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.026997       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:53.027011       1 prefix_cache_and_load.go:584] latency, Route, 0.1652
I0305 06:39:53.027028       1 gateway.go:415] latency, selectTargetPod, 0.1652, target pod, 10.0.0.34:8000
I0305 06:39:53.027051       1 gateway.go:235] latency, HandleRequestBody, 0.1657
I0305 06:39:53.027083       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1388
I0305 06:39:53.027087       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.027091       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.027217       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.027276       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:53.027281       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.033271       1 gateway.go:329] "-- In RequestBody processing ..." requestID="81dd8b71-ba00-4fd3-ae56-00465ad2d1e8"
I0305 06:39:53.033503       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="81dd8b71-ba00-4fd3-ae56-00465ad2d1e8" model="qwen2-5-7b-instruct"
I0305 06:39:53.044248       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="845afcbd-1811-4686-a46a-71a7f1a000b0"
I0305 06:39:53.060715       1 gateway.go:329] "-- In RequestBody processing ..." requestID="05631de7-93a8-4a58-803f-19f5c6aef1f3"
I0305 06:39:53.060927       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="05631de7-93a8-4a58-803f-19f5c6aef1f3" model="qwen2-5-7b-instruct"
I0305 06:39:53.070775       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9850e584-d5e9-4f9c-ba60-2f8b3c21036b"
I0305 06:39:53.071021       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9850e584-d5e9-4f9c-ba60-2f8b3c21036b" model="qwen2-5-7b-instruct"
I0305 06:39:53.075004       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9b4196c2-1bfc-4040-bfb2-014925c256d7"
I0305 06:39:53.075215       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9b4196c2-1bfc-4040-bfb2-014925c256d7" model="qwen2-5-7b-instruct"
I0305 06:39:53.086165       1 gateway.go:608] "First token received" requestID="845afcbd-1811-4686-a46a-71a7f1a000b0" ttft_ms=224
I0305 06:39:53.102614       1 gateway.go:329] "-- In RequestBody processing ..." requestID="14fcb373-0d2a-4f8c-ab12-5359de5cdef2"
I0305 06:39:53.102829       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="14fcb373-0d2a-4f8c-ab12-5359de5cdef2" model="qwen2-5-7b-instruct"
I0305 06:39:53.121321       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0940, numInputTokens, 7602
I0305 06:39:53.121340       1 tree.go:471] Updated node(0) last access: 151.2193 seconds
I0305 06:39:53.121347       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.121351       1 tree.go:471] Updated node(2) last access: 151.2193 seconds
I0305 06:39:53.121366       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:53.121372       1 tree.go:471] Updated node(4) last access: 151.2193 seconds
I0305 06:39:53.121376       1 tree.go:490] Partial tokens match child node(229). Continue to go deeper in the radix tree
I0305 06:39:53.121381       1 tree.go:471] Updated node(229) last access: 151.2193 seconds
I0305 06:39:53.121387       1 tree.go:484] Entire input tokens match the child node(179)
I0305 06:39:53.121392       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:53.121401       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:53.121408       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.121417       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.121395181 +0000 UTC m=+151.338122047 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:41.469598029 +0000 UTC m=+139.686324893]
I0305 06:39:53.121440       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:39:53.121449       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:53.121499       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7602
I0305 06:39:53.121509       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.121527       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.121532       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.121537       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.121542       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.121546       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.121555       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.121564       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:53.121576       1 prefix_cache_and_load.go:584] latency, Route, 0.2333
I0305 06:39:53.121590       1 gateway.go:415] latency, selectTargetPod, 0.2333, target pod, 10.0.1.47:8000
I0305 06:39:53.121600       1 gateway.go:235] latency, HandleRequestBody, 0.2337
I0305 06:39:53.121630       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2207
I0305 06:39:53.121635       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.121638       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.121762       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.121810       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:53.121815       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.122267       1 gateway.go:329] "-- In RequestBody processing ..." requestID="989e55ae-c18b-4c1d-93bf-1e507b26cf85"
I0305 06:39:53.122478       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="989e55ae-c18b-4c1d-93bf-1e507b26cf85" model="qwen2-5-7b-instruct"
I0305 06:39:53.133738       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b673c1c8-f32f-4a61-a920-1a2e366a41a4"
I0305 06:39:53.133982       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b673c1c8-f32f-4a61-a920-1a2e366a41a4" model="qwen2-5-7b-instruct"
I0305 06:39:53.141477       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="599d7210-3526-4c14-8f70-3183c3f3303f"
I0305 06:39:53.166368       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a7f1daae-90ad-4121-90da-888a3f32111a"
I0305 06:39:53.166594       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a7f1daae-90ad-4121-90da-888a3f32111a" model="qwen2-5-7b-instruct"
I0305 06:39:53.170291       1 gateway.go:562] latency, 0.0000, summary, hash(request), 02edd6c1, selectedpod, 10.0.0.34:8000, ttft, 110, tpot, 25, e2e, 344, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:53.170311       1 gateway.go:748] "Request completed" requestID="f6375729-439b-4925-98a8-bbcca99b7324" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:53.170323       1 gateway.go:764] "HandleResponseBody completed" requestID="f6375729-439b-4925-98a8-bbcca99b7324" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:53.174979       1 gateway.go:608] "First token received" requestID="599d7210-3526-4c14-8f70-3183c3f3303f" ttft_ms=286
I0305 06:39:53.180782       1 gateway.go:329] "-- In RequestBody processing ..." requestID="61f002fa-f9fb-4949-b116-098cd1c0762e"
I0305 06:39:53.181013       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="61f002fa-f9fb-4949-b116-098cd1c0762e" model="qwen2-5-7b-instruct"
I0305 06:39:53.187373       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0656, numInputTokens, 7600
I0305 06:39:53.187393       1 tree.go:471] Updated node(0) last access: 151.2853 seconds
I0305 06:39:53.187402       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.187405       1 tree.go:471] Updated node(2) last access: 151.2853 seconds
I0305 06:39:53.187419       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:53.187423       1 tree.go:471] Updated node(12) last access: 151.2854 seconds
I0305 06:39:53.187429       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:39:53.187446       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:53.187456       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:53.187462       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.187467       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.187450925 +0000 UTC m=+151.404177799]
I0305 06:39:53.187481       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:39:53.187487       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:39:53.187633       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7478
I0305 06:39:53.187661       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:39:53.187674       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.187684       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.187694       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.187703       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.187714       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.187728       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:53.187752       1 prefix_cache_and_load.go:584] latency, Route, 0.2868
I0305 06:39:53.187774       1 gateway.go:415] latency, selectTargetPod, 0.2868, target pod, 10.0.0.39:8000
I0305 06:39:53.187794       1 gateway.go:235] latency, HandleRequestBody, 0.2872
I0305 06:39:53.187908       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2045
I0305 06:39:53.187915       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.187919       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.188193       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.188305       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:39:53.188311       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.192022       1 gateway.go:562] latency, 0.0000, summary, hash(request), 87ae73f2, selectedpod, 10.0.0.34:8000, ttft, 142, tpot, 23, e2e, 354, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:53.192043       1 gateway.go:748] "Request completed" requestID="67256e60-4e91-401d-84ff-a9fb10fed2a6" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:53.192056       1 gateway.go:764] "HandleResponseBody completed" requestID="67256e60-4e91-401d-84ff-a9fb10fed2a6" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:53.206983       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="83823111-0fd0-49ee-9446-68b02b573391"
I0305 06:39:53.207693       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9bbb8350-a02d-44b2-bb53-136607e96275"
I0305 06:39:53.207959       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9bbb8350-a02d-44b2-bb53-136607e96275" model="qwen2-5-7b-instruct"
I0305 06:39:53.236651       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5459f95e-5201-4a0a-ab94-037a4331b223"
I0305 06:39:53.236864       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5459f95e-5201-4a0a-ab94-037a4331b223" model="qwen2-5-7b-instruct"
I0305 06:39:53.245894       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5ccf05c0-3cfc-4cdc-b240-eece8cdc06b7"
I0305 06:39:53.246099       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5ccf05c0-3cfc-4cdc-b240-eece8cdc06b7" model="qwen2-5-7b-instruct"
I0305 06:39:53.251043       1 gateway.go:608] "First token received" requestID="83823111-0fd0-49ee-9446-68b02b573391" ttft_ms=350
I0305 06:39:53.278569       1 gateway.go:329] "-- In RequestBody processing ..." requestID="812271bf-b4cc-463b-8db6-00340658df41"
I0305 06:39:53.278776       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="812271bf-b4cc-463b-8db6-00340658df41" model="qwen2-5-7b-instruct"
I0305 06:39:53.278787       1 gateway.go:562] latency, 0.0000, summary, hash(request), e21b7797, selectedpod, 10.0.0.34:8000, ttft, 224, tpot, 21, e2e, 417, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:53.278810       1 gateway.go:748] "Request completed" requestID="845afcbd-1811-4686-a46a-71a7f1a000b0" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:53.278827       1 gateway.go:764] "HandleResponseBody completed" requestID="845afcbd-1811-4686-a46a-71a7f1a000b0" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:53.279241       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0909, numInputTokens, 7594
I0305 06:39:53.279260       1 tree.go:471] Updated node(0) last access: 151.3772 seconds
I0305 06:39:53.279267       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.279271       1 tree.go:471] Updated node(2) last access: 151.3772 seconds
I0305 06:39:53.279286       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:53.279291       1 tree.go:471] Updated node(18) last access: 151.3772 seconds
I0305 06:39:53.279295       1 tree.go:490] Partial tokens match child node(125). Continue to go deeper in the radix tree
I0305 06:39:53.279298       1 tree.go:471] Updated node(125) last access: 151.3772 seconds
I0305 06:39:53.279306       1 tree.go:667] Split complete - New node(246)
I0305 06:39:53.279311       1 tree.go:668] Split complete - Child node(115)
I0305 06:39:53.279316       1 tree.go:501] latency, splitNode, 0.0000 seconds, 114 tokens:
I0305 06:39:53.279321       1 tree.go:471] Updated node(246) last access: 151.3773 seconds
I0305 06:39:53.279326       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 06:39:53.279330       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 06:39:53.279336       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:39:53.279343       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.279347       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.279332193 +0000 UTC m=+151.496059057]
I0305 06:39:53.279362       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7483, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 06:39:53.279369       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 06:39:53.279426       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7483
I0305 06:39:53.279435       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.279442       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.279446       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.279450       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.279456       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.279460       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.279464       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.279475       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.279485       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:53.279496       1 prefix_cache_and_load.go:584] latency, Route, 0.2961
I0305 06:39:53.279523       1 gateway.go:415] latency, selectTargetPod, 0.2961, target pod, 10.0.0.131:8000
I0305 06:39:53.279536       1 gateway.go:235] latency, HandleRequestBody, 0.3009
I0305 06:39:53.279570       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2962
I0305 06:39:53.279577       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.279580       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.279744       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.279800       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:53.279805       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.287241       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b76252b3-54cc-4762-af6a-5f625873fcd7"
I0305 06:39:53.287472       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b76252b3-54cc-4762-af6a-5f625873fcd7" model="qwen2-5-7b-instruct"
I0305 06:39:53.298749       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e623bfc0-8230-4222-8d3b-6dff65d60c14"
I0305 06:39:53.303721       1 gateway.go:329] "-- In RequestBody processing ..." requestID="56c6c222-2b43-4b0e-ad2a-a38d27962071"
I0305 06:39:53.303911       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="56c6c222-2b43-4b0e-ad2a-a38d27962071" model="qwen2-5-7b-instruct"
I0305 06:39:53.331384       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0516, numInputTokens, 7601
I0305 06:39:53.331407       1 tree.go:471] Updated node(0) last access: 151.4293 seconds
I0305 06:39:53.331413       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.331416       1 tree.go:471] Updated node(2) last access: 151.4294 seconds
I0305 06:39:53.331430       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:53.331435       1 tree.go:471] Updated node(23) last access: 151.4294 seconds
I0305 06:39:53.331442       1 tree.go:490] Partial tokens match child node(80). Continue to go deeper in the radix tree
I0305 06:39:53.331446       1 tree.go:471] Updated node(80) last access: 151.4294 seconds
I0305 06:39:53.331456       1 tree.go:667] Split complete - New node(248)
I0305 06:39:53.331460       1 tree.go:668] Split complete - Child node(25)
I0305 06:39:53.331465       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 06:39:53.331470       1 tree.go:471] Updated node(248) last access: 151.4294 seconds
I0305 06:39:53.331476       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 06:39:53.331481       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:53.331487       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:53.331495       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.331501       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.331482708 +0000 UTC m=+151.548209572]
I0305 06:39:53.331525       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7490, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 06:39:53.331531       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 06:39:53.331590       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7490
I0305 06:39:53.331599       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.331606       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.331611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.331616       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.331620       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.331626       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.331630       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.331638       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.331646       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:53.331659       1 prefix_cache_and_load.go:584] latency, Route, 0.3482
I0305 06:39:53.331674       1 gateway.go:415] latency, selectTargetPod, 0.3483, target pod, 10.0.3.42:8000
I0305 06:39:53.331686       1 gateway.go:235] latency, HandleRequestBody, 0.4050
I0305 06:39:53.331723       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3482
I0305 06:39:53.331728       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.331731       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.331845       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.331895       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:53.331899       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.335486       1 gateway.go:608] "First token received" requestID="e623bfc0-8230-4222-8d3b-6dff65d60c14" ttft_ms=356
I0305 06:39:53.347703       1 gateway.go:562] latency, 0.0000, summary, hash(request), cce348a5, selectedpod, 10.0.1.47:8000, ttft, 286, tpot, 19, e2e, 459, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:53.347724       1 gateway.go:748] "Request completed" requestID="599d7210-3526-4c14-8f70-3183c3f3303f" targetPod="10.0.1.47:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:53.347735       1 gateway.go:764] "HandleResponseBody completed" requestID="599d7210-3526-4c14-8f70-3183c3f3303f" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:53.348449       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="688559d8-74ca-4da6-acdb-fa3da6a2cf9a"
I0305 06:39:53.384616       1 gateway.go:608] "First token received" requestID="688559d8-74ca-4da6-acdb-fa3da6a2cf9a" ttft_ms=457
I0305 06:39:53.411070       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0792, numInputTokens, 7601
I0305 06:39:53.411089       1 tree.go:471] Updated node(0) last access: 151.5090 seconds
I0305 06:39:53.411095       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.411098       1 tree.go:471] Updated node(2) last access: 151.5090 seconds
I0305 06:39:53.411111       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:53.411116       1 tree.go:471] Updated node(31) last access: 151.5091 seconds
I0305 06:39:53.411122       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:53.411127       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:39:53.411135       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:53.411143       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.411151       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.411129488 +0000 UTC m=+151.627856352]
I0305 06:39:53.411170       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:53.411176       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:53.411232       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:39:53.411243       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.411250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.411257       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.411261       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.411264       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.411271       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.411279       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:53.411290       1 prefix_cache_and_load.go:584] latency, Route, 0.4277
I0305 06:39:53.411307       1 gateway.go:415] latency, selectTargetPod, 0.4278, target pod, 10.0.1.28:8000
I0305 06:39:53.411320       1 gateway.go:235] latency, HandleRequestBody, 0.4327
I0305 06:39:53.411338       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4278
I0305 06:39:53.411348       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.411351       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.411541       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.411596       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:53.411603       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.424661       1 gateway.go:562] latency, 0.0000, summary, hash(request), da5b7be7, selectedpod, 10.0.0.39:8000, ttft, 350, tpot, 19, e2e, 523, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:53.424681       1 gateway.go:748] "Request completed" requestID="83823111-0fd0-49ee-9446-68b02b573391" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:53.424693       1 gateway.go:764] "HandleResponseBody completed" requestID="83823111-0fd0-49ee-9446-68b02b573391" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:53.430811       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="52b04e1a-51f0-4f4f-a7b0-63d2a1e24f39"
I0305 06:39:53.478769       1 gateway.go:608] "First token received" requestID="52b04e1a-51f0-4f4f-a7b0-63d2a1e24f39" ttft_ms=500
I0305 06:39:53.479993       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0684, numInputTokens, 7602
I0305 06:39:53.480009       1 tree.go:471] Updated node(0) last access: 151.5779 seconds
I0305 06:39:53.480016       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.480019       1 tree.go:471] Updated node(2) last access: 151.5780 seconds
I0305 06:39:53.480033       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:53.480036       1 tree.go:471] Updated node(51) last access: 151.5780 seconds
I0305 06:39:53.480039       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:39:53.480042       1 tree.go:471] Updated node(123) last access: 151.5780 seconds
I0305 06:39:53.480052       1 tree.go:667] Split complete - New node(251)
I0305 06:39:53.480055       1 tree.go:668] Split complete - Child node(93)
I0305 06:39:53.480061       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:39:53.480065       1 tree.go:471] Updated node(251) last access: 151.5780 seconds
I0305 06:39:53.480070       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:53.480073       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:53.480081       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:53.480087       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.480093       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.480075601 +0000 UTC m=+151.696802466]
I0305 06:39:53.480107       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7484, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:53.480113       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:53.480167       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7484
I0305 06:39:53.480177       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.480186       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.480192       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.480196       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.480201       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.480204       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.480209       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.480219       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.480227       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:53.480239       1 prefix_cache_and_load.go:584] latency, Route, 0.4967
I0305 06:39:53.480253       1 gateway.go:415] latency, selectTargetPod, 0.4967, target pod, 10.0.1.28:8000
I0305 06:39:53.480265       1 gateway.go:235] latency, HandleRequestBody, 0.5594
I0305 06:39:53.480292       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4837
I0305 06:39:53.480297       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.480300       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.480403       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.480447       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:53.480452       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.499174       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="18c91c8f-42b6-4c3e-b650-8da2fc2f0012"
I0305 06:39:53.508247       1 gateway.go:562] latency, 0.0000, summary, hash(request), 28d78b9d, selectedpod, 10.0.0.131:8000, ttft, 356, tpot, 19, e2e, 529, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:39:53.508268       1 gateway.go:748] "Request completed" requestID="e623bfc0-8230-4222-8d3b-6dff65d60c14" targetPod="10.0.0.131:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:39:53.508277       1 gateway.go:764] "HandleResponseBody completed" requestID="e623bfc0-8230-4222-8d3b-6dff65d60c14" promptTokens=7613 completionTokens=10 stream=true
I0305 06:39:53.529842       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0494, numInputTokens, 7601
I0305 06:39:53.529861       1 tree.go:471] Updated node(0) last access: 151.6278 seconds
I0305 06:39:53.529869       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.529873       1 tree.go:471] Updated node(2) last access: 151.6278 seconds
I0305 06:39:53.529888       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:53.529892       1 tree.go:471] Updated node(8) last access: 151.6278 seconds
I0305 06:39:53.529898       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 06:39:53.529921       1 tree.go:471] Updated node(21) last access: 151.6278 seconds
I0305 06:39:53.529934       1 tree.go:667] Split complete - New node(253)
I0305 06:39:53.529940       1 tree.go:668] Split complete - Child node(6)
I0305 06:39:53.529947       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 06:39:53.529953       1 tree.go:471] Updated node(253) last access: 151.6279 seconds
I0305 06:39:53.529959       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 06:39:53.529964       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:53.529981       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:53.529988       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.529996       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.529975369 +0000 UTC m=+151.746702241]
I0305 06:39:53.530013       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7491, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 06:39:53.530022       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 06:39:53.530078       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7491
I0305 06:39:53.530091       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.530101       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.530108       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.530115       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.530123       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.530129       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.530137       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.530147       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.530160       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:53.530175       1 prefix_cache_and_load.go:584] latency, Route, 0.5336
I0305 06:39:53.530192       1 gateway.go:415] latency, selectTargetPod, 0.5336, target pod, 10.0.1.53:8000
I0305 06:39:53.530203       1 gateway.go:235] latency, HandleRequestBody, 0.5340
I0305 06:39:53.530231       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5147
I0305 06:39:53.530236       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.530238       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.530332       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.530377       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:53.530384       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.546323       1 gateway.go:608] "First token received" requestID="18c91c8f-42b6-4c3e-b650-8da2fc2f0012" ttft_ms=625
I0305 06:39:53.550147       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2c47e4c7-bcde-4f74-acf9-0ccaa2831111"
I0305 06:39:53.557479       1 gateway.go:562] latency, 0.0000, summary, hash(request), dbbee7c2, selectedpod, 10.0.3.42:8000, ttft, 457, tpot, 19, e2e, 630, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:53.557501       1 gateway.go:748] "Request completed" requestID="688559d8-74ca-4da6-acdb-fa3da6a2cf9a" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:53.557528       1 gateway.go:764] "HandleResponseBody completed" requestID="688559d8-74ca-4da6-acdb-fa3da6a2cf9a" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:53.586200       1 gateway.go:608] "First token received" requestID="2c47e4c7-bcde-4f74-acf9-0ccaa2831111" ttft_ms=589
I0305 06:39:53.598847       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0685, numInputTokens, 7596
I0305 06:39:53.598866       1 tree.go:471] Updated node(0) last access: 151.6968 seconds
I0305 06:39:53.598872       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.598876       1 tree.go:471] Updated node(2) last access: 151.6968 seconds
I0305 06:39:53.598888       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:53.598893       1 tree.go:471] Updated node(18) last access: 151.6968 seconds
I0305 06:39:53.598904       1 tree.go:667] Split complete - New node(255)
I0305 06:39:53.598909       1 tree.go:668] Split complete - Child node(136)
I0305 06:39:53.598913       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:39:53.598919       1 tree.go:471] Updated node(255) last access: 151.6969 seconds
I0305 06:39:53.598924       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 06:39:53.598929       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:39:53.598935       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:39:53.598942       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.598946       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.598930844 +0000 UTC m=+151.815657709]
I0305 06:39:53.598962       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7487, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 06:39:53.598976       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 06:39:53.599031       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7487
I0305 06:39:53.599040       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.599048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.599054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.599058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.599062       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.599065       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.599073       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.599083       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:53.599094       1 prefix_cache_and_load.go:584] latency, Route, 0.5835
I0305 06:39:53.599106       1 gateway.go:415] latency, selectTargetPod, 0.5835, target pod, 10.0.0.131:8000
I0305 06:39:53.599118       1 gateway.go:235] latency, HandleRequestBody, 0.5839
I0305 06:39:53.599151       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5656
I0305 06:39:53.599156       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.599159       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.599259       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.599331       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:53.599340       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.617792       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7925512b-bdaa-4dc9-90bc-24290f3f5970"
I0305 06:39:53.653575       1 gateway.go:608] "First token received" requestID="7925512b-bdaa-4dc9-90bc-24290f3f5970" ttft_ms=638
I0305 06:39:53.679903       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0806, numInputTokens, 7597
I0305 06:39:53.679919       1 tree.go:471] Updated node(0) last access: 151.7779 seconds
I0305 06:39:53.679925       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.679928       1 tree.go:471] Updated node(2) last access: 151.7779 seconds
I0305 06:39:53.679943       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:53.679946       1 tree.go:471] Updated node(4) last access: 151.7779 seconds
I0305 06:39:53.679953       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:39:53.679958       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:39:53.679964       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:53.679979       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.679984       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.679960632 +0000 UTC m=+151.896687496]
I0305 06:39:53.679998       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:39:53.680006       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:39:53.680056       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7478
I0305 06:39:53.680065       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.680072       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.680079       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.680085       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.680088       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.680096       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.680106       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:53.680115       1 prefix_cache_and_load.go:584] latency, Route, 0.6465
I0305 06:39:53.680131       1 gateway.go:415] latency, selectTargetPod, 0.6466, target pod, 10.0.1.47:8000
I0305 06:39:53.680141       1 gateway.go:235] latency, HandleRequestBody, 0.6469
I0305 06:39:53.680170       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6191
I0305 06:39:53.680174       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.680177       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.680284       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.680333       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:53.680338       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.689224       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d8bdfa4, selectedpod, 10.0.1.28:8000, ttft, 500, tpot, 23, e2e, 710, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:53.689248       1 gateway.go:748] "Request completed" requestID="52b04e1a-51f0-4f4f-a7b0-63d2a1e24f39" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:53.689262       1 gateway.go:764] "HandleResponseBody completed" requestID="52b04e1a-51f0-4f4f-a7b0-63d2a1e24f39" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:53.697980       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="81dd8b71-ba00-4fd3-ae56-00465ad2d1e8"
I0305 06:39:53.727883       1 gateway.go:562] latency, 0.0001, summary, hash(request), 053baff8, selectedpod, 10.0.1.28:8000, ttft, 625, tpot, 20, e2e, 806, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:53.727925       1 gateway.go:748] "Request completed" requestID="18c91c8f-42b6-4c3e-b650-8da2fc2f0012" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:53.727941       1 gateway.go:764] "HandleResponseBody completed" requestID="18c91c8f-42b6-4c3e-b650-8da2fc2f0012" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:53.733112       1 gateway.go:608] "First token received" requestID="81dd8b71-ba00-4fd3-ae56-00465ad2d1e8" ttft_ms=699
I0305 06:39:53.733185       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0528, numInputTokens, 7598
I0305 06:39:53.733210       1 tree.go:471] Updated node(0) last access: 151.8311 seconds
I0305 06:39:53.733222       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.733227       1 tree.go:471] Updated node(2) last access: 151.8312 seconds
I0305 06:39:53.733245       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:53.733252       1 tree.go:471] Updated node(12) last access: 151.8312 seconds
I0305 06:39:53.733258       1 tree.go:490] Partial tokens match child node(190). Continue to go deeper in the radix tree
I0305 06:39:53.733266       1 tree.go:471] Updated node(190) last access: 151.8312 seconds
I0305 06:39:53.733281       1 tree.go:667] Split complete - New node(258)
I0305 06:39:53.733288       1 tree.go:668] Split complete - Child node(191)
I0305 06:39:53.733295       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:39:53.733304       1 tree.go:471] Updated node(258) last access: 151.8312 seconds
I0305 06:39:53.733314       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:39:53.733321       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:53.733331       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:53.733340       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.733350       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.733323956 +0000 UTC m=+151.950050847]
I0305 06:39:53.733372       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:39:53.733384       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:39:53.733465       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7484
I0305 06:39:53.733480       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.733493       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.733502       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.733532       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.733540       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.733548       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.733557       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.733572       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.733586       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:53.733605       1 prefix_cache_and_load.go:584] latency, Route, 0.6725
I0305 06:39:53.733626       1 gateway.go:415] latency, selectTargetPod, 0.6726, target pod, 10.0.0.39:8000
I0305 06:39:53.733642       1 gateway.go:235] latency, HandleRequestBody, 0.6729
I0305 06:39:53.733679       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6625
I0305 06:39:53.733686       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.733691       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.733859       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.733922       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:53.733930       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.754481       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="05631de7-93a8-4a58-803f-19f5c6aef1f3"
I0305 06:39:53.770436       1 gateway.go:562] latency, 0.0000, summary, hash(request), ee57a001, selectedpod, 10.0.1.53:8000, ttft, 589, tpot, 20, e2e, 774, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:53.770457       1 gateway.go:748] "Request completed" requestID="2c47e4c7-bcde-4f74-acf9-0ccaa2831111" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:53.770468       1 gateway.go:764] "HandleResponseBody completed" requestID="2c47e4c7-bcde-4f74-acf9-0ccaa2831111" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:53.791902       1 gateway.go:608] "First token received" requestID="05631de7-93a8-4a58-803f-19f5c6aef1f3" ttft_ms=731
I0305 06:39:53.820427       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0865, numInputTokens, 7593
I0305 06:39:53.820445       1 tree.go:471] Updated node(0) last access: 151.9184 seconds
I0305 06:39:53.820451       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.820454       1 tree.go:471] Updated node(2) last access: 151.9184 seconds
I0305 06:39:53.820467       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:53.820471       1 tree.go:471] Updated node(26) last access: 151.9184 seconds
I0305 06:39:53.820474       1 tree.go:490] Partial tokens match child node(208). Continue to go deeper in the radix tree
I0305 06:39:53.820477       1 tree.go:471] Updated node(208) last access: 151.9184 seconds
I0305 06:39:53.820489       1 tree.go:667] Split complete - New node(260)
I0305 06:39:53.820495       1 tree.go:668] Split complete - Child node(209)
I0305 06:39:53.820502       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 06:39:53.820509       1 tree.go:471] Updated node(260) last access: 151.9184 seconds
I0305 06:39:53.820524       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 06:39:53.820529       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7593 tokens
I0305 06:39:53.820540       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 06:39:53.820551       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.820559       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.820533839 +0000 UTC m=+152.037260706]
I0305 06:39:53.820579       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7483, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 06:39:53.820590       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 06:39:53.820672       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7483
I0305 06:39:53.820687       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.820700       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.820710       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.820716       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.820723       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.820730       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.820737       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.820748       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.820762       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:53.820775       1 prefix_cache_and_load.go:584] latency, Route, 0.7496
I0305 06:39:53.820791       1 gateway.go:415] latency, selectTargetPod, 0.7496, target pod, 10.0.3.41:8000
I0305 06:39:53.820807       1 gateway.go:235] latency, HandleRequestBody, 0.7500
I0305 06:39:53.820832       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7455
I0305 06:39:53.820837       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.820840       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.820947       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.821004       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:53.821010       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.826607       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5fed9d4a, selectedpod, 10.0.0.131:8000, ttft, 638, tpot, 19, e2e, 811, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:39:53.826633       1 gateway.go:748] "Request completed" requestID="7925512b-bdaa-4dc9-90bc-24290f3f5970" targetPod="10.0.0.131:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:39:53.826647       1 gateway.go:764] "HandleResponseBody completed" requestID="7925512b-bdaa-4dc9-90bc-24290f3f5970" promptTokens=7615 completionTokens=10 stream=true
I0305 06:39:53.837484       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9850e584-d5e9-4f9c-ba60-2f8b3c21036b"
I0305 06:39:53.873827       1 gateway.go:608] "First token received" requestID="9850e584-d5e9-4f9c-ba60-2f8b3c21036b" ttft_ms=802
I0305 06:39:53.887682       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0667, numInputTokens, 7594
I0305 06:39:53.887704       1 tree.go:471] Updated node(0) last access: 151.9856 seconds
I0305 06:39:53.887712       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.887717       1 tree.go:471] Updated node(2) last access: 151.9857 seconds
I0305 06:39:53.887733       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:53.887739       1 tree.go:471] Updated node(23) last access: 151.9857 seconds
I0305 06:39:53.887748       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:53.887755       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 06:39:53.887765       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:39:53.887775       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.887782       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.887759099 +0000 UTC m=+152.104485980]
I0305 06:39:53.887803       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7478, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:53.887815       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:53.887887       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7478
I0305 06:39:53.887901       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.887913       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.887922       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.887928       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.887937       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.887954       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.887974       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:53.887987       1 prefix_cache_and_load.go:584] latency, Route, 0.8127
I0305 06:39:53.888005       1 gateway.go:415] latency, selectTargetPod, 0.8127, target pod, 10.0.3.42:8000
I0305 06:39:53.888021       1 gateway.go:235] latency, HandleRequestBody, 0.8130
I0305 06:39:53.888058       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7852
I0305 06:39:53.888065       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.888069       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.888211       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.888272       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:53.888279       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.904032       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9b4196c2-1bfc-4040-bfb2-014925c256d7"
I0305 06:39:53.905985       1 gateway.go:562] latency, 0.0001, summary, hash(request), e82cf0c1, selectedpod, 10.0.1.47:8000, ttft, 699, tpot, 19, e2e, 872, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:53.906002       1 gateway.go:748] "Request completed" requestID="81dd8b71-ba00-4fd3-ae56-00465ad2d1e8" targetPod="10.0.1.47:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:53.906010       1 gateway.go:764] "HandleResponseBody completed" requestID="81dd8b71-ba00-4fd3-ae56-00465ad2d1e8" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:53.940492       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0522, numInputTokens, 7597
I0305 06:39:53.940518       1 tree.go:471] Updated node(0) last access: 152.0384 seconds
I0305 06:39:53.940524       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:53.940528       1 tree.go:471] Updated node(2) last access: 152.0385 seconds
I0305 06:39:53.940531       1 gateway.go:608] "First token received" requestID="9b4196c2-1bfc-4040-bfb2-014925c256d7" ttft_ms=865
I0305 06:39:53.940539       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:39:53.940543       1 tree.go:471] Updated node(23) last access: 152.0385 seconds
I0305 06:39:53.940552       1 tree.go:667] Split complete - New node(263)
I0305 06:39:53.940555       1 tree.go:668] Split complete - Child node(49)
I0305 06:39:53.940561       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:39:53.940566       1 tree.go:471] Updated node(263) last access: 152.0385 seconds
I0305 06:39:53.940572       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:53.940577       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:39:53.940583       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:39:53.940589       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:53.940594       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:53.940579167 +0000 UTC m=+152.157306040]
I0305 06:39:53.940609       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7482, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:53.940616       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:53.940695       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7482
I0305 06:39:53.940707       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:53.940716       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.940722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.940726       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.940741       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.940747       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:53.940755       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:53.940763       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:39:53.940777       1 prefix_cache_and_load.go:584] latency, Route, 0.8379
I0305 06:39:53.940793       1 gateway.go:415] latency, selectTargetPod, 0.8379, target pod, 10.0.3.42:8000
I0305 06:39:53.940804       1 gateway.go:235] latency, HandleRequestBody, 0.8382
I0305 06:39:53.940803       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8182
I0305 06:39:53.940811       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:53.940817       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:53.941002       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:53.941064       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:53.941070       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:53.956098       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="14fcb373-0d2a-4f8c-ab12-5359de5cdef2"
I0305 06:39:53.965645       1 gateway.go:562] latency, 0.0000, summary, hash(request), 28034c92, selectedpod, 10.0.0.39:8000, ttft, 731, tpot, 19, e2e, 904, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:53.965669       1 gateway.go:748] "Request completed" requestID="05631de7-93a8-4a58-803f-19f5c6aef1f3" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:53.965683       1 gateway.go:764] "HandleResponseBody completed" requestID="05631de7-93a8-4a58-803f-19f5c6aef1f3" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:53.991736       1 gateway.go:608] "First token received" requestID="14fcb373-0d2a-4f8c-ab12-5359de5cdef2" ttft_ms=889
I0305 06:39:54.027224       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0861, numInputTokens, 7600
I0305 06:39:54.027243       1 tree.go:471] Updated node(0) last access: 152.1252 seconds
I0305 06:39:54.027250       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.027253       1 tree.go:471] Updated node(2) last access: 152.1252 seconds
I0305 06:39:54.027267       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:54.027272       1 tree.go:471] Updated node(45) last access: 152.1252 seconds
I0305 06:39:54.027274       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:39:54.027277       1 tree.go:471] Updated node(175) last access: 152.1252 seconds
I0305 06:39:54.027281       1 tree.go:490] Partial tokens match child node(184). Continue to go deeper in the radix tree
I0305 06:39:54.027285       1 tree.go:471] Updated node(184) last access: 152.1252 seconds
I0305 06:39:54.027289       1 tree.go:484] Entire input tokens match the child node(185)
I0305 06:39:54.027293       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:54.027300       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:54.027307       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.027312       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.02729494 +0000 UTC m=+152.244021805 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:45.192961515 +0000 UTC m=+143.409688380]
I0305 06:39:54.027327       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:54.027335       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:54.027387       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7600
I0305 06:39:54.027396       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.027403       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.027409       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.027414       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.027418       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.027423       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.027427       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.027436       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.027444       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:54.027453       1 prefix_cache_and_load.go:584] latency, Route, 0.9049
I0305 06:39:54.027467       1 gateway.go:415] latency, selectTargetPod, 0.9049, target pod, 10.0.0.34:8000
I0305 06:39:54.027481       1 gateway.go:235] latency, HandleRequestBody, 0.9052
I0305 06:39:54.027521       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8934
I0305 06:39:54.027527       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.027530       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.027639       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.027685       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:54.027689       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.045553       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="989e55ae-c18b-4c1d-93bf-1e507b26cf85"
I0305 06:39:54.047107       1 gateway.go:562] latency, 0.0000, summary, hash(request), 70bad0fb, selectedpod, 10.0.3.41:8000, ttft, 802, tpot, 19, e2e, 976, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 06:39:54.047128       1 gateway.go:748] "Request completed" requestID="9850e584-d5e9-4f9c-ba60-2f8b3c21036b" targetPod="10.0.3.41:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 06:39:54.047137       1 gateway.go:764] "HandleResponseBody completed" requestID="9850e584-d5e9-4f9c-ba60-2f8b3c21036b" promptTokens=7612 completionTokens=10 stream=true
I0305 06:39:54.076879       1 gateway.go:608] "First token received" requestID="989e55ae-c18b-4c1d-93bf-1e507b26cf85" ttft_ms=954
I0305 06:39:54.103534       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0758, numInputTokens, 7604
I0305 06:39:54.103550       1 tree.go:471] Updated node(0) last access: 152.2015 seconds
I0305 06:39:54.103558       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.103562       1 tree.go:471] Updated node(2) last access: 152.2015 seconds
I0305 06:39:54.103577       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:54.103581       1 tree.go:471] Updated node(45) last access: 152.2015 seconds
I0305 06:39:54.103588       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 06:39:54.103596       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 06:39:54.103604       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 06:39:54.103611       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.103618       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.103598304 +0000 UTC m=+152.320325171]
I0305 06:39:54.103636       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 06:39:54.103646       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 06:39:54.103698       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:39:54.103711       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.103723       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.103729       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.103735       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.103741       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.103751       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.103763       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:54.103775       1 prefix_cache_and_load.go:584] latency, Route, 0.9697
I0305 06:39:54.103789       1 gateway.go:415] latency, selectTargetPod, 0.9697, target pod, 10.0.0.34:8000
I0305 06:39:54.103800       1 gateway.go:235] latency, HandleRequestBody, 0.9701
I0305 06:39:54.103825       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9372
I0305 06:39:54.103829       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.103833       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.103938       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.103999       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:54.104004       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.122034       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b673c1c8-f32f-4a61-a920-1a2e366a41a4"
I0305 06:39:54.152687       1 gateway.go:562] latency, 0.0000, summary, hash(request), 851252c1, selectedpod, 10.0.3.42:8000, ttft, 865, tpot, 23, e2e, 1077, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:39:54.152710       1 gateway.go:748] "Request completed" requestID="9b4196c2-1bfc-4040-bfb2-014925c256d7" targetPod="10.0.3.42:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:39:54.152721       1 gateway.go:764] "HandleResponseBody completed" requestID="9b4196c2-1bfc-4040-bfb2-014925c256d7" promptTokens=7613 completionTokens=10 stream=true
I0305 06:39:54.173106       1 gateway.go:562] latency, 0.0000, summary, hash(request), e0a21ebb, selectedpod, 10.0.3.42:8000, ttft, 889, tpot, 20, e2e, 1070, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:39:54.173127       1 gateway.go:748] "Request completed" requestID="14fcb373-0d2a-4f8c-ab12-5359de5cdef2" targetPod="10.0.3.42:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:39:54.173143       1 gateway.go:764] "HandleResponseBody completed" requestID="14fcb373-0d2a-4f8c-ab12-5359de5cdef2" promptTokens=7616 completionTokens=10 stream=true
I0305 06:39:54.178633       1 gateway.go:608] "First token received" requestID="b673c1c8-f32f-4a61-a920-1a2e366a41a4" ttft_ms=1044
I0305 06:39:54.189036       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0850, numInputTokens, 7594
I0305 06:39:54.189053       1 tree.go:471] Updated node(0) last access: 152.2870 seconds
I0305 06:39:54.189059       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.189062       1 tree.go:471] Updated node(2) last access: 152.2870 seconds
I0305 06:39:54.189075       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:54.189079       1 tree.go:471] Updated node(12) last access: 152.2870 seconds
I0305 06:39:54.189085       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:54.189093       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 06:39:54.189102       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:39:54.189111       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.189117       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.189097288 +0000 UTC m=+152.405824160]
I0305 06:39:54.189135       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7478, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:54.189147       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:54.189208       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7478
I0305 06:39:54.189218       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.189226       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.189232       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.189236       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.189240       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.189293       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.189304       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:54.189314       1 prefix_cache_and_load.go:584] latency, Route, 1.0226
I0305 06:39:54.189330       1 gateway.go:415] latency, selectTargetPod, 1.0227, target pod, 10.0.0.39:8000
I0305 06:39:54.189343       1 gateway.go:235] latency, HandleRequestBody, 1.0230
I0305 06:39:54.189375       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0082
I0305 06:39:54.189379       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.189382       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.189503       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.189593       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:54.189600       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.206059       1 gateway.go:207] "Processing request" requestID="844e2d46-9e54-4755-b37c-b6603467860b"
I0305 06:39:54.206090       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="844e2d46-9e54-4755-b37c-b6603467860b"
I0305 06:39:54.206100       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:54.208545       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a7f1daae-90ad-4121-90da-888a3f32111a"
I0305 06:39:54.217009       1 gateway.go:329] "-- In RequestBody processing ..." requestID="844e2d46-9e54-4755-b37c-b6603467860b"
I0305 06:39:54.217231       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="844e2d46-9e54-4755-b37c-b6603467860b" model="qwen2-5-7b-instruct"
I0305 06:39:54.243106       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0535, numInputTokens, 7600
I0305 06:39:54.243124       1 tree.go:471] Updated node(0) last access: 152.3411 seconds
I0305 06:39:54.243131       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.243133       1 tree.go:471] Updated node(2) last access: 152.3411 seconds
I0305 06:39:54.243148       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:54.243153       1 tree.go:471] Updated node(12) last access: 152.3411 seconds
I0305 06:39:54.243162       1 tree.go:667] Split complete - New node(267)
I0305 06:39:54.243167       1 tree.go:668] Split complete - Child node(245)
I0305 06:39:54.243172       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 06:39:54.243178       1 tree.go:471] Updated node(267) last access: 152.3411 seconds
I0305 06:39:54.243183       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:39:54.243188       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:54.243194       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:54.243201       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.243206       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.243190469 +0000 UTC m=+152.459917334]
I0305 06:39:54.243221       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7479, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:39:54.243227       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:39:54.243283       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7479
I0305 06:39:54.243292       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.243301       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.243306       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.243310       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.243314       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.243317       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.243325       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.243335       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:54.243346       1 prefix_cache_and_load.go:584] latency, Route, 1.0622
I0305 06:39:54.243360       1 gateway.go:415] latency, selectTargetPod, 1.0622, target pod, 10.0.0.39:8000
I0305 06:39:54.243371       1 gateway.go:235] latency, HandleRequestBody, 1.0626
I0305 06:39:54.243397       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0353
I0305 06:39:54.243402       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.243405       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.243531       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.243580       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:54.243585       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.244197       1 gateway.go:608] "First token received" requestID="a7f1daae-90ad-4121-90da-888a3f32111a" ttft_ms=1077
I0305 06:39:54.278577       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="61f002fa-f9fb-4949-b116-098cd1c0762e"
I0305 06:39:54.295755       1 gateway.go:562] latency, 0.0000, summary, hash(request), bbf7e859, selectedpod, 10.0.0.34:8000, ttft, 954, tpot, 24, e2e, 1173, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:54.295774       1 gateway.go:748] "Request completed" requestID="989e55ae-c18b-4c1d-93bf-1e507b26cf85" targetPod="10.0.0.34:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:54.295784       1 gateway.go:764] "HandleResponseBody completed" requestID="989e55ae-c18b-4c1d-93bf-1e507b26cf85" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:54.304242       1 gateway.go:608] "First token received" requestID="61f002fa-f9fb-4949-b116-098cd1c0762e" ttft_ms=1123
I0305 06:39:54.326804       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0832, numInputTokens, 7600
I0305 06:39:54.326824       1 tree.go:471] Updated node(0) last access: 152.4248 seconds
I0305 06:39:54.326830       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.326833       1 tree.go:471] Updated node(2) last access: 152.4248 seconds
I0305 06:39:54.326847       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:39:54.326849       1 tree.go:471] Updated node(31) last access: 152.4248 seconds
I0305 06:39:54.326853       1 tree.go:490] Partial tokens match child node(186). Continue to go deeper in the radix tree
I0305 06:39:54.326857       1 tree.go:471] Updated node(186) last access: 152.4248 seconds
I0305 06:39:54.326861       1 tree.go:484] Entire input tokens match the child node(187)
I0305 06:39:54.326866       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:39:54.326872       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:54.326879       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.326888       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.326868283 +0000 UTC m=+152.543595161 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:45.245751061 +0000 UTC m=+143.462477926]
I0305 06:39:54.326906       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:54.326914       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:54.326965       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7600
I0305 06:39:54.326983       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.326992       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.326999       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.327004       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.327011       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.327015       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.327023       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.327031       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:54.327042       1 prefix_cache_and_load.go:584] latency, Route, 1.1190
I0305 06:39:54.327055       1 gateway.go:415] latency, selectTargetPod, 1.1190, target pod, 10.0.1.28:8000
I0305 06:39:54.327064       1 gateway.go:235] latency, HandleRequestBody, 1.1194
I0305 06:39:54.327094       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0901
I0305 06:39:54.327099       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.327101       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.327252       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.327303       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:54.327308       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.346757       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9bbb8350-a02d-44b2-bb53-136607e96275"
I0305 06:39:54.354290       1 gateway.go:562] latency, 0.0000, summary, hash(request), 92a8bfab, selectedpod, 10.0.0.34:8000, ttft, 1044, tpot, 19, e2e, 1220, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 06:39:54.354317       1 gateway.go:748] "Request completed" requestID="b673c1c8-f32f-4a61-a920-1a2e366a41a4" targetPod="10.0.0.34:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 06:39:54.354333       1 gateway.go:764] "HandleResponseBody completed" requestID="b673c1c8-f32f-4a61-a920-1a2e366a41a4" promptTokens=7623 completionTokens=10 stream=true
I0305 06:39:54.378309       1 gateway.go:608] "First token received" requestID="9bbb8350-a02d-44b2-bb53-136607e96275" ttft_ms=1170
I0305 06:39:54.386205       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0589, numInputTokens, 7602
I0305 06:39:54.386237       1 tree.go:471] Updated node(0) last access: 152.4842 seconds
I0305 06:39:54.386243       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.386249       1 tree.go:471] Updated node(2) last access: 152.4842 seconds
I0305 06:39:54.386263       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:54.386269       1 tree.go:471] Updated node(51) last access: 152.4842 seconds
I0305 06:39:54.386275       1 tree.go:484] Entire input tokens match the child node(183)
I0305 06:39:54.386281       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:39:54.386290       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:54.386300       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.386309       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.386284126 +0000 UTC m=+152.603010994 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:43.778946105 +0000 UTC m=+141.995672970]
I0305 06:39:54.386344       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:39:54.386353       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:54.386458       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7602
I0305 06:39:54.386467       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.386478       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.386483       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.386489       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.386494       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.386503       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.386524       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:54.386537       1 prefix_cache_and_load.go:584] latency, Route, 1.1496
I0305 06:39:54.386552       1 gateway.go:415] latency, selectTargetPod, 1.1496, target pod, 10.0.1.28:8000
I0305 06:39:54.386567       1 gateway.go:235] latency, HandleRequestBody, 1.1499
I0305 06:39:54.386620       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1404
I0305 06:39:54.386626       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.386630       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.386975       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.387145       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:39:54.387153       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.405494       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5459f95e-5201-4a0a-ab94-037a4331b223"
I0305 06:39:54.436500       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0493, numInputTokens, 7600
I0305 06:39:54.436527       1 tree.go:471] Updated node(0) last access: 152.5345 seconds
I0305 06:39:54.436534       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.436537       1 tree.go:471] Updated node(2) last access: 152.5345 seconds
I0305 06:39:54.436550       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:54.436552       1 tree.go:471] Updated node(12) last access: 152.5345 seconds
I0305 06:39:54.436562       1 tree.go:667] Split complete - New node(269)
I0305 06:39:54.436567       1 tree.go:668] Split complete - Child node(133)
I0305 06:39:54.436571       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 06:39:54.436575       1 tree.go:471] Updated node(269) last access: 152.5345 seconds
I0305 06:39:54.436580       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:39:54.436585       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:54.436593       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:54.436602       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.436609       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.436588161 +0000 UTC m=+152.653315026]
I0305 06:39:54.436628       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7482, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:39:54.436635       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:39:54.436699       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7482
I0305 06:39:54.436708       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.436715       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.436720       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.436724       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.436730       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.436735       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.436743       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.436752       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:54.436763       1 prefix_cache_and_load.go:584] latency, Route, 1.1906
I0305 06:39:54.436776       1 gateway.go:415] latency, selectTargetPod, 1.1906, target pod, 10.0.0.39:8000
I0305 06:39:54.436786       1 gateway.go:235] latency, HandleRequestBody, 1.1909
I0305 06:39:54.436810       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1580
I0305 06:39:54.436814       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.436817       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.436926       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.436987       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:54.436992       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.446144       1 gateway.go:608] "First token received" requestID="5459f95e-5201-4a0a-ab94-037a4331b223" ttft_ms=1209
I0305 06:39:54.456305       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5ccf05c0-3cfc-4cdc-b240-eece8cdc06b7"
I0305 06:39:54.475773       1 gateway.go:562] latency, 0.0000, summary, hash(request), b42e7146, selectedpod, 10.0.0.39:8000, ttft, 1077, tpot, 25, e2e, 1309, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:39:54.475792       1 gateway.go:748] "Request completed" requestID="a7f1daae-90ad-4121-90da-888a3f32111a" targetPod="10.0.0.39:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:39:54.475804       1 gateway.go:764] "HandleResponseBody completed" requestID="a7f1daae-90ad-4121-90da-888a3f32111a" promptTokens=7613 completionTokens=10 stream=true
I0305 06:39:54.506580       1 gateway.go:608] "First token received" requestID="5ccf05c0-3cfc-4cdc-b240-eece8cdc06b7" ttft_ms=1260
I0305 06:39:54.516503       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0795, numInputTokens, 7600
I0305 06:39:54.516541       1 tree.go:471] Updated node(0) last access: 152.6145 seconds
I0305 06:39:54.516549       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.516553       1 tree.go:471] Updated node(2) last access: 152.6145 seconds
I0305 06:39:54.516569       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:54.516573       1 tree.go:471] Updated node(51) last access: 152.6145 seconds
I0305 06:39:54.516579       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:39:54.516589       1 tree.go:471] Updated node(123) last access: 152.6145 seconds
I0305 06:39:54.516607       1 tree.go:667] Split complete - New node(271)
I0305 06:39:54.516614       1 tree.go:668] Split complete - Child node(129)
I0305 06:39:54.516621       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:39:54.516630       1 tree.go:471] Updated node(271) last access: 152.6146 seconds
I0305 06:39:54.516638       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:39:54.516643       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:54.516652       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:54.516664       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.516671       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.516645482 +0000 UTC m=+152.733372347]
I0305 06:39:54.516691       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:39:54.516701       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:39:54.516822       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7484
I0305 06:39:54.516835       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.516847       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.516857       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.516867       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.516878       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.516884       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.516892       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.516905       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.516918       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:54.516935       1 prefix_cache_and_load.go:584] latency, Route, 1.2381
I0305 06:39:54.516952       1 gateway.go:415] latency, selectTargetPod, 1.2381, target pod, 10.0.1.28:8000
I0305 06:39:54.516976       1 gateway.go:235] latency, HandleRequestBody, 1.2384
I0305 06:39:54.517026       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2294
I0305 06:39:54.517042       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.517047       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.517323       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.517459       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:39:54.517465       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.527305       1 gateway.go:562] latency, 0.0000, summary, hash(request), 53cf18e6, selectedpod, 10.0.0.39:8000, ttft, 1123, tpot, 24, e2e, 1346, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:54.527333       1 gateway.go:748] "Request completed" requestID="61f002fa-f9fb-4949-b116-098cd1c0762e" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:54.527351       1 gateway.go:764] "HandleResponseBody completed" requestID="61f002fa-f9fb-4949-b116-098cd1c0762e" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:54.535779       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="812271bf-b4cc-463b-8db6-00340658df41"
I0305 06:39:54.551465       1 gateway.go:207] "Processing request" requestID="45319007-6060-45b4-bbdf-c709b42acd73"
I0305 06:39:54.551495       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="45319007-6060-45b4-bbdf-c709b42acd73"
I0305 06:39:54.551502       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:54.581382       1 gateway.go:608] "First token received" requestID="812271bf-b4cc-463b-8db6-00340658df41" ttft_ms=1302
I0305 06:39:54.605689       1 gateway.go:329] "-- In RequestBody processing ..." requestID="45319007-6060-45b4-bbdf-c709b42acd73"
I0305 06:39:54.606006       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="45319007-6060-45b4-bbdf-c709b42acd73" model="qwen2-5-7b-instruct"
I0305 06:39:54.609844       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0924, numInputTokens, 7600
I0305 06:39:54.609862       1 tree.go:471] Updated node(0) last access: 152.7078 seconds
I0305 06:39:54.609869       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.609872       1 tree.go:471] Updated node(2) last access: 152.7078 seconds
I0305 06:39:54.609884       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:39:54.609889       1 tree.go:471] Updated node(4) last access: 152.7078 seconds
I0305 06:39:54.609891       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 06:39:54.609895       1 tree.go:471] Updated node(38) last access: 152.7078 seconds
I0305 06:39:54.609903       1 tree.go:667] Split complete - New node(273)
I0305 06:39:54.609907       1 tree.go:668] Split complete - Child node(5)
I0305 06:39:54.609911       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:39:54.609915       1 tree.go:471] Updated node(273) last access: 152.7079 seconds
I0305 06:39:54.609921       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 06:39:54.609924       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:54.609931       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:54.609936       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.609942       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.609927566 +0000 UTC m=+152.826654431]
I0305 06:39:54.609956       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7488, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 06:39:54.609962       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 06:39:54.610023       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7488
I0305 06:39:54.610033       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.610040       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.610047       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.610052       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.610058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.610062       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.610067       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.610075       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.610084       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:39:54.610096       1 prefix_cache_and_load.go:584] latency, Route, 1.3225
I0305 06:39:54.610109       1 gateway.go:415] latency, selectTargetPod, 1.3225, target pod, 10.0.1.47:8000
I0305 06:39:54.610120       1 gateway.go:235] latency, HandleRequestBody, 1.3229
I0305 06:39:54.610121       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3061
I0305 06:39:54.610130       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.610134       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.610336       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.610395       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:39:54.610402       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.623588       1 gateway.go:562] latency, 0.0000, summary, hash(request), 09cfa368, selectedpod, 10.0.1.28:8000, ttft, 1170, tpot, 27, e2e, 1415, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:54.623608       1 gateway.go:748] "Request completed" requestID="9bbb8350-a02d-44b2-bb53-136607e96275" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:54.623620       1 gateway.go:764] "HandleResponseBody completed" requestID="9bbb8350-a02d-44b2-bb53-136607e96275" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:54.629306       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b76252b3-54cc-4762-af6a-5f625873fcd7"
I0305 06:39:54.659744       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0493, numInputTokens, 7601
I0305 06:39:54.659762       1 tree.go:471] Updated node(0) last access: 152.7577 seconds
I0305 06:39:54.659769       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.659774       1 tree.go:471] Updated node(2) last access: 152.7577 seconds
I0305 06:39:54.659787       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:54.659792       1 tree.go:471] Updated node(12) last access: 152.7577 seconds
I0305 06:39:54.659804       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:39:54.659811       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:54.659820       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:54.659825       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.659831       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.659812834 +0000 UTC m=+152.876539699]
I0305 06:39:54.659847       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:39:54.659858       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:39:54.659917       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7478
I0305 06:39:54.659926       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.659934       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.659943       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.659950       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.659957       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.659967       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.659984       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:54.659995       1 prefix_cache_and_load.go:584] latency, Route, 1.3560
I0305 06:39:54.660007       1 gateway.go:415] latency, selectTargetPod, 1.3560, target pod, 10.0.0.39:8000
I0305 06:39:54.660019       1 gateway.go:235] latency, HandleRequestBody, 1.3563
I0305 06:39:54.660044       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4427
I0305 06:39:54.660054       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.660058       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.660207       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.660255       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:54.660261       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.664530       1 gateway.go:608] "First token received" requestID="b76252b3-54cc-4762-af6a-5f625873fcd7" ttft_ms=1377
I0305 06:39:54.678596       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="56c6c222-2b43-4b0e-ad2a-a38d27962071"
I0305 06:39:54.678779       1 gateway.go:562] latency, 0.0001, summary, hash(request), 70adb513, selectedpod, 10.0.1.28:8000, ttft, 1209, tpot, 25, e2e, 1442, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:54.678829       1 gateway.go:748] "Request completed" requestID="5459f95e-5201-4a0a-ab94-037a4331b223" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:54.678848       1 gateway.go:764] "HandleResponseBody completed" requestID="5459f95e-5201-4a0a-ab94-037a4331b223" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:54.692203       1 gateway.go:562] latency, 0.0000, summary, hash(request), dd75f6e7, selectedpod, 10.0.0.39:8000, ttft, 1260, tpot, 20, e2e, 1446, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:54.692223       1 gateway.go:748] "Request completed" requestID="5ccf05c0-3cfc-4cdc-b240-eece8cdc06b7" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:54.692234       1 gateway.go:764] "HandleResponseBody completed" requestID="5ccf05c0-3cfc-4cdc-b240-eece8cdc06b7" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:54.721527       1 gateway.go:608] "First token received" requestID="56c6c222-2b43-4b0e-ad2a-a38d27962071" ttft_ms=1417
I0305 06:39:54.726472       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0662, numInputTokens, 7598
I0305 06:39:54.726490       1 tree.go:471] Updated node(0) last access: 152.8244 seconds
I0305 06:39:54.726496       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.726500       1 tree.go:471] Updated node(2) last access: 152.8244 seconds
I0305 06:39:54.726526       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:54.726532       1 tree.go:471] Updated node(18) last access: 152.8245 seconds
I0305 06:39:54.726538       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 06:39:54.726543       1 tree.go:471] Updated node(219) last access: 152.8245 seconds
I0305 06:39:54.726554       1 tree.go:667] Split complete - New node(276)
I0305 06:39:54.726558       1 tree.go:668] Split complete - Child node(220)
I0305 06:39:54.726565       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:39:54.726572       1 tree.go:471] Updated node(276) last access: 152.8245 seconds
I0305 06:39:54.726578       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:39:54.726585       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:54.726593       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:54.726601       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.726610       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.726587739 +0000 UTC m=+152.943314608]
I0305 06:39:54.726628       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:39:54.726638       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:39:54.726699       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7484
I0305 06:39:54.726709       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.726720       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.726728       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.726736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.726746       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.726753       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.726762       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.726775       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.726789       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:54.726804       1 prefix_cache_and_load.go:584] latency, Route, 0.5095
I0305 06:39:54.726822       1 gateway.go:415] latency, selectTargetPod, 0.5095, target pod, 10.0.0.131:8000
I0305 06:39:54.726837       1 gateway.go:235] latency, HandleRequestBody, 0.5098
I0305 06:39:54.726870       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1208
I0305 06:39:54.726876       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.726880       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.727040       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.727102       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:54.727107       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.732474       1 gateway.go:207] "Processing request" requestID="a20dc489-a705-4aa6-ab9c-877729f9a8ac"
I0305 06:39:54.732498       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a20dc489-a705-4aa6-ab9c-877729f9a8ac"
I0305 06:39:54.732507       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:54.747019       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="844e2d46-9e54-4755-b37c-b6603467860b"
I0305 06:39:54.778747       1 gateway.go:562] latency, 0.0001, summary, hash(request), 942c3bc9, selectedpod, 10.0.1.28:8000, ttft, 1302, tpot, 21, e2e, 1500, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:54.778780       1 gateway.go:748] "Request completed" requestID="812271bf-b4cc-463b-8db6-00340658df41" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:54.778797       1 gateway.go:764] "HandleResponseBody completed" requestID="812271bf-b4cc-463b-8db6-00340658df41" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:54.782977       1 gateway.go:608] "First token received" requestID="844e2d46-9e54-4755-b37c-b6603467860b" ttft_ms=565
I0305 06:39:54.786802       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a20dc489-a705-4aa6-ab9c-877729f9a8ac"
I0305 06:39:54.787053       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a20dc489-a705-4aa6-ab9c-877729f9a8ac" model="qwen2-5-7b-instruct"
I0305 06:39:54.794413       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0673, numInputTokens, 7598
I0305 06:39:54.794433       1 tree.go:471] Updated node(0) last access: 152.8924 seconds
I0305 06:39:54.794439       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.794443       1 tree.go:471] Updated node(2) last access: 152.8924 seconds
I0305 06:39:54.794456       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:39:54.794460       1 tree.go:471] Updated node(18) last access: 152.8924 seconds
I0305 06:39:54.794463       1 tree.go:490] Partial tokens match child node(170). Continue to go deeper in the radix tree
I0305 06:39:54.794466       1 tree.go:471] Updated node(170) last access: 152.8924 seconds
I0305 06:39:54.794469       1 tree.go:490] Partial tokens match child node(200). Continue to go deeper in the radix tree
I0305 06:39:54.794472       1 tree.go:471] Updated node(200) last access: 152.8924 seconds
I0305 06:39:54.794476       1 tree.go:484] Entire input tokens match the child node(201)
I0305 06:39:54.794481       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:39:54.794488       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:54.794495       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.794500       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.794483193 +0000 UTC m=+153.011210065 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:46.503410546 +0000 UTC m=+144.720137410]
I0305 06:39:54.794526       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:39:54.794533       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:54.794584       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7598
I0305 06:39:54.794593       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.794601       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.794608       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.794614       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.794618       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.794623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.794627       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.794636       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.794645       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:39:54.794657       1 prefix_cache_and_load.go:584] latency, Route, 0.1885
I0305 06:39:54.794670       1 gateway.go:415] latency, selectTargetPod, 0.1886, target pod, 10.0.0.131:8000
I0305 06:39:54.794682       1 gateway.go:235] latency, HandleRequestBody, 0.1890
I0305 06:39:54.794711       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0076
I0305 06:39:54.794715       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.794718       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.794820       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.794868       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0305 06:39:54.794873       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.813103       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="45319007-6060-45b4-bbdf-c709b42acd73"
I0305 06:39:54.837245       1 gateway.go:562] latency, 0.0000, summary, hash(request), 04e5c08e, selectedpod, 10.0.1.47:8000, ttft, 1377, tpot, 19, e2e, 1549, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:54.837264       1 gateway.go:748] "Request completed" requestID="b76252b3-54cc-4762-af6a-5f625873fcd7" targetPod="10.0.1.47:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:54.837276       1 gateway.go:764] "HandleResponseBody completed" requestID="b76252b3-54cc-4762-af6a-5f625873fcd7" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:54.844024       1 gateway.go:608] "First token received" requestID="45319007-6060-45b4-bbdf-c709b42acd73" ttft_ms=238
I0305 06:39:54.885321       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0904, numInputTokens, 7598
I0305 06:39:54.885336       1 tree.go:471] Updated node(0) last access: 152.9833 seconds
I0305 06:39:54.885342       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:54.885345       1 tree.go:471] Updated node(2) last access: 152.9833 seconds
I0305 06:39:54.885360       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:39:54.885362       1 tree.go:471] Updated node(53) last access: 152.9833 seconds
I0305 06:39:54.885373       1 tree.go:667] Split complete - New node(278)
I0305 06:39:54.885377       1 tree.go:668] Split complete - Child node(66)
I0305 06:39:54.885382       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:39:54.885387       1 tree.go:471] Updated node(278) last access: 152.9833 seconds
I0305 06:39:54.885392       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:54.885397       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:54.885402       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:54.885409       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:54.885413       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:54.885398731 +0000 UTC m=+153.102125595]
I0305 06:39:54.885428       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7483, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:54.885437       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:54.885487       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7483
I0305 06:39:54.885497       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:54.885505       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.885519       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.885526       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.885530       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.885535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:54.885543       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:54.885552       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:54.885561       1 prefix_cache_and_load.go:584] latency, Route, 0.0984
I0305 06:39:54.885571       1 gateway.go:415] latency, selectTargetPod, 0.0984, target pod, 10.0.0.34:8000
I0305 06:39:54.885581       1 gateway.go:235] latency, HandleRequestBody, 0.0988
I0305 06:39:54.896097       1 gateway.go:562] latency, 0.0000, summary, hash(request), 54f8ce90, selectedpod, 10.0.0.39:8000, ttft, 1417, tpot, 19, e2e, 1592, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:54.896116       1 gateway.go:748] "Request completed" requestID="56c6c222-2b43-4b0e-ad2a-a38d27962071" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:54.896129       1 gateway.go:764] "HandleResponseBody completed" requestID="56c6c222-2b43-4b0e-ad2a-a38d27962071" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:54.904817       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a20dc489-a705-4aa6-ab9c-877729f9a8ac"
I0305 06:39:54.909609       1 gateway.go:207] "Processing request" requestID="ed68f495-b2e7-4156-b000-9395eabd3058"
I0305 06:39:54.909637       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ed68f495-b2e7-4156-b000-9395eabd3058"
I0305 06:39:54.909648       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:54.947643       1 gateway.go:608] "First token received" requestID="a20dc489-a705-4aa6-ab9c-877729f9a8ac" ttft_ms=160
I0305 06:39:54.954583       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ed68f495-b2e7-4156-b000-9395eabd3058"
I0305 06:39:54.954841       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ed68f495-b2e7-4156-b000-9395eabd3058" model="qwen2-5-7b-instruct"
I0305 06:39:54.954935       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:54.954943       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:54.954948       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:54.955126       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:54.955181       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:54.955187       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:54.985332       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8fb86165, selectedpod, 10.0.0.131:8000, ttft, 565, tpot, 22, e2e, 768, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:54.985353       1 gateway.go:748] "Request completed" requestID="844e2d46-9e54-4755-b37c-b6603467860b" targetPod="10.0.0.131:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:54.985364       1 gateway.go:764] "HandleResponseBody completed" requestID="844e2d46-9e54-4755-b37c-b6603467860b" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:55.006356       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0512, numInputTokens, 7602
I0305 06:39:55.006392       1 tree.go:471] Updated node(0) last access: 153.1043 seconds
I0305 06:39:55.006403       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:55.006409       1 tree.go:471] Updated node(2) last access: 153.1043 seconds
I0305 06:39:55.006427       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:55.006431       1 tree.go:471] Updated node(12) last access: 153.1044 seconds
I0305 06:39:55.006451       1 tree.go:667] Split complete - New node(280)
I0305 06:39:55.006456       1 tree.go:668] Split complete - Child node(89)
I0305 06:39:55.006464       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 06:39:55.006477       1 tree.go:471] Updated node(280) last access: 153.1044 seconds
I0305 06:39:55.006485       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:39:55.006492       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:39:55.006502       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:39:55.006525       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:55.006532       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:55.00649463 +0000 UTC m=+153.223221498]
I0305 06:39:55.006557       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7485, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:39:55.006574       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:39:55.006806       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7485
I0305 06:39:55.006827       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0003
I0305 06:39:55.006837       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.006845       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.006849       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.006856       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.006860       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.006873       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:55.006888       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:55.006899       1 prefix_cache_and_load.go:584] latency, Route, 0.0520
I0305 06:39:55.006909       1 gateway.go:415] latency, selectTargetPod, 0.0520, target pod, 10.0.0.39:8000
I0305 06:39:55.006921       1 gateway.go:235] latency, HandleRequestBody, 0.0523
I0305 06:39:55.024623       1 gateway.go:562] latency, 0.0001, summary, hash(request), ea5e9c2d, selectedpod, 10.0.0.131:8000, ttft, 238, tpot, 20, e2e, 418, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:55.024647       1 gateway.go:748] "Request completed" requestID="45319007-6060-45b4-bbdf-c709b42acd73" targetPod="10.0.0.131:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:55.024657       1 gateway.go:764] "HandleResponseBody completed" requestID="45319007-6060-45b4-bbdf-c709b42acd73" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:55.025628       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ed68f495-b2e7-4156-b000-9395eabd3058"
I0305 06:39:55.061011       1 gateway.go:608] "First token received" requestID="ed68f495-b2e7-4156-b000-9395eabd3058" ttft_ms=106
I0305 06:39:55.075241       1 gateway.go:207] "Processing request" requestID="cc480784-4e2b-438d-ab65-e3f8d3e2f13a"
I0305 06:39:55.075271       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cc480784-4e2b-438d-ab65-e3f8d3e2f13a"
I0305 06:39:55.075280       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:55.113733       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cc480784-4e2b-438d-ab65-e3f8d3e2f13a"
I0305 06:39:55.113946       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cc480784-4e2b-438d-ab65-e3f8d3e2f13a" model="qwen2-5-7b-instruct"
I0305 06:39:55.114033       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:55.114040       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:55.114043       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:55.114189       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:55.114241       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:55.114246       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:55.120375       1 gateway.go:562] latency, 0.0000, summary, hash(request), a6cc659e, selectedpod, 10.0.0.34:8000, ttft, 160, tpot, 19, e2e, 333, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:55.120398       1 gateway.go:748] "Request completed" requestID="a20dc489-a705-4aa6-ab9c-877729f9a8ac" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:55.120413       1 gateway.go:764] "HandleResponseBody completed" requestID="a20dc489-a705-4aa6-ab9c-877729f9a8ac" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:55.167500       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0532, numInputTokens, 7604
I0305 06:39:55.167529       1 tree.go:471] Updated node(0) last access: 153.2655 seconds
I0305 06:39:55.167541       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:55.167545       1 tree.go:471] Updated node(2) last access: 153.2655 seconds
I0305 06:39:55.167559       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:39:55.167564       1 tree.go:471] Updated node(45) last access: 153.2655 seconds
I0305 06:39:55.167568       1 tree.go:484] Entire input tokens match the child node(204)
I0305 06:39:55.167571       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 06:39:55.167580       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 06:39:55.167585       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:55.167591       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:55.16757577 +0000 UTC m=+153.384302634 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:46.827710913 +0000 UTC m=+145.044437777]
I0305 06:39:55.167608       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7604, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:39:55.167615       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:55.167670       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7604
I0305 06:39:55.167679       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:55.167688       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.167693       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.167697       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.167701       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.167708       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:55.167717       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:39:55.167727       1 prefix_cache_and_load.go:584] latency, Route, 0.0537
I0305 06:39:55.167737       1 gateway.go:415] latency, selectTargetPod, 0.0537, target pod, 10.0.0.34:8000
I0305 06:39:55.167747       1 gateway.go:235] latency, HandleRequestBody, 0.0540
I0305 06:39:55.186189       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cc480784-4e2b-438d-ab65-e3f8d3e2f13a"
I0305 06:39:55.209801       1 gateway.go:207] "Processing request" requestID="e2c0b11d-86d4-4749-97ec-10fbbc68406a"
I0305 06:39:55.209826       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e2c0b11d-86d4-4749-97ec-10fbbc68406a"
I0305 06:39:55.209837       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:55.217632       1 gateway.go:608] "First token received" requestID="cc480784-4e2b-438d-ab65-e3f8d3e2f13a" ttft_ms=103
I0305 06:39:55.234353       1 gateway.go:562] latency, 0.0000, summary, hash(request), f6cdad13, selectedpod, 10.0.0.39:8000, ttft, 106, tpot, 19, e2e, 279, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:39:55.234367       1 gateway.go:748] "Request completed" requestID="ed68f495-b2e7-4156-b000-9395eabd3058" targetPod="10.0.0.39:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:39:55.234376       1 gateway.go:764] "HandleResponseBody completed" requestID="ed68f495-b2e7-4156-b000-9395eabd3058" promptTokens=7621 completionTokens=10 stream=true
I0305 06:39:55.252534       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e2c0b11d-86d4-4749-97ec-10fbbc68406a"
I0305 06:39:55.252741       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e2c0b11d-86d4-4749-97ec-10fbbc68406a" model="qwen2-5-7b-instruct"
I0305 06:39:55.252809       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:55.252816       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:55.252819       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:55.252953       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:55.253010       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:55.253017       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:55.307898       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0549, numInputTokens, 7599
I0305 06:39:55.307918       1 tree.go:471] Updated node(0) last access: 153.4059 seconds
I0305 06:39:55.307924       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:55.307928       1 tree.go:471] Updated node(2) last access: 153.4059 seconds
I0305 06:39:55.307941       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:55.307946       1 tree.go:471] Updated node(12) last access: 153.4059 seconds
I0305 06:39:55.307949       1 tree.go:490] Partial tokens match child node(280). Continue to go deeper in the radix tree
I0305 06:39:55.307952       1 tree.go:471] Updated node(280) last access: 153.4059 seconds
I0305 06:39:55.307959       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:39:55.307964       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:39:55.307977       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:39:55.307984       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:55.307991       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:55.307966667 +0000 UTC m=+153.524693530]
I0305 06:39:55.308005       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7485, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:39:55.308012       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:39:55.308066       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7485
I0305 06:39:55.308074       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:55.308083       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.308088       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.308093       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.308097       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.308102       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.308110       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:55.308120       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:55.308128       1 prefix_cache_and_load.go:584] latency, Route, 0.0553
I0305 06:39:55.308138       1 gateway.go:415] latency, selectTargetPod, 0.0553, target pod, 10.0.0.39:8000
I0305 06:39:55.308149       1 gateway.go:235] latency, HandleRequestBody, 0.0556
I0305 06:39:55.323358       1 gateway.go:207] "Processing request" requestID="ef898fe3-8679-4983-8954-f7a2c2cb0288"
I0305 06:39:55.323385       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ef898fe3-8679-4983-8954-f7a2c2cb0288"
I0305 06:39:55.323393       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:55.326635       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e2c0b11d-86d4-4749-97ec-10fbbc68406a"
I0305 06:39:55.361977       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ef898fe3-8679-4983-8954-f7a2c2cb0288"
I0305 06:39:55.362191       1 gateway.go:608] "First token received" requestID="e2c0b11d-86d4-4749-97ec-10fbbc68406a" ttft_ms=109
I0305 06:39:55.362281       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ef898fe3-8679-4983-8954-f7a2c2cb0288" model="qwen2-5-7b-instruct"
I0305 06:39:55.362353       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:55.362359       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:55.362363       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:55.362497       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:55.362557       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:55.362564       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:55.390457       1 gateway.go:562] latency, 0.0000, summary, hash(request), a596fc02, selectedpod, 10.0.0.34:8000, ttft, 103, tpot, 19, e2e, 276, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 06:39:55.390475       1 gateway.go:748] "Request completed" requestID="cc480784-4e2b-438d-ab65-e3f8d3e2f13a" targetPod="10.0.0.34:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 06:39:55.390486       1 gateway.go:764] "HandleResponseBody completed" requestID="cc480784-4e2b-438d-ab65-e3f8d3e2f13a" promptTokens=7623 completionTokens=10 stream=true
I0305 06:39:55.413161       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0506, numInputTokens, 7598
I0305 06:39:55.413179       1 tree.go:471] Updated node(0) last access: 153.5111 seconds
I0305 06:39:55.413185       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:55.413189       1 tree.go:471] Updated node(2) last access: 153.5111 seconds
I0305 06:39:55.413203       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:55.413208       1 tree.go:471] Updated node(26) last access: 153.5111 seconds
I0305 06:39:55.413211       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 06:39:55.413217       1 tree.go:471] Updated node(75) last access: 153.5112 seconds
I0305 06:39:55.413223       1 tree.go:484] Entire input tokens match the child node(194)
I0305 06:39:55.413284       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:55.413296       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:55.413305       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:55.413314       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:55.413289627 +0000 UTC m=+153.630016495 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:46.014316527 +0000 UTC m=+144.231043392]
I0305 06:39:55.413334       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:55.413343       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:55.413398       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7598
I0305 06:39:55.413412       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:55.413422       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.413427       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.413432       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.413438       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.413441       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.413449       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:55.413459       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:55.413472       1 prefix_cache_and_load.go:584] latency, Route, 0.0511
I0305 06:39:55.413482       1 gateway.go:415] latency, selectTargetPod, 0.0511, target pod, 10.0.3.41:8000
I0305 06:39:55.413491       1 gateway.go:235] latency, HandleRequestBody, 0.0515
I0305 06:39:55.430179       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ef898fe3-8679-4983-8954-f7a2c2cb0288"
I0305 06:39:55.456467       1 gateway.go:608] "First token received" requestID="ef898fe3-8679-4983-8954-f7a2c2cb0288" ttft_ms=94
I0305 06:39:55.535377       1 gateway.go:562] latency, 0.0000, summary, hash(request), 184b3928, selectedpod, 10.0.0.39:8000, ttft, 109, tpot, 19, e2e, 282, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:39:55.535396       1 gateway.go:748] "Request completed" requestID="e2c0b11d-86d4-4749-97ec-10fbbc68406a" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:39:55.535408       1 gateway.go:764] "HandleResponseBody completed" requestID="e2c0b11d-86d4-4749-97ec-10fbbc68406a" promptTokens=7618 completionTokens=10 stream=true
I0305 06:39:55.629211       1 gateway.go:562] latency, 0.0001, summary, hash(request), c30c9fe8, selectedpod, 10.0.3.41:8000, ttft, 94, tpot, 19, e2e, 267, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:55.629231       1 gateway.go:748] "Request completed" requestID="ef898fe3-8679-4983-8954-f7a2c2cb0288" targetPod="10.0.3.41:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:55.629241       1 gateway.go:764] "HandleResponseBody completed" requestID="ef898fe3-8679-4983-8954-f7a2c2cb0288" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:55.683800       1 gateway.go:207] "Processing request" requestID="c62c5866-adcf-41fa-b183-37f27d6cd2f3"
I0305 06:39:55.683832       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c62c5866-adcf-41fa-b183-37f27d6cd2f3"
I0305 06:39:55.683840       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:55.694521       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c62c5866-adcf-41fa-b183-37f27d6cd2f3"
I0305 06:39:55.694771       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c62c5866-adcf-41fa-b183-37f27d6cd2f3" model="qwen2-5-7b-instruct"
I0305 06:39:55.694870       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:55.694878       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:55.694881       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:55.695086       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:55.695167       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:39:55.695173       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:55.747621       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0524, numInputTokens, 7601
I0305 06:39:55.747642       1 tree.go:471] Updated node(0) last access: 153.8456 seconds
I0305 06:39:55.747648       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:55.747652       1 tree.go:471] Updated node(2) last access: 153.8456 seconds
I0305 06:39:55.747664       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:39:55.747667       1 tree.go:471] Updated node(12) last access: 153.8456 seconds
I0305 06:39:55.747671       1 tree.go:490] Partial tokens match child node(190). Continue to go deeper in the radix tree
I0305 06:39:55.747675       1 tree.go:471] Updated node(190) last access: 153.8456 seconds
I0305 06:39:55.747679       1 tree.go:490] Partial tokens match child node(258). Continue to go deeper in the radix tree
I0305 06:39:55.747683       1 tree.go:471] Updated node(258) last access: 153.8456 seconds
I0305 06:39:55.747687       1 tree.go:484] Entire input tokens match the child node(191)
I0305 06:39:55.747691       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:39:55.747698       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:39:55.747705       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:55.747710       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:55.747693248 +0000 UTC m=+153.964420113 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:45.603102509 +0000 UTC m=+143.819829374]
I0305 06:39:55.747728       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:39:55.747736       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:55.747791       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7601
I0305 06:39:55.747800       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:55.747809       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.747814       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.747819       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.747825       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.747829       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.747833       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:55.747843       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:55.747853       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:39:55.747863       1 prefix_cache_and_load.go:584] latency, Route, 0.0530
I0305 06:39:55.747872       1 gateway.go:415] latency, selectTargetPod, 0.0530, target pod, 10.0.0.39:8000
I0305 06:39:55.747882       1 gateway.go:235] latency, HandleRequestBody, 0.0534
I0305 06:39:55.766776       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c62c5866-adcf-41fa-b183-37f27d6cd2f3"
I0305 06:39:55.798392       1 gateway.go:608] "First token received" requestID="c62c5866-adcf-41fa-b183-37f27d6cd2f3" ttft_ms=103
I0305 06:39:55.974553       1 gateway.go:562] latency, 0.0001, summary, hash(request), b6592c04, selectedpod, 10.0.0.39:8000, ttft, 103, tpot, 19, e2e, 279, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:39:55.974572       1 gateway.go:748] "Request completed" requestID="c62c5866-adcf-41fa-b183-37f27d6cd2f3" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:39:55.974582       1 gateway.go:764] "HandleResponseBody completed" requestID="c62c5866-adcf-41fa-b183-37f27d6cd2f3" promptTokens=7620 completionTokens=10 stream=true
I0305 06:39:56.690820       1 gateway.go:207] "Processing request" requestID="a71af4d0-9e2e-4ea0-b49d-ca967570fcea"
I0305 06:39:56.690858       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a71af4d0-9e2e-4ea0-b49d-ca967570fcea"
I0305 06:39:56.690867       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:56.718638       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a71af4d0-9e2e-4ea0-b49d-ca967570fcea"
I0305 06:39:56.718874       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a71af4d0-9e2e-4ea0-b49d-ca967570fcea" model="qwen2-5-7b-instruct"
I0305 06:39:56.718960       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:56.718974       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:56.718979       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:56.719244       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:56.719300       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:39:56.719306       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:56.770360       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0510, numInputTokens, 7598
I0305 06:39:56.770376       1 tree.go:471] Updated node(0) last access: 154.8683 seconds
I0305 06:39:56.770386       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:56.770392       1 tree.go:471] Updated node(2) last access: 154.8683 seconds
I0305 06:39:56.770408       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:39:56.770413       1 tree.go:471] Updated node(51) last access: 154.8684 seconds
I0305 06:39:56.770428       1 tree.go:667] Split complete - New node(283)
I0305 06:39:56.770432       1 tree.go:668] Split complete - Child node(183)
I0305 06:39:56.770437       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:39:56.770443       1 tree.go:471] Updated node(283) last access: 154.8684 seconds
I0305 06:39:56.770449       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 06:39:56.770454       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:39:56.770460       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:39:56.770467       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:56.770474       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:56.770456597 +0000 UTC m=+154.987183462]
I0305 06:39:56.770495       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7486, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 06:39:56.770503       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 06:39:56.770599       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7486
I0305 06:39:56.770609       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:56.770617       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:56.770625       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:56.770632       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:56.770638       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:56.770642       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:56.770651       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:56.770660       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:39:56.770669       1 prefix_cache_and_load.go:584] latency, Route, 0.0517
I0305 06:39:56.770679       1 gateway.go:415] latency, selectTargetPod, 0.0517, target pod, 10.0.1.28:8000
I0305 06:39:56.770695       1 gateway.go:235] latency, HandleRequestBody, 0.0521
I0305 06:39:56.791359       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a71af4d0-9e2e-4ea0-b49d-ca967570fcea"
I0305 06:39:56.827850       1 gateway.go:608] "First token received" requestID="a71af4d0-9e2e-4ea0-b49d-ca967570fcea" ttft_ms=109
I0305 06:39:56.945674       1 gateway.go:207] "Processing request" requestID="d314a056-6f3b-46f6-bd35-f0137d11806b"
I0305 06:39:56.945706       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d314a056-6f3b-46f6-bd35-f0137d11806b"
I0305 06:39:56.945717       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:57.001213       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6832be95, selectedpod, 10.0.1.28:8000, ttft, 109, tpot, 19, e2e, 282, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:39:57.001232       1 gateway.go:748] "Request completed" requestID="a71af4d0-9e2e-4ea0-b49d-ca967570fcea" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:39:57.001242       1 gateway.go:764] "HandleResponseBody completed" requestID="a71af4d0-9e2e-4ea0-b49d-ca967570fcea" promptTokens=7617 completionTokens=10 stream=true
I0305 06:39:57.082826       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d314a056-6f3b-46f6-bd35-f0137d11806b"
I0305 06:39:57.083071       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d314a056-6f3b-46f6-bd35-f0137d11806b" model="qwen2-5-7b-instruct"
I0305 06:39:57.083172       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:57.083181       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:57.083187       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:57.083391       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:57.083446       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:39:57.083454       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:57.133740       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0503, numInputTokens, 7604
I0305 06:39:57.133758       1 tree.go:471] Updated node(0) last access: 155.2317 seconds
I0305 06:39:57.133764       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:57.133767       1 tree.go:471] Updated node(2) last access: 155.2317 seconds
I0305 06:39:57.133781       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:57.133784       1 tree.go:471] Updated node(26) last access: 155.2317 seconds
I0305 06:39:57.133787       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:39:57.133790       1 tree.go:471] Updated node(36) last access: 155.2317 seconds
I0305 06:39:57.133794       1 tree.go:490] Partial tokens match child node(71). Continue to go deeper in the radix tree
I0305 06:39:57.133797       1 tree.go:471] Updated node(71) last access: 155.2317 seconds
I0305 06:39:57.133802       1 tree.go:490] Partial tokens match child node(192). Continue to go deeper in the radix tree
I0305 06:39:57.133804       1 tree.go:471] Updated node(192) last access: 155.2317 seconds
I0305 06:39:57.133812       1 tree.go:484] Entire input tokens match the child node(193)
I0305 06:39:57.133819       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7604 tokens
I0305 06:39:57.133828       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 06:39:57.133837       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:57.133846       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:57.133821349 +0000 UTC m=+155.350548221 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:45.741158787 +0000 UTC m=+143.957885651]
I0305 06:39:57.133871       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7604, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:39:57.133882       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:39:57.133963       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7604
I0305 06:39:57.133985       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:57.134001       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.134013       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.134026       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.134034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.134040       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.134047       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.134052       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.134060       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:57.134071       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:57.134082       1 prefix_cache_and_load.go:584] latency, Route, 0.0509
I0305 06:39:57.134094       1 gateway.go:415] latency, selectTargetPod, 0.0509, target pod, 10.0.3.41:8000
I0305 06:39:57.134107       1 gateway.go:235] latency, HandleRequestBody, 0.0513
I0305 06:39:57.150757       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d314a056-6f3b-46f6-bd35-f0137d11806b"
I0305 06:39:57.183382       1 gateway.go:608] "First token received" requestID="d314a056-6f3b-46f6-bd35-f0137d11806b" ttft_ms=100
I0305 06:39:57.273984       1 gateway.go:207] "Processing request" requestID="08207977-af71-487d-a12d-3076c446b265"
I0305 06:39:57.274018       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="08207977-af71-487d-a12d-3076c446b265"
I0305 06:39:57.274027       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:57.318335       1 gateway.go:329] "-- In RequestBody processing ..." requestID="08207977-af71-487d-a12d-3076c446b265"
I0305 06:39:57.318585       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="08207977-af71-487d-a12d-3076c446b265" model="qwen2-5-7b-instruct"
I0305 06:39:57.318666       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:57.318674       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:57.318679       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:57.318889       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:57.318958       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:39:57.318965       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:57.356256       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5762d23b, selectedpod, 10.0.3.41:8000, ttft, 100, tpot, 19, e2e, 273, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 06:39:57.356282       1 gateway.go:748] "Request completed" requestID="d314a056-6f3b-46f6-bd35-f0137d11806b" targetPod="10.0.3.41:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 06:39:57.356295       1 gateway.go:764] "HandleResponseBody completed" requestID="d314a056-6f3b-46f6-bd35-f0137d11806b" promptTokens=7623 completionTokens=10 stream=true
I0305 06:39:57.372783       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0538, numInputTokens, 7600
I0305 06:39:57.372804       1 tree.go:471] Updated node(0) last access: 155.4707 seconds
I0305 06:39:57.372811       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:57.372814       1 tree.go:471] Updated node(2) last access: 155.4708 seconds
I0305 06:39:57.372828       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:39:57.372832       1 tree.go:471] Updated node(8) last access: 155.4708 seconds
I0305 06:39:57.372837       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 06:39:57.372841       1 tree.go:471] Updated node(21) last access: 155.4708 seconds
I0305 06:39:57.372847       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:39:57.372853       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:57.372861       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:57.372867       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:57.372872       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:57.372855423 +0000 UTC m=+155.589582288]
I0305 06:39:57.372890       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7485, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:39:57.372897       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:39:57.372961       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7485
I0305 06:39:57.372983       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:39:57.372991       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.372995       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.372999       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.373005       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.373010       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.373019       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:57.373027       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:39:57.373040       1 prefix_cache_and_load.go:584] latency, Route, 0.0544
I0305 06:39:57.373049       1 gateway.go:415] latency, selectTargetPod, 0.0544, target pod, 10.0.1.53:8000
I0305 06:39:57.373062       1 gateway.go:235] latency, HandleRequestBody, 0.0547
I0305 06:39:57.392572       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="08207977-af71-487d-a12d-3076c446b265"
I0305 06:39:57.428743       1 gateway.go:608] "First token received" requestID="08207977-af71-487d-a12d-3076c446b265" ttft_ms=110
I0305 06:39:57.515397       1 gateway.go:207] "Processing request" requestID="c40446e3-fa9c-4176-b8f0-e838e239f8f1"
I0305 06:39:57.515428       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c40446e3-fa9c-4176-b8f0-e838e239f8f1"
I0305 06:39:57.515439       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:57.561955       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c40446e3-fa9c-4176-b8f0-e838e239f8f1"
I0305 06:39:57.562161       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c40446e3-fa9c-4176-b8f0-e838e239f8f1" model="qwen2-5-7b-instruct"
I0305 06:39:57.562242       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:39:57.562249       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:39:57.562252       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:39:57.562432       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:39:57.562483       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:39:57.562489       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:39:57.601386       1 gateway.go:562] latency, 0.0000, summary, hash(request), 159f470e, selectedpod, 10.0.1.53:8000, ttft, 110, tpot, 19, e2e, 282, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:57.601407       1 gateway.go:748] "Request completed" requestID="08207977-af71-487d-a12d-3076c446b265" targetPod="10.0.1.53:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:57.601417       1 gateway.go:764] "HandleResponseBody completed" requestID="08207977-af71-487d-a12d-3076c446b265" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:57.612950       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0504, numInputTokens, 7600
I0305 06:39:57.612994       1 tree.go:471] Updated node(0) last access: 155.7109 seconds
I0305 06:39:57.613002       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:39:57.613009       1 tree.go:471] Updated node(2) last access: 155.7109 seconds
I0305 06:39:57.613029       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:39:57.613033       1 tree.go:471] Updated node(26) last access: 155.7110 seconds
I0305 06:39:57.613038       1 tree.go:490] Partial tokens match child node(208). Continue to go deeper in the radix tree
I0305 06:39:57.613043       1 tree.go:471] Updated node(208) last access: 155.7110 seconds
I0305 06:39:57.613054       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:39:57.613059       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:39:57.613075       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:39:57.613083       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:39:57.613090       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:39:57.613066342 +0000 UTC m=+155.829793206]
I0305 06:39:57.613112       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7480, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:39:57.613129       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:39:57.613294       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7480
I0305 06:39:57.613336       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:39:57.613363       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.613374       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.613382       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.613390       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.613436       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:39:57.613446       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:39:57.613459       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:39:57.613473       1 prefix_cache_and_load.go:584] latency, Route, 0.0512
I0305 06:39:57.613495       1 gateway.go:415] latency, selectTargetPod, 0.0513, target pod, 10.0.3.41:8000
I0305 06:39:57.613524       1 gateway.go:235] latency, HandleRequestBody, 0.0516
I0305 06:39:57.633071       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c40446e3-fa9c-4176-b8f0-e838e239f8f1"
I0305 06:39:57.676600       1 gateway.go:608] "First token received" requestID="c40446e3-fa9c-4176-b8f0-e838e239f8f1" ttft_ms=114
I0305 06:39:57.750479       1 gateway.go:207] "Processing request" requestID="f7a047ba-9924-463b-af6e-181208130a4e"
I0305 06:39:57.750519       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f7a047ba-9924-463b-af6e-181208130a4e"
I0305 06:39:57.750528       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:57.849527       1 gateway.go:562] latency, 0.0001, summary, hash(request), 90c9e070, selectedpod, 10.0.3.41:8000, ttft, 114, tpot, 19, e2e, 287, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:39:57.849548       1 gateway.go:748] "Request completed" requestID="c40446e3-fa9c-4176-b8f0-e838e239f8f1" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:39:57.849558       1 gateway.go:764] "HandleResponseBody completed" requestID="c40446e3-fa9c-4176-b8f0-e838e239f8f1" promptTokens=7619 completionTokens=10 stream=true
I0305 06:39:57.933908       1 gateway.go:207] "Processing request" requestID="cf693246-5a26-47e0-83c8-1ce37d375278"
I0305 06:39:57.933940       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cf693246-5a26-47e0-83c8-1ce37d375278"
I0305 06:39:57.933949       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:58.122957       1 gateway.go:207] "Processing request" requestID="b2bedf90-2c8c-4c29-bb61-bbb910ac6d41"
I0305 06:39:58.122995       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b2bedf90-2c8c-4c29-bb61-bbb910ac6d41"
I0305 06:39:58.123003       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:58.307157       1 gateway.go:207] "Processing request" requestID="4957bcee-982e-483c-8ee6-13e1b0a0719a"
I0305 06:39:58.307199       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4957bcee-982e-483c-8ee6-13e1b0a0719a"
I0305 06:39:58.307210       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:58.662419       1 gateway.go:207] "Processing request" requestID="33a5f15a-8dc7-4b74-8263-67e15dc2f49e"
I0305 06:39:58.662450       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="33a5f15a-8dc7-4b74-8263-67e15dc2f49e"
I0305 06:39:58.662460       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:58.746991       1 gateway.go:207] "Processing request" requestID="134891b1-6a62-4adc-8a76-aa8a4895da73"
I0305 06:39:58.747033       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="134891b1-6a62-4adc-8a76-aa8a4895da73"
I0305 06:39:58.747042       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:58.981949       1 gateway.go:207] "Processing request" requestID="84462f4b-1a12-458c-a785-4fd99b05fc4a"
I0305 06:39:58.981992       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="84462f4b-1a12-458c-a785-4fd99b05fc4a"
I0305 06:39:58.982002       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:59.200909       1 gateway.go:207] "Processing request" requestID="d490ba1d-15db-43a2-a44b-436f948798f5"
I0305 06:39:59.200939       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d490ba1d-15db-43a2-a44b-436f948798f5"
I0305 06:39:59.200946       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:59.408374       1 gateway.go:207] "Processing request" requestID="75fd6a79-2932-4794-a473-8102df7da06c"
I0305 06:39:59.408410       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="75fd6a79-2932-4794-a473-8102df7da06c"
I0305 06:39:59.408418       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:59.610326       1 gateway.go:207] "Processing request" requestID="8a6f2480-f911-4120-8277-08f2d13bc9f8"
I0305 06:39:59.610358       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8a6f2480-f911-4120-8277-08f2d13bc9f8"
I0305 06:39:59.610367       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:59.799569       1 gateway.go:207] "Processing request" requestID="0147c019-abb1-4903-a65b-31a66465bb1b"
I0305 06:39:59.799612       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0147c019-abb1-4903-a65b-31a66465bb1b"
I0305 06:39:59.799621       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:39:59.982835       1 gateway.go:207] "Processing request" requestID="21caef71-1f39-4d39-b12a-f33151d3d2aa"
I0305 06:39:59.982864       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="21caef71-1f39-4d39-b12a-f33151d3d2aa"
I0305 06:39:59.982872       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:00.178853       1 gateway.go:207] "Processing request" requestID="be4b686a-4a45-4d5e-9bae-776ef7401bf8"
I0305 06:40:00.178881       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="be4b686a-4a45-4d5e-9bae-776ef7401bf8"
I0305 06:40:00.178889       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:00.359248       1 gateway.go:207] "Processing request" requestID="dcdf6dfb-87ff-4985-ad68-a0c3d45993f2"
I0305 06:40:00.359301       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dcdf6dfb-87ff-4985-ad68-a0c3d45993f2"
I0305 06:40:00.359312       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:00.538285       1 gateway.go:207] "Processing request" requestID="b0caf293-08ec-4fdd-b97e-d4627f473783"
I0305 06:40:00.538335       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b0caf293-08ec-4fdd-b97e-d4627f473783"
I0305 06:40:00.538345       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:00.711277       1 gateway.go:207] "Processing request" requestID="12816667-7034-4af0-999f-5fbb0b3f016f"
I0305 06:40:00.711320       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="12816667-7034-4af0-999f-5fbb0b3f016f"
I0305 06:40:00.711328       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:00.895874       1 gateway.go:207] "Processing request" requestID="c0bedc47-9856-427b-a1b2-a640e90361aa"
I0305 06:40:00.895916       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c0bedc47-9856-427b-a1b2-a640e90361aa"
I0305 06:40:00.895926       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:01.010108       1 gateway.go:207] "Processing request" requestID="446a1508-f455-4630-aaed-bf3d3aa32f01"
I0305 06:40:01.010144       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="446a1508-f455-4630-aaed-bf3d3aa32f01"
I0305 06:40:01.010153       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:01.203856       1 gateway.go:207] "Processing request" requestID="e1eac20c-c5e1-430c-ad8e-e2b60f119796"
I0305 06:40:01.203891       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e1eac20c-c5e1-430c-ad8e-e2b60f119796"
I0305 06:40:01.203900       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:01.383421       1 gateway.go:207] "Processing request" requestID="1adf62dc-08d7-44b6-b5db-9db1b7fa9302"
I0305 06:40:01.383453       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1adf62dc-08d7-44b6-b5db-9db1b7fa9302"
I0305 06:40:01.383462       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:01.532403       1 gateway.go:207] "Processing request" requestID="be8581b7-a107-4b9b-866d-311d66b20e4b"
I0305 06:40:01.532437       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="be8581b7-a107-4b9b-866d-311d66b20e4b"
I0305 06:40:01.532446       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:01.702393       1 gateway.go:207] "Processing request" requestID="654638ab-2cf2-41e0-a510-238670c8f35b"
I0305 06:40:01.702425       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="654638ab-2cf2-41e0-a510-238670c8f35b"
I0305 06:40:01.702432       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:01.874190       1 gateway.go:207] "Processing request" requestID="33695f23-fafa-41f6-b28b-5e6aea2d27f1"
I0305 06:40:01.874221       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="33695f23-fafa-41f6-b28b-5e6aea2d27f1"
I0305 06:40:01.874228       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:02.051529       1 gateway.go:207] "Processing request" requestID="357af0bb-8f85-41b4-b724-a803cdfc27e6"
I0305 06:40:02.051575       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="357af0bb-8f85-41b4-b724-a803cdfc27e6"
I0305 06:40:02.051584       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:02.215302       1 gateway.go:207] "Processing request" requestID="873e1aff-6bc7-484a-a682-0ca0aace9530"
I0305 06:40:02.215334       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="873e1aff-6bc7-484a-a682-0ca0aace9530"
I0305 06:40:02.215341       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:02.345678       1 gateway.go:207] "Processing request" requestID="cb472620-c3df-47b6-a4fe-8eb77952ebbd"
I0305 06:40:02.345711       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cb472620-c3df-47b6-a4fe-8eb77952ebbd"
I0305 06:40:02.345721       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:02.484795       1 gateway.go:207] "Processing request" requestID="e1240e71-1704-41e2-98e0-8114f17e2b70"
I0305 06:40:02.484827       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e1240e71-1704-41e2-98e0-8114f17e2b70"
I0305 06:40:02.484835       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:02.549087       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f7a047ba-9924-463b-af6e-181208130a4e"
I0305 06:40:02.549322       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f7a047ba-9924-463b-af6e-181208130a4e" model="qwen2-5-7b-instruct"
I0305 06:40:02.549403       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:02.549410       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:02.549414       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:02.549680       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:02.549729       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:02.549735       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:02.592193       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cf693246-5a26-47e0-83c8-1ce37d375278"
I0305 06:40:02.592420       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cf693246-5a26-47e0-83c8-1ce37d375278" model="qwen2-5-7b-instruct"
I0305 06:40:02.606787       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0570, numInputTokens, 7603
I0305 06:40:02.606809       1 tree.go:471] Updated node(0) last access: 160.7047 seconds
I0305 06:40:02.606816       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:02.606821       1 tree.go:471] Updated node(2) last access: 160.7048 seconds
I0305 06:40:02.606836       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:02.606840       1 tree.go:471] Updated node(45) last access: 160.7048 seconds
I0305 06:40:02.606844       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:02.606848       1 tree.go:471] Updated node(175) last access: 160.7048 seconds
I0305 06:40:02.606851       1 tree.go:490] Partial tokens match child node(202). Continue to go deeper in the radix tree
I0305 06:40:02.606854       1 tree.go:471] Updated node(202) last access: 160.7048 seconds
I0305 06:40:02.606858       1 tree.go:484] Entire input tokens match the child node(203)
I0305 06:40:02.606861       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:40:02.606869       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:02.606877       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:02.606882       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:02.606863745 +0000 UTC m=+160.823590608 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:46.716039333 +0000 UTC m=+144.932766198]
I0305 06:40:02.606904       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:02.606913       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:02.606988       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7603
I0305 06:40:02.606998       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:02.607005       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.607010       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.607013       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.607018       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.607022       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.607027       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.607035       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:02.607047       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:02.607061       1 prefix_cache_and_load.go:584] latency, Route, 0.0577
I0305 06:40:02.607079       1 gateway.go:415] latency, selectTargetPod, 0.0577, target pod, 10.0.0.34:8000
I0305 06:40:02.607092       1 gateway.go:235] latency, HandleRequestBody, 0.0580
I0305 06:40:02.607122       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0146
I0305 06:40:02.607127       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:02.607131       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:02.607272       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:02.607328       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:02.607335       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:02.625243       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b2bedf90-2c8c-4c29-bb61-bbb910ac6d41"
I0305 06:40:02.625457       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b2bedf90-2c8c-4c29-bb61-bbb910ac6d41" model="qwen2-5-7b-instruct"
I0305 06:40:02.626794       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f7a047ba-9924-463b-af6e-181208130a4e"
I0305 06:40:02.652737       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4957bcee-982e-483c-8ee6-13e1b0a0719a"
I0305 06:40:02.652951       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4957bcee-982e-483c-8ee6-13e1b0a0719a" model="qwen2-5-7b-instruct"
I0305 06:40:02.659425       1 gateway.go:608] "First token received" requestID="f7a047ba-9924-463b-af6e-181208130a4e" ttft_ms=110
I0305 06:40:02.684954       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0776, numInputTokens, 7596
I0305 06:40:02.684978       1 tree.go:471] Updated node(0) last access: 160.7829 seconds
I0305 06:40:02.684985       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:02.684989       1 tree.go:471] Updated node(2) last access: 160.7829 seconds
I0305 06:40:02.685003       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:02.685007       1 tree.go:471] Updated node(53) last access: 160.7829 seconds
I0305 06:40:02.685018       1 tree.go:667] Split complete - New node(287)
I0305 06:40:02.685022       1 tree.go:668] Split complete - Child node(105)
I0305 06:40:02.685027       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:40:02.685030       1 tree.go:471] Updated node(287) last access: 160.7830 seconds
I0305 06:40:02.685035       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 106 tokens:
I0305 06:40:02.685038       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:02.685045       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:02.685050       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:02.685054       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:02.685040002 +0000 UTC m=+160.901766875]
I0305 06:40:02.685070       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7490, Matching ratio: 0.9860, # Matched pods: 0, Matched pods: []
I0305 06:40:02.685077       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9860 > 0.5000)
I0305 06:40:02.685139       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7490
I0305 06:40:02.685148       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:02.685155       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.685161       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.685166       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.685172       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.685176       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.685187       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:02.685199       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:02.685212       1 prefix_cache_and_load.go:584] latency, Route, 0.0927
I0305 06:40:02.685234       1 gateway.go:415] latency, selectTargetPod, 0.0927, target pod, 10.0.0.34:8000
I0305 06:40:02.685245       1 gateway.go:235] latency, HandleRequestBody, 0.0931
I0305 06:40:02.685246       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0597
I0305 06:40:02.685255       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:02.685260       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:02.685446       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:02.685508       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:02.685526       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:02.702121       1 gateway.go:329] "-- In RequestBody processing ..." requestID="33a5f15a-8dc7-4b74-8263-67e15dc2f49e"
I0305 06:40:02.702358       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="33a5f15a-8dc7-4b74-8263-67e15dc2f49e" model="qwen2-5-7b-instruct"
I0305 06:40:02.703255       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cf693246-5a26-47e0-83c8-1ce37d375278"
I0305 06:40:02.722738       1 gateway.go:329] "-- In RequestBody processing ..." requestID="134891b1-6a62-4adc-8a76-aa8a4895da73"
I0305 06:40:02.722957       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="134891b1-6a62-4adc-8a76-aa8a4895da73" model="qwen2-5-7b-instruct"
I0305 06:40:02.744415       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0589, numInputTokens, 7599
I0305 06:40:02.744434       1 tree.go:471] Updated node(0) last access: 160.8424 seconds
I0305 06:40:02.744441       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:02.744444       1 tree.go:471] Updated node(2) last access: 160.8424 seconds
I0305 06:40:02.744458       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:02.744462       1 tree.go:471] Updated node(23) last access: 160.8424 seconds
I0305 06:40:02.744466       1 tree.go:490] Partial tokens match child node(224). Continue to go deeper in the radix tree
I0305 06:40:02.744470       1 tree.go:471] Updated node(224) last access: 160.8424 seconds
I0305 06:40:02.744474       1 tree.go:484] Entire input tokens match the child node(195)
I0305 06:40:02.744479       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:02.744485       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:02.744492       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:02.744497       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:02.744480974 +0000 UTC m=+160.961207839 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:46.150502873 +0000 UTC m=+144.367229818]
I0305 06:40:02.744528       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:02.744536       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:02.744591       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7599
I0305 06:40:02.744600       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:02.744608       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.744614       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.744621       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.744626       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.744631       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.744639       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:02.744648       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:02.744659       1 prefix_cache_and_load.go:584] latency, Route, 0.1191
I0305 06:40:02.744673       1 gateway.go:415] latency, selectTargetPod, 0.1191, target pod, 10.0.3.42:8000
I0305 06:40:02.744683       1 gateway.go:235] latency, HandleRequestBody, 0.1194
I0305 06:40:02.744710       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0917
I0305 06:40:02.744716       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:02.744719       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:02.744832       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:02.744882       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:02.744887       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:02.750050       1 gateway.go:608] "First token received" requestID="cf693246-5a26-47e0-83c8-1ce37d375278" ttft_ms=157
I0305 06:40:02.761127       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b2bedf90-2c8c-4c29-bb61-bbb910ac6d41"
I0305 06:40:02.779493       1 gateway.go:329] "-- In RequestBody processing ..." requestID="84462f4b-1a12-458c-a785-4fd99b05fc4a"
I0305 06:40:02.779703       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="84462f4b-1a12-458c-a785-4fd99b05fc4a" model="qwen2-5-7b-instruct"
I0305 06:40:02.793783       1 gateway.go:608] "First token received" requestID="b2bedf90-2c8c-4c29-bb61-bbb910ac6d41" ttft_ms=168
I0305 06:40:02.805024       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d490ba1d-15db-43a2-a44b-436f948798f5"
I0305 06:40:02.805229       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d490ba1d-15db-43a2-a44b-436f948798f5" model="qwen2-5-7b-instruct"
I0305 06:40:02.821003       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0761, numInputTokens, 7599
I0305 06:40:02.821018       1 tree.go:471] Updated node(0) last access: 160.9190 seconds
I0305 06:40:02.821024       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:02.821028       1 tree.go:471] Updated node(2) last access: 160.9190 seconds
I0305 06:40:02.821041       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:02.821045       1 tree.go:471] Updated node(53) last access: 160.9190 seconds
I0305 06:40:02.821048       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 06:40:02.821052       1 tree.go:471] Updated node(43) last access: 160.9190 seconds
I0305 06:40:02.821060       1 tree.go:667] Split complete - New node(289)
I0305 06:40:02.821064       1 tree.go:668] Split complete - Child node(47)
I0305 06:40:02.821069       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:40:02.821073       1 tree.go:471] Updated node(289) last access: 160.9190 seconds
I0305 06:40:02.821079       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:40:02.821083       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:02.821089       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:02.821096       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:02.821100       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:02.821085573 +0000 UTC m=+161.037812437]
I0305 06:40:02.821114       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7485, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:40:02.821120       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:40:02.821174       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7485
I0305 06:40:02.821183       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:02.821192       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.821199       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.821203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.821208       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.821214       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.821217       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.821226       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:02.821234       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:02.821243       1 prefix_cache_and_load.go:584] latency, Route, 0.1682
I0305 06:40:02.821257       1 gateway.go:415] latency, selectTargetPod, 0.1682, target pod, 10.0.0.34:8000
I0305 06:40:02.821267       1 gateway.go:235] latency, HandleRequestBody, 0.1685
I0305 06:40:02.821290       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1188
I0305 06:40:02.821310       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:02.821313       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:02.821418       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:02.821468       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:02.821472       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:02.839654       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4957bcee-982e-483c-8ee6-13e1b0a0719a"
I0305 06:40:02.854259       1 gateway.go:329] "-- In RequestBody processing ..." requestID="75fd6a79-2932-4794-a473-8102df7da06c"
I0305 06:40:02.854507       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="75fd6a79-2932-4794-a473-8102df7da06c" model="qwen2-5-7b-instruct"
I0305 06:40:02.869720       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 7597
I0305 06:40:02.869733       1 tree.go:471] Updated node(0) last access: 160.9677 seconds
I0305 06:40:02.869739       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:02.869742       1 tree.go:471] Updated node(2) last access: 160.9677 seconds
I0305 06:40:02.869756       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:02.869760       1 tree.go:471] Updated node(12) last access: 160.9677 seconds
I0305 06:40:02.869768       1 tree.go:667] Split complete - New node(291)
I0305 06:40:02.869772       1 tree.go:668] Split complete - Child node(275)
I0305 06:40:02.869777       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:40:02.869782       1 tree.go:471] Updated node(291) last access: 160.9677 seconds
I0305 06:40:02.869787       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 06:40:02.869792       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:02.869798       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:02.869803       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:02.869809       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:02.869793849 +0000 UTC m=+161.086520714]
I0305 06:40:02.869821       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7485, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 06:40:02.869829       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 06:40:02.869890       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7485
I0305 06:40:02.869900       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:02.869907       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.869912       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.869918       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.869921       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.869927       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.869936       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:02.869944       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:02.869953       1 prefix_cache_and_load.go:584] latency, Route, 0.1675
I0305 06:40:02.869967       1 gateway.go:415] latency, selectTargetPod, 0.1675, target pod, 10.0.0.39:8000
I0305 06:40:02.869984       1 gateway.go:235] latency, HandleRequestBody, 0.1679
I0305 06:40:02.870011       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1470
I0305 06:40:02.870016       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:02.870019       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:02.870125       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:02.870173       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:02.870179       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:02.884766       1 gateway.go:608] "First token received" requestID="4957bcee-982e-483c-8ee6-13e1b0a0719a" ttft_ms=231
I0305 06:40:02.889435       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="33a5f15a-8dc7-4b74-8263-67e15dc2f49e"
I0305 06:40:02.907419       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6b9e9514, selectedpod, 10.0.0.34:8000, ttft, 110, tpot, 27, e2e, 358, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:02.907439       1 gateway.go:748] "Request completed" requestID="f7a047ba-9924-463b-af6e-181208130a4e" targetPod="10.0.0.34:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:02.907450       1 gateway.go:764] "HandleResponseBody completed" requestID="f7a047ba-9924-463b-af6e-181208130a4e" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:02.926213       1 gateway.go:608] "First token received" requestID="33a5f15a-8dc7-4b74-8263-67e15dc2f49e" ttft_ms=224
I0305 06:40:02.927821       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0576, numInputTokens, 7598
I0305 06:40:02.927839       1 tree.go:471] Updated node(0) last access: 161.0258 seconds
I0305 06:40:02.927845       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:02.927849       1 tree.go:471] Updated node(2) last access: 161.0258 seconds
I0305 06:40:02.927860       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:02.927865       1 tree.go:471] Updated node(45) last access: 161.0258 seconds
I0305 06:40:02.927867       1 tree.go:490] Partial tokens match child node(198). Continue to go deeper in the radix tree
I0305 06:40:02.927870       1 tree.go:471] Updated node(198) last access: 161.0258 seconds
I0305 06:40:02.927876       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:40:02.927881       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:02.927889       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:02.927896       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:02.927901       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:02.927883381 +0000 UTC m=+161.144610246]
I0305 06:40:02.927917       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7480, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:40:02.927924       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:40:02.927993       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7480
I0305 06:40:02.928003       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:02.928011       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.928018       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.928024       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.928028       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.928033       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:02.928040       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:02.928048       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:02.928060       1 prefix_cache_and_load.go:584] latency, Route, 0.2050
I0305 06:40:02.928075       1 gateway.go:415] latency, selectTargetPod, 0.2050, target pod, 10.0.0.34:8000
I0305 06:40:02.928086       1 gateway.go:235] latency, HandleRequestBody, 0.2054
I0305 06:40:02.928114       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1483
I0305 06:40:02.928119       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:02.928122       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:02.928233       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:02.928282       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:02.928287       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:02.946245       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="134891b1-6a62-4adc-8a76-aa8a4895da73"
I0305 06:40:02.966822       1 gateway.go:562] latency, 0.0000, summary, hash(request), de7ee06d, selectedpod, 10.0.3.42:8000, ttft, 168, tpot, 19, e2e, 341, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:02.966842       1 gateway.go:748] "Request completed" requestID="b2bedf90-2c8c-4c29-bb61-bbb910ac6d41" targetPod="10.0.3.42:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:02.966853       1 gateway.go:764] "HandleResponseBody completed" requestID="b2bedf90-2c8c-4c29-bb61-bbb910ac6d41" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:02.979094       1 gateway.go:562] latency, 0.0000, summary, hash(request), 46d1fa4c, selectedpod, 10.0.0.34:8000, ttft, 157, tpot, 25, e2e, 386, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:02.979117       1 gateway.go:748] "Request completed" requestID="cf693246-5a26-47e0-83c8-1ce37d375278" targetPod="10.0.0.34:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:02.979129       1 gateway.go:764] "HandleResponseBody completed" requestID="cf693246-5a26-47e0-83c8-1ce37d375278" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:02.987358       1 gateway.go:207] "Processing request" requestID="e7aad495-7037-40bd-9130-705a0d59ac66"
I0305 06:40:02.987386       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e7aad495-7037-40bd-9130-705a0d59ac66"
I0305 06:40:02.987397       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:03.007495       1 gateway.go:608] "First token received" requestID="134891b1-6a62-4adc-8a76-aa8a4895da73" ttft_ms=284
I0305 06:40:03.013942       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0856, numInputTokens, 7601
I0305 06:40:03.013961       1 tree.go:471] Updated node(0) last access: 161.1119 seconds
I0305 06:40:03.013977       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:03.013981       1 tree.go:471] Updated node(2) last access: 161.1119 seconds
I0305 06:40:03.013995       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:03.013999       1 tree.go:471] Updated node(18) last access: 161.1119 seconds
I0305 06:40:03.014002       1 tree.go:490] Partial tokens match child node(170). Continue to go deeper in the radix tree
I0305 06:40:03.014004       1 tree.go:471] Updated node(170) last access: 161.1119 seconds
I0305 06:40:03.014007       1 tree.go:490] Partial tokens match child node(200). Continue to go deeper in the radix tree
I0305 06:40:03.014010       1 tree.go:471] Updated node(200) last access: 161.1120 seconds
I0305 06:40:03.014014       1 tree.go:484] Entire input tokens match the child node(205)
I0305 06:40:03.014019       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:03.014026       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:03.014033       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:03.014038       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:03.014021338 +0000 UTC m=+161.230748212 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:46.900358666 +0000 UTC m=+145.117085543]
I0305 06:40:03.014058       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:03.014065       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:03.014134       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7601
I0305 06:40:03.014144       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:03.014151       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.014157       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.014163       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.014168       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.014175       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.014183       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.014195       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:03.014209       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:03.014226       1 prefix_cache_and_load.go:584] latency, Route, 0.2344
I0305 06:40:03.014246       1 gateway.go:415] latency, selectTargetPod, 0.2345, target pod, 10.0.0.131:8000
I0305 06:40:03.014263       1 gateway.go:235] latency, HandleRequestBody, 0.2348
I0305 06:40:03.014296       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2090
I0305 06:40:03.014301       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:03.014304       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:03.014430       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:03.014484       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:03.014489       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:03.034801       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="84462f4b-1a12-458c-a785-4fd99b05fc4a"
I0305 06:40:03.067337       1 gateway.go:608] "First token received" requestID="84462f4b-1a12-458c-a785-4fd99b05fc4a" ttft_ms=287
I0305 06:40:03.100646       1 gateway.go:562] latency, 0.0000, summary, hash(request), 18a50659, selectedpod, 10.0.0.39:8000, ttft, 224, tpot, 19, e2e, 398, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:03.100667       1 gateway.go:748] "Request completed" requestID="33a5f15a-8dc7-4b74-8263-67e15dc2f49e" targetPod="10.0.0.39:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:03.100678       1 gateway.go:764] "HandleResponseBody completed" requestID="33a5f15a-8dc7-4b74-8263-67e15dc2f49e" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:03.100925       1 gateway.go:207] "Processing request" requestID="081ba4ed-cb71-459c-a9ab-9da76ddb9930"
I0305 06:40:03.100959       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="081ba4ed-cb71-459c-a9ab-9da76ddb9930"
I0305 06:40:03.100980       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:03.102751       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0883, numInputTokens, 7602
I0305 06:40:03.102769       1 tree.go:471] Updated node(0) last access: 161.2007 seconds
I0305 06:40:03.102775       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:03.102780       1 tree.go:471] Updated node(2) last access: 161.2007 seconds
I0305 06:40:03.102793       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:03.102798       1 tree.go:471] Updated node(31) last access: 161.2007 seconds
I0305 06:40:03.102809       1 tree.go:667] Split complete - New node(294)
I0305 06:40:03.102814       1 tree.go:668] Split complete - Child node(156)
I0305 06:40:03.102819       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 06:40:03.102823       1 tree.go:471] Updated node(294) last access: 161.2008 seconds
I0305 06:40:03.102829       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:40:03.102834       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:03.102840       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:03.102846       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:03.102852       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:03.102836303 +0000 UTC m=+161.319563176]
I0305 06:40:03.102870       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7483, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:40:03.102880       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:40:03.102959       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7483
I0305 06:40:03.102980       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:03.102993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.103004       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.103013       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.103022       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.103027       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.103041       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:03.103053       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:03.103066       1 prefix_cache_and_load.go:584] latency, Route, 0.2978
I0305 06:40:03.103085       1 gateway.go:415] latency, selectTargetPod, 0.2978, target pod, 10.0.1.28:8000
I0305 06:40:03.103098       1 gateway.go:235] latency, HandleRequestBody, 0.2981
I0305 06:40:03.103128       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2485
I0305 06:40:03.103135       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:03.103139       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:03.103295       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:03.103354       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:03.103360       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:03.108770       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9869fc8a, selectedpod, 10.0.0.34:8000, ttft, 231, tpot, 24, e2e, 455, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:03.108790       1 gateway.go:748] "Request completed" requestID="4957bcee-982e-483c-8ee6-13e1b0a0719a" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:03.108803       1 gateway.go:764] "HandleResponseBody completed" requestID="4957bcee-982e-483c-8ee6-13e1b0a0719a" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:03.123552       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d490ba1d-15db-43a2-a44b-436f948798f5"
I0305 06:40:03.154283       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0509, numInputTokens, 7601
I0305 06:40:03.154310       1 tree.go:471] Updated node(0) last access: 161.2522 seconds
I0305 06:40:03.154316       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:03.154320       1 tree.go:471] Updated node(2) last access: 161.2523 seconds
I0305 06:40:03.154332       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:03.154337       1 tree.go:471] Updated node(26) last access: 161.2523 seconds
I0305 06:40:03.154341       1 tree.go:490] Partial tokens match child node(188). Continue to go deeper in the radix tree
I0305 06:40:03.154343       1 tree.go:471] Updated node(188) last access: 161.2523 seconds
I0305 06:40:03.154349       1 tree.go:484] Entire input tokens match the child node(189)
I0305 06:40:03.154352       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:03.154364       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:03.154372       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:03.154378       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:03.154359073 +0000 UTC m=+161.371085937 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:45.429073749 +0000 UTC m=+143.645800613]
I0305 06:40:03.154396       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:03.154404       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:03.154503       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7601
I0305 06:40:03.154522       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:03.154529       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.154537       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.154542       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.154548       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.154553       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.154564       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:03.154574       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:03.154587       1 prefix_cache_and_load.go:584] latency, Route, 0.3000
I0305 06:40:03.154602       1 gateway.go:415] latency, selectTargetPod, 0.3000, target pod, 10.0.3.41:8000
I0305 06:40:03.154615       1 gateway.go:235] latency, HandleRequestBody, 0.3004
I0305 06:40:03.167534       1 gateway.go:608] "First token received" requestID="d490ba1d-15db-43a2-a44b-436f948798f5" ttft_ms=362
I0305 06:40:03.171433       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="75fd6a79-2932-4794-a473-8102df7da06c"
I0305 06:40:03.186134       1 gateway.go:562] latency, 0.0000, summary, hash(request), c910d9a1, selectedpod, 10.0.0.34:8000, ttft, 284, tpot, 19, e2e, 463, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:03.186158       1 gateway.go:748] "Request completed" requestID="134891b1-6a62-4adc-8a76-aa8a4895da73" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:03.186173       1 gateway.go:764] "HandleResponseBody completed" requestID="134891b1-6a62-4adc-8a76-aa8a4895da73" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:03.203645       1 gateway.go:608] "First token received" requestID="75fd6a79-2932-4794-a473-8102df7da06c" ttft_ms=349
I0305 06:40:03.240492       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3ba2db3c, selectedpod, 10.0.0.131:8000, ttft, 287, tpot, 19, e2e, 460, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:03.240509       1 gateway.go:748] "Request completed" requestID="84462f4b-1a12-458c-a785-4fd99b05fc4a" targetPod="10.0.0.131:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:03.240531       1 gateway.go:764] "HandleResponseBody completed" requestID="84462f4b-1a12-458c-a785-4fd99b05fc4a" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:03.244629       1 gateway.go:207] "Processing request" requestID="5be668c1-86f2-43ac-a8f7-a15f645bce2a"
I0305 06:40:03.244659       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5be668c1-86f2-43ac-a8f7-a15f645bce2a"
I0305 06:40:03.244668       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:03.279980       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8a6f2480-f911-4120-8277-08f2d13bc9f8"
I0305 06:40:03.280208       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8a6f2480-f911-4120-8277-08f2d13bc9f8" model="qwen2-5-7b-instruct"
I0305 06:40:03.280306       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:03.280315       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:03.280319       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:03.280485       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:03.280569       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:03.280576       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:03.329904       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0493, numInputTokens, 7598
I0305 06:40:03.329921       1 tree.go:471] Updated node(0) last access: 161.4279 seconds
I0305 06:40:03.329927       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:03.329932       1 tree.go:471] Updated node(2) last access: 161.4279 seconds
I0305 06:40:03.329946       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:03.329950       1 tree.go:471] Updated node(4) last access: 161.4279 seconds
I0305 06:40:03.329954       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:40:03.329958       1 tree.go:471] Updated node(63) last access: 161.4279 seconds
I0305 06:40:03.329980       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:03.329986       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:03.329992       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:03.329999       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:03.330004       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:03.32998759 +0000 UTC m=+161.546714464]
I0305 06:40:03.330018       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:03.330024       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:03.330084       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7481
I0305 06:40:03.330092       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:03.330100       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.330107       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.330115       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.330123       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.330166       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:03.330176       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:03.330189       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:03.330199       1 prefix_cache_and_load.go:584] latency, Route, 0.0499
I0305 06:40:03.330209       1 gateway.go:415] latency, selectTargetPod, 0.0499, target pod, 10.0.1.47:8000
I0305 06:40:03.330219       1 gateway.go:235] latency, HandleRequestBody, 0.0502
I0305 06:40:03.343223       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1978ef9f, selectedpod, 10.0.1.28:8000, ttft, 362, tpot, 19, e2e, 538, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:03.343241       1 gateway.go:748] "Request completed" requestID="d490ba1d-15db-43a2-a44b-436f948798f5" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:03.343253       1 gateway.go:764] "HandleResponseBody completed" requestID="d490ba1d-15db-43a2-a44b-436f948798f5" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:03.352014       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8a6f2480-f911-4120-8277-08f2d13bc9f8"
I0305 06:40:03.378278       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3a3e8db2, selectedpod, 10.0.3.41:8000, ttft, 349, tpot, 19, e2e, 523, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:03.378294       1 gateway.go:748] "Request completed" requestID="75fd6a79-2932-4794-a473-8102df7da06c" targetPod="10.0.3.41:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:03.378303       1 gateway.go:764] "HandleResponseBody completed" requestID="75fd6a79-2932-4794-a473-8102df7da06c" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:03.387453       1 gateway.go:207] "Processing request" requestID="17f978c7-e69e-42ef-bf03-811bd6ff9331"
I0305 06:40:03.387480       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="17f978c7-e69e-42ef-bf03-811bd6ff9331"
I0305 06:40:03.387488       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:03.396312       1 gateway.go:608] "First token received" requestID="8a6f2480-f911-4120-8277-08f2d13bc9f8" ttft_ms=116
I0305 06:40:03.565539       1 gateway.go:207] "Processing request" requestID="3ec72089-e428-4c8a-8020-aca092b1ea76"
I0305 06:40:03.565564       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3ec72089-e428-4c8a-8020-aca092b1ea76"
I0305 06:40:03.565573       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:03.569499       1 gateway.go:562] latency, 0.0000, summary, hash(request), 10b8fc89, selectedpod, 10.0.1.47:8000, ttft, 116, tpot, 19, e2e, 289, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:03.569525       1 gateway.go:748] "Request completed" requestID="8a6f2480-f911-4120-8277-08f2d13bc9f8" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:03.569535       1 gateway.go:764] "HandleResponseBody completed" requestID="8a6f2480-f911-4120-8277-08f2d13bc9f8" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:03.659714       1 gateway.go:207] "Processing request" requestID="aa90100c-2e88-4b92-87a3-7271c2ff6976"
I0305 06:40:03.659738       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="aa90100c-2e88-4b92-87a3-7271c2ff6976"
I0305 06:40:03.659747       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:03.808716       1 gateway.go:207] "Processing request" requestID="2954a542-2111-416a-9e03-5a590a7612b0"
I0305 06:40:03.808748       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2954a542-2111-416a-9e03-5a590a7612b0"
I0305 06:40:03.808756       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:03.911223       1 gateway.go:207] "Processing request" requestID="9a8ce062-6cde-4a7c-a31f-3d503429c4d8"
I0305 06:40:03.911249       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9a8ce062-6cde-4a7c-a31f-3d503429c4d8"
I0305 06:40:03.911258       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:04.023546       1 gateway.go:207] "Processing request" requestID="7e80cdef-0edf-4b8e-a8ad-8cb4efee0602"
I0305 06:40:04.023580       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7e80cdef-0edf-4b8e-a8ad-8cb4efee0602"
I0305 06:40:04.023588       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:04.172409       1 gateway.go:207] "Processing request" requestID="75bc3d9b-1177-4f94-9415-6fd0255a2050"
I0305 06:40:04.172440       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="75bc3d9b-1177-4f94-9415-6fd0255a2050"
I0305 06:40:04.172448       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:04.239606       1 gateway.go:207] "Processing request" requestID="139f00bb-59db-4b40-a2f9-0f06b8732760"
I0305 06:40:04.239629       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="139f00bb-59db-4b40-a2f9-0f06b8732760"
I0305 06:40:04.239643       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:04.410320       1 gateway.go:207] "Processing request" requestID="455037a3-2473-4143-8508-4620e199e761"
I0305 06:40:04.410361       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="455037a3-2473-4143-8508-4620e199e761"
I0305 06:40:04.410371       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:04.436812       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0147c019-abb1-4903-a65b-31a66465bb1b"
I0305 06:40:04.437101       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0147c019-abb1-4903-a65b-31a66465bb1b" model="qwen2-5-7b-instruct"
I0305 06:40:04.437200       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:04.437209       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:04.437213       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:04.437497       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:04.437566       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:04.437574       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:04.442145       1 gateway.go:329] "-- In RequestBody processing ..." requestID="21caef71-1f39-4d39-b12a-f33151d3d2aa"
I0305 06:40:04.442354       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="21caef71-1f39-4d39-b12a-f33151d3d2aa" model="qwen2-5-7b-instruct"
I0305 06:40:04.446300       1 gateway.go:329] "-- In RequestBody processing ..." requestID="be4b686a-4a45-4d5e-9bae-776ef7401bf8"
I0305 06:40:04.446558       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="be4b686a-4a45-4d5e-9bae-776ef7401bf8" model="qwen2-5-7b-instruct"
I0305 06:40:04.469435       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dcdf6dfb-87ff-4985-ad68-a0c3d45993f2"
I0305 06:40:04.469669       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dcdf6dfb-87ff-4985-ad68-a0c3d45993f2" model="qwen2-5-7b-instruct"
I0305 06:40:04.492106       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0545, numInputTokens, 7602
I0305 06:40:04.492123       1 tree.go:471] Updated node(0) last access: 162.5901 seconds
I0305 06:40:04.492129       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:04.492133       1 tree.go:471] Updated node(2) last access: 162.5901 seconds
I0305 06:40:04.492148       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:04.492155       1 tree.go:471] Updated node(51) last access: 162.5901 seconds
I0305 06:40:04.492159       1 tree.go:490] Partial tokens match child node(196). Continue to go deeper in the radix tree
I0305 06:40:04.492165       1 tree.go:471] Updated node(196) last access: 162.5901 seconds
I0305 06:40:04.492171       1 tree.go:484] Entire input tokens match the child node(197)
I0305 06:40:04.492176       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:04.492184       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:04.492194       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:04.492203       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:04.49217902 +0000 UTC m=+162.708905885 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:46.341471154 +0000 UTC m=+144.558198023]
I0305 06:40:04.492232       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:04.492244       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:04.492315       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7602
I0305 06:40:04.492328       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:04.492335       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.492342       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.492347       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.492353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.492360       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.492369       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:04.492379       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:04.492388       1 prefix_cache_and_load.go:584] latency, Route, 0.0552
I0305 06:40:04.492404       1 gateway.go:415] latency, selectTargetPod, 0.0552, target pod, 10.0.1.28:8000
I0305 06:40:04.492422       1 gateway.go:235] latency, HandleRequestBody, 0.0556
I0305 06:40:04.492427       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0500
I0305 06:40:04.492441       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:04.492445       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:04.492641       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:04.492704       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:04.492710       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:04.516094       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0147c019-abb1-4903-a65b-31a66465bb1b"
I0305 06:40:04.523338       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b0caf293-08ec-4fdd-b97e-d4627f473783"
I0305 06:40:04.523574       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b0caf293-08ec-4fdd-b97e-d4627f473783" model="qwen2-5-7b-instruct"
I0305 06:40:04.541866       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 7597
I0305 06:40:04.541882       1 tree.go:471] Updated node(0) last access: 162.6398 seconds
I0305 06:40:04.541890       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:04.541896       1 tree.go:471] Updated node(2) last access: 162.6398 seconds
I0305 06:40:04.541911       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:04.541915       1 tree.go:471] Updated node(26) last access: 162.6399 seconds
I0305 06:40:04.541919       1 tree.go:490] Partial tokens match child node(206). Continue to go deeper in the radix tree
I0305 06:40:04.541922       1 tree.go:471] Updated node(206) last access: 162.6399 seconds
I0305 06:40:04.541926       1 tree.go:484] Entire input tokens match the child node(207)
I0305 06:40:04.541930       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:04.541937       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:04.541942       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:04.541946       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:04.541932337 +0000 UTC m=+162.758659202 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:47.184020856 +0000 UTC m=+145.400747723]
I0305 06:40:04.541963       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:04.541980       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:04.542038       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7597
I0305 06:40:04.542049       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:04.542062       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.542068       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.542074       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.542081       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.542085       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.542093       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:04.542102       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:04.542112       1 prefix_cache_and_load.go:584] latency, Route, 0.0997
I0305 06:40:04.542126       1 gateway.go:415] latency, selectTargetPod, 0.0997, target pod, 10.0.3.41:8000
I0305 06:40:04.542139       1 gateway.go:235] latency, HandleRequestBody, 0.1000
I0305 06:40:04.542161       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0955
I0305 06:40:04.542172       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:04.542176       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:04.542353       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:04.542412       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:04.542418       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:04.548693       1 gateway.go:608] "First token received" requestID="0147c019-abb1-4903-a65b-31a66465bb1b" ttft_ms=111
I0305 06:40:04.558952       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="21caef71-1f39-4d39-b12a-f33151d3d2aa"
I0305 06:40:04.583863       1 gateway.go:329] "-- In RequestBody processing ..." requestID="12816667-7034-4af0-999f-5fbb0b3f016f"
I0305 06:40:04.584107       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="12816667-7034-4af0-999f-5fbb0b3f016f" model="qwen2-5-7b-instruct"
I0305 06:40:04.584527       1 gateway.go:608] "First token received" requestID="21caef71-1f39-4d39-b12a-f33151d3d2aa" ttft_ms=142
I0305 06:40:04.616248       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0738, numInputTokens, 7595
I0305 06:40:04.616269       1 tree.go:471] Updated node(0) last access: 162.7142 seconds
I0305 06:40:04.616277       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:04.616283       1 tree.go:471] Updated node(2) last access: 162.7142 seconds
I0305 06:40:04.616296       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:04.616301       1 tree.go:471] Updated node(53) last access: 162.7142 seconds
I0305 06:40:04.616329       1 tree.go:667] Split complete - New node(297)
I0305 06:40:04.616334       1 tree.go:668] Split complete - Child node(54)
I0305 06:40:04.616338       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:40:04.616344       1 tree.go:471] Updated node(297) last access: 162.7143 seconds
I0305 06:40:04.616349       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 06:40:04.616354       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:40:04.616362       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:04.616369       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:04.616377       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:04.61635749 +0000 UTC m=+162.833084359]
I0305 06:40:04.616391       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7483, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 06:40:04.616398       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 06:40:04.616459       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7483
I0305 06:40:04.616470       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:04.616479       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.616487       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.616492       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.616497       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.616503       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.616523       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:04.616536       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:04.616548       1 prefix_cache_and_load.go:584] latency, Route, 0.1699
I0305 06:40:04.616561       1 gateway.go:415] latency, selectTargetPod, 0.1699, target pod, 10.0.0.34:8000
I0305 06:40:04.616571       1 gateway.go:235] latency, HandleRequestBody, 0.1703
I0305 06:40:04.616598       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1468
I0305 06:40:04.616602       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:04.616607       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:04.616730       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:04.616783       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:04.616790       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:04.626370       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c0bedc47-9856-427b-a1b2-a640e90361aa"
I0305 06:40:04.626590       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c0bedc47-9856-427b-a1b2-a640e90361aa" model="qwen2-5-7b-instruct"
I0305 06:40:04.632542       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e1eac20c-c5e1-430c-ad8e-e2b60f119796"
I0305 06:40:04.632783       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e1eac20c-c5e1-430c-ad8e-e2b60f119796" model="qwen2-5-7b-instruct"
I0305 06:40:04.635188       1 gateway.go:329] "-- In RequestBody processing ..." requestID="446a1508-f455-4630-aaed-bf3d3aa32f01"
I0305 06:40:04.635388       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="446a1508-f455-4630-aaed-bf3d3aa32f01" model="qwen2-5-7b-instruct"
I0305 06:40:04.636063       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="be4b686a-4a45-4d5e-9bae-776ef7401bf8"
I0305 06:40:04.642042       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1adf62dc-08d7-44b6-b5db-9db1b7fa9302"
I0305 06:40:04.642261       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1adf62dc-08d7-44b6-b5db-9db1b7fa9302" model="qwen2-5-7b-instruct"
I0305 06:40:04.664999       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 7596
I0305 06:40:04.665017       1 tree.go:471] Updated node(0) last access: 162.7630 seconds
I0305 06:40:04.665023       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:04.665027       1 tree.go:471] Updated node(2) last access: 162.7630 seconds
I0305 06:40:04.665041       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:04.665046       1 tree.go:471] Updated node(45) last access: 162.7630 seconds
I0305 06:40:04.665051       1 tree.go:490] Partial tokens match child node(198). Continue to go deeper in the radix tree
I0305 06:40:04.665057       1 tree.go:471] Updated node(198) last access: 162.7630 seconds
I0305 06:40:04.665062       1 tree.go:484] Entire input tokens match the child node(199)
I0305 06:40:04.665066       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:04.665073       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:04.665082       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:04.665091       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:04.665068465 +0000 UTC m=+162.881795330 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:46.41798444 +0000 UTC m=+144.634711310]
I0305 06:40:04.665114       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:04.665122       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:04.665179       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7596
I0305 06:40:04.665188       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:04.665196       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.665201       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.665208       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.665214       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.665221       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.665233       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:04.665244       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:04.665255       1 prefix_cache_and_load.go:584] latency, Route, 0.1955
I0305 06:40:04.665269       1 gateway.go:415] latency, selectTargetPod, 0.1955, target pod, 10.0.0.34:8000
I0305 06:40:04.665280       1 gateway.go:235] latency, HandleRequestBody, 0.1959
I0305 06:40:04.665306       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1417
I0305 06:40:04.665311       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:04.665314       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:04.665428       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:04.665480       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:04.665485       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:04.667268       1 gateway.go:329] "-- In RequestBody processing ..." requestID="be8581b7-a107-4b9b-866d-311d66b20e4b"
I0305 06:40:04.667476       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="be8581b7-a107-4b9b-866d-311d66b20e4b" model="qwen2-5-7b-instruct"
I0305 06:40:04.671773       1 gateway.go:608] "First token received" requestID="be4b686a-4a45-4d5e-9bae-776ef7401bf8" ttft_ms=225
I0305 06:40:04.683866       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dcdf6dfb-87ff-4985-ad68-a0c3d45993f2"
I0305 06:40:04.712381       1 gateway.go:329] "-- In RequestBody processing ..." requestID="654638ab-2cf2-41e0-a510-238670c8f35b"
I0305 06:40:04.712601       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="654638ab-2cf2-41e0-a510-238670c8f35b" model="qwen2-5-7b-instruct"
I0305 06:40:04.714533       1 gateway.go:608] "First token received" requestID="dcdf6dfb-87ff-4985-ad68-a0c3d45993f2" ttft_ms=245
I0305 06:40:04.721497       1 gateway.go:562] latency, 0.0000, summary, hash(request), 52847f86, selectedpod, 10.0.1.28:8000, ttft, 111, tpot, 19, e2e, 284, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:04.721524       1 gateway.go:748] "Request completed" requestID="0147c019-abb1-4903-a65b-31a66465bb1b" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:04.721537       1 gateway.go:764] "HandleResponseBody completed" requestID="0147c019-abb1-4903-a65b-31a66465bb1b" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:04.726173       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0607, numInputTokens, 7603
I0305 06:40:04.726193       1 tree.go:471] Updated node(0) last access: 162.8241 seconds
I0305 06:40:04.726199       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:04.726202       1 tree.go:471] Updated node(2) last access: 162.8241 seconds
I0305 06:40:04.726214       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:04.726219       1 tree.go:471] Updated node(18) last access: 162.8242 seconds
I0305 06:40:04.726228       1 tree.go:667] Split complete - New node(299)
I0305 06:40:04.726233       1 tree.go:668] Split complete - Child node(14)
I0305 06:40:04.726238       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0305 06:40:04.726242       1 tree.go:471] Updated node(299) last access: 162.8242 seconds
I0305 06:40:04.726247       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:40:04.726252       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:40:04.726259       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:04.726265       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:04.726270       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:04.726254665 +0000 UTC m=+162.942981529]
I0305 06:40:04.726283       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7489, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:40:04.726290       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:40:04.726342       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7489
I0305 06:40:04.726351       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:04.726360       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.726365       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.726369       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.726372       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.726375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.726383       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:04.726391       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:04.726401       1 prefix_cache_and_load.go:584] latency, Route, 0.2027
I0305 06:40:04.726416       1 gateway.go:415] latency, selectTargetPod, 0.2028, target pod, 10.0.0.131:8000
I0305 06:40:04.726427       1 gateway.go:235] latency, HandleRequestBody, 0.2031
I0305 06:40:04.726455       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1423
I0305 06:40:04.726460       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:04.726462       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:04.726583       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:04.726632       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:04.726637       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:04.747558       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b0caf293-08ec-4fdd-b97e-d4627f473783"
I0305 06:40:04.757421       1 gateway.go:562] latency, 0.0000, summary, hash(request), 899e781f, selectedpod, 10.0.3.41:8000, ttft, 142, tpot, 19, e2e, 315, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:04.757439       1 gateway.go:748] "Request completed" requestID="21caef71-1f39-4d39-b12a-f33151d3d2aa" targetPod="10.0.3.41:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:04.757448       1 gateway.go:764] "HandleResponseBody completed" requestID="21caef71-1f39-4d39-b12a-f33151d3d2aa" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:04.784066       1 gateway.go:608] "First token received" requestID="b0caf293-08ec-4fdd-b97e-d4627f473783" ttft_ms=260
I0305 06:40:04.786721       1 gateway.go:329] "-- In RequestBody processing ..." requestID="33695f23-fafa-41f6-b28b-5e6aea2d27f1"
I0305 06:40:04.786955       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="33695f23-fafa-41f6-b28b-5e6aea2d27f1" model="qwen2-5-7b-instruct"
I0305 06:40:04.809133       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0825, numInputTokens, 7599
I0305 06:40:04.809151       1 tree.go:471] Updated node(0) last access: 162.9071 seconds
I0305 06:40:04.809157       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:04.809161       1 tree.go:471] Updated node(2) last access: 162.9071 seconds
I0305 06:40:04.809173       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:04.809177       1 tree.go:471] Updated node(26) last access: 162.9071 seconds
I0305 06:40:04.809181       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:40:04.809185       1 tree.go:471] Updated node(36) last access: 162.9071 seconds
I0305 06:40:04.809189       1 tree.go:490] Partial tokens match child node(71). Continue to go deeper in the radix tree
I0305 06:40:04.809192       1 tree.go:471] Updated node(71) last access: 162.9071 seconds
I0305 06:40:04.809199       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:40:04.809203       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:04.809210       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:04.809216       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:04.809222       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:04.809205481 +0000 UTC m=+163.025932353]
I0305 06:40:04.809238       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7485, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:40:04.809244       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:40:04.809318       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7485
I0305 06:40:04.809327       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:04.809334       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.809340       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.809345       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.809351       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.809355       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.809360       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.809368       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:04.809377       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:04.809387       1 prefix_cache_and_load.go:584] latency, Route, 0.2252
I0305 06:40:04.809404       1 gateway.go:415] latency, selectTargetPod, 0.2252, target pod, 10.0.3.41:8000
I0305 06:40:04.809421       1 gateway.go:235] latency, HandleRequestBody, 0.2256
I0305 06:40:04.809417       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1828
I0305 06:40:04.809456       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:04.809460       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:04.809629       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:04.809686       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:04.809692       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:04.813316       1 gateway.go:329] "-- In RequestBody processing ..." requestID="357af0bb-8f85-41b4-b724-a803cdfc27e6"
I0305 06:40:04.813572       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="357af0bb-8f85-41b4-b724-a803cdfc27e6" model="qwen2-5-7b-instruct"
I0305 06:40:04.825436       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="12816667-7034-4af0-999f-5fbb0b3f016f"
I0305 06:40:04.830349       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cb472620-c3df-47b6-a4fe-8eb77952ebbd"
I0305 06:40:04.830591       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cb472620-c3df-47b6-a4fe-8eb77952ebbd" model="qwen2-5-7b-instruct"
I0305 06:40:04.836839       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e1240e71-1704-41e2-98e0-8114f17e2b70"
I0305 06:40:04.837231       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e1240e71-1704-41e2-98e0-8114f17e2b70" model="qwen2-5-7b-instruct"
I0305 06:40:04.840860       1 gateway.go:329] "-- In RequestBody processing ..." requestID="873e1aff-6bc7-484a-a682-0ca0aace9530"
I0305 06:40:04.841095       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="873e1aff-6bc7-484a-a682-0ca0aace9530" model="qwen2-5-7b-instruct"
I0305 06:40:04.860874       1 gateway.go:608] "First token received" requestID="12816667-7034-4af0-999f-5fbb0b3f016f" ttft_ms=276
I0305 06:40:04.877598       1 gateway.go:562] latency, 0.0000, summary, hash(request), f3f79d1a, selectedpod, 10.0.0.34:8000, ttft, 225, tpot, 22, e2e, 431, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:40:04.877617       1 gateway.go:748] "Request completed" requestID="be4b686a-4a45-4d5e-9bae-776ef7401bf8" targetPod="10.0.0.34:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:40:04.877627       1 gateway.go:764] "HandleResponseBody completed" requestID="be4b686a-4a45-4d5e-9bae-776ef7401bf8" promptTokens=7614 completionTokens=10 stream=true
I0305 06:40:04.879000       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e7aad495-7037-40bd-9130-705a0d59ac66"
I0305 06:40:04.879222       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e7aad495-7037-40bd-9130-705a0d59ac66" model="qwen2-5-7b-instruct"
I0305 06:40:04.896809       1 gateway.go:562] latency, 0.0000, summary, hash(request), 924a935c, selectedpod, 10.0.0.34:8000, ttft, 245, tpot, 20, e2e, 427, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:04.896827       1 gateway.go:748] "Request completed" requestID="dcdf6dfb-87ff-4985-ad68-a0c3d45993f2" targetPod="10.0.0.34:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:04.896837       1 gateway.go:764] "HandleResponseBody completed" requestID="dcdf6dfb-87ff-4985-ad68-a0c3d45993f2" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:04.899735       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0900, numInputTokens, 7602
I0305 06:40:04.899752       1 tree.go:471] Updated node(0) last access: 162.9977 seconds
I0305 06:40:04.899758       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:04.899762       1 tree.go:471] Updated node(2) last access: 162.9977 seconds
I0305 06:40:04.899777       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:04.899781       1 tree.go:471] Updated node(31) last access: 162.9977 seconds
I0305 06:40:04.899792       1 tree.go:667] Split complete - New node(302)
I0305 06:40:04.899797       1 tree.go:668] Split complete - Child node(250)
I0305 06:40:04.899802       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 06:40:04.899807       1 tree.go:471] Updated node(302) last access: 162.9977 seconds
I0305 06:40:04.899814       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:40:04.899818       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:04.899825       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:04.899830       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:04.899837       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:04.899821433 +0000 UTC m=+163.116548298]
I0305 06:40:04.899852       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7489, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:40:04.899858       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:40:04.899923       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7489
I0305 06:40:04.899933       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:04.899941       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.899948       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.899951       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.899955       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.899959       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.899985       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:04.899995       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:04.900005       1 prefix_cache_and_load.go:584] latency, Route, 0.2733
I0305 06:40:04.900022       1 gateway.go:415] latency, selectTargetPod, 0.2734, target pod, 10.0.1.28:8000
I0305 06:40:04.900033       1 gateway.go:235] latency, HandleRequestBody, 0.2737
I0305 06:40:04.900064       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2672
I0305 06:40:04.900070       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:04.900074       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:04.900207       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:04.900260       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:04.900266       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:04.920634       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c0bedc47-9856-427b-a1b2-a640e90361aa"
I0305 06:40:04.932419       1 gateway.go:329] "-- In RequestBody processing ..." requestID="081ba4ed-cb71-459c-a9ab-9da76ddb9930"
I0305 06:40:04.938985       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="081ba4ed-cb71-459c-a9ab-9da76ddb9930" model="qwen2-5-7b-instruct"
I0305 06:40:04.949093       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 7603
I0305 06:40:04.949110       1 tree.go:471] Updated node(0) last access: 163.0471 seconds
I0305 06:40:04.949116       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:04.949120       1 tree.go:471] Updated node(2) last access: 163.0471 seconds
I0305 06:40:04.949132       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:04.949136       1 tree.go:471] Updated node(12) last access: 163.0471 seconds
I0305 06:40:04.949145       1 tree.go:667] Split complete - New node(304)
I0305 06:40:04.949150       1 tree.go:668] Split complete - Child node(266)
I0305 06:40:04.949155       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0305 06:40:04.949161       1 tree.go:471] Updated node(304) last access: 163.0471 seconds
I0305 06:40:04.949167       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:40:04.949171       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:40:04.949178       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:04.949185       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:04.949191       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:04.949174209 +0000 UTC m=+163.165901074]
I0305 06:40:04.949215       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7480, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:40:04.949222       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:40:04.949285       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7480
I0305 06:40:04.949294       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:04.949304       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.949311       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.949319       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.949323       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.949327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:04.949336       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:04.949345       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:04.949354       1 prefix_cache_and_load.go:584] latency, Route, 0.3165
I0305 06:40:04.949368       1 gateway.go:415] latency, selectTargetPod, 0.3165, target pod, 10.0.0.39:8000
I0305 06:40:04.949379       1 gateway.go:235] latency, HandleRequestBody, 0.3168
I0305 06:40:04.949379       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3139
I0305 06:40:04.949387       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:04.949392       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:04.949589       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:04.949657       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:04.949665       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:04.978734       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e1eac20c-c5e1-430c-ad8e-e2b60f119796"
I0305 06:40:04.978962       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5be668c1-86f2-43ac-a8f7-a15f645bce2a"
I0305 06:40:04.979524       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5be668c1-86f2-43ac-a8f7-a15f645bce2a" model="qwen2-5-7b-instruct"
I0305 06:40:04.979557       1 gateway.go:608] "First token received" requestID="c0bedc47-9856-427b-a1b2-a640e90361aa" ttft_ms=352
I0305 06:40:04.979555       1 gateway.go:562] latency, 0.0001, summary, hash(request), 5213ce8b, selectedpod, 10.0.0.131:8000, ttft, 260, tpot, 21, e2e, 456, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:04.979619       1 gateway.go:748] "Request completed" requestID="b0caf293-08ec-4fdd-b97e-d4627f473783" targetPod="10.0.0.131:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:04.979647       1 gateway.go:764] "HandleResponseBody completed" requestID="b0caf293-08ec-4fdd-b97e-d4627f473783" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:04.996850       1 gateway.go:329] "-- In RequestBody processing ..." requestID="17f978c7-e69e-42ef-bf03-811bd6ff9331"
I0305 06:40:04.997084       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="17f978c7-e69e-42ef-bf03-811bd6ff9331" model="qwen2-5-7b-instruct"
I0305 06:40:05.010574       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3ec72089-e428-4c8a-8020-aca092b1ea76"
I0305 06:40:05.010800       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3ec72089-e428-4c8a-8020-aca092b1ea76" model="qwen2-5-7b-instruct"
I0305 06:40:05.012938       1 gateway.go:608] "First token received" requestID="e1eac20c-c5e1-430c-ad8e-e2b60f119796" ttft_ms=380
I0305 06:40:05.024551       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0749, numInputTokens, 7599
I0305 06:40:05.024570       1 tree.go:471] Updated node(0) last access: 163.1225 seconds
I0305 06:40:05.024576       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.024580       1 tree.go:471] Updated node(2) last access: 163.1225 seconds
I0305 06:40:05.024594       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:05.024598       1 tree.go:471] Updated node(53) last access: 163.1225 seconds
I0305 06:40:05.024602       1 tree.go:490] Partial tokens match child node(181). Continue to go deeper in the radix tree
I0305 06:40:05.024604       1 tree.go:471] Updated node(181) last access: 163.1225 seconds
I0305 06:40:05.024610       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:05.024615       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:05.024623       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:05.024631       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:05.024639       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.024617486 +0000 UTC m=+163.241344362]
I0305 06:40:05.024656       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:05.024663       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:05.024723       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7483
I0305 06:40:05.024732       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.024740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.024745       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.024751       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.024756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.024763       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.024771       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.024780       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:05.024790       1 prefix_cache_and_load.go:584] latency, Route, 0.3893
I0305 06:40:05.024805       1 gateway.go:415] latency, selectTargetPod, 0.3893, target pod, 10.0.0.34:8000
I0305 06:40:05.024816       1 gateway.go:235] latency, HandleRequestBody, 0.3896
I0305 06:40:05.024846       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3825
I0305 06:40:05.024851       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.024854       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.024977       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.025037       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:05.025044       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.033944       1 gateway.go:562] latency, 0.0000, summary, hash(request), f2217700, selectedpod, 10.0.3.41:8000, ttft, 276, tpot, 19, e2e, 450, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:05.033963       1 gateway.go:748] "Request completed" requestID="12816667-7034-4af0-999f-5fbb0b3f016f" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:05.033978       1 gateway.go:764] "HandleResponseBody completed" requestID="12816667-7034-4af0-999f-5fbb0b3f016f" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:05.040411       1 gateway.go:329] "-- In RequestBody processing ..." requestID="aa90100c-2e88-4b92-87a3-7271c2ff6976"
I0305 06:40:05.040615       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="aa90100c-2e88-4b92-87a3-7271c2ff6976" model="qwen2-5-7b-instruct"
I0305 06:40:05.043529       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="446a1508-f455-4630-aaed-bf3d3aa32f01"
I0305 06:40:05.050678       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2954a542-2111-416a-9e03-5a590a7612b0"
I0305 06:40:05.050918       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2954a542-2111-416a-9e03-5a590a7612b0" model="qwen2-5-7b-instruct"
I0305 06:40:05.064257       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9a8ce062-6cde-4a7c-a31f-3d503429c4d8"
I0305 06:40:05.064465       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9a8ce062-6cde-4a7c-a31f-3d503429c4d8" model="qwen2-5-7b-instruct"
I0305 06:40:05.086107       1 gateway.go:608] "First token received" requestID="446a1508-f455-4630-aaed-bf3d3aa32f01" ttft_ms=450
I0305 06:40:05.091377       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7e80cdef-0edf-4b8e-a8ad-8cb4efee0602"
I0305 06:40:05.091749       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7e80cdef-0edf-4b8e-a8ad-8cb4efee0602" model="qwen2-5-7b-instruct"
I0305 06:40:05.095345       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0702, numInputTokens, 7594
I0305 06:40:05.095368       1 tree.go:471] Updated node(0) last access: 163.1933 seconds
I0305 06:40:05.095376       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.095382       1 tree.go:471] Updated node(2) last access: 163.1933 seconds
I0305 06:40:05.095401       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:05.095409       1 tree.go:471] Updated node(26) last access: 163.1933 seconds
I0305 06:40:05.095414       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 06:40:05.095417       1 tree.go:471] Updated node(75) last access: 163.1934 seconds
I0305 06:40:05.095425       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 06:40:05.095437       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 06:40:05.095447       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:40:05.095454       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:05.095461       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.095440313 +0000 UTC m=+163.312167186]
I0305 06:40:05.095478       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7484, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 06:40:05.095489       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 06:40:05.095580       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7484
I0305 06:40:05.095594       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.095604       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.095612       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.095622       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.095628       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.095633       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.095646       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.095657       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:05.095672       1 prefix_cache_and_load.go:584] latency, Route, 0.4533
I0305 06:40:05.095689       1 gateway.go:415] latency, selectTargetPod, 0.4534, target pod, 10.0.3.41:8000
I0305 06:40:05.095705       1 gateway.go:235] latency, HandleRequestBody, 0.4537
I0305 06:40:05.095737       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4282
I0305 06:40:05.095743       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.095747       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.095923       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.096000       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:05.096007       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.111365       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1adf62dc-08d7-44b6-b5db-9db1b7fa9302"
I0305 06:40:05.128162       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9a40b6d9, selectedpod, 10.0.1.28:8000, ttft, 352, tpot, 16, e2e, 501, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:05.128183       1 gateway.go:748] "Request completed" requestID="c0bedc47-9856-427b-a1b2-a640e90361aa" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:05.128193       1 gateway.go:764] "HandleResponseBody completed" requestID="c0bedc47-9856-427b-a1b2-a640e90361aa" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:05.140364       1 gateway.go:329] "-- In RequestBody processing ..." requestID="75bc3d9b-1177-4f94-9415-6fd0255a2050"
I0305 06:40:05.146584       1 gateway.go:608] "First token received" requestID="1adf62dc-08d7-44b6-b5db-9db1b7fa9302" ttft_ms=504
I0305 06:40:05.150091       1 gateway.go:329] "-- In RequestBody processing ..." requestID="139f00bb-59db-4b40-a2f9-0f06b8732760"
I0305 06:40:05.150300       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="139f00bb-59db-4b40-a2f9-0f06b8732760" model="qwen2-5-7b-instruct"
I0305 06:40:05.178750       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="75bc3d9b-1177-4f94-9415-6fd0255a2050" model="qwen2-5-7b-instruct"
I0305 06:40:05.179828       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0838, numInputTokens, 7599
I0305 06:40:05.179841       1 tree.go:471] Updated node(0) last access: 163.2778 seconds
I0305 06:40:05.179847       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.179850       1 tree.go:471] Updated node(2) last access: 163.2778 seconds
I0305 06:40:05.179863       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:05.179865       1 tree.go:471] Updated node(53) last access: 163.2778 seconds
I0305 06:40:05.179868       1 tree.go:490] Partial tokens match child node(181). Continue to go deeper in the radix tree
I0305 06:40:05.179872       1 tree.go:471] Updated node(181) last access: 163.2778 seconds
I0305 06:40:05.179877       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:05.179882       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:05.179890       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:05.179896       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:05.179903       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.179885247 +0000 UTC m=+163.396612112]
I0305 06:40:05.179917       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:05.179924       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:05.179996       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7483
I0305 06:40:05.180006       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.180012       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.180019       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.180023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.180027       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.180034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.180043       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.180051       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:05.180060       1 prefix_cache_and_load.go:584] latency, Route, 0.5125
I0305 06:40:05.180074       1 gateway.go:415] latency, selectTargetPod, 0.5125, target pod, 10.0.0.34:8000
I0305 06:40:05.180084       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4674
I0305 06:40:05.180093       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.180097       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.180087       1 gateway.go:235] latency, HandleRequestBody, 0.5128
I0305 06:40:05.180247       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.180307       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:05.180312       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.187436       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6597b6bb, selectedpod, 10.0.0.39:8000, ttft, 380, tpot, 19, e2e, 554, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:05.187463       1 gateway.go:748] "Request completed" requestID="e1eac20c-c5e1-430c-ad8e-e2b60f119796" targetPod="10.0.0.39:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:05.187478       1 gateway.go:764] "HandleResponseBody completed" requestID="e1eac20c-c5e1-430c-ad8e-e2b60f119796" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:05.198417       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="be8581b7-a107-4b9b-866d-311d66b20e4b"
I0305 06:40:05.212076       1 gateway.go:329] "-- In RequestBody processing ..." requestID="455037a3-2473-4143-8508-4620e199e761"
I0305 06:40:05.212293       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="455037a3-2473-4143-8508-4620e199e761" model="qwen2-5-7b-instruct"
I0305 06:40:05.230802       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0505, numInputTokens, 7600
I0305 06:40:05.230817       1 tree.go:471] Updated node(0) last access: 163.3288 seconds
I0305 06:40:05.230823       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.230826       1 tree.go:471] Updated node(2) last access: 163.3288 seconds
I0305 06:40:05.230838       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:05.230842       1 tree.go:471] Updated node(12) last access: 163.3288 seconds
I0305 06:40:05.230847       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:40:05.230852       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:05.230859       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:05.230864       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:40:05.230869       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.230854468 +0000 UTC m=+163.447581334]
I0305 06:40:05.230883       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:40:05.230889       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:40:05.230944       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7478
I0305 06:40:05.230955       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.230962       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.230966       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.230983       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.230990       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.231009       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.231019       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:05.231028       1 prefix_cache_and_load.go:584] latency, Route, 0.5183
I0305 06:40:05.231042       1 gateway.go:415] latency, selectTargetPod, 0.5184, target pod, 10.0.0.39:8000
I0305 06:40:05.231052       1 gateway.go:235] latency, HandleRequestBody, 0.5187
I0305 06:40:05.231056       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4440
I0305 06:40:05.231068       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.231073       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.231275       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.231337       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:05.231343       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.241476       1 gateway.go:608] "First token received" requestID="be8581b7-a107-4b9b-866d-311d66b20e4b" ttft_ms=574
I0305 06:40:05.250489       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="654638ab-2cf2-41e0-a510-238670c8f35b"
I0305 06:40:05.293476       1 gateway.go:608] "First token received" requestID="654638ab-2cf2-41e0-a510-238670c8f35b" ttft_ms=581
I0305 06:40:05.301966       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4746dbed, selectedpod, 10.0.0.34:8000, ttft, 450, tpot, 23, e2e, 666, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:05.302004       1 gateway.go:748] "Request completed" requestID="446a1508-f455-4630-aaed-bf3d3aa32f01" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:05.302021       1 gateway.go:764] "HandleResponseBody completed" requestID="446a1508-f455-4630-aaed-bf3d3aa32f01" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:05.315605       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0843, numInputTokens, 7591
I0305 06:40:05.315625       1 tree.go:471] Updated node(0) last access: 163.4136 seconds
I0305 06:40:05.315631       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.315636       1 tree.go:471] Updated node(2) last access: 163.4136 seconds
I0305 06:40:05.315651       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:05.315655       1 tree.go:471] Updated node(26) last access: 163.4136 seconds
I0305 06:40:05.315659       1 tree.go:490] Partial tokens match child node(208). Continue to go deeper in the radix tree
I0305 06:40:05.315664       1 tree.go:471] Updated node(208) last access: 163.4136 seconds
I0305 06:40:05.315668       1 tree.go:490] Partial tokens match child node(260). Continue to go deeper in the radix tree
I0305 06:40:05.315672       1 tree.go:471] Updated node(260) last access: 163.4136 seconds
I0305 06:40:05.315676       1 tree.go:484] Entire input tokens match the child node(209)
I0305 06:40:05.315681       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7591 tokens
I0305 06:40:05.315688       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7591 tokens
I0305 06:40:05.315694       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:05.315699       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.315683009 +0000 UTC m=+163.532409882 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:47.482425428 +0000 UTC m=+145.699152293]
I0305 06:40:05.315718       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7591, Matched tokens: 7591, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:05.315724       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:05.315807       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7591
I0305 06:40:05.315816       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.315824       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.315830       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.315836       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.315841       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.315847       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.315851       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.315863       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.315873       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:05.315883       1 prefix_cache_and_load.go:584] latency, Route, 0.5288
I0305 06:40:05.315900       1 gateway.go:415] latency, selectTargetPod, 0.5289, target pod, 10.0.3.41:8000
I0305 06:40:05.315917       1 gateway.go:235] latency, HandleRequestBody, 0.5292
I0305 06:40:05.315947       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5023
I0305 06:40:05.315952       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.315956       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.316113       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.316169       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:05.316174       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.319671       1 gateway.go:562] latency, 0.0000, summary, hash(request), db40a31f, selectedpod, 10.0.3.41:8000, ttft, 504, tpot, 19, e2e, 677, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:40:05.319692       1 gateway.go:748] "Request completed" requestID="1adf62dc-08d7-44b6-b5db-9db1b7fa9302" targetPod="10.0.3.41:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:40:05.319705       1 gateway.go:764] "HandleResponseBody completed" requestID="1adf62dc-08d7-44b6-b5db-9db1b7fa9302" promptTokens=7613 completionTokens=10 stream=true
I0305 06:40:05.331605       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="33695f23-fafa-41f6-b28b-5e6aea2d27f1"
I0305 06:40:05.367032       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0509, numInputTokens, 7604
I0305 06:40:05.367049       1 tree.go:471] Updated node(0) last access: 163.4650 seconds
I0305 06:40:05.367055       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.367059       1 tree.go:471] Updated node(2) last access: 163.4650 seconds
I0305 06:40:05.367071       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:05.367076       1 tree.go:471] Updated node(31) last access: 163.4650 seconds
I0305 06:40:05.367080       1 tree.go:484] Entire input tokens match the child node(210)
I0305 06:40:05.367085       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 06:40:05.367091       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 06:40:05.367097       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:40:05.367103       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.367086931 +0000 UTC m=+163.583813803 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:47.701977971 +0000 UTC m=+145.918704846]
I0305 06:40:05.367120       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7604, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:05.367127       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:05.367201       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7604
I0305 06:40:05.367210       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.367217       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.367221       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.367227       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.367231       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.367242       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.367251       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:05.367261       1 prefix_cache_and_load.go:584] latency, Route, 0.5536
I0305 06:40:05.367274       1 gateway.go:415] latency, selectTargetPod, 0.5536, target pod, 10.0.1.28:8000
I0305 06:40:05.367284       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5366
I0305 06:40:05.367294       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.367298       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.367287       1 gateway.go:235] latency, HandleRequestBody, 0.5540
I0305 06:40:05.367505       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.367580       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:05.367587       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.378720       1 gateway.go:608] "First token received" requestID="33695f23-fafa-41f6-b28b-5e6aea2d27f1" ttft_ms=591
I0305 06:40:05.389644       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="357af0bb-8f85-41b4-b724-a803cdfc27e6"
I0305 06:40:05.418199       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4292a327, selectedpod, 10.0.0.34:8000, ttft, 574, tpot, 19, e2e, 750, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:05.418226       1 gateway.go:748] "Request completed" requestID="be8581b7-a107-4b9b-866d-311d66b20e4b" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:05.418242       1 gateway.go:764] "HandleResponseBody completed" requestID="be8581b7-a107-4b9b-866d-311d66b20e4b" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:05.418384       1 gateway.go:608] "First token received" requestID="357af0bb-8f85-41b4-b724-a803cdfc27e6" ttft_ms=605
I0305 06:40:05.427686       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0601, numInputTokens, 7599
I0305 06:40:05.427704       1 tree.go:471] Updated node(0) last access: 163.5256 seconds
I0305 06:40:05.427710       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.427714       1 tree.go:471] Updated node(2) last access: 163.5257 seconds
I0305 06:40:05.427727       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:05.427731       1 tree.go:471] Updated node(26) last access: 163.5257 seconds
I0305 06:40:05.427735       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 06:40:05.427737       1 tree.go:471] Updated node(75) last access: 163.5257 seconds
I0305 06:40:05.427740       1 tree.go:490] Partial tokens match child node(213). Continue to go deeper in the radix tree
I0305 06:40:05.427742       1 tree.go:471] Updated node(213) last access: 163.5257 seconds
I0305 06:40:05.427746       1 tree.go:484] Entire input tokens match the child node(214)
I0305 06:40:05.427750       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:05.427760       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:05.427765       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:05.427774       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.427755479 +0000 UTC m=+163.644482344 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:48.209537146 +0000 UTC m=+146.426264010]
I0305 06:40:05.427795       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:05.427805       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:05.427879       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7599
I0305 06:40:05.427892       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.427904       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.427910       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.427919       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.427922       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.427927       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.427931       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.427946       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.427958       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:05.427979       1 prefix_cache_and_load.go:584] latency, Route, 0.5973
I0305 06:40:05.427997       1 gateway.go:415] latency, selectTargetPod, 0.5973, target pod, 10.0.3.41:8000
I0305 06:40:05.428010       1 gateway.go:235] latency, HandleRequestBody, 0.5977
I0305 06:40:05.428044       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5907
I0305 06:40:05.428051       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.428056       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.428207       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.428275       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:05.428283       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.443474       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cb472620-c3df-47b6-a4fe-8eb77952ebbd"
I0305 06:40:05.467073       1 gateway.go:562] latency, 0.0000, summary, hash(request), 340fc362, selectedpod, 10.0.0.39:8000, ttft, 581, tpot, 19, e2e, 754, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:05.467095       1 gateway.go:748] "Request completed" requestID="654638ab-2cf2-41e0-a510-238670c8f35b" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:05.467107       1 gateway.go:764] "HandleResponseBody completed" requestID="654638ab-2cf2-41e0-a510-238670c8f35b" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:05.492083       1 gateway.go:608] "First token received" requestID="cb472620-c3df-47b6-a4fe-8eb77952ebbd" ttft_ms=661
I0305 06:40:05.499536       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0712, numInputTokens, 7599
I0305 06:40:05.499553       1 tree.go:471] Updated node(0) last access: 163.5975 seconds
I0305 06:40:05.499559       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.499562       1 tree.go:471] Updated node(2) last access: 163.5975 seconds
I0305 06:40:05.499574       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:05.499579       1 tree.go:471] Updated node(26) last access: 163.5975 seconds
I0305 06:40:05.499586       1 tree.go:484] Entire input tokens match the child node(212)
I0305 06:40:05.499592       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:05.499599       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:05.499607       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:05.499615       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.499594269 +0000 UTC m=+163.716321133 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:48.121586889 +0000 UTC m=+146.338313765]
I0305 06:40:05.499677       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0001, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:05.499687       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:05.499764       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7599
I0305 06:40:05.499774       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.499785       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.499792       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.499799       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.499804       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.499822       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.499836       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:05.499849       1 prefix_cache_and_load.go:584] latency, Route, 0.6625
I0305 06:40:05.499867       1 gateway.go:415] latency, selectTargetPod, 0.6625, target pod, 10.0.3.41:8000
I0305 06:40:05.499879       1 gateway.go:235] latency, HandleRequestBody, 0.6630
I0305 06:40:05.499923       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6588
I0305 06:40:05.499928       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.499931       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.500139       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.500203       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:05.500211       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.514710       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e1240e71-1704-41e2-98e0-8114f17e2b70"
I0305 06:40:05.538607       1 gateway.go:207] "Processing request" requestID="427d97eb-e881-4205-8acf-71d161843f10"
I0305 06:40:05.538638       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="427d97eb-e881-4205-8acf-71d161843f10"
I0305 06:40:05.538645       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:05.547268       1 gateway.go:329] "-- In RequestBody processing ..." requestID="427d97eb-e881-4205-8acf-71d161843f10"
I0305 06:40:05.547535       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="427d97eb-e881-4205-8acf-71d161843f10" model="qwen2-5-7b-instruct"
I0305 06:40:05.561981       1 gateway.go:608] "First token received" requestID="e1240e71-1704-41e2-98e0-8114f17e2b70" ttft_ms=725
I0305 06:40:05.587844       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0876, numInputTokens, 7597
I0305 06:40:05.587864       1 tree.go:471] Updated node(0) last access: 163.6858 seconds
I0305 06:40:05.587870       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.587874       1 tree.go:471] Updated node(2) last access: 163.6858 seconds
I0305 06:40:05.587887       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:05.587891       1 tree.go:471] Updated node(45) last access: 163.6858 seconds
I0305 06:40:05.587895       1 tree.go:490] Partial tokens match child node(173). Continue to go deeper in the radix tree
I0305 06:40:05.587899       1 tree.go:471] Updated node(173) last access: 163.6858 seconds
I0305 06:40:05.587904       1 tree.go:484] Entire input tokens match the child node(211)
I0305 06:40:05.587907       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:05.587915       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:05.587920       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:05.587927       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.587910605 +0000 UTC m=+163.804637470 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:47.75223882 +0000 UTC m=+145.968965684]
I0305 06:40:05.587943       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:05.587951       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:05.588093       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7597
I0305 06:40:05.588103       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.588110       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.588116       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.588120       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.588125       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.588128       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.588139       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.588148       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:05.588159       1 prefix_cache_and_load.go:584] latency, Route, 0.7470
I0305 06:40:05.588176       1 gateway.go:415] latency, selectTargetPod, 0.7470, target pod, 10.0.0.34:8000
I0305 06:40:05.588187       1 gateway.go:235] latency, HandleRequestBody, 0.7473
I0305 06:40:05.588222       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7089
I0305 06:40:05.588226       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.588230       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.588356       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.588411       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:05.588416       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.591596       1 gateway.go:562] latency, 0.0000, summary, hash(request), b58ebdd3, selectedpod, 10.0.1.28:8000, ttft, 605, tpot, 19, e2e, 778, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 06:40:05.591614       1 gateway.go:748] "Request completed" requestID="357af0bb-8f85-41b4-b724-a803cdfc27e6" targetPod="10.0.1.28:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 06:40:05.591627       1 gateway.go:764] "HandleResponseBody completed" requestID="357af0bb-8f85-41b4-b724-a803cdfc27e6" promptTokens=7623 completionTokens=10 stream=true
I0305 06:40:05.603796       1 gateway.go:562] latency, 0.0000, summary, hash(request), a6d0f85c, selectedpod, 10.0.3.41:8000, ttft, 591, tpot, 25, e2e, 817, numInputTokens, 7610, numOutputTokens, 10, numTotalTokens, 7620
I0305 06:40:05.603817       1 gateway.go:748] "Request completed" requestID="33695f23-fafa-41f6-b28b-5e6aea2d27f1" targetPod="10.0.3.41:8000" promptTokens=7610 completionTokens=10 totalTokens=7620
I0305 06:40:05.603829       1 gateway.go:764] "HandleResponseBody completed" requestID="33695f23-fafa-41f6-b28b-5e6aea2d27f1" promptTokens=7610 completionTokens=10 stream=true
I0305 06:40:05.606899       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="873e1aff-6bc7-484a-a682-0ca0aace9530"
I0305 06:40:05.631445       1 gateway.go:608] "First token received" requestID="873e1aff-6bc7-484a-a682-0ca0aace9530" ttft_ms=790
I0305 06:40:05.638347       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 7600
I0305 06:40:05.638385       1 tree.go:471] Updated node(0) last access: 163.7363 seconds
I0305 06:40:05.638394       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.638399       1 tree.go:471] Updated node(2) last access: 163.7363 seconds
I0305 06:40:05.638416       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:05.638420       1 tree.go:471] Updated node(8) last access: 163.7364 seconds
I0305 06:40:05.638425       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:40:05.638430       1 tree.go:471] Updated node(85) last access: 163.7364 seconds
I0305 06:40:05.638447       1 tree.go:667] Split complete - New node(310)
I0305 06:40:05.638456       1 tree.go:668] Split complete - Child node(238)
I0305 06:40:05.638462       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:40:05.638467       1 tree.go:471] Updated node(310) last access: 163.7364 seconds
I0305 06:40:05.638474       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:05.638478       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:05.638488       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:05.638495       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:05.638502       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.638480845 +0000 UTC m=+163.855207724]
I0305 06:40:05.638538       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:05.638547       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:05.638707       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7484
I0305 06:40:05.638718       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:40:05.638729       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.638736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.638745       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.638752       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.638761       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.638769       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.638789       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.638799       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:05.638813       1 prefix_cache_and_load.go:584] latency, Route, 0.7595
I0305 06:40:05.638825       1 gateway.go:415] latency, selectTargetPod, 0.7595, target pod, 10.0.1.53:8000
I0305 06:40:05.638840       1 gateway.go:235] latency, HandleRequestBody, 0.7598
I0305 06:40:05.639023       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6999
I0305 06:40:05.639035       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.639039       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.639344       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.639534       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:05.639542       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.658962       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e7aad495-7037-40bd-9130-705a0d59ac66"
I0305 06:40:05.694945       1 gateway.go:608] "First token received" requestID="e7aad495-7037-40bd-9130-705a0d59ac66" ttft_ms=815
I0305 06:40:05.704331       1 gateway.go:562] latency, 0.0000, summary, hash(request), aa2820a2, selectedpod, 10.0.3.41:8000, ttft, 661, tpot, 23, e2e, 873, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:05.704352       1 gateway.go:748] "Request completed" requestID="cb472620-c3df-47b6-a4fe-8eb77952ebbd" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:05.704366       1 gateway.go:764] "HandleResponseBody completed" requestID="cb472620-c3df-47b6-a4fe-8eb77952ebbd" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:05.720839       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0813, numInputTokens, 7597
I0305 06:40:05.720858       1 tree.go:471] Updated node(0) last access: 163.8188 seconds
I0305 06:40:05.720863       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.720867       1 tree.go:471] Updated node(2) last access: 163.8188 seconds
I0305 06:40:05.720879       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:05.720883       1 tree.go:471] Updated node(8) last access: 163.8188 seconds
I0305 06:40:05.720887       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:40:05.720891       1 tree.go:471] Updated node(85) last access: 163.8188 seconds
I0305 06:40:05.720897       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:05.720902       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:05.720909       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:05.720916       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:05.720921       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.720904397 +0000 UTC m=+163.937631262]
I0305 06:40:05.720934       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7481, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:05.720940       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:05.721014       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7481
I0305 06:40:05.721023       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.721031       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.721036       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.721040       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.721044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.721048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.721057       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.721066       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:05.721077       1 prefix_cache_and_load.go:584] latency, Route, 0.7820
I0305 06:40:05.721092       1 gateway.go:415] latency, selectTargetPod, 0.7820, target pod, 10.0.1.53:8000
I0305 06:40:05.721102       1 gateway.go:235] latency, HandleRequestBody, 0.7887
I0305 06:40:05.721101       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7415
I0305 06:40:05.721109       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.721116       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.721304       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.721375       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:05.721381       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.739700       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="081ba4ed-cb71-459c-a9ab-9da76ddb9930"
I0305 06:40:05.741238       1 gateway.go:207] "Processing request" requestID="d0f17a41-b47c-4548-a517-c4ac23e72de9"
I0305 06:40:05.741276       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d0f17a41-b47c-4548-a517-c4ac23e72de9"
I0305 06:40:05.741288       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:05.744045       1 gateway.go:562] latency, 0.0000, summary, hash(request), bf1bee4e, selectedpod, 10.0.3.41:8000, ttft, 725, tpot, 20, e2e, 907, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:05.744063       1 gateway.go:748] "Request completed" requestID="e1240e71-1704-41e2-98e0-8114f17e2b70" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:05.744073       1 gateway.go:764] "HandleResponseBody completed" requestID="e1240e71-1704-41e2-98e0-8114f17e2b70" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:05.757297       1 gateway.go:207] "Processing request" requestID="20e2376f-8478-4d87-9a01-9b57a2e11e4f"
I0305 06:40:05.757318       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="20e2376f-8478-4d87-9a01-9b57a2e11e4f"
I0305 06:40:05.757326       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:05.763664       1 gateway.go:207] "Processing request" requestID="03efe6f5-b6d6-4703-94b8-0c66d2c80c3f"
I0305 06:40:05.763693       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="03efe6f5-b6d6-4703-94b8-0c66d2c80c3f"
I0305 06:40:05.763702       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:05.770960       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0496, numInputTokens, 7599
I0305 06:40:05.770987       1 tree.go:471] Updated node(0) last access: 163.8689 seconds
I0305 06:40:05.770993       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.770996       1 tree.go:471] Updated node(2) last access: 163.8689 seconds
I0305 06:40:05.771012       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:05.771017       1 tree.go:471] Updated node(53) last access: 163.8690 seconds
I0305 06:40:05.771022       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 06:40:05.771026       1 tree.go:471] Updated node(43) last access: 163.8690 seconds
I0305 06:40:05.771030       1 tree.go:490] Partial tokens match child node(289). Continue to go deeper in the radix tree
I0305 06:40:05.771033       1 tree.go:471] Updated node(289) last access: 163.8690 seconds
I0305 06:40:05.771039       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:40:05.771044       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:05.771051       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:05.771057       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:05.771063       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.77104642 +0000 UTC m=+163.987773294]
I0305 06:40:05.771079       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7485, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:40:05.771089       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:40:05.771158       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7485
I0305 06:40:05.771171       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.771180       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.771185       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.771189       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.771194       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.771199       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.771202       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.771216       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.771226       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:05.771235       1 prefix_cache_and_load.go:584] latency, Route, 0.7916
I0305 06:40:05.771251       1 gateway.go:415] latency, selectTargetPod, 0.7916, target pod, 10.0.0.34:8000
I0305 06:40:05.771261       1 gateway.go:235] latency, HandleRequestBody, 0.7923
I0305 06:40:05.771298       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7741
I0305 06:40:05.771310       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.771314       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.771525       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.771603       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:05.771609       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.789732       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5be668c1-86f2-43ac-a8f7-a15f645bce2a"
I0305 06:40:05.793116       1 gateway.go:608] "First token received" requestID="081ba4ed-cb71-459c-a9ab-9da76ddb9930" ttft_ms=860
I0305 06:40:05.815214       1 gateway.go:562] latency, 0.0000, summary, hash(request), 05ec3e72, selectedpod, 10.0.0.34:8000, ttft, 790, tpot, 20, e2e, 974, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:05.815234       1 gateway.go:748] "Request completed" requestID="873e1aff-6bc7-484a-a682-0ca0aace9530" targetPod="10.0.0.34:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:05.815245       1 gateway.go:764] "HandleResponseBody completed" requestID="873e1aff-6bc7-484a-a682-0ca0aace9530" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:05.828249       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0566, numInputTokens, 7601
I0305 06:40:05.828268       1 tree.go:471] Updated node(0) last access: 163.9262 seconds
I0305 06:40:05.828274       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.828278       1 tree.go:471] Updated node(2) last access: 163.9262 seconds
I0305 06:40:05.828291       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:05.828297       1 tree.go:471] Updated node(18) last access: 163.9262 seconds
I0305 06:40:05.828302       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 06:40:05.828305       1 tree.go:471] Updated node(219) last access: 163.9262 seconds
I0305 06:40:05.828312       1 tree.go:490] Partial tokens match child node(276). Continue to go deeper in the radix tree
I0305 06:40:05.828316       1 tree.go:471] Updated node(276) last access: 163.9263 seconds
I0305 06:40:05.828324       1 tree.go:484] Entire input tokens match the child node(220)
I0305 06:40:05.828329       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:05.828336       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:05.828342       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:05.828347       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.828331838 +0000 UTC m=+164.045058710 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:48.814031463 +0000 UTC m=+147.030758327]
I0305 06:40:05.828362       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:05.828369       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:05.828446       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7601
I0305 06:40:05.828455       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.828463       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.828466       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.828474       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.828481       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.828489       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.828496       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.828507       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.828531       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:05.828549       1 prefix_cache_and_load.go:584] latency, Route, 0.8314
I0305 06:40:05.828566       1 gateway.go:415] latency, selectTargetPod, 0.8314, target pod, 10.0.0.131:8000
I0305 06:40:05.828578       1 gateway.go:235] latency, HandleRequestBody, 0.8317
I0305 06:40:05.828610       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8177
I0305 06:40:05.828615       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.828617       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.828737       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.828791       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:05.828796       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.837268       1 gateway.go:608] "First token received" requestID="5be668c1-86f2-43ac-a8f7-a15f645bce2a" ttft_ms=858
I0305 06:40:05.847637       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="17f978c7-e69e-42ef-bf03-811bd6ff9331"
I0305 06:40:05.879579       1 gateway.go:608] "First token received" requestID="17f978c7-e69e-42ef-bf03-811bd6ff9331" ttft_ms=882
I0305 06:40:05.902419       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0736, numInputTokens, 7596
I0305 06:40:05.902455       1 tree.go:471] Updated node(0) last access: 164.0004 seconds
I0305 06:40:05.902544       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.902550       1 tree.go:471] Updated node(2) last access: 164.0005 seconds
I0305 06:40:05.902575       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:05.902583       1 tree.go:471] Updated node(45) last access: 164.0005 seconds
I0305 06:40:05.902588       1 tree.go:490] Partial tokens match child node(221). Continue to go deeper in the radix tree
I0305 06:40:05.902596       1 tree.go:471] Updated node(221) last access: 164.0005 seconds
I0305 06:40:05.902603       1 tree.go:484] Entire input tokens match the child node(222)
I0305 06:40:05.902612       1 tree.go:449] latency, insertHelper, 0.0002 seconds, 7596 tokens
I0305 06:40:05.902626       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:05.902640       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 06:40:05.902652       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.902619957 +0000 UTC m=+164.119346831 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:49.010713954 +0000 UTC m=+147.227440819]
I0305 06:40:05.902677       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:05.902688       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:05.902922       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7596
I0305 06:40:05.902956       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0003
I0305 06:40:05.902974       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.902984       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.902990       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.902996       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.903001       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.903012       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.903025       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:05.903041       1 prefix_cache_and_load.go:584] latency, Route, 0.8922
I0305 06:40:05.903055       1 gateway.go:415] latency, selectTargetPod, 0.8922, target pod, 10.0.0.34:8000
I0305 06:40:05.903068       1 gateway.go:235] latency, HandleRequestBody, 0.8925
I0305 06:40:05.903094       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8624
I0305 06:40:05.903098       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.903101       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.903355       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.903463       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:05.903468       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:05.913589       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5b7afd2e, selectedpod, 10.0.1.53:8000, ttft, 815, tpot, 24, e2e, 1034, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:05.913618       1 gateway.go:748] "Request completed" requestID="e7aad495-7037-40bd-9130-705a0d59ac66" targetPod="10.0.1.53:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:05.913634       1 gateway.go:764] "HandleResponseBody completed" requestID="e7aad495-7037-40bd-9130-705a0d59ac66" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:05.923297       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3ec72089-e428-4c8a-8020-aca092b1ea76"
I0305 06:40:05.961966       1 gateway.go:207] "Processing request" requestID="75bab14e-47f0-4b3f-937c-7a5187687f0a"
I0305 06:40:05.962008       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="75bab14e-47f0-4b3f-937c-7a5187687f0a"
I0305 06:40:05.962020       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:05.961965       1 gateway.go:207] "Processing request" requestID="c77cb2ee-5f43-40b5-84d1-a62b5cc065f0"
I0305 06:40:05.962057       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c77cb2ee-5f43-40b5-84d1-a62b5cc065f0"
I0305 06:40:05.962066       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:05.962815       1 gateway.go:608] "First token received" requestID="3ec72089-e428-4c8a-8020-aca092b1ea76" ttft_ms=952
I0305 06:40:05.978590       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c77cb2ee-5f43-40b5-84d1-a62b5cc065f0"
I0305 06:40:05.978639       1 gateway.go:562] latency, 0.0000, summary, hash(request), 956641d3, selectedpod, 10.0.1.53:8000, ttft, 860, tpot, 20, e2e, 1046, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:05.978655       1 gateway.go:748] "Request completed" requestID="081ba4ed-cb71-459c-a9ab-9da76ddb9930" targetPod="10.0.1.53:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:05.978665       1 gateway.go:764] "HandleResponseBody completed" requestID="081ba4ed-cb71-459c-a9ab-9da76ddb9930" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:05.983888       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c77cb2ee-5f43-40b5-84d1-a62b5cc065f0" model="qwen2-5-7b-instruct"
I0305 06:40:05.997260       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0938, numInputTokens, 7597
I0305 06:40:05.997278       1 tree.go:471] Updated node(0) last access: 164.0952 seconds
I0305 06:40:05.997285       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:05.997292       1 tree.go:471] Updated node(2) last access: 164.0952 seconds
I0305 06:40:05.997306       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:05.997311       1 tree.go:471] Updated node(51) last access: 164.0953 seconds
I0305 06:40:05.997321       1 tree.go:667] Split complete - New node(314)
I0305 06:40:05.997326       1 tree.go:668] Split complete - Child node(196)
I0305 06:40:05.997333       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:40:05.997340       1 tree.go:471] Updated node(314) last access: 164.0953 seconds
I0305 06:40:05.997348       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:40:05.997355       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:05.997365       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:05.997375       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:05.997383       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:05.997359372 +0000 UTC m=+164.214086244]
I0305 06:40:05.997400       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7482, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:40:05.997408       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:40:05.997477       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7482
I0305 06:40:05.997486       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:05.997493       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.997498       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.997505       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.997522       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.997530       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:05.997547       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:05.997560       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:05.997573       1 prefix_cache_and_load.go:584] latency, Route, 0.9569
I0305 06:40:05.997592       1 gateway.go:415] latency, selectTargetPod, 0.9569, target pod, 10.0.1.28:8000
I0305 06:40:05.997603       1 gateway.go:235] latency, HandleRequestBody, 0.9572
I0305 06:40:05.997637       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9466
I0305 06:40:05.997643       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:05.997647       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:05.997816       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:05.997869       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:05.997874       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:06.017772       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="aa90100c-2e88-4b92-87a3-7271c2ff6976"
I0305 06:40:06.044852       1 gateway.go:562] latency, 0.0001, summary, hash(request), fca3135c, selectedpod, 10.0.0.34:8000, ttft, 858, tpot, 23, e2e, 1065, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:06.044872       1 gateway.go:748] "Request completed" requestID="5be668c1-86f2-43ac-a8f7-a15f645bce2a" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:06.044881       1 gateway.go:764] "HandleResponseBody completed" requestID="5be668c1-86f2-43ac-a8f7-a15f645bce2a" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:06.047353       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0495, numInputTokens, 7601
I0305 06:40:06.047387       1 tree.go:471] Updated node(0) last access: 164.1453 seconds
I0305 06:40:06.047396       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:06.047400       1 tree.go:471] Updated node(2) last access: 164.1453 seconds
I0305 06:40:06.047417       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:06.047421       1 tree.go:471] Updated node(23) last access: 164.1454 seconds
I0305 06:40:06.047427       1 tree.go:490] Partial tokens match child node(80). Continue to go deeper in the radix tree
I0305 06:40:06.047431       1 tree.go:471] Updated node(80) last access: 164.1454 seconds
I0305 06:40:06.047436       1 tree.go:490] Partial tokens match child node(248). Continue to go deeper in the radix tree
I0305 06:40:06.047439       1 tree.go:471] Updated node(248) last access: 164.1454 seconds
I0305 06:40:06.047474       1 tree.go:667] Split complete - New node(316)
I0305 06:40:06.047478       1 tree.go:668] Split complete - Child node(25)
I0305 06:40:06.047484       1 tree.go:501] latency, splitNode, 0.0000 seconds, 111 tokens:
I0305 06:40:06.047490       1 tree.go:471] Updated node(316) last access: 164.1454 seconds
I0305 06:40:06.047496       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0305 06:40:06.047501       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:06.047523       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:06.047530       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:06.047554       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:06.047503566 +0000 UTC m=+164.264230430]
I0305 06:40:06.047623       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0001, Total tokens: 7601, Matched tokens: 7493, Matching ratio: 0.9858, # Matched pods: 0, Matched pods: []
I0305 06:40:06.047642       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9858 > 0.5000)
I0305 06:40:06.047758       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7493
I0305 06:40:06.047768       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:06.047776       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.047782       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.047786       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.047793       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.047797       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.047804       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.047812       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.047825       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:06.047835       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:06.047848       1 prefix_cache_and_load.go:584] latency, Route, 0.9968
I0305 06:40:06.047862       1 gateway.go:415] latency, selectTargetPod, 0.9969, target pod, 10.0.3.42:8000
I0305 06:40:06.047879       1 gateway.go:235] latency, HandleRequestBody, 0.9972
I0305 06:40:06.047908       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9834
I0305 06:40:06.047915       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:06.047919       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:06.048209       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:06.048400       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:06.048423       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:06.078631       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2954a542-2111-416a-9e03-5a590a7612b0"
I0305 06:40:06.079110       1 gateway.go:608] "First token received" requestID="aa90100c-2e88-4b92-87a3-7271c2ff6976" ttft_ms=1038
I0305 06:40:06.079167       1 gateway.go:562] latency, 0.0000, summary, hash(request), e3f195b9, selectedpod, 10.0.0.131:8000, ttft, 882, tpot, 22, e2e, 1082, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:06.079188       1 gateway.go:748] "Request completed" requestID="17f978c7-e69e-42ef-bf03-811bd6ff9331" targetPod="10.0.0.131:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:06.079201       1 gateway.go:764] "HandleResponseBody completed" requestID="17f978c7-e69e-42ef-bf03-811bd6ff9331" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:06.102681       1 gateway.go:608] "First token received" requestID="2954a542-2111-416a-9e03-5a590a7612b0" ttft_ms=1051
I0305 06:40:06.128046       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0796, numInputTokens, 7598
I0305 06:40:06.128064       1 tree.go:471] Updated node(0) last access: 164.2260 seconds
I0305 06:40:06.128070       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:06.128073       1 tree.go:471] Updated node(2) last access: 164.2260 seconds
I0305 06:40:06.128090       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:06.128096       1 tree.go:471] Updated node(53) last access: 164.2260 seconds
I0305 06:40:06.128101       1 tree.go:490] Partial tokens match child node(181). Continue to go deeper in the radix tree
I0305 06:40:06.128105       1 tree.go:471] Updated node(181) last access: 164.2260 seconds
I0305 06:40:06.128117       1 tree.go:667] Split complete - New node(318)
I0305 06:40:06.128121       1 tree.go:668] Split complete - Child node(182)
I0305 06:40:06.128125       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 06:40:06.128131       1 tree.go:471] Updated node(318) last access: 164.2261 seconds
I0305 06:40:06.128135       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 06:40:06.128140       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:06.128146       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:06.128151       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:06.128156       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:06.128141902 +0000 UTC m=+164.344868767]
I0305 06:40:06.128170       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7486, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 06:40:06.128180       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 06:40:06.128243       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7486
I0305 06:40:06.128256       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:06.128266       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.128273       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.128278       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.128281       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.128285       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.128288       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.128299       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:06.128309       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:06.128319       1 prefix_cache_and_load.go:584] latency, Route, 1.0638
I0305 06:40:06.128336       1 gateway.go:415] latency, selectTargetPod, 1.0638, target pod, 10.0.0.34:8000
I0305 06:40:06.128346       1 gateway.go:235] latency, HandleRequestBody, 1.0641
I0305 06:40:06.128374       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0336
I0305 06:40:06.128377       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:06.128380       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:06.128503       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:06.128569       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:06.128575       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:06.141646       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2af473e3, selectedpod, 10.0.0.34:8000, ttft, 952, tpot, 19, e2e, 1131, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:06.141667       1 gateway.go:748] "Request completed" requestID="3ec72089-e428-4c8a-8020-aca092b1ea76" targetPod="10.0.0.34:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:06.141680       1 gateway.go:764] "HandleResponseBody completed" requestID="3ec72089-e428-4c8a-8020-aca092b1ea76" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:06.147185       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9a8ce062-6cde-4a7c-a31f-3d503429c4d8"
I0305 06:40:06.177428       1 gateway.go:207] "Processing request" requestID="db7fa239-9bf9-4298-8046-067bfe3ca4d0"
I0305 06:40:06.177449       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="db7fa239-9bf9-4298-8046-067bfe3ca4d0"
I0305 06:40:06.177457       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:06.191155       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0626, numInputTokens, 7598
I0305 06:40:06.191171       1 tree.go:471] Updated node(0) last access: 164.2891 seconds
I0305 06:40:06.191178       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:06.191181       1 tree.go:471] Updated node(2) last access: 164.2891 seconds
I0305 06:40:06.191194       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:06.191198       1 tree.go:471] Updated node(12) last access: 164.2891 seconds
I0305 06:40:06.191203       1 tree.go:490] Partial tokens match child node(215). Continue to go deeper in the radix tree
I0305 06:40:06.191206       1 tree.go:471] Updated node(215) last access: 164.2891 seconds
I0305 06:40:06.191210       1 tree.go:484] Entire input tokens match the child node(216)
I0305 06:40:06.191215       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:06.191221       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:06.191228       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:06.191232       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:06.191217111 +0000 UTC m=+164.407943976 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:48.396038541 +0000 UTC m=+146.612765406]
I0305 06:40:06.191251       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:06.191258       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:06.191317       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7598
I0305 06:40:06.191326       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:06.191334       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.191339       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.191343       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.191347       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.191351       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.191360       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:06.191370       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:06.191379       1 prefix_cache_and_load.go:584] latency, Route, 1.0966
I0305 06:40:06.191392       1 gateway.go:415] latency, selectTargetPod, 1.0966, target pod, 10.0.0.39:8000
I0305 06:40:06.191402       1 gateway.go:235] latency, HandleRequestBody, 1.1000
I0305 06:40:06.191405       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0410
I0305 06:40:06.191417       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:06.191424       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:06.191643       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:06.191713       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:06.191720       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:06.193487       1 gateway.go:608] "First token received" requestID="9a8ce062-6cde-4a7c-a31f-3d503429c4d8" ttft_ms=1129
I0305 06:40:06.199839       1 gateway.go:207] "Processing request" requestID="4c78b32b-f301-4b1c-9ae5-993e7f48c8f7"
I0305 06:40:06.199875       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4c78b32b-f301-4b1c-9ae5-993e7f48c8f7"
I0305 06:40:06.199888       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:06.200861       1 gateway.go:207] "Processing request" requestID="edf3dede-5fec-441d-82f5-1d2d974fc1fd"
I0305 06:40:06.200891       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="edf3dede-5fec-441d-82f5-1d2d974fc1fd"
I0305 06:40:06.200900       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:06.211211       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7e80cdef-0edf-4b8e-a8ad-8cb4efee0602"
I0305 06:40:06.226255       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0f49b66d, selectedpod, 10.0.1.28:8000, ttft, 1038, tpot, 16, e2e, 1185, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:06.226277       1 gateway.go:748] "Request completed" requestID="aa90100c-2e88-4b92-87a3-7271c2ff6976" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:06.226289       1 gateway.go:764] "HandleResponseBody completed" requestID="aa90100c-2e88-4b92-87a3-7271c2ff6976" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:06.237010       1 gateway.go:608] "First token received" requestID="7e80cdef-0edf-4b8e-a8ad-8cb4efee0602" ttft_ms=1145
I0305 06:40:06.244192       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0525, numInputTokens, 7598
I0305 06:40:06.244212       1 tree.go:471] Updated node(0) last access: 164.3422 seconds
I0305 06:40:06.244218       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:06.244223       1 tree.go:471] Updated node(2) last access: 164.3422 seconds
I0305 06:40:06.244238       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:06.244242       1 tree.go:471] Updated node(51) last access: 164.3422 seconds
I0305 06:40:06.244248       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:40:06.244253       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:06.244259       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:06.244265       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:06.244270       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:06.244254674 +0000 UTC m=+164.460981539]
I0305 06:40:06.244286       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:40:06.244294       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:40:06.244358       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:40:06.244367       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:06.244375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.244381       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.244387       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.244391       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.244401       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:06.244409       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:06.244418       1 prefix_cache_and_load.go:584] latency, Route, 1.0940
I0305 06:40:06.244432       1 gateway.go:415] latency, selectTargetPod, 1.0940, target pod, 10.0.1.28:8000
I0305 06:40:06.244445       1 gateway.go:235] latency, HandleRequestBody, 1.0944
I0305 06:40:06.244474       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0656
I0305 06:40:06.244480       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:06.244482       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:06.264315       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="139f00bb-59db-4b40-a2f9-0f06b8732760"
I0305 06:40:06.275613       1 gateway.go:562] latency, 0.0000, summary, hash(request), df84980f, selectedpod, 10.0.3.42:8000, ttft, 1051, tpot, 19, e2e, 1224, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:06.275634       1 gateway.go:748] "Request completed" requestID="2954a542-2111-416a-9e03-5a590a7612b0" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:06.275646       1 gateway.go:764] "HandleResponseBody completed" requestID="2954a542-2111-416a-9e03-5a590a7612b0" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:06.278757       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:06.278870       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0344
I0305 06:40:06.278882       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:06.307194       1 gateway.go:608] "First token received" requestID="139f00bb-59db-4b40-a2f9-0f06b8732760" ttft_ms=1157
I0305 06:40:06.333193       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0543, numInputTokens, 7595
I0305 06:40:06.333211       1 tree.go:471] Updated node(0) last access: 164.4312 seconds
I0305 06:40:06.333217       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:06.333221       1 tree.go:471] Updated node(2) last access: 164.4312 seconds
I0305 06:40:06.333234       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:06.333238       1 tree.go:471] Updated node(31) last access: 164.4312 seconds
I0305 06:40:06.333241       1 tree.go:490] Partial tokens match child node(217). Continue to go deeper in the radix tree
I0305 06:40:06.333243       1 tree.go:471] Updated node(217) last access: 164.4312 seconds
I0305 06:40:06.333247       1 tree.go:490] Partial tokens match child node(236). Continue to go deeper in the radix tree
I0305 06:40:06.333249       1 tree.go:471] Updated node(236) last access: 164.4312 seconds
I0305 06:40:06.333253       1 tree.go:484] Entire input tokens match the child node(218)
I0305 06:40:06.333258       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7595 tokens
I0305 06:40:06.333264       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:06.333271       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:06.333277       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:06.333259688 +0000 UTC m=+164.549986560 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:48.739040485 +0000 UTC m=+146.955767350]
I0305 06:40:06.333294       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7595, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:06.333300       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:06.333362       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7595
I0305 06:40:06.333372       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:06.333381       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.333388       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.333394       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.333400       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.333407       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.333411       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.333421       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:06.333430       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:06.333441       1 prefix_cache_and_load.go:584] latency, Route, 1.1546
I0305 06:40:06.333458       1 gateway.go:415] latency, selectTargetPod, 1.1546, target pod, 10.0.1.28:8000
I0305 06:40:06.333471       1 gateway.go:235] latency, HandleRequestBody, 1.1931
I0305 06:40:06.333498       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1211
I0305 06:40:06.333502       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:06.333506       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:06.333653       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:06.333708       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:06.333713       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:06.355437       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="75bc3d9b-1177-4f94-9415-6fd0255a2050"
I0305 06:40:06.366395       1 gateway.go:562] latency, 0.0000, summary, hash(request), a05adb8e, selectedpod, 10.0.0.34:8000, ttft, 1129, tpot, 19, e2e, 1302, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:06.366416       1 gateway.go:748] "Request completed" requestID="9a8ce062-6cde-4a7c-a31f-3d503429c4d8" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:06.366428       1 gateway.go:764] "HandleResponseBody completed" requestID="9a8ce062-6cde-4a7c-a31f-3d503429c4d8" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:06.376169       1 gateway.go:207] "Processing request" requestID="b2fb7c0d-235a-41ee-b617-e1f72726c28e"
I0305 06:40:06.376190       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b2fb7c0d-235a-41ee-b617-e1f72726c28e"
I0305 06:40:06.376198       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:06.387320       1 gateway.go:608] "First token received" requestID="75bc3d9b-1177-4f94-9415-6fd0255a2050" ttft_ms=1246
I0305 06:40:06.409843       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0761, numInputTokens, 7600
I0305 06:40:06.409907       1 tree.go:471] Updated node(0) last access: 164.5078 seconds
I0305 06:40:06.409929       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:06.409944       1 tree.go:471] Updated node(2) last access: 164.5079 seconds
I0305 06:40:06.409977       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:06.410004       1 tree.go:471] Updated node(53) last access: 164.5079 seconds
I0305 06:40:06.410031       1 tree.go:667] Split complete - New node(321)
I0305 06:40:06.410045       1 tree.go:668] Split complete - Child node(181)
I0305 06:40:06.410060       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 06:40:06.410099       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6c66e40b, selectedpod, 10.0.0.39:8000, ttft, 1145, tpot, 19, e2e, 1318, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:06.410136       1 tree.go:471] Updated node(321) last access: 164.5080 seconds
I0305 06:40:06.410156       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:40:06.410155       1 gateway.go:748] "Request completed" requestID="7e80cdef-0edf-4b8e-a8ad-8cb4efee0602" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:06.410226       1 gateway.go:764] "HandleResponseBody completed" requestID="7e80cdef-0edf-4b8e-a8ad-8cb4efee0602" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:06.410166       1 tree.go:449] latency, insertHelper, 0.0003 seconds, 7600 tokens
I0305 06:40:06.410270       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:06.410284       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0004
I0305 06:40:06.410293       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:06.410259236 +0000 UTC m=+164.626986117]
I0305 06:40:06.410315       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7479, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:40:06.410331       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:40:06.410437       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7479
I0305 06:40:06.410447       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:06.410454       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.410460       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.410463       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.410467       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.410486       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.410503       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:06.410524       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:06.410534       1 prefix_cache_and_load.go:584] latency, Route, 1.1982
I0305 06:40:06.410543       1 gateway.go:415] latency, selectTargetPod, 1.1982, target pod, 10.0.0.34:8000
I0305 06:40:06.410555       1 gateway.go:235] latency, HandleRequestBody, 1.1985
I0305 06:40:06.410856       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8632
I0305 06:40:06.410868       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:06.410872       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:06.411203       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:06.411401       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:06.411415       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:06.414312       1 gateway.go:207] "Processing request" requestID="9f225d62-ddf9-4312-80dd-1aa3f9294b5a"
I0305 06:40:06.414360       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9f225d62-ddf9-4312-80dd-1aa3f9294b5a"
I0305 06:40:06.414381       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:06.429212       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="455037a3-2473-4143-8508-4620e199e761"
I0305 06:40:06.471844       1 gateway.go:608] "First token received" requestID="455037a3-2473-4143-8508-4620e199e761" ttft_ms=1259
I0305 06:40:06.496152       1 gateway.go:207] "Processing request" requestID="fee6602b-379d-42b8-b571-17a907aaaf6b"
I0305 06:40:06.496193       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fee6602b-379d-42b8-b571-17a907aaaf6b"
I0305 06:40:06.496206       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:06.503428       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0920, numInputTokens, 7598
I0305 06:40:06.503446       1 tree.go:471] Updated node(0) last access: 164.6014 seconds
I0305 06:40:06.503452       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:06.503455       1 tree.go:471] Updated node(2) last access: 164.6014 seconds
I0305 06:40:06.503471       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:06.503475       1 tree.go:471] Updated node(4) last access: 164.6014 seconds
I0305 06:40:06.503486       1 tree.go:667] Split complete - New node(323)
I0305 06:40:06.503489       1 tree.go:668] Split complete - Child node(3)
I0305 06:40:06.503494       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:40:06.503497       1 tree.go:471] Updated node(323) last access: 164.6014 seconds
I0305 06:40:06.503502       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 06:40:06.503506       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:06.503519       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:06.503526       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:06.503531       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:06.503507666 +0000 UTC m=+164.720234531]
I0305 06:40:06.503546       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7489, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 06:40:06.503553       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 06:40:06.503615       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7489
I0305 06:40:06.503624       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:06.503632       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.503638       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.503643       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.503649       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.503654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.503665       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:06.503675       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:06.503683       1 prefix_cache_and_load.go:584] latency, Route, 0.9561
I0305 06:40:06.503699       1 gateway.go:415] latency, selectTargetPod, 0.9561, target pod, 10.0.1.47:8000
I0305 06:40:06.503711       1 gateway.go:235] latency, HandleRequestBody, 0.9564
I0305 06:40:06.503771       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5198
I0305 06:40:06.503777       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:06.503781       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:06.503909       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:06.503963       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:06.503976       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:06.509671       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6467654c, selectedpod, 10.0.1.28:8000, ttft, 1157, tpot, 22, e2e, 1359, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:06.509697       1 gateway.go:748] "Request completed" requestID="139f00bb-59db-4b40-a2f9-0f06b8732760" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:06.509711       1 gateway.go:764] "HandleResponseBody completed" requestID="139f00bb-59db-4b40-a2f9-0f06b8732760" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:06.523396       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="427d97eb-e881-4205-8acf-71d161843f10"
I0305 06:40:06.553927       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 7602
I0305 06:40:06.553943       1 tree.go:471] Updated node(0) last access: 164.6519 seconds
I0305 06:40:06.553949       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:06.553952       1 tree.go:471] Updated node(2) last access: 164.6519 seconds
I0305 06:40:06.553966       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:06.553977       1 tree.go:471] Updated node(8) last access: 164.6519 seconds
I0305 06:40:06.553981       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 06:40:06.553984       1 tree.go:471] Updated node(21) last access: 164.6519 seconds
I0305 06:40:06.553990       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:06.553994       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:06.554001       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:06.554007       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:06.554012       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:06.553996266 +0000 UTC m=+164.770723143]
I0305 06:40:06.554027       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7485, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:06.554033       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:06.554095       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7485
I0305 06:40:06.554104       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:06.554111       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.554116       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.554120       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.554126       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.554129       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:06.554140       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:06.554149       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:06.554159       1 prefix_cache_and_load.go:584] latency, Route, 0.5702
I0305 06:40:06.554169       1 gateway.go:415] latency, selectTargetPod, 0.5702, target pod, 10.0.1.53:8000
I0305 06:40:06.554177       1 gateway.go:235] latency, HandleRequestBody, 0.5756
I0305 06:40:06.559605       1 gateway.go:608] "First token received" requestID="427d97eb-e881-4205-8acf-71d161843f10" ttft_ms=1012
I0305 06:40:06.568167       1 gateway.go:562] latency, 0.0000, summary, hash(request), d61034cc, selectedpod, 10.0.1.28:8000, ttft, 1246, tpot, 20, e2e, 1427, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:06.568185       1 gateway.go:748] "Request completed" requestID="75bc3d9b-1177-4f94-9415-6fd0255a2050" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:06.568196       1 gateway.go:764] "HandleResponseBody completed" requestID="75bc3d9b-1177-4f94-9415-6fd0255a2050" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:06.573547       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c77cb2ee-5f43-40b5-84d1-a62b5cc065f0"
I0305 06:40:06.608080       1 gateway.go:207] "Processing request" requestID="b25f16c3-352b-4309-a423-d93d5c16330c"
I0305 06:40:06.608101       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b25f16c3-352b-4309-a423-d93d5c16330c"
I0305 06:40:06.608109       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:06.610934       1 gateway.go:608] "First token received" requestID="c77cb2ee-5f43-40b5-84d1-a62b5cc065f0" ttft_ms=632
I0305 06:40:06.645118       1 gateway.go:562] latency, 0.0000, summary, hash(request), 084b2d87, selectedpod, 10.0.0.34:8000, ttft, 1259, tpot, 19, e2e, 1432, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:06.645131       1 gateway.go:748] "Request completed" requestID="455037a3-2473-4143-8508-4620e199e761" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:06.645139       1 gateway.go:764] "HandleResponseBody completed" requestID="455037a3-2473-4143-8508-4620e199e761" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:06.688834       1 gateway.go:207] "Processing request" requestID="fc9a62d1-bf06-4385-83fc-4c0d918e7de5"
I0305 06:40:06.688860       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fc9a62d1-bf06-4385-83fc-4c0d918e7de5"
I0305 06:40:06.688868       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:06.732309       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90d49eaa, selectedpod, 10.0.1.47:8000, ttft, 1012, tpot, 19, e2e, 1184, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:06.732323       1 gateway.go:748] "Request completed" requestID="427d97eb-e881-4205-8acf-71d161843f10" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:06.732331       1 gateway.go:764] "HandleResponseBody completed" requestID="427d97eb-e881-4205-8acf-71d161843f10" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:06.736287       1 gateway.go:207] "Processing request" requestID="bbd8cc18-dc74-4cb0-88a7-041e8aaf466a"
I0305 06:40:06.736304       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bbd8cc18-dc74-4cb0-88a7-041e8aaf466a"
I0305 06:40:06.736312       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:06.782444       1 gateway.go:562] latency, 0.0001, summary, hash(request), cb96da21, selectedpod, 10.0.1.53:8000, ttft, 632, tpot, 19, e2e, 803, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:06.782457       1 gateway.go:748] "Request completed" requestID="c77cb2ee-5f43-40b5-84d1-a62b5cc065f0" targetPod="10.0.1.53:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:06.782465       1 gateway.go:764] "HandleResponseBody completed" requestID="c77cb2ee-5f43-40b5-84d1-a62b5cc065f0" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:06.787869       1 gateway.go:207] "Processing request" requestID="e374f701-07eb-4f98-a7df-180e17bb20fe"
I0305 06:40:06.787887       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e374f701-07eb-4f98-a7df-180e17bb20fe"
I0305 06:40:06.787895       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:06.847213       1 gateway.go:207] "Processing request" requestID="f6fd2da7-6b36-4a26-ba11-33477f890b98"
I0305 06:40:06.847233       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f6fd2da7-6b36-4a26-ba11-33477f890b98"
I0305 06:40:06.847241       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:06.945813       1 gateway.go:207] "Processing request" requestID="e36dfe1c-85c4-4a98-9a4d-b9ee12e9f9f7"
I0305 06:40:06.945852       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e36dfe1c-85c4-4a98-9a4d-b9ee12e9f9f7"
I0305 06:40:06.945861       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:07.031080       1 gateway.go:207] "Processing request" requestID="86606ca6-b6cb-49a4-8bb4-0e9fd581943d"
I0305 06:40:07.031112       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="86606ca6-b6cb-49a4-8bb4-0e9fd581943d"
I0305 06:40:07.031121       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:07.111118       1 gateway.go:207] "Processing request" requestID="dd3e49ed-b4eb-4b00-a7bc-b0a67426f275"
I0305 06:40:07.111145       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dd3e49ed-b4eb-4b00-a7bc-b0a67426f275"
I0305 06:40:07.111153       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:07.174242       1 gateway.go:207] "Processing request" requestID="3eccb6b2-eda4-4784-9171-b0506c7811c2"
I0305 06:40:07.174277       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3eccb6b2-eda4-4784-9171-b0506c7811c2"
I0305 06:40:07.174288       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:07.254860       1 gateway.go:207] "Processing request" requestID="cc6fc958-2184-45ae-bce1-df35f2623b5c"
I0305 06:40:07.254883       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cc6fc958-2184-45ae-bce1-df35f2623b5c"
I0305 06:40:07.254892       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:07.310157       1 gateway.go:207] "Processing request" requestID="18ac4d34-8a13-4976-9af8-8cfd7eb6d3ca"
I0305 06:40:07.310180       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="18ac4d34-8a13-4976-9af8-8cfd7eb6d3ca"
I0305 06:40:07.310189       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:07.386400       1 gateway.go:207] "Processing request" requestID="7d31131a-d43e-4e1f-9154-443c7fdd8af6"
I0305 06:40:07.386444       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7d31131a-d43e-4e1f-9154-443c7fdd8af6"
I0305 06:40:07.386458       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:07.453748       1 gateway.go:207] "Processing request" requestID="5e98cd30-9b0b-4704-87ad-d9c36ab15441"
I0305 06:40:07.453783       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5e98cd30-9b0b-4704-87ad-d9c36ab15441"
I0305 06:40:07.453792       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:07.506739       1 gateway.go:207] "Processing request" requestID="20911bea-eab1-424a-8653-bb2e5dfe9291"
I0305 06:40:07.506771       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="20911bea-eab1-424a-8653-bb2e5dfe9291"
I0305 06:40:07.506780       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:07.809660       1 gateway.go:207] "Processing request" requestID="ec92b22d-b7ab-41e9-b662-b46d85457f5d"
I0305 06:40:07.809692       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ec92b22d-b7ab-41e9-b662-b46d85457f5d"
I0305 06:40:07.809704       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:07.880255       1 gateway.go:207] "Processing request" requestID="26fb0708-125a-45f5-9ee1-9b24da2d8efc"
I0305 06:40:07.880286       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="26fb0708-125a-45f5-9ee1-9b24da2d8efc"
I0305 06:40:07.880295       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:07.936712       1 gateway.go:207] "Processing request" requestID="8c1cceba-1268-414f-8625-fb8a935447c2"
I0305 06:40:07.936740       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8c1cceba-1268-414f-8625-fb8a935447c2"
I0305 06:40:07.936749       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.008813       1 gateway.go:207] "Processing request" requestID="b27dafe8-2288-4161-9617-3ab447edd18c"
I0305 06:40:08.008843       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b27dafe8-2288-4161-9617-3ab447edd18c"
I0305 06:40:08.008851       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.062528       1 gateway.go:207] "Processing request" requestID="052ec8c7-1e05-4979-b360-5f88e9513099"
I0305 06:40:08.062559       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="052ec8c7-1e05-4979-b360-5f88e9513099"
I0305 06:40:08.062568       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.160435       1 gateway.go:207] "Processing request" requestID="59c119cf-e649-427d-a1e4-a78ac11b55d4"
I0305 06:40:08.160465       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="59c119cf-e649-427d-a1e4-a78ac11b55d4"
I0305 06:40:08.160473       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.214707       1 gateway.go:207] "Processing request" requestID="e46e332e-d528-4a10-90b7-122cdda81da2"
I0305 06:40:08.214739       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e46e332e-d528-4a10-90b7-122cdda81da2"
I0305 06:40:08.214748       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.254933       1 gateway.go:207] "Processing request" requestID="257ff108-b191-41b0-be2a-32bedf0df53a"
I0305 06:40:08.254966       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="257ff108-b191-41b0-be2a-32bedf0df53a"
I0305 06:40:08.254984       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.336468       1 gateway.go:207] "Processing request" requestID="a9bfc283-7d43-45e0-80e8-86a250f37405"
I0305 06:40:08.336496       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a9bfc283-7d43-45e0-80e8-86a250f37405"
I0305 06:40:08.336504       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.354639       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d0f17a41-b47c-4548-a517-c4ac23e72de9"
I0305 06:40:08.354895       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d0f17a41-b47c-4548-a517-c4ac23e72de9" model="qwen2-5-7b-instruct"
I0305 06:40:08.354982       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:08.354989       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:08.354993       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:08.355335       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:08.355408       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:08.355414       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:08.381990       1 gateway.go:329] "-- In RequestBody processing ..." requestID="20e2376f-8478-4d87-9a01-9b57a2e11e4f"
I0305 06:40:08.382213       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="20e2376f-8478-4d87-9a01-9b57a2e11e4f" model="qwen2-5-7b-instruct"
I0305 06:40:08.395254       1 gateway.go:329] "-- In RequestBody processing ..." requestID="03efe6f5-b6d6-4703-94b8-0c66d2c80c3f"
I0305 06:40:08.395480       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="03efe6f5-b6d6-4703-94b8-0c66d2c80c3f" model="qwen2-5-7b-instruct"
I0305 06:40:08.410393       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0550, numInputTokens, 7603
I0305 06:40:08.410415       1 tree.go:471] Updated node(0) last access: 166.5084 seconds
I0305 06:40:08.410421       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:08.410424       1 tree.go:471] Updated node(2) last access: 166.5084 seconds
I0305 06:40:08.410439       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:08.410444       1 tree.go:471] Updated node(23) last access: 166.5084 seconds
I0305 06:40:08.410447       1 tree.go:490] Partial tokens match child node(224). Continue to go deeper in the radix tree
I0305 06:40:08.410450       1 tree.go:471] Updated node(224) last access: 166.5084 seconds
I0305 06:40:08.410455       1 tree.go:484] Entire input tokens match the child node(225)
I0305 06:40:08.410458       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 06:40:08.410465       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:08.410473       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:08.410477       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:08.410460214 +0000 UTC m=+166.627187087 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:49.519548847 +0000 UTC m=+147.736275712]
I0305 06:40:08.410498       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:08.410506       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:08.410594       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7603
I0305 06:40:08.410604       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:08.410611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.410617       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.410621       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.410626       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.410631       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.410642       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:08.410651       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:08.410661       1 prefix_cache_and_load.go:584] latency, Route, 0.0557
I0305 06:40:08.410675       1 gateway.go:415] latency, selectTargetPod, 0.0557, target pod, 10.0.3.42:8000
I0305 06:40:08.410687       1 gateway.go:235] latency, HandleRequestBody, 0.0560
I0305 06:40:08.410685       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0284
I0305 06:40:08.410696       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:08.410702       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:08.410911       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:08.410984       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:08.410991       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:08.428948       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d0f17a41-b47c-4548-a517-c4ac23e72de9"
I0305 06:40:08.457639       1 gateway.go:207] "Processing request" requestID="e38718c3-0842-47d3-8fca-9cc7016b42f7"
I0305 06:40:08.457673       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e38718c3-0842-47d3-8fca-9cc7016b42f7"
I0305 06:40:08.457682       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.462539       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0515, numInputTokens, 7596
I0305 06:40:08.462556       1 tree.go:471] Updated node(0) last access: 166.5605 seconds
I0305 06:40:08.462563       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:08.462570       1 tree.go:471] Updated node(2) last access: 166.5605 seconds
I0305 06:40:08.462585       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:08.462590       1 tree.go:471] Updated node(18) last access: 166.5605 seconds
I0305 06:40:08.462603       1 tree.go:667] Split complete - New node(326)
I0305 06:40:08.462609       1 tree.go:668] Split complete - Child node(148)
I0305 06:40:08.462617       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:40:08.462624       1 tree.go:471] Updated node(326) last access: 166.5606 seconds
I0305 06:40:08.462634       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:08.462641       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:08.462650       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:08.462659       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:08.462666       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:08.462644064 +0000 UTC m=+166.679370933]
I0305 06:40:08.462685       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7480, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:08.462693       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:08.462761       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7480
I0305 06:40:08.462770       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:08.462781       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.462788       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.462796       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.462801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.462808       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.462821       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:08.462833       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:08.462846       1 prefix_cache_and_load.go:584] latency, Route, 0.0805
I0305 06:40:08.462864       1 gateway.go:415] latency, selectTargetPod, 0.0806, target pod, 10.0.0.131:8000
I0305 06:40:08.462875       1 gateway.go:235] latency, HandleRequestBody, 0.0809
I0305 06:40:08.462902       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0673
I0305 06:40:08.462906       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:08.462912       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:08.463070       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:08.463128       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:08.463133       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:08.478556       1 gateway.go:608] "First token received" requestID="d0f17a41-b47c-4548-a517-c4ac23e72de9" ttft_ms=110
I0305 06:40:08.482472       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="20e2376f-8478-4d87-9a01-9b57a2e11e4f"
I0305 06:40:08.518805       1 gateway.go:608] "First token received" requestID="20e2376f-8478-4d87-9a01-9b57a2e11e4f" ttft_ms=136
I0305 06:40:08.520575       1 gateway.go:207] "Processing request" requestID="aa5de1f3-0f2a-48d2-99ab-23e66d19d862"
I0305 06:40:08.520601       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="aa5de1f3-0f2a-48d2-99ab-23e66d19d862"
I0305 06:40:08.520608       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.526410       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0633, numInputTokens, 7599
I0305 06:40:08.526431       1 tree.go:471] Updated node(0) last access: 166.6244 seconds
I0305 06:40:08.526438       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:08.526443       1 tree.go:471] Updated node(2) last access: 166.6244 seconds
I0305 06:40:08.526456       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:08.526461       1 tree.go:471] Updated node(45) last access: 166.6244 seconds
I0305 06:40:08.526465       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:08.526469       1 tree.go:471] Updated node(175) last access: 166.6244 seconds
I0305 06:40:08.526472       1 tree.go:490] Partial tokens match child node(184). Continue to go deeper in the radix tree
I0305 06:40:08.526475       1 tree.go:471] Updated node(184) last access: 166.6244 seconds
I0305 06:40:08.526480       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:40:08.526486       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:08.526493       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:08.526500       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:08.526506       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:08.526488699 +0000 UTC m=+166.743215573]
I0305 06:40:08.526531       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7484, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:40:08.526538       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:40:08.526599       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7484
I0305 06:40:08.526609       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:08.526617       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.526621       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.526628       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.526631       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.526638       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.526641       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:08.526651       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:08.526660       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:08.526673       1 prefix_cache_and_load.go:584] latency, Route, 0.1311
I0305 06:40:08.526684       1 gateway.go:415] latency, selectTargetPod, 0.1311, target pod, 10.0.0.34:8000
I0305 06:40:08.526697       1 gateway.go:235] latency, HandleRequestBody, 0.1314
I0305 06:40:08.546336       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="03efe6f5-b6d6-4703-94b8-0c66d2c80c3f"
I0305 06:40:08.582630       1 gateway.go:608] "First token received" requestID="03efe6f5-b6d6-4703-94b8-0c66d2c80c3f" ttft_ms=187
I0305 06:40:08.596845       1 gateway.go:207] "Processing request" requestID="19b0d89b-9c0e-48a4-b858-6972b65cbae4"
I0305 06:40:08.596877       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="19b0d89b-9c0e-48a4-b858-6972b65cbae4"
I0305 06:40:08.596886       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.634605       1 gateway.go:562] latency, 0.0000, summary, hash(request), b2df60cf, selectedpod, 10.0.3.42:8000, ttft, 110, tpot, 18, e2e, 279, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:08.634624       1 gateway.go:748] "Request completed" requestID="d0f17a41-b47c-4548-a517-c4ac23e72de9" targetPod="10.0.3.42:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:08.634641       1 gateway.go:764] "HandleResponseBody completed" requestID="d0f17a41-b47c-4548-a517-c4ac23e72de9" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:08.670698       1 gateway.go:207] "Processing request" requestID="2ce0d56e-d2d7-478b-b046-44e1ffec8e21"
I0305 06:40:08.670728       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2ce0d56e-d2d7-478b-b046-44e1ffec8e21"
I0305 06:40:08.670736       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.691991       1 gateway.go:562] latency, 0.0001, summary, hash(request), 00d585ee, selectedpod, 10.0.0.131:8000, ttft, 136, tpot, 19, e2e, 309, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:08.692009       1 gateway.go:748] "Request completed" requestID="20e2376f-8478-4d87-9a01-9b57a2e11e4f" targetPod="10.0.0.131:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:08.692019       1 gateway.go:764] "HandleResponseBody completed" requestID="20e2376f-8478-4d87-9a01-9b57a2e11e4f" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:08.733682       1 gateway.go:207] "Processing request" requestID="b30caaa6-5e61-49d6-a479-2774f2360145"
I0305 06:40:08.733706       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b30caaa6-5e61-49d6-a479-2774f2360145"
I0305 06:40:08.733717       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.755305       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9f056416, selectedpod, 10.0.0.34:8000, ttft, 187, tpot, 19, e2e, 359, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:08.755326       1 gateway.go:748] "Request completed" requestID="03efe6f5-b6d6-4703-94b8-0c66d2c80c3f" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:08.755339       1 gateway.go:764] "HandleResponseBody completed" requestID="03efe6f5-b6d6-4703-94b8-0c66d2c80c3f" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:08.815815       1 gateway.go:207] "Processing request" requestID="ec939392-cdd9-4142-9814-297d961db52d"
I0305 06:40:08.815847       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ec939392-cdd9-4142-9814-297d961db52d"
I0305 06:40:08.815856       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.887834       1 gateway.go:207] "Processing request" requestID="3fe839de-aa75-41f7-8436-a2ae5f0364ff"
I0305 06:40:08.887864       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3fe839de-aa75-41f7-8436-a2ae5f0364ff"
I0305 06:40:08.887873       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:08.955254       1 gateway.go:207] "Processing request" requestID="407ca333-0467-4b42-94e2-1ae61d582f7b"
I0305 06:40:08.955287       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="407ca333-0467-4b42-94e2-1ae61d582f7b"
I0305 06:40:08.955297       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:09.035697       1 gateway.go:207] "Processing request" requestID="90ecf36d-5648-4538-8bc4-e539d8e62442"
I0305 06:40:09.035730       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="90ecf36d-5648-4538-8bc4-e539d8e62442"
I0305 06:40:09.035739       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:09.119775       1 gateway.go:207] "Processing request" requestID="949351b6-b087-4905-a599-61acd6239adb"
I0305 06:40:09.119803       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="949351b6-b087-4905-a599-61acd6239adb"
I0305 06:40:09.119812       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:09.178639       1 gateway.go:207] "Processing request" requestID="7a4d3c72-aa49-48f7-a36b-97609c92c16c"
I0305 06:40:09.178667       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7a4d3c72-aa49-48f7-a36b-97609c92c16c"
I0305 06:40:09.178675       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:09.237175       1 gateway.go:207] "Processing request" requestID="86fdb8c3-fed4-4f7c-990a-06abae441ffa"
I0305 06:40:09.237198       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="86fdb8c3-fed4-4f7c-990a-06abae441ffa"
I0305 06:40:09.237206       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:09.309582       1 gateway.go:207] "Processing request" requestID="ceac9ed7-6c69-4fb8-af80-bf054e38c270"
I0305 06:40:09.309612       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ceac9ed7-6c69-4fb8-af80-bf054e38c270"
I0305 06:40:09.309621       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:09.343843       1 gateway.go:329] "-- In RequestBody processing ..." requestID="75bab14e-47f0-4b3f-937c-7a5187687f0a"
I0305 06:40:09.344096       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="75bab14e-47f0-4b3f-937c-7a5187687f0a" model="qwen2-5-7b-instruct"
I0305 06:40:09.344196       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:09.344203       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:09.344206       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:09.344444       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:09.344502       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:09.344508       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:09.357747       1 gateway.go:329] "-- In RequestBody processing ..." requestID="db7fa239-9bf9-4298-8046-067bfe3ca4d0"
I0305 06:40:09.357982       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="db7fa239-9bf9-4298-8046-067bfe3ca4d0" model="qwen2-5-7b-instruct"
I0305 06:40:09.398789       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0543, numInputTokens, 7598
I0305 06:40:09.398809       1 tree.go:471] Updated node(0) last access: 167.4967 seconds
I0305 06:40:09.398817       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:09.398823       1 tree.go:471] Updated node(2) last access: 167.4968 seconds
I0305 06:40:09.398840       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:09.398845       1 tree.go:471] Updated node(4) last access: 167.4968 seconds
I0305 06:40:09.398850       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:40:09.398855       1 tree.go:471] Updated node(63) last access: 167.4968 seconds
I0305 06:40:09.398862       1 tree.go:484] Entire input tokens match the child node(223)
I0305 06:40:09.398868       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:09.398878       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:09.398890       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:09.398899       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:09.398872622 +0000 UTC m=+167.615599492 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:49.149749431 +0000 UTC m=+147.366476296]
I0305 06:40:09.398923       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:09.398932       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:09.399018       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7598
I0305 06:40:09.399027       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:09.399038       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.399047       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.399054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.399062       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.399069       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.399082       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:09.399094       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:09.399106       1 prefix_cache_and_load.go:584] latency, Route, 0.0549
I0305 06:40:09.399128       1 gateway.go:415] latency, selectTargetPod, 0.0549, target pod, 10.0.1.47:8000
I0305 06:40:09.399141       1 gateway.go:235] latency, HandleRequestBody, 0.0553
I0305 06:40:09.399169       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0411
I0305 06:40:09.399173       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:09.399176       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:09.399348       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:09.399415       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:09.399421       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:09.408483       1 gateway.go:207] "Processing request" requestID="5907974f-c48e-4b24-b640-134422b8cfa9"
I0305 06:40:09.408527       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5907974f-c48e-4b24-b640-134422b8cfa9"
I0305 06:40:09.408539       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:09.418738       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="75bab14e-47f0-4b3f-937c-7a5187687f0a"
I0305 06:40:09.450475       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0510, numInputTokens, 7600
I0305 06:40:09.450494       1 tree.go:471] Updated node(0) last access: 167.5484 seconds
I0305 06:40:09.450501       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:09.450504       1 tree.go:471] Updated node(2) last access: 167.5484 seconds
I0305 06:40:09.450528       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:09.450533       1 tree.go:471] Updated node(45) last access: 167.5485 seconds
I0305 06:40:09.450537       1 tree.go:490] Partial tokens match child node(221). Continue to go deeper in the radix tree
I0305 06:40:09.450541       1 tree.go:471] Updated node(221) last access: 167.5485 seconds
I0305 06:40:09.450549       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0305 06:40:09.450556       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:09.450566       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:09.450574       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:09.450581       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:09.450559202 +0000 UTC m=+167.667286077]
I0305 06:40:09.450600       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7489, Matching ratio: 0.9854, # Matched pods: 0, Matched pods: []
I0305 06:40:09.450609       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9854 > 0.5000)
I0305 06:40:09.450680       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7489
I0305 06:40:09.450692       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:09.450700       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.450706       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.450710       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.450717       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.450722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.450734       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:09.450746       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:09.450759       1 prefix_cache_and_load.go:584] latency, Route, 0.0927
I0305 06:40:09.450772       1 gateway.go:415] latency, selectTargetPod, 0.0927, target pod, 10.0.0.34:8000
I0305 06:40:09.450787       1 gateway.go:235] latency, HandleRequestBody, 0.0930
I0305 06:40:09.451164       1 gateway.go:608] "First token received" requestID="75bab14e-47f0-4b3f-937c-7a5187687f0a" ttft_ms=107
I0305 06:40:09.469238       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="db7fa239-9bf9-4298-8046-067bfe3ca4d0"
I0305 06:40:09.479488       1 gateway.go:207] "Processing request" requestID="709016b6-0de9-444a-bab1-3724a4c05c8a"
I0305 06:40:09.479533       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="709016b6-0de9-444a-bab1-3724a4c05c8a"
I0305 06:40:09.479543       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:09.505030       1 gateway.go:608] "First token received" requestID="db7fa239-9bf9-4298-8046-067bfe3ca4d0" ttft_ms=147
I0305 06:40:09.513383       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4c78b32b-f301-4b1c-9ae5-993e7f48c8f7"
I0305 06:40:09.513599       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4c78b32b-f301-4b1c-9ae5-993e7f48c8f7" model="qwen2-5-7b-instruct"
I0305 06:40:09.513671       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:09.513678       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:09.513682       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:09.513870       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:09.513925       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:09.513931       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:09.523231       1 gateway.go:329] "-- In RequestBody processing ..." requestID="edf3dede-5fec-441d-82f5-1d2d974fc1fd"
I0305 06:40:09.523449       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="edf3dede-5fec-441d-82f5-1d2d974fc1fd" model="qwen2-5-7b-instruct"
I0305 06:40:09.567287       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0533, numInputTokens, 7604
I0305 06:40:09.567305       1 tree.go:471] Updated node(0) last access: 167.6652 seconds
I0305 06:40:09.567312       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:09.567315       1 tree.go:471] Updated node(2) last access: 167.6653 seconds
I0305 06:40:09.567330       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:09.567335       1 tree.go:471] Updated node(18) last access: 167.6653 seconds
I0305 06:40:09.567344       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0305 06:40:09.567351       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 06:40:09.567359       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 06:40:09.567368       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:09.567377       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:09.567353144 +0000 UTC m=+167.784080022]
I0305 06:40:09.567399       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7478, Matching ratio: 0.9834, # Matched pods: 0, Matched pods: []
I0305 06:40:09.567411       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9834 > 0.5000)
I0305 06:40:09.567484       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7478
I0305 06:40:09.567495       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:09.567504       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.567521       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.567531       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.567538       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.567550       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:09.567559       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:09.567572       1 prefix_cache_and_load.go:584] latency, Route, 0.0539
I0305 06:40:09.567587       1 gateway.go:415] latency, selectTargetPod, 0.0539, target pod, 10.0.0.131:8000
I0305 06:40:09.567599       1 gateway.go:235] latency, HandleRequestBody, 0.0542
I0305 06:40:09.567626       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0441
I0305 06:40:09.567631       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:09.567634       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:09.567768       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:09.567826       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:09.567830       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:09.586938       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4c78b32b-f301-4b1c-9ae5-993e7f48c8f7"
I0305 06:40:09.591958       1 gateway.go:207] "Processing request" requestID="4c8cc670-fcdd-450e-b327-243037593a04"
I0305 06:40:09.591997       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4c8cc670-fcdd-450e-b327-243037593a04"
I0305 06:40:09.592005       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:09.612886       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b2fb7c0d-235a-41ee-b617-e1f72726c28e"
I0305 06:40:09.613558       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b2fb7c0d-235a-41ee-b617-e1f72726c28e" model="qwen2-5-7b-instruct"
I0305 06:40:09.621247       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0534, numInputTokens, 7595
I0305 06:40:09.621266       1 tree.go:471] Updated node(0) last access: 167.7192 seconds
I0305 06:40:09.621273       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:09.621278       1 tree.go:471] Updated node(2) last access: 167.7192 seconds
I0305 06:40:09.621294       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:09.621297       1 tree.go:471] Updated node(51) last access: 167.7192 seconds
I0305 06:40:09.621310       1 tree.go:667] Split complete - New node(331)
I0305 06:40:09.621316       1 tree.go:668] Split complete - Child node(52)
I0305 06:40:09.621323       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:40:09.621330       1 tree.go:471] Updated node(331) last access: 167.7193 seconds
I0305 06:40:09.621338       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 105 tokens:
I0305 06:40:09.621345       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:40:09.621355       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:09.621366       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:09.621376       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:09.621350111 +0000 UTC m=+167.838076976]
I0305 06:40:09.621395       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7490, Matching ratio: 0.9862, # Matched pods: 0, Matched pods: []
I0305 06:40:09.621403       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9862 > 0.5000)
I0305 06:40:09.621473       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7490
I0305 06:40:09.621483       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:09.621491       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.621501       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.621518       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.621525       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.621532       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.621542       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:09.621551       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:09.621561       1 prefix_cache_and_load.go:584] latency, Route, 0.0980
I0305 06:40:09.621576       1 gateway.go:415] latency, selectTargetPod, 0.0980, target pod, 10.0.1.28:8000
I0305 06:40:09.621587       1 gateway.go:235] latency, HandleRequestBody, 0.0984
I0305 06:40:09.621617       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0079
I0305 06:40:09.621622       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:09.621626       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:09.621836       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:09.621911       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:09.621917       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:09.623317       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9f225d62-ddf9-4312-80dd-1aa3f9294b5a"
I0305 06:40:09.623546       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9f225d62-ddf9-4312-80dd-1aa3f9294b5a" model="qwen2-5-7b-instruct"
I0305 06:40:09.624250       1 gateway.go:562] latency, 0.0000, summary, hash(request), d34c5d59, selectedpod, 10.0.1.47:8000, ttft, 107, tpot, 19, e2e, 280, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:09.624269       1 gateway.go:748] "Request completed" requestID="75bab14e-47f0-4b3f-937c-7a5187687f0a" targetPod="10.0.1.47:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:09.624280       1 gateway.go:764] "HandleResponseBody completed" requestID="75bab14e-47f0-4b3f-937c-7a5187687f0a" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:09.631015       1 gateway.go:608] "First token received" requestID="4c78b32b-f301-4b1c-9ae5-993e7f48c8f7" ttft_ms=117
I0305 06:40:09.642936       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="edf3dede-5fec-441d-82f5-1d2d974fc1fd"
I0305 06:40:09.667142       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fee6602b-379d-42b8-b571-17a907aaaf6b"
I0305 06:40:09.667357       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fee6602b-379d-42b8-b571-17a907aaaf6b" model="qwen2-5-7b-instruct"
I0305 06:40:09.678762       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9535754c, selectedpod, 10.0.0.34:8000, ttft, 147, tpot, 19, e2e, 320, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:09.678785       1 gateway.go:748] "Request completed" requestID="db7fa239-9bf9-4298-8046-067bfe3ca4d0" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:09.678799       1 gateway.go:764] "HandleResponseBody completed" requestID="db7fa239-9bf9-4298-8046-067bfe3ca4d0" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:09.679481       1 gateway.go:608] "First token received" requestID="edf3dede-5fec-441d-82f5-1d2d974fc1fd" ttft_ms=156
I0305 06:40:09.688299       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b25f16c3-352b-4309-a423-d93d5c16330c"
I0305 06:40:09.688531       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b25f16c3-352b-4309-a423-d93d5c16330c" model="qwen2-5-7b-instruct"
I0305 06:40:09.714644       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0927, numInputTokens, 7599
I0305 06:40:09.714660       1 tree.go:471] Updated node(0) last access: 167.8126 seconds
I0305 06:40:09.714666       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:09.714670       1 tree.go:471] Updated node(2) last access: 167.8126 seconds
I0305 06:40:09.714683       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:09.714689       1 tree.go:471] Updated node(26) last access: 167.8126 seconds
I0305 06:40:09.714695       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:40:09.714701       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:09.714707       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:09.714713       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:09.714718       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:09.714703172 +0000 UTC m=+167.931430048]
I0305 06:40:09.714733       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:40:09.714739       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:40:09.714800       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7478
I0305 06:40:09.714810       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:09.714818       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.714822       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.714828       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.714831       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.714839       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:09.714848       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:09.714857       1 prefix_cache_and_load.go:584] latency, Route, 0.1012
I0305 06:40:09.714871       1 gateway.go:415] latency, selectTargetPod, 0.1012, target pod, 10.0.3.41:8000
I0305 06:40:09.714881       1 gateway.go:235] latency, HandleRequestBody, 0.1020
I0305 06:40:09.714910       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0913
I0305 06:40:09.714915       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:09.714917       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:09.715055       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:09.715110       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:09.715115       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:09.720677       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fc9a62d1-bf06-4385-83fc-4c0d918e7de5"
I0305 06:40:09.722016       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fc9a62d1-bf06-4385-83fc-4c0d918e7de5" model="qwen2-5-7b-instruct"
I0305 06:40:09.723464       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bbd8cc18-dc74-4cb0-88a7-041e8aaf466a"
I0305 06:40:09.723713       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bbd8cc18-dc74-4cb0-88a7-041e8aaf466a" model="qwen2-5-7b-instruct"
I0305 06:40:09.731308       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b2fb7c0d-235a-41ee-b617-e1f72726c28e"
I0305 06:40:09.750403       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e374f701-07eb-4f98-a7df-180e17bb20fe"
I0305 06:40:09.750627       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e374f701-07eb-4f98-a7df-180e17bb20fe" model="qwen2-5-7b-instruct"
I0305 06:40:09.778609       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f6fd2da7-6b36-4a26-ba11-33477f890b98"
I0305 06:40:09.778677       1 gateway.go:608] "First token received" requestID="b2fb7c0d-235a-41ee-b617-e1f72726c28e" ttft_ms=165
I0305 06:40:09.778855       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f6fd2da7-6b36-4a26-ba11-33477f890b98" model="qwen2-5-7b-instruct"
I0305 06:40:09.785304       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e36dfe1c-85c4-4a98-9a4d-b9ee12e9f9f7"
I0305 06:40:09.785529       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e36dfe1c-85c4-4a98-9a4d-b9ee12e9f9f7" model="qwen2-5-7b-instruct"
I0305 06:40:09.799322       1 gateway.go:329] "-- In RequestBody processing ..." requestID="86606ca6-b6cb-49a4-8bb4-0e9fd581943d"
I0305 06:40:09.799544       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="86606ca6-b6cb-49a4-8bb4-0e9fd581943d" model="qwen2-5-7b-instruct"
I0305 06:40:09.800620       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0855, numInputTokens, 7602
I0305 06:40:09.800637       1 tree.go:471] Updated node(0) last access: 167.8986 seconds
I0305 06:40:09.800643       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:09.800647       1 tree.go:471] Updated node(2) last access: 167.8986 seconds
I0305 06:40:09.800659       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:09.800663       1 tree.go:471] Updated node(18) last access: 167.8986 seconds
I0305 06:40:09.800668       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 06:40:09.800670       1 tree.go:471] Updated node(219) last access: 167.8986 seconds
I0305 06:40:09.800674       1 tree.go:490] Partial tokens match child node(276). Continue to go deeper in the radix tree
I0305 06:40:09.800678       1 tree.go:471] Updated node(276) last access: 167.8986 seconds
I0305 06:40:09.800687       1 tree.go:667] Split complete - New node(334)
I0305 06:40:09.800696       1 tree.go:668] Split complete - Child node(220)
I0305 06:40:09.800701       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:40:09.800706       1 tree.go:471] Updated node(334) last access: 167.8986 seconds
I0305 06:40:09.800711       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:09.800715       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:09.800721       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:09.800728       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:09.800733       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:09.800716874 +0000 UTC m=+168.017443739]
I0305 06:40:09.800747       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7486, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:09.800753       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:09.800815       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7486
I0305 06:40:09.800823       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:09.800830       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.800836       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.800841       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.800846       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.800851       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.800856       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.800859       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.800867       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:09.800876       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:09.800885       1 prefix_cache_and_load.go:584] latency, Route, 0.1773
I0305 06:40:09.800899       1 gateway.go:415] latency, selectTargetPod, 0.1773, target pod, 10.0.0.131:8000
I0305 06:40:09.800910       1 gateway.go:235] latency, HandleRequestBody, 0.1776
I0305 06:40:09.800937       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1335
I0305 06:40:09.800942       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:09.800945       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:09.801081       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:09.801136       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:09.801141       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:09.803954       1 gateway.go:562] latency, 0.0000, summary, hash(request), 753b638d, selectedpod, 10.0.0.131:8000, ttft, 117, tpot, 19, e2e, 290, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 06:40:09.803978       1 gateway.go:748] "Request completed" requestID="4c78b32b-f301-4b1c-9ae5-993e7f48c8f7" targetPod="10.0.0.131:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 06:40:09.803987       1 gateway.go:764] "HandleResponseBody completed" requestID="4c78b32b-f301-4b1c-9ae5-993e7f48c8f7" promptTokens=7623 completionTokens=10 stream=true
I0305 06:40:09.817896       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dd3e49ed-b4eb-4b00-a7bc-b0a67426f275"
I0305 06:40:09.818105       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dd3e49ed-b4eb-4b00-a7bc-b0a67426f275" model="qwen2-5-7b-instruct"
I0305 06:40:09.819320       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9f225d62-ddf9-4312-80dd-1aa3f9294b5a"
I0305 06:40:09.848855       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0477, numInputTokens, 7600
I0305 06:40:09.848869       1 tree.go:471] Updated node(0) last access: 167.9468 seconds
I0305 06:40:09.848875       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:09.848879       1 tree.go:471] Updated node(2) last access: 167.9468 seconds
I0305 06:40:09.848891       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:09.848894       1 tree.go:471] Updated node(26) last access: 167.9468 seconds
I0305 06:40:09.848898       1 tree.go:484] Entire input tokens match the child node(226)
I0305 06:40:09.848903       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:09.848909       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:09.848916       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:40:09.848922       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:09.84890565 +0000 UTC m=+168.065632514 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:49.605629415 +0000 UTC m=+147.822356290]
I0305 06:40:09.848937       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:09.848945       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:09.849011       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7600
I0305 06:40:09.849021       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:09.849030       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.849037       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.849041       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.849044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.849052       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:09.849088       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:09.849098       1 prefix_cache_and_load.go:584] latency, Route, 0.1817
I0305 06:40:09.849113       1 gateway.go:415] latency, selectTargetPod, 0.1817, target pod, 10.0.3.41:8000
I0305 06:40:09.849122       1 gateway.go:235] latency, HandleRequestBody, 0.1820
I0305 06:40:09.849132       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1605
I0305 06:40:09.849154       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:09.849160       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:09.849376       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:09.849457       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:09.849464       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:09.852533       1 gateway.go:562] latency, 0.0001, summary, hash(request), 80ff0963, selectedpod, 10.0.1.28:8000, ttft, 156, tpot, 19, e2e, 329, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:40:09.852561       1 gateway.go:748] "Request completed" requestID="edf3dede-5fec-441d-82f5-1d2d974fc1fd" targetPod="10.0.1.28:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:40:09.852577       1 gateway.go:764] "HandleResponseBody completed" requestID="edf3dede-5fec-441d-82f5-1d2d974fc1fd" promptTokens=7614 completionTokens=10 stream=true
I0305 06:40:09.878616       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3eccb6b2-eda4-4784-9171-b0506c7811c2"
I0305 06:40:09.878691       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cc6fc958-2184-45ae-bce1-df35f2623b5c"
I0305 06:40:09.878757       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fee6602b-379d-42b8-b571-17a907aaaf6b"
I0305 06:40:09.878869       1 gateway.go:608] "First token received" requestID="9f225d62-ddf9-4312-80dd-1aa3f9294b5a" ttft_ms=255
I0305 06:40:09.879136       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cc6fc958-2184-45ae-bce1-df35f2623b5c" model="qwen2-5-7b-instruct"
I0305 06:40:09.879134       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3eccb6b2-eda4-4784-9171-b0506c7811c2" model="qwen2-5-7b-instruct"
I0305 06:40:09.881592       1 gateway.go:329] "-- In RequestBody processing ..." requestID="18ac4d34-8a13-4976-9af8-8cfd7eb6d3ca"
I0305 06:40:09.881900       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="18ac4d34-8a13-4976-9af8-8cfd7eb6d3ca" model="qwen2-5-7b-instruct"
I0305 06:40:09.884004       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7d31131a-d43e-4e1f-9154-443c7fdd8af6"
I0305 06:40:09.884214       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7d31131a-d43e-4e1f-9154-443c7fdd8af6" model="qwen2-5-7b-instruct"
I0305 06:40:09.899786       1 gateway.go:608] "First token received" requestID="fee6602b-379d-42b8-b571-17a907aaaf6b" ttft_ms=232
I0305 06:40:09.906033       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5e98cd30-9b0b-4704-87ad-d9c36ab15441"
I0305 06:40:09.920222       1 gateway.go:329] "-- In RequestBody processing ..." requestID="20911bea-eab1-424a-8653-bb2e5dfe9291"
I0305 06:40:09.926910       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0774, numInputTokens, 7599
I0305 06:40:09.926931       1 tree.go:471] Updated node(0) last access: 168.0249 seconds
I0305 06:40:09.926937       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:09.926941       1 tree.go:471] Updated node(2) last access: 168.0249 seconds
I0305 06:40:09.926953       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:09.926957       1 tree.go:471] Updated node(51) last access: 168.0249 seconds
I0305 06:40:09.926966       1 tree.go:667] Split complete - New node(336)
I0305 06:40:09.926981       1 tree.go:668] Split complete - Child node(241)
I0305 06:40:09.926986       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:40:09.926990       1 tree.go:471] Updated node(336) last access: 168.0249 seconds
I0305 06:40:09.926996       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 06:40:09.927000       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:09.927007       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:09.927013       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:09.927018       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:09.927001932 +0000 UTC m=+168.143728796]
I0305 06:40:09.927033       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7490, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 06:40:09.927039       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 06:40:09.927100       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7490
I0305 06:40:09.927110       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:09.927118       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.927124       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.927128       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.927134       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.927139       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:09.927147       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:09.927155       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:09.927167       1 prefix_cache_and_load.go:584] latency, Route, 0.2386
I0305 06:40:09.927185       1 gateway.go:415] latency, selectTargetPod, 0.2386, target pod, 10.0.1.28:8000
I0305 06:40:09.927196       1 gateway.go:235] latency, HandleRequestBody, 0.2389
I0305 06:40:09.927220       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2049
I0305 06:40:09.927224       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:09.927227       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:09.927358       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:09.927412       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:09.927417       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:09.945106       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ec92b22d-b7ab-41e9-b662-b46d85457f5d"
I0305 06:40:09.946324       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ec92b22d-b7ab-41e9-b662-b46d85457f5d" model="qwen2-5-7b-instruct"
I0305 06:40:09.946462       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5e98cd30-9b0b-4704-87ad-d9c36ab15441" model="qwen2-5-7b-instruct"
I0305 06:40:09.955381       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b25f16c3-352b-4309-a423-d93d5c16330c"
I0305 06:40:09.955424       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="20911bea-eab1-424a-8653-bb2e5dfe9291" model="qwen2-5-7b-instruct"
I0305 06:40:09.956134       1 gateway.go:329] "-- In RequestBody processing ..." requestID="26fb0708-125a-45f5-9ee1-9b24da2d8efc"
I0305 06:40:09.956365       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="26fb0708-125a-45f5-9ee1-9b24da2d8efc" model="qwen2-5-7b-instruct"
I0305 06:40:09.978655       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8c1cceba-1268-414f-8625-fb8a935447c2"
I0305 06:40:09.978867       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8c1cceba-1268-414f-8625-fb8a935447c2" model="qwen2-5-7b-instruct"
I0305 06:40:09.981665       1 gateway.go:562] latency, 0.0000, summary, hash(request), b398fcb2, selectedpod, 10.0.3.41:8000, ttft, 165, tpot, 22, e2e, 368, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:09.981693       1 gateway.go:748] "Request completed" requestID="b2fb7c0d-235a-41ee-b617-e1f72726c28e" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:09.981710       1 gateway.go:764] "HandleResponseBody completed" requestID="b2fb7c0d-235a-41ee-b617-e1f72726c28e" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:09.985342       1 gateway.go:608] "First token received" requestID="b25f16c3-352b-4309-a423-d93d5c16330c" ttft_ms=296
I0305 06:40:10.008827       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b27dafe8-2288-4161-9617-3ab447edd18c"
I0305 06:40:10.009057       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b27dafe8-2288-4161-9617-3ab447edd18c" model="qwen2-5-7b-instruct"
I0305 06:40:10.022343       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0949, numInputTokens, 7599
I0305 06:40:10.022362       1 tree.go:471] Updated node(0) last access: 168.1203 seconds
I0305 06:40:10.022368       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.022372       1 tree.go:471] Updated node(2) last access: 168.1203 seconds
I0305 06:40:10.022385       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:10.022392       1 tree.go:471] Updated node(45) last access: 168.1203 seconds
I0305 06:40:10.022396       1 tree.go:490] Partial tokens match child node(221). Continue to go deeper in the radix tree
I0305 06:40:10.022403       1 tree.go:471] Updated node(221) last access: 168.1203 seconds
I0305 06:40:10.022409       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 06:40:10.022417       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:10.022423       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:10.022429       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:10.022434       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.022418683 +0000 UTC m=+168.239145558]
I0305 06:40:10.022449       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7489, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 06:40:10.022455       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 06:40:10.022533       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7489
I0305 06:40:10.022554       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.022563       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.022570       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.022576       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.022580       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.022586       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.022594       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.022603       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:10.022613       1 prefix_cache_and_load.go:584] latency, Route, 0.3003
I0305 06:40:10.022627       1 gateway.go:415] latency, selectTargetPod, 0.3004, target pod, 10.0.0.34:8000
I0305 06:40:10.022638       1 gateway.go:235] latency, HandleRequestBody, 0.3020
I0305 06:40:10.022669       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2987
I0305 06:40:10.022677       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.022680       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.022865       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.022929       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:10.022937       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.027485       1 gateway.go:329] "-- In RequestBody processing ..." requestID="59c119cf-e649-427d-a1e4-a78ac11b55d4"
I0305 06:40:10.027718       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="59c119cf-e649-427d-a1e4-a78ac11b55d4" model="qwen2-5-7b-instruct"
I0305 06:40:10.028309       1 gateway.go:329] "-- In RequestBody processing ..." requestID="052ec8c7-1e05-4979-b360-5f88e9513099"
I0305 06:40:10.028385       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6139fd6c, selectedpod, 10.0.0.131:8000, ttft, 255, tpot, 16, e2e, 405, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:10.028401       1 gateway.go:748] "Request completed" requestID="9f225d62-ddf9-4312-80dd-1aa3f9294b5a" targetPod="10.0.0.131:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:10.028411       1 gateway.go:764] "HandleResponseBody completed" requestID="9f225d62-ddf9-4312-80dd-1aa3f9294b5a" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:10.028534       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="052ec8c7-1e05-4979-b360-5f88e9513099" model="qwen2-5-7b-instruct"
I0305 06:40:10.041077       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fc9a62d1-bf06-4385-83fc-4c0d918e7de5"
I0305 06:40:10.044278       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e46e332e-d528-4a10-90b7-122cdda81da2"
I0305 06:40:10.044495       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e46e332e-d528-4a10-90b7-122cdda81da2" model="qwen2-5-7b-instruct"
I0305 06:40:10.078611       1 gateway.go:329] "-- In RequestBody processing ..." requestID="257ff108-b191-41b0-be2a-32bedf0df53a"
I0305 06:40:10.078679       1 gateway.go:562] latency, 0.0000, summary, hash(request), 688aa7f1, selectedpod, 10.0.3.41:8000, ttft, 232, tpot, 19, e2e, 411, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:10.078698       1 gateway.go:748] "Request completed" requestID="fee6602b-379d-42b8-b571-17a907aaaf6b" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:10.078711       1 gateway.go:764] "HandleResponseBody completed" requestID="fee6602b-379d-42b8-b571-17a907aaaf6b" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:10.078698       1 gateway.go:608] "First token received" requestID="fc9a62d1-bf06-4385-83fc-4c0d918e7de5" ttft_ms=357
I0305 06:40:10.078852       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="257ff108-b191-41b0-be2a-32bedf0df53a" model="qwen2-5-7b-instruct"
I0305 06:40:10.079568       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a9bfc283-7d43-45e0-80e8-86a250f37405"
I0305 06:40:10.079790       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a9bfc283-7d43-45e0-80e8-86a250f37405" model="qwen2-5-7b-instruct"
I0305 06:40:10.088192       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0652, numInputTokens, 7599
I0305 06:40:10.088210       1 tree.go:471] Updated node(0) last access: 168.1861 seconds
I0305 06:40:10.088217       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.088220       1 tree.go:471] Updated node(2) last access: 168.1862 seconds
I0305 06:40:10.088236       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:10.088239       1 tree.go:471] Updated node(53) last access: 168.1862 seconds
I0305 06:40:10.088243       1 tree.go:490] Partial tokens match child node(297). Continue to go deeper in the radix tree
I0305 06:40:10.088245       1 tree.go:471] Updated node(297) last access: 168.1862 seconds
I0305 06:40:10.088251       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:10.088257       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:10.088265       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:10.088272       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:10.088279       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.088259073 +0000 UTC m=+168.304985938]
I0305 06:40:10.088297       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:10.088306       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:10.088396       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7483
I0305 06:40:10.088410       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.088421       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.088428       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.088438       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.088444       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.088450       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.088458       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.088466       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:10.088476       1 prefix_cache_and_load.go:584] latency, Route, 0.3645
I0305 06:40:10.088489       1 gateway.go:415] latency, selectTargetPod, 0.3645, target pod, 10.0.0.34:8000
I0305 06:40:10.088497       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3378
I0305 06:40:10.088500       1 gateway.go:235] latency, HandleRequestBody, 0.3650
I0305 06:40:10.088504       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.088508       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.088726       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.088801       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:10.088807       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.099014       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e38718c3-0842-47d3-8fca-9cc7016b42f7"
I0305 06:40:10.099440       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e38718c3-0842-47d3-8fca-9cc7016b42f7" model="qwen2-5-7b-instruct"
I0305 06:40:10.106810       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bbd8cc18-dc74-4cb0-88a7-041e8aaf466a"
I0305 06:40:10.122026       1 gateway.go:329] "-- In RequestBody processing ..." requestID="aa5de1f3-0f2a-48d2-99ab-23e66d19d862"
I0305 06:40:10.122227       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="aa5de1f3-0f2a-48d2-99ab-23e66d19d862" model="qwen2-5-7b-instruct"
I0305 06:40:10.130741       1 gateway.go:329] "-- In RequestBody processing ..." requestID="19b0d89b-9c0e-48a4-b858-6972b65cbae4"
I0305 06:40:10.130982       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="19b0d89b-9c0e-48a4-b858-6972b65cbae4" model="qwen2-5-7b-instruct"
I0305 06:40:10.140591       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0518, numInputTokens, 7599
I0305 06:40:10.140610       1 tree.go:471] Updated node(0) last access: 168.2385 seconds
I0305 06:40:10.140616       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.140619       1 tree.go:471] Updated node(2) last access: 168.2386 seconds
I0305 06:40:10.140633       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:10.140636       1 tree.go:471] Updated node(31) last access: 168.2386 seconds
I0305 06:40:10.140639       1 tree.go:490] Partial tokens match child node(227). Continue to go deeper in the radix tree
I0305 06:40:10.140642       1 tree.go:471] Updated node(227) last access: 168.2386 seconds
I0305 06:40:10.140647       1 tree.go:484] Entire input tokens match the child node(228)
I0305 06:40:10.140652       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:10.140658       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:10.140666       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:10.140670       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.140654409 +0000 UTC m=+168.357381273 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:49.931472615 +0000 UTC m=+148.148199479]
I0305 06:40:10.140687       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:10.140694       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:10.140766       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7599
I0305 06:40:10.140780       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.140791       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.140798       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.140802       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.140809       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.140814       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.140823       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.140832       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:10.140843       1 prefix_cache_and_load.go:584] latency, Route, 0.3901
I0305 06:40:10.140858       1 gateway.go:415] latency, selectTargetPod, 0.3902, target pod, 10.0.1.28:8000
I0305 06:40:10.140873       1 gateway.go:235] latency, HandleRequestBody, 0.3905
I0305 06:40:10.140898       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3620
I0305 06:40:10.140902       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.140905       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.141071       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.141130       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:10.141135       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.156138       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2ce0d56e-d2d7-478b-b046-44e1ffec8e21"
I0305 06:40:10.156211       1 gateway.go:608] "First token received" requestID="bbd8cc18-dc74-4cb0-88a7-041e8aaf466a" ttft_ms=432
I0305 06:40:10.156374       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2ce0d56e-d2d7-478b-b046-44e1ffec8e21" model="qwen2-5-7b-instruct"
I0305 06:40:10.158601       1 gateway.go:562] latency, 0.0000, summary, hash(request), f25531ca, selectedpod, 10.0.1.28:8000, ttft, 296, tpot, 19, e2e, 470, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:10.158616       1 gateway.go:748] "Request completed" requestID="b25f16c3-352b-4309-a423-d93d5c16330c" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:10.158624       1 gateway.go:764] "HandleResponseBody completed" requestID="b25f16c3-352b-4309-a423-d93d5c16330c" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:10.178549       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e374f701-07eb-4f98-a7df-180e17bb20fe"
I0305 06:40:10.178556       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b30caaa6-5e61-49d6-a479-2774f2360145"
I0305 06:40:10.178774       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b30caaa6-5e61-49d6-a479-2774f2360145" model="qwen2-5-7b-instruct"
I0305 06:40:10.194170       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ec939392-cdd9-4142-9814-297d961db52d"
I0305 06:40:10.194399       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ec939392-cdd9-4142-9814-297d961db52d" model="qwen2-5-7b-instruct"
I0305 06:40:10.206745       1 gateway.go:608] "First token received" requestID="e374f701-07eb-4f98-a7df-180e17bb20fe" ttft_ms=456
I0305 06:40:10.212305       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3fe839de-aa75-41f7-8436-a2ae5f0364ff"
I0305 06:40:10.212614       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3fe839de-aa75-41f7-8436-a2ae5f0364ff" model="qwen2-5-7b-instruct"
I0305 06:40:10.221571       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0804, numInputTokens, 7601
I0305 06:40:10.221589       1 tree.go:471] Updated node(0) last access: 168.3195 seconds
I0305 06:40:10.221595       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.221601       1 tree.go:471] Updated node(2) last access: 168.3195 seconds
I0305 06:40:10.221614       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:10.221621       1 tree.go:471] Updated node(4) last access: 168.3196 seconds
I0305 06:40:10.221625       1 tree.go:490] Partial tokens match child node(229). Continue to go deeper in the radix tree
I0305 06:40:10.221631       1 tree.go:471] Updated node(229) last access: 168.3196 seconds
I0305 06:40:10.221638       1 tree.go:484] Entire input tokens match the child node(230)
I0305 06:40:10.221642       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:10.221649       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:10.221657       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:10.221664       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.221644653 +0000 UTC m=+168.438371526 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:50.024130109 +0000 UTC m=+148.240856973]
I0305 06:40:10.221685       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:10.221696       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:10.221773       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7601
I0305 06:40:10.221782       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.221790       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.221795       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.221801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.221807       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.221813       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.221823       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.221833       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:10.221844       1 prefix_cache_and_load.go:584] latency, Route, 0.4429
I0305 06:40:10.221858       1 gateway.go:415] latency, selectTargetPod, 0.4429, target pod, 10.0.1.47:8000
I0305 06:40:10.221870       1 gateway.go:235] latency, HandleRequestBody, 0.4433
I0305 06:40:10.221903       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4363
I0305 06:40:10.221909       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.221912       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.222067       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.222127       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:10.222133       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.227548       1 gateway.go:329] "-- In RequestBody processing ..." requestID="407ca333-0467-4b42-94e2-1ae61d582f7b"
I0305 06:40:10.227782       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="407ca333-0467-4b42-94e2-1ae61d582f7b" model="qwen2-5-7b-instruct"
I0305 06:40:10.234308       1 gateway.go:329] "-- In RequestBody processing ..." requestID="90ecf36d-5648-4538-8bc4-e539d8e62442"
I0305 06:40:10.234536       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="90ecf36d-5648-4538-8bc4-e539d8e62442" model="qwen2-5-7b-instruct"
I0305 06:40:10.242411       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f6fd2da7-6b36-4a26-ba11-33477f890b98"
I0305 06:40:10.278622       1 gateway.go:329] "-- In RequestBody processing ..." requestID="949351b6-b087-4905-a599-61acd6239adb"
I0305 06:40:10.278691       1 gateway.go:608] "First token received" requestID="f6fd2da7-6b36-4a26-ba11-33477f890b98" ttft_ms=500
I0305 06:40:10.278863       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="949351b6-b087-4905-a599-61acd6239adb" model="qwen2-5-7b-instruct"
I0305 06:40:10.287403       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7a4d3c72-aa49-48f7-a36b-97609c92c16c"
I0305 06:40:10.287631       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7a4d3c72-aa49-48f7-a36b-97609c92c16c" model="qwen2-5-7b-instruct"
I0305 06:40:10.297767       1 gateway.go:329] "-- In RequestBody processing ..." requestID="86fdb8c3-fed4-4f7c-990a-06abae441ffa"
I0305 06:40:10.297982       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="86fdb8c3-fed4-4f7c-990a-06abae441ffa" model="qwen2-5-7b-instruct"
I0305 06:40:10.298319       1 gateway.go:562] latency, 0.0000, summary, hash(request), 30e705c5, selectedpod, 10.0.0.34:8000, ttft, 357, tpot, 24, e2e, 577, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:10.298342       1 gateway.go:748] "Request completed" requestID="fc9a62d1-bf06-4385-83fc-4c0d918e7de5" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:10.298355       1 gateway.go:764] "HandleResponseBody completed" requestID="fc9a62d1-bf06-4385-83fc-4c0d918e7de5" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:10.310762       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0886, numInputTokens, 7599
I0305 06:40:10.310778       1 tree.go:471] Updated node(0) last access: 168.4087 seconds
I0305 06:40:10.310784       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.310787       1 tree.go:471] Updated node(2) last access: 168.4087 seconds
I0305 06:40:10.310802       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:10.310806       1 tree.go:471] Updated node(23) last access: 168.4087 seconds
I0305 06:40:10.310809       1 tree.go:490] Partial tokens match child node(87). Continue to go deeper in the radix tree
I0305 06:40:10.310812       1 tree.go:471] Updated node(87) last access: 168.4088 seconds
I0305 06:40:10.310815       1 tree.go:490] Partial tokens match child node(231). Continue to go deeper in the radix tree
I0305 06:40:10.310818       1 tree.go:471] Updated node(231) last access: 168.4088 seconds
I0305 06:40:10.310822       1 tree.go:484] Entire input tokens match the child node(232)
I0305 06:40:10.310825       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:10.310832       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:10.310839       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:10.310844       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.310827484 +0000 UTC m=+168.527554349 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:50.105052843 +0000 UTC m=+148.321779707]
I0305 06:40:10.310862       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:10.310870       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:10.310933       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7599
I0305 06:40:10.310942       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.310949       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.310955       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.310960       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.310966       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.310982       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.310988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.310995       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.311004       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:10.311014       1 prefix_cache_and_load.go:584] latency, Route, 0.5254
I0305 06:40:10.311027       1 gateway.go:415] latency, selectTargetPod, 0.5254, target pod, 10.0.3.42:8000
I0305 06:40:10.311037       1 gateway.go:235] latency, HandleRequestBody, 0.5257
I0305 06:40:10.311041       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5114
I0305 06:40:10.311054       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.311058       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.311286       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.311359       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:10.311365       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.327298       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e36dfe1c-85c4-4a98-9a4d-b9ee12e9f9f7"
I0305 06:40:10.337231       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7e6a5ef0, selectedpod, 10.0.0.34:8000, ttft, 432, tpot, 20, e2e, 613, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:10.337249       1 gateway.go:748] "Request completed" requestID="bbd8cc18-dc74-4cb0-88a7-041e8aaf466a" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:10.337262       1 gateway.go:764] "HandleResponseBody completed" requestID="bbd8cc18-dc74-4cb0-88a7-041e8aaf466a" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:10.361004       1 gateway.go:608] "First token received" requestID="e36dfe1c-85c4-4a98-9a4d-b9ee12e9f9f7" ttft_ms=575
I0305 06:40:10.371457       1 gateway.go:207] "Processing request" requestID="37ad853e-a23c-49d4-b9b7-3dded8a46a87"
I0305 06:40:10.371490       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="37ad853e-a23c-49d4-b9b7-3dded8a46a87"
I0305 06:40:10.371499       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.382079       1 gateway.go:562] latency, 0.0000, summary, hash(request), 867a3881, selectedpod, 10.0.1.28:8000, ttft, 456, tpot, 19, e2e, 631, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:10.382102       1 gateway.go:748] "Request completed" requestID="e374f701-07eb-4f98-a7df-180e17bb20fe" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:10.382114       1 gateway.go:764] "HandleResponseBody completed" requestID="e374f701-07eb-4f98-a7df-180e17bb20fe" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:10.383321       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0719, numInputTokens, 7600
I0305 06:40:10.383337       1 tree.go:471] Updated node(0) last access: 168.4813 seconds
I0305 06:40:10.383343       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.383346       1 tree.go:471] Updated node(2) last access: 168.4813 seconds
I0305 06:40:10.383362       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:10.383367       1 tree.go:471] Updated node(8) last access: 168.4813 seconds
I0305 06:40:10.383373       1 tree.go:484] Entire input tokens match the child node(234)
I0305 06:40:10.383379       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:10.383386       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:10.383396       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:10.383404       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.383381341 +0000 UTC m=+168.600108213 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:50.324798011 +0000 UTC m=+148.541524880]
I0305 06:40:10.383429       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:10.383438       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:10.383502       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7600
I0305 06:40:10.383524       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.383535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.383547       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.383554       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.383562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.383573       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.383587       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:10.383597       1 prefix_cache_and_load.go:584] latency, Route, 0.5840
I0305 06:40:10.383610       1 gateway.go:415] latency, selectTargetPod, 0.5840, target pod, 10.0.1.53:8000
I0305 06:40:10.383623       1 gateway.go:235] latency, HandleRequestBody, 0.5843
I0305 06:40:10.383647       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5655
I0305 06:40:10.383652       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.383655       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.383780       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.383840       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:10.383846       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.396634       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ceac9ed7-6c69-4fb8-af80-bf054e38c270"
I0305 06:40:10.396840       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ceac9ed7-6c69-4fb8-af80-bf054e38c270" model="qwen2-5-7b-instruct"
I0305 06:40:10.403110       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="86606ca6-b6cb-49a4-8bb4-0e9fd581943d"
I0305 06:40:10.412245       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5907974f-c48e-4b24-b640-134422b8cfa9"
I0305 06:40:10.412524       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5907974f-c48e-4b24-b640-134422b8cfa9" model="qwen2-5-7b-instruct"
I0305 06:40:10.432303       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0485, numInputTokens, 7602
I0305 06:40:10.432320       1 tree.go:471] Updated node(0) last access: 168.5303 seconds
I0305 06:40:10.432326       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.432332       1 tree.go:471] Updated node(2) last access: 168.5303 seconds
I0305 06:40:10.432346       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:10.432352       1 tree.go:471] Updated node(53) last access: 168.5303 seconds
I0305 06:40:10.432391       1 tree.go:667] Split complete - New node(340)
I0305 06:40:10.432398       1 tree.go:668] Split complete - Child node(57)
I0305 06:40:10.432405       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 06:40:10.432413       1 tree.go:471] Updated node(340) last access: 168.5304 seconds
I0305 06:40:10.432420       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:10.432427       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:10.432433       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:10.432440       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:10.432444       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.432429285 +0000 UTC m=+168.649156150]
I0305 06:40:10.432458       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7486, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:10.432465       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:10.432538       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7486
I0305 06:40:10.432548       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.432555       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.432561       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.432567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.432573       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.432581       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.432593       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.432602       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:10.432612       1 prefix_cache_and_load.go:584] latency, Route, 0.6144
I0305 06:40:10.432625       1 gateway.go:415] latency, selectTargetPod, 0.6145, target pod, 10.0.0.34:8000
I0305 06:40:10.432635       1 gateway.go:235] latency, HandleRequestBody, 0.6147
I0305 06:40:10.432668       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5534
I0305 06:40:10.432672       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.432675       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.432806       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.432864       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:10.432869       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.435230       1 gateway.go:608] "First token received" requestID="86606ca6-b6cb-49a4-8bb4-0e9fd581943d" ttft_ms=635
I0305 06:40:10.441167       1 gateway.go:329] "-- In RequestBody processing ..." requestID="709016b6-0de9-444a-bab1-3724a4c05c8a"
I0305 06:40:10.441400       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="709016b6-0de9-444a-bab1-3724a4c05c8a" model="qwen2-5-7b-instruct"
I0305 06:40:10.447126       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6cad6d6c, selectedpod, 10.0.1.47:8000, ttft, 500, tpot, 18, e2e, 668, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:10.447143       1 gateway.go:748] "Request completed" requestID="f6fd2da7-6b36-4a26-ba11-33477f890b98" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:10.447150       1 gateway.go:764] "HandleResponseBody completed" requestID="f6fd2da7-6b36-4a26-ba11-33477f890b98" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:10.450209       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dd3e49ed-b4eb-4b00-a7bc-b0a67426f275"
I0305 06:40:10.466385       1 gateway.go:329] "-- In RequestBody processing ..." requestID="37ad853e-a23c-49d4-b9b7-3dded8a46a87"
I0305 06:40:10.466610       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="37ad853e-a23c-49d4-b9b7-3dded8a46a87" model="qwen2-5-7b-instruct"
I0305 06:40:10.467639       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4c8cc670-fcdd-450e-b327-243037593a04"
I0305 06:40:10.467851       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4c8cc670-fcdd-450e-b327-243037593a04" model="qwen2-5-7b-instruct"
I0305 06:40:10.484768       1 gateway.go:608] "First token received" requestID="dd3e49ed-b4eb-4b00-a7bc-b0a67426f275" ttft_ms=666
I0305 06:40:10.510121       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0772, numInputTokens, 7599
I0305 06:40:10.510143       1 tree.go:471] Updated node(0) last access: 168.6081 seconds
I0305 06:40:10.510149       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.510153       1 tree.go:471] Updated node(2) last access: 168.6081 seconds
I0305 06:40:10.510169       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:10.510172       1 tree.go:471] Updated node(31) last access: 168.6081 seconds
I0305 06:40:10.510176       1 tree.go:490] Partial tokens match child node(217). Continue to go deeper in the radix tree
I0305 06:40:10.510179       1 tree.go:471] Updated node(217) last access: 168.6081 seconds
I0305 06:40:10.510182       1 tree.go:490] Partial tokens match child node(236). Continue to go deeper in the radix tree
I0305 06:40:10.510185       1 tree.go:471] Updated node(236) last access: 168.6081 seconds
I0305 06:40:10.510189       1 tree.go:484] Entire input tokens match the child node(237)
I0305 06:40:10.510197       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:10.510205       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:10.510215       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:10.510222       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.510199454 +0000 UTC m=+168.726926319 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:50.45852976 +0000 UTC m=+148.675256625]
I0305 06:40:10.510249       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:10.510256       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:10.510564       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7599
I0305 06:40:10.510574       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0003
I0305 06:40:10.510582       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.510590       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.510599       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.510604       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.510607       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.510610       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.510619       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.510630       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:10.510642       1 prefix_cache_and_load.go:584] latency, Route, 0.6314
I0305 06:40:10.510655       1 gateway.go:415] latency, selectTargetPod, 0.6314, target pod, 10.0.1.28:8000
I0305 06:40:10.510669       1 gateway.go:235] latency, HandleRequestBody, 0.6321
I0305 06:40:10.510697       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6314
I0305 06:40:10.510702       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.510705       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.510846       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.510909       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:10.510914       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.530875       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3eccb6b2-eda4-4784-9171-b0506c7811c2"
I0305 06:40:10.533120       1 gateway.go:562] latency, 0.0000, summary, hash(request), bef21ae0, selectedpod, 10.0.3.42:8000, ttft, 575, tpot, 19, e2e, 747, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:10.533141       1 gateway.go:748] "Request completed" requestID="e36dfe1c-85c4-4a98-9a4d-b9ee12e9f9f7" targetPod="10.0.3.42:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:10.533153       1 gateway.go:764] "HandleResponseBody completed" requestID="e36dfe1c-85c4-4a98-9a4d-b9ee12e9f9f7" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:10.562432       1 gateway.go:608] "First token received" requestID="3eccb6b2-eda4-4784-9171-b0506c7811c2" ttft_ms=683
I0305 06:40:10.588019       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0771, numInputTokens, 7600
I0305 06:40:10.588034       1 tree.go:471] Updated node(0) last access: 168.6860 seconds
I0305 06:40:10.588041       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.588045       1 tree.go:471] Updated node(2) last access: 168.6860 seconds
I0305 06:40:10.588061       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:10.588065       1 tree.go:471] Updated node(8) last access: 168.6860 seconds
I0305 06:40:10.588071       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:40:10.588075       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:10.588082       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:10.588089       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:10.588095       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.588077644 +0000 UTC m=+168.804804509]
I0305 06:40:10.588108       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:40:10.588116       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:40:10.588179       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7478
I0305 06:40:10.588188       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.588195       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.588200       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.588205       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.588209       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.588217       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.588225       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:10.588235       1 prefix_cache_and_load.go:584] latency, Route, 0.7090
I0305 06:40:10.588248       1 gateway.go:415] latency, selectTargetPod, 0.7090, target pod, 10.0.1.53:8000
I0305 06:40:10.588259       1 gateway.go:235] latency, HandleRequestBody, 0.7096
I0305 06:40:10.588257       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7063
I0305 06:40:10.588264       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.588268       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.588476       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.588545       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:10.588551       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.607320       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cc6fc958-2184-45ae-bce1-df35f2623b5c"
I0305 06:40:10.608034       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3898c26d, selectedpod, 10.0.1.53:8000, ttft, 635, tpot, 19, e2e, 808, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:10.608062       1 gateway.go:748] "Request completed" requestID="86606ca6-b6cb-49a4-8bb4-0e9fd581943d" targetPod="10.0.1.53:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:10.608075       1 gateway.go:764] "HandleResponseBody completed" requestID="86606ca6-b6cb-49a4-8bb4-0e9fd581943d" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:10.637602       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0490, numInputTokens, 7602
I0305 06:40:10.637617       1 tree.go:471] Updated node(0) last access: 168.7356 seconds
I0305 06:40:10.637623       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.637626       1 tree.go:471] Updated node(2) last access: 168.7356 seconds
I0305 06:40:10.637639       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:10.637643       1 tree.go:471] Updated node(53) last access: 168.7356 seconds
I0305 06:40:10.637647       1 tree.go:484] Entire input tokens match the child node(235)
I0305 06:40:10.637650       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:40:10.637657       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:10.637662       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:40:10.637667       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.63765302 +0000 UTC m=+168.854379885 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:50.408914266 +0000 UTC m=+148.625641136]
I0305 06:40:10.637684       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:10.637691       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:10.637762       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7602
I0305 06:40:10.637772       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.637780       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.637784       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.637789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.637794       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.637802       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.637811       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:10.637821       1 prefix_cache_and_load.go:584] latency, Route, 0.7558
I0305 06:40:10.637836       1 gateway.go:415] latency, selectTargetPod, 0.7558, target pod, 10.0.0.34:8000
I0305 06:40:10.637846       1 gateway.go:235] latency, HandleRequestBody, 0.7563
I0305 06:40:10.637851       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7536
I0305 06:40:10.637864       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.637867       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.638083       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.638156       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:10.638178       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.656433       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="18ac4d34-8a13-4976-9af8-8cfd7eb6d3ca"
I0305 06:40:10.657618       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7f96813e, selectedpod, 10.0.0.34:8000, ttft, 666, tpot, 19, e2e, 839, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:10.657636       1 gateway.go:748] "Request completed" requestID="dd3e49ed-b4eb-4b00-a7bc-b0a67426f275" targetPod="10.0.0.34:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:10.657644       1 gateway.go:764] "HandleResponseBody completed" requestID="dd3e49ed-b4eb-4b00-a7bc-b0a67426f275" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:10.669138       1 gateway.go:608] "First token received" requestID="cc6fc958-2184-45ae-bce1-df35f2623b5c" ttft_ms=790
I0305 06:40:10.704698       1 gateway.go:608] "First token received" requestID="18ac4d34-8a13-4976-9af8-8cfd7eb6d3ca" ttft_ms=823
I0305 06:40:10.722600       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0844, numInputTokens, 7602
I0305 06:40:10.722621       1 tree.go:471] Updated node(0) last access: 168.8206 seconds
I0305 06:40:10.722628       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.722631       1 tree.go:471] Updated node(2) last access: 168.8206 seconds
I0305 06:40:10.722645       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:10.722650       1 tree.go:471] Updated node(8) last access: 168.8206 seconds
I0305 06:40:10.722656       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 06:40:10.722662       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:40:10.722674       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:10.722679       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:10.722684       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.722668188 +0000 UTC m=+168.939395052]
I0305 06:40:10.722703       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 06:40:10.722710       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 06:40:10.722800       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7478
I0305 06:40:10.722819       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.722830       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.722837       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.722845       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.722854       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.722867       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.722878       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:10.722902       1 prefix_cache_and_load.go:584] latency, Route, 0.8386
I0305 06:40:10.722922       1 gateway.go:415] latency, selectTargetPod, 0.8386, target pod, 10.0.1.53:8000
I0305 06:40:10.722941       1 gateway.go:235] latency, HandleRequestBody, 0.8389
I0305 06:40:10.723035       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7766
I0305 06:40:10.723046       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.723051       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.723264       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.723329       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:10.723335       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.735716       1 gateway.go:562] latency, 0.0001, summary, hash(request), daf000ab, selectedpod, 10.0.1.28:8000, ttft, 683, tpot, 19, e2e, 856, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:10.735737       1 gateway.go:748] "Request completed" requestID="3eccb6b2-eda4-4784-9171-b0506c7811c2" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:10.735750       1 gateway.go:764] "HandleResponseBody completed" requestID="3eccb6b2-eda4-4784-9171-b0506c7811c2" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:10.742101       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7d31131a-d43e-4e1f-9154-443c7fdd8af6"
I0305 06:40:10.778574       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0552, numInputTokens, 7599
I0305 06:40:10.778594       1 tree.go:471] Updated node(0) last access: 168.8765 seconds
I0305 06:40:10.778601       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.778604       1 tree.go:471] Updated node(2) last access: 168.8765 seconds
I0305 06:40:10.778618       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:10.778648       1 tree.go:471] Updated node(8) last access: 168.8766 seconds
I0305 06:40:10.778661       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:40:10.778664       1 tree.go:471] Updated node(85) last access: 168.8766 seconds
I0305 06:40:10.778668       1 tree.go:490] Partial tokens match child node(310). Continue to go deeper in the radix tree
I0305 06:40:10.778672       1 tree.go:471] Updated node(310) last access: 168.8766 seconds
I0305 06:40:10.778676       1 tree.go:490] Partial tokens match child node(238). Continue to go deeper in the radix tree
I0305 06:40:10.778680       1 tree.go:471] Updated node(238) last access: 168.8766 seconds
I0305 06:40:10.778685       1 tree.go:484] Entire input tokens match the child node(239)
I0305 06:40:10.778689       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:10.778699       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:10.778712       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:10.778718       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.778691556 +0000 UTC m=+168.995418422 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:50.525680082 +0000 UTC m=+148.742406952]
I0305 06:40:10.778741       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:10.778748       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:10.778885       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7599
I0305 06:40:10.778895       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.778904       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.778910       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.778914       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.778923       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.778928       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.778935       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.778939       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.778948       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.778957       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:10.778979       1 prefix_cache_and_load.go:584] latency, Route, 0.8326
I0305 06:40:10.778996       1 gateway.go:415] latency, selectTargetPod, 0.8326, target pod, 10.0.1.53:8000
I0305 06:40:10.779009       1 gateway.go:235] latency, HandleRequestBody, 0.8339
I0305 06:40:10.779042       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8235
I0305 06:40:10.779047       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.779051       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.779362       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.779545       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:10.779552       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.779862       1 gateway.go:207] "Processing request" requestID="7a41996a-3443-42df-9ccc-e6e1a9486829"
I0305 06:40:10.779918       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7a41996a-3443-42df-9ccc-e6e1a9486829"
I0305 06:40:10.779931       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.785165       1 gateway.go:608] "First token received" requestID="7d31131a-d43e-4e1f-9154-443c7fdd8af6" ttft_ms=901
I0305 06:40:10.790773       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7a41996a-3443-42df-9ccc-e6e1a9486829"
I0305 06:40:10.791012       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7a41996a-3443-42df-9ccc-e6e1a9486829" model="qwen2-5-7b-instruct"
I0305 06:40:10.798217       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ec92b22d-b7ab-41e9-b662-b46d85457f5d"
I0305 06:40:10.829996       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0504, numInputTokens, 7599
I0305 06:40:10.830015       1 tree.go:471] Updated node(0) last access: 168.9280 seconds
I0305 06:40:10.830021       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.830024       1 tree.go:471] Updated node(2) last access: 168.9280 seconds
I0305 06:40:10.830039       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:10.830043       1 tree.go:471] Updated node(45) last access: 168.9280 seconds
I0305 06:40:10.830047       1 tree.go:490] Partial tokens match child node(173). Continue to go deeper in the radix tree
I0305 06:40:10.830051       1 tree.go:471] Updated node(173) last access: 168.9280 seconds
I0305 06:40:10.830055       1 tree.go:484] Entire input tokens match the child node(233)
I0305 06:40:10.830058       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:10.830065       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:10.830071       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:10.830076       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.830060592 +0000 UTC m=+169.046787456 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:50.238423126 +0000 UTC m=+148.455149991]
I0305 06:40:10.830094       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:10.830101       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:10.830163       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:40:10.830172       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.830181       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.830187       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.830191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.830196       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.830203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.830210       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.830218       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:10.830230       1 prefix_cache_and_load.go:584] latency, Route, 0.8747
I0305 06:40:10.830247       1 gateway.go:415] latency, selectTargetPod, 0.8747, target pod, 10.0.0.34:8000
I0305 06:40:10.830260       1 gateway.go:235] latency, HandleRequestBody, 0.9100
I0305 06:40:10.830260       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8738
I0305 06:40:10.830268       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.830272       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.830446       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.830505       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:10.830522       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.834502       1 gateway.go:608] "First token received" requestID="ec92b22d-b7ab-41e9-b662-b46d85457f5d" ttft_ms=889
I0305 06:40:10.848820       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="20911bea-eab1-424a-8653-bb2e5dfe9291"
I0305 06:40:10.887286       1 gateway.go:608] "First token received" requestID="20911bea-eab1-424a-8653-bb2e5dfe9291" ttft_ms=967
I0305 06:40:10.908694       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2ac88e96, selectedpod, 10.0.0.34:8000, ttft, 823, tpot, 22, e2e, 1027, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:10.908715       1 gateway.go:748] "Request completed" requestID="18ac4d34-8a13-4976-9af8-8cfd7eb6d3ca" targetPod="10.0.0.34:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:10.908726       1 gateway.go:764] "HandleResponseBody completed" requestID="18ac4d34-8a13-4976-9af8-8cfd7eb6d3ca" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:10.916245       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0857, numInputTokens, 7593
I0305 06:40:10.916262       1 tree.go:471] Updated node(0) last access: 169.0142 seconds
I0305 06:40:10.916268       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:10.916271       1 tree.go:471] Updated node(2) last access: 169.0142 seconds
I0305 06:40:10.916284       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:10.916286       1 tree.go:471] Updated node(23) last access: 169.0142 seconds
I0305 06:40:10.916291       1 tree.go:484] Entire input tokens match the child node(240)
I0305 06:40:10.916296       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7593 tokens
I0305 06:40:10.916302       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 06:40:10.916307       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:40:10.916313       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:10.916298123 +0000 UTC m=+169.133024988 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:50.617222705 +0000 UTC m=+148.833949570]
I0305 06:40:10.916330       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7593, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:10.916337       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:10.916396       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7593
I0305 06:40:10.916405       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:10.916412       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.916417       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.916423       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.916428       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:10.916436       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:10.916449       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:10.916459       1 prefix_cache_and_load.go:584] latency, Route, 0.9600
I0305 06:40:10.916473       1 gateway.go:415] latency, selectTargetPod, 0.9600, target pod, 10.0.3.42:8000
I0305 06:40:10.916484       1 gateway.go:235] latency, HandleRequestBody, 0.9604
I0305 06:40:10.916506       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9379
I0305 06:40:10.916525       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:10.916532       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:10.916695       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:10.916767       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:10.916772       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:10.918668       1 gateway.go:562] latency, 0.0001, summary, hash(request), 40f003cd, selectedpod, 10.0.1.53:8000, ttft, 790, tpot, 27, e2e, 1039, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:10.918710       1 gateway.go:748] "Request completed" requestID="cc6fc958-2184-45ae-bce1-df35f2623b5c" targetPod="10.0.1.53:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:10.918728       1 gateway.go:764] "HandleResponseBody completed" requestID="cc6fc958-2184-45ae-bce1-df35f2623b5c" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:10.933565       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="26fb0708-125a-45f5-9ee1-9b24da2d8efc"
I0305 06:40:10.965273       1 gateway.go:608] "First token received" requestID="26fb0708-125a-45f5-9ee1-9b24da2d8efc" ttft_ms=1009
I0305 06:40:10.971517       1 gateway.go:207] "Processing request" requestID="ccee17ef-b3b8-4149-9b65-48ec8c6034b4"
I0305 06:40:10.971539       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ccee17ef-b3b8-4149-9b65-48ec8c6034b4"
I0305 06:40:10.971548       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.972963       1 gateway.go:207] "Processing request" requestID="816d2ff2-b8dc-4ab4-965d-aff56f7a0a52"
I0305 06:40:10.972997       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="816d2ff2-b8dc-4ab4-965d-aff56f7a0a52"
I0305 06:40:10.973004       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.973982       1 gateway.go:207] "Processing request" requestID="72274f70-0192-4930-ac8f-0a4574114ea9"
I0305 06:40:10.974007       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="72274f70-0192-4930-ac8f-0a4574114ea9"
I0305 06:40:10.974015       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.977330       1 gateway.go:207] "Processing request" requestID="755c1d6b-90b6-4746-ac96-9ebc16dfbc30"
I0305 06:40:10.977354       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="755c1d6b-90b6-4746-ac96-9ebc16dfbc30"
I0305 06:40:10.977365       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.978243       1 gateway.go:207] "Processing request" requestID="392110e9-399c-4a7f-9fee-984d3083c51d"
I0305 06:40:10.978264       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="392110e9-399c-4a7f-9fee-984d3083c51d"
I0305 06:40:10.978272       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.979416       1 gateway.go:207] "Processing request" requestID="aef4801b-813a-4d9f-b31c-17eac6cb63af"
I0305 06:40:10.979438       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="aef4801b-813a-4d9f-b31c-17eac6cb63af"
I0305 06:40:10.979446       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.981681       1 gateway.go:207] "Processing request" requestID="417bc380-d8bd-49c6-9477-ad7f8e06b44d"
I0305 06:40:10.981699       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="417bc380-d8bd-49c6-9477-ad7f8e06b44d"
I0305 06:40:10.981707       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.983784       1 gateway.go:207] "Processing request" requestID="e4afff9b-a5c9-434b-b385-15276a08877f"
I0305 06:40:10.983804       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ccee17ef-b3b8-4149-9b65-48ec8c6034b4"
I0305 06:40:10.984055       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ccee17ef-b3b8-4149-9b65-48ec8c6034b4" model="qwen2-5-7b-instruct"
I0305 06:40:10.984578       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e4afff9b-a5c9-434b-b385-15276a08877f"
I0305 06:40:10.984585       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.984712       1 gateway.go:329] "-- In RequestBody processing ..." requestID="816d2ff2-b8dc-4ab4-965d-aff56f7a0a52"
I0305 06:40:10.984934       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="816d2ff2-b8dc-4ab4-965d-aff56f7a0a52" model="qwen2-5-7b-instruct"
I0305 06:40:10.986383       1 gateway.go:207] "Processing request" requestID="0ac7ca3c-e573-4b12-9d4d-dc2e2b9c5f95"
I0305 06:40:10.986397       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0ac7ca3c-e573-4b12-9d4d-dc2e2b9c5f95"
I0305 06:40:10.986405       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.986975       1 gateway.go:207] "Processing request" requestID="4648661f-9720-4131-87b6-f647aba388b3"
I0305 06:40:10.987002       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4648661f-9720-4131-87b6-f647aba388b3"
I0305 06:40:10.987009       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.988955       1 gateway.go:329] "-- In RequestBody processing ..." requestID="72274f70-0192-4930-ac8f-0a4574114ea9"
I0305 06:40:10.989166       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="72274f70-0192-4930-ac8f-0a4574114ea9" model="qwen2-5-7b-instruct"
I0305 06:40:10.995274       1 gateway.go:207] "Processing request" requestID="1ef18434-5503-4dcf-a18a-f19097209c00"
I0305 06:40:10.995290       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1ef18434-5503-4dcf-a18a-f19097209c00"
I0305 06:40:10.995296       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:10.997680       1 gateway.go:562] latency, 0.0000, summary, hash(request), d99c6fba, selectedpod, 10.0.1.53:8000, ttft, 901, tpot, 23, e2e, 1113, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:10.997697       1 gateway.go:748] "Request completed" requestID="7d31131a-d43e-4e1f-9154-443c7fdd8af6" targetPod="10.0.1.53:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:10.997707       1 gateway.go:764] "HandleResponseBody completed" requestID="7d31131a-d43e-4e1f-9154-443c7fdd8af6" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:11.010530       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0938, numInputTokens, 7601
I0305 06:40:11.010546       1 tree.go:471] Updated node(0) last access: 169.1085 seconds
I0305 06:40:11.010552       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.010556       1 tree.go:471] Updated node(2) last access: 169.1085 seconds
I0305 06:40:11.010570       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:11.010574       1 tree.go:471] Updated node(31) last access: 169.1085 seconds
I0305 06:40:11.010577       1 tree.go:490] Partial tokens match child node(111). Continue to go deeper in the radix tree
I0305 06:40:11.010581       1 tree.go:471] Updated node(111) last access: 169.1085 seconds
I0305 06:40:11.010589       1 tree.go:667] Split complete - New node(344)
I0305 06:40:11.010594       1 tree.go:668] Split complete - Child node(177)
I0305 06:40:11.010598       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 06:40:11.010604       1 tree.go:471] Updated node(344) last access: 169.1085 seconds
I0305 06:40:11.010609       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:11.010614       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:11.010620       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:11.010627       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.010632       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.010615929 +0000 UTC m=+169.227342802]
I0305 06:40:11.010646       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7484, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:11.010666       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:11.010762       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7484
I0305 06:40:11.010771       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.010778       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.010789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.010795       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.010799       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.010807       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.010811       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.010819       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.010832       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:11.010842       1 prefix_cache_and_load.go:584] latency, Route, 1.0322
I0305 06:40:11.010879       1 gateway.go:415] latency, selectTargetPod, 1.0322, target pod, 10.0.1.28:8000
I0305 06:40:11.010892       1 gateway.go:235] latency, HandleRequestBody, 1.1049
I0305 06:40:11.010921       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0319
I0305 06:40:11.010928       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.010931       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.011159       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.011228       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:11.011234       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.019282       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2bbe411b, selectedpod, 10.0.1.53:8000, ttft, 889, tpot, 20, e2e, 1074, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:11.019302       1 gateway.go:748] "Request completed" requestID="ec92b22d-b7ab-41e9-b662-b46d85457f5d" targetPod="10.0.1.53:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:11.019312       1 gateway.go:764] "HandleResponseBody completed" requestID="ec92b22d-b7ab-41e9-b662-b46d85457f5d" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:11.031596       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5e98cd30-9b0b-4704-87ad-d9c36ab15441"
I0305 06:40:11.062554       1 gateway.go:562] latency, 0.0000, summary, hash(request), bdbf9111, selectedpod, 10.0.0.34:8000, ttft, 967, tpot, 19, e2e, 1142, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:11.062574       1 gateway.go:748] "Request completed" requestID="20911bea-eab1-424a-8653-bb2e5dfe9291" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:11.062585       1 gateway.go:764] "HandleResponseBody completed" requestID="20911bea-eab1-424a-8653-bb2e5dfe9291" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:11.067320       1 gateway.go:608] "First token received" requestID="5e98cd30-9b0b-4704-87ad-d9c36ab15441" ttft_ms=1161
I0305 06:40:11.097841       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0866, numInputTokens, 7599
I0305 06:40:11.097861       1 tree.go:471] Updated node(0) last access: 169.1958 seconds
I0305 06:40:11.097867       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.097872       1 tree.go:471] Updated node(2) last access: 169.1958 seconds
I0305 06:40:11.097887       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:11.097892       1 tree.go:471] Updated node(51) last access: 169.1958 seconds
I0305 06:40:11.097895       1 tree.go:490] Partial tokens match child node(336). Continue to go deeper in the radix tree
I0305 06:40:11.097897       1 tree.go:471] Updated node(336) last access: 169.1958 seconds
I0305 06:40:11.097903       1 tree.go:484] Entire input tokens match the child node(241)
I0305 06:40:11.097906       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:11.097912       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:11.097920       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.097925       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.097908115 +0000 UTC m=+169.314634979 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:50.808619154 +0000 UTC m=+149.025346019]
I0305 06:40:11.097941       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:11.097949       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:11.098023       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7599
I0305 06:40:11.098032       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.098039       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.098044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.098048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.098054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.098060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.098070       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.098080       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:11.098092       1 prefix_cache_and_load.go:584] latency, Route, 1.1191
I0305 06:40:11.098109       1 gateway.go:415] latency, selectTargetPod, 1.1191, target pod, 10.0.1.28:8000
I0305 06:40:11.098121       1 gateway.go:235] latency, HandleRequestBody, 1.1195
I0305 06:40:11.098150       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0890
I0305 06:40:11.098155       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.098159       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.098315       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.098372       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:11.098377       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.117723       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8c1cceba-1268-414f-8625-fb8a935447c2"
I0305 06:40:11.138653       1 gateway.go:562] latency, 0.0000, summary, hash(request), ee618cae, selectedpod, 10.0.3.42:8000, ttft, 1009, tpot, 19, e2e, 1182, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 06:40:11.138675       1 gateway.go:748] "Request completed" requestID="26fb0708-125a-45f5-9ee1-9b24da2d8efc" targetPod="10.0.3.42:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 06:40:11.138689       1 gateway.go:764] "HandleResponseBody completed" requestID="26fb0708-125a-45f5-9ee1-9b24da2d8efc" promptTokens=7612 completionTokens=10 stream=true
I0305 06:40:11.147589       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 7596
I0305 06:40:11.147605       1 tree.go:471] Updated node(0) last access: 169.2455 seconds
I0305 06:40:11.147611       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.147614       1 tree.go:471] Updated node(2) last access: 169.2456 seconds
I0305 06:40:11.147629       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:11.147633       1 tree.go:471] Updated node(4) last access: 169.2456 seconds
I0305 06:40:11.147643       1 tree.go:667] Split complete - New node(346)
I0305 06:40:11.147646       1 tree.go:668] Split complete - Child node(229)
I0305 06:40:11.147651       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:40:11.147655       1 tree.go:471] Updated node(346) last access: 169.2456 seconds
I0305 06:40:11.147660       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:11.147663       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:11.147671       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:11.147676       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.147684       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.147667092 +0000 UTC m=+169.364393957]
I0305 06:40:11.147698       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7479, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:11.147704       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:11.147765       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7479
I0305 06:40:11.147775       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.147783       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.147791       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.147795       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.147801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.147806       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.147814       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.147822       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:11.147830       1 prefix_cache_and_load.go:584] latency, Route, 1.1387
I0305 06:40:11.147842       1 gateway.go:415] latency, selectTargetPod, 1.1387, target pod, 10.0.1.47:8000
I0305 06:40:11.147851       1 gateway.go:235] latency, HandleRequestBody, 1.1390
I0305 06:40:11.147882       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1201
I0305 06:40:11.147886       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.147890       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.148042       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.148110       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:11.148116       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.154132       1 gateway.go:608] "First token received" requestID="8c1cceba-1268-414f-8625-fb8a935447c2" ttft_ms=1175
I0305 06:40:11.167801       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b27dafe8-2288-4161-9617-3ab447edd18c"
I0305 06:40:11.204154       1 gateway.go:608] "First token received" requestID="b27dafe8-2288-4161-9617-3ab447edd18c" ttft_ms=1195
I0305 06:40:11.222931       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0748, numInputTokens, 7601
I0305 06:40:11.222953       1 tree.go:471] Updated node(0) last access: 169.3209 seconds
I0305 06:40:11.222960       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.222964       1 tree.go:471] Updated node(2) last access: 169.3209 seconds
I0305 06:40:11.222987       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:11.222992       1 tree.go:471] Updated node(4) last access: 169.3209 seconds
I0305 06:40:11.223006       1 tree.go:667] Split complete - New node(348)
I0305 06:40:11.223010       1 tree.go:668] Split complete - Child node(134)
I0305 06:40:11.223017       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 06:40:11.223023       1 tree.go:471] Updated node(348) last access: 169.3210 seconds
I0305 06:40:11.223030       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:40:11.223035       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:11.223043       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:11.223051       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.223057       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.223037196 +0000 UTC m=+169.439764064]
I0305 06:40:11.223075       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7483, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:40:11.223085       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:40:11.223162       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7483
I0305 06:40:11.223173       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.223183       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.223191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.223199       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.223203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.223212       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.223224       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.223237       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:11.223251       1 prefix_cache_and_load.go:584] latency, Route, 1.1954
I0305 06:40:11.223268       1 gateway.go:415] latency, selectTargetPod, 1.1955, target pod, 10.0.1.47:8000
I0305 06:40:11.223282       1 gateway.go:235] latency, HandleRequestBody, 1.1958
I0305 06:40:11.223307       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1947
I0305 06:40:11.223312       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.223316       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.223462       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.223536       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:11.223543       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.242452       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="59c119cf-e649-427d-a1e4-a78ac11b55d4"
I0305 06:40:11.246660       1 gateway.go:207] "Processing request" requestID="8cff9e2d-b8e7-4074-bfaa-b0a83583ce66"
I0305 06:40:11.246684       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8cff9e2d-b8e7-4074-bfaa-b0a83583ce66"
I0305 06:40:11.246694       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:11.277268       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7289b4be, selectedpod, 10.0.1.28:8000, ttft, 1161, tpot, 23, e2e, 1371, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:11.277289       1 gateway.go:748] "Request completed" requestID="5e98cd30-9b0b-4704-87ad-d9c36ab15441" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:11.277300       1 gateway.go:764] "HandleResponseBody completed" requestID="5e98cd30-9b0b-4704-87ad-d9c36ab15441" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:11.285495       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0619, numInputTokens, 7602
I0305 06:40:11.285522       1 tree.go:471] Updated node(0) last access: 169.3835 seconds
I0305 06:40:11.285528       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.285532       1 tree.go:471] Updated node(2) last access: 169.3835 seconds
I0305 06:40:11.285547       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:11.285552       1 tree.go:471] Updated node(23) last access: 169.3835 seconds
I0305 06:40:11.285557       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0305 06:40:11.285563       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:40:11.285571       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:11.285578       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.285586       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.285565585 +0000 UTC m=+169.502292471]
I0305 06:40:11.285613       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7478, Matching ratio: 0.9837, # Matched pods: 0, Matched pods: []
I0305 06:40:11.285621       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9837 > 0.5000)
I0305 06:40:11.285699       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7478
I0305 06:40:11.285711       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.285722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.285727       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.285735       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.285742       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.285754       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.285766       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:11.285779       1 prefix_cache_and_load.go:584] latency, Route, 1.2572
I0305 06:40:11.285795       1 gateway.go:415] latency, selectTargetPod, 1.2572, target pod, 10.0.3.42:8000
I0305 06:40:11.285807       1 gateway.go:235] latency, HandleRequestBody, 1.2575
I0305 06:40:11.285808       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2412
I0305 06:40:11.285820       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.285823       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.286081       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.286167       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:11.286176       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.302547       1 gateway.go:608] "First token received" requestID="59c119cf-e649-427d-a1e4-a78ac11b55d4" ttft_ms=1275
I0305 06:40:11.304111       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="052ec8c7-1e05-4979-b360-5f88e9513099"
I0305 06:40:11.334772       1 gateway.go:562] latency, 0.0000, summary, hash(request), 198c550f, selectedpod, 10.0.1.28:8000, ttft, 1175, tpot, 20, e2e, 1356, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:11.334794       1 gateway.go:748] "Request completed" requestID="8c1cceba-1268-414f-8625-fb8a935447c2" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:11.334809       1 gateway.go:764] "HandleResponseBody completed" requestID="8c1cceba-1268-414f-8625-fb8a935447c2" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:11.337891       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0517, numInputTokens, 7598
I0305 06:40:11.337911       1 tree.go:471] Updated node(0) last access: 169.4359 seconds
I0305 06:40:11.337917       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.337922       1 tree.go:471] Updated node(2) last access: 169.4359 seconds
I0305 06:40:11.337936       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:11.337941       1 tree.go:471] Updated node(12) last access: 169.4359 seconds
I0305 06:40:11.337944       1 tree.go:490] Partial tokens match child node(215). Continue to go deeper in the radix tree
I0305 06:40:11.337947       1 tree.go:471] Updated node(215) last access: 169.4359 seconds
I0305 06:40:11.337959       1 tree.go:667] Split complete - New node(351)
I0305 06:40:11.337963       1 tree.go:668] Split complete - Child node(130)
I0305 06:40:11.337977       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:40:11.337984       1 tree.go:471] Updated node(351) last access: 169.4359 seconds
I0305 06:40:11.337991       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:40:11.337996       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:11.338004       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:11.338013       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.338020       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.337998289 +0000 UTC m=+169.554725155]
I0305 06:40:11.338040       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7483, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:40:11.338052       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:40:11.338129       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7483
I0305 06:40:11.338143       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.338155       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.338162       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.338167       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.338171       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.338176       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.338180       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.338189       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.338197       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:11.338213       1 prefix_cache_and_load.go:584] latency, Route, 1.2936
I0305 06:40:11.338230       1 gateway.go:415] latency, selectTargetPod, 1.2937, target pod, 10.0.0.39:8000
I0305 06:40:11.338243       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2593
I0305 06:40:11.338253       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.338258       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.338246       1 gateway.go:235] latency, HandleRequestBody, 1.2940
I0305 06:40:11.338479       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.338582       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:11.338592       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.346927       1 gateway.go:608] "First token received" requestID="052ec8c7-1e05-4979-b360-5f88e9513099" ttft_ms=1318
I0305 06:40:11.358777       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e46e332e-d528-4a10-90b7-122cdda81da2"
I0305 06:40:11.394763       1 gateway.go:207] "Processing request" requestID="92ef9e49-9589-400d-b23a-434cb6a6723f"
I0305 06:40:11.394793       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="92ef9e49-9589-400d-b23a-434cb6a6723f"
I0305 06:40:11.394801       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:11.402745       1 gateway.go:608] "First token received" requestID="e46e332e-d528-4a10-90b7-122cdda81da2" ttft_ms=1358
I0305 06:40:11.415884       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0773, numInputTokens, 7594
I0305 06:40:11.415910       1 tree.go:471] Updated node(0) last access: 169.5138 seconds
I0305 06:40:11.415918       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.415922       1 tree.go:471] Updated node(2) last access: 169.5139 seconds
I0305 06:40:11.415934       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:11.415937       1 tree.go:471] Updated node(53) last access: 169.5139 seconds
I0305 06:40:11.415944       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:11.415950       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 06:40:11.415958       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:40:11.415965       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.415980       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.415952435 +0000 UTC m=+169.632679300]
I0305 06:40:11.416004       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7478, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:11.416013       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:11.416150       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:40:11.416165       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.416185       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.416195       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.416205       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.416214       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.416233       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.416247       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:11.416352       1 prefix_cache_and_load.go:584] latency, Route, 1.3374
I0305 06:40:11.416378       1 gateway.go:415] latency, selectTargetPod, 1.3374, target pod, 10.0.0.34:8000
I0305 06:40:11.416433       1 gateway.go:235] latency, HandleRequestBody, 1.3378
I0305 06:40:11.416496       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3366
I0305 06:40:11.416504       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.416519       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.417022       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.417108       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0006
I0305 06:40:11.417116       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.422936       1 gateway.go:562] latency, 0.0000, summary, hash(request), e667d0be, selectedpod, 10.0.1.47:8000, ttft, 1195, tpot, 24, e2e, 1414, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:11.422956       1 gateway.go:748] "Request completed" requestID="b27dafe8-2288-4161-9617-3ab447edd18c" targetPod="10.0.1.47:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:11.422967       1 gateway.go:764] "HandleResponseBody completed" requestID="b27dafe8-2288-4161-9617-3ab447edd18c" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:11.435745       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="257ff108-b191-41b0-be2a-32bedf0df53a"
I0305 06:40:11.474105       1 gateway.go:608] "First token received" requestID="257ff108-b191-41b0-be2a-32bedf0df53a" ttft_ms=1395
I0305 06:40:11.481624       1 gateway.go:562] latency, 0.0000, summary, hash(request), be249b14, selectedpod, 10.0.1.47:8000, ttft, 1275, tpot, 19, e2e, 1454, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:11.481653       1 gateway.go:748] "Request completed" requestID="59c119cf-e649-427d-a1e4-a78ac11b55d4" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:11.481667       1 gateway.go:764] "HandleResponseBody completed" requestID="59c119cf-e649-427d-a1e4-a78ac11b55d4" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:11.497685       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0806, numInputTokens, 7596
I0305 06:40:11.497702       1 tree.go:471] Updated node(0) last access: 169.5956 seconds
I0305 06:40:11.497708       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.497711       1 tree.go:471] Updated node(2) last access: 169.5957 seconds
I0305 06:40:11.497723       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:11.497726       1 tree.go:471] Updated node(31) last access: 169.5957 seconds
I0305 06:40:11.497735       1 tree.go:667] Split complete - New node(354)
I0305 06:40:11.497741       1 tree.go:668] Split complete - Child node(139)
I0305 06:40:11.497748       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:40:11.497753       1 tree.go:471] Updated node(354) last access: 169.5957 seconds
I0305 06:40:11.497759       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:11.497764       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:11.497770       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:11.497777       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.497782       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.497766783 +0000 UTC m=+169.714493647]
I0305 06:40:11.497795       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7480, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:11.497801       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:11.497867       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7480
I0305 06:40:11.497877       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.497884       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.497889       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.497892       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.497895       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.497899       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.497910       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.497920       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:11.497928       1 prefix_cache_and_load.go:584] latency, Route, 1.4180
I0305 06:40:11.497943       1 gateway.go:415] latency, selectTargetPod, 1.4181, target pod, 10.0.1.28:8000
I0305 06:40:11.497952       1 gateway.go:235] latency, HandleRequestBody, 1.4184
I0305 06:40:11.497986       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3984
I0305 06:40:11.497991       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.497994       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.498139       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.498198       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:11.498204       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.517363       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a9bfc283-7d43-45e0-80e8-86a250f37405"
I0305 06:40:11.520295       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8fcfe942, selectedpod, 10.0.3.42:8000, ttft, 1318, tpot, 19, e2e, 1491, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:11.520319       1 gateway.go:748] "Request completed" requestID="052ec8c7-1e05-4979-b360-5f88e9513099" targetPod="10.0.3.42:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:11.520333       1 gateway.go:764] "HandleResponseBody completed" requestID="052ec8c7-1e05-4979-b360-5f88e9513099" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:11.547317       1 gateway.go:207] "Processing request" requestID="c65fd98c-55bc-438d-bd1c-323b75183683"
I0305 06:40:11.547356       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c65fd98c-55bc-438d-bd1c-323b75183683"
I0305 06:40:11.547368       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:11.550867       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0527, numInputTokens, 7595
I0305 06:40:11.550884       1 tree.go:471] Updated node(0) last access: 169.6488 seconds
I0305 06:40:11.550890       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.550894       1 tree.go:471] Updated node(2) last access: 169.6488 seconds
I0305 06:40:11.550905       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:11.550908       1 tree.go:471] Updated node(51) last access: 169.6488 seconds
I0305 06:40:11.550917       1 tree.go:667] Split complete - New node(356)
I0305 06:40:11.550926       1 tree.go:668] Split complete - Child node(29)
I0305 06:40:11.550932       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:40:11.550936       1 tree.go:471] Updated node(356) last access: 169.6489 seconds
I0305 06:40:11.550946       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:40:11.550952       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:40:11.550960       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:11.550966       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.550983       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.550954633 +0000 UTC m=+169.767681498]
I0305 06:40:11.551000       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7482, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:40:11.551010       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:40:11.551151       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7482
I0305 06:40:11.551161       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.551168       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.551175       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.551181       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.551185       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.551190       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.551197       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.551207       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:11.551217       1 prefix_cache_and_load.go:584] latency, Route, 1.4517
I0305 06:40:11.551235       1 gateway.go:415] latency, selectTargetPod, 1.4517, target pod, 10.0.1.28:8000
I0305 06:40:11.551248       1 gateway.go:235] latency, HandleRequestBody, 1.4522
I0305 06:40:11.551323       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4290
I0305 06:40:11.551337       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.551341       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.551826       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.552005       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0007
I0305 06:40:11.552014       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.565831       1 gateway.go:608] "First token received" requestID="a9bfc283-7d43-45e0-80e8-86a250f37405" ttft_ms=1486
I0305 06:40:11.570500       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e38718c3-0842-47d3-8fca-9cc7016b42f7"
I0305 06:40:11.578716       1 gateway.go:562] latency, 0.0001, summary, hash(request), 442a2ae2, selectedpod, 10.0.0.39:8000, ttft, 1358, tpot, 19, e2e, 1534, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:11.578736       1 gateway.go:748] "Request completed" requestID="e46e332e-d528-4a10-90b7-122cdda81da2" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:11.578775       1 gateway.go:764] "HandleResponseBody completed" requestID="e46e332e-d528-4a10-90b7-122cdda81da2" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:11.624003       1 gateway.go:608] "First token received" requestID="e38718c3-0842-47d3-8fca-9cc7016b42f7" ttft_ms=1524
I0305 06:40:11.626740       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0747, numInputTokens, 7598
I0305 06:40:11.626759       1 tree.go:471] Updated node(0) last access: 169.7247 seconds
I0305 06:40:11.626765       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.626768       1 tree.go:471] Updated node(2) last access: 169.7247 seconds
I0305 06:40:11.626782       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:11.626787       1 tree.go:471] Updated node(12) last access: 169.7247 seconds
I0305 06:40:11.626790       1 tree.go:490] Partial tokens match child node(304). Continue to go deeper in the radix tree
I0305 06:40:11.626793       1 tree.go:471] Updated node(304) last access: 169.7247 seconds
I0305 06:40:11.626803       1 tree.go:667] Split complete - New node(358)
I0305 06:40:11.626807       1 tree.go:668] Split complete - Child node(305)
I0305 06:40:11.626811       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:40:11.626815       1 tree.go:471] Updated node(358) last access: 169.7248 seconds
I0305 06:40:11.626822       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:11.626826       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:11.626833       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:11.626839       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.626845       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.626828206 +0000 UTC m=+169.843555070]
I0305 06:40:11.626859       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7482, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:11.626865       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:11.626933       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7482
I0305 06:40:11.626943       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.626950       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.626954       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.626959       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.626965       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.626976       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.626984       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.626993       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.627002       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:11.627012       1 prefix_cache_and_load.go:584] latency, Route, 1.5047
I0305 06:40:11.627027       1 gateway.go:415] latency, selectTargetPod, 1.5047, target pod, 10.0.0.39:8000
I0305 06:40:11.627038       1 gateway.go:235] latency, HandleRequestBody, 1.5050
I0305 06:40:11.627066       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4960
I0305 06:40:11.627071       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.627073       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.627218       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.627283       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:11.627288       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.644364       1 gateway.go:562] latency, 0.0001, summary, hash(request), 5f820975, selectedpod, 10.0.0.34:8000, ttft, 1395, tpot, 18, e2e, 1565, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:40:11.644388       1 gateway.go:748] "Request completed" requestID="257ff108-b191-41b0-be2a-32bedf0df53a" targetPod="10.0.0.34:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:40:11.644403       1 gateway.go:764] "HandleResponseBody completed" requestID="257ff108-b191-41b0-be2a-32bedf0df53a" promptTokens=7613 completionTokens=10 stream=true
I0305 06:40:11.646714       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="aa5de1f3-0f2a-48d2-99ab-23e66d19d862"
I0305 06:40:11.679141       1 gateway.go:207] "Processing request" requestID="abc156ab-eed9-4e31-abf7-cf4683d86c37"
I0305 06:40:11.679164       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="abc156ab-eed9-4e31-abf7-cf4683d86c37"
I0305 06:40:11.679173       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:11.687468       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0602, numInputTokens, 7601
I0305 06:40:11.687483       1 tree.go:471] Updated node(0) last access: 169.7854 seconds
I0305 06:40:11.687489       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.687492       1 tree.go:471] Updated node(2) last access: 169.7854 seconds
I0305 06:40:11.687505       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:11.687520       1 tree.go:471] Updated node(23) last access: 169.7855 seconds
I0305 06:40:11.687526       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:40:11.687530       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:11.687536       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:11.687541       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.687545       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.687531967 +0000 UTC m=+169.904258831]
I0305 06:40:11.687560       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:40:11.687568       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:40:11.687634       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7478
I0305 06:40:11.687647       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.687655       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.687661       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.687666       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.687668       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.687676       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.687686       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:11.687699       1 prefix_cache_and_load.go:584] latency, Route, 1.5566
I0305 06:40:11.687715       1 gateway.go:415] latency, selectTargetPod, 1.5567, target pod, 10.0.3.42:8000
I0305 06:40:11.687728       1 gateway.go:235] latency, HandleRequestBody, 1.5570
I0305 06:40:11.687771       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5313
I0305 06:40:11.687784       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.687788       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.688001       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.688082       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:11.688088       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.689734       1 gateway.go:608] "First token received" requestID="aa5de1f3-0f2a-48d2-99ab-23e66d19d862" ttft_ms=1567
I0305 06:40:11.703765       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="19b0d89b-9c0e-48a4-b858-6972b65cbae4"
I0305 06:40:11.742384       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0543, numInputTokens, 7596
I0305 06:40:11.742401       1 tree.go:471] Updated node(0) last access: 169.8403 seconds
I0305 06:40:11.742407       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.742410       1 tree.go:471] Updated node(2) last access: 169.8404 seconds
I0305 06:40:11.742424       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:11.742428       1 tree.go:471] Updated node(31) last access: 169.8404 seconds
I0305 06:40:11.742432       1 tree.go:490] Partial tokens match child node(354). Continue to go deeper in the radix tree
I0305 06:40:11.742435       1 tree.go:471] Updated node(354) last access: 169.8404 seconds
I0305 06:40:11.742444       1 tree.go:667] Split complete - New node(361)
I0305 06:40:11.742449       1 tree.go:668] Split complete - Child node(355)
I0305 06:40:11.742453       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 06:40:11.742458       1 tree.go:471] Updated node(361) last access: 169.8404 seconds
I0305 06:40:11.742463       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:40:11.742466       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:11.742472       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:11.742477       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.742484       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.742468147 +0000 UTC m=+169.959195012]
I0305 06:40:11.742502       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7483, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:40:11.742520       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:40:11.742589       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7483
I0305 06:40:11.742599       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.742609       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.742614       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.742619       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.742624       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.742628       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.742631       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.742638       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.742647       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:11.742657       1 prefix_cache_and_load.go:584] latency, Route, 1.5862
I0305 06:40:11.742672       1 gateway.go:415] latency, selectTargetPod, 1.5862, target pod, 10.0.1.28:8000
I0305 06:40:11.742686       1 gateway.go:235] latency, HandleRequestBody, 1.5865
I0305 06:40:11.742703       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5639
I0305 06:40:11.742716       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.742723       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.743023       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.743093       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:11.743100       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.747116       1 gateway.go:608] "First token received" requestID="19b0d89b-9c0e-48a4-b858-6972b65cbae4" ttft_ms=1616
I0305 06:40:11.762484       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2ce0d56e-d2d7-478b-b046-44e1ffec8e21"
I0305 06:40:11.775573       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2e64666b, selectedpod, 10.0.1.28:8000, ttft, 1486, tpot, 23, e2e, 1695, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:11.775594       1 gateway.go:748] "Request completed" requestID="a9bfc283-7d43-45e0-80e8-86a250f37405" targetPod="10.0.1.28:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:11.775607       1 gateway.go:764] "HandleResponseBody completed" requestID="a9bfc283-7d43-45e0-80e8-86a250f37405" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:11.798628       1 gateway.go:608] "First token received" requestID="2ce0d56e-d2d7-478b-b046-44e1ffec8e21" ttft_ms=1642
I0305 06:40:11.808403       1 gateway.go:207] "Processing request" requestID="ffff2707-f978-45fe-a82a-e79dee820e0c"
I0305 06:40:11.808426       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ffff2707-f978-45fe-a82a-e79dee820e0c"
I0305 06:40:11.808435       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:11.824712       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0816, numInputTokens, 7600
I0305 06:40:11.824730       1 tree.go:471] Updated node(0) last access: 169.9227 seconds
I0305 06:40:11.824736       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.824740       1 tree.go:471] Updated node(2) last access: 169.9227 seconds
I0305 06:40:11.824752       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:11.824756       1 tree.go:471] Updated node(53) last access: 169.9227 seconds
I0305 06:40:11.824761       1 tree.go:484] Entire input tokens match the child node(242)
I0305 06:40:11.824765       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:11.824772       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:11.824779       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:40:11.824784       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.824767819 +0000 UTC m=+170.041494684 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:50.889094508 +0000 UTC m=+149.105821397]
I0305 06:40:11.824801       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:11.824807       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:11.824894       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7600
I0305 06:40:11.824902       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.824911       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.824921       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.824929       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.824934       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.824942       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.824951       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:11.824960       1 prefix_cache_and_load.go:584] latency, Route, 1.6461
I0305 06:40:11.824986       1 gateway.go:415] latency, selectTargetPod, 1.6461, target pod, 10.0.0.34:8000
I0305 06:40:11.825001       1 gateway.go:235] latency, HandleRequestBody, 1.6464
I0305 06:40:11.825039       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6306
I0305 06:40:11.825045       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.825049       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.825243       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.825304       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:11.825312       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.841052       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7fe716c2, selectedpod, 10.0.1.28:8000, ttft, 1524, tpot, 24, e2e, 1741, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:40:11.841079       1 gateway.go:748] "Request completed" requestID="e38718c3-0842-47d3-8fca-9cc7016b42f7" targetPod="10.0.1.28:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:40:11.841092       1 gateway.go:764] "HandleResponseBody completed" requestID="e38718c3-0842-47d3-8fca-9cc7016b42f7" promptTokens=7614 completionTokens=10 stream=true
I0305 06:40:11.842647       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b30caaa6-5e61-49d6-a479-2774f2360145"
I0305 06:40:11.863371       1 gateway.go:562] latency, 0.0000, summary, hash(request), d5033f16, selectedpod, 10.0.0.39:8000, ttft, 1567, tpot, 19, e2e, 1741, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:11.863393       1 gateway.go:748] "Request completed" requestID="aa5de1f3-0f2a-48d2-99ab-23e66d19d862" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:11.863406       1 gateway.go:764] "HandleResponseBody completed" requestID="aa5de1f3-0f2a-48d2-99ab-23e66d19d862" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:11.873740       1 gateway.go:608] "First token received" requestID="b30caaa6-5e61-49d6-a479-2774f2360145" ttft_ms=1695
I0305 06:40:11.902038       1 gateway.go:207] "Processing request" requestID="cbb0993d-fcab-4905-b2e0-388558459014"
I0305 06:40:11.902059       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cbb0993d-fcab-4905-b2e0-388558459014"
I0305 06:40:11.902066       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:11.909133       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0838, numInputTokens, 7601
I0305 06:40:11.909150       1 tree.go:471] Updated node(0) last access: 170.0071 seconds
I0305 06:40:11.909156       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:11.909159       1 tree.go:471] Updated node(2) last access: 170.0071 seconds
I0305 06:40:11.909172       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:11.909176       1 tree.go:471] Updated node(12) last access: 170.0071 seconds
I0305 06:40:11.909180       1 tree.go:490] Partial tokens match child node(190). Continue to go deeper in the radix tree
I0305 06:40:11.909185       1 tree.go:471] Updated node(190) last access: 170.0071 seconds
I0305 06:40:11.909190       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:40:11.909195       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:11.909202       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:11.909207       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:11.909212       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:11.909196743 +0000 UTC m=+170.125923608]
I0305 06:40:11.909227       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7481, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:40:11.909234       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:40:11.909299       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7481
I0305 06:40:11.909308       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:11.909317       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.909322       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.909329       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.909333       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.909339       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:11.909347       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:11.909357       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:11.909365       1 prefix_cache_and_load.go:584] latency, Route, 1.7149
I0305 06:40:11.909378       1 gateway.go:415] latency, selectTargetPod, 1.7149, target pod, 10.0.0.39:8000
I0305 06:40:11.909390       1 gateway.go:235] latency, HandleRequestBody, 1.7152
I0305 06:40:11.909418       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6966
I0305 06:40:11.909423       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:11.909426       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:11.909578       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:11.909637       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:11.909642       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:11.920359       1 gateway.go:562] latency, 0.0001, summary, hash(request), 0773876d, selectedpod, 10.0.3.42:8000, ttft, 1616, tpot, 19, e2e, 1789, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:11.920430       1 gateway.go:748] "Request completed" requestID="19b0d89b-9c0e-48a4-b858-6972b65cbae4" targetPod="10.0.3.42:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:11.920471       1 gateway.go:764] "HandleResponseBody completed" requestID="19b0d89b-9c0e-48a4-b858-6972b65cbae4" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:11.930291       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ec939392-cdd9-4142-9814-297d961db52d"
I0305 06:40:11.978699       1 gateway.go:608] "First token received" requestID="ec939392-cdd9-4142-9814-297d961db52d" ttft_ms=1784
I0305 06:40:11.978761       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6660bb85, selectedpod, 10.0.1.28:8000, ttft, 1642, tpot, 20, e2e, 1822, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:11.978783       1 gateway.go:748] "Request completed" requestID="2ce0d56e-d2d7-478b-b046-44e1ffec8e21" targetPod="10.0.1.28:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:11.978795       1 gateway.go:764] "HandleResponseBody completed" requestID="2ce0d56e-d2d7-478b-b046-44e1ffec8e21" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:11.983793       1 gateway.go:207] "Processing request" requestID="8ca80641-96c8-46a8-b68f-c5093ed14ee8"
I0305 06:40:11.983824       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8ca80641-96c8-46a8-b68f-c5093ed14ee8"
I0305 06:40:11.983832       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:12.002352       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0927, numInputTokens, 7598
I0305 06:40:12.002370       1 tree.go:471] Updated node(0) last access: 170.1003 seconds
I0305 06:40:12.002377       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.002379       1 tree.go:471] Updated node(2) last access: 170.1003 seconds
I0305 06:40:12.002393       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:12.002398       1 tree.go:471] Updated node(45) last access: 170.1003 seconds
I0305 06:40:12.002401       1 tree.go:490] Partial tokens match child node(221). Continue to go deeper in the radix tree
I0305 06:40:12.002405       1 tree.go:471] Updated node(221) last access: 170.1003 seconds
I0305 06:40:12.002408       1 tree.go:490] Partial tokens match child node(243). Continue to go deeper in the radix tree
I0305 06:40:12.002412       1 tree.go:471] Updated node(243) last access: 170.1004 seconds
I0305 06:40:12.002416       1 tree.go:484] Entire input tokens match the child node(244)
I0305 06:40:12.002419       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:12.002427       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:12.002434       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.002439       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.002422695 +0000 UTC m=+170.219149560 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:52.878077288 +0000 UTC m=+151.094804160]
I0305 06:40:12.002456       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:12.002466       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:12.002555       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7598
I0305 06:40:12.002568       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.002577       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.002584       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.002588       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.002594       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.002599       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.002602       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.002611       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.002622       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:12.002638       1 prefix_cache_and_load.go:584] latency, Route, 1.7898
I0305 06:40:12.002656       1 gateway.go:415] latency, selectTargetPod, 1.7898, target pod, 10.0.0.34:8000
I0305 06:40:12.002671       1 gateway.go:235] latency, HandleRequestBody, 1.7904
I0305 06:40:12.002713       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7749
I0305 06:40:12.002723       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.002727       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.002909       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.003005       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:12.003011       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.021071       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3fe839de-aa75-41f7-8436-a2ae5f0364ff"
I0305 06:40:12.050023       1 gateway.go:608] "First token received" requestID="3fe839de-aa75-41f7-8436-a2ae5f0364ff" ttft_ms=1837
I0305 06:40:12.051806       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 7592
I0305 06:40:12.051824       1 tree.go:471] Updated node(0) last access: 170.1498 seconds
I0305 06:40:12.051830       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.051834       1 tree.go:471] Updated node(2) last access: 170.1498 seconds
I0305 06:40:12.051848       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:12.051852       1 tree.go:471] Updated node(8) last access: 170.1498 seconds
I0305 06:40:12.051856       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 06:40:12.051859       1 tree.go:471] Updated node(16) last access: 170.1498 seconds
I0305 06:40:12.051863       1 tree.go:490] Partial tokens match child node(34). Continue to go deeper in the radix tree
I0305 06:40:12.051867       1 tree.go:471] Updated node(34) last access: 170.1498 seconds
I0305 06:40:12.051876       1 tree.go:667] Split complete - New node(364)
I0305 06:40:12.051882       1 tree.go:668] Split complete - Child node(17)
I0305 06:40:12.051888       1 tree.go:501] latency, splitNode, 0.0000 seconds, 108 tokens:
I0305 06:40:12.051904       1 tree.go:471] Updated node(364) last access: 170.1498 seconds
I0305 06:40:12.051914       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 104 tokens:
I0305 06:40:12.051919       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7592 tokens
I0305 06:40:12.051928       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7592 tokens
I0305 06:40:12.051937       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.051943       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.051921578 +0000 UTC m=+170.268648453]
I0305 06:40:12.051962       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7592, Matched tokens: 7488, Matching ratio: 0.9863, # Matched pods: 0, Matched pods: []
I0305 06:40:12.051979       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9863 > 0.5000)
I0305 06:40:12.052060       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7488
I0305 06:40:12.052073       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.052083       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.052090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.052094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.052101       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.052106       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.052113       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.052122       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.052133       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.052144       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:12.052155       1 prefix_cache_and_load.go:584] latency, Route, 1.8243
I0305 06:40:12.052168       1 gateway.go:415] latency, selectTargetPod, 1.8243, target pod, 10.0.1.53:8000
I0305 06:40:12.052179       1 gateway.go:235] latency, HandleRequestBody, 1.8246
I0305 06:40:12.052208       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8176
I0305 06:40:12.052213       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.052216       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.052354       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.052409       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:12.052414       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.078623       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="407ca333-0467-4b42-94e2-1ae61d582f7b"
I0305 06:40:12.078659       1 gateway.go:207] "Processing request" requestID="51e2e9f1-332a-4129-b186-68fa47e7c6ed"
I0305 06:40:12.078713       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="51e2e9f1-332a-4129-b186-68fa47e7c6ed"
I0305 06:40:12.078729       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:12.078962       1 gateway.go:562] latency, 0.0001, summary, hash(request), cf0c998f, selectedpod, 10.0.0.34:8000, ttft, 1695, tpot, 22, e2e, 1900, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:12.078993       1 gateway.go:748] "Request completed" requestID="b30caaa6-5e61-49d6-a479-2774f2360145" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:12.079005       1 gateway.go:764] "HandleResponseBody completed" requestID="b30caaa6-5e61-49d6-a479-2774f2360145" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:12.107281       1 gateway.go:608] "First token received" requestID="407ca333-0467-4b42-94e2-1ae61d582f7b" ttft_ms=1879
I0305 06:40:12.127206       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0748, numInputTokens, 7598
I0305 06:40:12.127224       1 tree.go:471] Updated node(0) last access: 170.2252 seconds
I0305 06:40:12.127230       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.127234       1 tree.go:471] Updated node(2) last access: 170.2252 seconds
I0305 06:40:12.127247       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:12.127251       1 tree.go:471] Updated node(4) last access: 170.2252 seconds
I0305 06:40:12.127257       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:40:12.127263       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:12.127270       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:12.127277       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.127281       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.127265442 +0000 UTC m=+170.343992307]
I0305 06:40:12.127296       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7478, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:40:12.127304       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:40:12.127367       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7478
I0305 06:40:12.127376       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.127383       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.127387       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.127392       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.127396       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.127404       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.127412       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:12.127423       1 prefix_cache_and_load.go:584] latency, Route, 1.8928
I0305 06:40:12.127438       1 gateway.go:415] latency, selectTargetPod, 1.8928, target pod, 10.0.1.47:8000
I0305 06:40:12.127448       1 gateway.go:235] latency, HandleRequestBody, 1.8931
I0305 06:40:12.127473       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8485
I0305 06:40:12.127498       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.127502       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.127733       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.127797       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:12.127804       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.146826       1 gateway.go:562] latency, 0.0000, summary, hash(request), 40940932, selectedpod, 10.0.0.39:8000, ttft, 1784, tpot, 18, e2e, 1952, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:12.146845       1 gateway.go:748] "Request completed" requestID="ec939392-cdd9-4142-9814-297d961db52d" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:12.146855       1 gateway.go:764] "HandleResponseBody completed" requestID="ec939392-cdd9-4142-9814-297d961db52d" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:12.147244       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="90ecf36d-5648-4538-8bc4-e539d8e62442"
I0305 06:40:12.191314       1 gateway.go:608] "First token received" requestID="90ecf36d-5648-4538-8bc4-e539d8e62442" ttft_ms=1956
I0305 06:40:12.192868       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0651, numInputTokens, 7600
I0305 06:40:12.192887       1 tree.go:471] Updated node(0) last access: 170.2908 seconds
I0305 06:40:12.192895       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.192899       1 tree.go:471] Updated node(2) last access: 170.2908 seconds
I0305 06:40:12.192914       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:12.192975       1 tree.go:471] Updated node(12) last access: 170.2909 seconds
I0305 06:40:12.192980       1 tree.go:490] Partial tokens match child node(267). Continue to go deeper in the radix tree
I0305 06:40:12.192984       1 tree.go:471] Updated node(267) last access: 170.2909 seconds
I0305 06:40:12.192990       1 tree.go:484] Entire input tokens match the child node(245)
I0305 06:40:12.192994       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:12.193003       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:12.193012       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.193019       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.192996721 +0000 UTC m=+170.409723593 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:53.187665775 +0000 UTC m=+151.404392656]
I0305 06:40:12.193042       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:12.193052       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:12.193126       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7600
I0305 06:40:12.193138       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.193148       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.193155       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.193162       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.193166       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.193173       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.193185       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.193199       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:12.193214       1 prefix_cache_and_load.go:584] latency, Route, 1.9143
I0305 06:40:12.193231       1 gateway.go:415] latency, selectTargetPod, 1.9143, target pod, 10.0.0.39:8000
I0305 06:40:12.193244       1 gateway.go:235] latency, HandleRequestBody, 1.9146
I0305 06:40:12.193274       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9056
I0305 06:40:12.193279       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.193283       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.193426       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.193488       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:12.193493       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.196561       1 gateway.go:207] "Processing request" requestID="92ad7ef8-4198-4cd7-8377-1fd7dc684b66"
I0305 06:40:12.196594       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="92ad7ef8-4198-4cd7-8377-1fd7dc684b66"
I0305 06:40:12.196602       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:12.212277       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="949351b6-b087-4905-a599-61acd6239adb"
I0305 06:40:12.225477       1 gateway.go:562] latency, 0.0000, summary, hash(request), 02edd6c1, selectedpod, 10.0.0.34:8000, ttft, 1837, tpot, 19, e2e, 2013, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:12.225498       1 gateway.go:748] "Request completed" requestID="3fe839de-aa75-41f7-8436-a2ae5f0364ff" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:12.225522       1 gateway.go:764] "HandleResponseBody completed" requestID="3fe839de-aa75-41f7-8436-a2ae5f0364ff" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:12.243671       1 gateway.go:608] "First token received" requestID="949351b6-b087-4905-a599-61acd6239adb" ttft_ms=1964
I0305 06:40:12.245152       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0517, numInputTokens, 7601
I0305 06:40:12.245167       1 tree.go:471] Updated node(0) last access: 170.3431 seconds
I0305 06:40:12.245174       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.245177       1 tree.go:471] Updated node(2) last access: 170.3431 seconds
I0305 06:40:12.245191       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:12.245195       1 tree.go:471] Updated node(23) last access: 170.3431 seconds
I0305 06:40:12.245198       1 tree.go:490] Partial tokens match child node(80). Continue to go deeper in the radix tree
I0305 06:40:12.245201       1 tree.go:471] Updated node(80) last access: 170.3431 seconds
I0305 06:40:12.245204       1 tree.go:490] Partial tokens match child node(248). Continue to go deeper in the radix tree
I0305 06:40:12.245206       1 tree.go:471] Updated node(248) last access: 170.3431 seconds
I0305 06:40:12.245210       1 tree.go:484] Entire input tokens match the child node(249)
I0305 06:40:12.245214       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:12.245221       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:12.245228       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.245233       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.245216524 +0000 UTC m=+170.461943389 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:53.331600891 +0000 UTC m=+151.548327762]
I0305 06:40:12.245252       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:12.245260       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:12.245324       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7601
I0305 06:40:12.245335       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.245342       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.245346       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.245350       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.245354       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.245357       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.245361       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.245369       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.245378       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:12.245388       1 prefix_cache_and_load.go:584] latency, Route, 1.9577
I0305 06:40:12.245404       1 gateway.go:415] latency, selectTargetPod, 1.9577, target pod, 10.0.3.42:8000
I0305 06:40:12.245416       1 gateway.go:235] latency, HandleRequestBody, 1.9580
I0305 06:40:12.245445       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9474
I0305 06:40:12.245450       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.245453       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.245622       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.245681       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:12.245686       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.261860       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7a4d3c72-aa49-48f7-a36b-97609c92c16c"
I0305 06:40:12.280227       1 gateway.go:562] latency, 0.0000, summary, hash(request), 42237fe3, selectedpod, 10.0.1.53:8000, ttft, 1879, tpot, 19, e2e, 2052, numInputTokens, 7611, numOutputTokens, 10, numTotalTokens, 7621
I0305 06:40:12.280249       1 gateway.go:748] "Request completed" requestID="407ca333-0467-4b42-94e2-1ae61d582f7b" targetPod="10.0.1.53:8000" promptTokens=7611 completionTokens=10 totalTokens=7621
I0305 06:40:12.280263       1 gateway.go:764] "HandleResponseBody completed" requestID="407ca333-0467-4b42-94e2-1ae61d582f7b" promptTokens=7611 completionTokens=10 stream=true
I0305 06:40:12.294178       1 gateway.go:608] "First token received" requestID="7a4d3c72-aa49-48f7-a36b-97609c92c16c" ttft_ms=2006
I0305 06:40:12.329778       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0841, numInputTokens, 7594
I0305 06:40:12.329796       1 tree.go:471] Updated node(0) last access: 170.4277 seconds
I0305 06:40:12.329802       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.329807       1 tree.go:471] Updated node(2) last access: 170.4277 seconds
I0305 06:40:12.329819       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:12.329823       1 tree.go:471] Updated node(18) last access: 170.4278 seconds
I0305 06:40:12.329826       1 tree.go:490] Partial tokens match child node(125). Continue to go deeper in the radix tree
I0305 06:40:12.329829       1 tree.go:471] Updated node(125) last access: 170.4278 seconds
I0305 06:40:12.329832       1 tree.go:490] Partial tokens match child node(246). Continue to go deeper in the radix tree
I0305 06:40:12.329834       1 tree.go:471] Updated node(246) last access: 170.4278 seconds
I0305 06:40:12.329838       1 tree.go:484] Entire input tokens match the child node(247)
I0305 06:40:12.329843       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 06:40:12.329850       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:40:12.329855       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.329860       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.32984507 +0000 UTC m=+170.546571936 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:53.279436914 +0000 UTC m=+151.496163779]
I0305 06:40:12.329880       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7594, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:12.329888       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:12.329955       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7594
I0305 06:40:12.329965       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.329982       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.329988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.329994       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.329998       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.330001       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.330005       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.330014       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.330023       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:12.330034       1 prefix_cache_and_load.go:584] latency, Route, 2.0320
I0305 06:40:12.330053       1 gateway.go:415] latency, selectTargetPod, 2.0320, target pod, 10.0.0.131:8000
I0305 06:40:12.330066       1 gateway.go:235] latency, HandleRequestBody, 2.0323
I0305 06:40:12.330110       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9332
I0305 06:40:12.330115       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.330117       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.330266       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.330338       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:12.330343       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.345600       1 gateway.go:207] "Processing request" requestID="2ac7ed6c-ba93-4070-a583-e51dea814b00"
I0305 06:40:12.345628       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2ac7ed6c-ba93-4070-a583-e51dea814b00"
I0305 06:40:12.345638       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:12.349816       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="86fdb8c3-fed4-4f7c-990a-06abae441ffa"
I0305 06:40:12.378644       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6372f41e, selectedpod, 10.0.1.47:8000, ttft, 1956, tpot, 20, e2e, 2144, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:12.378664       1 gateway.go:748] "Request completed" requestID="90ecf36d-5648-4538-8bc4-e539d8e62442" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:12.378677       1 gateway.go:764] "HandleResponseBody completed" requestID="90ecf36d-5648-4538-8bc4-e539d8e62442" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:12.382904       1 gateway.go:608] "First token received" requestID="86fdb8c3-fed4-4f7c-990a-06abae441ffa" ttft_ms=2085
I0305 06:40:12.410380       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0800, numInputTokens, 7601
I0305 06:40:12.410396       1 tree.go:471] Updated node(0) last access: 170.5083 seconds
I0305 06:40:12.410402       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.410405       1 tree.go:471] Updated node(2) last access: 170.5083 seconds
I0305 06:40:12.410421       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:12.410427       1 tree.go:471] Updated node(12) last access: 170.5084 seconds
I0305 06:40:12.410437       1 tree.go:667] Split complete - New node(367)
I0305 06:40:12.410441       1 tree.go:668] Split complete - Child node(309)
I0305 06:40:12.410445       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 06:40:12.410449       1 tree.go:471] Updated node(367) last access: 170.5084 seconds
I0305 06:40:12.410454       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:40:12.410461       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:12.410466       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:12.410472       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.410476       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.410463049 +0000 UTC m=+170.627189914]
I0305 06:40:12.410489       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7486, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:40:12.410496       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:40:12.410563       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7486
I0305 06:40:12.410575       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.410581       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.410586       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.410591       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.410595       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.410600       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.410607       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.410615       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:12.410625       1 prefix_cache_and_load.go:584] latency, Route, 2.0137
I0305 06:40:12.410642       1 gateway.go:415] latency, selectTargetPod, 2.0137, target pod, 10.0.0.39:8000
I0305 06:40:12.410652       1 gateway.go:235] latency, HandleRequestBody, 2.0140
I0305 06:40:12.410678       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9981
I0305 06:40:12.410682       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.410685       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.410815       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.410870       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:12.410876       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.417118       1 gateway.go:562] latency, 0.0000, summary, hash(request), da5b7be7, selectedpod, 10.0.0.39:8000, ttft, 1964, tpot, 19, e2e, 2138, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:12.417148       1 gateway.go:748] "Request completed" requestID="949351b6-b087-4905-a599-61acd6239adb" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:12.417163       1 gateway.go:764] "HandleResponseBody completed" requestID="949351b6-b087-4905-a599-61acd6239adb" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:12.428280       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ceac9ed7-6c69-4fb8-af80-bf054e38c270"
I0305 06:40:12.478654       1 gateway.go:207] "Processing request" requestID="a7305c1e-7011-4bda-ad34-17fa7d682656"
I0305 06:40:12.478749       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a7305c1e-7011-4bda-ad34-17fa7d682656"
I0305 06:40:12.478769       1 gateway.go:608] "First token received" requestID="ceac9ed7-6c69-4fb8-af80-bf054e38c270" ttft_ms=2082
I0305 06:40:12.478778       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:12.478887       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0680, numInputTokens, 7603
I0305 06:40:12.478908       1 tree.go:471] Updated node(0) last access: 170.5768 seconds
I0305 06:40:12.478917       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.478923       1 tree.go:471] Updated node(2) last access: 170.5769 seconds
I0305 06:40:12.478935       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:12.478939       1 tree.go:471] Updated node(26) last access: 170.5769 seconds
I0305 06:40:12.478958       1 tree.go:667] Split complete - New node(369)
I0305 06:40:12.478947       1 gateway.go:562] latency, 0.0001, summary, hash(request), dbbee7c2, selectedpod, 10.0.3.42:8000, ttft, 2006, tpot, 20, e2e, 2191, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:12.478963       1 tree.go:668] Split complete - Child node(99)
I0305 06:40:12.479015       1 tree.go:501] latency, splitNode, 0.0001 seconds, 125 tokens:
I0305 06:40:12.479024       1 tree.go:471] Updated node(369) last access: 170.5770 seconds
I0305 06:40:12.479034       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:40:12.479041       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:40:12.478996       1 gateway.go:748] "Request completed" requestID="7a4d3c72-aa49-48f7-a36b-97609c92c16c" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:12.479051       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:12.479059       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 06:40:12.479057       1 gateway.go:764] "HandleResponseBody completed" requestID="7a4d3c72-aa49-48f7-a36b-97609c92c16c" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:12.479066       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.479043303 +0000 UTC m=+170.695770173]
I0305 06:40:12.479085       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7485, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:40:12.479107       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:40:12.479222       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7485
I0305 06:40:12.479232       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.479242       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.479250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.479256       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.479265       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.479272       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.479284       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.479293       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:12.479302       1 prefix_cache_and_load.go:584] latency, Route, 2.0667
I0305 06:40:12.479379       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0379
I0305 06:40:12.479393       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.479398       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.479403       1 gateway.go:415] latency, selectTargetPod, 2.0667, target pod, 10.0.3.41:8000
I0305 06:40:12.479432       1 gateway.go:235] latency, HandleRequestBody, 2.0672
I0305 06:40:12.479962       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.480206       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0008
I0305 06:40:12.480216       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.496010       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5907974f-c48e-4b24-b640-134422b8cfa9"
I0305 06:40:12.532305       1 gateway.go:608] "First token received" requestID="5907974f-c48e-4b24-b640-134422b8cfa9" ttft_ms=2119
I0305 06:40:12.532541       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0523, numInputTokens, 7598
I0305 06:40:12.532561       1 tree.go:471] Updated node(0) last access: 170.6305 seconds
I0305 06:40:12.532568       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.532571       1 tree.go:471] Updated node(2) last access: 170.6305 seconds
I0305 06:40:12.532583       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:12.532588       1 tree.go:471] Updated node(45) last access: 170.6305 seconds
I0305 06:40:12.532591       1 tree.go:490] Partial tokens match child node(198). Continue to go deeper in the radix tree
I0305 06:40:12.532595       1 tree.go:471] Updated node(198) last access: 170.6305 seconds
I0305 06:40:12.532605       1 tree.go:667] Split complete - New node(371)
I0305 06:40:12.532608       1 tree.go:668] Split complete - Child node(132)
I0305 06:40:12.532612       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:40:12.532616       1 tree.go:471] Updated node(371) last access: 170.6306 seconds
I0305 06:40:12.532624       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:40:12.532629       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:12.532635       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:12.532642       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.532647       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.532631239 +0000 UTC m=+170.749358111]
I0305 06:40:12.532661       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7483, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:40:12.532669       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:40:12.532732       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7483
I0305 06:40:12.532741       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.532749       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.532753       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.532756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.532761       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.532766       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.532770       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.532779       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.532788       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:12.532799       1 prefix_cache_and_load.go:584] latency, Route, 2.0913
I0305 06:40:12.532816       1 gateway.go:415] latency, selectTargetPod, 2.0913, target pod, 10.0.0.34:8000
I0305 06:40:12.532826       1 gateway.go:235] latency, HandleRequestBody, 2.0917
I0305 06:40:12.532855       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0662
I0305 06:40:12.532860       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.532863       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.533004       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.533071       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:12.533076       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.551392       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="709016b6-0de9-444a-bab1-3724a4c05c8a"
I0305 06:40:12.556148       1 gateway.go:562] latency, 0.0000, summary, hash(request), 28d78b9d, selectedpod, 10.0.0.131:8000, ttft, 2085, tpot, 19, e2e, 2258, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:40:12.556165       1 gateway.go:748] "Request completed" requestID="86fdb8c3-fed4-4f7c-990a-06abae441ffa" targetPod="10.0.0.131:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:40:12.556174       1 gateway.go:764] "HandleResponseBody completed" requestID="86fdb8c3-fed4-4f7c-990a-06abae441ffa" promptTokens=7613 completionTokens=10 stream=true
I0305 06:40:12.583433       1 gateway.go:207] "Processing request" requestID="169b5f8e-d6d6-4409-80e3-8d80f50ac833"
I0305 06:40:12.583463       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="169b5f8e-d6d6-4409-80e3-8d80f50ac833"
I0305 06:40:12.583472       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:12.594352       1 gateway.go:608] "First token received" requestID="709016b6-0de9-444a-bab1-3724a4c05c8a" ttft_ms=2153
I0305 06:40:12.596897       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0638, numInputTokens, 7603
I0305 06:40:12.596914       1 tree.go:471] Updated node(0) last access: 170.6949 seconds
I0305 06:40:12.596921       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.596924       1 tree.go:471] Updated node(2) last access: 170.6949 seconds
I0305 06:40:12.596936       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:12.596941       1 tree.go:471] Updated node(23) last access: 170.6949 seconds
I0305 06:40:12.596949       1 tree.go:667] Split complete - New node(373)
I0305 06:40:12.596954       1 tree.go:668] Split complete - Child node(48)
I0305 06:40:12.596958       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0305 06:40:12.596962       1 tree.go:471] Updated node(373) last access: 170.6949 seconds
I0305 06:40:12.596977       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:40:12.596983       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:40:12.596989       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:12.596995       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.596999       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.596984773 +0000 UTC m=+170.813711638]
I0305 06:40:12.597013       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7484, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:40:12.597022       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:40:12.597084       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7484
I0305 06:40:12.597093       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.597100       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.597107       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.597112       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.597118       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.597122       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.597132       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.597139       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:12.597149       1 prefix_cache_and_load.go:584] latency, Route, 2.1304
I0305 06:40:12.597164       1 gateway.go:415] latency, selectTargetPod, 2.1305, target pod, 10.0.3.42:8000
I0305 06:40:12.597174       1 gateway.go:235] latency, HandleRequestBody, 2.1308
I0305 06:40:12.597210       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1293
I0305 06:40:12.597222       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.597226       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.597446       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.597522       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:12.597529       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.612533       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="37ad853e-a23c-49d4-b9b7-3dded8a46a87"
I0305 06:40:12.642881       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6e206519, selectedpod, 10.0.0.39:8000, ttft, 2082, tpot, 18, e2e, 2246, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:12.642904       1 gateway.go:748] "Request completed" requestID="ceac9ed7-6c69-4fb8-af80-bf054e38c270" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:12.642918       1 gateway.go:764] "HandleResponseBody completed" requestID="ceac9ed7-6c69-4fb8-af80-bf054e38c270" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:12.647950       1 gateway.go:608] "First token received" requestID="37ad853e-a23c-49d4-b9b7-3dded8a46a87" ttft_ms=2181
I0305 06:40:12.685164       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0876, numInputTokens, 7603
I0305 06:40:12.685183       1 tree.go:471] Updated node(0) last access: 170.7831 seconds
I0305 06:40:12.685188       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.685192       1 tree.go:471] Updated node(2) last access: 170.7831 seconds
I0305 06:40:12.685206       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:12.685211       1 tree.go:471] Updated node(26) last access: 170.7832 seconds
I0305 06:40:12.685216       1 tree.go:490] Partial tokens match child node(188). Continue to go deeper in the radix tree
I0305 06:40:12.685219       1 tree.go:471] Updated node(188) last access: 170.7832 seconds
I0305 06:40:12.685226       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:40:12.685231       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:40:12.685240       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:12.685248       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.685256       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.685234084 +0000 UTC m=+170.901960955]
I0305 06:40:12.685272       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7482, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:40:12.685281       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:40:12.685356       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7482
I0305 06:40:12.685369       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.685381       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.685388       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.685391       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.685395       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.685401       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.685409       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.685418       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:12.685429       1 prefix_cache_and_load.go:584] latency, Route, 2.2175
I0305 06:40:12.685447       1 gateway.go:415] latency, selectTargetPod, 2.2175, target pod, 10.0.3.41:8000
I0305 06:40:12.685460       1 gateway.go:235] latency, HandleRequestBody, 2.2178
I0305 06:40:12.685489       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8944
I0305 06:40:12.685493       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.685496       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.685690       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.685755       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:12.685760       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.691848       1 gateway.go:207] "Processing request" requestID="3347b6e1-ef25-4d85-b152-e12f407bc7be"
I0305 06:40:12.691877       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3347b6e1-ef25-4d85-b152-e12f407bc7be"
I0305 06:40:12.691887       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:12.701551       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4c8cc670-fcdd-450e-b327-243037593a04"
I0305 06:40:12.714958       1 gateway.go:562] latency, 0.0000, summary, hash(request), d86e9ae5, selectedpod, 10.0.3.41:8000, ttft, 2119, tpot, 20, e2e, 2302, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:12.714982       1 gateway.go:748] "Request completed" requestID="5907974f-c48e-4b24-b640-134422b8cfa9" targetPod="10.0.3.41:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:12.714994       1 gateway.go:764] "HandleResponseBody completed" requestID="5907974f-c48e-4b24-b640-134422b8cfa9" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:12.736385       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0506, numInputTokens, 7598
I0305 06:40:12.736403       1 tree.go:471] Updated node(0) last access: 170.8343 seconds
I0305 06:40:12.736409       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.736413       1 tree.go:471] Updated node(2) last access: 170.8344 seconds
I0305 06:40:12.736426       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:12.736430       1 tree.go:471] Updated node(12) last access: 170.8344 seconds
I0305 06:40:12.736434       1 tree.go:490] Partial tokens match child node(190). Continue to go deeper in the radix tree
I0305 06:40:12.736437       1 tree.go:471] Updated node(190) last access: 170.8344 seconds
I0305 06:40:12.736441       1 tree.go:490] Partial tokens match child node(258). Continue to go deeper in the radix tree
I0305 06:40:12.736444       1 tree.go:471] Updated node(258) last access: 170.8344 seconds
I0305 06:40:12.736448       1 tree.go:484] Entire input tokens match the child node(259)
I0305 06:40:12.736452       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:12.736458       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:12.736465       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.736470       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.736453985 +0000 UTC m=+170.953180850 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:53.733484401 +0000 UTC m=+151.950211272]
I0305 06:40:12.736485       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:12.736493       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:12.736568       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7598
I0305 06:40:12.736577       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.736584       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.736590       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.736594       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.736600       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.736605       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.736610       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.736618       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.736627       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:12.736639       1 prefix_cache_and_load.go:584] latency, Route, 1.9455
I0305 06:40:12.736656       1 gateway.go:415] latency, selectTargetPod, 1.9456, target pod, 10.0.0.39:8000
I0305 06:40:12.736666       1 gateway.go:235] latency, HandleRequestBody, 1.9459
I0305 06:40:12.736736       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7526
I0305 06:40:12.736741       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.736744       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.736871       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.736925       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:12.736930       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.745553       1 gateway.go:608] "First token received" requestID="4c8cc670-fcdd-450e-b327-243037593a04" ttft_ms=2277
I0305 06:40:12.755687       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7a41996a-3443-42df-9ccc-e6e1a9486829"
I0305 06:40:12.769595       1 gateway.go:562] latency, 0.0000, summary, hash(request), e876e47e, selectedpod, 10.0.0.34:8000, ttft, 2153, tpot, 19, e2e, 2328, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:12.769614       1 gateway.go:748] "Request completed" requestID="709016b6-0de9-444a-bab1-3724a4c05c8a" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:12.769625       1 gateway.go:764] "HandleResponseBody completed" requestID="709016b6-0de9-444a-bab1-3724a4c05c8a" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:12.777084       1 gateway.go:207] "Processing request" requestID="c30acdc4-fa4d-44b5-a410-ee5782b2d444"
I0305 06:40:12.777111       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c30acdc4-fa4d-44b5-a410-ee5782b2d444"
I0305 06:40:12.777119       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:12.785206       1 gateway.go:608] "First token received" requestID="7a41996a-3443-42df-9ccc-e6e1a9486829" ttft_ms=1994
I0305 06:40:12.821099       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4a62c86d, selectedpod, 10.0.3.42:8000, ttft, 2181, tpot, 19, e2e, 2354, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:12.821122       1 gateway.go:748] "Request completed" requestID="37ad853e-a23c-49d4-b9b7-3dded8a46a87" targetPod="10.0.3.42:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:12.821136       1 gateway.go:764] "HandleResponseBody completed" requestID="37ad853e-a23c-49d4-b9b7-3dded8a46a87" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:12.822220       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0853, numInputTokens, 7595
I0305 06:40:12.822241       1 tree.go:471] Updated node(0) last access: 170.9202 seconds
I0305 06:40:12.822248       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.822253       1 tree.go:471] Updated node(2) last access: 170.9202 seconds
I0305 06:40:12.822266       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:12.822271       1 tree.go:471] Updated node(12) last access: 170.9202 seconds
I0305 06:40:12.822285       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:12.822289       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7595 tokens
I0305 06:40:12.822297       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:12.822304       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.822311       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.822291388 +0000 UTC m=+171.039018252]
I0305 06:40:12.822326       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7478, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:12.822333       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:12.822410       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7478
I0305 06:40:12.822419       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.822427       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.822433       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.822437       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.822443       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.822451       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.822460       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:12.822470       1 prefix_cache_and_load.go:584] latency, Route, 1.8383
I0305 06:40:12.822487       1 gateway.go:415] latency, selectTargetPod, 1.8383, target pod, 10.0.0.39:8000
I0305 06:40:12.822497       1 gateway.go:235] latency, HandleRequestBody, 1.8387
I0305 06:40:12.822527       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8375
I0305 06:40:12.822537       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.822541       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.822807       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.822882       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:12.822888       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.841224       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ccee17ef-b3b8-4149-9b65-48ec8c6034b4"
I0305 06:40:12.853537       1 gateway.go:207] "Processing request" requestID="700b59a4-8f15-481a-84ba-f284d9f16e2b"
I0305 06:40:12.853563       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="700b59a4-8f15-481a-84ba-f284d9f16e2b"
I0305 06:40:12.853572       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:12.882993       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0601, numInputTokens, 7594
I0305 06:40:12.883014       1 tree.go:471] Updated node(0) last access: 170.9810 seconds
I0305 06:40:12.883020       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.883024       1 tree.go:471] Updated node(2) last access: 170.9810 seconds
I0305 06:40:12.883037       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:12.883041       1 tree.go:471] Updated node(23) last access: 170.9810 seconds
I0305 06:40:12.883046       1 tree.go:484] Entire input tokens match the child node(262)
I0305 06:40:12.883051       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 06:40:12.883058       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:40:12.883065       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.883072       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.883053481 +0000 UTC m=+171.099780352 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:53.887904939 +0000 UTC m=+152.104631821]
I0305 06:40:12.883089       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7594, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:12.883097       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:12.883168       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7594
I0305 06:40:12.883177       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.883185       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.883191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.883196       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.883201       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.883209       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.883217       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:12.883228       1 prefix_cache_and_load.go:584] latency, Route, 1.8982
I0305 06:40:12.883247       1 gateway.go:415] latency, selectTargetPod, 1.8982, target pod, 10.0.3.42:8000
I0305 06:40:12.883258       1 gateway.go:235] latency, HandleRequestBody, 1.8985
I0305 06:40:12.883286       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8941
I0305 06:40:12.883291       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:12.883294       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:12.883442       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:12.883499       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:12.883504       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:12.890421       1 gateway.go:608] "First token received" requestID="ccee17ef-b3b8-4149-9b65-48ec8c6034b4" ttft_ms=1906
I0305 06:40:12.898682       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="816d2ff2-b8dc-4ab4-965d-aff56f7a0a52"
I0305 06:40:12.919330       1 gateway.go:562] latency, 0.0000, summary, hash(request), 157b8e4b, selectedpod, 10.0.3.41:8000, ttft, 2277, tpot, 19, e2e, 2451, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:12.919351       1 gateway.go:748] "Request completed" requestID="4c8cc670-fcdd-450e-b327-243037593a04" targetPod="10.0.3.41:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:12.919366       1 gateway.go:764] "HandleResponseBody completed" requestID="4c8cc670-fcdd-450e-b327-243037593a04" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:12.929949       1 gateway.go:608] "First token received" requestID="816d2ff2-b8dc-4ab4-965d-aff56f7a0a52" ttft_ms=1945
I0305 06:40:12.933086       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0496, numInputTokens, 7600
I0305 06:40:12.933103       1 tree.go:471] Updated node(0) last access: 171.0310 seconds
I0305 06:40:12.933109       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:12.933113       1 tree.go:471] Updated node(2) last access: 171.0311 seconds
I0305 06:40:12.933126       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:12.933129       1 tree.go:471] Updated node(12) last access: 171.0311 seconds
I0305 06:40:12.933133       1 tree.go:490] Partial tokens match child node(269). Continue to go deeper in the radix tree
I0305 06:40:12.933136       1 tree.go:471] Updated node(269) last access: 171.0311 seconds
I0305 06:40:12.933140       1 tree.go:484] Entire input tokens match the child node(270)
I0305 06:40:12.933145       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:12.933152       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:12.933159       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:12.933164       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:12.933147541 +0000 UTC m=+171.149874413 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:54.436710846 +0000 UTC m=+152.653437711]
I0305 06:40:12.933183       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:12.933189       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:12.933258       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7600
I0305 06:40:12.933269       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:12.933276       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.933280       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.933284       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.933291       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.933294       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:12.933301       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:12.933310       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:12.933318       1 prefix_cache_and_load.go:584] latency, Route, 1.9441
I0305 06:40:12.933334       1 gateway.go:415] latency, selectTargetPod, 1.9441, target pod, 10.0.0.39:8000
I0305 06:40:12.933344       1 gateway.go:235] latency, HandleRequestBody, 1.9444
I0305 06:40:12.952978       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="72274f70-0192-4930-ac8f-0a4574114ea9"
I0305 06:40:12.959518       1 gateway.go:207] "Processing request" requestID="12cf5deb-e671-4e24-9d5b-f8806007b4cd"
I0305 06:40:12.959544       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="12cf5deb-e671-4e24-9d5b-f8806007b4cd"
I0305 06:40:12.959552       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:12.999991       1 gateway.go:608] "First token received" requestID="72274f70-0192-4930-ac8f-0a4574114ea9" ttft_ms=2010
I0305 06:40:13.021082       1 gateway.go:562] latency, 0.0000, summary, hash(request), 28034c92, selectedpod, 10.0.0.39:8000, ttft, 1994, tpot, 26, e2e, 2230, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:13.021103       1 gateway.go:748] "Request completed" requestID="7a41996a-3443-42df-9ccc-e6e1a9486829" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:13.021114       1 gateway.go:764] "HandleResponseBody completed" requestID="7a41996a-3443-42df-9ccc-e6e1a9486829" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:13.041423       1 gateway.go:207] "Processing request" requestID="9f2db9b3-20ec-44d1-bb82-f0222526d028"
I0305 06:40:13.041450       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9f2db9b3-20ec-44d1-bb82-f0222526d028"
I0305 06:40:13.041460       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.101297       1 gateway.go:562] latency, 0.0000, summary, hash(request), 290f10a8, selectedpod, 10.0.0.39:8000, ttft, 1906, tpot, 23, e2e, 2117, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:40:13.101315       1 gateway.go:748] "Request completed" requestID="ccee17ef-b3b8-4149-9b65-48ec8c6034b4" targetPod="10.0.0.39:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:40:13.101327       1 gateway.go:764] "HandleResponseBody completed" requestID="ccee17ef-b3b8-4149-9b65-48ec8c6034b4" promptTokens=7614 completionTokens=10 stream=true
I0305 06:40:13.103975       1 gateway.go:562] latency, 0.0001, summary, hash(request), 851252c1, selectedpod, 10.0.3.42:8000, ttft, 1945, tpot, 19, e2e, 2119, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:40:13.104000       1 gateway.go:748] "Request completed" requestID="816d2ff2-b8dc-4ab4-965d-aff56f7a0a52" targetPod="10.0.3.42:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:40:13.104013       1 gateway.go:764] "HandleResponseBody completed" requestID="816d2ff2-b8dc-4ab4-965d-aff56f7a0a52" promptTokens=7613 completionTokens=10 stream=true
I0305 06:40:13.104830       1 gateway.go:207] "Processing request" requestID="34024fc6-d9ba-429a-9458-806f744f9f1e"
I0305 06:40:13.104858       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="34024fc6-d9ba-429a-9458-806f744f9f1e"
I0305 06:40:13.104865       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.179313       1 gateway.go:562] latency, 0.0001, summary, hash(request), dd75f6e7, selectedpod, 10.0.0.39:8000, ttft, 2010, tpot, 19, e2e, 2190, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:13.179331       1 gateway.go:748] "Request completed" requestID="72274f70-0192-4930-ac8f-0a4574114ea9" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:13.179340       1 gateway.go:764] "HandleResponseBody completed" requestID="72274f70-0192-4930-ac8f-0a4574114ea9" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:13.191338       1 gateway.go:207] "Processing request" requestID="319067d7-0dd6-4658-8633-7a636b793d14"
I0305 06:40:13.191360       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="319067d7-0dd6-4658-8633-7a636b793d14"
I0305 06:40:13.191369       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.248477       1 gateway.go:207] "Processing request" requestID="1c52bae7-ab32-48f3-87a4-1bdbf2ccef15"
I0305 06:40:13.248508       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1c52bae7-ab32-48f3-87a4-1bdbf2ccef15"
I0305 06:40:13.248528       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.315783       1 gateway.go:207] "Processing request" requestID="d3db82bf-27c2-414a-a9fa-de1972573ff6"
I0305 06:40:13.315815       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d3db82bf-27c2-414a-a9fa-de1972573ff6"
I0305 06:40:13.315824       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.392081       1 gateway.go:207] "Processing request" requestID="4acc417f-3906-425a-b9c7-da11f4b0c660"
I0305 06:40:13.392120       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4acc417f-3906-425a-b9c7-da11f4b0c660"
I0305 06:40:13.392128       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.473852       1 gateway.go:207] "Processing request" requestID="993031cc-fd20-4903-bb8a-f600e9afe590"
I0305 06:40:13.473885       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="993031cc-fd20-4903-bb8a-f600e9afe590"
I0305 06:40:13.473898       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.541048       1 gateway.go:207] "Processing request" requestID="402ea35b-f878-44dc-b5f8-e465f549b24c"
I0305 06:40:13.541076       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="402ea35b-f878-44dc-b5f8-e465f549b24c"
I0305 06:40:13.541082       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.613782       1 gateway.go:207] "Processing request" requestID="2446718c-ac8d-4271-87a3-f9010312135a"
I0305 06:40:13.613811       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2446718c-ac8d-4271-87a3-f9010312135a"
I0305 06:40:13.613820       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.682589       1 gateway.go:207] "Processing request" requestID="a86d388b-18c7-4212-a072-4c93499e4b20"
I0305 06:40:13.682625       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a86d388b-18c7-4212-a072-4c93499e4b20"
I0305 06:40:13.682634       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.758642       1 gateway.go:207] "Processing request" requestID="945bdf7e-5848-4574-9622-6bb3ee3ff6ba"
I0305 06:40:13.758672       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="945bdf7e-5848-4574-9622-6bb3ee3ff6ba"
I0305 06:40:13.758680       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.825980       1 gateway.go:207] "Processing request" requestID="368adda4-caeb-4db6-b865-85e0675267e0"
I0305 06:40:13.826017       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="368adda4-caeb-4db6-b865-85e0675267e0"
I0305 06:40:13.826026       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.864451       1 gateway.go:329] "-- In RequestBody processing ..." requestID="755c1d6b-90b6-4746-ac96-9ebc16dfbc30"
I0305 06:40:13.864684       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="755c1d6b-90b6-4746-ac96-9ebc16dfbc30" model="qwen2-5-7b-instruct"
I0305 06:40:13.864808       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:13.864814       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:13.864818       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:13.865094       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:13.865173       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:13.865179       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:13.920390       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0552, numInputTokens, 7601
I0305 06:40:13.920413       1 tree.go:471] Updated node(0) last access: 172.0184 seconds
I0305 06:40:13.920420       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:13.920423       1 tree.go:471] Updated node(2) last access: 172.0184 seconds
I0305 06:40:13.920437       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:13.920440       1 tree.go:471] Updated node(8) last access: 172.0184 seconds
I0305 06:40:13.920444       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:40:13.920448       1 tree.go:471] Updated node(85) last access: 172.0184 seconds
I0305 06:40:13.920457       1 tree.go:667] Split complete - New node(377)
I0305 06:40:13.920462       1 tree.go:668] Split complete - Child node(86)
I0305 06:40:13.920467       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:40:13.920472       1 tree.go:471] Updated node(377) last access: 172.0184 seconds
I0305 06:40:13.920477       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:13.920482       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:13.920490       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:13.920496       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:13.920501       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:13.920485016 +0000 UTC m=+172.137211881]
I0305 06:40:13.920526       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7485, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:13.920533       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:13.920612       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7485
I0305 06:40:13.920622       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:13.920629       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:13.920635       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:13.920640       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:13.920643       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:13.920646       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:13.920651       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:13.920660       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:13.920670       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:13.920680       1 prefix_cache_and_load.go:584] latency, Route, 0.0559
I0305 06:40:13.920699       1 gateway.go:415] latency, selectTargetPod, 0.0559, target pod, 10.0.1.53:8000
I0305 06:40:13.920715       1 gateway.go:235] latency, HandleRequestBody, 0.0563
I0305 06:40:13.920734       1 gateway.go:207] "Processing request" requestID="9f04c01e-e339-4219-ba4c-70441546dc4b"
I0305 06:40:13.920777       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9f04c01e-e339-4219-ba4c-70441546dc4b"
I0305 06:40:13.920791       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:13.939269       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="755c1d6b-90b6-4746-ac96-9ebc16dfbc30"
I0305 06:40:13.975417       1 gateway.go:608] "First token received" requestID="755c1d6b-90b6-4746-ac96-9ebc16dfbc30" ttft_ms=110
I0305 06:40:13.987820       1 gateway.go:207] "Processing request" requestID="79799194-010f-4ec8-ba52-9c41be4191c4"
I0305 06:40:13.987849       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="79799194-010f-4ec8-ba52-9c41be4191c4"
I0305 06:40:13.987857       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:14.021733       1 gateway.go:329] "-- In RequestBody processing ..." requestID="392110e9-399c-4a7f-9fee-984d3083c51d"
I0305 06:40:14.021942       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="392110e9-399c-4a7f-9fee-984d3083c51d" model="qwen2-5-7b-instruct"
I0305 06:40:14.022039       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:14.022046       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.022049       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.022300       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.022382       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:14.022390       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.074815       1 gateway.go:207] "Processing request" requestID="d37f2a98-0024-4ba1-bc1d-79cb8a6be573"
I0305 06:40:14.074847       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d37f2a98-0024-4ba1-bc1d-79cb8a6be573"
I0305 06:40:14.074855       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:14.075883       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0535, numInputTokens, 7602
I0305 06:40:14.075901       1 tree.go:471] Updated node(0) last access: 172.1738 seconds
I0305 06:40:14.075907       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.075912       1 tree.go:471] Updated node(2) last access: 172.1739 seconds
I0305 06:40:14.075924       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:14.075928       1 tree.go:471] Updated node(51) last access: 172.1739 seconds
I0305 06:40:14.075932       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:40:14.075938       1 tree.go:471] Updated node(123) last access: 172.1739 seconds
I0305 06:40:14.075941       1 tree.go:490] Partial tokens match child node(251). Continue to go deeper in the radix tree
I0305 06:40:14.075944       1 tree.go:471] Updated node(251) last access: 172.1739 seconds
I0305 06:40:14.075948       1 tree.go:484] Entire input tokens match the child node(252)
I0305 06:40:14.075953       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:14.075960       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:14.075975       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.075981       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.07595562 +0000 UTC m=+172.292682484 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:53.480180393 +0000 UTC m=+151.696907258]
I0305 06:40:14.075999       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:14.076005       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:14.076072       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7602
I0305 06:40:14.076081       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:14.076088       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.076118       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.076126       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.076131       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.076137       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.076146       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.076158       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.076171       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:14.076196       1 prefix_cache_and_load.go:584] latency, Route, 0.0541
I0305 06:40:14.076210       1 gateway.go:415] latency, selectTargetPod, 0.0542, target pod, 10.0.1.28:8000
I0305 06:40:14.076244       1 gateway.go:235] latency, HandleRequestBody, 0.0545
I0305 06:40:14.096761       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="392110e9-399c-4a7f-9fee-984d3083c51d"
I0305 06:40:14.100427       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e4afff9b-a5c9-434b-b385-15276a08877f"
I0305 06:40:14.100643       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e4afff9b-a5c9-434b-b385-15276a08877f" model="qwen2-5-7b-instruct"
I0305 06:40:14.100721       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:14.100729       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.100733       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.100963       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.101042       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:14.101051       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.106484       1 gateway.go:329] "-- In RequestBody processing ..." requestID="aef4801b-813a-4d9f-b31c-17eac6cb63af"
I0305 06:40:14.106702       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="aef4801b-813a-4d9f-b31c-17eac6cb63af" model="qwen2-5-7b-instruct"
I0305 06:40:14.132682       1 gateway.go:608] "First token received" requestID="392110e9-399c-4a7f-9fee-984d3083c51d" ttft_ms=110
I0305 06:40:14.133774       1 gateway.go:329] "-- In RequestBody processing ..." requestID="417bc380-d8bd-49c6-9477-ad7f8e06b44d"
I0305 06:40:14.134014       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="417bc380-d8bd-49c6-9477-ad7f8e06b44d" model="qwen2-5-7b-instruct"
I0305 06:40:14.146804       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0ac7ca3c-e573-4b12-9d4d-dc2e2b9c5f95"
I0305 06:40:14.147148       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0ac7ca3c-e573-4b12-9d4d-dc2e2b9c5f95" model="qwen2-5-7b-instruct"
I0305 06:40:14.148152       1 gateway.go:562] latency, 0.0000, summary, hash(request), dcb09a05, selectedpod, 10.0.1.53:8000, ttft, 110, tpot, 19, e2e, 283, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:14.148174       1 gateway.go:748] "Request completed" requestID="755c1d6b-90b6-4746-ac96-9ebc16dfbc30" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:14.148188       1 gateway.go:764] "HandleResponseBody completed" requestID="755c1d6b-90b6-4746-ac96-9ebc16dfbc30" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:14.151246       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0502, numInputTokens, 7593
I0305 06:40:14.151270       1 tree.go:471] Updated node(0) last access: 172.2492 seconds
I0305 06:40:14.151279       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.151282       1 tree.go:471] Updated node(2) last access: 172.2492 seconds
I0305 06:40:14.151297       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:14.151301       1 tree.go:471] Updated node(26) last access: 172.2492 seconds
I0305 06:40:14.151304       1 tree.go:490] Partial tokens match child node(208). Continue to go deeper in the radix tree
I0305 06:40:14.151307       1 tree.go:471] Updated node(208) last access: 172.2492 seconds
I0305 06:40:14.151310       1 tree.go:490] Partial tokens match child node(260). Continue to go deeper in the radix tree
I0305 06:40:14.151313       1 tree.go:471] Updated node(260) last access: 172.2493 seconds
I0305 06:40:14.151318       1 tree.go:484] Entire input tokens match the child node(261)
I0305 06:40:14.151321       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7593 tokens
I0305 06:40:14.151328       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 06:40:14.151334       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.151339       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.151323352 +0000 UTC m=+172.368050224 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:53.82069173 +0000 UTC m=+152.037418602]
I0305 06:40:14.151356       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7593, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:14.151362       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:14.151424       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7593
I0305 06:40:14.151434       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:14.151441       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.151480       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.151489       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.151493       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.151500       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.151504       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.151535       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.151544       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:14.151563       1 prefix_cache_and_load.go:584] latency, Route, 0.0508
I0305 06:40:14.151579       1 gateway.go:415] latency, selectTargetPod, 0.0509, target pod, 10.0.3.41:8000
I0305 06:40:14.151595       1 gateway.go:235] latency, HandleRequestBody, 0.0512
I0305 06:40:14.151617       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0448
I0305 06:40:14.151622       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.151633       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.151785       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.151843       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:14.151848       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.160326       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4648661f-9720-4131-87b6-f647aba388b3"
I0305 06:40:14.160566       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4648661f-9720-4131-87b6-f647aba388b3" model="qwen2-5-7b-instruct"
I0305 06:40:14.168137       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e4afff9b-a5c9-434b-b385-15276a08877f"
I0305 06:40:14.194203       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1ef18434-5503-4dcf-a18a-f19097209c00"
I0305 06:40:14.194415       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1ef18434-5503-4dcf-a18a-f19097209c00" model="qwen2-5-7b-instruct"
I0305 06:40:14.200845       1 gateway.go:608] "First token received" requestID="e4afff9b-a5c9-434b-b385-15276a08877f" ttft_ms=100
I0305 06:40:14.211211       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8cff9e2d-b8e7-4074-bfaa-b0a83583ce66"
I0305 06:40:14.211425       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8cff9e2d-b8e7-4074-bfaa-b0a83583ce66" model="qwen2-5-7b-instruct"
I0305 06:40:14.215127       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0633, numInputTokens, 7599
I0305 06:40:14.215146       1 tree.go:471] Updated node(0) last access: 172.3131 seconds
I0305 06:40:14.215153       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.215157       1 tree.go:471] Updated node(2) last access: 172.3131 seconds
I0305 06:40:14.215170       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:14.215174       1 tree.go:471] Updated node(18) last access: 172.3131 seconds
I0305 06:40:14.215183       1 tree.go:667] Split complete - New node(379)
I0305 06:40:14.215188       1 tree.go:668] Split complete - Child node(255)
I0305 06:40:14.215193       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:40:14.215197       1 tree.go:471] Updated node(379) last access: 172.3131 seconds
I0305 06:40:14.215202       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:14.215208       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:14.215216       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:14.215224       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.215231       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.215211545 +0000 UTC m=+172.431938410]
I0305 06:40:14.215250       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7483, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:14.215260       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:14.215350       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7483
I0305 06:40:14.215365       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:14.215378       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.215389       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.215395       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.215402       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.215409       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.215421       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.215434       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:14.215446       1 prefix_cache_and_load.go:584] latency, Route, 0.1087
I0305 06:40:14.215468       1 gateway.go:415] latency, selectTargetPod, 0.1087, target pod, 10.0.0.131:8000
I0305 06:40:14.215483       1 gateway.go:235] latency, HandleRequestBody, 0.1090
I0305 06:40:14.215521       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0814
I0305 06:40:14.215531       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.215534       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.215747       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.215810       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:14.215816       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.218044       1 gateway.go:329] "-- In RequestBody processing ..." requestID="92ef9e49-9589-400d-b23a-434cb6a6723f"
I0305 06:40:14.218255       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="92ef9e49-9589-400d-b23a-434cb6a6723f" model="qwen2-5-7b-instruct"
I0305 06:40:14.228520       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c65fd98c-55bc-438d-bd1c-323b75183683"
I0305 06:40:14.228734       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c65fd98c-55bc-438d-bd1c-323b75183683" model="qwen2-5-7b-instruct"
I0305 06:40:14.236859       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="aef4801b-813a-4d9f-b31c-17eac6cb63af"
I0305 06:40:14.265396       1 gateway.go:329] "-- In RequestBody processing ..." requestID="abc156ab-eed9-4e31-abf7-cf4683d86c37"
I0305 06:40:14.265640       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="abc156ab-eed9-4e31-abf7-cf4683d86c37" model="qwen2-5-7b-instruct"
I0305 06:40:14.272284       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ffff2707-f978-45fe-a82a-e79dee820e0c"
I0305 06:40:14.278564       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ffff2707-f978-45fe-a82a-e79dee820e0c" model="qwen2-5-7b-instruct"
I0305 06:40:14.278832       1 gateway.go:608] "First token received" requestID="aef4801b-813a-4d9f-b31c-17eac6cb63af" ttft_ms=172
I0305 06:40:14.280627       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0648, numInputTokens, 7598
I0305 06:40:14.280645       1 tree.go:471] Updated node(0) last access: 172.3786 seconds
I0305 06:40:14.280652       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.280655       1 tree.go:471] Updated node(2) last access: 172.3786 seconds
I0305 06:40:14.280668       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:14.280672       1 tree.go:471] Updated node(53) last access: 172.3786 seconds
I0305 06:40:14.280675       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 06:40:14.280678       1 tree.go:471] Updated node(43) last access: 172.3786 seconds
I0305 06:40:14.280688       1 tree.go:667] Split complete - New node(381)
I0305 06:40:14.280692       1 tree.go:668] Split complete - Child node(44)
I0305 06:40:14.280696       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:40:14.280702       1 tree.go:471] Updated node(381) last access: 172.3786 seconds
I0305 06:40:14.280707       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:40:14.280712       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:14.280718       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:14.280725       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.280730       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.280714148 +0000 UTC m=+172.497441012]
I0305 06:40:14.280745       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:40:14.280751       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:40:14.280829       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7484
I0305 06:40:14.280843       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:14.280853       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.280859       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.280867       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.280873       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.280877       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.280883       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.280891       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.280901       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:14.280912       1 prefix_cache_and_load.go:584] latency, Route, 0.1468
I0305 06:40:14.280938       1 gateway.go:415] latency, selectTargetPod, 0.1468, target pod, 10.0.0.34:8000
I0305 06:40:14.280949       1 gateway.go:235] latency, HandleRequestBody, 0.1472
I0305 06:40:14.280988       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1337
I0305 06:40:14.280993       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.280996       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.281138       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.281196       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:14.281201       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.299166       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="417bc380-d8bd-49c6-9477-ad7f8e06b44d"
I0305 06:40:14.302696       1 gateway.go:562] latency, 0.0000, summary, hash(request), 053baff8, selectedpod, 10.0.1.28:8000, ttft, 110, tpot, 18, e2e, 280, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:14.302718       1 gateway.go:748] "Request completed" requestID="392110e9-399c-4a7f-9fee-984d3083c51d" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:14.302731       1 gateway.go:764] "HandleResponseBody completed" requestID="392110e9-399c-4a7f-9fee-984d3083c51d" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:14.330003       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 7601
I0305 06:40:14.330020       1 tree.go:471] Updated node(0) last access: 172.4280 seconds
I0305 06:40:14.330026       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.330032       1 tree.go:471] Updated node(2) last access: 172.4280 seconds
I0305 06:40:14.330045       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:14.330049       1 tree.go:471] Updated node(8) last access: 172.4280 seconds
I0305 06:40:14.330052       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 06:40:14.330054       1 tree.go:471] Updated node(21) last access: 172.4280 seconds
I0305 06:40:14.330058       1 tree.go:490] Partial tokens match child node(253). Continue to go deeper in the radix tree
I0305 06:40:14.330062       1 tree.go:471] Updated node(253) last access: 172.4280 seconds
I0305 06:40:14.330066       1 tree.go:484] Entire input tokens match the child node(254)
I0305 06:40:14.330069       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:14.330077       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:14.330082       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.330088       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.330072252 +0000 UTC m=+172.546799117 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:53.530093088 +0000 UTC m=+151.746819959]
I0305 06:40:14.330105       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:14.330112       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:14.330173       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7601
I0305 06:40:14.330183       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:14.330190       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.330196       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.330199       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.330203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.330208       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.330213       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.330221       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.330229       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:14.330239       1 prefix_cache_and_load.go:584] latency, Route, 0.1830
I0305 06:40:14.330258       1 gateway.go:415] latency, selectTargetPod, 0.1830, target pod, 10.0.1.53:8000
I0305 06:40:14.330270       1 gateway.go:235] latency, HandleRequestBody, 0.1835
I0305 06:40:14.330297       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1696
I0305 06:40:14.330301       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.330304       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.330455       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.330523       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:14.330528       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.336284       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cbb0993d-fcab-4905-b2e0-388558459014"
I0305 06:40:14.336538       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cbb0993d-fcab-4905-b2e0-388558459014" model="qwen2-5-7b-instruct"
I0305 06:40:14.337791       1 gateway.go:329] "-- In RequestBody processing ..." requestID="92ad7ef8-4198-4cd7-8377-1fd7dc684b66"
I0305 06:40:14.337870       1 gateway.go:608] "First token received" requestID="417bc380-d8bd-49c6-9477-ad7f8e06b44d" ttft_ms=204
I0305 06:40:14.338015       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="92ad7ef8-4198-4cd7-8377-1fd7dc684b66" model="qwen2-5-7b-instruct"
I0305 06:40:14.342151       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8ca80641-96c8-46a8-b68f-c5093ed14ee8"
I0305 06:40:14.342378       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8ca80641-96c8-46a8-b68f-c5093ed14ee8" model="qwen2-5-7b-instruct"
I0305 06:40:14.346217       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a7305c1e-7011-4bda-ad34-17fa7d682656"
I0305 06:40:14.346459       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a7305c1e-7011-4bda-ad34-17fa7d682656" model="qwen2-5-7b-instruct"
I0305 06:40:14.349329       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0ac7ca3c-e573-4b12-9d4d-dc2e2b9c5f95"
I0305 06:40:14.349624       1 gateway.go:329] "-- In RequestBody processing ..." requestID="51e2e9f1-332a-4129-b186-68fa47e7c6ed"
I0305 06:40:14.349835       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="51e2e9f1-332a-4129-b186-68fa47e7c6ed" model="qwen2-5-7b-instruct"
I0305 06:40:14.351604       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2ac7ed6c-ba93-4070-a583-e51dea814b00"
I0305 06:40:14.351809       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2ac7ed6c-ba93-4070-a583-e51dea814b00" model="qwen2-5-7b-instruct"
I0305 06:40:14.378670       1 gateway.go:562] latency, 0.0001, summary, hash(request), 70bad0fb, selectedpod, 10.0.3.41:8000, ttft, 100, tpot, 19, e2e, 278, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 06:40:14.378687       1 gateway.go:748] "Request completed" requestID="e4afff9b-a5c9-434b-b385-15276a08877f" targetPod="10.0.3.41:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 06:40:14.378696       1 gateway.go:764] "HandleResponseBody completed" requestID="e4afff9b-a5c9-434b-b385-15276a08877f" promptTokens=7612 completionTokens=10 stream=true
I0305 06:40:14.380724       1 gateway.go:608] "First token received" requestID="0ac7ca3c-e573-4b12-9d4d-dc2e2b9c5f95" ttft_ms=233
I0305 06:40:14.396467       1 gateway.go:329] "-- In RequestBody processing ..." requestID="169b5f8e-d6d6-4409-80e3-8d80f50ac833"
I0305 06:40:14.396679       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="169b5f8e-d6d6-4409-80e3-8d80f50ac833" model="qwen2-5-7b-instruct"
I0305 06:40:14.411815       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3347b6e1-ef25-4d85-b152-e12f407bc7be"
I0305 06:40:14.412058       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3347b6e1-ef25-4d85-b152-e12f407bc7be" model="qwen2-5-7b-instruct"
I0305 06:40:14.412294       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0818, numInputTokens, 7597
I0305 06:40:14.412311       1 tree.go:471] Updated node(0) last access: 172.5103 seconds
I0305 06:40:14.412317       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.412321       1 tree.go:471] Updated node(2) last access: 172.5103 seconds
I0305 06:40:14.412334       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:14.412338       1 tree.go:471] Updated node(23) last access: 172.5103 seconds
I0305 06:40:14.412342       1 tree.go:490] Partial tokens match child node(263). Continue to go deeper in the radix tree
I0305 06:40:14.412344       1 tree.go:471] Updated node(263) last access: 172.5103 seconds
I0305 06:40:14.412348       1 tree.go:484] Entire input tokens match the child node(264)
I0305 06:40:14.412353       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:14.412360       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:14.412367       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.412371       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.41235523 +0000 UTC m=+172.629082103 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:39:53.940711385 +0000 UTC m=+152.157438259]
I0305 06:40:14.412391       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:14.412397       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:14.412465       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7597
I0305 06:40:14.412474       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:14.412481       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.412486       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.412492       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.412497       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.412501       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.412521       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.412531       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:14.412541       1 prefix_cache_and_load.go:584] latency, Route, 0.2519
I0305 06:40:14.412556       1 gateway.go:415] latency, selectTargetPod, 0.2519, target pod, 10.0.3.42:8000
I0305 06:40:14.412569       1 gateway.go:235] latency, HandleRequestBody, 0.2523
I0305 06:40:14.412597       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2181
I0305 06:40:14.412601       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.412604       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.412748       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.412805       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:14.412810       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.429210       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4648661f-9720-4131-87b6-f647aba388b3"
I0305 06:40:14.436713       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c30acdc4-fa4d-44b5-a410-ee5782b2d444"
I0305 06:40:14.436922       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c30acdc4-fa4d-44b5-a410-ee5782b2d444" model="qwen2-5-7b-instruct"
I0305 06:40:14.450737       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0020de9f, selectedpod, 10.0.0.131:8000, ttft, 172, tpot, 19, e2e, 344, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:14.450754       1 gateway.go:748] "Request completed" requestID="aef4801b-813a-4d9f-b31c-17eac6cb63af" targetPod="10.0.0.131:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:14.450764       1 gateway.go:764] "HandleResponseBody completed" requestID="aef4801b-813a-4d9f-b31c-17eac6cb63af" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:14.455427       1 gateway.go:608] "First token received" requestID="4648661f-9720-4131-87b6-f647aba388b3" ttft_ms=295
I0305 06:40:14.495870       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0831, numInputTokens, 7596
I0305 06:40:14.495887       1 tree.go:471] Updated node(0) last access: 172.5938 seconds
I0305 06:40:14.495894       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.495900       1 tree.go:471] Updated node(2) last access: 172.5938 seconds
I0305 06:40:14.495916       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:14.495921       1 tree.go:471] Updated node(18) last access: 172.5939 seconds
I0305 06:40:14.495925       1 tree.go:490] Partial tokens match child node(379). Continue to go deeper in the radix tree
I0305 06:40:14.495932       1 tree.go:471] Updated node(379) last access: 172.5939 seconds
I0305 06:40:14.495937       1 tree.go:490] Partial tokens match child node(255). Continue to go deeper in the radix tree
I0305 06:40:14.495942       1 tree.go:471] Updated node(255) last access: 172.5939 seconds
I0305 06:40:14.495949       1 tree.go:484] Entire input tokens match the child node(256)
I0305 06:40:14.495954       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:14.495964       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:14.495979       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.495986       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.495957498 +0000 UTC m=+172.712684362 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:53.599043036 +0000 UTC m=+151.815769900]
I0305 06:40:14.496009       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:14.496020       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:14.496097       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7596
I0305 06:40:14.496106       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:14.496114       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.496121       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.496126       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.496130       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.496136       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.496141       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.496150       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.496159       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:14.496169       1 prefix_cache_and_load.go:584] latency, Route, 0.3017
I0305 06:40:14.496187       1 gateway.go:415] latency, selectTargetPod, 0.3017, target pod, 10.0.0.131:8000
I0305 06:40:14.496199       1 gateway.go:235] latency, HandleRequestBody, 0.3020
I0305 06:40:14.496230       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2847
I0305 06:40:14.496236       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.496239       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.496393       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.496465       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:14.496470       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.506816       1 gateway.go:207] "Processing request" requestID="6d73f8bf-2a77-4a17-9726-d71a3b34a99d"
I0305 06:40:14.506840       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6d73f8bf-2a77-4a17-9726-d71a3b34a99d"
I0305 06:40:14.506849       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:14.508094       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2fd17c28, selectedpod, 10.0.0.34:8000, ttft, 204, tpot, 18, e2e, 374, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:14.508112       1 gateway.go:748] "Request completed" requestID="417bc380-d8bd-49c6-9477-ad7f8e06b44d" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:14.508121       1 gateway.go:764] "HandleResponseBody completed" requestID="417bc380-d8bd-49c6-9477-ad7f8e06b44d" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:14.514831       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1ef18434-5503-4dcf-a18a-f19097209c00"
I0305 06:40:14.545294       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 7600
I0305 06:40:14.545315       1 tree.go:471] Updated node(0) last access: 172.6433 seconds
I0305 06:40:14.545321       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.545324       1 tree.go:471] Updated node(2) last access: 172.6433 seconds
I0305 06:40:14.545338       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:14.545342       1 tree.go:471] Updated node(51) last access: 172.6433 seconds
I0305 06:40:14.545345       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:40:14.545348       1 tree.go:471] Updated node(123) last access: 172.6433 seconds
I0305 06:40:14.545352       1 tree.go:490] Partial tokens match child node(271). Continue to go deeper in the radix tree
I0305 06:40:14.545355       1 tree.go:471] Updated node(271) last access: 172.6433 seconds
I0305 06:40:14.545359       1 tree.go:484] Entire input tokens match the child node(272)
I0305 06:40:14.545363       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:14.545370       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:14.545376       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.545381       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.545365682 +0000 UTC m=+172.762092547 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:54.516840257 +0000 UTC m=+152.733567127]
I0305 06:40:14.545396       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:14.545404       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:14.545469       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7600
I0305 06:40:14.545477       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:14.545486       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.545492       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.545497       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.545500       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.545507       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.545510       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.545526       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.545534       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:14.545544       1 prefix_cache_and_load.go:584] latency, Route, 0.3340
I0305 06:40:14.545561       1 gateway.go:415] latency, selectTargetPod, 0.3341, target pod, 10.0.1.28:8000
I0305 06:40:14.545571       1 gateway.go:235] latency, HandleRequestBody, 0.3344
I0305 06:40:14.545599       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3273
I0305 06:40:14.545604       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.545606       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.545758       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.545815       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:14.545820       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.547853       1 gateway.go:608] "First token received" requestID="1ef18434-5503-4dcf-a18a-f19097209c00" ttft_ms=353
I0305 06:40:14.578834       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8cff9e2d-b8e7-4074-bfaa-b0a83583ce66"
I0305 06:40:14.578859       1 gateway.go:562] latency, 0.0001, summary, hash(request), ee57a001, selectedpod, 10.0.1.53:8000, ttft, 233, tpot, 22, e2e, 431, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:14.578884       1 gateway.go:748] "Request completed" requestID="0ac7ca3c-e573-4b12-9d4d-dc2e2b9c5f95" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:14.578897       1 gateway.go:764] "HandleResponseBody completed" requestID="0ac7ca3c-e573-4b12-9d4d-dc2e2b9c5f95" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:14.587846       1 gateway.go:207] "Processing request" requestID="47402400-d8a5-40f5-aced-5e0a4e9adda8"
I0305 06:40:14.587877       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="47402400-d8a5-40f5-aced-5e0a4e9adda8"
I0305 06:40:14.587884       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:14.596674       1 gateway.go:608] "First token received" requestID="8cff9e2d-b8e7-4074-bfaa-b0a83583ce66" ttft_ms=385
I0305 06:40:14.623039       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0772, numInputTokens, 7594
I0305 06:40:14.623059       1 tree.go:471] Updated node(0) last access: 172.7210 seconds
I0305 06:40:14.623065       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.623068       1 tree.go:471] Updated node(2) last access: 172.7210 seconds
I0305 06:40:14.623081       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:14.623084       1 tree.go:471] Updated node(12) last access: 172.7210 seconds
I0305 06:40:14.623088       1 tree.go:490] Partial tokens match child node(304). Continue to go deeper in the radix tree
I0305 06:40:14.623093       1 tree.go:471] Updated node(304) last access: 172.7210 seconds
I0305 06:40:14.623097       1 tree.go:484] Entire input tokens match the child node(266)
I0305 06:40:14.623100       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 06:40:14.623109       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:40:14.623115       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.623122       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.623104348 +0000 UTC m=+172.839831213 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:54.18922099 +0000 UTC m=+152.405947864]
I0305 06:40:14.623142       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7594, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:14.623153       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:14.623254       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7594
I0305 06:40:14.623268       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:14.623297       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.623306       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.623313       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.623316       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.623321       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.623331       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.623340       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:14.623350       1 prefix_cache_and_load.go:584] latency, Route, 0.4050
I0305 06:40:14.623368       1 gateway.go:415] latency, selectTargetPod, 0.4050, target pod, 10.0.0.39:8000
I0305 06:40:14.623382       1 gateway.go:235] latency, HandleRequestBody, 0.4053
I0305 06:40:14.623412       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3946
I0305 06:40:14.623419       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.623422       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.623607       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.623671       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:14.623677       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.629658       1 gateway.go:562] latency, 0.0000, summary, hash(request), e0a21ebb, selectedpod, 10.0.3.42:8000, ttft, 295, tpot, 19, e2e, 469, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:14.629679       1 gateway.go:748] "Request completed" requestID="4648661f-9720-4131-87b6-f647aba388b3" targetPod="10.0.3.42:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:14.629689       1 gateway.go:764] "HandleResponseBody completed" requestID="4648661f-9720-4131-87b6-f647aba388b3" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:14.641638       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="92ef9e49-9589-400d-b23a-434cb6a6723f"
I0305 06:40:14.659495       1 gateway.go:207] "Processing request" requestID="63bb1929-41c0-4ac0-a442-7b5e550d1e3a"
I0305 06:40:14.659534       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="63bb1929-41c0-4ac0-a442-7b5e550d1e3a"
I0305 06:40:14.659542       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:14.674353       1 gateway.go:608] "First token received" requestID="92ef9e49-9589-400d-b23a-434cb6a6723f" ttft_ms=456
I0305 06:40:14.683303       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0596, numInputTokens, 7601
I0305 06:40:14.683325       1 tree.go:471] Updated node(0) last access: 172.7813 seconds
I0305 06:40:14.683331       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.683335       1 tree.go:471] Updated node(2) last access: 172.7813 seconds
I0305 06:40:14.683348       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:14.683354       1 tree.go:471] Updated node(12) last access: 172.7813 seconds
I0305 06:40:14.683381       1 tree.go:490] Partial tokens match child node(291). Continue to go deeper in the radix tree
I0305 06:40:14.683390       1 tree.go:471] Updated node(291) last access: 172.7813 seconds
I0305 06:40:14.683402       1 tree.go:484] Entire input tokens match the child node(275)
I0305 06:40:14.683407       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:14.683416       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:14.683425       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.683433       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.683409667 +0000 UTC m=+172.900136533 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:54.659929808 +0000 UTC m=+152.876656673]
I0305 06:40:14.683457       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:14.683469       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:14.683620       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7601
I0305 06:40:14.683633       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:40:14.683640       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.683644       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.683648       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.683654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.683658       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.683673       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.683681       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:14.683693       1 prefix_cache_and_load.go:584] latency, Route, 0.4549
I0305 06:40:14.683720       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4179
I0305 06:40:14.683727       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.683730       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.683735       1 gateway.go:415] latency, selectTargetPod, 0.4549, target pod, 10.0.0.39:8000
I0305 06:40:14.683768       1 gateway.go:235] latency, HandleRequestBody, 0.4553
I0305 06:40:14.684009       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.684180       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:14.684218       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.702108       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c65fd98c-55bc-438d-bd1c-323b75183683"
I0305 06:40:14.719233       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5fed9d4a, selectedpod, 10.0.0.131:8000, ttft, 353, tpot, 19, e2e, 524, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:14.719253       1 gateway.go:748] "Request completed" requestID="1ef18434-5503-4dcf-a18a-f19097209c00" targetPod="10.0.0.131:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:14.719263       1 gateway.go:764] "HandleResponseBody completed" requestID="1ef18434-5503-4dcf-a18a-f19097209c00" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:14.732025       1 gateway.go:207] "Processing request" requestID="430eccc5-629f-485a-b60f-b458066c885d"
I0305 06:40:14.732063       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="430eccc5-629f-485a-b60f-b458066c885d"
I0305 06:40:14.732074       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:14.733397       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 7601
I0305 06:40:14.733412       1 tree.go:471] Updated node(0) last access: 172.8314 seconds
I0305 06:40:14.733418       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.733421       1 tree.go:471] Updated node(2) last access: 172.8314 seconds
I0305 06:40:14.733434       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:14.733439       1 tree.go:471] Updated node(31) last access: 172.8314 seconds
I0305 06:40:14.733442       1 tree.go:490] Partial tokens match child node(302). Continue to go deeper in the radix tree
I0305 06:40:14.733445       1 tree.go:471] Updated node(302) last access: 172.8314 seconds
I0305 06:40:14.733449       1 tree.go:484] Entire input tokens match the child node(250)
I0305 06:40:14.733452       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:14.733461       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:14.733467       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.733472       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.733455996 +0000 UTC m=+172.950182861 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:53.411245063 +0000 UTC m=+151.627971928]
I0305 06:40:14.733489       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:14.733496       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:14.733581       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7601
I0305 06:40:14.733591       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:14.733598       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.733603       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.733607       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.733611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.733617       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.733625       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.733634       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:14.733643       1 prefix_cache_and_load.go:584] latency, Route, 0.4679
I0305 06:40:14.733659       1 gateway.go:415] latency, selectTargetPod, 0.4679, target pod, 10.0.1.28:8000
I0305 06:40:14.733667       1 gateway.go:235] latency, HandleRequestBody, 0.4683
I0305 06:40:14.733687       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4549
I0305 06:40:14.733695       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.733699       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.733926       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.733999       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:14.734005       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.742921       1 gateway.go:608] "First token received" requestID="c65fd98c-55bc-438d-bd1c-323b75183683" ttft_ms=514
I0305 06:40:14.752056       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="abc156ab-eed9-4e31-abf7-cf4683d86c37"
I0305 06:40:14.779604       1 gateway.go:562] latency, 0.0000, summary, hash(request), 942c3bc9, selectedpod, 10.0.1.28:8000, ttft, 385, tpot, 20, e2e, 568, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:14.779625       1 gateway.go:748] "Request completed" requestID="8cff9e2d-b8e7-4074-bfaa-b0a83583ce66" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:14.779636       1 gateway.go:764] "HandleResponseBody completed" requestID="8cff9e2d-b8e7-4074-bfaa-b0a83583ce66" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:14.798277       1 gateway.go:608] "First token received" requestID="abc156ab-eed9-4e31-abf7-cf4683d86c37" ttft_ms=532
I0305 06:40:14.799496       1 gateway.go:207] "Processing request" requestID="2f73c25c-406d-4f07-b717-81166ba5210a"
I0305 06:40:14.799528       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2f73c25c-406d-4f07-b717-81166ba5210a"
I0305 06:40:14.799537       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:14.824767       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0908, numInputTokens, 7600
I0305 06:40:14.824786       1 tree.go:471] Updated node(0) last access: 172.9227 seconds
I0305 06:40:14.824792       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.824795       1 tree.go:471] Updated node(2) last access: 172.9227 seconds
I0305 06:40:14.824807       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:14.824811       1 tree.go:471] Updated node(12) last access: 172.9228 seconds
I0305 06:40:14.824816       1 tree.go:490] Partial tokens match child node(267). Continue to go deeper in the radix tree
I0305 06:40:14.824821       1 tree.go:471] Updated node(267) last access: 172.9228 seconds
I0305 06:40:14.824827       1 tree.go:484] Entire input tokens match the child node(268)
I0305 06:40:14.824832       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:14.824840       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:14.824848       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.824853       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.824834922 +0000 UTC m=+173.041561786 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:54.243295189 +0000 UTC m=+152.460022053]
I0305 06:40:14.824869       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:14.824877       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:14.824958       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7600
I0305 06:40:14.824967       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:14.824982       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.824988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.824992       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.824997       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.825005       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.825012       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.825024       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:14.825036       1 prefix_cache_and_load.go:584] latency, Route, 0.5463
I0305 06:40:14.825064       1 gateway.go:415] latency, selectTargetPod, 0.5463, target pod, 10.0.0.39:8000
I0305 06:40:14.825078       1 gateway.go:235] latency, HandleRequestBody, 0.5528
I0305 06:40:14.825113       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4885
I0305 06:40:14.825120       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.825124       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.825338       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.825402       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:14.825407       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.842536       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ffff2707-f978-45fe-a82a-e79dee820e0c"
I0305 06:40:14.870453       1 gateway.go:207] "Processing request" requestID="90bfd283-c09d-4193-a97e-aeedec9cfad0"
I0305 06:40:14.870474       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="90bfd283-c09d-4193-a97e-aeedec9cfad0"
I0305 06:40:14.870481       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:14.892531       1 gateway.go:608] "First token received" requestID="ffff2707-f978-45fe-a82a-e79dee820e0c" ttft_ms=620
I0305 06:40:14.908090       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0827, numInputTokens, 7604
I0305 06:40:14.908107       1 tree.go:471] Updated node(0) last access: 173.0060 seconds
I0305 06:40:14.908112       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:14.908116       1 tree.go:471] Updated node(2) last access: 173.0061 seconds
I0305 06:40:14.908132       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:14.908136       1 tree.go:471] Updated node(45) last access: 173.0061 seconds
I0305 06:40:14.908142       1 tree.go:484] Entire input tokens match the child node(265)
I0305 06:40:14.908145       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 06:40:14.908151       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 06:40:14.908156       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:14.908162       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:14.908146826 +0000 UTC m=+173.124873700 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:54.103715141 +0000 UTC m=+152.320442006]
I0305 06:40:14.908180       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7604, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:14.908188       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:14.908257       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7604
I0305 06:40:14.908267       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:14.908274       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.908281       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.908284       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.908290       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:14.908297       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:14.908307       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:14.908318       1 prefix_cache_and_load.go:584] latency, Route, 0.5717
I0305 06:40:14.908335       1 gateway.go:415] latency, selectTargetPod, 0.5717, target pod, 10.0.0.34:8000
I0305 06:40:14.908346       1 gateway.go:235] latency, HandleRequestBody, 0.5721
I0305 06:40:14.908374       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5703
I0305 06:40:14.908379       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:14.908381       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:14.908569       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:14.908630       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:14.908635       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:14.914228       1 gateway.go:562] latency, 0.0000, summary, hash(request), b42e7146, selectedpod, 10.0.0.39:8000, ttft, 456, tpot, 26, e2e, 696, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:40:14.914244       1 gateway.go:748] "Request completed" requestID="92ef9e49-9589-400d-b23a-434cb6a6723f" targetPod="10.0.0.39:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:40:14.914252       1 gateway.go:764] "HandleResponseBody completed" requestID="92ef9e49-9589-400d-b23a-434cb6a6723f" promptTokens=7613 completionTokens=10 stream=true
I0305 06:40:14.926879       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cbb0993d-fcab-4905-b2e0-388558459014"
I0305 06:40:14.938618       1 gateway.go:207] "Processing request" requestID="df88feb6-9540-4d94-858c-f5ad7833fd42"
I0305 06:40:14.938647       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="df88feb6-9540-4d94-858c-f5ad7833fd42"
I0305 06:40:14.938655       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:14.954853       1 gateway.go:562] latency, 0.0000, summary, hash(request), 54f8ce90, selectedpod, 10.0.0.39:8000, ttft, 514, tpot, 23, e2e, 726, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:14.954873       1 gateway.go:748] "Request completed" requestID="c65fd98c-55bc-438d-bd1c-323b75183683" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:14.954881       1 gateway.go:764] "HandleResponseBody completed" requestID="c65fd98c-55bc-438d-bd1c-323b75183683" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:14.978655       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d8bdfa4, selectedpod, 10.0.1.28:8000, ttft, 532, tpot, 20, e2e, 713, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:14.978668       1 gateway.go:748] "Request completed" requestID="abc156ab-eed9-4e31-abf7-cf4683d86c37" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:14.978677       1 gateway.go:764] "HandleResponseBody completed" requestID="abc156ab-eed9-4e31-abf7-cf4683d86c37" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:14.978714       1 gateway.go:608] "First token received" requestID="cbb0993d-fcab-4905-b2e0-388558459014" ttft_ms=642
I0305 06:40:15.001340       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0927, numInputTokens, 7598
I0305 06:40:15.001358       1 tree.go:471] Updated node(0) last access: 173.0993 seconds
I0305 06:40:15.001364       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:15.001369       1 tree.go:471] Updated node(2) last access: 173.0993 seconds
I0305 06:40:15.001381       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:15.001385       1 tree.go:471] Updated node(18) last access: 173.0993 seconds
I0305 06:40:15.001388       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 06:40:15.001391       1 tree.go:471] Updated node(219) last access: 173.0993 seconds
I0305 06:40:15.001395       1 tree.go:490] Partial tokens match child node(276). Continue to go deeper in the radix tree
I0305 06:40:15.001399       1 tree.go:471] Updated node(276) last access: 173.0993 seconds
I0305 06:40:15.001404       1 tree.go:484] Entire input tokens match the child node(277)
I0305 06:40:15.001407       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:15.001418       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:15.001425       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:15.001430       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:15.001411867 +0000 UTC m=+173.218138734 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:39:54.726712392 +0000 UTC m=+152.943439260]
I0305 06:40:15.001448       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:15.001454       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:15.001539       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7598
I0305 06:40:15.001549       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:15.001556       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.001562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.001565       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.001569       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.001574       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.001578       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.001589       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:15.001601       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:15.001610       1 prefix_cache_and_load.go:584] latency, Route, 0.6635
I0305 06:40:15.001629       1 gateway.go:415] latency, selectTargetPod, 0.6635, target pod, 10.0.0.131:8000
I0305 06:40:15.001641       1 gateway.go:235] latency, HandleRequestBody, 0.6639
I0305 06:40:15.001671       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6592
I0305 06:40:15.001676       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:15.001679       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:15.001837       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:15.001897       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:15.001903       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:15.020475       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="92ad7ef8-4198-4cd7-8377-1fd7dc684b66"
I0305 06:40:15.027544       1 gateway.go:207] "Processing request" requestID="da5a9b5f-f930-4579-aaa8-82c138961a19"
I0305 06:40:15.027579       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="da5a9b5f-f930-4579-aaa8-82c138961a19"
I0305 06:40:15.027587       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.045413       1 gateway.go:608] "First token received" requestID="92ad7ef8-4198-4cd7-8377-1fd7dc684b66" ttft_ms=707
I0305 06:40:15.071549       1 gateway.go:562] latency, 0.0001, summary, hash(request), 53cf18e6, selectedpod, 10.0.0.39:8000, ttft, 620, tpot, 19, e2e, 799, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:15.071573       1 gateway.go:748] "Request completed" requestID="ffff2707-f978-45fe-a82a-e79dee820e0c" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:15.071588       1 gateway.go:764] "HandleResponseBody completed" requestID="ffff2707-f978-45fe-a82a-e79dee820e0c" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:15.079134       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0772, numInputTokens, 7600
I0305 06:40:15.079152       1 tree.go:471] Updated node(0) last access: 173.1771 seconds
I0305 06:40:15.079159       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:15.079168       1 tree.go:471] Updated node(2) last access: 173.1771 seconds
I0305 06:40:15.079185       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:15.079190       1 tree.go:471] Updated node(4) last access: 173.1771 seconds
I0305 06:40:15.079195       1 tree.go:490] Partial tokens match child node(38). Continue to go deeper in the radix tree
I0305 06:40:15.079200       1 tree.go:471] Updated node(38) last access: 173.1771 seconds
I0305 06:40:15.079206       1 tree.go:490] Partial tokens match child node(273). Continue to go deeper in the radix tree
I0305 06:40:15.079210       1 tree.go:471] Updated node(273) last access: 173.1772 seconds
I0305 06:40:15.079217       1 tree.go:484] Entire input tokens match the child node(274)
I0305 06:40:15.079222       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:15.079230       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:15.079239       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:15.079250       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:15.079224392 +0000 UTC m=+173.295951262 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:54.610035015 +0000 UTC m=+152.826761879]
I0305 06:40:15.079277       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:15.079287       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:15.079412       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7600
I0305 06:40:15.079425       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:15.079437       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.079467       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.079472       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.079479       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.079487       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.079494       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.079505       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:15.079527       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:15.079543       1 prefix_cache_and_load.go:584] latency, Route, 0.7371
I0305 06:40:15.079577       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7330
I0305 06:40:15.079582       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:15.079587       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:15.079586       1 gateway.go:415] latency, selectTargetPod, 0.7371, target pod, 10.0.1.47:8000
I0305 06:40:15.079691       1 gateway.go:235] latency, HandleRequestBody, 0.7375
I0305 06:40:15.080231       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:15.080318       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0007
I0305 06:40:15.080324       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:15.099549       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8ca80641-96c8-46a8-b68f-c5093ed14ee8"
I0305 06:40:15.110115       1 gateway.go:207] "Processing request" requestID="01457cc8-68d8-44a0-9054-de9c9751c3ff"
I0305 06:40:15.110142       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="01457cc8-68d8-44a0-9054-de9c9751c3ff"
I0305 06:40:15.110151       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.128391       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0481, numInputTokens, 7602
I0305 06:40:15.128407       1 tree.go:471] Updated node(0) last access: 173.2263 seconds
I0305 06:40:15.128415       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:15.128419       1 tree.go:471] Updated node(2) last access: 173.2264 seconds
I0305 06:40:15.128433       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:15.128436       1 tree.go:471] Updated node(18) last access: 173.2264 seconds
I0305 06:40:15.128441       1 tree.go:490] Partial tokens match child node(299). Continue to go deeper in the radix tree
I0305 06:40:15.128445       1 tree.go:471] Updated node(299) last access: 173.2264 seconds
I0305 06:40:15.128453       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:40:15.128459       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:15.128468       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:15.128476       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:15.128483       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:15.128461604 +0000 UTC m=+173.345188479]
I0305 06:40:15.128499       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7489, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:40:15.128518       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:40:15.128584       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7489
I0305 06:40:15.128597       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:15.128609       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.128617       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.128624       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.128630       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.128635       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.128670       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:15.128683       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:15.128695       1 prefix_cache_and_load.go:584] latency, Route, 0.7821
I0305 06:40:15.128713       1 gateway.go:415] latency, selectTargetPod, 0.7821, target pod, 10.0.0.131:8000
I0305 06:40:15.128725       1 gateway.go:235] latency, HandleRequestBody, 0.7825
I0305 06:40:15.128748       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7788
I0305 06:40:15.128753       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:15.128757       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:15.128919       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:15.129001       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:15.129006       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:15.131585       1 gateway.go:562] latency, 0.0000, summary, hash(request), 92a8bfab, selectedpod, 10.0.0.34:8000, ttft, 642, tpot, 16, e2e, 795, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 06:40:15.131605       1 gateway.go:748] "Request completed" requestID="cbb0993d-fcab-4905-b2e0-388558459014" targetPod="10.0.0.34:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 06:40:15.131616       1 gateway.go:764] "HandleResponseBody completed" requestID="cbb0993d-fcab-4905-b2e0-388558459014" promptTokens=7623 completionTokens=10 stream=true
I0305 06:40:15.132052       1 gateway.go:608] "First token received" requestID="8ca80641-96c8-46a8-b68f-c5093ed14ee8" ttft_ms=789
I0305 06:40:15.147699       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a7305c1e-7011-4bda-ad34-17fa7d682656"
I0305 06:40:15.190531       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0615, numInputTokens, 7602
I0305 06:40:15.190550       1 tree.go:471] Updated node(0) last access: 173.2885 seconds
I0305 06:40:15.190556       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:15.190559       1 tree.go:471] Updated node(2) last access: 173.2885 seconds
I0305 06:40:15.190571       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:15.190574       1 tree.go:471] Updated node(12) last access: 173.2885 seconds
I0305 06:40:15.190578       1 tree.go:490] Partial tokens match child node(280). Continue to go deeper in the radix tree
I0305 06:40:15.190582       1 tree.go:471] Updated node(280) last access: 173.2885 seconds
I0305 06:40:15.190586       1 tree.go:484] Entire input tokens match the child node(281)
I0305 06:40:15.190591       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:40:15.190597       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:15.190604       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:15.190609       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:15.19059279 +0000 UTC m=+173.407319654 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:55.006830515 +0000 UTC m=+153.223557380]
I0305 06:40:15.190626       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:15.190634       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:15.190704       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7602
I0305 06:40:15.190714       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:15.190720       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.190727       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.190732       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.190738       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.190742       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.190749       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:15.190759       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:15.190769       1 prefix_cache_and_load.go:584] latency, Route, 0.8409
I0305 06:40:15.190785       1 gateway.go:415] latency, selectTargetPod, 0.8409, target pod, 10.0.0.39:8000
I0305 06:40:15.190797       1 gateway.go:235] latency, HandleRequestBody, 0.8412
I0305 06:40:15.190800       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8389
I0305 06:40:15.190813       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:15.190817       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:15.191042       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:15.191118       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:15.191123       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:15.193799       1 gateway.go:608] "First token received" requestID="a7305c1e-7011-4bda-ad34-17fa7d682656" ttft_ms=847
I0305 06:40:15.199494       1 gateway.go:207] "Processing request" requestID="906bfc35-ece8-4efe-b45b-0404445345de"
I0305 06:40:15.199523       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="906bfc35-ece8-4efe-b45b-0404445345de"
I0305 06:40:15.199531       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.209746       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="51e2e9f1-332a-4129-b186-68fa47e7c6ed"
I0305 06:40:15.239646       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0485, numInputTokens, 7598
I0305 06:40:15.239661       1 tree.go:471] Updated node(0) last access: 173.3376 seconds
I0305 06:40:15.239666       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:15.239670       1 tree.go:471] Updated node(2) last access: 173.3376 seconds
I0305 06:40:15.239682       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:15.239687       1 tree.go:471] Updated node(53) last access: 173.3376 seconds
I0305 06:40:15.239692       1 tree.go:490] Partial tokens match child node(278). Continue to go deeper in the radix tree
I0305 06:40:15.239694       1 tree.go:471] Updated node(278) last access: 173.3376 seconds
I0305 06:40:15.239699       1 tree.go:484] Entire input tokens match the child node(279)
I0305 06:40:15.239704       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:15.239710       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:15.239717       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:15.239722       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:15.239705792 +0000 UTC m=+173.456432656 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:39:54.885500095 +0000 UTC m=+153.102226959]
I0305 06:40:15.239740       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:15.239748       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:15.239829       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7598
I0305 06:40:15.239838       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:15.239846       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.239850       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.239857       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.239860       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.239865       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.239872       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:15.239882       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:15.239891       1 prefix_cache_and_load.go:584] latency, Route, 0.8880
I0305 06:40:15.239909       1 gateway.go:415] latency, selectTargetPod, 0.8880, target pod, 10.0.0.34:8000
I0305 06:40:15.239920       1 gateway.go:235] latency, HandleRequestBody, 0.8883
I0305 06:40:15.239952       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8432
I0305 06:40:15.239975       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:15.239980       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:15.240254       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:15.240339       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:15.240347       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:15.278584       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2ac7ed6c-ba93-4070-a583-e51dea814b00"
I0305 06:40:15.278612       1 gateway.go:207] "Processing request" requestID="c8a44704-a662-4a45-8caa-80e01edbe67c"
I0305 06:40:15.278642       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c8a44704-a662-4a45-8caa-80e01edbe67c"
I0305 06:40:15.278654       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.278731       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8fb86165, selectedpod, 10.0.0.131:8000, ttft, 707, tpot, 25, e2e, 940, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:15.278753       1 gateway.go:748] "Request completed" requestID="92ad7ef8-4198-4cd7-8377-1fd7dc684b66" targetPod="10.0.0.131:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:15.278766       1 gateway.go:764] "HandleResponseBody completed" requestID="92ad7ef8-4198-4cd7-8377-1fd7dc684b66" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:15.278769       1 gateway.go:608] "First token received" requestID="51e2e9f1-332a-4129-b186-68fa47e7c6ed" ttft_ms=929
I0305 06:40:15.286419       1 gateway.go:608] "First token received" requestID="2ac7ed6c-ba93-4070-a583-e51dea814b00" ttft_ms=934
I0305 06:40:15.305063       1 gateway.go:562] latency, 0.0000, summary, hash(request), 04e5c08e, selectedpod, 10.0.1.47:8000, ttft, 789, tpot, 19, e2e, 962, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:15.305084       1 gateway.go:748] "Request completed" requestID="8ca80641-96c8-46a8-b68f-c5093ed14ee8" targetPod="10.0.1.47:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:15.305094       1 gateway.go:764] "HandleResponseBody completed" requestID="8ca80641-96c8-46a8-b68f-c5093ed14ee8" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:15.329907       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0896, numInputTokens, 7597
I0305 06:40:15.329928       1 tree.go:471] Updated node(0) last access: 173.4279 seconds
I0305 06:40:15.329935       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:15.329938       1 tree.go:471] Updated node(2) last access: 173.4279 seconds
I0305 06:40:15.329951       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:15.329955       1 tree.go:471] Updated node(51) last access: 173.4279 seconds
I0305 06:40:15.329962       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:40:15.329967       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:15.329984       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:15.329991       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:15.329996       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:15.329979019 +0000 UTC m=+173.546705888]
I0305 06:40:15.330011       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7478, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:40:15.330018       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:40:15.330086       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7478
I0305 06:40:15.330095       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:15.330104       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.330109       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.330116       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.330120       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.330128       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:15.330173       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:15.330190       1 prefix_cache_and_load.go:584] latency, Route, 0.9334
I0305 06:40:15.330206       1 gateway.go:415] latency, selectTargetPod, 0.9334, target pod, 10.0.1.28:8000
I0305 06:40:15.330218       1 gateway.go:235] latency, HandleRequestBody, 0.9338
I0305 06:40:15.330256       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9181
I0305 06:40:15.330261       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:15.330264       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:15.330440       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:15.330500       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:15.330505       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:15.342678       1 gateway.go:207] "Processing request" requestID="8c1efd24-f8de-4e96-b29f-c28596769c67"
I0305 06:40:15.342705       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8c1efd24-f8de-4e96-b29f-c28596769c67"
I0305 06:40:15.342714       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.350115       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="169b5f8e-d6d6-4409-80e3-8d80f50ac833"
I0305 06:40:15.370248       1 gateway.go:562] latency, 0.0000, summary, hash(request), be7387cd, selectedpod, 10.0.0.131:8000, ttft, 847, tpot, 19, e2e, 1023, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:15.370266       1 gateway.go:748] "Request completed" requestID="a7305c1e-7011-4bda-ad34-17fa7d682656" targetPod="10.0.0.131:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:15.370276       1 gateway.go:764] "HandleResponseBody completed" requestID="a7305c1e-7011-4bda-ad34-17fa7d682656" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:15.385833       1 gateway.go:608] "First token received" requestID="169b5f8e-d6d6-4409-80e3-8d80f50ac833" ttft_ms=989
I0305 06:40:15.409877       1 gateway.go:207] "Processing request" requestID="eca4dcb0-965d-4dd6-8ce7-73641ce91593"
I0305 06:40:15.409905       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="eca4dcb0-965d-4dd6-8ce7-73641ce91593"
I0305 06:40:15.409915       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.412397       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0819, numInputTokens, 7603
I0305 06:40:15.412412       1 tree.go:471] Updated node(0) last access: 173.5104 seconds
I0305 06:40:15.412418       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:15.412421       1 tree.go:471] Updated node(2) last access: 173.5104 seconds
I0305 06:40:15.412434       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:15.412437       1 tree.go:471] Updated node(8) last access: 173.5104 seconds
I0305 06:40:15.412444       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 125 tokens:
I0305 06:40:15.412450       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 06:40:15.412456       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:15.412463       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:15.412468       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:15.412452352 +0000 UTC m=+173.629179216]
I0305 06:40:15.412483       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7478, Matching ratio: 0.9836, # Matched pods: 0, Matched pods: []
I0305 06:40:15.412489       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9836 > 0.5000)
I0305 06:40:15.412563       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7478
I0305 06:40:15.412573       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:15.412579       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.412585       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.412589       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.412595       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.412602       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:15.412610       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:15.412639       1 prefix_cache_and_load.go:584] latency, Route, 1.0004
I0305 06:40:15.412654       1 gateway.go:415] latency, selectTargetPod, 1.0005, target pod, 10.0.1.53:8000
I0305 06:40:15.412664       1 gateway.go:235] latency, HandleRequestBody, 1.0009
I0305 06:40:15.412667       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9757
I0305 06:40:15.412680       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:15.412687       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:15.412918       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:15.413009       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:15.413016       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:15.414788       1 gateway.go:562] latency, 0.0001, summary, hash(request), f6cdad13, selectedpod, 10.0.0.39:8000, ttft, 929, tpot, 15, e2e, 1065, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:15.415290       1 gateway.go:748] "Request completed" requestID="51e2e9f1-332a-4129-b186-68fa47e7c6ed" targetPod="10.0.0.39:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:15.415314       1 gateway.go:764] "HandleResponseBody completed" requestID="51e2e9f1-332a-4129-b186-68fa47e7c6ed" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:15.432673       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3347b6e1-ef25-4d85-b152-e12f407bc7be"
I0305 06:40:15.458786       1 gateway.go:562] latency, 0.0000, summary, hash(request), a6cc659e, selectedpod, 10.0.0.34:8000, ttft, 934, tpot, 19, e2e, 1107, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:15.458807       1 gateway.go:748] "Request completed" requestID="2ac7ed6c-ba93-4070-a583-e51dea814b00" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:15.458819       1 gateway.go:764] "HandleResponseBody completed" requestID="2ac7ed6c-ba93-4070-a583-e51dea814b00" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:15.474355       1 gateway.go:207] "Processing request" requestID="4577ca8e-bc56-4a2a-8e9a-0df333bc408e"
I0305 06:40:15.474379       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4577ca8e-bc56-4a2a-8e9a-0df333bc408e"
I0305 06:40:15.474388       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.476243       1 gateway.go:608] "First token received" requestID="3347b6e1-ef25-4d85-b152-e12f407bc7be" ttft_ms=1064
I0305 06:40:15.497902       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0849, numInputTokens, 7600
I0305 06:40:15.497920       1 tree.go:471] Updated node(0) last access: 173.5959 seconds
I0305 06:40:15.497926       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:15.497931       1 tree.go:471] Updated node(2) last access: 173.5959 seconds
I0305 06:40:15.497949       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:15.497953       1 tree.go:471] Updated node(8) last access: 173.5959 seconds
I0305 06:40:15.497958       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 06:40:15.497962       1 tree.go:471] Updated node(21) last access: 173.5959 seconds
I0305 06:40:15.497975       1 tree.go:484] Entire input tokens match the child node(285)
I0305 06:40:15.497981       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:15.497989       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:15.497998       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:15.498007       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:15.497983834 +0000 UTC m=+173.714710701 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:39:57.372985579 +0000 UTC m=+155.589712443]
I0305 06:40:15.498027       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:15.498038       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:15.498127       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7600
I0305 06:40:15.498141       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:15.498151       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.498158       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.498163       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.498169       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.498175       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:15.498187       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:15.498199       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:15.498215       1 prefix_cache_and_load.go:584] latency, Route, 1.0612
I0305 06:40:15.498237       1 gateway.go:415] latency, selectTargetPod, 1.0612, target pod, 10.0.1.53:8000
I0305 06:40:15.498252       1 gateway.go:235] latency, HandleRequestBody, 1.0615
I0305 06:40:15.516112       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c30acdc4-fa4d-44b5-a410-ee5782b2d444"
I0305 06:40:15.559041       1 gateway.go:562] latency, 0.0000, summary, hash(request), 09037716, selectedpod, 10.0.1.28:8000, ttft, 989, tpot, 19, e2e, 1162, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:15.559061       1 gateway.go:748] "Request completed" requestID="169b5f8e-d6d6-4409-80e3-8d80f50ac833" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:15.559072       1 gateway.go:764] "HandleResponseBody completed" requestID="169b5f8e-d6d6-4409-80e3-8d80f50ac833" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:15.559508       1 gateway.go:207] "Processing request" requestID="9d30be1c-4606-4044-a549-56834f3742f5"
I0305 06:40:15.559545       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9d30be1c-4606-4044-a549-56834f3742f5"
I0305 06:40:15.559553       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.562599       1 gateway.go:608] "First token received" requestID="c30acdc4-fa4d-44b5-a410-ee5782b2d444" ttft_ms=1125
I0305 06:40:15.618625       1 gateway.go:207] "Processing request" requestID="3e3dd077-8772-49c6-9056-b4d615b0fac2"
I0305 06:40:15.618652       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3e3dd077-8772-49c6-9056-b4d615b0fac2"
I0305 06:40:15.618663       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.683670       1 gateway.go:562] latency, 0.0000, summary, hash(request), 963670a4, selectedpod, 10.0.1.53:8000, ttft, 1064, tpot, 23, e2e, 1271, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:15.683689       1 gateway.go:748] "Request completed" requestID="3347b6e1-ef25-4d85-b152-e12f407bc7be" targetPod="10.0.1.53:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:15.683699       1 gateway.go:764] "HandleResponseBody completed" requestID="3347b6e1-ef25-4d85-b152-e12f407bc7be" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:15.697986       1 gateway.go:207] "Processing request" requestID="9b32e251-3516-4196-93e1-0620a0fb19a7"
I0305 06:40:15.698013       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9b32e251-3516-4196-93e1-0620a0fb19a7"
I0305 06:40:15.698022       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.741597       1 gateway.go:562] latency, 0.0000, summary, hash(request), 159f470e, selectedpod, 10.0.1.53:8000, ttft, 1125, tpot, 19, e2e, 1304, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:15.741614       1 gateway.go:748] "Request completed" requestID="c30acdc4-fa4d-44b5-a410-ee5782b2d444" targetPod="10.0.1.53:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:15.741623       1 gateway.go:764] "HandleResponseBody completed" requestID="c30acdc4-fa4d-44b5-a410-ee5782b2d444" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:15.769712       1 gateway.go:207] "Processing request" requestID="0d3b40d9-e53a-499d-a498-bbc860ca04b7"
I0305 06:40:15.769734       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0d3b40d9-e53a-499d-a498-bbc860ca04b7"
I0305 06:40:15.769742       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.832570       1 gateway.go:207] "Processing request" requestID="ca1dc6e4-7d17-43e5-8d11-53d6a81c0797"
I0305 06:40:15.832603       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ca1dc6e4-7d17-43e5-8d11-53d6a81c0797"
I0305 06:40:15.832613       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.896116       1 gateway.go:207] "Processing request" requestID="a989465e-a910-4e42-915a-f1b2a001d022"
I0305 06:40:15.896148       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a989465e-a910-4e42-915a-f1b2a001d022"
I0305 06:40:15.896159       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:15.967927       1 gateway.go:207] "Processing request" requestID="d035e3c8-78f5-4def-af78-2c6869f65c15"
I0305 06:40:15.967962       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d035e3c8-78f5-4def-af78-2c6869f65c15"
I0305 06:40:15.967980       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:16.116100       1 gateway.go:207] "Processing request" requestID="ba7b3fb5-de61-47fe-9a95-5802b7fed354"
I0305 06:40:16.116132       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ba7b3fb5-de61-47fe-9a95-5802b7fed354"
I0305 06:40:16.116141       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:16.178875       1 gateway.go:207] "Processing request" requestID="e4447fbe-58ed-43fa-b6eb-21676177c6ca"
I0305 06:40:16.178914       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e4447fbe-58ed-43fa-b6eb-21676177c6ca"
I0305 06:40:16.178925       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:16.250747       1 gateway.go:207] "Processing request" requestID="74cb6ba4-455c-4422-aa57-a3f0f22f2349"
I0305 06:40:16.250778       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="74cb6ba4-455c-4422-aa57-a3f0f22f2349"
I0305 06:40:16.250787       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:16.345690       1 gateway.go:207] "Processing request" requestID="9e54f3cf-9a09-46e4-b281-a6045f6affca"
I0305 06:40:16.345721       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9e54f3cf-9a09-46e4-b281-a6045f6affca"
I0305 06:40:16.345732       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:16.413096       1 gateway.go:207] "Processing request" requestID="6bfbce2a-0afa-47ad-84b1-464e25ad64b5"
I0305 06:40:16.413131       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6bfbce2a-0afa-47ad-84b1-464e25ad64b5"
I0305 06:40:16.413140       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:16.440822       1 gateway.go:329] "-- In RequestBody processing ..." requestID="700b59a4-8f15-481a-84ba-f284d9f16e2b"
I0305 06:40:16.441063       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="700b59a4-8f15-481a-84ba-f284d9f16e2b" model="qwen2-5-7b-instruct"
I0305 06:40:16.441194       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:16.441204       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:16.441209       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:16.441610       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:16.441701       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:16.441709       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:16.455381       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9f2db9b3-20ec-44d1-bb82-f0222526d028"
I0305 06:40:16.455611       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9f2db9b3-20ec-44d1-bb82-f0222526d028" model="qwen2-5-7b-instruct"
I0305 06:40:16.464869       1 gateway.go:329] "-- In RequestBody processing ..." requestID="12cf5deb-e671-4e24-9d5b-f8806007b4cd"
I0305 06:40:16.465102       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="12cf5deb-e671-4e24-9d5b-f8806007b4cd" model="qwen2-5-7b-instruct"
I0305 06:40:16.488883       1 gateway.go:329] "-- In RequestBody processing ..." requestID="34024fc6-d9ba-429a-9458-806f744f9f1e"
I0305 06:40:16.489098       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="34024fc6-d9ba-429a-9458-806f744f9f1e" model="qwen2-5-7b-instruct"
I0305 06:40:16.494858       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0531, numInputTokens, 7596
I0305 06:40:16.494878       1 tree.go:471] Updated node(0) last access: 174.5928 seconds
I0305 06:40:16.494885       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:16.494890       1 tree.go:471] Updated node(2) last access: 174.5928 seconds
I0305 06:40:16.494904       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:16.494907       1 tree.go:471] Updated node(4) last access: 174.5928 seconds
I0305 06:40:16.494911       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:40:16.494915       1 tree.go:471] Updated node(63) last access: 174.5929 seconds
I0305 06:40:16.494930       1 tree.go:667] Split complete - New node(386)
I0305 06:40:16.494936       1 tree.go:668] Split complete - Child node(223)
I0305 06:40:16.494943       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 06:40:16.494949       1 tree.go:471] Updated node(386) last access: 174.5929 seconds
I0305 06:40:16.494956       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 104 tokens:
I0305 06:40:16.494963       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:16.494981       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:16.494992       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:16.495001       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:16.49496594 +0000 UTC m=+174.711692809]
I0305 06:40:16.495026       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7492, Matching ratio: 0.9863, # Matched pods: 0, Matched pods: []
I0305 06:40:16.495038       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9863 > 0.5000)
I0305 06:40:16.495145       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7492
I0305 06:40:16.495157       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:16.495170       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.495178       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.495186       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.495191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.495199       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.495205       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.495218       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:16.495232       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:16.495250       1 prefix_cache_and_load.go:584] latency, Route, 0.0541
I0305 06:40:16.495270       1 gateway.go:415] latency, selectTargetPod, 0.0541, target pod, 10.0.1.47:8000
I0305 06:40:16.495287       1 gateway.go:235] latency, HandleRequestBody, 0.0545
I0305 06:40:16.495316       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0396
I0305 06:40:16.495323       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:16.495327       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:16.495521       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:16.495586       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:16.495592       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:16.508520       1 gateway.go:329] "-- In RequestBody processing ..." requestID="319067d7-0dd6-4658-8633-7a636b793d14"
I0305 06:40:16.508732       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="319067d7-0dd6-4658-8633-7a636b793d14" model="qwen2-5-7b-instruct"
I0305 06:40:16.515113       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="700b59a4-8f15-481a-84ba-f284d9f16e2b"
I0305 06:40:16.523842       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1c52bae7-ab32-48f3-87a4-1bdbf2ccef15"
I0305 06:40:16.524056       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1c52bae7-ab32-48f3-87a4-1bdbf2ccef15" model="qwen2-5-7b-instruct"
I0305 06:40:16.535721       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d3db82bf-27c2-414a-a9fa-de1972573ff6"
I0305 06:40:16.535953       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d3db82bf-27c2-414a-a9fa-de1972573ff6" model="qwen2-5-7b-instruct"
I0305 06:40:16.546131       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0505, numInputTokens, 7596
I0305 06:40:16.546150       1 tree.go:471] Updated node(0) last access: 174.6441 seconds
I0305 06:40:16.546157       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:16.546162       1 tree.go:471] Updated node(2) last access: 174.6441 seconds
I0305 06:40:16.546176       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:16.546185       1 tree.go:471] Updated node(18) last access: 174.6441 seconds
I0305 06:40:16.546189       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 06:40:16.546193       1 tree.go:471] Updated node(219) last access: 174.6441 seconds
I0305 06:40:16.546199       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:40:16.546206       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:16.546214       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:16.546223       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:16.546230       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:16.546208158 +0000 UTC m=+174.762935032]
I0305 06:40:16.546249       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7481, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:40:16.546259       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:40:16.546392       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7481
I0305 06:40:16.546406       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:16.546416       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.546421       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.546426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.546430       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.546434       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.546444       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:16.546453       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:16.546464       1 prefix_cache_and_load.go:584] latency, Route, 0.0908
I0305 06:40:16.546481       1 gateway.go:415] latency, selectTargetPod, 0.0908, target pod, 10.0.0.131:8000
I0305 06:40:16.546500       1 gateway.go:235] latency, HandleRequestBody, 0.0911
I0305 06:40:16.546530       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0814
I0305 06:40:16.546540       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:16.546545       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:16.546864       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:16.546985       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:16.546993       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:16.551526       1 gateway.go:608] "First token received" requestID="700b59a4-8f15-481a-84ba-f284d9f16e2b" ttft_ms=110
I0305 06:40:16.552505       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4acc417f-3906-425a-b9c7-da11f4b0c660"
I0305 06:40:16.552771       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4acc417f-3906-425a-b9c7-da11f4b0c660" model="qwen2-5-7b-instruct"
I0305 06:40:16.565912       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9f2db9b3-20ec-44d1-bb82-f0222526d028"
I0305 06:40:16.578605       1 gateway.go:329] "-- In RequestBody processing ..." requestID="993031cc-fd20-4903-bb8a-f600e9afe590"
I0305 06:40:16.578847       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="993031cc-fd20-4903-bb8a-f600e9afe590" model="qwen2-5-7b-instruct"
I0305 06:40:16.586259       1 gateway.go:329] "-- In RequestBody processing ..." requestID="402ea35b-f878-44dc-b5f8-e465f549b24c"
I0305 06:40:16.586470       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="402ea35b-f878-44dc-b5f8-e465f549b24c" model="qwen2-5-7b-instruct"
I0305 06:40:16.602824       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2446718c-ac8d-4271-87a3-f9010312135a"
I0305 06:40:16.603032       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2446718c-ac8d-4271-87a3-f9010312135a" model="qwen2-5-7b-instruct"
I0305 06:40:16.609258       1 gateway.go:608] "First token received" requestID="9f2db9b3-20ec-44d1-bb82-f0222526d028" ttft_ms=153
I0305 06:40:16.619057       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0721, numInputTokens, 7598
I0305 06:40:16.619078       1 tree.go:471] Updated node(0) last access: 174.7170 seconds
I0305 06:40:16.619084       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:16.619089       1 tree.go:471] Updated node(2) last access: 174.7170 seconds
I0305 06:40:16.619102       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:16.619106       1 tree.go:471] Updated node(51) last access: 174.7170 seconds
I0305 06:40:16.619109       1 tree.go:490] Partial tokens match child node(283). Continue to go deeper in the radix tree
I0305 06:40:16.619112       1 tree.go:471] Updated node(283) last access: 174.7171 seconds
I0305 06:40:16.619117       1 tree.go:484] Entire input tokens match the child node(284)
I0305 06:40:16.619121       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:16.619128       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:16.619134       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:16.619139       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:16.619123895 +0000 UTC m=+174.835850761 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:39:56.770611873 +0000 UTC m=+154.987338737]
I0305 06:40:16.619156       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:16.619165       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:16.619231       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7598
I0305 06:40:16.619240       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:16.619248       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.619256       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.619260       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.619268       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.619273       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.619281       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:16.619289       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:16.619301       1 prefix_cache_and_load.go:584] latency, Route, 0.1541
I0305 06:40:16.619318       1 gateway.go:415] latency, selectTargetPod, 0.1541, target pod, 10.0.1.28:8000
I0305 06:40:16.619329       1 gateway.go:235] latency, HandleRequestBody, 0.1545
I0305 06:40:16.619359       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1302
I0305 06:40:16.619364       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:16.619367       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:16.619525       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:16.619586       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:16.619591       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:16.629141       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a86d388b-18c7-4212-a072-4c93499e4b20"
I0305 06:40:16.629354       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a86d388b-18c7-4212-a072-4c93499e4b20" model="qwen2-5-7b-instruct"
I0305 06:40:16.640264       1 gateway.go:329] "-- In RequestBody processing ..." requestID="945bdf7e-5848-4574-9622-6bb3ee3ff6ba"
I0305 06:40:16.640478       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="945bdf7e-5848-4574-9622-6bb3ee3ff6ba" model="qwen2-5-7b-instruct"
I0305 06:40:16.641946       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="12cf5deb-e671-4e24-9d5b-f8806007b4cd"
I0305 06:40:16.656517       1 gateway.go:329] "-- In RequestBody processing ..." requestID="368adda4-caeb-4db6-b865-85e0675267e0"
I0305 06:40:16.656745       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="368adda4-caeb-4db6-b865-85e0675267e0" model="qwen2-5-7b-instruct"
I0305 06:40:16.667559       1 gateway.go:608] "First token received" requestID="12cf5deb-e671-4e24-9d5b-f8806007b4cd" ttft_ms=202
I0305 06:40:16.678644       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9f04c01e-e339-4219-ba4c-70441546dc4b"
I0305 06:40:16.678992       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9f04c01e-e339-4219-ba4c-70441546dc4b" model="qwen2-5-7b-instruct"
I0305 06:40:16.681023       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0614, numInputTokens, 7602
I0305 06:40:16.681038       1 tree.go:471] Updated node(0) last access: 174.7790 seconds
I0305 06:40:16.681044       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:16.681048       1 tree.go:471] Updated node(2) last access: 174.7790 seconds
I0305 06:40:16.681062       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:16.681065       1 tree.go:471] Updated node(51) last access: 174.7790 seconds
I0305 06:40:16.681076       1 tree.go:667] Split complete - New node(389)
I0305 06:40:16.681081       1 tree.go:668] Split complete - Child node(331)
I0305 06:40:16.681086       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 06:40:16.681096       1 tree.go:471] Updated node(389) last access: 174.7790 seconds
I0305 06:40:16.681105       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:40:16.681111       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:16.681119       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:16.681126       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:16.681131       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:16.681113431 +0000 UTC m=+174.897840296]
I0305 06:40:16.681147       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7482, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:40:16.681155       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:40:16.681314       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7482
I0305 06:40:16.681374       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:40:16.681403       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.681463       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.681547       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.681553       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.681558       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.681567       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:16.681577       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:16.681590       1 prefix_cache_and_load.go:584] latency, Route, 0.1924
I0305 06:40:16.681603       1 gateway.go:415] latency, selectTargetPod, 0.1924, target pod, 10.0.1.28:8000
I0305 06:40:16.681615       1 gateway.go:235] latency, HandleRequestBody, 0.1927
I0305 06:40:16.681647       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1729
I0305 06:40:16.681652       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:16.681655       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:16.681833       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:16.681896       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:16.681903       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:16.698069       1 gateway.go:329] "-- In RequestBody processing ..." requestID="79799194-010f-4ec8-ba52-9c41be4191c4"
I0305 06:40:16.698270       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="79799194-010f-4ec8-ba52-9c41be4191c4" model="qwen2-5-7b-instruct"
I0305 06:40:16.700643       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="34024fc6-d9ba-429a-9458-806f744f9f1e"
I0305 06:40:16.710915       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d37f2a98-0024-4ba1-bc1d-79cb8a6be573"
I0305 06:40:16.711137       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d37f2a98-0024-4ba1-bc1d-79cb8a6be573" model="qwen2-5-7b-instruct"
I0305 06:40:16.727828       1 gateway.go:562] latency, 0.0000, summary, hash(request), cd0a8c41, selectedpod, 10.0.1.47:8000, ttft, 110, tpot, 19, e2e, 286, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:16.727846       1 gateway.go:748] "Request completed" requestID="700b59a4-8f15-481a-84ba-f284d9f16e2b" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:16.727857       1 gateway.go:764] "HandleResponseBody completed" requestID="700b59a4-8f15-481a-84ba-f284d9f16e2b" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:16.730089       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 7600
I0305 06:40:16.730104       1 tree.go:471] Updated node(0) last access: 174.8280 seconds
I0305 06:40:16.730109       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:16.730112       1 tree.go:471] Updated node(2) last access: 174.8281 seconds
I0305 06:40:16.730124       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:16.730127       1 tree.go:471] Updated node(26) last access: 174.8281 seconds
I0305 06:40:16.730130       1 tree.go:490] Partial tokens match child node(208). Continue to go deeper in the radix tree
I0305 06:40:16.730133       1 tree.go:471] Updated node(208) last access: 174.8281 seconds
I0305 06:40:16.730138       1 tree.go:484] Entire input tokens match the child node(286)
I0305 06:40:16.730141       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:16.730147       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:16.730155       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:16.730160       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:16.730143223 +0000 UTC m=+174.946870087 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:39:57.613352157 +0000 UTC m=+155.830079030]
I0305 06:40:16.730178       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:16.730185       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:16.730246       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7600
I0305 06:40:16.730255       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:16.730262       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.730266       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.730270       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.730273       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.730276       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.730284       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:16.730293       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:16.730302       1 prefix_cache_and_load.go:584] latency, Route, 0.2215
I0305 06:40:16.730316       1 gateway.go:415] latency, selectTargetPod, 0.2215, target pod, 10.0.3.41:8000
I0305 06:40:16.730325       1 gateway.go:235] latency, HandleRequestBody, 0.2218
I0305 06:40:16.730352       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2062
I0305 06:40:16.730356       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:16.730359       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:16.730536       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:16.730594       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:16.730599       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:16.746818       1 gateway.go:608] "First token received" requestID="34024fc6-d9ba-429a-9458-806f744f9f1e" ttft_ms=257
I0305 06:40:16.747059       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="319067d7-0dd6-4658-8633-7a636b793d14"
I0305 06:40:16.782139       1 gateway.go:562] latency, 0.0000, summary, hash(request), 41b1992a, selectedpod, 10.0.0.131:8000, ttft, 153, tpot, 19, e2e, 326, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:16.782155       1 gateway.go:748] "Request completed" requestID="9f2db9b3-20ec-44d1-bb82-f0222526d028" targetPod="10.0.0.131:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:16.782164       1 gateway.go:764] "HandleResponseBody completed" requestID="9f2db9b3-20ec-44d1-bb82-f0222526d028" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:16.782870       1 gateway.go:608] "First token received" requestID="319067d7-0dd6-4658-8633-7a636b793d14" ttft_ms=274
I0305 06:40:16.799990       1 gateway.go:207] "Processing request" requestID="c4488cb2-67b9-4908-9936-f8e6e6857427"
I0305 06:40:16.800024       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c4488cb2-67b9-4908-9936-f8e6e6857427"
I0305 06:40:16.800035       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:16.814583       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0840, numInputTokens, 7600
I0305 06:40:16.814600       1 tree.go:471] Updated node(0) last access: 174.9125 seconds
I0305 06:40:16.814606       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:16.814610       1 tree.go:471] Updated node(2) last access: 174.9126 seconds
I0305 06:40:16.814624       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:16.814628       1 tree.go:471] Updated node(12) last access: 174.9126 seconds
I0305 06:40:16.814633       1 tree.go:490] Partial tokens match child node(291). Continue to go deeper in the radix tree
I0305 06:40:16.814636       1 tree.go:471] Updated node(291) last access: 174.9126 seconds
I0305 06:40:16.814643       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:40:16.814649       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:16.814656       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:16.814662       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:16.814668       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:16.81465119 +0000 UTC m=+175.031378055]
I0305 06:40:16.814682       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7485, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:40:16.814689       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:40:16.814753       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7485
I0305 06:40:16.814763       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:16.814771       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.814778       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.814783       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.814787       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.814792       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.814805       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:16.814815       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:16.814824       1 prefix_cache_and_load.go:584] latency, Route, 0.2907
I0305 06:40:16.814843       1 gateway.go:415] latency, selectTargetPod, 0.2907, target pod, 10.0.0.39:8000
I0305 06:40:16.814854       1 gateway.go:235] latency, HandleRequestBody, 0.2910
I0305 06:40:16.814899       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2789
I0305 06:40:16.814905       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:16.814908       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:16.815092       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:16.815159       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:16.815164       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:16.833882       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6d73f8bf-2a77-4a17-9726-d71a3b34a99d"
I0305 06:40:16.834127       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6d73f8bf-2a77-4a17-9726-d71a3b34a99d" model="qwen2-5-7b-instruct"
I0305 06:40:16.834287       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1c52bae7-ab32-48f3-87a4-1bdbf2ccef15"
I0305 06:40:16.846438       1 gateway.go:329] "-- In RequestBody processing ..." requestID="47402400-d8a5-40f5-aced-5e0a4e9adda8"
I0305 06:40:16.846655       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="47402400-d8a5-40f5-aced-5e0a4e9adda8" model="qwen2-5-7b-instruct"
I0305 06:40:16.852104       1 gateway.go:329] "-- In RequestBody processing ..." requestID="63bb1929-41c0-4ac0-a442-7b5e550d1e3a"
I0305 06:40:16.852315       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="63bb1929-41c0-4ac0-a442-7b5e550d1e3a" model="qwen2-5-7b-instruct"
I0305 06:40:16.870824       1 gateway.go:608] "First token received" requestID="1c52bae7-ab32-48f3-87a4-1bdbf2ccef15" ttft_ms=346
I0305 06:40:16.887459       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6832be95, selectedpod, 10.0.1.28:8000, ttft, 202, tpot, 24, e2e, 422, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:16.887478       1 gateway.go:748] "Request completed" requestID="12cf5deb-e671-4e24-9d5b-f8806007b4cd" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:16.887488       1 gateway.go:764] "HandleResponseBody completed" requestID="12cf5deb-e671-4e24-9d5b-f8806007b4cd" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:16.888098       1 gateway.go:329] "-- In RequestBody processing ..." requestID="430eccc5-629f-485a-b60f-b458066c885d"
I0305 06:40:16.888316       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="430eccc5-629f-485a-b60f-b458066c885d" model="qwen2-5-7b-instruct"
I0305 06:40:16.904148       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0890, numInputTokens, 7599
I0305 06:40:16.904164       1 tree.go:471] Updated node(0) last access: 175.0021 seconds
I0305 06:40:16.904170       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:16.904173       1 tree.go:471] Updated node(2) last access: 175.0021 seconds
I0305 06:40:16.904187       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:16.904191       1 tree.go:471] Updated node(12) last access: 175.0021 seconds
I0305 06:40:16.904194       1 tree.go:490] Partial tokens match child node(280). Continue to go deeper in the radix tree
I0305 06:40:16.904198       1 tree.go:471] Updated node(280) last access: 175.0021 seconds
I0305 06:40:16.904202       1 tree.go:484] Entire input tokens match the child node(282)
I0305 06:40:16.904206       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:16.904213       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:16.904220       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:16.904225       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:16.904208493 +0000 UTC m=+175.120935357 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:39:55.30807798 +0000 UTC m=+153.524804845]
I0305 06:40:16.904251       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:16.904258       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:16.904333       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7599
I0305 06:40:16.904342       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:16.904349       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.904353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.904358       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.904383       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.904389       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.904398       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:16.904406       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:16.904414       1 prefix_cache_and_load.go:584] latency, Route, 0.3684
I0305 06:40:16.904435       1 gateway.go:415] latency, selectTargetPod, 0.3684, target pod, 10.0.0.39:8000
I0305 06:40:16.904446       1 gateway.go:235] latency, HandleRequestBody, 0.3687
I0305 06:40:16.904472       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3516
I0305 06:40:16.904476       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:16.904480       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:16.904672       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:16.904736       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:16.904741       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:16.914950       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2f73c25c-406d-4f07-b717-81166ba5210a"
I0305 06:40:16.922838       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d3db82bf-27c2-414a-a9fa-de1972573ff6"
I0305 06:40:16.927231       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6441bbed, selectedpod, 10.0.1.28:8000, ttft, 257, tpot, 20, e2e, 438, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:16.927252       1 gateway.go:748] "Request completed" requestID="34024fc6-d9ba-429a-9458-806f744f9f1e" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:16.927268       1 gateway.go:764] "HandleResponseBody completed" requestID="34024fc6-d9ba-429a-9458-806f744f9f1e" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:16.933705       1 gateway.go:329] "-- In RequestBody processing ..." requestID="90bfd283-c09d-4193-a97e-aeedec9cfad0"
I0305 06:40:16.978628       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="90bfd283-c09d-4193-a97e-aeedec9cfad0" model="qwen2-5-7b-instruct"
I0305 06:40:16.978657       1 gateway.go:329] "-- In RequestBody processing ..." requestID="df88feb6-9540-4d94-858c-f5ad7833fd42"
I0305 06:40:16.978664       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2f73c25c-406d-4f07-b717-81166ba5210a" model="qwen2-5-7b-instruct"
I0305 06:40:16.978738       1 gateway.go:608] "First token received" requestID="d3db82bf-27c2-414a-a9fa-de1972573ff6" ttft_ms=442
I0305 06:40:16.978818       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90c9e070, selectedpod, 10.0.3.41:8000, ttft, 274, tpot, 21, e2e, 470, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:16.978839       1 gateway.go:748] "Request completed" requestID="319067d7-0dd6-4658-8633-7a636b793d14" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:16.978856       1 gateway.go:764] "HandleResponseBody completed" requestID="319067d7-0dd6-4658-8633-7a636b793d14" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:16.979291       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="df88feb6-9540-4d94-858c-f5ad7833fd42" model="qwen2-5-7b-instruct"
I0305 06:40:16.987697       1 gateway.go:329] "-- In RequestBody processing ..." requestID="da5a9b5f-f930-4579-aaa8-82c138961a19"
I0305 06:40:16.987936       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="da5a9b5f-f930-4579-aaa8-82c138961a19" model="qwen2-5-7b-instruct"
I0305 06:40:16.993352       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0886, numInputTokens, 7595
I0305 06:40:16.993374       1 tree.go:471] Updated node(0) last access: 175.0913 seconds
I0305 06:40:16.993380       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:16.993383       1 tree.go:471] Updated node(2) last access: 175.0913 seconds
I0305 06:40:16.993397       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:16.993402       1 tree.go:471] Updated node(4) last access: 175.0913 seconds
I0305 06:40:16.993406       1 tree.go:490] Partial tokens match child node(58). Continue to go deeper in the radix tree
I0305 06:40:16.993408       1 tree.go:471] Updated node(58) last access: 175.0913 seconds
I0305 06:40:16.993415       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 06:40:16.993420       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7595 tokens
I0305 06:40:16.993427       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:16.993434       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:16.993439       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:16.993422176 +0000 UTC m=+175.210149041]
I0305 06:40:16.993454       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7483, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 06:40:16.993462       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 06:40:16.993536       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7483
I0305 06:40:16.993546       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:16.993552       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.993558       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.993563       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.993567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.993572       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:16.993580       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:16.993590       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:16.993602       1 prefix_cache_and_load.go:584] latency, Route, 0.4407
I0305 06:40:16.993619       1 gateway.go:415] latency, selectTargetPod, 0.4408, target pod, 10.0.1.47:8000
I0305 06:40:16.993633       1 gateway.go:235] latency, HandleRequestBody, 0.4411
I0305 06:40:16.993637       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4147
I0305 06:40:16.993652       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:16.993658       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:16.993940       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:16.994028       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:16.994036       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:16.998575       1 gateway.go:329] "-- In RequestBody processing ..." requestID="01457cc8-68d8-44a0-9054-de9c9751c3ff"
I0305 06:40:16.998785       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="01457cc8-68d8-44a0-9054-de9c9751c3ff" model="qwen2-5-7b-instruct"
I0305 06:40:17.010251       1 gateway.go:329] "-- In RequestBody processing ..." requestID="906bfc35-ece8-4efe-b45b-0404445345de"
I0305 06:40:17.010499       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="906bfc35-ece8-4efe-b45b-0404445345de" model="qwen2-5-7b-instruct"
I0305 06:40:17.013845       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4acc417f-3906-425a-b9c7-da11f4b0c660"
I0305 06:40:17.025783       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c8a44704-a662-4a45-8caa-80e01edbe67c"
I0305 06:40:17.026120       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c8a44704-a662-4a45-8caa-80e01edbe67c" model="qwen2-5-7b-instruct"
I0305 06:40:17.047916       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0539, numInputTokens, 7597
I0305 06:40:17.047932       1 tree.go:471] Updated node(0) last access: 175.1459 seconds
I0305 06:40:17.047938       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.047941       1 tree.go:471] Updated node(2) last access: 175.1459 seconds
I0305 06:40:17.047955       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:17.047958       1 tree.go:471] Updated node(4) last access: 175.1459 seconds
I0305 06:40:17.047963       1 tree.go:484] Entire input tokens match the child node(257)
I0305 06:40:17.047975       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:17.047982       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:17.047988       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.047993       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.047978563 +0000 UTC m=+175.264705427 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:39:53.680067103 +0000 UTC m=+151.896793969]
I0305 06:40:17.048009       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:17.048017       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:17.048082       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7597
I0305 06:40:17.048091       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.048098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.048105       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.048111       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.048117       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.048124       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.048134       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:17.048144       1 prefix_cache_and_load.go:584] latency, Route, 0.4692
I0305 06:40:17.048158       1 gateway.go:415] latency, selectTargetPod, 0.4692, target pod, 10.0.1.47:8000
I0305 06:40:17.048168       1 gateway.go:235] latency, HandleRequestBody, 0.4696
I0305 06:40:17.048195       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4616
I0305 06:40:17.048199       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.048202       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.048350       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.048411       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:17.048417       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.050055       1 gateway.go:608] "First token received" requestID="4acc417f-3906-425a-b9c7-da11f4b0c660" ttft_ms=497
I0305 06:40:17.058427       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8c1efd24-f8de-4e96-b29f-c28596769c67"
I0305 06:40:17.058709       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8c1efd24-f8de-4e96-b29f-c28596769c67" model="qwen2-5-7b-instruct"
I0305 06:40:17.078669       1 gateway.go:329] "-- In RequestBody processing ..." requestID="eca4dcb0-965d-4dd6-8ce7-73641ce91593"
I0305 06:40:17.078699       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="993031cc-fd20-4903-bb8a-f600e9afe590"
I0305 06:40:17.079037       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="eca4dcb0-965d-4dd6-8ce7-73641ce91593" model="qwen2-5-7b-instruct"
I0305 06:40:17.089723       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4577ca8e-bc56-4a2a-8e9a-0df333bc408e"
I0305 06:40:17.089960       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4577ca8e-bc56-4a2a-8e9a-0df333bc408e" model="qwen2-5-7b-instruct"
I0305 06:40:17.090603       1 gateway.go:562] latency, 0.0000, summary, hash(request), c048a8a8, selectedpod, 10.0.0.39:8000, ttft, 346, tpot, 24, e2e, 566, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:17.090621       1 gateway.go:748] "Request completed" requestID="1c52bae7-ab32-48f3-87a4-1bdbf2ccef15" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:17.090632       1 gateway.go:764] "HandleResponseBody completed" requestID="1c52bae7-ab32-48f3-87a4-1bdbf2ccef15" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:17.092334       1 gateway.go:608] "First token received" requestID="993031cc-fd20-4903-bb8a-f600e9afe590" ttft_ms=513
I0305 06:40:17.093534       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9d30be1c-4606-4044-a549-56834f3742f5"
I0305 06:40:17.093751       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9d30be1c-4606-4044-a549-56834f3742f5" model="qwen2-5-7b-instruct"
I0305 06:40:17.116242       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3e3dd077-8772-49c6-9056-b4d615b0fac2"
I0305 06:40:17.116474       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3e3dd077-8772-49c6-9056-b4d615b0fac2" model="qwen2-5-7b-instruct"
I0305 06:40:17.119774       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0713, numInputTokens, 7597
I0305 06:40:17.119788       1 tree.go:471] Updated node(0) last access: 175.2177 seconds
I0305 06:40:17.119794       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.119798       1 tree.go:471] Updated node(2) last access: 175.2177 seconds
I0305 06:40:17.119812       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:17.119816       1 tree.go:471] Updated node(18) last access: 175.2178 seconds
I0305 06:40:17.119819       1 tree.go:490] Partial tokens match child node(170). Continue to go deeper in the radix tree
I0305 06:40:17.119822       1 tree.go:471] Updated node(170) last access: 175.2178 seconds
I0305 06:40:17.119826       1 tree.go:490] Partial tokens match child node(200). Continue to go deeper in the radix tree
I0305 06:40:17.119830       1 tree.go:471] Updated node(200) last access: 175.2178 seconds
I0305 06:40:17.119835       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 06:40:17.119839       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:17.119847       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:17.119856       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.119862       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.119842327 +0000 UTC m=+175.336569191]
I0305 06:40:17.119881       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7488, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 06:40:17.119890       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 06:40:17.119991       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7488
I0305 06:40:17.120005       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.120019       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.120028       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.120036       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.120043       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.120051       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.120058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.120070       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.120083       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:17.120097       1 prefix_cache_and_load.go:584] latency, Route, 0.5335
I0305 06:40:17.120114       1 gateway.go:415] latency, selectTargetPod, 0.5336, target pod, 10.0.0.131:8000
I0305 06:40:17.120129       1 gateway.go:235] latency, HandleRequestBody, 0.5339
I0305 06:40:17.120158       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5170
I0305 06:40:17.120164       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.120169       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.120358       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.120422       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:17.120427       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.134225       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9b32e251-3516-4196-93e1-0620a0fb19a7"
I0305 06:40:17.134445       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9b32e251-3516-4196-93e1-0620a0fb19a7" model="qwen2-5-7b-instruct"
I0305 06:40:17.137827       1 gateway.go:562] latency, 0.0001, summary, hash(request), 184b3928, selectedpod, 10.0.0.39:8000, ttft, 442, tpot, 17, e2e, 602, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:17.137853       1 gateway.go:748] "Request completed" requestID="d3db82bf-27c2-414a-a9fa-de1972573ff6" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:17.137866       1 gateway.go:764] "HandleResponseBody completed" requestID="d3db82bf-27c2-414a-a9fa-de1972573ff6" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:17.137920       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="402ea35b-f878-44dc-b5f8-e465f549b24c"
I0305 06:40:17.143414       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0d3b40d9-e53a-499d-a498-bbc860ca04b7"
I0305 06:40:17.143637       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0d3b40d9-e53a-499d-a498-bbc860ca04b7" model="qwen2-5-7b-instruct"
I0305 06:40:17.165104       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ca1dc6e4-7d17-43e5-8d11-53d6a81c0797"
I0305 06:40:17.165341       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ca1dc6e4-7d17-43e5-8d11-53d6a81c0797" model="qwen2-5-7b-instruct"
I0305 06:40:17.173209       1 gateway.go:608] "First token received" requestID="402ea35b-f878-44dc-b5f8-e465f549b24c" ttft_ms=586
I0305 06:40:17.192039       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a989465e-a910-4e42-915a-f1b2a001d022"
I0305 06:40:17.192270       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a989465e-a910-4e42-915a-f1b2a001d022" model="qwen2-5-7b-instruct"
I0305 06:40:17.198966       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0785, numInputTokens, 7597
I0305 06:40:17.198995       1 tree.go:471] Updated node(0) last access: 175.2969 seconds
I0305 06:40:17.199001       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.199004       1 tree.go:471] Updated node(2) last access: 175.2969 seconds
I0305 06:40:17.199018       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:17.199021       1 tree.go:471] Updated node(4) last access: 175.2970 seconds
I0305 06:40:17.199024       1 tree.go:490] Partial tokens match child node(346). Continue to go deeper in the radix tree
I0305 06:40:17.199027       1 tree.go:471] Updated node(346) last access: 175.2970 seconds
I0305 06:40:17.199036       1 tree.go:667] Split complete - New node(394)
I0305 06:40:17.199040       1 tree.go:668] Split complete - Child node(347)
I0305 06:40:17.199044       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:40:17.199049       1 tree.go:471] Updated node(394) last access: 175.2970 seconds
I0305 06:40:17.199054       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0305 06:40:17.199059       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:17.199066       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:17.199073       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.199077       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.199061387 +0000 UTC m=+175.415788252]
I0305 06:40:17.199091       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7489, Matching ratio: 0.9858, # Matched pods: 0, Matched pods: []
I0305 06:40:17.199097       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9858 > 0.5000)
I0305 06:40:17.199165       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7489
I0305 06:40:17.199174       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.199181       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.199187       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.199193       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.199199       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.199203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.199209       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.199216       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.199226       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:17.199235       1 prefix_cache_and_load.go:584] latency, Route, 0.5961
I0305 06:40:17.199249       1 gateway.go:415] latency, selectTargetPod, 0.5961, target pod, 10.0.1.47:8000
I0305 06:40:17.199259       1 gateway.go:235] latency, HandleRequestBody, 0.5964
I0305 06:40:17.199262       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5698
I0305 06:40:17.199273       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.199277       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.199591       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.199659       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:17.199665       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.201367       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d035e3c8-78f5-4def-af78-2c6869f65c15"
I0305 06:40:17.201629       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d035e3c8-78f5-4def-af78-2c6869f65c15" model="qwen2-5-7b-instruct"
I0305 06:40:17.218754       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2446718c-ac8d-4271-87a3-f9010312135a"
I0305 06:40:17.231525       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ba7b3fb5-de61-47fe-9a95-5802b7fed354"
I0305 06:40:17.231786       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ba7b3fb5-de61-47fe-9a95-5802b7fed354" model="qwen2-5-7b-instruct"
I0305 06:40:17.237781       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e4447fbe-58ed-43fa-b6eb-21676177c6ca"
I0305 06:40:17.238043       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e4447fbe-58ed-43fa-b6eb-21676177c6ca" model="qwen2-5-7b-instruct"
I0305 06:40:17.251149       1 gateway.go:329] "-- In RequestBody processing ..." requestID="74cb6ba4-455c-4422-aa57-a3f0f22f2349"
I0305 06:40:17.251405       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="74cb6ba4-455c-4422-aa57-a3f0f22f2349" model="qwen2-5-7b-instruct"
I0305 06:40:17.266172       1 gateway.go:608] "First token received" requestID="2446718c-ac8d-4271-87a3-f9010312135a" ttft_ms=663
I0305 06:40:17.267664       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9e54f3cf-9a09-46e4-b281-a6045f6affca"
I0305 06:40:17.267867       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9e54f3cf-9a09-46e4-b281-a6045f6affca" model="qwen2-5-7b-instruct"
I0305 06:40:17.287398       1 gateway.go:562] latency, 0.0000, summary, hash(request), 07163b19, selectedpod, 10.0.1.47:8000, ttft, 497, tpot, 26, e2e, 734, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:40:17.287417       1 gateway.go:748] "Request completed" requestID="4acc417f-3906-425a-b9c7-da11f4b0c660" targetPod="10.0.1.47:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:40:17.287429       1 gateway.go:764] "HandleResponseBody completed" requestID="4acc417f-3906-425a-b9c7-da11f4b0c660" promptTokens=7614 completionTokens=10 stream=true
I0305 06:40:17.290161       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0905, numInputTokens, 7600
I0305 06:40:17.290179       1 tree.go:471] Updated node(0) last access: 175.3881 seconds
I0305 06:40:17.290185       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.290188       1 tree.go:471] Updated node(2) last access: 175.3881 seconds
I0305 06:40:17.290201       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:17.290205       1 tree.go:471] Updated node(51) last access: 175.3881 seconds
I0305 06:40:17.290216       1 tree.go:667] Split complete - New node(396)
I0305 06:40:17.290220       1 tree.go:668] Split complete - Child node(384)
I0305 06:40:17.290225       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 06:40:17.290229       1 tree.go:471] Updated node(396) last access: 175.3882 seconds
I0305 06:40:17.290234       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:17.290238       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:17.290244       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:17.290250       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.290255       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.290239838 +0000 UTC m=+175.506966703]
I0305 06:40:17.290269       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:17.290276       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:17.290377       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7484
I0305 06:40:17.290386       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.290392       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.290398       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.290401       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.290405       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.290408       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.290416       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.290426       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:17.290437       1 prefix_cache_and_load.go:584] latency, Route, 0.6610
I0305 06:40:17.290450       1 gateway.go:415] latency, selectTargetPod, 0.6610, target pod, 10.0.1.28:8000
I0305 06:40:17.290462       1 gateway.go:235] latency, HandleRequestBody, 0.6613
I0305 06:40:17.290492       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6499
I0305 06:40:17.290496       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.290499       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.290661       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.290730       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:17.290734       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.300664       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6bfbce2a-0afa-47ad-84b1-464e25ad64b5"
I0305 06:40:17.300896       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6bfbce2a-0afa-47ad-84b1-464e25ad64b5" model="qwen2-5-7b-instruct"
I0305 06:40:17.309170       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a86d388b-18c7-4212-a072-4c93499e4b20"
I0305 06:40:17.310140       1 gateway.go:562] latency, 0.0000, summary, hash(request), e82cf0c1, selectedpod, 10.0.1.47:8000, ttft, 513, tpot, 24, e2e, 731, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:17.310162       1 gateway.go:748] "Request completed" requestID="993031cc-fd20-4903-bb8a-f600e9afe590" targetPod="10.0.1.47:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:17.310174       1 gateway.go:764] "HandleResponseBody completed" requestID="993031cc-fd20-4903-bb8a-f600e9afe590" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:17.318872       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c4488cb2-67b9-4908-9936-f8e6e6857427"
I0305 06:40:17.319269       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c4488cb2-67b9-4908-9936-f8e6e6857427" model="qwen2-5-7b-instruct"
I0305 06:40:17.339533       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 7599
I0305 06:40:17.339548       1 tree.go:471] Updated node(0) last access: 175.4375 seconds
I0305 06:40:17.339554       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.339558       1 tree.go:471] Updated node(2) last access: 175.4375 seconds
I0305 06:40:17.339572       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:17.339577       1 tree.go:471] Updated node(45) last access: 175.4375 seconds
I0305 06:40:17.339581       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:17.339585       1 tree.go:471] Updated node(175) last access: 175.4375 seconds
I0305 06:40:17.339591       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:40:17.339597       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:17.339603       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:17.339609       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.339614       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.339598632 +0000 UTC m=+175.556325496]
I0305 06:40:17.339628       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7481, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:40:17.339635       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:40:17.339699       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7481
I0305 06:40:17.339708       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.339716       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.339722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.339726       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.339733       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.339737       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.339745       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.339755       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:17.339762       1 prefix_cache_and_load.go:584] latency, Route, 0.6992
I0305 06:40:17.339775       1 gateway.go:415] latency, selectTargetPod, 0.6992, target pod, 10.0.0.34:8000
I0305 06:40:17.339785       1 gateway.go:235] latency, HandleRequestBody, 0.6995
I0305 06:40:17.339805       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6830
I0305 06:40:17.339808       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.339811       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.339961       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.340033       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:17.340038       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.344858       1 gateway.go:608] "First token received" requestID="a86d388b-18c7-4212-a072-4c93499e4b20" ttft_ms=715
I0305 06:40:17.347131       1 gateway.go:562] latency, 0.0005, summary, hash(request), 14f45654, selectedpod, 10.0.0.131:8000, ttft, 586, tpot, 19, e2e, 760, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:17.347161       1 gateway.go:748] "Request completed" requestID="402ea35b-f878-44dc-b5f8-e465f549b24c" targetPod="10.0.0.131:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:17.347174       1 gateway.go:764] "HandleResponseBody completed" requestID="402ea35b-f878-44dc-b5f8-e465f549b24c" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:17.379035       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="945bdf7e-5848-4574-9622-6bb3ee3ff6ba"
I0305 06:40:17.405355       1 gateway.go:608] "First token received" requestID="945bdf7e-5848-4574-9622-6bb3ee3ff6ba" ttft_ms=765
I0305 06:40:17.422241       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0822, numInputTokens, 7593
I0305 06:40:17.422262       1 tree.go:471] Updated node(0) last access: 175.5202 seconds
I0305 06:40:17.422269       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.422274       1 tree.go:471] Updated node(2) last access: 175.5202 seconds
I0305 06:40:17.422289       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:17.422294       1 tree.go:471] Updated node(53) last access: 175.5202 seconds
I0305 06:40:17.422305       1 tree.go:667] Split complete - New node(399)
I0305 06:40:17.422311       1 tree.go:668] Split complete - Child node(297)
I0305 06:40:17.422318       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 06:40:17.422326       1 tree.go:471] Updated node(399) last access: 175.5203 seconds
I0305 06:40:17.422336       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:40:17.422343       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7593 tokens
I0305 06:40:17.422352       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 06:40:17.422361       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.422370       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.422346753 +0000 UTC m=+175.639073621]
I0305 06:40:17.422386       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7480, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:40:17.422395       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:40:17.422481       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7480
I0305 06:40:17.422492       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.422499       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.422506       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.422524       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.422531       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.422536       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.422544       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.422557       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:17.422574       1 prefix_cache_and_load.go:584] latency, Route, 0.7657
I0305 06:40:17.422594       1 gateway.go:415] latency, selectTargetPod, 0.7658, target pod, 10.0.0.34:8000
I0305 06:40:17.422609       1 gateway.go:235] latency, HandleRequestBody, 0.7661
I0305 06:40:17.422636       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7435
I0305 06:40:17.422640       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.422644       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.422809       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.422884       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:17.422891       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.440007       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="368adda4-caeb-4db6-b865-85e0675267e0"
I0305 06:40:17.443082       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6b87794b, selectedpod, 10.0.1.47:8000, ttft, 663, tpot, 19, e2e, 840, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:17.443103       1 gateway.go:748] "Request completed" requestID="2446718c-ac8d-4271-87a3-f9010312135a" targetPod="10.0.1.47:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:17.443115       1 gateway.go:764] "HandleResponseBody completed" requestID="2446718c-ac8d-4271-87a3-f9010312135a" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:17.471559       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0487, numInputTokens, 7600
I0305 06:40:17.471576       1 tree.go:471] Updated node(0) last access: 175.5695 seconds
I0305 06:40:17.471583       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.471586       1 tree.go:471] Updated node(2) last access: 175.5695 seconds
I0305 06:40:17.471601       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:17.471607       1 tree.go:471] Updated node(31) last access: 175.5695 seconds
I0305 06:40:17.471611       1 tree.go:490] Partial tokens match child node(294). Continue to go deeper in the radix tree
I0305 06:40:17.471616       1 tree.go:471] Updated node(294) last access: 175.5696 seconds
I0305 06:40:17.471623       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:17.471630       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:17.471639       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:17.471647       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.471651       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.471632594 +0000 UTC m=+175.688359469]
I0305 06:40:17.471666       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7483, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:17.471673       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:17.471744       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7483
I0305 06:40:17.471753       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.471762       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.471766       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.471770       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.471775       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.471778       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.471785       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.471795       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:17.471803       1 prefix_cache_and_load.go:584] latency, Route, 0.7927
I0305 06:40:17.471816       1 gateway.go:415] latency, selectTargetPod, 0.7927, target pod, 10.0.1.28:8000
I0305 06:40:17.471827       1 gateway.go:235] latency, HandleRequestBody, 0.7932
I0305 06:40:17.471856       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7735
I0305 06:40:17.471860       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.471863       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.472043       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.472113       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:17.472119       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.476868       1 gateway.go:608] "First token received" requestID="368adda4-caeb-4db6-b865-85e0675267e0" ttft_ms=820
I0305 06:40:17.490777       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9f04c01e-e339-4219-ba4c-70441546dc4b"
I0305 06:40:17.529328       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0572, numInputTokens, 7600
I0305 06:40:17.529347       1 tree.go:471] Updated node(0) last access: 175.6273 seconds
I0305 06:40:17.529353       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.529356       1 tree.go:471] Updated node(2) last access: 175.6273 seconds
I0305 06:40:17.529369       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:17.529373       1 tree.go:471] Updated node(45) last access: 175.6273 seconds
I0305 06:40:17.529380       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:40:17.529386       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:17.529395       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:17.529403       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.529408       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.529388873 +0000 UTC m=+175.746115740]
I0305 06:40:17.529423       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:40:17.529431       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:40:17.529499       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:40:17.529508       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.529531       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.529538       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.529544       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.529549       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.529560       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.529571       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:17.529580       1 prefix_cache_and_load.go:584] latency, Route, 0.8312
I0305 06:40:17.529595       1 gateway.go:415] latency, selectTargetPod, 0.8312, target pod, 10.0.0.34:8000
I0305 06:40:17.529609       1 gateway.go:235] latency, HandleRequestBody, 0.8315
I0305 06:40:17.529644       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8184
I0305 06:40:17.529650       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.529653       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.529840       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.529924       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:17.529931       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.539057       1 gateway.go:608] "First token received" requestID="9f04c01e-e339-4219-ba4c-70441546dc4b" ttft_ms=860
I0305 06:40:17.547912       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="79799194-010f-4ec8-ba52-9c41be4191c4"
I0305 06:40:17.560489       1 gateway.go:562] latency, 0.0000, summary, hash(request), 883e60e6, selectedpod, 10.0.1.28:8000, ttft, 715, tpot, 23, e2e, 931, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:17.560520       1 gateway.go:748] "Request completed" requestID="a86d388b-18c7-4212-a072-4c93499e4b20" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:17.560532       1 gateway.go:764] "HandleResponseBody completed" requestID="a86d388b-18c7-4212-a072-4c93499e4b20" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:17.599423       1 gateway.go:608] "First token received" requestID="79799194-010f-4ec8-ba52-9c41be4191c4" ttft_ms=901
I0305 06:40:17.619828       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0899, numInputTokens, 7600
I0305 06:40:17.619844       1 tree.go:471] Updated node(0) last access: 175.7178 seconds
I0305 06:40:17.619852       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.619857       1 tree.go:471] Updated node(2) last access: 175.7178 seconds
I0305 06:40:17.619873       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:17.619877       1 tree.go:471] Updated node(18) last access: 175.7178 seconds
I0305 06:40:17.619886       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:40:17.619893       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:17.619902       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:17.619909       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.619918       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.619894933 +0000 UTC m=+175.836621807]
I0305 06:40:17.619938       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7478, Matching ratio: 0.9839, # Matched pods: 0, Matched pods: []
I0305 06:40:17.619948       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9839 > 0.5000)
I0305 06:40:17.620034       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7478
I0305 06:40:17.620052       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.620063       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.620072       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.620077       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.620086       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.620100       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.620111       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:17.620123       1 prefix_cache_and_load.go:584] latency, Route, 0.9089
I0305 06:40:17.620140       1 gateway.go:415] latency, selectTargetPod, 0.9089, target pod, 10.0.0.131:8000
I0305 06:40:17.620152       1 gateway.go:235] latency, HandleRequestBody, 0.9092
I0305 06:40:17.620185       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7860
I0305 06:40:17.620193       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.620196       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.620356       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.620431       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:17.620438       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.641809       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d37f2a98-0024-4ba1-bc1d-79cb8a6be573"
I0305 06:40:17.664017       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6ca83a0f, selectedpod, 10.0.0.34:8000, ttft, 765, tpot, 28, e2e, 1023, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:17.664035       1 gateway.go:748] "Request completed" requestID="945bdf7e-5848-4574-9622-6bb3ee3ff6ba" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:17.664045       1 gateway.go:764] "HandleResponseBody completed" requestID="945bdf7e-5848-4574-9622-6bb3ee3ff6ba" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:17.682572       1 gateway.go:608] "First token received" requestID="d37f2a98-0024-4ba1-bc1d-79cb8a6be573" ttft_ms=971
I0305 06:40:17.685819       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0654, numInputTokens, 7602
I0305 06:40:17.685839       1 tree.go:471] Updated node(0) last access: 175.7838 seconds
I0305 06:40:17.685845       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.685849       1 tree.go:471] Updated node(2) last access: 175.7838 seconds
I0305 06:40:17.685864       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:17.685868       1 tree.go:471] Updated node(53) last access: 175.7838 seconds
I0305 06:40:17.685872       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 06:40:17.685875       1 tree.go:471] Updated node(43) last access: 175.7838 seconds
I0305 06:40:17.685887       1 tree.go:667] Split complete - New node(404)
I0305 06:40:17.685892       1 tree.go:668] Split complete - Child node(30)
I0305 06:40:17.685897       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:40:17.685902       1 tree.go:471] Updated node(404) last access: 175.7838 seconds
I0305 06:40:17.685907       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:17.685912       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:17.685918       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:17.685925       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.685930       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.685914619 +0000 UTC m=+175.902641483]
I0305 06:40:17.685945       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7486, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:17.685951       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:17.686032       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7486
I0305 06:40:17.686041       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.686048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.686053       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.686058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.686063       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.686068       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.686071       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.686079       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.686089       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:17.686100       1 prefix_cache_and_load.go:584] latency, Route, 0.8519
I0305 06:40:17.686116       1 gateway.go:415] latency, selectTargetPod, 0.8519, target pod, 10.0.0.34:8000
I0305 06:40:17.686131       1 gateway.go:235] latency, HandleRequestBody, 0.8523
I0305 06:40:17.686131       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8394
I0305 06:40:17.686140       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.686145       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.686330       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.686393       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:17.686399       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.705130       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6d73f8bf-2a77-4a17-9726-d71a3b34a99d"
I0305 06:40:17.705293       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d9a836e, selectedpod, 10.0.0.34:8000, ttft, 820, tpot, 25, e2e, 1048, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 06:40:17.705312       1 gateway.go:748] "Request completed" requestID="368adda4-caeb-4db6-b865-85e0675267e0" targetPod="10.0.0.34:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 06:40:17.705321       1 gateway.go:764] "HandleResponseBody completed" requestID="368adda4-caeb-4db6-b865-85e0675267e0" promptTokens=7612 completionTokens=10 stream=true
I0305 06:40:17.714559       1 gateway.go:562] latency, 0.0001, summary, hash(request), e8727e6a, selectedpod, 10.0.1.28:8000, ttft, 860, tpot, 19, e2e, 1035, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:17.714576       1 gateway.go:748] "Request completed" requestID="9f04c01e-e339-4219-ba4c-70441546dc4b" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:17.714588       1 gateway.go:764] "HandleResponseBody completed" requestID="9f04c01e-e339-4219-ba4c-70441546dc4b" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:17.734087       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0477, numInputTokens, 7598
I0305 06:40:17.734103       1 tree.go:471] Updated node(0) last access: 175.8320 seconds
I0305 06:40:17.734110       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.734114       1 tree.go:471] Updated node(2) last access: 175.8321 seconds
I0305 06:40:17.734127       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:17.734133       1 tree.go:471] Updated node(45) last access: 175.8321 seconds
I0305 06:40:17.734136       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:17.734139       1 tree.go:471] Updated node(175) last access: 175.8321 seconds
I0305 06:40:17.734144       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:17.734150       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:17.734157       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:17.734164       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.734169       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.7341519 +0000 UTC m=+175.950878765]
I0305 06:40:17.734184       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:17.734192       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:17.734257       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7481
I0305 06:40:17.734266       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.734273       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.734278       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.734282       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.734287       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.734292       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.734299       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.734309       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:17.734335       1 prefix_cache_and_load.go:584] latency, Route, 0.8876
I0305 06:40:17.734350       1 gateway.go:415] latency, selectTargetPod, 0.8876, target pod, 10.0.0.34:8000
I0305 06:40:17.734358       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8820
I0305 06:40:17.734360       1 gateway.go:235] latency, HandleRequestBody, 0.8879
I0305 06:40:17.734364       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.734367       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.734604       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.734675       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:17.734683       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.752562       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="47402400-d8a5-40f5-aced-5e0a4e9adda8"
I0305 06:40:17.778524       1 gateway.go:608] "First token received" requestID="6d73f8bf-2a77-4a17-9726-d71a3b34a99d" ttft_ms=931
I0305 06:40:17.797022       1 gateway.go:608] "First token received" requestID="47402400-d8a5-40f5-aced-5e0a4e9adda8" ttft_ms=950
I0305 06:40:17.803864       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0692, numInputTokens, 7599
I0305 06:40:17.803880       1 tree.go:471] Updated node(0) last access: 175.9018 seconds
I0305 06:40:17.803887       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.803891       1 tree.go:471] Updated node(2) last access: 175.9018 seconds
I0305 06:40:17.803902       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:17.803907       1 tree.go:471] Updated node(53) last access: 175.9018 seconds
I0305 06:40:17.803911       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 06:40:17.803914       1 tree.go:471] Updated node(43) last access: 175.9019 seconds
I0305 06:40:17.803921       1 tree.go:490] Partial tokens match child node(289). Continue to go deeper in the radix tree
I0305 06:40:17.803923       1 tree.go:471] Updated node(289) last access: 175.9019 seconds
I0305 06:40:17.803927       1 tree.go:484] Entire input tokens match the child node(290)
I0305 06:40:17.803932       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:17.803938       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:17.803944       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.803949       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.803933675 +0000 UTC m=+176.020660539 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:02.821187124 +0000 UTC m=+161.037913989]
I0305 06:40:17.803966       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:17.803979       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:17.804049       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:40:17.804058       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.804069       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.804076       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.804082       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.804091       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.804094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.804102       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.804117       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.804128       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:17.804140       1 prefix_cache_and_load.go:584] latency, Route, 0.9517
I0305 06:40:17.804158       1 gateway.go:415] latency, selectTargetPod, 0.9518, target pod, 10.0.0.34:8000
I0305 06:40:17.804171       1 gateway.go:235] latency, HandleRequestBody, 0.9521
I0305 06:40:17.804205       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9158
I0305 06:40:17.804211       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.804214       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.804440       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.804538       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:17.804547       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.823334       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="63bb1929-41c0-4ac0-a442-7b5e550d1e3a"
I0305 06:40:17.855508       1 gateway.go:562] latency, 0.0000, summary, hash(request), 78d83e2d, selectedpod, 10.0.0.131:8000, ttft, 971, tpot, 19, e2e, 1144, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:17.855540       1 gateway.go:748] "Request completed" requestID="d37f2a98-0024-4ba1-bc1d-79cb8a6be573" targetPod="10.0.0.131:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:17.855553       1 gateway.go:764] "HandleResponseBody completed" requestID="d37f2a98-0024-4ba1-bc1d-79cb8a6be573" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:17.868017       1 gateway.go:608] "First token received" requestID="63bb1929-41c0-4ac0-a442-7b5e550d1e3a" ttft_ms=1015
I0305 06:40:17.889777       1 gateway.go:562] latency, 0.0000, summary, hash(request), 40676ed7, selectedpod, 10.0.0.34:8000, ttft, 901, tpot, 32, e2e, 1191, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:17.889796       1 gateway.go:748] "Request completed" requestID="79799194-010f-4ec8-ba52-9c41be4191c4" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:17.889809       1 gateway.go:764] "HandleResponseBody completed" requestID="79799194-010f-4ec8-ba52-9c41be4191c4" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:17.891991       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0874, numInputTokens, 7596
I0305 06:40:17.892007       1 tree.go:471] Updated node(0) last access: 175.9899 seconds
I0305 06:40:17.892014       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.892021       1 tree.go:471] Updated node(2) last access: 175.9900 seconds
I0305 06:40:17.892036       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:17.892041       1 tree.go:471] Updated node(53) last access: 175.9900 seconds
I0305 06:40:17.892046       1 tree.go:490] Partial tokens match child node(287). Continue to go deeper in the radix tree
I0305 06:40:17.892052       1 tree.go:471] Updated node(287) last access: 175.9900 seconds
I0305 06:40:17.892062       1 tree.go:484] Entire input tokens match the child node(288)
I0305 06:40:17.892068       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:17.892078       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:17.892088       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.892097       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.892071865 +0000 UTC m=+176.108798741 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:02.685150323 +0000 UTC m=+160.901877196]
I0305 06:40:17.892120       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:17.892129       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:17.892209       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7596
I0305 06:40:17.892222       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.892240       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.892248       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.892255       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.892261       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.892268       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.892283       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.892296       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:17.892309       1 prefix_cache_and_load.go:584] latency, Route, 1.0039
I0305 06:40:17.892328       1 gateway.go:415] latency, selectTargetPod, 1.0039, target pod, 10.0.0.34:8000
I0305 06:40:17.892343       1 gateway.go:235] latency, HandleRequestBody, 1.0042
I0305 06:40:17.892407       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9137
I0305 06:40:17.892413       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.892416       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.892587       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.892654       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:17.892659       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.909924       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="430eccc5-629f-485a-b60f-b458066c885d"
I0305 06:40:17.959767       1 gateway.go:608] "First token received" requestID="430eccc5-629f-485a-b60f-b458066c885d" ttft_ms=1071
I0305 06:40:17.978610       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0859, numInputTokens, 7597
I0305 06:40:17.978628       1 tree.go:471] Updated node(0) last access: 176.0766 seconds
I0305 06:40:17.978634       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:17.978638       1 tree.go:471] Updated node(2) last access: 176.0766 seconds
I0305 06:40:17.978650       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:17.978653       1 tree.go:471] Updated node(31) last access: 176.0766 seconds
I0305 06:40:17.978656       1 tree.go:490] Partial tokens match child node(186). Continue to go deeper in the radix tree
I0305 06:40:17.978659       1 tree.go:471] Updated node(186) last access: 176.0766 seconds
I0305 06:40:17.978665       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0305 06:40:17.978671       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:17.978678       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:17.978685       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:17.978691       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:17.978673187 +0000 UTC m=+176.195400051]
I0305 06:40:17.978706       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7489, Matching ratio: 0.9858, # Matched pods: 0, Matched pods: []
I0305 06:40:17.978714       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9858 > 0.5000)
I0305 06:40:17.978785       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7489
I0305 06:40:17.978794       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:17.978801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.978808       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.978812       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.978818       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.978822       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:17.978829       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:17.978838       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:17.978848       1 prefix_cache_and_load.go:584] latency, Route, 1.0001
I0305 06:40:17.978863       1 gateway.go:415] latency, selectTargetPod, 1.0001, target pod, 10.0.1.28:8000
I0305 06:40:17.978874       1 gateway.go:235] latency, HandleRequestBody, 1.0452
I0305 06:40:17.978901       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0001
I0305 06:40:17.978907       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:17.978910       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:17.979072       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:17.979136       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:17.979143       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:17.997930       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="90bfd283-c09d-4193-a97e-aeedec9cfad0"
I0305 06:40:18.027671       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0485, numInputTokens, 7594
I0305 06:40:18.027690       1 tree.go:471] Updated node(0) last access: 176.1256 seconds
I0305 06:40:18.027696       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.027699       1 tree.go:471] Updated node(2) last access: 176.1256 seconds
I0305 06:40:18.027712       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:18.027715       1 tree.go:471] Updated node(8) last access: 176.1257 seconds
I0305 06:40:18.027718       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:40:18.027721       1 tree.go:471] Updated node(85) last access: 176.1257 seconds
I0305 06:40:18.027731       1 tree.go:667] Split complete - New node(408)
I0305 06:40:18.027736       1 tree.go:668] Split complete - Child node(312)
I0305 06:40:18.027740       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 06:40:18.027744       1 tree.go:471] Updated node(408) last access: 176.1257 seconds
I0305 06:40:18.027750       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 06:40:18.027755       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 06:40:18.027761       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:40:18.027767       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.027773       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.027757388 +0000 UTC m=+176.244484253]
I0305 06:40:18.027786       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7484, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 06:40:18.027794       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 06:40:18.027860       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7484
I0305 06:40:18.027868       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.027874       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.027879       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.027884       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.027888       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.027893       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.027897       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.027906       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.027915       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:18.027950       1 prefix_cache_and_load.go:584] latency, Route, 1.0491
I0305 06:40:18.027983       1 gateway.go:415] latency, selectTargetPod, 1.0491, target pod, 10.0.1.53:8000
I0305 06:40:18.027994       1 gateway.go:235] latency, HandleRequestBody, 1.1130
I0305 06:40:18.028025       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0486
I0305 06:40:18.028030       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.028032       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.028197       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.028274       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:18.028279       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.032616       1 gateway.go:608] "First token received" requestID="90bfd283-c09d-4193-a97e-aeedec9cfad0" ttft_ms=1098
I0305 06:40:18.045654       1 gateway.go:562] latency, 0.0000, summary, hash(request), a2fb4cd9, selectedpod, 10.0.0.34:8000, ttft, 931, tpot, 31, e2e, 1211, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:18.045670       1 gateway.go:562] latency, 0.0000, summary, hash(request), b8e9107f, selectedpod, 10.0.0.34:8000, ttft, 950, tpot, 27, e2e, 1199, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:18.045693       1 gateway.go:748] "Request completed" requestID="47402400-d8a5-40f5-aced-5e0a4e9adda8" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:18.045706       1 gateway.go:764] "HandleResponseBody completed" requestID="47402400-d8a5-40f5-aced-5e0a4e9adda8" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:18.045675       1 gateway.go:748] "Request completed" requestID="6d73f8bf-2a77-4a17-9726-d71a3b34a99d" targetPod="10.0.0.34:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:18.045721       1 gateway.go:764] "HandleResponseBody completed" requestID="6d73f8bf-2a77-4a17-9726-d71a3b34a99d" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:18.047520       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2f73c25c-406d-4f07-b717-81166ba5210a"
I0305 06:40:18.082687       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0544, numInputTokens, 7597
I0305 06:40:18.082703       1 tree.go:471] Updated node(0) last access: 176.1806 seconds
I0305 06:40:18.082709       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.082712       1 tree.go:471] Updated node(2) last access: 176.1807 seconds
I0305 06:40:18.082727       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:18.082730       1 tree.go:471] Updated node(12) last access: 176.1807 seconds
I0305 06:40:18.082734       1 tree.go:490] Partial tokens match child node(291). Continue to go deeper in the radix tree
I0305 06:40:18.082739       1 tree.go:471] Updated node(291) last access: 176.1807 seconds
I0305 06:40:18.082744       1 tree.go:484] Entire input tokens match the child node(292)
I0305 06:40:18.082751       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:18.082758       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:18.082768       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.082778       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.082753221 +0000 UTC m=+176.299480087 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:02.869901838 +0000 UTC m=+161.086628703]
I0305 06:40:18.082797       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:18.082804       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:18.082885       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7597
I0305 06:40:18.082896       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.082903       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.082908       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.082912       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.082916       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.082921       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.082933       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.082943       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:18.082952       1 prefix_cache_and_load.go:584] latency, Route, 1.1036
I0305 06:40:18.082965       1 gateway.go:415] latency, selectTargetPod, 1.1036, target pod, 10.0.0.39:8000
I0305 06:40:18.082984       1 gateway.go:235] latency, HandleRequestBody, 1.1043
I0305 06:40:18.083017       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0950
I0305 06:40:18.083024       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.083027       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.083178       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.083243       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:18.083248       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.085127       1 gateway.go:608] "First token received" requestID="2f73c25c-406d-4f07-b717-81166ba5210a" ttft_ms=1170
I0305 06:40:18.085609       1 gateway.go:562] latency, 0.0001, summary, hash(request), 9869fc8a, selectedpod, 10.0.0.34:8000, ttft, 1015, tpot, 24, e2e, 1233, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:18.085654       1 gateway.go:748] "Request completed" requestID="63bb1929-41c0-4ac0-a442-7b5e550d1e3a" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:18.085682       1 gateway.go:764] "HandleResponseBody completed" requestID="63bb1929-41c0-4ac0-a442-7b5e550d1e3a" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:18.102241       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="df88feb6-9540-4d94-858c-f5ad7833fd42"
I0305 06:40:18.128135       1 gateway.go:608] "First token received" requestID="df88feb6-9540-4d94-858c-f5ad7833fd42" ttft_ms=1149
I0305 06:40:18.136412       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0532, numInputTokens, 7599
I0305 06:40:18.136431       1 tree.go:471] Updated node(0) last access: 176.2344 seconds
I0305 06:40:18.136437       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.136440       1 tree.go:471] Updated node(2) last access: 176.2344 seconds
I0305 06:40:18.136452       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:18.136455       1 tree.go:471] Updated node(12) last access: 176.2344 seconds
I0305 06:40:18.136459       1 tree.go:490] Partial tokens match child node(267). Continue to go deeper in the radix tree
I0305 06:40:18.136463       1 tree.go:471] Updated node(267) last access: 176.2344 seconds
I0305 06:40:18.136474       1 tree.go:667] Split complete - New node(410)
I0305 06:40:18.136480       1 tree.go:668] Split complete - Child node(245)
I0305 06:40:18.136484       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:40:18.136488       1 tree.go:471] Updated node(410) last access: 176.2344 seconds
I0305 06:40:18.136493       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:40:18.136498       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:18.136504       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:18.136518       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.136525       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.136499969 +0000 UTC m=+176.353226833]
I0305 06:40:18.136542       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7484, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:40:18.136553       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:40:18.136635       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7484
I0305 06:40:18.136644       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.136654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.136662       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.136672       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.136679       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.136683       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.136688       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.136695       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.136704       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:18.136716       1 prefix_cache_and_load.go:584] latency, Route, 1.1487
I0305 06:40:18.136733       1 gateway.go:415] latency, selectTargetPod, 1.1487, target pod, 10.0.0.39:8000
I0305 06:40:18.136747       1 gateway.go:235] latency, HandleRequestBody, 1.1491
I0305 06:40:18.136766       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1379
I0305 06:40:18.136780       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.136783       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.137039       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.137107       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:18.137114       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.143278       1 gateway.go:562] latency, 0.0001, summary, hash(request), 46d1fa4c, selectedpod, 10.0.0.34:8000, ttft, 1071, tpot, 20, e2e, 1255, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:18.143297       1 gateway.go:748] "Request completed" requestID="430eccc5-629f-485a-b60f-b458066c885d" targetPod="10.0.0.34:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:18.143310       1 gateway.go:764] "HandleResponseBody completed" requestID="430eccc5-629f-485a-b60f-b458066c885d" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:18.155102       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="da5a9b5f-f930-4579-aaa8-82c138961a19"
I0305 06:40:18.199730       1 gateway.go:608] "First token received" requestID="da5a9b5f-f930-4579-aaa8-82c138961a19" ttft_ms=1211
I0305 06:40:18.205542       1 gateway.go:562] latency, 0.0001, summary, hash(request), 093fca6a, selectedpod, 10.0.1.28:8000, ttft, 1098, tpot, 19, e2e, 1271, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:18.205562       1 gateway.go:748] "Request completed" requestID="90bfd283-c09d-4193-a97e-aeedec9cfad0" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:18.205572       1 gateway.go:764] "HandleResponseBody completed" requestID="90bfd283-c09d-4193-a97e-aeedec9cfad0" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:18.218050       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0809, numInputTokens, 7599
I0305 06:40:18.218065       1 tree.go:471] Updated node(0) last access: 176.3160 seconds
I0305 06:40:18.218071       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.218075       1 tree.go:471] Updated node(2) last access: 176.3160 seconds
I0305 06:40:18.218091       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:18.218097       1 tree.go:471] Updated node(45) last access: 176.3160 seconds
I0305 06:40:18.218101       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:18.218155       1 tree.go:471] Updated node(175) last access: 176.3160 seconds
I0305 06:40:18.218209       1 tree.go:490] Partial tokens match child node(184). Continue to go deeper in the radix tree
I0305 06:40:18.218214       1 tree.go:471] Updated node(184) last access: 176.3162 seconds
I0305 06:40:18.218257       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:40:18.218274       1 tree.go:449] latency, insertHelper, 0.0002 seconds, 7599 tokens
I0305 06:40:18.218288       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:18.218299       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 06:40:18.218307       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.218278095 +0000 UTC m=+176.435004962]
I0305 06:40:18.218328       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7484, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:40:18.218338       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:40:18.218634       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7484
I0305 06:40:18.218660       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0003
I0305 06:40:18.218682       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.218690       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.218698       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.218706       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.218713       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.218720       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.218731       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.218745       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:18.218761       1 prefix_cache_and_load.go:584] latency, Route, 1.2199
I0305 06:40:18.218775       1 gateway.go:415] latency, selectTargetPod, 1.2199, target pod, 10.0.0.34:8000
I0305 06:40:18.218798       1 gateway.go:235] latency, HandleRequestBody, 1.2202
I0305 06:40:18.218830       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2082
I0305 06:40:18.218835       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.218839       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.219477       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.219780       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0009
I0305 06:40:18.219791       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.237289       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="01457cc8-68d8-44a0-9054-de9c9751c3ff"
I0305 06:40:18.257710       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6bf84f08, selectedpod, 10.0.1.53:8000, ttft, 1170, tpot, 19, e2e, 1342, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:18.257732       1 gateway.go:748] "Request completed" requestID="2f73c25c-406d-4f07-b717-81166ba5210a" targetPod="10.0.1.53:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:18.257743       1 gateway.go:764] "HandleResponseBody completed" requestID="2f73c25c-406d-4f07-b717-81166ba5210a" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:18.272674       1 gateway.go:608] "First token received" requestID="01457cc8-68d8-44a0-9054-de9c9751c3ff" ttft_ms=1274
I0305 06:40:18.298016       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0782, numInputTokens, 7601
I0305 06:40:18.298033       1 tree.go:471] Updated node(0) last access: 176.3960 seconds
I0305 06:40:18.298039       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.298043       1 tree.go:471] Updated node(2) last access: 176.3960 seconds
I0305 06:40:18.298056       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:18.298060       1 tree.go:471] Updated node(51) last access: 176.3960 seconds
I0305 06:40:18.298064       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:40:18.298068       1 tree.go:471] Updated node(123) last access: 176.3960 seconds
I0305 06:40:18.298072       1 tree.go:490] Partial tokens match child node(251). Continue to go deeper in the radix tree
I0305 06:40:18.298075       1 tree.go:471] Updated node(251) last access: 176.3960 seconds
I0305 06:40:18.298081       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:18.298087       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:18.298094       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:18.298100       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.298106       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.298088738 +0000 UTC m=+176.514815603]
I0305 06:40:18.298122       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7484, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:18.298129       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:18.298209       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7484
I0305 06:40:18.298219       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.298226       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.298233       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.298238       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.298243       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.298250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.298253       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.298261       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.298270       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:18.298279       1 prefix_cache_and_load.go:584] latency, Route, 1.2877
I0305 06:40:18.298291       1 gateway.go:415] latency, selectTargetPod, 1.2877, target pod, 10.0.1.28:8000
I0305 06:40:18.298302       1 gateway.go:235] latency, HandleRequestBody, 1.2881
I0305 06:40:18.298333       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2721
I0305 06:40:18.298337       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.298341       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.298519       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.298580       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:18.298585       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.316067       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="906bfc35-ece8-4efe-b45b-0404445345de"
I0305 06:40:18.341080       1 gateway.go:562] latency, 0.0000, summary, hash(request), 18a50659, selectedpod, 10.0.0.39:8000, ttft, 1149, tpot, 23, e2e, 1362, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:18.341102       1 gateway.go:748] "Request completed" requestID="df88feb6-9540-4d94-858c-f5ad7833fd42" targetPod="10.0.0.39:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:18.341111       1 gateway.go:764] "HandleResponseBody completed" requestID="df88feb6-9540-4d94-858c-f5ad7833fd42" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:18.351018       1 gateway.go:608] "First token received" requestID="906bfc35-ece8-4efe-b45b-0404445345de" ttft_ms=1340
I0305 06:40:18.380705       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6728d38b, selectedpod, 10.0.0.39:8000, ttft, 1211, tpot, 20, e2e, 1392, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:18.380722       1 gateway.go:748] "Request completed" requestID="da5a9b5f-f930-4579-aaa8-82c138961a19" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:18.380731       1 gateway.go:764] "HandleResponseBody completed" requestID="da5a9b5f-f930-4579-aaa8-82c138961a19" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:18.387479       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0889, numInputTokens, 7596
I0305 06:40:18.387497       1 tree.go:471] Updated node(0) last access: 176.4854 seconds
I0305 06:40:18.387503       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.387506       1 tree.go:471] Updated node(2) last access: 176.4854 seconds
I0305 06:40:18.387528       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:18.387532       1 tree.go:471] Updated node(31) last access: 176.4855 seconds
I0305 06:40:18.387535       1 tree.go:490] Partial tokens match child node(354). Continue to go deeper in the radix tree
I0305 06:40:18.387538       1 tree.go:471] Updated node(354) last access: 176.4855 seconds
I0305 06:40:18.387542       1 tree.go:490] Partial tokens match child node(139). Continue to go deeper in the radix tree
I0305 06:40:18.387545       1 tree.go:471] Updated node(139) last access: 176.4855 seconds
I0305 06:40:18.387555       1 tree.go:667] Split complete - New node(414)
I0305 06:40:18.387560       1 tree.go:668] Split complete - Child node(140)
I0305 06:40:18.387565       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 06:40:18.387569       1 tree.go:471] Updated node(414) last access: 176.4855 seconds
I0305 06:40:18.387575       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 06:40:18.387580       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:18.387586       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:18.387592       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.387597       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.387581829 +0000 UTC m=+176.604308694]
I0305 06:40:18.387613       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7487, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 06:40:18.387619       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 06:40:18.387691       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7487
I0305 06:40:18.387700       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.387708       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.387713       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.387718       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.387724       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.387728       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.387733       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.387736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.387743       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.387753       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:18.387763       1 prefix_cache_and_load.go:584] latency, Route, 1.3615
I0305 06:40:18.387778       1 gateway.go:415] latency, selectTargetPod, 1.3616, target pod, 10.0.1.28:8000
I0305 06:40:18.387789       1 gateway.go:235] latency, HandleRequestBody, 1.3620
I0305 06:40:18.387812       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3289
I0305 06:40:18.387835       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.387843       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.388102       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.388176       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:18.388182       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.405331       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c8a44704-a662-4a45-8caa-80e01edbe67c"
I0305 06:40:18.437256       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 7602
I0305 06:40:18.437273       1 tree.go:471] Updated node(0) last access: 176.5352 seconds
I0305 06:40:18.437280       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.437284       1 tree.go:471] Updated node(2) last access: 176.5352 seconds
I0305 06:40:18.437297       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:18.437302       1 tree.go:471] Updated node(31) last access: 176.5352 seconds
I0305 06:40:18.437307       1 tree.go:490] Partial tokens match child node(294). Continue to go deeper in the radix tree
I0305 06:40:18.437312       1 tree.go:471] Updated node(294) last access: 176.5353 seconds
I0305 06:40:18.437316       1 tree.go:484] Entire input tokens match the child node(295)
I0305 06:40:18.437319       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:40:18.437327       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:18.437332       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.437337       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.437322908 +0000 UTC m=+176.654049772 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:03.102984905 +0000 UTC m=+161.319711779]
I0305 06:40:18.437355       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:18.437361       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:18.437437       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7602
I0305 06:40:18.437446       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.437457       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.437464       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.437468       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.437472       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.437477       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.437485       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.437493       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:18.437524       1 prefix_cache_and_load.go:584] latency, Route, 1.3787
I0305 06:40:18.437540       1 gateway.go:415] latency, selectTargetPod, 1.3787, target pod, 10.0.1.28:8000
I0305 06:40:18.437553       1 gateway.go:235] latency, HandleRequestBody, 1.3791
I0305 06:40:18.437583       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3584
I0305 06:40:18.437588       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.437591       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.437769       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.437835       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:18.437840       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.442076       1 gateway.go:608] "First token received" requestID="c8a44704-a662-4a45-8caa-80e01edbe67c" ttft_ms=1416
I0305 06:40:18.446874       1 gateway.go:562] latency, 0.0005, summary, hash(request), 1054e879, selectedpod, 10.0.0.34:8000, ttft, 1274, tpot, 19, e2e, 1447, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:18.446913       1 gateway.go:748] "Request completed" requestID="01457cc8-68d8-44a0-9054-de9c9751c3ff" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:18.446930       1 gateway.go:764] "HandleResponseBody completed" requestID="01457cc8-68d8-44a0-9054-de9c9751c3ff" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:18.456638       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8c1efd24-f8de-4e96-b29f-c28596769c67"
I0305 06:40:18.491828       1 gateway.go:608] "First token received" requestID="8c1efd24-f8de-4e96-b29f-c28596769c67" ttft_ms=1433
I0305 06:40:18.521348       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0835, numInputTokens, 7595
I0305 06:40:18.521366       1 tree.go:471] Updated node(0) last access: 176.6193 seconds
I0305 06:40:18.521373       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.521376       1 tree.go:471] Updated node(2) last access: 176.6193 seconds
I0305 06:40:18.521390       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:18.521396       1 tree.go:471] Updated node(53) last access: 176.6193 seconds
I0305 06:40:18.521400       1 tree.go:490] Partial tokens match child node(399). Continue to go deeper in the radix tree
I0305 06:40:18.521405       1 tree.go:471] Updated node(399) last access: 176.6193 seconds
I0305 06:40:18.521408       1 tree.go:490] Partial tokens match child node(297). Continue to go deeper in the radix tree
I0305 06:40:18.521411       1 tree.go:471] Updated node(297) last access: 176.6194 seconds
I0305 06:40:18.521415       1 tree.go:484] Entire input tokens match the child node(298)
I0305 06:40:18.521420       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:40:18.521426       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:18.521433       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.521438       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.521422071 +0000 UTC m=+176.738148935 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:04.616474356 +0000 UTC m=+162.833201221]
I0305 06:40:18.521455       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7595, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:18.521462       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:18.521543       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7595
I0305 06:40:18.521553       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.521560       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.521566       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.521572       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.521578       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.521582       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.521585       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.521593       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.521602       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:18.521612       1 prefix_cache_and_load.go:584] latency, Route, 1.4424
I0305 06:40:18.521625       1 gateway.go:415] latency, selectTargetPod, 1.4424, target pod, 10.0.0.34:8000
I0305 06:40:18.521637       1 gateway.go:235] latency, HandleRequestBody, 1.4430
I0305 06:40:18.521676       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4316
I0305 06:40:18.521689       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.521693       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.521921       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.522003       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:18.522010       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.539555       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="eca4dcb0-965d-4dd6-8ce7-73641ce91593"
I0305 06:40:18.570305       1 gateway.go:608] "First token received" requestID="eca4dcb0-965d-4dd6-8ce7-73641ce91593" ttft_ms=1491
I0305 06:40:18.571098       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 7598
I0305 06:40:18.571114       1 tree.go:471] Updated node(0) last access: 176.6691 seconds
I0305 06:40:18.571120       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.571123       1 tree.go:471] Updated node(2) last access: 176.6691 seconds
I0305 06:40:18.571138       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:18.571142       1 tree.go:471] Updated node(4) last access: 176.6691 seconds
I0305 06:40:18.571145       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:40:18.571148       1 tree.go:471] Updated node(63) last access: 176.6691 seconds
I0305 06:40:18.571153       1 tree.go:484] Entire input tokens match the child node(296)
I0305 06:40:18.571156       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:18.571162       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:18.571168       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.571187       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.571157825 +0000 UTC m=+176.787884698 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:40:03.330094651 +0000 UTC m=+161.546821515]
I0305 06:40:18.571205       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:18.571211       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:18.571276       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7598
I0305 06:40:18.571285       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.571292       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.571297       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.571300       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.571305       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.571308       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.571316       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.571325       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:18.571335       1 prefix_cache_and_load.go:584] latency, Route, 1.4813
I0305 06:40:18.571351       1 gateway.go:415] latency, selectTargetPod, 1.4813, target pod, 10.0.1.47:8000
I0305 06:40:18.571360       1 gateway.go:235] latency, HandleRequestBody, 1.4816
I0305 06:40:18.571406       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4776
I0305 06:40:18.571411       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.571415       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.571571       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.571632       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:18.571637       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.591735       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4577ca8e-bc56-4a2a-8e9a-0df333bc408e"
I0305 06:40:18.597790       1 gateway.go:562] latency, 0.0000, summary, hash(request), 581548ca, selectedpod, 10.0.1.28:8000, ttft, 1340, tpot, 27, e2e, 1587, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:18.597811       1 gateway.go:748] "Request completed" requestID="906bfc35-ece8-4efe-b45b-0404445345de" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:18.597823       1 gateway.go:764] "HandleResponseBody completed" requestID="906bfc35-ece8-4efe-b45b-0404445345de" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:18.617464       1 gateway.go:608] "First token received" requestID="4577ca8e-bc56-4a2a-8e9a-0df333bc408e" ttft_ms=1527
I0305 06:40:18.629665       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0580, numInputTokens, 7603
I0305 06:40:18.629683       1 tree.go:471] Updated node(0) last access: 176.7276 seconds
I0305 06:40:18.629689       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.629692       1 tree.go:471] Updated node(2) last access: 176.7276 seconds
I0305 06:40:18.629705       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:18.629709       1 tree.go:471] Updated node(18) last access: 176.7277 seconds
I0305 06:40:18.629712       1 tree.go:490] Partial tokens match child node(299). Continue to go deeper in the radix tree
I0305 06:40:18.629718       1 tree.go:471] Updated node(299) last access: 176.7277 seconds
I0305 06:40:18.629722       1 tree.go:484] Entire input tokens match the child node(300)
I0305 06:40:18.629725       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 06:40:18.629731       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:18.629738       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.629743       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.62972752 +0000 UTC m=+176.846454386 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:04.726355055 +0000 UTC m=+162.943081920]
I0305 06:40:18.629760       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:18.629767       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:18.629834       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7603
I0305 06:40:18.629843       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.629852       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.629858       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.629863       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.629867       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.629871       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.629879       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.629889       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:18.629898       1 prefix_cache_and_load.go:584] latency, Route, 1.5361
I0305 06:40:18.629912       1 gateway.go:415] latency, selectTargetPod, 1.5361, target pod, 10.0.0.131:8000
I0305 06:40:18.629922       1 gateway.go:235] latency, HandleRequestBody, 1.5364
I0305 06:40:18.629951       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5134
I0305 06:40:18.629958       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.629961       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.630118       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.630179       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:18.630184       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.649830       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9d30be1c-4606-4044-a549-56834f3742f5"
I0305 06:40:18.660607       1 gateway.go:562] latency, 0.0000, summary, hash(request), 39936d6c, selectedpod, 10.0.1.28:8000, ttft, 1416, tpot, 24, e2e, 1634, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:18.660623       1 gateway.go:748] "Request completed" requestID="c8a44704-a662-4a45-8caa-80e01edbe67c" targetPod="10.0.1.28:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:18.660631       1 gateway.go:764] "HandleResponseBody completed" requestID="c8a44704-a662-4a45-8caa-80e01edbe67c" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:18.678286       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1978ef9f, selectedpod, 10.0.1.28:8000, ttft, 1433, tpot, 20, e2e, 1619, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:18.678305       1 gateway.go:748] "Request completed" requestID="8c1efd24-f8de-4e96-b29f-c28596769c67" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:18.678314       1 gateway.go:764] "HandleResponseBody completed" requestID="8c1efd24-f8de-4e96-b29f-c28596769c67" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:18.682098       1 gateway.go:608] "First token received" requestID="9d30be1c-4606-4044-a549-56834f3742f5" ttft_ms=1588
I0305 06:40:18.710026       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0798, numInputTokens, 7594
I0305 06:40:18.710041       1 tree.go:471] Updated node(0) last access: 176.8080 seconds
I0305 06:40:18.710047       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.710050       1 tree.go:471] Updated node(2) last access: 176.8080 seconds
I0305 06:40:18.710063       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:18.710067       1 tree.go:471] Updated node(26) last access: 176.8080 seconds
I0305 06:40:18.710071       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 06:40:18.710074       1 tree.go:471] Updated node(75) last access: 176.8080 seconds
I0305 06:40:18.710078       1 tree.go:484] Entire input tokens match the child node(307)
I0305 06:40:18.710083       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 06:40:18.710089       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:40:18.710094       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.710101       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.710084736 +0000 UTC m=+176.926811601 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:40:05.095596909 +0000 UTC m=+163.312323793]
I0305 06:40:18.710117       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7594, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:18.710125       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:18.710189       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7594
I0305 06:40:18.710198       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.710206       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.710211       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.710215       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.710220       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.710223       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.710231       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.710240       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:18.710250       1 prefix_cache_and_load.go:584] latency, Route, 1.5937
I0305 06:40:18.710264       1 gateway.go:415] latency, selectTargetPod, 1.5937, target pod, 10.0.3.41:8000
I0305 06:40:18.710274       1 gateway.go:235] latency, HandleRequestBody, 1.5940
I0305 06:40:18.710302       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5758
I0305 06:40:18.710306       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.710309       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.710446       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.710506       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:18.710524       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.728827       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3e3dd077-8772-49c6-9056-b4d615b0fac2"
I0305 06:40:18.743406       1 gateway.go:562] latency, 0.0001, summary, hash(request), f3f79d1a, selectedpod, 10.0.0.34:8000, ttft, 1491, tpot, 19, e2e, 1664, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:40:18.743429       1 gateway.go:748] "Request completed" requestID="eca4dcb0-965d-4dd6-8ce7-73641ce91593" targetPod="10.0.0.34:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:40:18.743440       1 gateway.go:764] "HandleResponseBody completed" requestID="eca4dcb0-965d-4dd6-8ce7-73641ce91593" promptTokens=7614 completionTokens=10 stream=true
I0305 06:40:18.762234       1 gateway.go:608] "First token received" requestID="3e3dd077-8772-49c6-9056-b4d615b0fac2" ttft_ms=1645
I0305 06:40:18.788622       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0781, numInputTokens, 7599
I0305 06:40:18.788641       1 tree.go:471] Updated node(0) last access: 176.8866 seconds
I0305 06:40:18.788647       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.788650       1 tree.go:471] Updated node(2) last access: 176.8866 seconds
I0305 06:40:18.788662       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:18.788665       1 tree.go:471] Updated node(53) last access: 176.8866 seconds
I0305 06:40:18.788671       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:40:18.788691       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:18.788699       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:18.788704       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.788710       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.78869455 +0000 UTC m=+177.005421415]
I0305 06:40:18.788726       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:40:18.788732       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:40:18.788800       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:40:18.788809       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.788817       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.788823       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.788829       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.788833       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.788841       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.788849       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:18.788860       1 prefix_cache_and_load.go:584] latency, Route, 1.6543
I0305 06:40:18.788873       1 gateway.go:415] latency, selectTargetPod, 1.6543, target pod, 10.0.0.34:8000
I0305 06:40:18.788884       1 gateway.go:235] latency, HandleRequestBody, 1.6547
I0305 06:40:18.788911       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6452
I0305 06:40:18.788915       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.788918       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.789088       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.789155       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:18.789160       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.790388       1 gateway.go:562] latency, 0.0000, summary, hash(request), 10b8fc89, selectedpod, 10.0.1.47:8000, ttft, 1527, tpot, 19, e2e, 1700, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:18.790409       1 gateway.go:748] "Request completed" requestID="4577ca8e-bc56-4a2a-8e9a-0df333bc408e" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:18.790423       1 gateway.go:764] "HandleResponseBody completed" requestID="4577ca8e-bc56-4a2a-8e9a-0df333bc408e" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:18.807359       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9b32e251-3516-4196-93e1-0620a0fb19a7"
I0305 06:40:18.836849       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0477, numInputTokens, 7602
I0305 06:40:18.836867       1 tree.go:471] Updated node(0) last access: 176.9348 seconds
I0305 06:40:18.836873       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.836877       1 tree.go:471] Updated node(2) last access: 176.9348 seconds
I0305 06:40:18.836888       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:18.836892       1 tree.go:471] Updated node(31) last access: 176.9348 seconds
I0305 06:40:18.836896       1 tree.go:490] Partial tokens match child node(302). Continue to go deeper in the radix tree
I0305 06:40:18.836900       1 tree.go:471] Updated node(302) last access: 176.9348 seconds
I0305 06:40:18.836905       1 tree.go:484] Entire input tokens match the child node(303)
I0305 06:40:18.836909       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:40:18.836916       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:18.836922       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.836927       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.836911637 +0000 UTC m=+177.053638502 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:04.899935545 +0000 UTC m=+163.116662410]
I0305 06:40:18.836944       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:18.836951       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:18.837047       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7602
I0305 06:40:18.837060       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.837072       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.837081       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.837090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.837098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.837107       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.837120       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.837135       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:18.837150       1 prefix_cache_and_load.go:584] latency, Route, 1.6934
I0305 06:40:18.837164       1 gateway.go:415] latency, selectTargetPod, 1.6935, target pod, 10.0.1.28:8000
I0305 06:40:18.837177       1 gateway.go:235] latency, HandleRequestBody, 1.6938
I0305 06:40:18.837220       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6718
I0305 06:40:18.837226       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.837231       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.837416       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.837484       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:18.837489       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.849942       1 gateway.go:608] "First token received" requestID="9b32e251-3516-4196-93e1-0620a0fb19a7" ttft_ms=1715
I0305 06:40:18.855139       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5213ce8b, selectedpod, 10.0.0.131:8000, ttft, 1588, tpot, 19, e2e, 1761, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:18.855159       1 gateway.go:748] "Request completed" requestID="9d30be1c-4606-4044-a549-56834f3742f5" targetPod="10.0.0.131:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:18.855173       1 gateway.go:764] "HandleResponseBody completed" requestID="9d30be1c-4606-4044-a549-56834f3742f5" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:18.856230       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0d3b40d9-e53a-499d-a498-bbc860ca04b7"
I0305 06:40:18.887199       1 gateway.go:608] "First token received" requestID="0d3b40d9-e53a-499d-a498-bbc860ca04b7" ttft_ms=1743
I0305 06:40:18.920350       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0829, numInputTokens, 7599
I0305 06:40:18.920368       1 tree.go:471] Updated node(0) last access: 177.0183 seconds
I0305 06:40:18.920374       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.920377       1 tree.go:471] Updated node(2) last access: 177.0183 seconds
I0305 06:40:18.920390       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:18.920393       1 tree.go:471] Updated node(53) last access: 177.0183 seconds
I0305 06:40:18.920397       1 tree.go:490] Partial tokens match child node(321). Continue to go deeper in the radix tree
I0305 06:40:18.920400       1 tree.go:471] Updated node(321) last access: 177.0183 seconds
I0305 06:40:18.920403       1 tree.go:490] Partial tokens match child node(181). Continue to go deeper in the radix tree
I0305 06:40:18.920405       1 tree.go:471] Updated node(181) last access: 177.0183 seconds
I0305 06:40:18.920410       1 tree.go:484] Entire input tokens match the child node(306)
I0305 06:40:18.920413       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:18.920420       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:18.920426       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.920431       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.920415424 +0000 UTC m=+177.137142288 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:05.024735441 +0000 UTC m=+163.241462314]
I0305 06:40:18.920448       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:18.920456       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:18.920532       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:40:18.920542       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.920549       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.920553       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.920558       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.920562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.920567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.920571       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.920578       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.920588       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:18.920598       1 prefix_cache_and_load.go:584] latency, Route, 1.7552
I0305 06:40:18.920613       1 gateway.go:415] latency, selectTargetPod, 1.7552, target pod, 10.0.0.34:8000
I0305 06:40:18.920624       1 gateway.go:235] latency, HandleRequestBody, 1.7555
I0305 06:40:18.920647       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7283
I0305 06:40:18.920651       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.920654       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.920822       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.920881       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:18.920887       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:18.935591       1 gateway.go:562] latency, 0.0000, summary, hash(request), db40a31f, selectedpod, 10.0.3.41:8000, ttft, 1645, tpot, 19, e2e, 1819, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:40:18.935611       1 gateway.go:748] "Request completed" requestID="3e3dd077-8772-49c6-9056-b4d615b0fac2" targetPod="10.0.3.41:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:40:18.935623       1 gateway.go:764] "HandleResponseBody completed" requestID="3e3dd077-8772-49c6-9056-b4d615b0fac2" promptTokens=7613 completionTokens=10 stream=true
I0305 06:40:18.939283       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ca1dc6e4-7d17-43e5-8d11-53d6a81c0797"
I0305 06:40:18.974340       1 gateway.go:608] "First token received" requestID="ca1dc6e4-7d17-43e5-8d11-53d6a81c0797" ttft_ms=1809
I0305 06:40:18.984665       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0638, numInputTokens, 7599
I0305 06:40:18.984683       1 tree.go:471] Updated node(0) last access: 177.0826 seconds
I0305 06:40:18.984690       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:18.984694       1 tree.go:471] Updated node(2) last access: 177.0826 seconds
I0305 06:40:18.984707       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:18.984711       1 tree.go:471] Updated node(26) last access: 177.0827 seconds
I0305 06:40:18.984714       1 tree.go:490] Partial tokens match child node(36). Continue to go deeper in the radix tree
I0305 06:40:18.984717       1 tree.go:471] Updated node(36) last access: 177.0827 seconds
I0305 06:40:18.984720       1 tree.go:490] Partial tokens match child node(71). Continue to go deeper in the radix tree
I0305 06:40:18.984723       1 tree.go:471] Updated node(71) last access: 177.0827 seconds
I0305 06:40:18.984727       1 tree.go:484] Entire input tokens match the child node(301)
I0305 06:40:18.984730       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:18.984737       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:18.984743       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:18.984748       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:18.984732343 +0000 UTC m=+177.201459207 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:40:04.809329311 +0000 UTC m=+163.026056176]
I0305 06:40:18.984765       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:18.984771       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:18.984834       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7599
I0305 06:40:18.984843       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:18.984850       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.984854       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.984858       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.984861       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.984865       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.984868       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:18.984876       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:18.984886       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:18.984895       1 prefix_cache_and_load.go:584] latency, Route, 1.7926
I0305 06:40:18.984912       1 gateway.go:415] latency, selectTargetPod, 1.7926, target pod, 10.0.3.41:8000
I0305 06:40:18.984922       1 gateway.go:235] latency, HandleRequestBody, 1.7929
I0305 06:40:18.984926       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7832
I0305 06:40:18.984938       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:18.984942       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:18.985192       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:18.985260       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:18.985267       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:19.000868       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a989465e-a910-4e42-915a-f1b2a001d022"
I0305 06:40:19.035613       1 gateway.go:608] "First token received" requestID="a989465e-a910-4e42-915a-f1b2a001d022" ttft_ms=1843
I0305 06:40:19.036087       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0508, numInputTokens, 7598
I0305 06:40:19.036104       1 tree.go:471] Updated node(0) last access: 177.1340 seconds
I0305 06:40:19.036110       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:19.036114       1 tree.go:471] Updated node(2) last access: 177.1341 seconds
I0305 06:40:19.036129       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:19.036133       1 tree.go:471] Updated node(45) last access: 177.1341 seconds
I0305 06:40:19.036136       1 tree.go:490] Partial tokens match child node(198). Continue to go deeper in the radix tree
I0305 06:40:19.036139       1 tree.go:471] Updated node(198) last access: 177.1341 seconds
I0305 06:40:19.036143       1 tree.go:484] Entire input tokens match the child node(293)
I0305 06:40:19.036146       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:19.036153       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:19.036160       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:19.036165       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:19.036148808 +0000 UTC m=+177.252875673 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:02.928006343 +0000 UTC m=+161.144733208]
I0305 06:40:19.036181       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:19.036189       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:19.036256       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7598
I0305 06:40:19.036265       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:19.036272       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.036275       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.036279       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.036282       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.036288       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.036295       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:19.036305       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:19.036315       1 prefix_cache_and_load.go:584] latency, Route, 1.8346
I0305 06:40:19.036329       1 gateway.go:415] latency, selectTargetPod, 1.8346, target pod, 10.0.0.34:8000
I0305 06:40:19.036340       1 gateway.go:235] latency, HandleRequestBody, 1.8350
I0305 06:40:19.036368       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8045
I0305 06:40:19.036373       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:19.036376       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:19.036562       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:19.036644       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:19.036649       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:19.055541       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d035e3c8-78f5-4def-af78-2c6869f65c15"
I0305 06:40:19.055985       1 gateway.go:562] latency, 0.0000, summary, hash(request), 235dde68, selectedpod, 10.0.0.34:8000, ttft, 1715, tpot, 22, e2e, 1921, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:19.056002       1 gateway.go:748] "Request completed" requestID="9b32e251-3516-4196-93e1-0620a0fb19a7" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:19.056010       1 gateway.go:764] "HandleResponseBody completed" requestID="9b32e251-3516-4196-93e1-0620a0fb19a7" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:19.060226       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9a40b6d9, selectedpod, 10.0.1.28:8000, ttft, 1743, tpot, 19, e2e, 1916, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:19.060245       1 gateway.go:748] "Request completed" requestID="0d3b40d9-e53a-499d-a498-bbc860ca04b7" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:19.060255       1 gateway.go:764] "HandleResponseBody completed" requestID="0d3b40d9-e53a-499d-a498-bbc860ca04b7" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:19.097312       1 gateway.go:608] "First token received" requestID="d035e3c8-78f5-4def-af78-2c6869f65c15" ttft_ms=1895
I0305 06:40:19.104987       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0683, numInputTokens, 7598
I0305 06:40:19.105002       1 tree.go:471] Updated node(0) last access: 177.2029 seconds
I0305 06:40:19.105008       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:19.105011       1 tree.go:471] Updated node(2) last access: 177.2030 seconds
I0305 06:40:19.105024       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:19.105028       1 tree.go:471] Updated node(4) last access: 177.2030 seconds
I0305 06:40:19.105032       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:40:19.105035       1 tree.go:471] Updated node(63) last access: 177.2030 seconds
I0305 06:40:19.105038       1 tree.go:490] Partial tokens match child node(145). Continue to go deeper in the radix tree
I0305 06:40:19.105041       1 tree.go:471] Updated node(145) last access: 177.2030 seconds
I0305 06:40:19.105044       1 tree.go:490] Partial tokens match child node(161). Continue to go deeper in the radix tree
I0305 06:40:19.105047       1 tree.go:471] Updated node(161) last access: 177.2030 seconds
I0305 06:40:19.105058       1 tree.go:667] Split complete - New node(417)
I0305 06:40:19.105062       1 tree.go:668] Split complete - Child node(146)
I0305 06:40:19.105068       1 tree.go:501] latency, splitNode, 0.0000 seconds, 109 tokens:
I0305 06:40:19.105072       1 tree.go:471] Updated node(417) last access: 177.2030 seconds
I0305 06:40:19.105080       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 103 tokens:
I0305 06:40:19.105084       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:19.105091       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:19.105098       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:19.105103       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:19.105086346 +0000 UTC m=+177.321813211]
I0305 06:40:19.105115       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7495, Matching ratio: 0.9864, # Matched pods: 0, Matched pods: []
I0305 06:40:19.105122       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9864 > 0.5000)
I0305 06:40:19.105186       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7495
I0305 06:40:19.105195       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:19.105203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.105208       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.105212       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.105218       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.105224       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.105229       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.105233       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.105237       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.105245       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:19.105255       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:19.105265       1 prefix_cache_and_load.go:584] latency, Route, 1.8734
I0305 06:40:19.105278       1 gateway.go:415] latency, selectTargetPod, 1.8734, target pod, 10.0.1.47:8000
I0305 06:40:19.105287       1 gateway.go:235] latency, HandleRequestBody, 1.8738
I0305 06:40:19.105313       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8672
I0305 06:40:19.105318       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:19.105321       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:19.105465       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:19.105534       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:19.105539       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:19.127997       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ba7b3fb5-de61-47fe-9a95-5802b7fed354"
I0305 06:40:19.160994       1 gateway.go:608] "First token received" requestID="ba7b3fb5-de61-47fe-9a95-5802b7fed354" ttft_ms=1929
I0305 06:40:19.179414       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4746dbed, selectedpod, 10.0.0.34:8000, ttft, 1809, tpot, 22, e2e, 2014, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:19.179435       1 gateway.go:748] "Request completed" requestID="ca1dc6e4-7d17-43e5-8d11-53d6a81c0797" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:19.179446       1 gateway.go:764] "HandleResponseBody completed" requestID="ca1dc6e4-7d17-43e5-8d11-53d6a81c0797" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:19.195055       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0895, numInputTokens, 7603
I0305 06:40:19.195074       1 tree.go:471] Updated node(0) last access: 177.2930 seconds
I0305 06:40:19.195081       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:19.195085       1 tree.go:471] Updated node(2) last access: 177.2930 seconds
I0305 06:40:19.195098       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:19.195102       1 tree.go:471] Updated node(12) last access: 177.2930 seconds
I0305 06:40:19.195105       1 tree.go:490] Partial tokens match child node(304). Continue to go deeper in the radix tree
I0305 06:40:19.195107       1 tree.go:471] Updated node(304) last access: 177.2930 seconds
I0305 06:40:19.195111       1 tree.go:490] Partial tokens match child node(358). Continue to go deeper in the radix tree
I0305 06:40:19.195115       1 tree.go:471] Updated node(358) last access: 177.2931 seconds
I0305 06:40:19.195122       1 tree.go:484] Entire input tokens match the child node(305)
I0305 06:40:19.195126       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:40:19.195136       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:19.195145       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:19.195152       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:19.195130217 +0000 UTC m=+177.411857093 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:04.949296762 +0000 UTC m=+163.166023628]
I0305 06:40:19.195171       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:19.195178       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:19.195275       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7603
I0305 06:40:19.195289       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:19.195301       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.195310       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.195318       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.195327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.195334       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.195342       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.195355       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:19.195368       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:19.195380       1 prefix_cache_and_load.go:584] latency, Route, 1.9573
I0305 06:40:19.195394       1 gateway.go:415] latency, selectTargetPod, 1.9573, target pod, 10.0.0.39:8000
I0305 06:40:19.195406       1 gateway.go:235] latency, HandleRequestBody, 1.9576
I0305 06:40:19.195436       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9275
I0305 06:40:19.195442       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:19.195445       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:19.195633       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:19.195703       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:19.195708       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:19.205518       1 gateway.go:562] latency, 0.0000, summary, hash(request), f2217700, selectedpod, 10.0.3.41:8000, ttft, 1843, tpot, 18, e2e, 2013, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:19.205534       1 gateway.go:748] "Request completed" requestID="a989465e-a910-4e42-915a-f1b2a001d022" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:19.205542       1 gateway.go:764] "HandleResponseBody completed" requestID="a989465e-a910-4e42-915a-f1b2a001d022" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:19.213789       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e4447fbe-58ed-43fa-b6eb-21676177c6ca"
I0305 06:40:19.244363       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 7600
I0305 06:40:19.244380       1 tree.go:471] Updated node(0) last access: 177.3423 seconds
I0305 06:40:19.244386       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:19.244390       1 tree.go:471] Updated node(2) last access: 177.3423 seconds
I0305 06:40:19.244402       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:19.244407       1 tree.go:471] Updated node(31) last access: 177.3423 seconds
I0305 06:40:19.244412       1 tree.go:490] Partial tokens match child node(217). Continue to go deeper in the radix tree
I0305 06:40:19.244416       1 tree.go:471] Updated node(217) last access: 177.3424 seconds
I0305 06:40:19.244424       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:40:19.244431       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:19.244439       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:19.244448       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:19.244456       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:19.244433828 +0000 UTC m=+177.461160694]
I0305 06:40:19.244475       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7481, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:40:19.244488       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:40:19.244575       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7481
I0305 06:40:19.244586       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:19.244595       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.244605       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.244614       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.244623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.244629       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.244640       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:19.244652       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:19.244665       1 prefix_cache_and_load.go:584] latency, Route, 1.9767
I0305 06:40:19.244683       1 gateway.go:415] latency, selectTargetPod, 1.9767, target pod, 10.0.1.28:8000
I0305 06:40:19.244697       1 gateway.go:235] latency, HandleRequestBody, 1.9770
I0305 06:40:19.244732       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9932
I0305 06:40:19.244738       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:19.244742       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:19.244956       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:19.245042       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:19.245049       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:19.246533       1 gateway.go:608] "First token received" requestID="e4447fbe-58ed-43fa-b6eb-21676177c6ca" ttft_ms=2008
I0305 06:40:19.278582       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9e54f3cf-9a09-46e4-b281-a6045f6affca"
I0305 06:40:19.278795       1 gateway.go:562] latency, 0.0000, summary, hash(request), c910d9a1, selectedpod, 10.0.0.34:8000, ttft, 1895, tpot, 20, e2e, 2077, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:19.278820       1 gateway.go:748] "Request completed" requestID="d035e3c8-78f5-4def-af78-2c6869f65c15" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:19.278831       1 gateway.go:764] "HandleResponseBody completed" requestID="d035e3c8-78f5-4def-af78-2c6869f65c15" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:19.305666       1 gateway.go:608] "First token received" requestID="9e54f3cf-9a09-46e4-b281-a6045f6affca" ttft_ms=2037
I0305 06:40:19.323896       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0788, numInputTokens, 7601
I0305 06:40:19.323916       1 tree.go:471] Updated node(0) last access: 177.4219 seconds
I0305 06:40:19.323922       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:19.323927       1 tree.go:471] Updated node(2) last access: 177.4219 seconds
I0305 06:40:19.323941       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:19.323945       1 tree.go:471] Updated node(23) last access: 177.4219 seconds
I0305 06:40:19.323948       1 tree.go:490] Partial tokens match child node(159). Continue to go deeper in the radix tree
I0305 06:40:19.323951       1 tree.go:471] Updated node(159) last access: 177.4219 seconds
I0305 06:40:19.323957       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:40:19.323979       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:19.323988       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:19.323994       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:19.324000       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:19.323983507 +0000 UTC m=+177.540710382]
I0305 06:40:19.324019       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7483, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:40:19.324028       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:40:19.324143       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7483
I0305 06:40:19.324153       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:19.324160       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.324167       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.324171       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.324178       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.324183       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.324191       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:19.324200       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:19.324209       1 prefix_cache_and_load.go:584] latency, Route, 2.0727
I0305 06:40:19.324223       1 gateway.go:415] latency, selectTargetPod, 2.0727, target pod, 10.0.3.42:8000
I0305 06:40:19.324236       1 gateway.go:235] latency, HandleRequestBody, 2.0731
I0305 06:40:19.324277       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0233
I0305 06:40:19.324289       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:19.324293       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:19.324607       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:19.324678       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:19.324684       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:19.333984       1 gateway.go:562] latency, 0.0000, summary, hash(request), cf414def, selectedpod, 10.0.1.47:8000, ttft, 1929, tpot, 19, e2e, 2102, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:19.334007       1 gateway.go:748] "Request completed" requestID="ba7b3fb5-de61-47fe-9a95-5802b7fed354" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:19.334020       1 gateway.go:764] "HandleResponseBody completed" requestID="ba7b3fb5-de61-47fe-9a95-5802b7fed354" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:19.341321       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="74cb6ba4-455c-4422-aa57-a3f0f22f2349"
I0305 06:40:19.379291       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0546, numInputTokens, 7599
I0305 06:40:19.379308       1 tree.go:471] Updated node(0) last access: 177.4772 seconds
I0305 06:40:19.379314       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:19.379318       1 tree.go:471] Updated node(2) last access: 177.4773 seconds
I0305 06:40:19.379332       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:19.379336       1 tree.go:471] Updated node(31) last access: 177.4773 seconds
I0305 06:40:19.379342       1 tree.go:490] Partial tokens match child node(186). Continue to go deeper in the radix tree
I0305 06:40:19.379347       1 tree.go:471] Updated node(186) last access: 177.4773 seconds
I0305 06:40:19.379355       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 06:40:19.379363       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:19.379371       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:19.379380       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:19.379389       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:19.379365366 +0000 UTC m=+177.596092231]
I0305 06:40:19.379408       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7489, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 06:40:19.379419       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 06:40:19.379545       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7489
I0305 06:40:19.379556       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:19.379563       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.379569       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.379573       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.379579       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.379584       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.379599       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:19.379609       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:19.379620       1 prefix_cache_and_load.go:584] latency, Route, 2.0786
I0305 06:40:19.379635       1 gateway.go:415] latency, selectTargetPod, 2.0787, target pod, 10.0.1.28:8000
I0305 06:40:19.379646       1 gateway.go:235] latency, HandleRequestBody, 2.0790
I0305 06:40:19.379661       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0603
I0305 06:40:19.379672       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:19.379676       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:19.379967       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:19.380625       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0009
I0305 06:40:19.380651       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:19.385494       1 gateway.go:608] "First token received" requestID="74cb6ba4-455c-4422-aa57-a3f0f22f2349" ttft_ms=2134
I0305 06:40:19.398573       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6bfbce2a-0afa-47ad-84b1-464e25ad64b5"
I0305 06:40:19.421840       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6597b6bb, selectedpod, 10.0.0.39:8000, ttft, 2008, tpot, 19, e2e, 2184, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:19.421871       1 gateway.go:748] "Request completed" requestID="e4447fbe-58ed-43fa-b6eb-21676177c6ca" targetPod="10.0.0.39:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:19.421888       1 gateway.go:764] "HandleResponseBody completed" requestID="e4447fbe-58ed-43fa-b6eb-21676177c6ca" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:19.433846       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0532, numInputTokens, 7600
I0305 06:40:19.433865       1 tree.go:471] Updated node(0) last access: 177.5318 seconds
I0305 06:40:19.433872       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:19.433876       1 tree.go:471] Updated node(2) last access: 177.5318 seconds
I0305 06:40:19.433888       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:19.433891       1 tree.go:471] Updated node(12) last access: 177.5318 seconds
I0305 06:40:19.433895       1 tree.go:490] Partial tokens match child node(367). Continue to go deeper in the radix tree
I0305 06:40:19.433898       1 tree.go:471] Updated node(367) last access: 177.5318 seconds
I0305 06:40:19.433902       1 tree.go:484] Entire input tokens match the child node(309)
I0305 06:40:19.433905       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:19.433912       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:19.433919       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:19.433924       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:19.433907772 +0000 UTC m=+177.650634636 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:05.230957005 +0000 UTC m=+163.447683870]
I0305 06:40:19.433942       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:19.433950       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:19.434036       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7600
I0305 06:40:19.434045       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:19.434052       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.434058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.434063       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.434068       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.434072       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:19.434081       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:19.434091       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:19.434100       1 prefix_cache_and_load.go:584] latency, Route, 2.1147
I0305 06:40:19.434115       1 gateway.go:415] latency, selectTargetPod, 2.1147, target pod, 10.0.0.39:8000
I0305 06:40:19.434128       1 gateway.go:235] latency, HandleRequestBody, 2.1153
I0305 06:40:19.434793       1 gateway.go:608] "First token received" requestID="6bfbce2a-0afa-47ad-84b1-464e25ad64b5" ttft_ms=2134
I0305 06:40:19.454443       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c4488cb2-67b9-4908-9936-f8e6e6857427"
I0305 06:40:19.486164       1 gateway.go:608] "First token received" requestID="c4488cb2-67b9-4908-9936-f8e6e6857427" ttft_ms=2167
I0305 06:40:19.515398       1 gateway.go:562] latency, 0.0000, summary, hash(request), ebcd6676, selectedpod, 10.0.1.28:8000, ttft, 2037, tpot, 23, e2e, 2247, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:19.515422       1 gateway.go:748] "Request completed" requestID="9e54f3cf-9a09-46e4-b281-a6045f6affca" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:19.515433       1 gateway.go:764] "HandleResponseBody completed" requestID="9e54f3cf-9a09-46e4-b281-a6045f6affca" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:19.558716       1 gateway.go:562] latency, 0.0000, summary, hash(request), f2f7ec49, selectedpod, 10.0.3.42:8000, ttft, 2134, tpot, 19, e2e, 2307, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:19.558734       1 gateway.go:748] "Request completed" requestID="74cb6ba4-455c-4422-aa57-a3f0f22f2349" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:19.558746       1 gateway.go:764] "HandleResponseBody completed" requestID="74cb6ba4-455c-4422-aa57-a3f0f22f2349" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:19.612405       1 gateway.go:562] latency, 0.0000, summary, hash(request), c5279b01, selectedpod, 10.0.1.28:8000, ttft, 2134, tpot, 19, e2e, 2311, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:19.612428       1 gateway.go:748] "Request completed" requestID="6bfbce2a-0afa-47ad-84b1-464e25ad64b5" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:19.612439       1 gateway.go:764] "HandleResponseBody completed" requestID="6bfbce2a-0afa-47ad-84b1-464e25ad64b5" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:19.659898       1 gateway.go:562] latency, 0.0000, summary, hash(request), 340fc362, selectedpod, 10.0.0.39:8000, ttft, 2167, tpot, 19, e2e, 2340, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:19.659914       1 gateway.go:748] "Request completed" requestID="c4488cb2-67b9-4908-9936-f8e6e6857427" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:19.659923       1 gateway.go:764] "HandleResponseBody completed" requestID="c4488cb2-67b9-4908-9936-f8e6e6857427" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:23.081083       1 gateway.go:207] "Processing request" requestID="770a4084-d505-4888-af3b-a1ca05736ab7"
I0305 06:40:23.081126       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="770a4084-d505-4888-af3b-a1ca05736ab7"
I0305 06:40:23.081134       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:23.104009       1 gateway.go:329] "-- In RequestBody processing ..." requestID="770a4084-d505-4888-af3b-a1ca05736ab7"
I0305 06:40:23.104242       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="770a4084-d505-4888-af3b-a1ca05736ab7" model="qwen2-5-7b-instruct"
I0305 06:40:23.104352       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:23.104359       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:23.104362       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:23.104740       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:23.104812       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:23.104817       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:23.159360       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0545, numInputTokens, 7598
I0305 06:40:23.159384       1 tree.go:471] Updated node(0) last access: 181.2573 seconds
I0305 06:40:23.159390       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:23.159394       1 tree.go:471] Updated node(2) last access: 181.2573 seconds
I0305 06:40:23.159408       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:23.159413       1 tree.go:471] Updated node(4) last access: 181.2574 seconds
I0305 06:40:23.159417       1 tree.go:490] Partial tokens match child node(323). Continue to go deeper in the radix tree
I0305 06:40:23.159421       1 tree.go:471] Updated node(323) last access: 181.2574 seconds
I0305 06:40:23.159429       1 tree.go:484] Entire input tokens match the child node(324)
I0305 06:40:23.159435       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:23.159445       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:23.159456       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:23.159464       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:23.159439193 +0000 UTC m=+181.376166059 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:40:06.503625955 +0000 UTC m=+164.720352820]
I0305 06:40:23.159492       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:23.159502       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:23.159601       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7598
I0305 06:40:23.159611       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:23.159618       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:23.159623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:23.159629       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:23.159633       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:23.159639       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:23.159650       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:23.159660       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:23.159676       1 prefix_cache_and_load.go:584] latency, Route, 0.0553
I0305 06:40:23.159687       1 gateway.go:415] latency, selectTargetPod, 0.0553, target pod, 10.0.1.47:8000
I0305 06:40:23.159698       1 gateway.go:235] latency, HandleRequestBody, 0.0557
I0305 06:40:23.179629       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="770a4084-d505-4888-af3b-a1ca05736ab7"
I0305 06:40:23.206045       1 gateway.go:608] "First token received" requestID="770a4084-d505-4888-af3b-a1ca05736ab7" ttft_ms=101
I0305 06:40:23.209940       1 gateway.go:207] "Processing request" requestID="4fcaf0b0-e0d1-43db-b57e-f44e5055a540"
I0305 06:40:23.209964       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4fcaf0b0-e0d1-43db-b57e-f44e5055a540"
I0305 06:40:23.209981       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:23.319104       1 gateway.go:207] "Processing request" requestID="0a5792ec-bd37-4c78-9bf2-e39290e3e159"
I0305 06:40:23.319125       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0a5792ec-bd37-4c78-9bf2-e39290e3e159"
I0305 06:40:23.319135       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:23.347574       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0a5792ec-bd37-4c78-9bf2-e39290e3e159"
I0305 06:40:23.347824       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0a5792ec-bd37-4c78-9bf2-e39290e3e159" model="qwen2-5-7b-instruct"
I0305 06:40:23.347905       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:23.347912       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:23.347915       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:23.348233       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:23.348311       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:23.348318       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:23.379377       1 gateway.go:562] latency, 0.0000, summary, hash(request), 90d49eaa, selectedpod, 10.0.1.47:8000, ttft, 101, tpot, 19, e2e, 275, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:23.379395       1 gateway.go:748] "Request completed" requestID="770a4084-d505-4888-af3b-a1ca05736ab7" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:23.379405       1 gateway.go:764] "HandleResponseBody completed" requestID="770a4084-d505-4888-af3b-a1ca05736ab7" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:23.400008       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0517, numInputTokens, 7597
I0305 06:40:23.400028       1 tree.go:471] Updated node(0) last access: 181.4980 seconds
I0305 06:40:23.400034       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:23.400037       1 tree.go:471] Updated node(2) last access: 181.4980 seconds
I0305 06:40:23.400050       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:23.400054       1 tree.go:471] Updated node(51) last access: 181.4980 seconds
I0305 06:40:23.400062       1 tree.go:667] Split complete - New node(422)
I0305 06:40:23.400067       1 tree.go:668] Split complete - Child node(396)
I0305 06:40:23.400072       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:40:23.400078       1 tree.go:471] Updated node(422) last access: 181.4980 seconds
I0305 06:40:23.400084       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:40:23.400089       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:23.400095       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:23.400101       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:23.400106       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:23.400090977 +0000 UTC m=+181.616817842]
I0305 06:40:23.400121       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7479, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:40:23.400128       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:40:23.400197       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7479
I0305 06:40:23.400206       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:23.400213       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:23.400218       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:23.400222       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:23.400228       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:23.400235       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:23.400243       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:23.400252       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:23.400263       1 prefix_cache_and_load.go:584] latency, Route, 0.0524
I0305 06:40:23.400273       1 gateway.go:415] latency, selectTargetPod, 0.0524, target pod, 10.0.1.28:8000
I0305 06:40:23.400284       1 gateway.go:235] latency, HandleRequestBody, 0.0527
I0305 06:40:23.420468       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0a5792ec-bd37-4c78-9bf2-e39290e3e159"
I0305 06:40:23.426814       1 gateway.go:207] "Processing request" requestID="6b7d0764-1efd-4f91-b8e5-03d69008f6ce"
I0305 06:40:23.426840       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6b7d0764-1efd-4f91-b8e5-03d69008f6ce"
I0305 06:40:23.426849       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:23.460130       1 gateway.go:608] "First token received" requestID="0a5792ec-bd37-4c78-9bf2-e39290e3e159" ttft_ms=112
I0305 06:40:23.524781       1 gateway.go:207] "Processing request" requestID="489c87fd-d45c-4880-bc69-779ab8315166"
I0305 06:40:23.524809       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="489c87fd-d45c-4880-bc69-779ab8315166"
I0305 06:40:23.524818       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:23.629949       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2dd7c62b, selectedpod, 10.0.1.28:8000, ttft, 112, tpot, 18, e2e, 282, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:23.629975       1 gateway.go:748] "Request completed" requestID="0a5792ec-bd37-4c78-9bf2-e39290e3e159" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:23.629986       1 gateway.go:764] "HandleResponseBody completed" requestID="0a5792ec-bd37-4c78-9bf2-e39290e3e159" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:23.668466       1 gateway.go:207] "Processing request" requestID="526623d4-71dc-4e52-94d6-9b5cd3879423"
I0305 06:40:23.668495       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="526623d4-71dc-4e52-94d6-9b5cd3879423"
I0305 06:40:23.668507       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:23.819617       1 gateway.go:207] "Processing request" requestID="4dd62176-d087-48d6-abdc-0593131eedb8"
I0305 06:40:23.819652       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4dd62176-d087-48d6-abdc-0593131eedb8"
I0305 06:40:23.819661       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:23.969284       1 gateway.go:207] "Processing request" requestID="7b9270c1-2921-469c-8410-f8bc7f1221f9"
I0305 06:40:23.969312       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7b9270c1-2921-469c-8410-f8bc7f1221f9"
I0305 06:40:23.969320       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:24.092243       1 gateway.go:207] "Processing request" requestID="a3a94eea-acc0-45f8-acb6-d87d01c7a5ff"
I0305 06:40:24.092271       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a3a94eea-acc0-45f8-acb6-d87d01c7a5ff"
I0305 06:40:24.092282       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:24.223621       1 gateway.go:207] "Processing request" requestID="ea1654b5-1912-4000-b237-8ed6e04c06cd"
I0305 06:40:24.223659       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ea1654b5-1912-4000-b237-8ed6e04c06cd"
I0305 06:40:24.223670       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:24.328901       1 gateway.go:207] "Processing request" requestID="5688582d-9a0c-49e2-b864-384a69ce81d2"
I0305 06:40:24.328931       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5688582d-9a0c-49e2-b864-384a69ce81d2"
I0305 06:40:24.328940       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:24.423326       1 gateway.go:207] "Processing request" requestID="61cefd65-4aa1-4bef-9bc7-a9dd768c0a3e"
I0305 06:40:24.423354       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="61cefd65-4aa1-4bef-9bc7-a9dd768c0a3e"
I0305 06:40:24.423364       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:24.492167       1 gateway.go:207] "Processing request" requestID="aa128181-b8c7-40c3-a5c1-e8a7bfffb2cf"
I0305 06:40:24.492204       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="aa128181-b8c7-40c3-a5c1-e8a7bfffb2cf"
I0305 06:40:24.492215       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:24.605550       1 gateway.go:207] "Processing request" requestID="8a86411c-7213-4f41-8763-b65966d50cac"
I0305 06:40:24.605579       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8a86411c-7213-4f41-8763-b65966d50cac"
I0305 06:40:24.605587       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:24.715879       1 gateway.go:207] "Processing request" requestID="718ed783-39b8-4252-8b39-8098c21e8e8b"
I0305 06:40:24.715907       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="718ed783-39b8-4252-8b39-8098c21e8e8b"
I0305 06:40:24.715914       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:24.801199       1 gateway.go:207] "Processing request" requestID="81ee8cfa-5f49-4f62-852f-f8a037ac5a11"
I0305 06:40:24.801234       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="81ee8cfa-5f49-4f62-852f-f8a037ac5a11"
I0305 06:40:24.801244       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:24.883024       1 gateway.go:207] "Processing request" requestID="3520dd58-6e89-4019-ae7a-50e171a16d26"
I0305 06:40:24.883055       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3520dd58-6e89-4019-ae7a-50e171a16d26"
I0305 06:40:24.883062       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:24.945620       1 gateway.go:207] "Processing request" requestID="17e76a5a-acf9-4d07-84a8-8a3ede7913eb"
I0305 06:40:24.945654       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="17e76a5a-acf9-4d07-84a8-8a3ede7913eb"
I0305 06:40:24.945662       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:25.004050       1 gateway.go:207] "Processing request" requestID="ba326947-9f9f-418e-b5ef-571180db6cf6"
I0305 06:40:25.004086       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ba326947-9f9f-418e-b5ef-571180db6cf6"
I0305 06:40:25.004097       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:25.075650       1 gateway.go:207] "Processing request" requestID="1e65c624-ca9b-4236-b062-7b6bd9bd0bfa"
I0305 06:40:25.075680       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1e65c624-ca9b-4236-b062-7b6bd9bd0bfa"
I0305 06:40:25.075688       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:25.138531       1 gateway.go:207] "Processing request" requestID="d59eacc0-8379-42a2-8061-b1fe0577994a"
I0305 06:40:25.138561       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d59eacc0-8379-42a2-8061-b1fe0577994a"
I0305 06:40:25.138572       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:25.187836       1 gateway.go:207] "Processing request" requestID="d7852bf7-dfb5-4b56-831e-95a2d2d4be43"
I0305 06:40:25.187870       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d7852bf7-dfb5-4b56-831e-95a2d2d4be43"
I0305 06:40:25.187881       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.533738       1 gateway.go:207] "Processing request" requestID="f47324f7-c53d-42c0-879a-a3c6d8c7c9e3"
I0305 06:40:30.533793       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f47324f7-c53d-42c0-879a-a3c6d8c7c9e3"
I0305 06:40:30.533803       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.534578       1 gateway.go:207] "Processing request" requestID="2b221e0a-86df-436a-902a-a6d44aabcd86"
I0305 06:40:30.534619       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2b221e0a-86df-436a-902a-a6d44aabcd86"
I0305 06:40:30.534631       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.839737       1 gateway.go:207] "Processing request" requestID="2f420055-fe94-4d22-8bbb-fb35d01345e6"
I0305 06:40:30.839749       1 gateway.go:207] "Processing request" requestID="2a27ae46-4340-4341-b2b1-a8c4cd18698b"
I0305 06:40:30.839787       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2a27ae46-4340-4341-b2b1-a8c4cd18698b"
I0305 06:40:30.839798       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.839787       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2f420055-fe94-4d22-8bbb-fb35d01345e6"
I0305 06:40:30.839840       1 gateway.go:230] latency, HandleRequestHeaders, 0.0001
I0305 06:40:30.840579       1 gateway.go:207] "Processing request" requestID="4dcc1182-795a-4edd-9636-08c6190c7611"
I0305 06:40:30.840606       1 gateway.go:207] "Processing request" requestID="f362558e-dcb4-404b-b497-aca608fdd7b3"
I0305 06:40:30.840612       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4dcc1182-795a-4edd-9636-08c6190c7611"
I0305 06:40:30.840621       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.840632       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f362558e-dcb4-404b-b497-aca608fdd7b3"
I0305 06:40:30.840641       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.841583       1 gateway.go:207] "Processing request" requestID="30cc04a9-963d-4e6a-a1a3-ffc728dae681"
I0305 06:40:30.841601       1 gateway.go:207] "Processing request" requestID="4e523569-e278-4f32-8c1c-bd6639cf6fb1"
I0305 06:40:30.841607       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="30cc04a9-963d-4e6a-a1a3-ffc728dae681"
I0305 06:40:30.841613       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.841630       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4e523569-e278-4f32-8c1c-bd6639cf6fb1"
I0305 06:40:30.841640       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.842638       1 gateway.go:207] "Processing request" requestID="7f56a2fc-53ba-4f5d-a7c0-5ef86d0e534e"
I0305 06:40:30.842658       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7f56a2fc-53ba-4f5d-a7c0-5ef86d0e534e"
I0305 06:40:30.842666       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.842693       1 gateway.go:207] "Processing request" requestID="03efa5b7-9d8a-43d1-ab36-d0988ff05dcd"
I0305 06:40:30.842728       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="03efa5b7-9d8a-43d1-ab36-d0988ff05dcd"
I0305 06:40:30.842737       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.843787       1 gateway.go:207] "Processing request" requestID="9efeeb54-3ebf-4f1c-8a62-5ebba6f9c96c"
I0305 06:40:30.843810       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9efeeb54-3ebf-4f1c-8a62-5ebba6f9c96c"
I0305 06:40:30.843815       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.843840       1 gateway.go:207] "Processing request" requestID="e3236b9f-f318-4ce5-9a50-7a87074eb9df"
I0305 06:40:30.843864       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e3236b9f-f318-4ce5-9a50-7a87074eb9df"
I0305 06:40:30.843873       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.843903       1 gateway.go:207] "Processing request" requestID="b484b943-a756-4f19-9699-8f572a3aa0f7"
I0305 06:40:30.843935       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b484b943-a756-4f19-9699-8f572a3aa0f7"
I0305 06:40:30.843945       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.844801       1 gateway.go:207] "Processing request" requestID="d287cab4-4ff6-4318-bde6-b414d9d75205"
I0305 06:40:30.844818       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d287cab4-4ff6-4318-bde6-b414d9d75205"
I0305 06:40:30.844823       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.844859       1 gateway.go:207] "Processing request" requestID="acf8b818-8971-49d3-b3e2-d00c0fa1b95b"
I0305 06:40:30.844878       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="acf8b818-8971-49d3-b3e2-d00c0fa1b95b"
I0305 06:40:30.844883       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.845746       1 gateway.go:207] "Processing request" requestID="18bcb57a-90e8-43a6-8a53-30e2e536f41c"
I0305 06:40:30.845766       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="18bcb57a-90e8-43a6-8a53-30e2e536f41c"
I0305 06:40:30.845772       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.845842       1 gateway.go:207] "Processing request" requestID="54bc1deb-6686-435c-9d28-5cd9201ea1fe"
I0305 06:40:30.845865       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="54bc1deb-6686-435c-9d28-5cd9201ea1fe"
I0305 06:40:30.845872       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.846784       1 gateway.go:207] "Processing request" requestID="5654434c-e791-4e3d-9607-7f08de1644b9"
I0305 06:40:30.846806       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5654434c-e791-4e3d-9607-7f08de1644b9"
I0305 06:40:30.846813       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.846885       1 gateway.go:207] "Processing request" requestID="03d31bd7-49b5-4eb9-b41a-94ca30063a10"
I0305 06:40:30.846907       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="03d31bd7-49b5-4eb9-b41a-94ca30063a10"
I0305 06:40:30.846914       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.846938       1 gateway.go:207] "Processing request" requestID="c93f6b3c-c06a-4cce-9185-07e01b052c28"
I0305 06:40:30.846964       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c93f6b3c-c06a-4cce-9185-07e01b052c28"
I0305 06:40:30.846979       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.847814       1 gateway.go:207] "Processing request" requestID="237475d1-d444-45b5-8ddc-1cb8e1d10ea6"
I0305 06:40:30.847834       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="237475d1-d444-45b5-8ddc-1cb8e1d10ea6"
I0305 06:40:30.847841       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.847908       1 gateway.go:207] "Processing request" requestID="d452fe44-1961-4ff0-9e9a-ab0887252f4a"
I0305 06:40:30.847922       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d452fe44-1961-4ff0-9e9a-ab0887252f4a"
I0305 06:40:30.847927       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.847945       1 gateway.go:207] "Processing request" requestID="a03acc0a-e6bc-4350-ab3c-80256d737d84"
I0305 06:40:30.847964       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a03acc0a-e6bc-4350-ab3c-80256d737d84"
I0305 06:40:30.847979       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.848886       1 gateway.go:207] "Processing request" requestID="185eebca-bb6d-4112-8dbd-d48b15a1f0fb"
I0305 06:40:30.848911       1 gateway.go:207] "Processing request" requestID="d9a2a3cf-06a5-4f7c-af3e-8f1bfe1a7269"
I0305 06:40:30.848915       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="185eebca-bb6d-4112-8dbd-d48b15a1f0fb"
I0305 06:40:30.848925       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.848932       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d9a2a3cf-06a5-4f7c-af3e-8f1bfe1a7269"
I0305 06:40:30.848939       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.849082       1 gateway.go:207] "Processing request" requestID="d9ad6f41-baac-4ac3-8a1d-75bcff88634f"
I0305 06:40:30.849123       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d9ad6f41-baac-4ac3-8a1d-75bcff88634f"
I0305 06:40:30.849135       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:30.858287       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d59eacc0-8379-42a2-8061-b1fe0577994a"
I0305 06:40:30.858359       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4fcaf0b0-e0d1-43db-b57e-f44e5055a540"
I0305 06:40:30.858544       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d59eacc0-8379-42a2-8061-b1fe0577994a" model="qwen2-5-7b-instruct"
I0305 06:40:30.858575       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8a86411c-7213-4f41-8763-b65966d50cac"
I0305 06:40:30.858607       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4fcaf0b0-e0d1-43db-b57e-f44e5055a540" model="qwen2-5-7b-instruct"
I0305 06:40:30.858642       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:30.858650       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:30.858654       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:30.858822       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8a86411c-7213-4f41-8763-b65966d50cac" model="qwen2-5-7b-instruct"
I0305 06:40:30.858868       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6b7d0764-1efd-4f91-b8e5-03d69008f6ce"
I0305 06:40:30.859097       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6b7d0764-1efd-4f91-b8e5-03d69008f6ce" model="qwen2-5-7b-instruct"
I0305 06:40:30.859106       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:30.859181       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:30.859189       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:30.859460       1 gateway.go:329] "-- In RequestBody processing ..." requestID="489c87fd-d45c-4880-bc69-779ab8315166"
I0305 06:40:30.859699       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="489c87fd-d45c-4880-bc69-779ab8315166" model="qwen2-5-7b-instruct"
I0305 06:40:30.860165       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ea1654b5-1912-4000-b237-8ed6e04c06cd"
I0305 06:40:30.860167       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d7852bf7-dfb5-4b56-831e-95a2d2d4be43"
I0305 06:40:30.860207       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e3236b9f-f318-4ce5-9a50-7a87074eb9df"
I0305 06:40:30.860387       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d7852bf7-dfb5-4b56-831e-95a2d2d4be43" model="qwen2-5-7b-instruct"
I0305 06:40:30.860422       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ea1654b5-1912-4000-b237-8ed6e04c06cd" model="qwen2-5-7b-instruct"
I0305 06:40:30.860489       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e3236b9f-f318-4ce5-9a50-7a87074eb9df" model="qwen2-5-7b-instruct"
I0305 06:40:30.860834       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5688582d-9a0c-49e2-b864-384a69ce81d2"
I0305 06:40:30.860910       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4dd62176-d087-48d6-abdc-0593131eedb8"
I0305 06:40:30.861068       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5688582d-9a0c-49e2-b864-384a69ce81d2" model="qwen2-5-7b-instruct"
I0305 06:40:30.861083       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4dcc1182-795a-4edd-9636-08c6190c7611"
I0305 06:40:30.861603       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9efeeb54-3ebf-4f1c-8a62-5ebba6f9c96c"
I0305 06:40:30.862053       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4dcc1182-795a-4edd-9636-08c6190c7611" model="qwen2-5-7b-instruct"
I0305 06:40:30.862461       1 gateway.go:329] "-- In RequestBody processing ..." requestID="acf8b818-8971-49d3-b3e2-d00c0fa1b95b"
I0305 06:40:30.862625       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f362558e-dcb4-404b-b497-aca608fdd7b3"
I0305 06:40:30.862725       1 gateway.go:329] "-- In RequestBody processing ..." requestID="526623d4-71dc-4e52-94d6-9b5cd3879423"
I0305 06:40:30.863031       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="526623d4-71dc-4e52-94d6-9b5cd3879423" model="qwen2-5-7b-instruct"
I0305 06:40:30.863180       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f362558e-dcb4-404b-b497-aca608fdd7b3" model="qwen2-5-7b-instruct"
I0305 06:40:30.862742       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9efeeb54-3ebf-4f1c-8a62-5ebba6f9c96c" model="qwen2-5-7b-instruct"
I0305 06:40:30.863548       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2a27ae46-4340-4341-b2b1-a8c4cd18698b"
I0305 06:40:30.863866       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2a27ae46-4340-4341-b2b1-a8c4cd18698b" model="qwen2-5-7b-instruct"
I0305 06:40:30.864030       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2b221e0a-86df-436a-902a-a6d44aabcd86"
I0305 06:40:30.863916       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3520dd58-6e89-4019-ae7a-50e171a16d26"
I0305 06:40:30.864181       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d452fe44-1961-4ff0-9e9a-ab0887252f4a"
I0305 06:40:30.863770       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ba326947-9f9f-418e-b5ef-571180db6cf6"
I0305 06:40:30.864604       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5654434c-e791-4e3d-9607-7f08de1644b9"
I0305 06:40:30.864631       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7b9270c1-2921-469c-8410-f8bc7f1221f9"
I0305 06:40:30.864640       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2f420055-fe94-4d22-8bbb-fb35d01345e6"
I0305 06:40:30.864664       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a03acc0a-e6bc-4350-ab3c-80256d737d84"
I0305 06:40:30.864690       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c93f6b3c-c06a-4cce-9185-07e01b052c28"
I0305 06:40:30.864729       1 gateway.go:329] "-- In RequestBody processing ..." requestID="17e76a5a-acf9-4d07-84a8-8a3ede7913eb"
I0305 06:40:30.864733       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1e65c624-ca9b-4236-b062-7b6bd9bd0bfa"
I0305 06:40:30.864747       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7f56a2fc-53ba-4f5d-a7c0-5ef86d0e534e"
I0305 06:40:30.864693       1 gateway.go:329] "-- In RequestBody processing ..." requestID="aa128181-b8c7-40c3-a5c1-e8a7bfffb2cf"
I0305 06:40:30.864817       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d9a2a3cf-06a5-4f7c-af3e-8f1bfe1a7269"
I0305 06:40:30.864817       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ba326947-9f9f-418e-b5ef-571180db6cf6" model="qwen2-5-7b-instruct"
I0305 06:40:30.864819       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="acf8b818-8971-49d3-b3e2-d00c0fa1b95b" model="qwen2-5-7b-instruct"
I0305 06:40:30.864858       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3520dd58-6e89-4019-ae7a-50e171a16d26" model="qwen2-5-7b-instruct"
I0305 06:40:30.864703       1 gateway.go:329] "-- In RequestBody processing ..." requestID="61cefd65-4aa1-4bef-9bc7-a9dd768c0a3e"
I0305 06:40:30.864890       1 gateway.go:329] "-- In RequestBody processing ..." requestID="30cc04a9-963d-4e6a-a1a3-ffc728dae681"
I0305 06:40:30.864933       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5654434c-e791-4e3d-9607-7f08de1644b9" model="qwen2-5-7b-instruct"
I0305 06:40:30.864945       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2f420055-fe94-4d22-8bbb-fb35d01345e6" model="qwen2-5-7b-instruct"
I0305 06:40:30.864946       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4e523569-e278-4f32-8c1c-bd6639cf6fb1"
I0305 06:40:30.864967       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a03acc0a-e6bc-4350-ab3c-80256d737d84" model="qwen2-5-7b-instruct"
I0305 06:40:30.865021       1 gateway.go:329] "-- In RequestBody processing ..." requestID="18bcb57a-90e8-43a6-8a53-30e2e536f41c"
I0305 06:40:30.865026       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4dd62176-d087-48d6-abdc-0593131eedb8" model="qwen2-5-7b-instruct"
I0305 06:40:30.865031       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7b9270c1-2921-469c-8410-f8bc7f1221f9" model="qwen2-5-7b-instruct"
I0305 06:40:30.865081       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2b221e0a-86df-436a-902a-a6d44aabcd86" model="qwen2-5-7b-instruct"
I0305 06:40:30.865089       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d9ad6f41-baac-4ac3-8a1d-75bcff88634f"
I0305 06:40:30.865086       1 gateway.go:329] "-- In RequestBody processing ..." requestID="54bc1deb-6686-435c-9d28-5cd9201ea1fe"
I0305 06:40:30.865107       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1e65c624-ca9b-4236-b062-7b6bd9bd0bfa" model="qwen2-5-7b-instruct"
I0305 06:40:30.865110       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7f56a2fc-53ba-4f5d-a7c0-5ef86d0e534e" model="qwen2-5-7b-instruct"
I0305 06:40:30.865111       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c93f6b3c-c06a-4cce-9185-07e01b052c28" model="qwen2-5-7b-instruct"
I0305 06:40:30.865112       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="17e76a5a-acf9-4d07-84a8-8a3ede7913eb" model="qwen2-5-7b-instruct"
I0305 06:40:30.865120       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d9a2a3cf-06a5-4f7c-af3e-8f1bfe1a7269" model="qwen2-5-7b-instruct"
I0305 06:40:30.865125       1 gateway.go:329] "-- In RequestBody processing ..." requestID="03d31bd7-49b5-4eb9-b41a-94ca30063a10"
I0305 06:40:30.865145       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="aa128181-b8c7-40c3-a5c1-e8a7bfffb2cf" model="qwen2-5-7b-instruct"
I0305 06:40:30.865192       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="30cc04a9-963d-4e6a-a1a3-ffc728dae681" model="qwen2-5-7b-instruct"
I0305 06:40:30.865217       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="61cefd65-4aa1-4bef-9bc7-a9dd768c0a3e" model="qwen2-5-7b-instruct"
I0305 06:40:30.865300       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4e523569-e278-4f32-8c1c-bd6639cf6fb1" model="qwen2-5-7b-instruct"
I0305 06:40:30.865320       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="18bcb57a-90e8-43a6-8a53-30e2e536f41c" model="qwen2-5-7b-instruct"
I0305 06:40:30.865359       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d9ad6f41-baac-4ac3-8a1d-75bcff88634f" model="qwen2-5-7b-instruct"
I0305 06:40:30.865383       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="03d31bd7-49b5-4eb9-b41a-94ca30063a10" model="qwen2-5-7b-instruct"
I0305 06:40:30.865412       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d452fe44-1961-4ff0-9e9a-ab0887252f4a" model="qwen2-5-7b-instruct"
I0305 06:40:30.865567       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f47324f7-c53d-42c0-879a-a3c6d8c7c9e3"
I0305 06:40:30.865580       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a3a94eea-acc0-45f8-acb6-d87d01c7a5ff"
I0305 06:40:30.865607       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="54bc1deb-6686-435c-9d28-5cd9201ea1fe" model="qwen2-5-7b-instruct"
I0305 06:40:30.865741       1 gateway.go:329] "-- In RequestBody processing ..." requestID="81ee8cfa-5f49-4f62-852f-f8a037ac5a11"
I0305 06:40:30.865768       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f47324f7-c53d-42c0-879a-a3c6d8c7c9e3" model="qwen2-5-7b-instruct"
I0305 06:40:30.865800       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d287cab4-4ff6-4318-bde6-b414d9d75205"
I0305 06:40:30.865827       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a3a94eea-acc0-45f8-acb6-d87d01c7a5ff" model="qwen2-5-7b-instruct"
I0305 06:40:30.865947       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="81ee8cfa-5f49-4f62-852f-f8a037ac5a11" model="qwen2-5-7b-instruct"
I0305 06:40:30.866039       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d287cab4-4ff6-4318-bde6-b414d9d75205" model="qwen2-5-7b-instruct"
I0305 06:40:30.866269       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b484b943-a756-4f19-9699-8f572a3aa0f7"
I0305 06:40:30.866418       1 gateway.go:329] "-- In RequestBody processing ..." requestID="185eebca-bb6d-4112-8dbd-d48b15a1f0fb"
I0305 06:40:30.866486       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b484b943-a756-4f19-9699-8f572a3aa0f7" model="qwen2-5-7b-instruct"
I0305 06:40:30.866694       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="185eebca-bb6d-4112-8dbd-d48b15a1f0fb" model="qwen2-5-7b-instruct"
I0305 06:40:30.867636       1 gateway.go:329] "-- In RequestBody processing ..." requestID="237475d1-d444-45b5-8ddc-1cb8e1d10ea6"
I0305 06:40:30.867881       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="237475d1-d444-45b5-8ddc-1cb8e1d10ea6" model="qwen2-5-7b-instruct"
I0305 06:40:30.869240       1 gateway.go:329] "-- In RequestBody processing ..." requestID="03efa5b7-9d8a-43d1-ab36-d0988ff05dcd"
I0305 06:40:30.869332       1 gateway.go:329] "-- In RequestBody processing ..." requestID="718ed783-39b8-4252-8b39-8098c21e8e8b"
I0305 06:40:30.869470       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="03efa5b7-9d8a-43d1-ab36-d0988ff05dcd" model="qwen2-5-7b-instruct"
I0305 06:40:30.869768       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="718ed783-39b8-4252-8b39-8098c21e8e8b" model="qwen2-5-7b-instruct"
I0305 06:40:30.913661       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0545, numInputTokens, 7596
I0305 06:40:30.913680       1 tree.go:471] Updated node(0) last access: 189.0116 seconds
I0305 06:40:30.913687       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:30.913691       1 tree.go:471] Updated node(2) last access: 189.0116 seconds
I0305 06:40:30.913704       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:30.913709       1 tree.go:471] Updated node(18) last access: 189.0116 seconds
I0305 06:40:30.913712       1 tree.go:490] Partial tokens match child node(326). Continue to go deeper in the radix tree
I0305 06:40:30.913714       1 tree.go:471] Updated node(326) last access: 189.0117 seconds
I0305 06:40:30.913719       1 tree.go:484] Entire input tokens match the child node(327)
I0305 06:40:30.913722       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 06:40:30.913729       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:30.913737       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:30.913742       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:30.913724966 +0000 UTC m=+189.130451831 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:08.462774253 +0000 UTC m=+166.679501120]
I0305 06:40:30.913762       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:30.913771       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:30.913849       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7596
I0305 06:40:30.913859       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:30.913868       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:30.913874       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:30.913877       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:30.913881       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:30.913887       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:30.913894       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:30.913904       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:30.913913       1 prefix_cache_and_load.go:584] latency, Route, 0.0553
I0305 06:40:30.913928       1 gateway.go:415] latency, selectTargetPod, 0.0553, target pod, 10.0.0.131:8000
I0305 06:40:30.913938       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0552
I0305 06:40:30.913946       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:30.913950       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:30.913940       1 gateway.go:235] latency, HandleRequestBody, 0.0557
I0305 06:40:30.914236       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:30.914302       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:30.914308       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:30.933576       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d59eacc0-8379-42a2-8061-b1fe0577994a"
I0305 06:40:30.965862       1 gateway.go:608] "First token received" requestID="d59eacc0-8379-42a2-8061-b1fe0577994a" ttft_ms=107
I0305 06:40:30.993979       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0797, numInputTokens, 7597
I0305 06:40:30.994000       1 tree.go:471] Updated node(0) last access: 189.0919 seconds
I0305 06:40:30.994007       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:30.994011       1 tree.go:471] Updated node(2) last access: 189.0920 seconds
I0305 06:40:30.994024       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:30.994028       1 tree.go:471] Updated node(51) last access: 189.0920 seconds
I0305 06:40:30.994033       1 tree.go:490] Partial tokens match child node(314). Continue to go deeper in the radix tree
I0305 06:40:30.994037       1 tree.go:471] Updated node(314) last access: 189.0920 seconds
I0305 06:40:30.994043       1 tree.go:484] Entire input tokens match the child node(315)
I0305 06:40:30.994047       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:30.994057       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:30.994067       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:30.994075       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:30.994051321 +0000 UTC m=+189.210778195 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:05.99748825 +0000 UTC m=+164.214215115]
I0305 06:40:30.994098       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:30.994108       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:30.994186       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7597
I0305 06:40:30.994196       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:30.994204       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:30.994209       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:30.994215       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:30.994222       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:30.994227       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:30.994235       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:30.994245       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:30.994254       1 prefix_cache_and_load.go:584] latency, Route, 0.1356
I0305 06:40:30.994271       1 gateway.go:415] latency, selectTargetPod, 0.1356, target pod, 10.0.1.28:8000
I0305 06:40:30.994286       1 gateway.go:235] latency, HandleRequestBody, 0.1359
I0305 06:40:30.994320       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1354
I0305 06:40:30.994324       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:30.994328       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:30.994603       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:30.994669       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:30.994675       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.014062       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4fcaf0b0-e0d1-43db-b57e-f44e5055a540"
I0305 06:40:31.040183       1 gateway.go:608] "First token received" requestID="4fcaf0b0-e0d1-43db-b57e-f44e5055a540" ttft_ms=181
I0305 06:40:31.087288       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0926, numInputTokens, 7599
I0305 06:40:31.087308       1 tree.go:471] Updated node(0) last access: 189.1852 seconds
I0305 06:40:31.087314       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.087318       1 tree.go:471] Updated node(2) last access: 189.1853 seconds
I0305 06:40:31.087330       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:31.087334       1 tree.go:471] Updated node(31) last access: 189.1853 seconds
I0305 06:40:31.087343       1 tree.go:667] Split complete - New node(424)
I0305 06:40:31.087346       1 tree.go:668] Split complete - Child node(302)
I0305 06:40:31.087352       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:40:31.087358       1 tree.go:471] Updated node(424) last access: 189.1853 seconds
I0305 06:40:31.087365       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:31.087371       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:31.087380       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:31.087386       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:31.087391       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.087374348 +0000 UTC m=+189.304101228]
I0305 06:40:31.087405       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7482, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:31.087412       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:31.087476       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7482
I0305 06:40:31.087485       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:31.087492       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.087498       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.087501       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.087505       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.087518       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.087528       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.087537       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:31.087548       1 prefix_cache_and_load.go:584] latency, Route, 0.2286
I0305 06:40:31.087563       1 gateway.go:415] latency, selectTargetPod, 0.2286, target pod, 10.0.1.28:8000
I0305 06:40:31.087575       1 gateway.go:235] latency, HandleRequestBody, 0.2290
I0305 06:40:31.087608       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2284
I0305 06:40:31.087613       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.087617       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.087893       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.087962       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:31.087967       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.106350       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8a86411c-7213-4f41-8763-b65966d50cac"
I0305 06:40:31.135997       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0480, numInputTokens, 7600
I0305 06:40:31.136015       1 tree.go:471] Updated node(0) last access: 189.2340 seconds
I0305 06:40:31.136021       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.136025       1 tree.go:471] Updated node(2) last access: 189.2340 seconds
I0305 06:40:31.136038       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:31.136041       1 tree.go:471] Updated node(8) last access: 189.2340 seconds
I0305 06:40:31.136044       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:40:31.136047       1 tree.go:471] Updated node(85) last access: 189.2340 seconds
I0305 06:40:31.136051       1 tree.go:490] Partial tokens match child node(310). Continue to go deeper in the radix tree
I0305 06:40:31.136054       1 tree.go:471] Updated node(310) last access: 189.2340 seconds
I0305 06:40:31.136058       1 tree.go:484] Entire input tokens match the child node(311)
I0305 06:40:31.136063       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:31.136070       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:31.136079       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:31.136087       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.136065229 +0000 UTC m=+189.352792094 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:05.638721009 +0000 UTC m=+163.855447894]
I0305 06:40:31.136109       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:31.136120       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:31.136184       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7600
I0305 06:40:31.136195       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:31.136203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.136207       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.136212       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.136217       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.136223       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.136226       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.136233       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.136243       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:31.136253       1 prefix_cache_and_load.go:584] latency, Route, 0.2770
I0305 06:40:31.136266       1 gateway.go:415] latency, selectTargetPod, 0.2771, target pod, 10.0.1.53:8000
I0305 06:40:31.136276       1 gateway.go:235] latency, HandleRequestBody, 0.2774
I0305 06:40:31.136303       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2765
I0305 06:40:31.136307       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.136311       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.136529       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.136596       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:31.136601       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.139452       1 gateway.go:562] latency, 0.0000, summary, hash(request), 00d585ee, selectedpod, 10.0.0.131:8000, ttft, 107, tpot, 19, e2e, 281, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:31.139482       1 gateway.go:748] "Request completed" requestID="d59eacc0-8379-42a2-8061-b1fe0577994a" targetPod="10.0.0.131:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:31.139497       1 gateway.go:764] "HandleResponseBody completed" requestID="d59eacc0-8379-42a2-8061-b1fe0577994a" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:31.156075       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6b7d0764-1efd-4f91-b8e5-03d69008f6ce"
I0305 06:40:31.158121       1 gateway.go:608] "First token received" requestID="8a86411c-7213-4f41-8763-b65966d50cac" ttft_ms=299
I0305 06:40:31.188172       1 gateway.go:608] "First token received" requestID="6b7d0764-1efd-4f91-b8e5-03d69008f6ce" ttft_ms=329
I0305 06:40:31.221460       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0849, numInputTokens, 7598
I0305 06:40:31.221480       1 tree.go:471] Updated node(0) last access: 189.3194 seconds
I0305 06:40:31.221488       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.221495       1 tree.go:471] Updated node(2) last access: 189.3194 seconds
I0305 06:40:31.221518       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:31.221524       1 tree.go:471] Updated node(4) last access: 189.3195 seconds
I0305 06:40:31.221535       1 tree.go:667] Split complete - New node(426)
I0305 06:40:31.221538       1 tree.go:668] Split complete - Child node(366)
I0305 06:40:31.221544       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:40:31.221549       1 tree.go:471] Updated node(426) last access: 189.3195 seconds
I0305 06:40:31.221554       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:40:31.221559       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:31.221567       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:31.221575       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:31.221582       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.221561779 +0000 UTC m=+189.438288647]
I0305 06:40:31.221599       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7485, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:40:31.221606       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:40:31.221678       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7485
I0305 06:40:31.221689       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:31.221699       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.221704       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.221710       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.221714       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.221720       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.221730       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.221739       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:31.221750       1 prefix_cache_and_load.go:584] latency, Route, 0.3620
I0305 06:40:31.221768       1 gateway.go:415] latency, selectTargetPod, 0.3620, target pod, 10.0.1.47:8000
I0305 06:40:31.221781       1 gateway.go:235] latency, HandleRequestBody, 0.3623
I0305 06:40:31.221812       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3613
I0305 06:40:31.221817       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.221820       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.222018       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.222078       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:31.222083       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.242631       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="489c87fd-d45c-4880-bc69-779ab8315166"
I0305 06:40:31.279191       1 gateway.go:608] "First token received" requestID="489c87fd-d45c-4880-bc69-779ab8315166" ttft_ms=419
I0305 06:40:31.284343       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0623, numInputTokens, 7600
I0305 06:40:31.284362       1 tree.go:471] Updated node(0) last access: 189.3823 seconds
I0305 06:40:31.284369       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.284373       1 tree.go:471] Updated node(2) last access: 189.3823 seconds
I0305 06:40:31.284385       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:31.284389       1 tree.go:471] Updated node(12) last access: 189.3823 seconds
I0305 06:40:31.284392       1 tree.go:490] Partial tokens match child node(190). Continue to go deeper in the radix tree
I0305 06:40:31.284394       1 tree.go:471] Updated node(190) last access: 189.3823 seconds
I0305 06:40:31.284398       1 tree.go:490] Partial tokens match child node(258). Continue to go deeper in the radix tree
I0305 06:40:31.284401       1 tree.go:471] Updated node(258) last access: 189.3823 seconds
I0305 06:40:31.284406       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:31.284413       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:31.284420       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:31.284427       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:31.284431       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.284414939 +0000 UTC m=+189.501141811]
I0305 06:40:31.284446       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:31.284454       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:31.284533       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7484
I0305 06:40:31.284542       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:31.284549       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.284555       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.284559       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.284565       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.284571       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.284576       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.284584       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.284593       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:31.284605       1 prefix_cache_and_load.go:584] latency, Route, 0.4241
I0305 06:40:31.284619       1 gateway.go:415] latency, selectTargetPod, 0.4241, target pod, 10.0.0.39:8000
I0305 06:40:31.284629       1 gateway.go:235] latency, HandleRequestBody, 0.4245
I0305 06:40:31.284655       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4242
I0305 06:40:31.284660       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.284663       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.284847       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.284903       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:31.284908       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.304105       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d7852bf7-dfb5-4b56-831e-95a2d2d4be43"
I0305 06:40:31.333832       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0489, numInputTokens, 7599
I0305 06:40:31.333848       1 tree.go:471] Updated node(0) last access: 189.4318 seconds
I0305 06:40:31.333854       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.333857       1 tree.go:471] Updated node(2) last access: 189.4318 seconds
I0305 06:40:31.333870       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:31.333875       1 tree.go:471] Updated node(53) last access: 189.4318 seconds
I0305 06:40:31.333879       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 06:40:31.333881       1 tree.go:471] Updated node(43) last access: 189.4318 seconds
I0305 06:40:31.333885       1 tree.go:490] Partial tokens match child node(289). Continue to go deeper in the radix tree
I0305 06:40:31.333890       1 tree.go:471] Updated node(289) last access: 189.4318 seconds
I0305 06:40:31.333894       1 tree.go:484] Entire input tokens match the child node(313)
I0305 06:40:31.333899       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:31.333906       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:31.333912       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:31.333917       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.33390112 +0000 UTC m=+189.550627984 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:05.771175026 +0000 UTC m=+163.987901900]
I0305 06:40:31.333935       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:31.333943       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:31.334018       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:40:31.334027       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:31.334034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.334039       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.334043       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.334048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.334052       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.334057       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.334066       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.334075       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:31.334085       1 prefix_cache_and_load.go:584] latency, Route, 0.4736
I0305 06:40:31.334099       1 gateway.go:415] latency, selectTargetPod, 0.4736, target pod, 10.0.0.34:8000
I0305 06:40:31.334111       1 gateway.go:235] latency, HandleRequestBody, 0.4739
I0305 06:40:31.334137       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4736
I0305 06:40:31.334142       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.334145       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.334313       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.334370       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:31.334375       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.340427       1 gateway.go:608] "First token received" requestID="d7852bf7-dfb5-4b56-831e-95a2d2d4be43" ttft_ms=480
I0305 06:40:31.378641       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ea1654b5-1912-4000-b237-8ed6e04c06cd"
I0305 06:40:31.378913       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5b7afd2e, selectedpod, 10.0.1.53:8000, ttft, 329, tpot, 21, e2e, 519, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:31.378942       1 gateway.go:748] "Request completed" requestID="6b7d0764-1efd-4f91-b8e5-03d69008f6ce" targetPod="10.0.1.53:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:31.378955       1 gateway.go:764] "HandleResponseBody completed" requestID="6b7d0764-1efd-4f91-b8e5-03d69008f6ce" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:31.378993       1 gateway.go:562] latency, 0.0001, summary, hash(request), 0f49b66d, selectedpod, 10.0.1.28:8000, ttft, 181, tpot, 37, e2e, 520, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:31.379024       1 gateway.go:748] "Request completed" requestID="4fcaf0b0-e0d1-43db-b57e-f44e5055a540" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:31.379091       1 gateway.go:764] "HandleResponseBody completed" requestID="4fcaf0b0-e0d1-43db-b57e-f44e5055a540" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:31.379268       1 gateway.go:562] latency, 0.0001, summary, hash(request), e3005ee1, selectedpod, 10.0.1.28:8000, ttft, 299, tpot, 24, e2e, 520, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:31.379287       1 gateway.go:748] "Request completed" requestID="8a86411c-7213-4f41-8763-b65966d50cac" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:31.379300       1 gateway.go:764] "HandleResponseBody completed" requestID="8a86411c-7213-4f41-8763-b65966d50cac" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:31.385473       1 gateway.go:608] "First token received" requestID="ea1654b5-1912-4000-b237-8ed6e04c06cd" ttft_ms=525
I0305 06:40:31.429767       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0954, numInputTokens, 7599
I0305 06:40:31.429792       1 tree.go:471] Updated node(0) last access: 189.5277 seconds
I0305 06:40:31.429801       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.429806       1 tree.go:471] Updated node(2) last access: 189.5277 seconds
I0305 06:40:31.429824       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:31.429832       1 tree.go:471] Updated node(45) last access: 189.5278 seconds
I0305 06:40:31.429837       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:31.429841       1 tree.go:471] Updated node(175) last access: 189.5278 seconds
I0305 06:40:31.429846       1 tree.go:490] Partial tokens match child node(184). Continue to go deeper in the radix tree
I0305 06:40:31.429850       1 tree.go:471] Updated node(184) last access: 189.5278 seconds
I0305 06:40:31.429856       1 tree.go:484] Entire input tokens match the child node(328)
I0305 06:40:31.429861       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:31.429870       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:31.429880       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:31.429887       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.429863827 +0000 UTC m=+189.646590707 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:08.526611033 +0000 UTC m=+166.743337898]
I0305 06:40:31.429912       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:31.429922       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:31.430019       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:40:31.430033       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:31.430044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.430053       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.430061       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.430070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.430077       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.430081       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.430094       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.430108       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:31.430125       1 prefix_cache_and_load.go:584] latency, Route, 0.5695
I0305 06:40:31.430144       1 gateway.go:415] latency, selectTargetPod, 0.5696, target pod, 10.0.0.34:8000
I0305 06:40:31.430158       1 gateway.go:235] latency, HandleRequestBody, 0.5700
I0305 06:40:31.430193       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5667
I0305 06:40:31.430200       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.430203       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.430439       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.430520       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:31.430527       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.448616       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e3236b9f-f318-4ce5-9a50-7a87074eb9df"
I0305 06:40:31.453210       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1d539067, selectedpod, 10.0.1.47:8000, ttft, 419, tpot, 19, e2e, 593, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:31.453235       1 gateway.go:748] "Request completed" requestID="489c87fd-d45c-4880-bc69-779ab8315166" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:31.453247       1 gateway.go:764] "HandleResponseBody completed" requestID="489c87fd-d45c-4880-bc69-779ab8315166" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:31.491508       1 gateway.go:608] "First token received" requestID="e3236b9f-f318-4ce5-9a50-7a87074eb9df" ttft_ms=631
I0305 06:40:31.509878       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0793, numInputTokens, 7599
I0305 06:40:31.509896       1 tree.go:471] Updated node(0) last access: 189.6078 seconds
I0305 06:40:31.509902       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.509906       1 tree.go:471] Updated node(2) last access: 189.6078 seconds
I0305 06:40:31.509920       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:31.509925       1 tree.go:471] Updated node(53) last access: 189.6079 seconds
I0305 06:40:31.509928       1 tree.go:490] Partial tokens match child node(321). Continue to go deeper in the radix tree
I0305 06:40:31.509931       1 tree.go:471] Updated node(321) last access: 189.6079 seconds
I0305 06:40:31.509936       1 tree.go:490] Partial tokens match child node(181). Continue to go deeper in the radix tree
I0305 06:40:31.509940       1 tree.go:471] Updated node(181) last access: 189.6079 seconds
I0305 06:40:31.509944       1 tree.go:484] Entire input tokens match the child node(308)
I0305 06:40:31.509947       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:31.509953       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:31.509959       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:31.509964       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.509949444 +0000 UTC m=+189.726676318 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:05.180007825 +0000 UTC m=+163.396734690]
I0305 06:40:31.509987       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:31.509993       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:31.510059       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:40:31.510068       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:31.510075       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.510079       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.510084       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.510089       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.510092       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.510098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.510105       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.510113       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:31.510125       1 prefix_cache_and_load.go:584] latency, Route, 0.6466
I0305 06:40:31.510140       1 gateway.go:415] latency, selectTargetPod, 0.6466, target pod, 10.0.0.34:8000
I0305 06:40:31.510152       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6466
I0305 06:40:31.510161       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.510165       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.510155       1 gateway.go:235] latency, HandleRequestBody, 0.6474
I0305 06:40:31.510375       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.510437       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:31.510442       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.515145       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0669f575, selectedpod, 10.0.0.39:8000, ttft, 480, tpot, 19, e2e, 654, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:31.515174       1 gateway.go:748] "Request completed" requestID="d7852bf7-dfb5-4b56-831e-95a2d2d4be43" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:31.515191       1 gateway.go:764] "HandleResponseBody completed" requestID="d7852bf7-dfb5-4b56-831e-95a2d2d4be43" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:31.528559       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="526623d4-71dc-4e52-94d6-9b5cd3879423"
I0305 06:40:31.561153       1 gateway.go:608] "First token received" requestID="526623d4-71dc-4e52-94d6-9b5cd3879423" ttft_ms=698
I0305 06:40:31.589454       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0790, numInputTokens, 7598
I0305 06:40:31.589474       1 tree.go:471] Updated node(0) last access: 189.6874 seconds
I0305 06:40:31.589480       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.589484       1 tree.go:471] Updated node(2) last access: 189.6874 seconds
I0305 06:40:31.589495       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:31.589499       1 tree.go:471] Updated node(53) last access: 189.6874 seconds
I0305 06:40:31.589504       1 tree.go:490] Partial tokens match child node(321). Continue to go deeper in the radix tree
I0305 06:40:31.589506       1 tree.go:471] Updated node(321) last access: 189.6874 seconds
I0305 06:40:31.589517       1 tree.go:490] Partial tokens match child node(181). Continue to go deeper in the radix tree
I0305 06:40:31.589521       1 tree.go:471] Updated node(181) last access: 189.6875 seconds
I0305 06:40:31.589524       1 tree.go:490] Partial tokens match child node(318). Continue to go deeper in the radix tree
I0305 06:40:31.589526       1 tree.go:471] Updated node(318) last access: 189.6875 seconds
I0305 06:40:31.589531       1 tree.go:484] Entire input tokens match the child node(319)
I0305 06:40:31.589535       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:31.589543       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:31.589548       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:31.589555       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.58953798 +0000 UTC m=+189.806264854 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:06.128260763 +0000 UTC m=+164.344987627]
I0305 06:40:31.589572       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:31.589580       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:31.589645       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7598
I0305 06:40:31.589654       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:31.589661       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.589666       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.589671       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.589676       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.589682       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.589685       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.589690       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.589699       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.589709       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:31.589720       1 prefix_cache_and_load.go:584] latency, Route, 0.7267
I0305 06:40:31.589733       1 gateway.go:415] latency, selectTargetPod, 0.7267, target pod, 10.0.0.34:8000
I0305 06:40:31.589744       1 gateway.go:235] latency, HandleRequestBody, 0.7289
I0305 06:40:31.589771       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7257
I0305 06:40:31.589776       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.589779       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.590004       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.590062       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:31.590067       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.607845       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5688582d-9a0c-49e2-b864-384a69ce81d2"
I0305 06:40:31.634087       1 gateway.go:562] latency, 0.0000, summary, hash(request), fca3135c, selectedpod, 10.0.0.34:8000, ttft, 525, tpot, 27, e2e, 773, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:31.634107       1 gateway.go:748] "Request completed" requestID="ea1654b5-1912-4000-b237-8ed6e04c06cd" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:31.634120       1 gateway.go:764] "HandleResponseBody completed" requestID="ea1654b5-1912-4000-b237-8ed6e04c06cd" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:31.644012       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0539, numInputTokens, 7601
I0305 06:40:31.644034       1 tree.go:471] Updated node(0) last access: 189.7420 seconds
I0305 06:40:31.644040       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.644043       1 tree.go:471] Updated node(2) last access: 189.7420 seconds
I0305 06:40:31.644057       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:31.644060       1 tree.go:471] Updated node(8) last access: 189.7420 seconds
I0305 06:40:31.644069       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0305 06:40:31.644077       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:31.644084       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:31.644092       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:31.644097       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.644079146 +0000 UTC m=+189.860806011]
I0305 06:40:31.644113       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7478, Matching ratio: 0.9838, # Matched pods: 0, Matched pods: []
I0305 06:40:31.644120       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9838 > 0.5000)
I0305 06:40:31.644222       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7478
I0305 06:40:31.644232       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:31.644239       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.644245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.644250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.644255       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.644265       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.644275       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:31.644286       1 prefix_cache_and_load.go:584] latency, Route, 0.7808
I0305 06:40:31.644297       1 gateway.go:415] latency, selectTargetPod, 0.7808, target pod, 10.0.1.53:8000
I0305 06:40:31.644315       1 gateway.go:235] latency, HandleRequestBody, 0.7832
I0305 06:40:31.644347       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7797
I0305 06:40:31.644353       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.644357       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.644681       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.644799       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:31.644804       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.646589       1 gateway.go:608] "First token received" requestID="5688582d-9a0c-49e2-b864-384a69ce81d2" ttft_ms=785
I0305 06:40:31.665419       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4dcc1182-795a-4edd-9636-08c6190c7611"
I0305 06:40:31.708396       1 gateway.go:608] "First token received" requestID="4dcc1182-795a-4edd-9636-08c6190c7611" ttft_ms=847
I0305 06:40:31.726434       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0816, numInputTokens, 7598
I0305 06:40:31.726451       1 tree.go:471] Updated node(0) last access: 189.8244 seconds
I0305 06:40:31.726457       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.726461       1 tree.go:471] Updated node(2) last access: 189.8244 seconds
I0305 06:40:31.726475       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:31.726478       1 tree.go:471] Updated node(12) last access: 189.8244 seconds
I0305 06:40:31.726482       1 tree.go:490] Partial tokens match child node(215). Continue to go deeper in the radix tree
I0305 06:40:31.726485       1 tree.go:471] Updated node(215) last access: 189.8244 seconds
I0305 06:40:31.726495       1 tree.go:667] Split complete - New node(430)
I0305 06:40:31.726500       1 tree.go:668] Split complete - Child node(216)
I0305 06:40:31.726506       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0305 06:40:31.726521       1 tree.go:471] Updated node(430) last access: 189.8245 seconds
I0305 06:40:31.726527       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 06:40:31.726532       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:31.726538       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:31.726543       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:31.726549       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.726533769 +0000 UTC m=+189.943260633]
I0305 06:40:31.726563       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7488, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 06:40:31.726569       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 06:40:31.726631       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7488
I0305 06:40:31.726640       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:31.726648       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.726654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.726659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.726664       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.726668       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.726675       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.726685       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.726698       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:31.726712       1 prefix_cache_and_load.go:584] latency, Route, 0.8620
I0305 06:40:31.726728       1 gateway.go:415] latency, selectTargetPod, 0.8620, target pod, 10.0.0.39:8000
I0305 06:40:31.726740       1 gateway.go:235] latency, HandleRequestBody, 0.8641
I0305 06:40:31.726743       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8620
I0305 06:40:31.726755       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.726759       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.727024       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.727092       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:31.727099       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.731711       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9f056416, selectedpod, 10.0.0.34:8000, ttft, 631, tpot, 26, e2e, 871, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:31.731732       1 gateway.go:748] "Request completed" requestID="e3236b9f-f318-4ce5-9a50-7a87074eb9df" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:31.731742       1 gateway.go:764] "HandleResponseBody completed" requestID="e3236b9f-f318-4ce5-9a50-7a87074eb9df" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:31.745744       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f362558e-dcb4-404b-b497-aca608fdd7b3"
I0305 06:40:31.771387       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4292a327, selectedpod, 10.0.0.34:8000, ttft, 698, tpot, 23, e2e, 908, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:31.771405       1 gateway.go:748] "Request completed" requestID="526623d4-71dc-4e52-94d6-9b5cd3879423" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:31.771415       1 gateway.go:764] "HandleResponseBody completed" requestID="526623d4-71dc-4e52-94d6-9b5cd3879423" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:31.781231       1 gateway.go:608] "First token received" requestID="f362558e-dcb4-404b-b497-aca608fdd7b3" ttft_ms=918
I0305 06:40:31.785034       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0579, numInputTokens, 7600
I0305 06:40:31.785049       1 tree.go:471] Updated node(0) last access: 189.8830 seconds
I0305 06:40:31.785057       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.785066       1 tree.go:471] Updated node(2) last access: 189.8830 seconds
I0305 06:40:31.785077       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:31.785081       1 tree.go:471] Updated node(53) last access: 189.8830 seconds
I0305 06:40:31.785085       1 tree.go:490] Partial tokens match child node(321). Continue to go deeper in the radix tree
I0305 06:40:31.785088       1 tree.go:471] Updated node(321) last access: 189.8830 seconds
I0305 06:40:31.785092       1 tree.go:484] Entire input tokens match the child node(322)
I0305 06:40:31.785097       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:31.785103       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:31.785110       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:31.785115       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.785098913 +0000 UTC m=+190.001825778 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:06.410449501 +0000 UTC m=+164.627176373]
I0305 06:40:31.785134       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:31.785143       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:31.785230       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7600
I0305 06:40:31.785240       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:31.785251       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.785256       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.785261       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.785265       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.785269       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.785278       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.785288       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:31.785298       1 prefix_cache_and_load.go:584] latency, Route, 0.9206
I0305 06:40:31.785312       1 gateway.go:415] latency, selectTargetPod, 0.9206, target pod, 10.0.0.34:8000
I0305 06:40:31.785325       1 gateway.go:235] latency, HandleRequestBody, 0.9225
I0305 06:40:31.785364       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9204
I0305 06:40:31.785368       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.785371       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.785559       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.785629       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:31.785634       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.803479       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2a27ae46-4340-4341-b2b1-a8c4cd18698b"
I0305 06:40:31.838391       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0527, numInputTokens, 7597
I0305 06:40:31.838408       1 tree.go:471] Updated node(0) last access: 189.9363 seconds
I0305 06:40:31.838415       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.838418       1 tree.go:471] Updated node(2) last access: 189.9364 seconds
I0305 06:40:31.838430       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:31.838433       1 tree.go:471] Updated node(45) last access: 189.9364 seconds
I0305 06:40:31.838436       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:31.838439       1 tree.go:471] Updated node(175) last access: 189.9364 seconds
I0305 06:40:31.838444       1 tree.go:490] Partial tokens match child node(184). Continue to go deeper in the radix tree
I0305 06:40:31.838446       1 tree.go:471] Updated node(184) last access: 189.9364 seconds
I0305 06:40:31.838456       1 tree.go:667] Split complete - New node(432)
I0305 06:40:31.838461       1 tree.go:668] Split complete - Child node(176)
I0305 06:40:31.838466       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 06:40:31.838472       1 tree.go:471] Updated node(432) last access: 189.9364 seconds
I0305 06:40:31.838479       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 106 tokens:
I0305 06:40:31.838486       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:31.838495       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:31.838503       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:31.838508       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.838489018 +0000 UTC m=+190.055215889]
I0305 06:40:31.838533       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7491, Matching ratio: 0.9860, # Matched pods: 0, Matched pods: []
I0305 06:40:31.838543       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9860 > 0.5000)
I0305 06:40:31.838637       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7491
I0305 06:40:31.838649       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:31.838658       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.838664       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.838670       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.838676       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.838679       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.838683       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.838688       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.838701       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.838714       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:31.838730       1 prefix_cache_and_load.go:584] latency, Route, 0.9738
I0305 06:40:31.838749       1 gateway.go:415] latency, selectTargetPod, 0.9738, target pod, 10.0.0.34:8000
I0305 06:40:31.838764       1 gateway.go:235] latency, HandleRequestBody, 0.9763
I0305 06:40:31.838797       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9739
I0305 06:40:31.838802       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.838806       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.839098       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.839144       1 gateway.go:608] "First token received" requestID="2a27ae46-4340-4341-b2b1-a8c4cd18698b" ttft_ms=975
I0305 06:40:31.839171       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:31.839178       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.856983       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="acf8b818-8971-49d3-b3e2-d00c0fa1b95b"
I0305 06:40:31.869117       1 gateway.go:562] latency, 0.0000, summary, hash(request), a05adb8e, selectedpod, 10.0.0.34:8000, ttft, 785, tpot, 24, e2e, 1008, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:31.869140       1 gateway.go:748] "Request completed" requestID="5688582d-9a0c-49e2-b864-384a69ce81d2" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:31.869153       1 gateway.go:764] "HandleResponseBody completed" requestID="5688582d-9a0c-49e2-b864-384a69ce81d2" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:31.881876       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7c57274c, selectedpod, 10.0.1.53:8000, ttft, 847, tpot, 19, e2e, 1020, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:31.881895       1 gateway.go:748] "Request completed" requestID="4dcc1182-795a-4edd-9636-08c6190c7611" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:31.881906       1 gateway.go:764] "HandleResponseBody completed" requestID="4dcc1182-795a-4edd-9636-08c6190c7611" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:31.892880       1 gateway.go:608] "First token received" requestID="acf8b818-8971-49d3-b3e2-d00c0fa1b95b" ttft_ms=1030
I0305 06:40:31.918942       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0798, numInputTokens, 7600
I0305 06:40:31.918976       1 tree.go:471] Updated node(0) last access: 190.0169 seconds
I0305 06:40:31.918984       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:31.918989       1 tree.go:471] Updated node(2) last access: 190.0169 seconds
I0305 06:40:31.919007       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:31.919012       1 tree.go:471] Updated node(8) last access: 190.0170 seconds
I0305 06:40:31.919024       1 tree.go:667] Split complete - New node(434)
I0305 06:40:31.919029       1 tree.go:668] Split complete - Child node(429)
I0305 06:40:31.919037       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 06:40:31.919055       1 tree.go:471] Updated node(434) last access: 190.0170 seconds
I0305 06:40:31.919065       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:40:31.919114       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:31.919134       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:31.919150       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 06:40:31.919157       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:31.919123027 +0000 UTC m=+190.135849899]
I0305 06:40:31.919182       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7485, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:40:31.919194       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:40:31.919408       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7485
I0305 06:40:31.919423       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:40:31.919436       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.919447       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.919454       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.919469       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.919474       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:31.919485       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:31.919500       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:31.919528       1 prefix_cache_and_load.go:584] latency, Route, 1.0546
I0305 06:40:31.919543       1 gateway.go:415] latency, selectTargetPod, 1.0546, target pod, 10.0.1.53:8000
I0305 06:40:31.919561       1 gateway.go:235] latency, HandleRequestBody, 1.0580
I0305 06:40:31.919601       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0547
I0305 06:40:31.919607       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:31.919612       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:31.920100       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:31.920335       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0007
I0305 06:40:31.920357       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:31.938100       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9efeeb54-3ebf-4f1c-8a62-5ebba6f9c96c"
I0305 06:40:31.955596       1 gateway.go:562] latency, 0.0000, summary, hash(request), c85afbf1, selectedpod, 10.0.0.39:8000, ttft, 918, tpot, 19, e2e, 1092, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:31.955616       1 gateway.go:748] "Request completed" requestID="f362558e-dcb4-404b-b497-aca608fdd7b3" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:31.955625       1 gateway.go:764] "HandleResponseBody completed" requestID="f362558e-dcb4-404b-b497-aca608fdd7b3" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:31.972992       1 gateway.go:608] "First token received" requestID="9efeeb54-3ebf-4f1c-8a62-5ebba6f9c96c" ttft_ms=1111
I0305 06:40:32.003394       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0830, numInputTokens, 7602
I0305 06:40:32.003412       1 tree.go:471] Updated node(0) last access: 190.1014 seconds
I0305 06:40:32.003418       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.003421       1 tree.go:471] Updated node(2) last access: 190.1014 seconds
I0305 06:40:32.003435       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:32.003440       1 tree.go:471] Updated node(51) last access: 190.1014 seconds
I0305 06:40:32.003443       1 tree.go:490] Partial tokens match child node(283). Continue to go deeper in the radix tree
I0305 06:40:32.003446       1 tree.go:471] Updated node(283) last access: 190.1014 seconds
I0305 06:40:32.003451       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:32.003457       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:40:32.003464       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:32.003472       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.003478       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.003459711 +0000 UTC m=+190.220186576]
I0305 06:40:32.003493       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7486, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:32.003504       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:32.003580       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7486
I0305 06:40:32.003591       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.003598       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.003604       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.003607       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.003614       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.003620       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.003629       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.003638       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:32.003647       1 prefix_cache_and_load.go:584] latency, Route, 1.1387
I0305 06:40:32.003664       1 gateway.go:415] latency, selectTargetPod, 1.1387, target pod, 10.0.1.28:8000
I0305 06:40:32.003675       1 gateway.go:235] latency, HandleRequestBody, 1.1404
I0305 06:40:32.003675       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1387
I0305 06:40:32.003682       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.003685       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.003912       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.003981       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:32.003988       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.023641       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ba326947-9f9f-418e-b5ef-571180db6cf6"
I0305 06:40:32.055287       1 gateway.go:562] latency, 0.0000, summary, hash(request), 084b2d87, selectedpod, 10.0.0.34:8000, ttft, 975, tpot, 24, e2e, 1191, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:32.055311       1 gateway.go:748] "Request completed" requestID="2a27ae46-4340-4341-b2b1-a8c4cd18698b" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:32.055324       1 gateway.go:764] "HandleResponseBody completed" requestID="2a27ae46-4340-4341-b2b1-a8c4cd18698b" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:32.060031       1 gateway.go:608] "First token received" requestID="ba326947-9f9f-418e-b5ef-571180db6cf6" ttft_ms=1195
I0305 06:40:32.075168       1 gateway.go:562] latency, 0.0000, summary, hash(request), a5763e1e, selectedpod, 10.0.0.34:8000, ttft, 1030, tpot, 20, e2e, 1212, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:32.075187       1 gateway.go:748] "Request completed" requestID="acf8b818-8971-49d3-b3e2-d00c0fa1b95b" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:32.075198       1 gateway.go:764] "HandleResponseBody completed" requestID="acf8b818-8971-49d3-b3e2-d00c0fa1b95b" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:32.097322       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0933, numInputTokens, 7598
I0305 06:40:32.097339       1 tree.go:471] Updated node(0) last access: 190.1953 seconds
I0305 06:40:32.097346       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.097349       1 tree.go:471] Updated node(2) last access: 190.1953 seconds
I0305 06:40:32.097362       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:32.097367       1 tree.go:471] Updated node(45) last access: 190.1953 seconds
I0305 06:40:32.097377       1 tree.go:667] Split complete - New node(437)
I0305 06:40:32.097380       1 tree.go:668] Split complete - Child node(154)
I0305 06:40:32.097387       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0305 06:40:32.097393       1 tree.go:471] Updated node(437) last access: 190.1953 seconds
I0305 06:40:32.097400       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:32.097406       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:32.097415       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:32.097423       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.097428       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.097409856 +0000 UTC m=+190.314136726]
I0305 06:40:32.097446       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7482, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:32.097453       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:32.097563       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7482
I0305 06:40:32.097579       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.097593       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.097604       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.097611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.097617       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.097623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.097631       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.097640       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:32.097651       1 prefix_cache_and_load.go:584] latency, Route, 1.2327
I0305 06:40:32.097667       1 gateway.go:415] latency, selectTargetPod, 1.2327, target pod, 10.0.0.34:8000
I0305 06:40:32.097681       1 gateway.go:235] latency, HandleRequestBody, 1.2348
I0305 06:40:32.097714       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2327
I0305 06:40:32.097719       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.097722       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.097906       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.097986       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:32.097994       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.116305       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3520dd58-6e89-4019-ae7a-50e171a16d26"
I0305 06:40:32.145834       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9f777262, selectedpod, 10.0.1.53:8000, ttft, 1111, tpot, 19, e2e, 1284, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:32.145852       1 gateway.go:748] "Request completed" requestID="9efeeb54-3ebf-4f1c-8a62-5ebba6f9c96c" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:32.145864       1 gateway.go:764] "HandleResponseBody completed" requestID="9efeeb54-3ebf-4f1c-8a62-5ebba6f9c96c" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:32.147390       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0494, numInputTokens, 7602
I0305 06:40:32.147406       1 tree.go:471] Updated node(0) last access: 190.2453 seconds
I0305 06:40:32.147412       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.147417       1 tree.go:471] Updated node(2) last access: 190.2454 seconds
I0305 06:40:32.147432       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:32.147436       1 tree.go:471] Updated node(18) last access: 190.2454 seconds
I0305 06:40:32.147440       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 06:40:32.147444       1 tree.go:471] Updated node(219) last access: 190.2454 seconds
I0305 06:40:32.147447       1 tree.go:490] Partial tokens match child node(276). Continue to go deeper in the radix tree
I0305 06:40:32.147450       1 tree.go:471] Updated node(276) last access: 190.2454 seconds
I0305 06:40:32.147453       1 tree.go:490] Partial tokens match child node(334). Continue to go deeper in the radix tree
I0305 06:40:32.147457       1 tree.go:471] Updated node(334) last access: 190.2454 seconds
I0305 06:40:32.147460       1 tree.go:484] Entire input tokens match the child node(335)
I0305 06:40:32.147465       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:32.147472       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:32.147479       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.147484       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.147467182 +0000 UTC m=+190.364194046 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:09.800825578 +0000 UTC m=+168.017552443]
I0305 06:40:32.147500       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:32.147518       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:32.147612       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7602
I0305 06:40:32.147627       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.147639       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.147647       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.147652       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.147661       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.147667       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.147671       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.147676       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.147684       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.147695       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:32.147704       1 prefix_cache_and_load.go:584] latency, Route, 1.2827
I0305 06:40:32.147716       1 gateway.go:415] latency, selectTargetPod, 1.2827, target pod, 10.0.0.131:8000
I0305 06:40:32.147727       1 gateway.go:235] latency, HandleRequestBody, 1.2831
I0305 06:40:32.147762       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.2827
I0305 06:40:32.147768       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.147772       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.147967       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.148045       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:32.148051       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.158608       1 gateway.go:608] "First token received" requestID="3520dd58-6e89-4019-ae7a-50e171a16d26" ttft_ms=1294
I0305 06:40:32.167579       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5654434c-e791-4e3d-9607-7f08de1644b9"
I0305 06:40:32.199749       1 gateway.go:608] "First token received" requestID="5654434c-e791-4e3d-9607-7f08de1644b9" ttft_ms=1335
I0305 06:40:32.226310       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0783, numInputTokens, 7596
I0305 06:40:32.226332       1 tree.go:471] Updated node(0) last access: 190.3243 seconds
I0305 06:40:32.226340       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.226344       1 tree.go:471] Updated node(2) last access: 190.3243 seconds
I0305 06:40:32.226359       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:32.226363       1 tree.go:471] Updated node(45) last access: 190.3243 seconds
I0305 06:40:32.226370       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:40:32.226377       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 06:40:32.226386       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:32.226395       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.226403       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.226380515 +0000 UTC m=+190.443107380]
I0305 06:40:32.226421       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7478, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:40:32.226432       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:40:32.226503       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7478
I0305 06:40:32.226527       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.226539       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.226547       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.226556       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.226562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.226574       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.226587       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:32.226602       1 prefix_cache_and_load.go:584] latency, Route, 1.3615
I0305 06:40:32.226619       1 gateway.go:415] latency, selectTargetPod, 1.3615, target pod, 10.0.0.34:8000
I0305 06:40:32.226631       1 gateway.go:235] latency, HandleRequestBody, 1.3631
I0305 06:40:32.226662       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.3616
I0305 06:40:32.226667       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.226671       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.226840       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.226902       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:32.226907       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.234110       1 gateway.go:562] latency, 0.0001, summary, hash(request), 311b13ed, selectedpod, 10.0.1.28:8000, ttft, 1195, tpot, 19, e2e, 1369, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:32.234127       1 gateway.go:748] "Request completed" requestID="ba326947-9f9f-418e-b5ef-571180db6cf6" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:32.234138       1 gateway.go:764] "HandleResponseBody completed" requestID="ba326947-9f9f-418e-b5ef-571180db6cf6" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:32.244957       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a03acc0a-e6bc-4350-ab3c-80256d737d84"
I0305 06:40:32.285818       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0589, numInputTokens, 7599
I0305 06:40:32.285836       1 tree.go:471] Updated node(0) last access: 190.3838 seconds
I0305 06:40:32.285843       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.285846       1 tree.go:471] Updated node(2) last access: 190.3838 seconds
I0305 06:40:32.285859       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:32.285863       1 tree.go:471] Updated node(26) last access: 190.3838 seconds
I0305 06:40:32.285874       1 tree.go:667] Split complete - New node(440)
I0305 06:40:32.285878       1 tree.go:668] Split complete - Child node(135)
I0305 06:40:32.285884       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:40:32.285889       1 tree.go:471] Updated node(440) last access: 190.3838 seconds
I0305 06:40:32.285894       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:32.285899       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:32.285905       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:32.285912       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.285917       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.285901548 +0000 UTC m=+190.502628420]
I0305 06:40:32.285932       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7482, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:32.285938       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:32.286050       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7482
I0305 06:40:32.286062       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.286074       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.286081       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.286088       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.286093       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.286102       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.286116       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.286130       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:32.286146       1 prefix_cache_and_load.go:584] latency, Route, 1.4210
I0305 06:40:32.286165       1 gateway.go:415] latency, selectTargetPod, 1.4211, target pod, 10.0.3.41:8000
I0305 06:40:32.286181       1 gateway.go:235] latency, HandleRequestBody, 1.4215
I0305 06:40:32.286215       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4211
I0305 06:40:32.286221       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.286224       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.286449       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.286529       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:32.286535       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.287357       1 gateway.go:608] "First token received" requestID="a03acc0a-e6bc-4350-ab3c-80256d737d84" ttft_ms=1422
I0305 06:40:32.302866       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2f420055-fe94-4d22-8bbb-fb35d01345e6"
I0305 06:40:32.336151       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0496, numInputTokens, 7601
I0305 06:40:32.336169       1 tree.go:471] Updated node(0) last access: 190.4341 seconds
I0305 06:40:32.336175       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.336178       1 tree.go:471] Updated node(2) last access: 190.4341 seconds
I0305 06:40:32.336191       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:32.336195       1 tree.go:471] Updated node(23) last access: 190.4341 seconds
I0305 06:40:32.336204       1 tree.go:667] Split complete - New node(442)
I0305 06:40:32.336208       1 tree.go:668] Split complete - Child node(15)
I0305 06:40:32.336213       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 06:40:32.336218       1 tree.go:471] Updated node(442) last access: 190.4342 seconds
I0305 06:40:32.336223       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:40:32.336227       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:32.336233       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:32.336239       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.336244       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.336229187 +0000 UTC m=+190.552956052]
I0305 06:40:32.336259       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7483, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:40:32.336266       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:40:32.336353       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7483
I0305 06:40:32.336363       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.336370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.336375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.336378       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.336385       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.336388       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.336398       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.336407       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:32.336416       1 prefix_cache_and_load.go:584] latency, Route, 1.4713
I0305 06:40:32.336432       1 gateway.go:415] latency, selectTargetPod, 1.4713, target pod, 10.0.3.42:8000
I0305 06:40:32.336443       1 gateway.go:235] latency, HandleRequestBody, 1.4755
I0305 06:40:32.336470       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.4713
I0305 06:40:32.336476       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.336479       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.336667       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.336727       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:32.336732       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.346601       1 gateway.go:608] "First token received" requestID="2f420055-fe94-4d22-8bbb-fb35d01345e6" ttft_ms=1481
I0305 06:40:32.355908       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4dd62176-d087-48d6-abdc-0593131eedb8"
I0305 06:40:32.367287       1 gateway.go:562] latency, 0.0000, summary, hash(request), dcc14bf4, selectedpod, 10.0.0.34:8000, ttft, 1294, tpot, 23, e2e, 1503, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:32.367306       1 gateway.go:748] "Request completed" requestID="3520dd58-6e89-4019-ae7a-50e171a16d26" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:32.367315       1 gateway.go:764] "HandleResponseBody completed" requestID="3520dd58-6e89-4019-ae7a-50e171a16d26" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:32.372451       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6139fd6c, selectedpod, 10.0.0.131:8000, ttft, 1335, tpot, 19, e2e, 1507, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:32.372466       1 gateway.go:748] "Request completed" requestID="5654434c-e791-4e3d-9607-7f08de1644b9" targetPod="10.0.0.131:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:32.372473       1 gateway.go:764] "HandleResponseBody completed" requestID="5654434c-e791-4e3d-9607-7f08de1644b9" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:32.399735       1 gateway.go:608] "First token received" requestID="4dd62176-d087-48d6-abdc-0593131eedb8" ttft_ms=1538
I0305 06:40:32.416267       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0795, numInputTokens, 7601
I0305 06:40:32.416289       1 tree.go:471] Updated node(0) last access: 190.5142 seconds
I0305 06:40:32.416295       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.416299       1 tree.go:471] Updated node(2) last access: 190.5142 seconds
I0305 06:40:32.416311       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:32.416314       1 tree.go:471] Updated node(23) last access: 190.5143 seconds
I0305 06:40:32.416318       1 tree.go:490] Partial tokens match child node(80). Continue to go deeper in the radix tree
I0305 06:40:32.416324       1 tree.go:471] Updated node(80) last access: 190.5143 seconds
I0305 06:40:32.416327       1 tree.go:490] Partial tokens match child node(248). Continue to go deeper in the radix tree
I0305 06:40:32.416330       1 tree.go:471] Updated node(248) last access: 190.5143 seconds
I0305 06:40:32.416334       1 tree.go:490] Partial tokens match child node(316). Continue to go deeper in the radix tree
I0305 06:40:32.416337       1 tree.go:471] Updated node(316) last access: 190.5143 seconds
I0305 06:40:32.416341       1 tree.go:484] Entire input tokens match the child node(317)
I0305 06:40:32.416344       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:32.416353       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:32.416360       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.416365       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.416346975 +0000 UTC m=+190.633073846 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:40:06.047770879 +0000 UTC m=+164.264497744]
I0305 06:40:32.416388       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:32.416396       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:32.416538       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7601
I0305 06:40:32.416549       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.416556       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.416562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.416566       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.416574       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.416579       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.416583       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.416587       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.416595       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.416606       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:32.416622       1 prefix_cache_and_load.go:584] latency, Route, 1.5514
I0305 06:40:32.416639       1 gateway.go:415] latency, selectTargetPod, 1.5515, target pod, 10.0.3.42:8000
I0305 06:40:32.416709       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.5515
I0305 06:40:32.416727       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.416731       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.416712       1 gateway.go:235] latency, HandleRequestBody, 1.5533
I0305 06:40:32.417121       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.417223       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:32.417230       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.432826       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7b9270c1-2921-469c-8410-f8bc7f1221f9"
I0305 06:40:32.464430       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6bf628b4, selectedpod, 10.0.0.34:8000, ttft, 1422, tpot, 19, e2e, 1599, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:32.464450       1 gateway.go:748] "Request completed" requestID="a03acc0a-e6bc-4350-ab3c-80256d737d84" targetPod="10.0.0.34:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:32.464461       1 gateway.go:764] "HandleResponseBody completed" requestID="a03acc0a-e6bc-4350-ab3c-80256d737d84" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:32.468597       1 gateway.go:608] "First token received" requestID="7b9270c1-2921-469c-8410-f8bc7f1221f9" ttft_ms=1603
I0305 06:40:32.489755       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0725, numInputTokens, 7601
I0305 06:40:32.489771       1 tree.go:471] Updated node(0) last access: 190.5877 seconds
I0305 06:40:32.489776       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.489779       1 tree.go:471] Updated node(2) last access: 190.5877 seconds
I0305 06:40:32.489793       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:32.489795       1 tree.go:471] Updated node(18) last access: 190.5877 seconds
I0305 06:40:32.489804       1 tree.go:667] Split complete - New node(444)
I0305 06:40:32.489809       1 tree.go:668] Split complete - Child node(330)
I0305 06:40:32.489814       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 06:40:32.489820       1 tree.go:471] Updated node(444) last access: 190.5878 seconds
I0305 06:40:32.489825       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0305 06:40:32.489830       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:32.489836       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:32.489842       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.489847       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.489832239 +0000 UTC m=+190.706559103]
I0305 06:40:32.489860       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7489, Matching ratio: 0.9853, # Matched pods: 0, Matched pods: []
I0305 06:40:32.489867       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9853 > 0.5000)
I0305 06:40:32.489932       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7489
I0305 06:40:32.489941       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.489948       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.489954       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.489958       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.489962       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.489966       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.489983       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.489992       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:32.489999       1 prefix_cache_and_load.go:584] latency, Route, 1.6248
I0305 06:40:32.490014       1 gateway.go:415] latency, selectTargetPod, 1.6248, target pod, 10.0.0.131:8000
I0305 06:40:32.490024       1 gateway.go:235] latency, HandleRequestBody, 1.6271
I0305 06:40:32.490029       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6248
I0305 06:40:32.490043       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.490048       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.490313       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.490390       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:32.490396       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.508486       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2b221e0a-86df-436a-902a-a6d44aabcd86"
I0305 06:40:32.519616       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9a2e06c3, selectedpod, 10.0.3.41:8000, ttft, 1481, tpot, 19, e2e, 1654, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:32.519636       1 gateway.go:748] "Request completed" requestID="2f420055-fe94-4d22-8bbb-fb35d01345e6" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:32.519646       1 gateway.go:764] "HandleResponseBody completed" requestID="2f420055-fe94-4d22-8bbb-fb35d01345e6" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:32.543226       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0528, numInputTokens, 7600
I0305 06:40:32.543247       1 tree.go:471] Updated node(0) last access: 190.6412 seconds
I0305 06:40:32.543254       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.543257       1 tree.go:471] Updated node(2) last access: 190.6412 seconds
I0305 06:40:32.543270       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:32.543274       1 tree.go:471] Updated node(45) last access: 190.6412 seconds
I0305 06:40:32.543278       1 tree.go:490] Partial tokens match child node(221). Continue to go deeper in the radix tree
I0305 06:40:32.543281       1 tree.go:471] Updated node(221) last access: 190.6412 seconds
I0305 06:40:32.543286       1 tree.go:484] Entire input tokens match the child node(329)
I0305 06:40:32.543291       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:32.543298       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:32.543305       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.543311       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.543292957 +0000 UTC m=+190.760019834 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:09.450694335 +0000 UTC m=+167.667421199]
I0305 06:40:32.543332       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:32.543341       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:32.543486       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7600
I0305 06:40:32.543501       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:40:32.543532       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.543544       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.543549       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.543555       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.543565       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.543578       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.543593       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:32.543608       1 prefix_cache_and_load.go:584] latency, Route, 1.6784
I0305 06:40:32.543634       1 gateway.go:415] latency, selectTargetPod, 1.6784, target pod, 10.0.0.34:8000
I0305 06:40:32.543649       1 gateway.go:235] latency, HandleRequestBody, 1.6789
I0305 06:40:32.543650       1 gateway.go:608] "First token received" requestID="2b221e0a-86df-436a-902a-a6d44aabcd86" ttft_ms=1679
I0305 06:40:32.543699       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.6785
I0305 06:40:32.543707       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.543711       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.544034       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.544178       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:32.544184       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.560961       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7f56a2fc-53ba-4f5d-a7c0-5ef86d0e534e"
I0305 06:40:32.591437       1 gateway.go:608] "First token received" requestID="7f56a2fc-53ba-4f5d-a7c0-5ef86d0e534e" ttft_ms=1726
I0305 06:40:32.608590       1 gateway.go:562] latency, 0.0000, summary, hash(request), 60df441a, selectedpod, 10.0.3.42:8000, ttft, 1538, tpot, 23, e2e, 1747, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:32.608612       1 gateway.go:748] "Request completed" requestID="4dd62176-d087-48d6-abdc-0593131eedb8" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:32.608624       1 gateway.go:764] "HandleResponseBody completed" requestID="4dd62176-d087-48d6-abdc-0593131eedb8" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:32.627618       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0834, numInputTokens, 7600
I0305 06:40:32.627634       1 tree.go:471] Updated node(0) last access: 190.7256 seconds
I0305 06:40:32.627641       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.627646       1 tree.go:471] Updated node(2) last access: 190.7256 seconds
I0305 06:40:32.627657       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:32.627661       1 tree.go:471] Updated node(51) last access: 190.7256 seconds
I0305 06:40:32.627665       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:40:32.627667       1 tree.go:471] Updated node(123) last access: 190.7256 seconds
I0305 06:40:32.627671       1 tree.go:490] Partial tokens match child node(168). Continue to go deeper in the radix tree
I0305 06:40:32.627673       1 tree.go:471] Updated node(168) last access: 190.7256 seconds
I0305 06:40:32.627683       1 tree.go:667] Split complete - New node(446)
I0305 06:40:32.627688       1 tree.go:668] Split complete - Child node(124)
I0305 06:40:32.627693       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 06:40:32.627698       1 tree.go:471] Updated node(446) last access: 190.7256 seconds
I0305 06:40:32.627703       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0305 06:40:32.627707       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:32.627714       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:32.627719       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.627724       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.627709246 +0000 UTC m=+190.844436111]
I0305 06:40:32.627738       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7491, Matching ratio: 0.9857, # Matched pods: 0, Matched pods: []
I0305 06:40:32.627744       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9857 > 0.5000)
I0305 06:40:32.627809       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7491
I0305 06:40:32.627819       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.627826       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.627833       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.627838       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.627843       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.627848       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.627853       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.627858       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.627870       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.627881       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:32.627891       1 prefix_cache_and_load.go:584] latency, Route, 1.7627
I0305 06:40:32.627906       1 gateway.go:415] latency, selectTargetPod, 1.7627, target pod, 10.0.1.28:8000
I0305 06:40:32.627916       1 gateway.go:235] latency, HandleRequestBody, 1.7632
I0305 06:40:32.627946       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.7627
I0305 06:40:32.627952       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.627956       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.628168       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.628237       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:32.628242       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.647687       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c93f6b3c-c06a-4cce-9185-07e01b052c28"
I0305 06:40:32.648345       1 gateway.go:562] latency, 0.0000, summary, hash(request), df84980f, selectedpod, 10.0.3.42:8000, ttft, 1603, tpot, 19, e2e, 1783, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:32.648361       1 gateway.go:748] "Request completed" requestID="7b9270c1-2921-469c-8410-f8bc7f1221f9" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:32.648372       1 gateway.go:764] "HandleResponseBody completed" requestID="7b9270c1-2921-469c-8410-f8bc7f1221f9" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:32.683528       1 gateway.go:608] "First token received" requestID="c93f6b3c-c06a-4cce-9185-07e01b052c28" ttft_ms=1818
I0305 06:40:32.683538       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0553, numInputTokens, 7598
I0305 06:40:32.683548       1 tree.go:471] Updated node(0) last access: 190.7815 seconds
I0305 06:40:32.683554       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.683558       1 tree.go:471] Updated node(2) last access: 190.7815 seconds
I0305 06:40:32.683572       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:32.683574       1 tree.go:471] Updated node(12) last access: 190.7815 seconds
I0305 06:40:32.683578       1 tree.go:490] Partial tokens match child node(190). Continue to go deeper in the radix tree
I0305 06:40:32.683581       1 tree.go:471] Updated node(190) last access: 190.7815 seconds
I0305 06:40:32.683592       1 tree.go:667] Split complete - New node(448)
I0305 06:40:32.683598       1 tree.go:668] Split complete - Child node(7)
I0305 06:40:32.683603       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:40:32.683608       1 tree.go:471] Updated node(448) last access: 190.7815 seconds
I0305 06:40:32.683613       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:40:32.683619       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:32.683625       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:32.683631       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.683636       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.683620913 +0000 UTC m=+190.900347778]
I0305 06:40:32.683650       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7484, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:40:32.683656       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:40:32.683723       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7484
I0305 06:40:32.683732       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.683740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.683745       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.683748       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.683752       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.683755       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.683760       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.683768       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.683777       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:32.683787       1 prefix_cache_and_load.go:584] latency, Route, 1.8185
I0305 06:40:32.683800       1 gateway.go:415] latency, selectTargetPod, 1.8186, target pod, 10.0.0.39:8000
I0305 06:40:32.683809       1 gateway.go:235] latency, HandleRequestBody, 1.8191
I0305 06:40:32.683834       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8186
I0305 06:40:32.683839       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.683842       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.684016       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.684080       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:32.684085       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.703385       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="aa128181-b8c7-40c3-a5c1-e8a7bfffb2cf"
I0305 06:40:32.716255       1 gateway.go:562] latency, 0.0000, summary, hash(request), ffb8b9da, selectedpod, 10.0.0.131:8000, ttft, 1679, tpot, 19, e2e, 1852, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:32.716275       1 gateway.go:748] "Request completed" requestID="2b221e0a-86df-436a-902a-a6d44aabcd86" targetPod="10.0.0.131:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:32.716286       1 gateway.go:764] "HandleResponseBody completed" requestID="2b221e0a-86df-436a-902a-a6d44aabcd86" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:32.736399       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0523, numInputTokens, 7602
I0305 06:40:32.736420       1 tree.go:471] Updated node(0) last access: 190.8344 seconds
I0305 06:40:32.736426       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.736429       1 tree.go:471] Updated node(2) last access: 190.8344 seconds
I0305 06:40:32.736444       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:32.736446       1 tree.go:471] Updated node(8) last access: 190.8344 seconds
I0305 06:40:32.736450       1 tree.go:490] Partial tokens match child node(21). Continue to go deeper in the radix tree
I0305 06:40:32.736453       1 tree.go:471] Updated node(21) last access: 190.8344 seconds
I0305 06:40:32.736458       1 tree.go:484] Entire input tokens match the child node(325)
I0305 06:40:32.736462       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:40:32.736468       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:32.736476       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.736481       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.736464385 +0000 UTC m=+190.953191259 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:06.554106055 +0000 UTC m=+164.770832931]
I0305 06:40:32.736500       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:32.736506       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:32.736595       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7602
I0305 06:40:32.736605       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.736613       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.736619       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.736624       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.736630       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.736635       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.736644       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.736654       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:32.736664       1 prefix_cache_and_load.go:584] latency, Route, 1.8714
I0305 06:40:32.736679       1 gateway.go:415] latency, selectTargetPod, 1.8714, target pod, 10.0.1.53:8000
I0305 06:40:32.736692       1 gateway.go:235] latency, HandleRequestBody, 1.8720
I0305 06:40:32.736720       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.8714
I0305 06:40:32.736727       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.736730       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.736919       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.736994       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:32.737000       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.740105       1 gateway.go:608] "First token received" requestID="aa128181-b8c7-40c3-a5c1-e8a7bfffb2cf" ttft_ms=1875
I0305 06:40:32.756211       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1e65c624-ca9b-4236-b062-7b6bd9bd0bfa"
I0305 06:40:32.779195       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9535754c, selectedpod, 10.0.0.34:8000, ttft, 1726, tpot, 20, e2e, 1914, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:32.779239       1 gateway.go:748] "Request completed" requestID="7f56a2fc-53ba-4f5d-a7c0-5ef86d0e534e" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:32.779255       1 gateway.go:764] "HandleResponseBody completed" requestID="7f56a2fc-53ba-4f5d-a7c0-5ef86d0e534e" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:32.788423       1 gateway.go:608] "First token received" requestID="1e65c624-ca9b-4236-b062-7b6bd9bd0bfa" ttft_ms=1923
I0305 06:40:32.818677       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0817, numInputTokens, 7600
I0305 06:40:32.818697       1 tree.go:471] Updated node(0) last access: 190.9166 seconds
I0305 06:40:32.818703       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.818706       1 tree.go:471] Updated node(2) last access: 190.9166 seconds
I0305 06:40:32.818719       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:32.818722       1 tree.go:471] Updated node(18) last access: 190.9167 seconds
I0305 06:40:32.818731       1 tree.go:667] Split complete - New node(450)
I0305 06:40:32.818736       1 tree.go:668] Split complete - Child node(73)
I0305 06:40:32.818741       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 06:40:32.818748       1 tree.go:471] Updated node(450) last access: 190.9167 seconds
I0305 06:40:32.818755       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0305 06:40:32.818762       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:32.818770       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:32.818778       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.818786       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.818764802 +0000 UTC m=+191.035491670]
I0305 06:40:32.818806       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7482, Matching ratio: 0.9845, # Matched pods: 0, Matched pods: []
I0305 06:40:32.818816       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9845 > 0.5000)
I0305 06:40:32.818911       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7482
I0305 06:40:32.818923       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.818935       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.818942       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.818948       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.818953       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.818962       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.818985       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.818998       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:32.819019       1 prefix_cache_and_load.go:584] latency, Route, 1.9537
I0305 06:40:32.819045       1 gateway.go:415] latency, selectTargetPod, 1.9538, target pod, 10.0.0.131:8000
I0305 06:40:32.819058       1 gateway.go:235] latency, HandleRequestBody, 1.9543
I0305 06:40:32.819104       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.9538
I0305 06:40:32.819117       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.819120       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.819378       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.819456       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:32.819462       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.837804       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="17e76a5a-acf9-4d07-84a8-8a3ede7913eb"
I0305 06:40:32.856587       1 gateway.go:562] latency, 0.0000, summary, hash(request), b042def0, selectedpod, 10.0.1.28:8000, ttft, 1818, tpot, 19, e2e, 1991, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:32.856611       1 gateway.go:748] "Request completed" requestID="c93f6b3c-c06a-4cce-9185-07e01b052c28" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:32.856626       1 gateway.go:764] "HandleResponseBody completed" requestID="c93f6b3c-c06a-4cce-9185-07e01b052c28" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:32.880444       1 gateway.go:608] "First token received" requestID="17e76a5a-acf9-4d07-84a8-8a3ede7913eb" ttft_ms=2015
I0305 06:40:32.896828       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0774, numInputTokens, 7597
I0305 06:40:32.896844       1 tree.go:471] Updated node(0) last access: 190.9948 seconds
I0305 06:40:32.896850       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.896854       1 tree.go:471] Updated node(2) last access: 190.9948 seconds
I0305 06:40:32.896866       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:32.896871       1 tree.go:471] Updated node(23) last access: 190.9948 seconds
I0305 06:40:32.896878       1 tree.go:667] Split complete - New node(452)
I0305 06:40:32.896882       1 tree.go:668] Split complete - Child node(373)
I0305 06:40:32.896887       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:40:32.896892       1 tree.go:471] Updated node(452) last access: 190.9948 seconds
I0305 06:40:32.896897       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:32.896903       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:32.896910       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:32.896919       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.896926       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.89690575 +0000 UTC m=+191.113632625]
I0305 06:40:32.896940       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7481, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:32.896947       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:32.897037       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7481
I0305 06:40:32.897046       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.897053       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.897059       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.897064       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.897070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.897074       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.897083       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.897091       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:32.897101       1 prefix_cache_and_load.go:584] latency, Route, 2.0318
I0305 06:40:32.897116       1 gateway.go:415] latency, selectTargetPod, 2.0318, target pod, 10.0.3.42:8000
I0305 06:40:32.897124       1 gateway.go:235] latency, HandleRequestBody, 2.0322
I0305 06:40:32.897175       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.0319
I0305 06:40:32.897180       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.897183       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.897362       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.897428       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:32.897433       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:32.913475       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2271778d, selectedpod, 10.0.0.39:8000, ttft, 1875, tpot, 19, e2e, 2048, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:32.913501       1 gateway.go:748] "Request completed" requestID="aa128181-b8c7-40c3-a5c1-e8a7bfffb2cf" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:32.913522       1 gateway.go:764] "HandleResponseBody completed" requestID="aa128181-b8c7-40c3-a5c1-e8a7bfffb2cf" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:32.913863       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="30cc04a9-963d-4e6a-a1a3-ffc728dae681"
I0305 06:40:32.961366       1 gateway.go:562] latency, 0.0000, summary, hash(request), cb96da21, selectedpod, 10.0.1.53:8000, ttft, 1923, tpot, 19, e2e, 2096, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:32.961388       1 gateway.go:748] "Request completed" requestID="1e65c624-ca9b-4236-b062-7b6bd9bd0bfa" targetPod="10.0.1.53:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:32.961399       1 gateway.go:764] "HandleResponseBody completed" requestID="1e65c624-ca9b-4236-b062-7b6bd9bd0bfa" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:32.978614       1 gateway.go:608] "First token received" requestID="30cc04a9-963d-4e6a-a1a3-ffc728dae681" ttft_ms=2113
I0305 06:40:32.982932       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0855, numInputTokens, 7599
I0305 06:40:32.982950       1 tree.go:471] Updated node(0) last access: 191.0809 seconds
I0305 06:40:32.982956       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:32.982960       1 tree.go:471] Updated node(2) last access: 191.0809 seconds
I0305 06:40:32.982978       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:32.982984       1 tree.go:471] Updated node(12) last access: 191.0809 seconds
I0305 06:40:32.982990       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0305 06:40:32.982995       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:32.983002       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:32.983009       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:32.983013       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:32.982997795 +0000 UTC m=+191.199724669]
I0305 06:40:32.983029       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7478, Matching ratio: 0.9841, # Matched pods: 0, Matched pods: []
I0305 06:40:32.983037       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9841 > 0.5000)
I0305 06:40:32.983108       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7478
I0305 06:40:32.983117       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:32.983124       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.983132       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.983137       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.983141       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:32.983149       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:32.983158       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:32.983168       1 prefix_cache_and_load.go:584] latency, Route, 2.1179
I0305 06:40:32.983184       1 gateway.go:415] latency, selectTargetPod, 2.1179, target pod, 10.0.0.39:8000
I0305 06:40:32.983197       1 gateway.go:235] latency, HandleRequestBody, 2.1184
I0305 06:40:32.983200       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1179
I0305 06:40:32.983210       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:32.983217       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:32.983581       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:32.983679       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:32.983686       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.003062       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d9a2a3cf-06a5-4f7c-af3e-8f1bfe1a7269"
I0305 06:40:33.035488       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0518, numInputTokens, 7597
I0305 06:40:33.035504       1 tree.go:471] Updated node(0) last access: 191.1334 seconds
I0305 06:40:33.035519       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.035523       1 tree.go:471] Updated node(2) last access: 191.1335 seconds
I0305 06:40:33.035536       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:33.035541       1 tree.go:471] Updated node(4) last access: 191.1335 seconds
I0305 06:40:33.035550       1 tree.go:667] Split complete - New node(455)
I0305 06:40:33.035555       1 tree.go:668] Split complete - Child node(38)
I0305 06:40:33.035560       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:40:33.035565       1 tree.go:471] Updated node(455) last access: 191.1335 seconds
I0305 06:40:33.035571       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:33.035577       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:33.035582       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:33.035587       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:33.035593       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.035578759 +0000 UTC m=+191.252305624]
I0305 06:40:33.035609       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7480, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:33.035617       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:33.035711       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7480
I0305 06:40:33.035723       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:33.035731       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.035737       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.035742       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.035751       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.035760       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.035774       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.035788       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:33.035804       1 prefix_cache_and_load.go:584] latency, Route, 2.1705
I0305 06:40:33.035823       1 gateway.go:415] latency, selectTargetPod, 2.1705, target pod, 10.0.1.47:8000
I0305 06:40:33.035838       1 gateway.go:235] latency, HandleRequestBody, 2.1726
I0305 06:40:33.035866       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.1705
I0305 06:40:33.035871       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.035875       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.036088       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.036165       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:33.036172       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.046387       1 gateway.go:608] "First token received" requestID="d9a2a3cf-06a5-4f7c-af3e-8f1bfe1a7269" ttft_ms=2181
I0305 06:40:33.053679       1 gateway.go:562] latency, 0.0000, summary, hash(request), 358e5d8f, selectedpod, 10.0.0.131:8000, ttft, 2015, tpot, 19, e2e, 2188, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:33.053701       1 gateway.go:748] "Request completed" requestID="17e76a5a-acf9-4d07-84a8-8a3ede7913eb" targetPod="10.0.0.131:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:33.053716       1 gateway.go:764] "HandleResponseBody completed" requestID="17e76a5a-acf9-4d07-84a8-8a3ede7913eb" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:33.056278       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="61cefd65-4aa1-4bef-9bc7-a9dd768c0a3e"
I0305 06:40:33.092607       1 gateway.go:608] "First token received" requestID="61cefd65-4aa1-4bef-9bc7-a9dd768c0a3e" ttft_ms=2227
I0305 06:40:33.119031       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0829, numInputTokens, 7599
I0305 06:40:33.119048       1 tree.go:471] Updated node(0) last access: 191.2170 seconds
I0305 06:40:33.119054       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.119058       1 tree.go:471] Updated node(2) last access: 191.2170 seconds
I0305 06:40:33.119072       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:33.119074       1 tree.go:471] Updated node(26) last access: 191.2170 seconds
I0305 06:40:33.119084       1 tree.go:667] Split complete - New node(457)
I0305 06:40:33.119090       1 tree.go:668] Split complete - Child node(212)
I0305 06:40:33.119095       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:40:33.119099       1 tree.go:471] Updated node(457) last access: 191.2170 seconds
I0305 06:40:33.119104       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0305 06:40:33.119109       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:33.119115       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:33.119122       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:33.119126       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.119111136 +0000 UTC m=+191.335838000]
I0305 06:40:33.119141       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7489, Matching ratio: 0.9855, # Matched pods: 0, Matched pods: []
I0305 06:40:33.119148       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9855 > 0.5000)
I0305 06:40:33.119222       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7489
I0305 06:40:33.119231       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:33.119238       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.119245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.119249       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.119253       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.119260       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.119268       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.119278       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:33.119286       1 prefix_cache_and_load.go:584] latency, Route, 2.2539
I0305 06:40:33.119302       1 gateway.go:415] latency, selectTargetPod, 2.2539, target pod, 10.0.3.41:8000
I0305 06:40:33.119313       1 gateway.go:235] latency, HandleRequestBody, 2.2544
I0305 06:40:33.119342       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.2539
I0305 06:40:33.119346       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.119349       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.119537       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.119598       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:33.119603       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.129856       1 gateway.go:562] latency, 0.0001, summary, hash(request), 64983be1, selectedpod, 10.0.3.42:8000, ttft, 2113, tpot, 16, e2e, 2264, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:33.129885       1 gateway.go:748] "Request completed" requestID="30cc04a9-963d-4e6a-a1a3-ffc728dae681" targetPod="10.0.3.42:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:33.129898       1 gateway.go:764] "HandleResponseBody completed" requestID="30cc04a9-963d-4e6a-a1a3-ffc728dae681" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:33.135737       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4e523569-e278-4f32-8c1c-bd6639cf6fb1"
I0305 06:40:33.171835       1 gateway.go:608] "First token received" requestID="4e523569-e278-4f32-8c1c-bd6639cf6fb1" ttft_ms=2306
I0305 06:40:33.221808       1 gateway.go:562] latency, 0.0001, summary, hash(request), 96c87e61, selectedpod, 10.0.0.39:8000, ttft, 2181, tpot, 19, e2e, 2356, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:33.221829       1 gateway.go:748] "Request completed" requestID="d9a2a3cf-06a5-4f7c-af3e-8f1bfe1a7269" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:33.221841       1 gateway.go:764] "HandleResponseBody completed" requestID="d9a2a3cf-06a5-4f7c-af3e-8f1bfe1a7269" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:33.223117       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.1035, numInputTokens, 7599
I0305 06:40:33.223142       1 tree.go:471] Updated node(0) last access: 191.3211 seconds
I0305 06:40:33.223150       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.223156       1 tree.go:471] Updated node(2) last access: 191.3211 seconds
I0305 06:40:33.223176       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:33.223182       1 tree.go:471] Updated node(26) last access: 191.3211 seconds
I0305 06:40:33.223189       1 tree.go:484] Entire input tokens match the child node(333)
I0305 06:40:33.223193       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:33.223202       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:33.223211       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:33.223218       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.223196813 +0000 UTC m=+191.439923696 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:40:09.714813106 +0000 UTC m=+167.931539972]
I0305 06:40:33.223242       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:33.223252       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:33.223410       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7599
I0305 06:40:33.223424       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:40:33.223435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.223444       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.223449       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.223456       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.223467       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.223480       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:33.223496       1 prefix_cache_and_load.go:584] latency, Route, 2.3580
I0305 06:40:33.223523       1 gateway.go:415] latency, selectTargetPod, 2.3580, target pod, 10.0.3.41:8000
I0305 06:40:33.223540       1 gateway.go:235] latency, HandleRequestBody, 2.3584
I0305 06:40:33.223569       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.3580
I0305 06:40:33.223576       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.223580       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.223819       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.223894       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:33.223901       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.239293       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="03d31bd7-49b5-4eb9-b41a-94ca30063a10"
I0305 06:40:33.265658       1 gateway.go:562] latency, 0.0000, summary, hash(request), a9bc7375, selectedpod, 10.0.1.47:8000, ttft, 2227, tpot, 19, e2e, 2400, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:33.265685       1 gateway.go:748] "Request completed" requestID="61cefd65-4aa1-4bef-9bc7-a9dd768c0a3e" targetPod="10.0.1.47:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:33.265697       1 gateway.go:764] "HandleResponseBody completed" requestID="61cefd65-4aa1-4bef-9bc7-a9dd768c0a3e" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:33.277773       1 gateway.go:608] "First token received" requestID="03d31bd7-49b5-4eb9-b41a-94ca30063a10" ttft_ms=2412
I0305 06:40:33.311522       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0876, numInputTokens, 7599
I0305 06:40:33.311541       1 tree.go:471] Updated node(0) last access: 191.4095 seconds
I0305 06:40:33.311547       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.311550       1 tree.go:471] Updated node(2) last access: 191.4095 seconds
I0305 06:40:33.311563       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:33.311568       1 tree.go:471] Updated node(45) last access: 191.4095 seconds
I0305 06:40:33.311572       1 tree.go:490] Partial tokens match child node(221). Continue to go deeper in the radix tree
I0305 06:40:33.311574       1 tree.go:471] Updated node(221) last access: 191.4095 seconds
I0305 06:40:33.311579       1 tree.go:484] Entire input tokens match the child node(338)
I0305 06:40:33.311585       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:33.311591       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:33.311599       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:33.311604       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.311587147 +0000 UTC m=+191.528314011 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:10.022557884 +0000 UTC m=+168.239284749]
I0305 06:40:33.311622       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:33.311628       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:33.311718       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:40:33.311734       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:33.311742       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.311746       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.311749       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.311753       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.311757       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.311765       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.311774       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:33.311785       1 prefix_cache_and_load.go:584] latency, Route, 2.4462
I0305 06:40:33.311800       1 gateway.go:415] latency, selectTargetPod, 2.4462, target pod, 10.0.0.34:8000
I0305 06:40:33.311812       1 gateway.go:235] latency, HandleRequestBody, 2.4478
I0305 06:40:33.311840       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.4463
I0305 06:40:33.311844       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.311847       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.312101       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.312162       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:33.312167       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.333163       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d452fe44-1961-4ff0-9e9a-ab0887252f4a"
I0305 06:40:33.360945       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 7602
I0305 06:40:33.360960       1 tree.go:471] Updated node(0) last access: 191.4589 seconds
I0305 06:40:33.360966       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.360977       1 tree.go:471] Updated node(2) last access: 191.4589 seconds
I0305 06:40:33.360992       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:33.360998       1 tree.go:471] Updated node(31) last access: 191.4589 seconds
I0305 06:40:33.361001       1 tree.go:490] Partial tokens match child node(217). Continue to go deeper in the radix tree
I0305 06:40:33.361003       1 tree.go:471] Updated node(217) last access: 191.4589 seconds
I0305 06:40:33.361011       1 tree.go:667] Split complete - New node(459)
I0305 06:40:33.361014       1 tree.go:668] Split complete - Child node(150)
I0305 06:40:33.361020       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0305 06:40:33.361023       1 tree.go:471] Updated node(459) last access: 191.4590 seconds
I0305 06:40:33.361029       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:33.361034       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:33.361041       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:33.361047       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:33.361053       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.361036143 +0000 UTC m=+191.577763007]
I0305 06:40:33.361069       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7485, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:33.361075       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:33.361150       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7485
I0305 06:40:33.361159       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:33.361166       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.361172       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.361180       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.361186       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.361191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.361200       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.361212       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.361224       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:33.361241       1 prefix_cache_and_load.go:584] latency, Route, 2.4956
I0305 06:40:33.361282       1 gateway.go:415] latency, selectTargetPod, 2.4957, target pod, 10.0.1.28:8000
I0305 06:40:33.361294       1 gateway.go:235] latency, HandleRequestBody, 2.4963
I0305 06:40:33.361323       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.4957
I0305 06:40:33.361336       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.361340       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.361551       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.361614       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:33.361621       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.364755       1 gateway.go:608] "First token received" requestID="d452fe44-1961-4ff0-9e9a-ab0887252f4a" ttft_ms=2500
I0305 06:40:33.378609       1 gateway.go:562] latency, 0.0001, summary, hash(request), 9cfc92ee, selectedpod, 10.0.3.41:8000, ttft, 2306, tpot, 22, e2e, 2513, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:33.378630       1 gateway.go:748] "Request completed" requestID="4e523569-e278-4f32-8c1c-bd6639cf6fb1" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:33.378642       1 gateway.go:764] "HandleResponseBody completed" requestID="4e523569-e278-4f32-8c1c-bd6639cf6fb1" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:33.381179       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="18bcb57a-90e8-43a6-8a53-30e2e536f41c"
I0305 06:40:33.417435       1 gateway.go:608] "First token received" requestID="18bcb57a-90e8-43a6-8a53-30e2e536f41c" ttft_ms=2552
I0305 06:40:33.423868       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0622, numInputTokens, 7601
I0305 06:40:33.423888       1 tree.go:471] Updated node(0) last access: 191.5218 seconds
I0305 06:40:33.423894       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.423897       1 tree.go:471] Updated node(2) last access: 191.5218 seconds
I0305 06:40:33.423910       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:33.423914       1 tree.go:471] Updated node(12) last access: 191.5219 seconds
I0305 06:40:33.423925       1 tree.go:667] Split complete - New node(461)
I0305 06:40:33.423929       1 tree.go:668] Split complete - Child node(454)
I0305 06:40:33.423933       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0305 06:40:33.423939       1 tree.go:471] Updated node(461) last access: 191.5219 seconds
I0305 06:40:33.423946       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0305 06:40:33.423951       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:33.423960       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:33.423966       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:33.423980       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.423954895 +0000 UTC m=+191.640681762]
I0305 06:40:33.424000       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7482, Matching ratio: 0.9843, # Matched pods: 0, Matched pods: []
I0305 06:40:33.424011       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9843 > 0.5000)
I0305 06:40:33.424105       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7482
I0305 06:40:33.424114       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:33.424122       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.424127       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.424131       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.424136       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.424142       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.424151       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.424165       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:33.424181       1 prefix_cache_and_load.go:584] latency, Route, 2.5585
I0305 06:40:33.424199       1 gateway.go:415] latency, selectTargetPod, 2.5585, target pod, 10.0.0.39:8000
I0305 06:40:33.424216       1 gateway.go:235] latency, HandleRequestBody, 2.5591
I0305 06:40:33.424249       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.5585
I0305 06:40:33.424255       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.424258       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.424476       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.424558       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:33.424564       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.446589       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d9ad6f41-baac-4ac3-8a1d-75bcff88634f"
I0305 06:40:33.456391       1 gateway.go:562] latency, 0.0000, summary, hash(request), b398fcb2, selectedpod, 10.0.3.41:8000, ttft, 2412, tpot, 19, e2e, 2591, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:33.456410       1 gateway.go:748] "Request completed" requestID="03d31bd7-49b5-4eb9-b41a-94ca30063a10" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:33.456419       1 gateway.go:764] "HandleResponseBody completed" requestID="03d31bd7-49b5-4eb9-b41a-94ca30063a10" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:33.490393       1 gateway.go:608] "First token received" requestID="d9ad6f41-baac-4ac3-8a1d-75bcff88634f" ttft_ms=2625
I0305 06:40:33.510134       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0856, numInputTokens, 7595
I0305 06:40:33.510153       1 tree.go:471] Updated node(0) last access: 191.6081 seconds
I0305 06:40:33.510159       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.510162       1 tree.go:471] Updated node(2) last access: 191.6081 seconds
I0305 06:40:33.510175       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:33.510182       1 tree.go:471] Updated node(51) last access: 191.6081 seconds
I0305 06:40:33.510186       1 tree.go:490] Partial tokens match child node(389). Continue to go deeper in the radix tree
I0305 06:40:33.510189       1 tree.go:471] Updated node(389) last access: 191.6081 seconds
I0305 06:40:33.510193       1 tree.go:490] Partial tokens match child node(331). Continue to go deeper in the radix tree
I0305 06:40:33.510197       1 tree.go:471] Updated node(331) last access: 191.6081 seconds
I0305 06:40:33.510203       1 tree.go:484] Entire input tokens match the child node(332)
I0305 06:40:33.510207       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:40:33.510217       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:33.510226       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:33.510234       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.510210234 +0000 UTC m=+191.726937103 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:09.621486327 +0000 UTC m=+167.838213192]
I0305 06:40:33.510256       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7595, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:33.510267       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:33.510347       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7595
I0305 06:40:33.510359       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:33.510370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.510380       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.510388       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.510394       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.510403       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.510409       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.510419       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.510432       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:33.510448       1 prefix_cache_and_load.go:584] latency, Route, 2.6447
I0305 06:40:33.510464       1 gateway.go:415] latency, selectTargetPod, 2.6447, target pod, 10.0.1.28:8000
I0305 06:40:33.510476       1 gateway.go:235] latency, HandleRequestBody, 2.6454
I0305 06:40:33.510509       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.6447
I0305 06:40:33.510524       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.510528       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.510717       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.510791       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:33.510796       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.529575       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="54bc1deb-6686-435c-9d28-5cd9201ea1fe"
I0305 06:40:33.537412       1 gateway.go:562] latency, 0.0001, summary, hash(request), 30e705c5, selectedpod, 10.0.0.34:8000, ttft, 2500, tpot, 19, e2e, 2673, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:33.537432       1 gateway.go:748] "Request completed" requestID="d452fe44-1961-4ff0-9e9a-ab0887252f4a" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:33.537443       1 gateway.go:764] "HandleResponseBody completed" requestID="d452fe44-1961-4ff0-9e9a-ab0887252f4a" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:33.561402       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0506, numInputTokens, 7598
I0305 06:40:33.561435       1 tree.go:471] Updated node(0) last access: 191.6594 seconds
I0305 06:40:33.561444       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.561494       1 tree.go:471] Updated node(2) last access: 191.6594 seconds
I0305 06:40:33.561537       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:33.561550       1 tree.go:471] Updated node(51) last access: 191.6595 seconds
I0305 06:40:33.561559       1 tree.go:484] Entire input tokens match the child node(320)
I0305 06:40:33.561563       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:33.561572       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:33.561587       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0305 06:40:33.561595       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.561566225 +0000 UTC m=+191.778293098 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:06.244370045 +0000 UTC m=+164.461096909]
I0305 06:40:33.561635       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:33.561645       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:33.561864       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7598
I0305 06:40:33.561882       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:40:33.561894       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.561904       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.561909       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.561917       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.561929       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.561948       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:33.561965       1 prefix_cache_and_load.go:584] latency, Route, 2.6961
I0305 06:40:33.561985       1 gateway.go:415] latency, selectTargetPod, 2.6962, target pod, 10.0.1.28:8000
I0305 06:40:33.562000       1 gateway.go:235] latency, HandleRequestBody, 2.6964
I0305 06:40:33.562032       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.6961
I0305 06:40:33.562036       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.562039       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.563064       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.563303       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0013
I0305 06:40:33.563316       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.580344       1 gateway.go:608] "First token received" requestID="54bc1deb-6686-435c-9d28-5cd9201ea1fe" ttft_ms=2715
I0305 06:40:33.580884       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f47324f7-c53d-42c0-879a-a3c6d8c7c9e3"
I0305 06:40:33.624318       1 gateway.go:608] "First token received" requestID="f47324f7-c53d-42c0-879a-a3c6d8c7c9e3" ttft_ms=2758
I0305 06:40:33.629526       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0662, numInputTokens, 7597
I0305 06:40:33.629545       1 tree.go:471] Updated node(0) last access: 191.7275 seconds
I0305 06:40:33.629552       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.629557       1 tree.go:471] Updated node(2) last access: 191.7275 seconds
I0305 06:40:33.629571       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:33.629574       1 tree.go:471] Updated node(8) last access: 191.7275 seconds
I0305 06:40:33.629578       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:40:33.629581       1 tree.go:471] Updated node(85) last access: 191.7275 seconds
I0305 06:40:33.629585       1 tree.go:490] Partial tokens match child node(408). Continue to go deeper in the radix tree
I0305 06:40:33.629588       1 tree.go:471] Updated node(408) last access: 191.7275 seconds
I0305 06:40:33.629592       1 tree.go:484] Entire input tokens match the child node(312)
I0305 06:40:33.629596       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:33.629603       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:33.629610       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:33.629614       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.629598199 +0000 UTC m=+191.846325070 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:05.721026697 +0000 UTC m=+163.937753562]
I0305 06:40:33.629631       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:33.629640       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:33.629707       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7597
I0305 06:40:33.629715       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:33.629722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.629729       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.629734       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.629738       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.629744       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.629750       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.629757       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.629765       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:33.629776       1 prefix_cache_and_load.go:584] latency, Route, 2.7639
I0305 06:40:33.629790       1 gateway.go:415] latency, selectTargetPod, 2.7639, target pod, 10.0.1.53:8000
I0305 06:40:33.629800       1 gateway.go:235] latency, HandleRequestBody, 2.7642
I0305 06:40:33.629830       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.7638
I0305 06:40:33.629835       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.629839       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.630033       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.630097       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:33.630102       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.679066       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a3a94eea-acc0-45f8-acb6-d87d01c7a5ff"
I0305 06:40:33.679226       1 gateway.go:562] latency, 0.0000, summary, hash(request), 45a5b76d, selectedpod, 10.0.1.28:8000, ttft, 2552, tpot, 29, e2e, 2814, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:33.679249       1 gateway.go:562] latency, 0.0000, summary, hash(request), f1dc16bd, selectedpod, 10.0.0.39:8000, ttft, 2625, tpot, 20, e2e, 2814, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:33.679273       1 gateway.go:748] "Request completed" requestID="d9ad6f41-baac-4ac3-8a1d-75bcff88634f" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:33.679280       1 gateway.go:748] "Request completed" requestID="18bcb57a-90e8-43a6-8a53-30e2e536f41c" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:33.679286       1 gateway.go:764] "HandleResponseBody completed" requestID="d9ad6f41-baac-4ac3-8a1d-75bcff88634f" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:33.679300       1 gateway.go:764] "HandleResponseBody completed" requestID="18bcb57a-90e8-43a6-8a53-30e2e536f41c" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:33.680774       1 gateway.go:608] "First token received" requestID="a3a94eea-acc0-45f8-acb6-d87d01c7a5ff" ttft_ms=2815
I0305 06:40:33.718705       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0886, numInputTokens, 7600
I0305 06:40:33.718724       1 tree.go:471] Updated node(0) last access: 191.8167 seconds
I0305 06:40:33.718730       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.718736       1 tree.go:471] Updated node(2) last access: 191.8167 seconds
I0305 06:40:33.718749       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:33.718755       1 tree.go:471] Updated node(18) last access: 191.8167 seconds
I0305 06:40:33.718765       1 tree.go:667] Split complete - New node(463)
I0305 06:40:33.718770       1 tree.go:668] Split complete - Child node(403)
I0305 06:40:33.718774       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0305 06:40:33.718780       1 tree.go:471] Updated node(463) last access: 191.8167 seconds
I0305 06:40:33.718785       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:40:33.718790       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:33.718796       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:33.718803       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:33.718807       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.718792223 +0000 UTC m=+191.935519088]
I0305 06:40:33.718821       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7485, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:40:33.718858       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:40:33.718978       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7485
I0305 06:40:33.718999       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:33.719008       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.719013       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.719020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.719025       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.719030       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.719039       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.719049       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:33.719060       1 prefix_cache_and_load.go:584] latency, Route, 2.8530
I0305 06:40:33.719074       1 gateway.go:415] latency, selectTargetPod, 2.8530, target pod, 10.0.0.131:8000
I0305 06:40:33.719084       1 gateway.go:235] latency, HandleRequestBody, 2.8533
I0305 06:40:33.719112       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.8530
I0305 06:40:33.719117       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.719119       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.719315       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.719376       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:33.719381       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.738111       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="81ee8cfa-5f49-4f62-852f-f8a037ac5a11"
I0305 06:40:33.766720       1 gateway.go:562] latency, 0.0000, summary, hash(request), 80ff0963, selectedpod, 10.0.1.28:8000, ttft, 2715, tpot, 20, e2e, 2901, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:40:33.766740       1 gateway.go:748] "Request completed" requestID="54bc1deb-6686-435c-9d28-5cd9201ea1fe" targetPod="10.0.1.28:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:40:33.766755       1 gateway.go:764] "HandleResponseBody completed" requestID="54bc1deb-6686-435c-9d28-5cd9201ea1fe" promptTokens=7614 completionTokens=10 stream=true
I0305 06:40:33.768468       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 7599
I0305 06:40:33.768485       1 tree.go:471] Updated node(0) last access: 191.8664 seconds
I0305 06:40:33.768491       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.768495       1 tree.go:471] Updated node(2) last access: 191.8664 seconds
I0305 06:40:33.768506       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:33.768520       1 tree.go:471] Updated node(51) last access: 191.8665 seconds
I0305 06:40:33.768525       1 tree.go:490] Partial tokens match child node(336). Continue to go deeper in the radix tree
I0305 06:40:33.768528       1 tree.go:471] Updated node(336) last access: 191.8665 seconds
I0305 06:40:33.768533       1 tree.go:484] Entire input tokens match the child node(337)
I0305 06:40:33.768537       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:33.768544       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:33.768551       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:33.768555       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.768539719 +0000 UTC m=+191.985266584 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:09.927113433 +0000 UTC m=+168.143840297]
I0305 06:40:33.768572       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:33.768580       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:33.768649       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7599
I0305 06:40:33.768658       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:33.768665       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.768670       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.768675       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.768681       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.768686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.768693       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.768701       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:33.768711       1 prefix_cache_and_load.go:584] latency, Route, 2.9026
I0305 06:40:33.768725       1 gateway.go:415] latency, selectTargetPod, 2.9026, target pod, 10.0.1.28:8000
I0305 06:40:33.768735       1 gateway.go:235] latency, HandleRequestBody, 2.9029
I0305 06:40:33.768763       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.9022
I0305 06:40:33.768768       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.768771       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.768942       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.769011       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:33.769017       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.774045       1 gateway.go:608] "First token received" requestID="81ee8cfa-5f49-4f62-852f-f8a037ac5a11" ttft_ms=2908
I0305 06:40:33.790725       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d287cab4-4ff6-4318-bde6-b414d9d75205"
I0305 06:40:33.815076       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6467654c, selectedpod, 10.0.1.28:8000, ttft, 2758, tpot, 21, e2e, 2949, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:33.815098       1 gateway.go:748] "Request completed" requestID="f47324f7-c53d-42c0-879a-a3c6d8c7c9e3" targetPod="10.0.1.28:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:33.815111       1 gateway.go:764] "HandleResponseBody completed" requestID="f47324f7-c53d-42c0-879a-a3c6d8c7c9e3" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:33.829110       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0601, numInputTokens, 7596
I0305 06:40:33.829128       1 tree.go:471] Updated node(0) last access: 191.9271 seconds
I0305 06:40:33.829134       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.829137       1 tree.go:471] Updated node(2) last access: 191.9271 seconds
I0305 06:40:33.829149       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:33.829153       1 tree.go:471] Updated node(18) last access: 191.9271 seconds
I0305 06:40:33.829157       1 tree.go:490] Partial tokens match child node(125). Continue to go deeper in the radix tree
I0305 06:40:33.829159       1 tree.go:471] Updated node(125) last access: 191.9271 seconds
I0305 06:40:33.829169       1 tree.go:667] Split complete - New node(465)
I0305 06:40:33.829174       1 tree.go:668] Split complete - Child node(126)
I0305 06:40:33.829178       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0305 06:40:33.829183       1 tree.go:471] Updated node(465) last access: 191.9271 seconds
I0305 06:40:33.829188       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:40:33.829192       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:33.829199       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:33.829205       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:33.829210       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.829195022 +0000 UTC m=+192.045921895]
I0305 06:40:33.829224       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7482, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:40:33.829231       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:40:33.829317       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7482
I0305 06:40:33.829326       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:33.829333       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.829339       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.829344       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.829348       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.829353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.829358       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.829367       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.829376       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:33.829387       1 prefix_cache_and_load.go:584] latency, Route, 2.9628
I0305 06:40:33.829405       1 gateway.go:415] latency, selectTargetPod, 2.9628, target pod, 10.0.0.131:8000
I0305 06:40:33.829419       1 gateway.go:235] latency, HandleRequestBody, 2.9631
I0305 06:40:33.829450       1 prefix_cache_and_load.go:456] latency, lock acquire, 2.9627
I0305 06:40:33.829458       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.829461       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.829654       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.829713       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:33.829718       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.834459       1 gateway.go:608] "First token received" requestID="d287cab4-4ff6-4318-bde6-b414d9d75205" ttft_ms=2968
I0305 06:40:33.847983       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b484b943-a756-4f19-9699-8f572a3aa0f7"
I0305 06:40:33.853431       1 gateway.go:562] latency, 0.0000, summary, hash(request), 956641d3, selectedpod, 10.0.1.53:8000, ttft, 2815, tpot, 19, e2e, 2987, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:33.853448       1 gateway.go:748] "Request completed" requestID="a3a94eea-acc0-45f8-acb6-d87d01c7a5ff" targetPod="10.0.1.53:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:33.853457       1 gateway.go:764] "HandleResponseBody completed" requestID="a3a94eea-acc0-45f8-acb6-d87d01c7a5ff" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:33.884046       1 gateway.go:608] "First token received" requestID="b484b943-a756-4f19-9699-8f572a3aa0f7" ttft_ms=3017
I0305 06:40:33.909386       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0797, numInputTokens, 7599
I0305 06:40:33.909400       1 tree.go:471] Updated node(0) last access: 192.0073 seconds
I0305 06:40:33.909406       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:33.909409       1 tree.go:471] Updated node(2) last access: 192.0073 seconds
I0305 06:40:33.909422       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:33.909427       1 tree.go:471] Updated node(53) last access: 192.0074 seconds
I0305 06:40:33.909431       1 tree.go:490] Partial tokens match child node(399). Continue to go deeper in the radix tree
I0305 06:40:33.909435       1 tree.go:471] Updated node(399) last access: 192.0074 seconds
I0305 06:40:33.909438       1 tree.go:490] Partial tokens match child node(297). Continue to go deeper in the radix tree
I0305 06:40:33.909441       1 tree.go:471] Updated node(297) last access: 192.0074 seconds
I0305 06:40:33.909445       1 tree.go:484] Entire input tokens match the child node(339)
I0305 06:40:33.909451       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:33.909457       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:33.909464       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:33.909468       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:33.909452774 +0000 UTC m=+192.126179648 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:10.088413946 +0000 UTC m=+168.305140815]
I0305 06:40:33.909486       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:33.909493       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:33.909573       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:40:33.909586       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:33.909601       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.909608       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.909613       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.909617       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.909620       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.909626       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:33.909634       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:33.909644       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:33.909653       1 prefix_cache_and_load.go:584] latency, Route, 3.0429
I0305 06:40:33.909666       1 gateway.go:415] latency, selectTargetPod, 3.0429, target pod, 10.0.0.34:8000
I0305 06:40:33.909676       1 gateway.go:235] latency, HandleRequestBody, 3.0433
I0305 06:40:33.909700       1 prefix_cache_and_load.go:456] latency, lock acquire, 3.0418
I0305 06:40:33.909706       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:33.909709       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:33.909875       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:33.909958       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:33.909963       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:33.928239       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="185eebca-bb6d-4112-8dbd-d48b15a1f0fb"
I0305 06:40:33.978659       1 gateway.go:608] "First token received" requestID="185eebca-bb6d-4112-8dbd-d48b15a1f0fb" ttft_ms=3112
I0305 06:40:33.984663       1 gateway.go:562] latency, 0.0000, summary, hash(request), 866280d7, selectedpod, 10.0.0.131:8000, ttft, 2908, tpot, 23, e2e, 3118, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:33.984682       1 gateway.go:748] "Request completed" requestID="81ee8cfa-5f49-4f62-852f-f8a037ac5a11" targetPod="10.0.0.131:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:33.984695       1 gateway.go:764] "HandleResponseBody completed" requestID="81ee8cfa-5f49-4f62-852f-f8a037ac5a11" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:34.004421       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0945, numInputTokens, 7600
I0305 06:40:34.004438       1 tree.go:471] Updated node(0) last access: 192.1024 seconds
I0305 06:40:34.004444       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:34.004449       1 tree.go:471] Updated node(2) last access: 192.1024 seconds
I0305 06:40:34.004461       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:34.004466       1 tree.go:471] Updated node(26) last access: 192.1024 seconds
I0305 06:40:34.004470       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 06:40:34.004472       1 tree.go:471] Updated node(75) last access: 192.1024 seconds
I0305 06:40:34.004478       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0305 06:40:34.004483       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:34.004490       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:34.004497       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:34.004502       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:34.004485584 +0000 UTC m=+192.221212449]
I0305 06:40:34.004528       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7484, Matching ratio: 0.9847, # Matched pods: 0, Matched pods: []
I0305 06:40:34.004539       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9847 > 0.5000)
I0305 06:40:34.004644       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7484
I0305 06:40:34.004676       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:34.004689       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.004700       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.004707       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.004716       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.004726       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.004741       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:34.004760       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:34.004775       1 prefix_cache_and_load.go:584] latency, Route, 3.1368
I0305 06:40:34.004799       1 gateway.go:415] latency, selectTargetPod, 3.1368, target pod, 10.0.3.41:8000
I0305 06:40:34.004825       1 gateway.go:235] latency, HandleRequestBody, 3.1372
I0305 06:40:34.004858       1 prefix_cache_and_load.go:456] latency, lock acquire, 3.1353
I0305 06:40:34.004865       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:34.004868       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:34.005102       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:34.005169       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:34.005174       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:34.009886       1 gateway.go:562] latency, 0.0000, summary, hash(request), f25531ca, selectedpod, 10.0.1.28:8000, ttft, 2968, tpot, 19, e2e, 3144, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:34.009916       1 gateway.go:748] "Request completed" requestID="d287cab4-4ff6-4318-bde6-b414d9d75205" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:34.009930       1 gateway.go:764] "HandleResponseBody completed" requestID="d287cab4-4ff6-4318-bde6-b414d9d75205" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:34.024278       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="237475d1-d444-45b5-8ddc-1cb8e1d10ea6"
I0305 06:40:34.053380       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 7604
I0305 06:40:34.053396       1 tree.go:471] Updated node(0) last access: 192.1513 seconds
I0305 06:40:34.053403       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:34.053406       1 tree.go:471] Updated node(2) last access: 192.1513 seconds
I0305 06:40:34.053418       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:34.053422       1 tree.go:471] Updated node(18) last access: 192.1514 seconds
I0305 06:40:34.053426       1 tree.go:490] Partial tokens match child node(444). Continue to go deeper in the radix tree
I0305 06:40:34.053428       1 tree.go:471] Updated node(444) last access: 192.1514 seconds
I0305 06:40:34.053433       1 tree.go:484] Entire input tokens match the child node(330)
I0305 06:40:34.053436       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7604 tokens
I0305 06:40:34.053444       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7604 tokens
I0305 06:40:34.053451       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:34.053460       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:34.05343924 +0000 UTC m=+192.270166120 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:09.567498071 +0000 UTC m=+167.784224944]
I0305 06:40:34.053477       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7604, Matched tokens: 7604, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:34.053484       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:34.053589       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7604
I0305 06:40:34.053603       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:34.053616       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.053631       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.053639       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.053647       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.053653       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.053669       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:34.053683       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:34.053695       1 prefix_cache_and_load.go:584] latency, Route, 3.1841
I0305 06:40:34.053719       1 gateway.go:415] latency, selectTargetPod, 3.1842, target pod, 10.0.0.131:8000
I0305 06:40:34.053748       1 gateway.go:235] latency, HandleRequestBody, 3.1845
I0305 06:40:34.053757       1 prefix_cache_and_load.go:456] latency, lock acquire, 3.1839
I0305 06:40:34.053766       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:34.053772       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:34.054033       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:34.054101       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:34.054107       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:34.059779       1 gateway.go:608] "First token received" requestID="237475d1-d444-45b5-8ddc-1cb8e1d10ea6" ttft_ms=3192
I0305 06:40:34.062487       1 gateway.go:562] latency, 0.0000, summary, hash(request), dad7cf70, selectedpod, 10.0.0.131:8000, ttft, 3017, tpot, 19, e2e, 3196, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:34.062505       1 gateway.go:748] "Request completed" requestID="b484b943-a756-4f19-9699-8f572a3aa0f7" targetPod="10.0.0.131:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:34.062525       1 gateway.go:764] "HandleResponseBody completed" requestID="b484b943-a756-4f19-9699-8f572a3aa0f7" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:34.071771       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="03efa5b7-9d8a-43d1-ab36-d0988ff05dcd"
I0305 06:40:34.109950       1 gateway.go:608] "First token received" requestID="03efa5b7-9d8a-43d1-ab36-d0988ff05dcd" ttft_ms=3240
I0305 06:40:34.126191       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0721, numInputTokens, 7602
I0305 06:40:34.126210       1 tree.go:471] Updated node(0) last access: 192.2241 seconds
I0305 06:40:34.126217       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:34.126221       1 tree.go:471] Updated node(2) last access: 192.2242 seconds
I0305 06:40:34.126235       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:34.126238       1 tree.go:471] Updated node(53) last access: 192.2242 seconds
I0305 06:40:34.126248       1 tree.go:667] Split complete - New node(468)
I0305 06:40:34.126252       1 tree.go:668] Split complete - Child node(242)
I0305 06:40:34.126257       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 06:40:34.126261       1 tree.go:471] Updated node(468) last access: 192.2242 seconds
I0305 06:40:34.126266       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0305 06:40:34.126272       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:34.126277       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:34.126284       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:34.126288       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:34.126273827 +0000 UTC m=+192.343000691]
I0305 06:40:34.126303       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7482, Matching ratio: 0.9842, # Matched pods: 0, Matched pods: []
I0305 06:40:34.126309       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9842 > 0.5000)
I0305 06:40:34.126377       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7482
I0305 06:40:34.126386       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:34.126393       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.126398       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.126402       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.126407       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.126410       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:34.126417       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:34.126427       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:34.126436       1 prefix_cache_and_load.go:584] latency, Route, 3.2565
I0305 06:40:34.126450       1 gateway.go:415] latency, selectTargetPod, 3.2566, target pod, 10.0.0.34:8000
I0305 06:40:34.126461       1 gateway.go:235] latency, HandleRequestBody, 3.2571
I0305 06:40:34.133739       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7e6a5ef0, selectedpod, 10.0.0.34:8000, ttft, 3112, tpot, 17, e2e, 3267, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:34.133755       1 gateway.go:748] "Request completed" requestID="185eebca-bb6d-4112-8dbd-d48b15a1f0fb" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:34.133764       1 gateway.go:764] "HandleResponseBody completed" requestID="185eebca-bb6d-4112-8dbd-d48b15a1f0fb" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:34.145242       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="718ed783-39b8-4252-8b39-8098c21e8e8b"
I0305 06:40:34.192866       1 gateway.go:608] "First token received" requestID="718ed783-39b8-4252-8b39-8098c21e8e8b" ttft_ms=3323
I0305 06:40:34.232818       1 gateway.go:562] latency, 0.0000, summary, hash(request), cec76aa5, selectedpod, 10.0.3.41:8000, ttft, 3192, tpot, 19, e2e, 3365, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:34.232835       1 gateway.go:748] "Request completed" requestID="237475d1-d444-45b5-8ddc-1cb8e1d10ea6" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:34.232844       1 gateway.go:764] "HandleResponseBody completed" requestID="237475d1-d444-45b5-8ddc-1cb8e1d10ea6" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:34.283469       1 gateway.go:562] latency, 0.0000, summary, hash(request), 753b638d, selectedpod, 10.0.0.131:8000, ttft, 3240, tpot, 19, e2e, 3414, numInputTokens, 7623, numOutputTokens, 10, numTotalTokens, 7633
I0305 06:40:34.283482       1 gateway.go:748] "Request completed" requestID="03efa5b7-9d8a-43d1-ab36-d0988ff05dcd" targetPod="10.0.0.131:8000" promptTokens=7623 completionTokens=10 totalTokens=7633
I0305 06:40:34.283490       1 gateway.go:764] "HandleResponseBody completed" requestID="03efa5b7-9d8a-43d1-ab36-d0988ff05dcd" promptTokens=7623 completionTokens=10 stream=true
I0305 06:40:34.365910       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3d560ffd, selectedpod, 10.0.0.34:8000, ttft, 3323, tpot, 19, e2e, 3496, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:34.365931       1 gateway.go:748] "Request completed" requestID="718ed783-39b8-4252-8b39-8098c21e8e8b" targetPod="10.0.0.34:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:34.365940       1 gateway.go:764] "HandleResponseBody completed" requestID="718ed783-39b8-4252-8b39-8098c21e8e8b" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:35.155553       1 gateway.go:207] "Processing request" requestID="e5561bee-6499-4612-8669-452c4c1f87fc"
I0305 06:40:35.155601       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e5561bee-6499-4612-8669-452c4c1f87fc"
I0305 06:40:35.155611       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:35.734683       1 gateway.go:207] "Processing request" requestID="5c5413eb-a083-44a7-893d-3cbf404e0779"
I0305 06:40:35.734724       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5c5413eb-a083-44a7-893d-3cbf404e0779"
I0305 06:40:35.734732       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:36.142876       1 gateway.go:207] "Processing request" requestID="537ed521-1773-475a-b4a9-ec24fe08ae2a"
I0305 06:40:36.142912       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="537ed521-1773-475a-b4a9-ec24fe08ae2a"
I0305 06:40:36.142920       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:36.525418       1 gateway.go:207] "Processing request" requestID="76bbf776-ce4a-4c19-86cc-4b175c8e8370"
I0305 06:40:36.525449       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="76bbf776-ce4a-4c19-86cc-4b175c8e8370"
I0305 06:40:36.525459       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:36.804134       1 gateway.go:207] "Processing request" requestID="0d735321-3274-48fb-b00d-694e17b6caf5"
I0305 06:40:36.804171       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0d735321-3274-48fb-b00d-694e17b6caf5"
I0305 06:40:36.804182       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:37.097436       1 gateway.go:207] "Processing request" requestID="e36c4a22-a262-4116-95d6-37533e1ebf59"
I0305 06:40:37.097474       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e36c4a22-a262-4116-95d6-37533e1ebf59"
I0305 06:40:37.097482       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:37.336743       1 gateway.go:207] "Processing request" requestID="8bfab929-5811-45fc-bc4f-8f8833e191cc"
I0305 06:40:37.336782       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8bfab929-5811-45fc-bc4f-8f8833e191cc"
I0305 06:40:37.336793       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:37.808872       1 gateway.go:207] "Processing request" requestID="765bce84-304e-4ab3-972b-de1e082b3a39"
I0305 06:40:37.808918       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="765bce84-304e-4ab3-972b-de1e082b3a39"
I0305 06:40:37.808928       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:38.019106       1 gateway.go:207] "Processing request" requestID="10739da1-c053-46cb-a4b6-688a40893f67"
I0305 06:40:38.019143       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="10739da1-c053-46cb-a4b6-688a40893f67"
I0305 06:40:38.019152       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:38.221895       1 gateway.go:207] "Processing request" requestID="4a0b7872-abc4-47aa-b7c5-faaa485f5fbf"
I0305 06:40:38.221929       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4a0b7872-abc4-47aa-b7c5-faaa485f5fbf"
I0305 06:40:38.221937       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:38.419437       1 gateway.go:207] "Processing request" requestID="4cbe3f7a-3ef3-464e-910f-591d9fc73067"
I0305 06:40:38.419471       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4cbe3f7a-3ef3-464e-910f-591d9fc73067"
I0305 06:40:38.419481       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:38.811462       1 gateway.go:207] "Processing request" requestID="9fba65fd-3096-4333-887f-59ecd8a562c5"
I0305 06:40:38.811497       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9fba65fd-3096-4333-887f-59ecd8a562c5"
I0305 06:40:38.811506       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:38.874941       1 gateway.go:207] "Processing request" requestID="ee1dd328-609b-4925-9aa5-92a5b7e55bbc"
I0305 06:40:38.874985       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ee1dd328-609b-4925-9aa5-92a5b7e55bbc"
I0305 06:40:38.874995       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:39.178705       1 gateway.go:207] "Processing request" requestID="b2c7f52c-bc3b-4372-be94-d9e1a22c0ff8"
I0305 06:40:39.178736       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b2c7f52c-bc3b-4372-be94-d9e1a22c0ff8"
I0305 06:40:39.178744       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:39.412855       1 gateway.go:207] "Processing request" requestID="46104888-c411-4f69-823b-3083bbdf4928"
I0305 06:40:39.412906       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="46104888-c411-4f69-823b-3083bbdf4928"
I0305 06:40:39.412918       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:39.610400       1 gateway.go:207] "Processing request" requestID="7e3bf43e-7e10-478b-af65-a3858a33f822"
I0305 06:40:39.610447       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7e3bf43e-7e10-478b-af65-a3858a33f822"
I0305 06:40:39.610457       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:39.831278       1 gateway.go:207] "Processing request" requestID="3f87f7ce-7eea-468a-9d70-e32a646dd876"
I0305 06:40:39.831322       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3f87f7ce-7eea-468a-9d70-e32a646dd876"
I0305 06:40:39.831332       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:40.027705       1 gateway.go:207] "Processing request" requestID="55254bf0-3161-4931-b1bf-1aa387320437"
I0305 06:40:40.027738       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="55254bf0-3161-4931-b1bf-1aa387320437"
I0305 06:40:40.027746       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:40.240338       1 gateway.go:207] "Processing request" requestID="554de937-51ad-4c5a-b968-64776b3a56f5"
I0305 06:40:40.240377       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="554de937-51ad-4c5a-b968-64776b3a56f5"
I0305 06:40:40.240386       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:40.419033       1 gateway.go:207] "Processing request" requestID="67837208-5266-49fd-b79a-68cba9d139b8"
I0305 06:40:40.419068       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="67837208-5266-49fd-b79a-68cba9d139b8"
I0305 06:40:40.419078       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:40.607046       1 gateway.go:207] "Processing request" requestID="4adf05a4-4798-45ec-9ed7-2d1050f6120f"
I0305 06:40:40.607079       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4adf05a4-4798-45ec-9ed7-2d1050f6120f"
I0305 06:40:40.607089       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:40.808903       1 gateway.go:207] "Processing request" requestID="ab205209-df90-4266-a681-c1c9e63989d3"
I0305 06:40:40.808938       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ab205209-df90-4266-a681-c1c9e63989d3"
I0305 06:40:40.808948       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:40.992457       1 gateway.go:207] "Processing request" requestID="608f943d-d065-4571-820e-0878ece65ee3"
I0305 06:40:40.992490       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="608f943d-d065-4571-820e-0878ece65ee3"
I0305 06:40:40.992498       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:41.185962       1 gateway.go:207] "Processing request" requestID="dff18487-d109-4971-bdb9-7a81d7eea950"
I0305 06:40:41.186001       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dff18487-d109-4971-bdb9-7a81d7eea950"
I0305 06:40:41.186010       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:41.396830       1 gateway.go:207] "Processing request" requestID="461941da-9001-4f7a-b85a-f3a09027eb8f"
I0305 06:40:41.396863       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="461941da-9001-4f7a-b85a-f3a09027eb8f"
I0305 06:40:41.396873       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:41.599668       1 gateway.go:207] "Processing request" requestID="80e7e78e-3818-4f40-b742-9d3c388b3a8a"
I0305 06:40:41.599704       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="80e7e78e-3818-4f40-b742-9d3c388b3a8a"
I0305 06:40:41.599713       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:41.756092       1 gateway.go:207] "Processing request" requestID="b2712ab7-b50c-4e0d-bce3-49427a8f3fc4"
I0305 06:40:41.756129       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b2712ab7-b50c-4e0d-bce3-49427a8f3fc4"
I0305 06:40:41.756137       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:41.880022       1 gateway.go:207] "Processing request" requestID="948e5a02-c011-4fd7-b2e7-30869bb2256b"
I0305 06:40:41.880052       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="948e5a02-c011-4fd7-b2e7-30869bb2256b"
I0305 06:40:41.880060       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:42.062668       1 gateway.go:207] "Processing request" requestID="c23bf366-98cf-4992-bece-f3b7ff88078f"
I0305 06:40:42.062699       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c23bf366-98cf-4992-bece-f3b7ff88078f"
I0305 06:40:42.062708       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:42.232447       1 gateway.go:207] "Processing request" requestID="84194379-df60-495b-bb24-74cb994aab2c"
I0305 06:40:42.232482       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="84194379-df60-495b-bb24-74cb994aab2c"
I0305 06:40:42.232492       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:42.258432       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e5561bee-6499-4612-8669-452c4c1f87fc"
I0305 06:40:42.258697       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e5561bee-6499-4612-8669-452c4c1f87fc" model="qwen2-5-7b-instruct"
I0305 06:40:42.258807       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:42.258815       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:42.258818       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:42.259276       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:42.259339       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:42.259347       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:42.304733       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5c5413eb-a083-44a7-893d-3cbf404e0779"
I0305 06:40:42.305119       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5c5413eb-a083-44a7-893d-3cbf404e0779" model="qwen2-5-7b-instruct"
I0305 06:40:42.315362       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0560, numInputTokens, 7601
I0305 06:40:42.315383       1 tree.go:471] Updated node(0) last access: 200.4133 seconds
I0305 06:40:42.315389       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:42.315396       1 tree.go:471] Updated node(2) last access: 200.4133 seconds
I0305 06:40:42.315410       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:42.315415       1 tree.go:471] Updated node(8) last access: 200.4134 seconds
I0305 06:40:42.315418       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 06:40:42.315420       1 tree.go:471] Updated node(16) last access: 200.4134 seconds
I0305 06:40:42.315424       1 tree.go:490] Partial tokens match child node(34). Continue to go deeper in the radix tree
I0305 06:40:42.315428       1 tree.go:471] Updated node(34) last access: 200.4134 seconds
I0305 06:40:42.315434       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:42.315440       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:42.315448       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:42.315456       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:42.315461       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:42.315442325 +0000 UTC m=+200.532169197]
I0305 06:40:42.315479       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7484, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:42.315485       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:42.315569       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7484
I0305 06:40:42.315578       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:42.315586       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.315592       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.315599       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.315602       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.315607       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.315611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.315620       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:42.315630       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:42.315639       1 prefix_cache_and_load.go:584] latency, Route, 0.0568
I0305 06:40:42.315655       1 gateway.go:415] latency, selectTargetPod, 0.0568, target pod, 10.0.1.53:8000
I0305 06:40:42.315669       1 gateway.go:235] latency, HandleRequestBody, 0.0572
I0305 06:40:42.315701       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0105
I0305 06:40:42.315706       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:42.315709       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:42.315944       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:42.316003       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:42.316010       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:42.335291       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e5561bee-6499-4612-8669-452c4c1f87fc"
I0305 06:40:42.367829       1 gateway.go:329] "-- In RequestBody processing ..." requestID="537ed521-1773-475a-b4a9-ec24fe08ae2a"
I0305 06:40:42.368201       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0522, numInputTokens, 7602
I0305 06:40:42.368226       1 tree.go:471] Updated node(0) last access: 200.4662 seconds
I0305 06:40:42.368233       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:42.368239       1 tree.go:471] Updated node(2) last access: 200.4662 seconds
I0305 06:40:42.368256       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:42.368261       1 tree.go:471] Updated node(53) last access: 200.4662 seconds
I0305 06:40:42.368266       1 tree.go:490] Partial tokens match child node(340). Continue to go deeper in the radix tree
I0305 06:40:42.368270       1 tree.go:471] Updated node(340) last access: 200.4662 seconds
I0305 06:40:42.368274       1 tree.go:484] Entire input tokens match the child node(341)
I0305 06:40:42.368278       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:42.368289       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:42.368297       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:42.368303       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:42.368280664 +0000 UTC m=+200.585007529 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:10.432550354 +0000 UTC m=+168.649277220]
I0305 06:40:42.368328       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:42.368339       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:42.368363       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="537ed521-1773-475a-b4a9-ec24fe08ae2a" model="qwen2-5-7b-instruct"
I0305 06:40:42.368482       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7602
I0305 06:40:42.368493       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:40:42.368503       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.368508       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.368524       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.368529       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.368536       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.368546       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:42.368556       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:42.368570       1 prefix_cache_and_load.go:584] latency, Route, 0.0633
I0305 06:40:42.368583       1 gateway.go:415] latency, selectTargetPod, 0.0633, target pod, 10.0.0.34:8000
I0305 06:40:42.368598       1 gateway.go:235] latency, HandleRequestBody, 0.0639
I0305 06:40:42.368626       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0001
I0305 06:40:42.368631       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:42.368640       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:42.369090       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:42.369238       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0006
I0305 06:40:42.369248       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:42.379388       1 gateway.go:608] "First token received" requestID="e5561bee-6499-4612-8669-452c4c1f87fc" ttft_ms=120
I0305 06:40:42.388203       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5c5413eb-a083-44a7-893d-3cbf404e0779"
I0305 06:40:42.423570       1 gateway.go:608] "First token received" requestID="5c5413eb-a083-44a7-893d-3cbf404e0779" ttft_ms=118
I0305 06:40:42.428194       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0589, numInputTokens, 7597
I0305 06:40:42.428213       1 tree.go:471] Updated node(0) last access: 200.5262 seconds
I0305 06:40:42.428219       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:42.428224       1 tree.go:471] Updated node(2) last access: 200.5262 seconds
I0305 06:40:42.428238       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:42.428243       1 tree.go:471] Updated node(45) last access: 200.5262 seconds
I0305 06:40:42.428246       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:42.428250       1 tree.go:471] Updated node(175) last access: 200.5262 seconds
I0305 06:40:42.428253       1 tree.go:490] Partial tokens match child node(184). Continue to go deeper in the radix tree
I0305 06:40:42.428256       1 tree.go:471] Updated node(184) last access: 200.5262 seconds
I0305 06:40:42.428266       1 tree.go:667] Split complete - New node(471)
I0305 06:40:42.428269       1 tree.go:668] Split complete - Child node(328)
I0305 06:40:42.428274       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0305 06:40:42.428278       1 tree.go:471] Updated node(471) last access: 200.5262 seconds
I0305 06:40:42.428282       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 104 tokens:
I0305 06:40:42.428287       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:42.428307       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:42.428314       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:42.428319       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:42.428289387 +0000 UTC m=+200.645016251]
I0305 06:40:42.428333       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7493, Matching ratio: 0.9863, # Matched pods: 0, Matched pods: []
I0305 06:40:42.428341       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9863 > 0.5000)
I0305 06:40:42.428402       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7493
I0305 06:40:42.428412       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:42.428419       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.428422       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.428426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.428430       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.428435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.428439       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.428444       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.428452       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:42.428461       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:42.428472       1 prefix_cache_and_load.go:584] latency, Route, 0.0600
I0305 06:40:42.428479       1 gateway.go:415] latency, selectTargetPod, 0.0600, target pod, 10.0.0.34:8000
I0305 06:40:42.428488       1 gateway.go:235] latency, HandleRequestBody, 0.0607
I0305 06:40:42.446900       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="537ed521-1773-475a-b4a9-ec24fe08ae2a"
I0305 06:40:42.492308       1 gateway.go:608] "First token received" requestID="537ed521-1773-475a-b4a9-ec24fe08ae2a" ttft_ms=124
I0305 06:40:42.544611       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4e4efa51, selectedpod, 10.0.1.53:8000, ttft, 120, tpot, 18, e2e, 286, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:42.544631       1 gateway.go:748] "Request completed" requestID="e5561bee-6499-4612-8669-452c4c1f87fc" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:42.544641       1 gateway.go:764] "HandleResponseBody completed" requestID="e5561bee-6499-4612-8669-452c4c1f87fc" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:42.628503       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0d735321-3274-48fb-b00d-694e17b6caf5"
I0305 06:40:42.628733       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0d735321-3274-48fb-b00d-694e17b6caf5" model="qwen2-5-7b-instruct"
I0305 06:40:42.628836       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:42.628843       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:42.628846       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:42.629104       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:42.629160       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:42.629166       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:42.630366       1 gateway.go:329] "-- In RequestBody processing ..." requestID="765bce84-304e-4ab3-972b-de1e082b3a39"
I0305 06:40:42.630664       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="765bce84-304e-4ab3-972b-de1e082b3a39" model="qwen2-5-7b-instruct"
I0305 06:40:42.631356       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e36c4a22-a262-4116-95d6-37533e1ebf59"
I0305 06:40:42.631577       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e36c4a22-a262-4116-95d6-37533e1ebf59" model="qwen2-5-7b-instruct"
I0305 06:40:42.631933       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8bfab929-5811-45fc-bc4f-8f8833e191cc"
I0305 06:40:42.632133       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8bfab929-5811-45fc-bc4f-8f8833e191cc" model="qwen2-5-7b-instruct"
I0305 06:40:42.633735       1 gateway.go:329] "-- In RequestBody processing ..." requestID="76bbf776-ce4a-4c19-86cc-4b175c8e8370"
I0305 06:40:42.633949       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="76bbf776-ce4a-4c19-86cc-4b175c8e8370" model="qwen2-5-7b-instruct"
I0305 06:40:42.634913       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7f96813e, selectedpod, 10.0.0.34:8000, ttft, 118, tpot, 23, e2e, 330, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:42.634933       1 gateway.go:748] "Request completed" requestID="5c5413eb-a083-44a7-893d-3cbf404e0779" targetPod="10.0.0.34:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:42.634946       1 gateway.go:764] "HandleResponseBody completed" requestID="5c5413eb-a083-44a7-893d-3cbf404e0779" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:42.640823       1 gateway.go:329] "-- In RequestBody processing ..." requestID="10739da1-c053-46cb-a4b6-688a40893f67"
I0305 06:40:42.641079       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="10739da1-c053-46cb-a4b6-688a40893f67" model="qwen2-5-7b-instruct"
I0305 06:40:42.673612       1 gateway.go:562] latency, 0.0001, summary, hash(request), 77323e3d, selectedpod, 10.0.0.34:8000, ttft, 124, tpot, 20, e2e, 305, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:42.673629       1 gateway.go:748] "Request completed" requestID="537ed521-1773-475a-b4a9-ec24fe08ae2a" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:42.673640       1 gateway.go:764] "HandleResponseBody completed" requestID="537ed521-1773-475a-b4a9-ec24fe08ae2a" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:42.681660       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4a0b7872-abc4-47aa-b7c5-faaa485f5fbf"
I0305 06:40:42.681899       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4a0b7872-abc4-47aa-b7c5-faaa485f5fbf" model="qwen2-5-7b-instruct"
I0305 06:40:42.682690       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0535, numInputTokens, 7600
I0305 06:40:42.682709       1 tree.go:471] Updated node(0) last access: 200.7806 seconds
I0305 06:40:42.682716       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:42.682722       1 tree.go:471] Updated node(2) last access: 200.7807 seconds
I0305 06:40:42.682735       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:42.682740       1 tree.go:471] Updated node(8) last access: 200.7807 seconds
I0305 06:40:42.682748       1 tree.go:484] Entire input tokens match the child node(342)
I0305 06:40:42.682752       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:42.682758       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:42.682766       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:42.682773       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:42.68275452 +0000 UTC m=+200.899481392 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:10.588189971 +0000 UTC m=+168.804916835]
I0305 06:40:42.682795       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:42.682804       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:42.682913       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7600
I0305 06:40:42.682923       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:42.682934       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.682944       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.682953       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.682959       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.682966       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:42.682986       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:42.682998       1 prefix_cache_and_load.go:584] latency, Route, 0.0542
I0305 06:40:42.683014       1 gateway.go:415] latency, selectTargetPod, 0.0542, target pod, 10.0.1.53:8000
I0305 06:40:42.683032       1 gateway.go:235] latency, HandleRequestBody, 0.0545
I0305 06:40:42.683073       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0523
I0305 06:40:42.683080       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:42.683084       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:42.683444       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:42.683574       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:42.683581       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:42.702190       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0d735321-3274-48fb-b00d-694e17b6caf5"
I0305 06:40:42.733626       1 gateway.go:608] "First token received" requestID="0d735321-3274-48fb-b00d-694e17b6caf5" ttft_ms=105
I0305 06:40:42.735373       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0518, numInputTokens, 7603
I0305 06:40:42.735389       1 tree.go:471] Updated node(0) last access: 200.8333 seconds
I0305 06:40:42.735395       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:42.735398       1 tree.go:471] Updated node(2) last access: 200.8333 seconds
I0305 06:40:42.735412       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:42.735416       1 tree.go:471] Updated node(18) last access: 200.8334 seconds
I0305 06:40:42.735419       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 06:40:42.735421       1 tree.go:471] Updated node(219) last access: 200.8334 seconds
I0305 06:40:42.735427       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0305 06:40:42.735431       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7603 tokens
I0305 06:40:42.735438       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:42.735444       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:42.735450       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:42.735433027 +0000 UTC m=+200.952159899]
I0305 06:40:42.735464       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7481, Matching ratio: 0.9840, # Matched pods: 0, Matched pods: []
I0305 06:40:42.735472       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9840 > 0.5000)
I0305 06:40:42.735547       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7481
I0305 06:40:42.735558       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:42.735566       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.735571       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.735576       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.735580       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.735584       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.735591       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:42.735598       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:42.735609       1 prefix_cache_and_load.go:584] latency, Route, 0.1048
I0305 06:40:42.735624       1 gateway.go:415] latency, selectTargetPod, 0.1049, target pod, 10.0.0.131:8000
I0305 06:40:42.735635       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1040
I0305 06:40:42.735644       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:42.735648       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:42.735637       1 gateway.go:235] latency, HandleRequestBody, 0.1053
I0305 06:40:42.735862       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:42.735921       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:42.735926       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:42.755253       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="765bce84-304e-4ab3-972b-de1e082b3a39"
I0305 06:40:42.760553       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4cbe3f7a-3ef3-464e-910f-591d9fc73067"
I0305 06:40:42.760779       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4cbe3f7a-3ef3-464e-910f-591d9fc73067" model="qwen2-5-7b-instruct"
I0305 06:40:42.799171       1 gateway.go:608] "First token received" requestID="765bce84-304e-4ab3-972b-de1e082b3a39" ttft_ms=168
I0305 06:40:42.809332       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0734, numInputTokens, 7597
I0305 06:40:42.809348       1 tree.go:471] Updated node(0) last access: 200.9073 seconds
I0305 06:40:42.809354       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:42.809358       1 tree.go:471] Updated node(2) last access: 200.9073 seconds
I0305 06:40:42.809371       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:42.809375       1 tree.go:471] Updated node(23) last access: 200.9073 seconds
I0305 06:40:42.809378       1 tree.go:490] Partial tokens match child node(83). Continue to go deeper in the radix tree
I0305 06:40:42.809381       1 tree.go:471] Updated node(83) last access: 200.9073 seconds
I0305 06:40:42.809392       1 tree.go:667] Split complete - New node(474)
I0305 06:40:42.809396       1 tree.go:668] Split complete - Child node(74)
I0305 06:40:42.809401       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:40:42.809406       1 tree.go:471] Updated node(474) last access: 200.9073 seconds
I0305 06:40:42.809411       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 106 tokens:
I0305 06:40:42.809417       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:42.809423       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:42.809429       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:42.809434       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:42.809418719 +0000 UTC m=+201.026145584]
I0305 06:40:42.809454       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7491, Matching ratio: 0.9860, # Matched pods: 0, Matched pods: []
I0305 06:40:42.809462       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9860 > 0.5000)
I0305 06:40:42.809564       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7491
I0305 06:40:42.809577       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:42.809599       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.809610       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.809619       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.809629       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.809637       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.809645       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.809656       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:42.809670       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:42.809681       1 prefix_cache_and_load.go:584] latency, Route, 0.1780
I0305 06:40:42.809705       1 gateway.go:415] latency, selectTargetPod, 0.1781, target pod, 10.0.3.42:8000
I0305 06:40:42.809715       1 gateway.go:235] latency, HandleRequestBody, 0.1784
I0305 06:40:42.809738       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1775
I0305 06:40:42.809742       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:42.809746       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:42.809982       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:42.810035       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:42.810040       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:42.811340       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9fba65fd-3096-4333-887f-59ecd8a562c5"
I0305 06:40:42.811784       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9fba65fd-3096-4333-887f-59ecd8a562c5" model="qwen2-5-7b-instruct"
I0305 06:40:42.826674       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e36c4a22-a262-4116-95d6-37533e1ebf59"
I0305 06:40:42.842480       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ee1dd328-609b-4925-9aa5-92a5b7e55bbc"
I0305 06:40:42.842698       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ee1dd328-609b-4925-9aa5-92a5b7e55bbc" model="qwen2-5-7b-instruct"
I0305 06:40:42.862894       1 gateway.go:608] "First token received" requestID="e36c4a22-a262-4116-95d6-37533e1ebf59" ttft_ms=231
I0305 06:40:42.894669       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0846, numInputTokens, 7597
I0305 06:40:42.894687       1 tree.go:471] Updated node(0) last access: 200.9926 seconds
I0305 06:40:42.894693       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:42.894696       1 tree.go:471] Updated node(2) last access: 200.9926 seconds
I0305 06:40:42.894709       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:42.894713       1 tree.go:471] Updated node(31) last access: 200.9927 seconds
I0305 06:40:42.894718       1 tree.go:490] Partial tokens match child node(227). Continue to go deeper in the radix tree
I0305 06:40:42.894723       1 tree.go:471] Updated node(227) last access: 200.9927 seconds
I0305 06:40:42.894736       1 tree.go:667] Split complete - New node(476)
I0305 06:40:42.894740       1 tree.go:668] Split complete - Child node(42)
I0305 06:40:42.894745       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0305 06:40:42.894751       1 tree.go:471] Updated node(476) last access: 200.9927 seconds
I0305 06:40:42.894755       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0305 06:40:42.894761       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:42.894767       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:42.894773       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:42.894778       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:42.894762433 +0000 UTC m=+201.111489298]
I0305 06:40:42.894805       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7483, Matching ratio: 0.9850, # Matched pods: 0, Matched pods: []
I0305 06:40:42.894811       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9850 > 0.5000)
I0305 06:40:42.894899       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7483
I0305 06:40:42.894909       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:42.894916       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.894921       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.894926       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.894931       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.894937       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.894944       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.894955       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:42.894978       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:42.894992       1 prefix_cache_and_load.go:584] latency, Route, 0.2628
I0305 06:40:42.895008       1 gateway.go:415] latency, selectTargetPod, 0.2628, target pod, 10.0.1.28:8000
I0305 06:40:42.895022       1 gateway.go:235] latency, HandleRequestBody, 0.2631
I0305 06:40:42.895059       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2610
I0305 06:40:42.895064       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:42.895067       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:42.895276       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:42.895343       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:42.895348       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:42.895608       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b2c7f52c-bc3b-4372-be94-d9e1a22c0ff8"
I0305 06:40:42.895827       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b2c7f52c-bc3b-4372-be94-d9e1a22c0ff8" model="qwen2-5-7b-instruct"
I0305 06:40:42.906519       1 gateway.go:562] latency, 0.0000, summary, hash(request), 40f003cd, selectedpod, 10.0.1.53:8000, ttft, 105, tpot, 19, e2e, 277, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:42.906535       1 gateway.go:748] "Request completed" requestID="0d735321-3274-48fb-b00d-694e17b6caf5" targetPod="10.0.1.53:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:42.906543       1 gateway.go:764] "HandleResponseBody completed" requestID="0d735321-3274-48fb-b00d-694e17b6caf5" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:42.917041       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8bfab929-5811-45fc-bc4f-8f8833e191cc"
I0305 06:40:42.944464       1 gateway.go:329] "-- In RequestBody processing ..." requestID="46104888-c411-4f69-823b-3083bbdf4928"
I0305 06:40:42.979082       1 gateway.go:608] "First token received" requestID="8bfab929-5811-45fc-bc4f-8f8833e191cc" ttft_ms=346
I0305 06:40:42.979084       1 gateway.go:562] latency, 0.0000, summary, hash(request), ee728728, selectedpod, 10.0.0.131:8000, ttft, 168, tpot, 19, e2e, 348, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:42.979147       1 gateway.go:748] "Request completed" requestID="765bce84-304e-4ab3-972b-de1e082b3a39" targetPod="10.0.0.131:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:42.979163       1 gateway.go:764] "HandleResponseBody completed" requestID="765bce84-304e-4ab3-972b-de1e082b3a39" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:42.980742       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="46104888-c411-4f69-823b-3083bbdf4928" model="qwen2-5-7b-instruct"
I0305 06:40:42.981825       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0865, numInputTokens, 7602
I0305 06:40:42.981844       1 tree.go:471] Updated node(0) last access: 201.0798 seconds
I0305 06:40:42.981851       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:42.981854       1 tree.go:471] Updated node(2) last access: 201.0798 seconds
I0305 06:40:42.981866       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:42.981870       1 tree.go:471] Updated node(8) last access: 201.0798 seconds
I0305 06:40:42.981875       1 tree.go:484] Entire input tokens match the child node(343)
I0305 06:40:42.981878       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:40:42.981884       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:42.981891       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0305 06:40:42.981896       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:42.981880335 +0000 UTC m=+201.198607199 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:10.722821884 +0000 UTC m=+168.939548754]
I0305 06:40:42.981914       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:42.981920       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:42.981994       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7602
I0305 06:40:42.982003       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:42.982010       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.982014       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.982018       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.982022       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:42.982031       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:42.982041       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:42.982051       1 prefix_cache_and_load.go:584] latency, Route, 0.3480
I0305 06:40:42.982065       1 gateway.go:415] latency, selectTargetPod, 0.3481, target pod, 10.0.1.53:8000
I0305 06:40:42.982076       1 gateway.go:235] latency, HandleRequestBody, 0.3483
I0305 06:40:42.982075       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3409
I0305 06:40:42.982084       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:42.982088       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:42.982407       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:42.982470       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:42.982476       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.000743       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="76bbf776-ce4a-4c19-86cc-4b175c8e8370"
I0305 06:40:43.019934       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7e3bf43e-7e10-478b-af65-a3858a33f822"
I0305 06:40:43.020174       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7e3bf43e-7e10-478b-af65-a3858a33f822" model="qwen2-5-7b-instruct"
I0305 06:40:43.031662       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 7595
I0305 06:40:43.031680       1 tree.go:471] Updated node(0) last access: 201.1296 seconds
I0305 06:40:43.031686       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.031689       1 tree.go:471] Updated node(2) last access: 201.1296 seconds
I0305 06:40:43.031702       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:43.031705       1 tree.go:471] Updated node(45) last access: 201.1296 seconds
I0305 06:40:43.031715       1 tree.go:490] Partial tokens match child node(198). Continue to go deeper in the radix tree
I0305 06:40:43.031720       1 tree.go:471] Updated node(198) last access: 201.1297 seconds
I0305 06:40:43.031728       1 tree.go:667] Split complete - New node(478)
I0305 06:40:43.031731       1 tree.go:668] Split complete - Child node(371)
I0305 06:40:43.031737       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0305 06:40:43.031742       1 tree.go:471] Updated node(478) last access: 201.1297 seconds
I0305 06:40:43.031752       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0305 06:40:43.031756       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:40:43.031763       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:43.031770       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.031774       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.031759649 +0000 UTC m=+201.248486514]
I0305 06:40:43.031788       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7482, Matching ratio: 0.9851, # Matched pods: 0, Matched pods: []
I0305 06:40:43.031798       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9851 > 0.5000)
I0305 06:40:43.031868       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7482
I0305 06:40:43.031878       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.031885       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.031892       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.031898       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.031903       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.031906       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.031910       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.031920       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.031928       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:43.031937       1 prefix_cache_and_load.go:584] latency, Route, 0.3908
I0305 06:40:43.031950       1 gateway.go:415] latency, selectTargetPod, 0.3908, target pod, 10.0.0.34:8000
I0305 06:40:43.031962       1 gateway.go:235] latency, HandleRequestBody, 0.3911
I0305 06:40:43.031960       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3500
I0305 06:40:43.032002       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.032005       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.032091       1 gateway.go:608] "First token received" requestID="76bbf776-ce4a-4c19-86cc-4b175c8e8370" ttft_ms=398
I0305 06:40:43.032220       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.032287       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:43.032294       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.035600       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7c1171cc, selectedpod, 10.0.3.42:8000, ttft, 231, tpot, 19, e2e, 404, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:43.035618       1 gateway.go:748] "Request completed" requestID="e36c4a22-a262-4116-95d6-37533e1ebf59" targetPod="10.0.3.42:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:43.035629       1 gateway.go:764] "HandleResponseBody completed" requestID="e36c4a22-a262-4116-95d6-37533e1ebf59" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:43.050883       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="10739da1-c053-46cb-a4b6-688a40893f67"
I0305 06:40:43.052204       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3f87f7ce-7eea-468a-9d70-e32a646dd876"
I0305 06:40:43.052433       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3f87f7ce-7eea-468a-9d70-e32a646dd876" model="qwen2-5-7b-instruct"
I0305 06:40:43.087940       1 gateway.go:608] "First token received" requestID="10739da1-c053-46cb-a4b6-688a40893f67" ttft_ms=447
I0305 06:40:43.094189       1 gateway.go:329] "-- In RequestBody processing ..." requestID="55254bf0-3161-4931-b1bf-1aa387320437"
I0305 06:40:43.094431       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="55254bf0-3161-4931-b1bf-1aa387320437" model="qwen2-5-7b-instruct"
I0305 06:40:43.098071       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0658, numInputTokens, 7601
I0305 06:40:43.098092       1 tree.go:471] Updated node(0) last access: 201.1960 seconds
I0305 06:40:43.098098       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.098102       1 tree.go:471] Updated node(2) last access: 201.1960 seconds
I0305 06:40:43.098117       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:43.098120       1 tree.go:471] Updated node(4) last access: 201.1961 seconds
I0305 06:40:43.098126       1 tree.go:490] Partial tokens match child node(348). Continue to go deeper in the radix tree
I0305 06:40:43.098131       1 tree.go:471] Updated node(348) last access: 201.1961 seconds
I0305 06:40:43.098136       1 tree.go:484] Entire input tokens match the child node(349)
I0305 06:40:43.098141       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:43.098151       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:43.098159       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.098168       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.098143218 +0000 UTC m=+201.314870082 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:40:11.223175798 +0000 UTC m=+169.439902667]
I0305 06:40:43.098186       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:43.098194       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:43.098306       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7601
I0305 06:40:43.098316       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.098324       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.098331       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.098339       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.098344       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.098349       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.098361       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.098370       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:43.098379       1 prefix_cache_and_load.go:584] latency, Route, 0.4164
I0305 06:40:43.098396       1 gateway.go:415] latency, selectTargetPod, 0.4164, target pod, 10.0.1.47:8000
I0305 06:40:43.098410       1 gateway.go:235] latency, HandleRequestBody, 0.4168
I0305 06:40:43.098448       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3376
I0305 06:40:43.098454       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.098458       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.099011       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.099173       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0007
I0305 06:40:43.099181       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.117931       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4a0b7872-abc4-47aa-b7c5-faaa485f5fbf"
I0305 06:40:43.126189       1 gateway.go:562] latency, 0.0000, summary, hash(request), 016054c9, selectedpod, 10.0.1.28:8000, ttft, 346, tpot, 16, e2e, 494, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:43.126211       1 gateway.go:748] "Request completed" requestID="8bfab929-5811-45fc-bc4f-8f8833e191cc" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:43.126223       1 gateway.go:764] "HandleResponseBody completed" requestID="8bfab929-5811-45fc-bc4f-8f8833e191cc" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:43.150319       1 gateway.go:608] "First token received" requestID="4a0b7872-abc4-47aa-b7c5-faaa485f5fbf" ttft_ms=468
I0305 06:40:43.178622       1 gateway.go:329] "-- In RequestBody processing ..." requestID="554de937-51ad-4c5a-b968-64776b3a56f5"
I0305 06:40:43.178862       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="554de937-51ad-4c5a-b968-64776b3a56f5" model="qwen2-5-7b-instruct"
I0305 06:40:43.182435       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0832, numInputTokens, 7597
I0305 06:40:43.182453       1 tree.go:471] Updated node(0) last access: 201.2804 seconds
I0305 06:40:43.182459       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.182462       1 tree.go:471] Updated node(2) last access: 201.2804 seconds
I0305 06:40:43.182476       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:43.182483       1 tree.go:471] Updated node(8) last access: 201.2804 seconds
I0305 06:40:43.182497       1 tree.go:667] Split complete - New node(480)
I0305 06:40:43.182502       1 tree.go:668] Split complete - Child node(343)
I0305 06:40:43.182506       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0305 06:40:43.182520       1 tree.go:471] Updated node(480) last access: 201.2805 seconds
I0305 06:40:43.182526       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0305 06:40:43.182530       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:43.182536       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:43.182541       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.182545       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.182531758 +0000 UTC m=+201.399258623]
I0305 06:40:43.182560       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7482, Matching ratio: 0.9849, # Matched pods: 0, Matched pods: []
I0305 06:40:43.182566       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9849 > 0.5000)
I0305 06:40:43.182633       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7482
I0305 06:40:43.182643       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.182649       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.182654       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.182657       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.182661       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.182667       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.182676       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.182684       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:43.182699       1 prefix_cache_and_load.go:584] latency, Route, 0.4218
I0305 06:40:43.182715       1 gateway.go:415] latency, selectTargetPod, 0.4219, target pod, 10.0.1.53:8000
I0305 06:40:43.182725       1 gateway.go:235] latency, HandleRequestBody, 0.4222
I0305 06:40:43.182753       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3706
I0305 06:40:43.182757       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.182760       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.182958       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.183029       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:43.183035       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.201534       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4cbe3f7a-3ef3-464e-910f-591d9fc73067"
I0305 06:40:43.208791       1 gateway.go:329] "-- In RequestBody processing ..." requestID="67837208-5266-49fd-b79a-68cba9d139b8"
I0305 06:40:43.209184       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="67837208-5266-49fd-b79a-68cba9d139b8" model="qwen2-5-7b-instruct"
I0305 06:40:43.215427       1 gateway.go:562] latency, 0.0001, summary, hash(request), d99c6fba, selectedpod, 10.0.1.53:8000, ttft, 398, tpot, 20, e2e, 581, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:43.215448       1 gateway.go:748] "Request completed" requestID="76bbf776-ce4a-4c19-86cc-4b175c8e8370" targetPod="10.0.1.53:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:43.215461       1 gateway.go:764] "HandleResponseBody completed" requestID="76bbf776-ce4a-4c19-86cc-4b175c8e8370" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:43.232394       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0494, numInputTokens, 7598
I0305 06:40:43.232410       1 tree.go:471] Updated node(0) last access: 201.3304 seconds
I0305 06:40:43.232416       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.232419       1 tree.go:471] Updated node(2) last access: 201.3304 seconds
I0305 06:40:43.232433       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:43.232440       1 tree.go:471] Updated node(12) last access: 201.3304 seconds
I0305 06:40:43.232443       1 tree.go:490] Partial tokens match child node(215). Continue to go deeper in the radix tree
I0305 06:40:43.232446       1 tree.go:471] Updated node(215) last access: 201.3304 seconds
I0305 06:40:43.232450       1 tree.go:490] Partial tokens match child node(351). Continue to go deeper in the radix tree
I0305 06:40:43.232452       1 tree.go:471] Updated node(351) last access: 201.3304 seconds
I0305 06:40:43.232456       1 tree.go:484] Entire input tokens match the child node(352)
I0305 06:40:43.232460       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:43.232467       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:43.232472       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.232479       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.232462465 +0000 UTC m=+201.449189330 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:11.338147285 +0000 UTC m=+169.554874153]
I0305 06:40:43.232495       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:43.232505       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:43.232594       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7598
I0305 06:40:43.232604       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.232611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.232617       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.232623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.232628       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.232632       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.232636       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.232643       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.232653       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:43.232662       1 prefix_cache_and_load.go:584] latency, Route, 0.4205
I0305 06:40:43.232676       1 gateway.go:415] latency, selectTargetPod, 0.4205, target pod, 10.0.0.39:8000
I0305 06:40:43.232685       1 gateway.go:235] latency, HandleRequestBody, 0.4214
I0305 06:40:43.232714       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3899
I0305 06:40:43.232719       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.232722       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.232905       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.232961       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:43.232966       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.237173       1 gateway.go:608] "First token received" requestID="4cbe3f7a-3ef3-464e-910f-591d9fc73067" ttft_ms=476
I0305 06:40:43.252309       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9fba65fd-3096-4333-887f-59ecd8a562c5"
I0305 06:40:43.261088       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9ad21aa4, selectedpod, 10.0.0.34:8000, ttft, 447, tpot, 19, e2e, 620, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:40:43.261116       1 gateway.go:748] "Request completed" requestID="10739da1-c053-46cb-a4b6-688a40893f67" targetPod="10.0.0.34:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:40:43.261131       1 gateway.go:764] "HandleResponseBody completed" requestID="10739da1-c053-46cb-a4b6-688a40893f67" promptTokens=7614 completionTokens=10 stream=true
I0305 06:40:43.267873       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4adf05a4-4798-45ec-9ed7-2d1050f6120f"
I0305 06:40:43.268124       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4adf05a4-4798-45ec-9ed7-2d1050f6120f" model="qwen2-5-7b-instruct"
I0305 06:40:43.279090       1 gateway.go:608] "First token received" requestID="9fba65fd-3096-4333-887f-59ecd8a562c5" ttft_ms=467
I0305 06:40:43.300502       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ab205209-df90-4266-a681-c1c9e63989d3"
I0305 06:40:43.300737       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ab205209-df90-4266-a681-c1c9e63989d3" model="qwen2-5-7b-instruct"
I0305 06:40:43.316279       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0833, numInputTokens, 7602
I0305 06:40:43.316302       1 tree.go:471] Updated node(0) last access: 201.4142 seconds
I0305 06:40:43.316308       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.316311       1 tree.go:471] Updated node(2) last access: 201.4143 seconds
I0305 06:40:43.316326       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:43.316331       1 tree.go:471] Updated node(4) last access: 201.4143 seconds
I0305 06:40:43.316340       1 tree.go:667] Split complete - New node(482)
I0305 06:40:43.316346       1 tree.go:668] Split complete - Child node(167)
I0305 06:40:43.316350       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0305 06:40:43.316355       1 tree.go:471] Updated node(482) last access: 201.4143 seconds
I0305 06:40:43.316360       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:43.316365       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:43.316371       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:43.316377       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.316382       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.316367043 +0000 UTC m=+201.533093906]
I0305 06:40:43.316397       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7485, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:43.316403       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:43.316491       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7485
I0305 06:40:43.316500       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.316507       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.316522       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.316525       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.316531       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.316535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.316545       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.316555       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:43.316566       1 prefix_cache_and_load.go:584] latency, Route, 0.4738
I0305 06:40:43.316581       1 gateway.go:415] latency, selectTargetPod, 0.4738, target pod, 10.0.1.47:8000
I0305 06:40:43.316594       1 gateway.go:235] latency, HandleRequestBody, 0.4741
I0305 06:40:43.316597       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4207
I0305 06:40:43.316604       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.316609       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.316879       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.316946       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:43.316952       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.322968       1 gateway.go:562] latency, 0.0000, summary, hash(request), be249b14, selectedpod, 10.0.1.47:8000, ttft, 468, tpot, 19, e2e, 641, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:43.323000       1 gateway.go:748] "Request completed" requestID="4a0b7872-abc4-47aa-b7c5-faaa485f5fbf" targetPod="10.0.1.47:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:43.323013       1 gateway.go:764] "HandleResponseBody completed" requestID="4a0b7872-abc4-47aa-b7c5-faaa485f5fbf" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:43.331027       1 gateway.go:329] "-- In RequestBody processing ..." requestID="608f943d-d065-4571-820e-0878ece65ee3"
I0305 06:40:43.331253       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="608f943d-d065-4571-820e-0878ece65ee3" model="qwen2-5-7b-instruct"
I0305 06:40:43.336337       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ee1dd328-609b-4925-9aa5-92a5b7e55bbc"
I0305 06:40:43.367196       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dff18487-d109-4971-bdb9-7a81d7eea950"
I0305 06:40:43.367411       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dff18487-d109-4971-bdb9-7a81d7eea950" model="qwen2-5-7b-instruct"
I0305 06:40:43.377330       1 gateway.go:608] "First token received" requestID="ee1dd328-609b-4925-9aa5-92a5b7e55bbc" ttft_ms=534
I0305 06:40:43.384773       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0678, numInputTokens, 7602
I0305 06:40:43.384790       1 tree.go:471] Updated node(0) last access: 201.4827 seconds
I0305 06:40:43.384797       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.384801       1 tree.go:471] Updated node(2) last access: 201.4827 seconds
I0305 06:40:43.384815       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:43.384819       1 tree.go:471] Updated node(23) last access: 201.4828 seconds
I0305 06:40:43.384825       1 tree.go:484] Entire input tokens match the child node(350)
I0305 06:40:43.384829       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:40:43.384836       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:43.384843       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.384851       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.384831657 +0000 UTC m=+201.601558522 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:40:11.285714547 +0000 UTC m=+169.502441427]
I0305 06:40:43.384874       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:43.384883       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:43.384988       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7602
I0305 06:40:43.385003       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.385015       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.385024       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.385030       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.385035       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.385047       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.385061       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:43.385072       1 prefix_cache_and_load.go:584] latency, Route, 0.4892
I0305 06:40:43.385090       1 gateway.go:415] latency, selectTargetPod, 0.4892, target pod, 10.0.3.42:8000
I0305 06:40:43.385105       1 gateway.go:235] latency, HandleRequestBody, 0.4895
I0305 06:40:43.385163       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4043
I0305 06:40:43.385172       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.385175       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.385414       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.385467       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:43.385472       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.402056       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b2c7f52c-bc3b-4372-be94-d9e1a22c0ff8"
I0305 06:40:43.410461       1 gateway.go:562] latency, 0.0000, summary, hash(request), f713c83f, selectedpod, 10.0.1.53:8000, ttft, 476, tpot, 19, e2e, 649, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:43.410490       1 gateway.go:748] "Request completed" requestID="4cbe3f7a-3ef3-464e-910f-591d9fc73067" targetPod="10.0.1.53:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:43.410504       1 gateway.go:764] "HandleResponseBody completed" requestID="4cbe3f7a-3ef3-464e-910f-591d9fc73067" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:43.433995       1 gateway.go:608] "First token received" requestID="b2c7f52c-bc3b-4372-be94-d9e1a22c0ff8" ttft_ms=538
I0305 06:40:43.438116       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0526, numInputTokens, 7598
I0305 06:40:43.438135       1 tree.go:471] Updated node(0) last access: 201.5361 seconds
I0305 06:40:43.438141       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.438143       1 tree.go:471] Updated node(2) last access: 201.5361 seconds
I0305 06:40:43.438156       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:43.438161       1 tree.go:471] Updated node(23) last access: 201.5361 seconds
I0305 06:40:43.438166       1 tree.go:490] Partial tokens match child node(452). Continue to go deeper in the radix tree
I0305 06:40:43.438172       1 tree.go:471] Updated node(452) last access: 201.5361 seconds
I0305 06:40:43.438178       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0305 06:40:43.438183       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:43.438190       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:43.438197       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.438202       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.438184936 +0000 UTC m=+201.654911811]
I0305 06:40:43.438217       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7481, Matching ratio: 0.9846, # Matched pods: 0, Matched pods: []
I0305 06:40:43.438223       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9846 > 0.5000)
I0305 06:40:43.438292       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7481
I0305 06:40:43.438301       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.438308       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.438316       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.438323       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.438330       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.438334       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.438344       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.438352       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:43.438361       1 prefix_cache_and_load.go:584] latency, Route, 0.4575
I0305 06:40:43.438374       1 gateway.go:415] latency, selectTargetPod, 0.4575, target pod, 10.0.3.42:8000
I0305 06:40:43.438384       1 gateway.go:235] latency, HandleRequestBody, 0.4939
I0305 06:40:43.438408       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4182
I0305 06:40:43.438412       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.438415       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.438618       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.438687       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:43.438694       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.443583       1 gateway.go:329] "-- In RequestBody processing ..." requestID="461941da-9001-4f7a-b85a-f3a09027eb8f"
I0305 06:40:43.443808       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="461941da-9001-4f7a-b85a-f3a09027eb8f" model="qwen2-5-7b-instruct"
I0305 06:40:43.452908       1 gateway.go:562] latency, 0.0000, summary, hash(request), 442a2ae2, selectedpod, 10.0.0.39:8000, ttft, 467, tpot, 19, e2e, 641, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:43.452933       1 gateway.go:748] "Request completed" requestID="9fba65fd-3096-4333-887f-59ecd8a562c5" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:43.452947       1 gateway.go:764] "HandleResponseBody completed" requestID="9fba65fd-3096-4333-887f-59ecd8a562c5" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:43.454316       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="46104888-c411-4f69-823b-3083bbdf4928"
I0305 06:40:43.461298       1 gateway.go:329] "-- In RequestBody processing ..." requestID="80e7e78e-3818-4f40-b742-9d3c388b3a8a"
I0305 06:40:43.461498       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="80e7e78e-3818-4f40-b742-9d3c388b3a8a" model="qwen2-5-7b-instruct"
I0305 06:40:43.513462       1 gateway.go:608] "First token received" requestID="46104888-c411-4f69-823b-3083bbdf4928" ttft_ms=568
I0305 06:40:43.514309       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b2712ab7-b50c-4e0d-bce3-49427a8f3fc4"
I0305 06:40:43.514529       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b2712ab7-b50c-4e0d-bce3-49427a8f3fc4" model="qwen2-5-7b-instruct"
I0305 06:40:43.516634       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0779, numInputTokens, 7601
I0305 06:40:43.516653       1 tree.go:471] Updated node(0) last access: 201.6146 seconds
I0305 06:40:43.516659       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.516663       1 tree.go:471] Updated node(2) last access: 201.6146 seconds
I0305 06:40:43.516675       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:43.516680       1 tree.go:471] Updated node(31) last access: 201.6146 seconds
I0305 06:40:43.516682       1 tree.go:490] Partial tokens match child node(111). Continue to go deeper in the radix tree
I0305 06:40:43.516685       1 tree.go:471] Updated node(111) last access: 201.6146 seconds
I0305 06:40:43.516689       1 tree.go:490] Partial tokens match child node(344). Continue to go deeper in the radix tree
I0305 06:40:43.516692       1 tree.go:471] Updated node(344) last access: 201.6146 seconds
I0305 06:40:43.516697       1 tree.go:484] Entire input tokens match the child node(345)
I0305 06:40:43.516700       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:43.516707       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:43.516714       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.516719       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.516702839 +0000 UTC m=+201.733429704 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:11.01077341 +0000 UTC m=+169.227500275]
I0305 06:40:43.516738       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:43.516744       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:43.516809       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7601
I0305 06:40:43.516819       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.516827       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.516833       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.516838       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.516842       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.516846       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.516852       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.516860       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.516869       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:43.516881       1 prefix_cache_and_load.go:584] latency, Route, 0.4966
I0305 06:40:43.516895       1 gateway.go:415] latency, selectTargetPod, 0.4967, target pod, 10.0.1.28:8000
I0305 06:40:43.516906       1 gateway.go:235] latency, HandleRequestBody, 0.4970
I0305 06:40:43.516934       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4643
I0305 06:40:43.516938       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.516941       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.517146       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.517207       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:43.517212       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.536208       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7e3bf43e-7e10-478b-af65-a3858a33f822"
I0305 06:40:43.553012       1 gateway.go:329] "-- In RequestBody processing ..." requestID="948e5a02-c011-4fd7-b2e7-30869bb2256b"
I0305 06:40:43.553236       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="948e5a02-c011-4fd7-b2e7-30869bb2256b" model="qwen2-5-7b-instruct"
I0305 06:40:43.556662       1 gateway.go:562] latency, 0.0000, summary, hash(request), bf5195d8, selectedpod, 10.0.1.47:8000, ttft, 534, tpot, 19, e2e, 714, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:43.556679       1 gateway.go:748] "Request completed" requestID="ee1dd328-609b-4925-9aa5-92a5b7e55bbc" targetPod="10.0.1.47:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:43.556691       1 gateway.go:764] "HandleResponseBody completed" requestID="ee1dd328-609b-4925-9aa5-92a5b7e55bbc" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:43.568784       1 gateway.go:608] "First token received" requestID="7e3bf43e-7e10-478b-af65-a3858a33f822" ttft_ms=548
I0305 06:40:43.605267       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0880, numInputTokens, 7596
I0305 06:40:43.605286       1 tree.go:471] Updated node(0) last access: 201.7032 seconds
I0305 06:40:43.605292       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.605296       1 tree.go:471] Updated node(2) last access: 201.7032 seconds
I0305 06:40:43.605309       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:43.605315       1 tree.go:471] Updated node(31) last access: 201.7033 seconds
I0305 06:40:43.605319       1 tree.go:490] Partial tokens match child node(354). Continue to go deeper in the radix tree
I0305 06:40:43.605323       1 tree.go:471] Updated node(354) last access: 201.7033 seconds
I0305 06:40:43.605327       1 tree.go:490] Partial tokens match child node(361). Continue to go deeper in the radix tree
I0305 06:40:43.605332       1 tree.go:471] Updated node(361) last access: 201.7033 seconds
I0305 06:40:43.605337       1 tree.go:484] Entire input tokens match the child node(355)
I0305 06:40:43.605341       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:43.605348       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:43.605354       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.605359       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.605344062 +0000 UTC m=+201.822070927 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:11.497878727 +0000 UTC m=+169.714605592]
I0305 06:40:43.605378       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:43.605386       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:43.605466       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7596
I0305 06:40:43.605476       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.605484       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.605489       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.605495       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.605503       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.605507       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.605524       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.605537       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.605551       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:43.605565       1 prefix_cache_and_load.go:584] latency, Route, 0.5530
I0305 06:40:43.605583       1 gateway.go:415] latency, selectTargetPod, 0.5530, target pod, 10.0.1.28:8000
I0305 06:40:43.605597       1 gateway.go:235] latency, HandleRequestBody, 0.5534
I0305 06:40:43.605633       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5111
I0305 06:40:43.605645       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.605650       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.605905       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.605963       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:43.605977       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.612349       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c23bf366-98cf-4992-bece-f3b7ff88078f"
I0305 06:40:43.612678       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c23bf366-98cf-4992-bece-f3b7ff88078f" model="qwen2-5-7b-instruct"
I0305 06:40:43.624447       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3f87f7ce-7eea-468a-9d70-e32a646dd876"
I0305 06:40:43.645395       1 gateway.go:329] "-- In RequestBody processing ..." requestID="84194379-df60-495b-bb24-74cb994aab2c"
I0305 06:40:43.645618       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="84194379-df60-495b-bb24-74cb994aab2c" model="qwen2-5-7b-instruct"
I0305 06:40:43.653870       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8fcfe942, selectedpod, 10.0.3.42:8000, ttft, 538, tpot, 24, e2e, 758, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:43.653891       1 gateway.go:748] "Request completed" requestID="b2c7f52c-bc3b-4372-be94-d9e1a22c0ff8" targetPod="10.0.3.42:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:43.653902       1 gateway.go:764] "HandleResponseBody completed" requestID="b2c7f52c-bc3b-4372-be94-d9e1a22c0ff8" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:43.678639       1 gateway.go:608] "First token received" requestID="3f87f7ce-7eea-468a-9d70-e32a646dd876" ttft_ms=626
I0305 06:40:43.693096       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0871, numInputTokens, 7601
I0305 06:40:43.693116       1 tree.go:471] Updated node(0) last access: 201.7911 seconds
I0305 06:40:43.693122       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.693128       1 tree.go:471] Updated node(2) last access: 201.7911 seconds
I0305 06:40:43.693140       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:43.693144       1 tree.go:471] Updated node(23) last access: 201.7911 seconds
I0305 06:40:43.693148       1 tree.go:484] Entire input tokens match the child node(360)
I0305 06:40:43.693151       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:43.693160       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:43.693169       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.693176       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.693154694 +0000 UTC m=+201.909881559 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:40:11.687650551 +0000 UTC m=+169.904377414]
I0305 06:40:43.693202       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:43.693212       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:43.693255       1 gateway.go:562] latency, 0.0001, summary, hash(request), 24058692, selectedpod, 10.0.3.42:8000, ttft, 568, tpot, 19, e2e, 748, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:43.693276       1 gateway.go:748] "Request completed" requestID="46104888-c411-4f69-823b-3083bbdf4928" targetPod="10.0.3.42:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:43.693286       1 gateway.go:764] "HandleResponseBody completed" requestID="46104888-c411-4f69-823b-3083bbdf4928" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:43.693301       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7601
I0305 06:40:43.693311       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.693321       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.693327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.693331       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.693337       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.693347       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.693360       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:43.693373       1 prefix_cache_and_load.go:584] latency, Route, 0.5988
I0305 06:40:43.693392       1 gateway.go:415] latency, selectTargetPod, 0.5988, target pod, 10.0.3.42:8000
I0305 06:40:43.693407       1 gateway.go:235] latency, HandleRequestBody, 0.5992
I0305 06:40:43.693416       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5145
I0305 06:40:43.693422       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.693425       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.693743       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.693809       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:43.693815       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.709287       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="55254bf0-3161-4931-b1bf-1aa387320437"
I0305 06:40:43.741041       1 gateway.go:608] "First token received" requestID="55254bf0-3161-4931-b1bf-1aa387320437" ttft_ms=646
I0305 06:40:43.743641       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0498, numInputTokens, 7601
I0305 06:40:43.743658       1 tree.go:471] Updated node(0) last access: 201.8416 seconds
I0305 06:40:43.743665       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.743668       1 tree.go:471] Updated node(2) last access: 201.8416 seconds
I0305 06:40:43.743683       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:43.743686       1 tree.go:471] Updated node(12) last access: 201.8416 seconds
I0305 06:40:43.743689       1 tree.go:490] Partial tokens match child node(190). Continue to go deeper in the radix tree
I0305 06:40:43.743692       1 tree.go:471] Updated node(190) last access: 201.8416 seconds
I0305 06:40:43.743696       1 tree.go:484] Entire input tokens match the child node(363)
I0305 06:40:43.743701       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:43.743708       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:43.743717       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.743722       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.743703352 +0000 UTC m=+201.960430224 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:11.90931204 +0000 UTC m=+170.126038905]
I0305 06:40:43.743737       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:43.743747       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:43.743841       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7601
I0305 06:40:43.743856       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.743865       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.743871       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.743875       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.743883       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.743887       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.743899       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.743908       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:43.743917       1 prefix_cache_and_load.go:584] latency, Route, 0.5650
I0305 06:40:43.743932       1 gateway.go:415] latency, selectTargetPod, 0.5650, target pod, 10.0.0.39:8000
I0305 06:40:43.743944       1 gateway.go:235] latency, HandleRequestBody, 0.5653
I0305 06:40:43.743946       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5346
I0305 06:40:43.743955       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.743958       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.744282       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.744343       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:43.744350       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.778815       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="554de937-51ad-4c5a-b968-64776b3a56f5"
I0305 06:40:43.779026       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7289b4be, selectedpod, 10.0.1.28:8000, ttft, 548, tpot, 23, e2e, 759, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:43.779047       1 gateway.go:748] "Request completed" requestID="7e3bf43e-7e10-478b-af65-a3858a33f822" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:43.779059       1 gateway.go:764] "HandleResponseBody completed" requestID="7e3bf43e-7e10-478b-af65-a3858a33f822" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:43.795830       1 gateway.go:608] "First token received" requestID="554de937-51ad-4c5a-b968-64776b3a56f5" ttft_ms=617
I0305 06:40:43.824492       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0801, numInputTokens, 7594
I0305 06:40:43.824519       1 tree.go:471] Updated node(0) last access: 201.9225 seconds
I0305 06:40:43.824526       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.824530       1 tree.go:471] Updated node(2) last access: 201.9225 seconds
I0305 06:40:43.824543       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:43.824548       1 tree.go:471] Updated node(53) last access: 201.9225 seconds
I0305 06:40:43.824553       1 tree.go:484] Entire input tokens match the child node(353)
I0305 06:40:43.824557       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7594 tokens
I0305 06:40:43.824563       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:40:43.824569       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.824575       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.824559209 +0000 UTC m=+202.041286082 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:11.416168227 +0000 UTC m=+169.632895097]
I0305 06:40:43.824592       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7594, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:43.824599       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:43.824669       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7594
I0305 06:40:43.824678       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.824686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.824690       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.824696       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.824702       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.824710       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.824720       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:43.824730       1 prefix_cache_and_load.go:584] latency, Route, 0.6154
I0305 06:40:43.824744       1 gateway.go:415] latency, selectTargetPod, 0.6154, target pod, 10.0.0.34:8000
I0305 06:40:43.824755       1 gateway.go:235] latency, HandleRequestBody, 0.6160
I0305 06:40:43.824783       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5566
I0305 06:40:43.824788       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.824791       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.825030       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.825101       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:43.825108       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.836649       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2e64666b, selectedpod, 10.0.1.28:8000, ttft, 626, tpot, 17, e2e, 784, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:43.836669       1 gateway.go:748] "Request completed" requestID="3f87f7ce-7eea-468a-9d70-e32a646dd876" targetPod="10.0.1.28:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:43.836680       1 gateway.go:764] "HandleResponseBody completed" requestID="3f87f7ce-7eea-468a-9d70-e32a646dd876" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:43.843354       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="67837208-5266-49fd-b79a-68cba9d139b8"
I0305 06:40:43.868092       1 gateway.go:207] "Processing request" requestID="b24fbb32-7ec4-428f-99fc-6bac21b9fb5c"
I0305 06:40:43.868116       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b24fbb32-7ec4-428f-99fc-6bac21b9fb5c"
I0305 06:40:43.868125       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:43.878874       1 gateway.go:608] "First token received" requestID="67837208-5266-49fd-b79a-68cba9d139b8" ttft_ms=670
I0305 06:40:43.885714       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0606, numInputTokens, 7596
I0305 06:40:43.885732       1 tree.go:471] Updated node(0) last access: 201.9837 seconds
I0305 06:40:43.885740       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.885743       1 tree.go:471] Updated node(2) last access: 201.9837 seconds
I0305 06:40:43.885759       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:43.885763       1 tree.go:471] Updated node(4) last access: 201.9837 seconds
I0305 06:40:43.885769       1 tree.go:490] Partial tokens match child node(346). Continue to go deeper in the radix tree
I0305 06:40:43.885772       1 tree.go:471] Updated node(346) last access: 201.9837 seconds
I0305 06:40:43.885777       1 tree.go:490] Partial tokens match child node(394). Continue to go deeper in the radix tree
I0305 06:40:43.885781       1 tree.go:471] Updated node(394) last access: 201.9837 seconds
I0305 06:40:43.885787       1 tree.go:484] Entire input tokens match the child node(347)
I0305 06:40:43.885791       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:43.885800       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:43.885808       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.885818       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.885794076 +0000 UTC m=+202.102520944 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:40:11.147777839 +0000 UTC m=+169.364504702]
I0305 06:40:43.885841       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:43.885852       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:43.885930       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7596
I0305 06:40:43.885940       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.885947       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.885952       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.885956       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.885960       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.885962       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.885966       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.886026       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0001
I0305 06:40:43.886036       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:43.886046       1 prefix_cache_and_load.go:584] latency, Route, 0.6178
I0305 06:40:43.886072       1 gateway.go:415] latency, selectTargetPod, 0.6178, target pod, 10.0.1.47:8000
I0305 06:40:43.886084       1 gateway.go:235] latency, HandleRequestBody, 0.6182
I0305 06:40:43.886114       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5853
I0305 06:40:43.886119       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.886122       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.886379       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.886448       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:43.886455       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.911797       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4adf05a4-4798-45ec-9ed7-2d1050f6120f"
I0305 06:40:43.914065       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0773876d, selectedpod, 10.0.3.42:8000, ttft, 646, tpot, 19, e2e, 819, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:43.914084       1 gateway.go:748] "Request completed" requestID="55254bf0-3161-4931-b1bf-1aa387320437" targetPod="10.0.3.42:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:43.914095       1 gateway.go:764] "HandleResponseBody completed" requestID="55254bf0-3161-4931-b1bf-1aa387320437" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:43.935016       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 7598
I0305 06:40:43.935034       1 tree.go:471] Updated node(0) last access: 202.0330 seconds
I0305 06:40:43.935040       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:43.935044       1 tree.go:471] Updated node(2) last access: 202.0330 seconds
I0305 06:40:43.935057       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:43.935062       1 tree.go:471] Updated node(12) last access: 202.0330 seconds
I0305 06:40:43.935065       1 tree.go:490] Partial tokens match child node(304). Continue to go deeper in the radix tree
I0305 06:40:43.935071       1 tree.go:471] Updated node(304) last access: 202.0330 seconds
I0305 06:40:43.935076       1 tree.go:490] Partial tokens match child node(358). Continue to go deeper in the radix tree
I0305 06:40:43.935083       1 tree.go:471] Updated node(358) last access: 202.0330 seconds
I0305 06:40:43.935089       1 tree.go:484] Entire input tokens match the child node(359)
I0305 06:40:43.935095       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:43.935102       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:43.935109       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:43.935114       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:43.935097841 +0000 UTC m=+202.151824705 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:11.626945652 +0000 UTC m=+169.843672517]
I0305 06:40:43.935133       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:43.935142       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:43.935271       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7598
I0305 06:40:43.935281       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:43.935288       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.935292       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.935296       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.935302       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.935308       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.935323       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:43.935331       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:43.935341       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:43.935350       1 prefix_cache_and_load.go:584] latency, Route, 0.6345
I0305 06:40:43.935368       1 gateway.go:415] latency, selectTargetPod, 0.6346, target pod, 10.0.0.39:8000
I0305 06:40:43.935382       1 gateway.go:235] latency, HandleRequestBody, 0.6349
I0305 06:40:43.935382       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6040
I0305 06:40:43.935392       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:43.935402       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:43.935703       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:43.935774       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:43.935782       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:43.940893       1 gateway.go:608] "First token received" requestID="4adf05a4-4798-45ec-9ed7-2d1050f6120f" ttft_ms=672
I0305 06:40:43.978633       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ab205209-df90-4266-a681-c1c9e63989d3"
I0305 06:40:43.981008       1 gateway.go:562] latency, 0.0001, summary, hash(request), 40940932, selectedpod, 10.0.0.39:8000, ttft, 617, tpot, 20, e2e, 802, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:43.981036       1 gateway.go:748] "Request completed" requestID="554de937-51ad-4c5a-b968-64776b3a56f5" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:43.981050       1 gateway.go:764] "HandleResponseBody completed" requestID="554de937-51ad-4c5a-b968-64776b3a56f5" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:43.991424       1 gateway.go:608] "First token received" requestID="ab205209-df90-4266-a681-c1c9e63989d3" ttft_ms=690
I0305 06:40:44.023155       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0874, numInputTokens, 7596
I0305 06:40:44.023172       1 tree.go:471] Updated node(0) last access: 202.1211 seconds
I0305 06:40:44.023179       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:44.023183       1 tree.go:471] Updated node(2) last access: 202.1211 seconds
I0305 06:40:44.023198       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:44.023201       1 tree.go:471] Updated node(31) last access: 202.1211 seconds
I0305 06:40:44.023204       1 tree.go:490] Partial tokens match child node(354). Continue to go deeper in the radix tree
I0305 06:40:44.023210       1 tree.go:471] Updated node(354) last access: 202.1212 seconds
I0305 06:40:44.023213       1 tree.go:490] Partial tokens match child node(361). Continue to go deeper in the radix tree
I0305 06:40:44.023216       1 tree.go:471] Updated node(361) last access: 202.1212 seconds
I0305 06:40:44.023221       1 tree.go:484] Entire input tokens match the child node(362)
I0305 06:40:44.023224       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:44.023232       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:44.023242       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:44.023249       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:44.023227094 +0000 UTC m=+202.239953958 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:11.742603725 +0000 UTC m=+169.959330596]
I0305 06:40:44.023271       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:44.023280       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:44.023380       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7596
I0305 06:40:44.023390       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:44.023397       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.023404       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.023413       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.023420       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.023425       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.023427       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.023435       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:44.023445       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:44.023454       1 prefix_cache_and_load.go:584] latency, Route, 0.6921
I0305 06:40:44.023471       1 gateway.go:415] latency, selectTargetPod, 0.6921, target pod, 10.0.1.28:8000
I0305 06:40:44.023484       1 gateway.go:235] latency, HandleRequestBody, 0.6925
I0305 06:40:44.023530       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6560
I0305 06:40:44.023543       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:44.023548       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:44.023855       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:44.023925       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:44.023933       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:44.043045       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="608f943d-d065-4571-820e-0878ece65ee3"
I0305 06:40:44.047774       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5f820975, selectedpod, 10.0.0.34:8000, ttft, 670, tpot, 18, e2e, 838, numInputTokens, 7613, numOutputTokens, 10, numTotalTokens, 7623
I0305 06:40:44.047793       1 gateway.go:748] "Request completed" requestID="67837208-5266-49fd-b79a-68cba9d139b8" targetPod="10.0.0.34:8000" promptTokens=7613 completionTokens=10 totalTokens=7623
I0305 06:40:44.047804       1 gateway.go:764] "HandleResponseBody completed" requestID="67837208-5266-49fd-b79a-68cba9d139b8" promptTokens=7613 completionTokens=10 stream=true
I0305 06:40:44.048045       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b24fbb32-7ec4-428f-99fc-6bac21b9fb5c"
I0305 06:40:44.048245       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b24fbb32-7ec4-428f-99fc-6bac21b9fb5c" model="qwen2-5-7b-instruct"
I0305 06:40:44.078657       1 gateway.go:608] "First token received" requestID="608f943d-d065-4571-820e-0878ece65ee3" ttft_ms=747
I0305 06:40:44.083296       1 gateway.go:207] "Processing request" requestID="5183faab-7ed1-45d6-ad7c-83bbf1e5acdb"
I0305 06:40:44.083324       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5183faab-7ed1-45d6-ad7c-83bbf1e5acdb"
I0305 06:40:44.083332       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:44.109661       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0857, numInputTokens, 7595
I0305 06:40:44.109674       1 tree.go:471] Updated node(0) last access: 202.2076 seconds
I0305 06:40:44.109680       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:44.109683       1 tree.go:471] Updated node(2) last access: 202.2076 seconds
I0305 06:40:44.109696       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:44.109700       1 tree.go:471] Updated node(51) last access: 202.2076 seconds
I0305 06:40:44.109704       1 tree.go:490] Partial tokens match child node(356). Continue to go deeper in the radix tree
I0305 06:40:44.109706       1 tree.go:471] Updated node(356) last access: 202.2076 seconds
I0305 06:40:44.109711       1 tree.go:484] Entire input tokens match the child node(357)
I0305 06:40:44.109715       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7595 tokens
I0305 06:40:44.109722       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:44.109729       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:44.109737       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:44.109717514 +0000 UTC m=+202.326444378 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:11.551162957 +0000 UTC m=+169.767889822]
I0305 06:40:44.109754       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7595, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:44.109761       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:44.109835       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7595
I0305 06:40:44.109844       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:44.109853       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.109856       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.109862       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.109869       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.109873       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.109884       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:44.109893       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:44.109902       1 prefix_cache_and_load.go:584] latency, Route, 0.7424
I0305 06:40:44.109915       1 gateway.go:415] latency, selectTargetPod, 0.7424, target pod, 10.0.1.28:8000
I0305 06:40:44.109924       1 gateway.go:235] latency, HandleRequestBody, 0.7427
I0305 06:40:44.109949       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6661
I0305 06:40:44.109953       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:44.109957       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:44.110176       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:44.110232       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:44.110238       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:44.114542       1 gateway.go:562] latency, 0.0001, summary, hash(request), e667d0be, selectedpod, 10.0.1.47:8000, ttft, 672, tpot, 19, e2e, 846, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:44.114562       1 gateway.go:748] "Request completed" requestID="4adf05a4-4798-45ec-9ed7-2d1050f6120f" targetPod="10.0.1.47:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:44.114572       1 gateway.go:764] "HandleResponseBody completed" requestID="4adf05a4-4798-45ec-9ed7-2d1050f6120f" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:44.127850       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dff18487-d109-4971-bdb9-7a81d7eea950"
I0305 06:40:44.161386       1 gateway.go:608] "First token received" requestID="dff18487-d109-4971-bdb9-7a81d7eea950" ttft_ms=794
I0305 06:40:44.166207       1 gateway.go:562] latency, 0.0000, summary, hash(request), d5033f16, selectedpod, 10.0.0.39:8000, ttft, 690, tpot, 19, e2e, 865, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:44.166235       1 gateway.go:748] "Request completed" requestID="ab205209-df90-4266-a681-c1c9e63989d3" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:44.166251       1 gateway.go:764] "HandleResponseBody completed" requestID="ab205209-df90-4266-a681-c1c9e63989d3" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:44.195506       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0853, numInputTokens, 7598
I0305 06:40:44.195534       1 tree.go:471] Updated node(0) last access: 202.2935 seconds
I0305 06:40:44.195540       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:44.195543       1 tree.go:471] Updated node(2) last access: 202.2935 seconds
I0305 06:40:44.195556       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:44.195559       1 tree.go:471] Updated node(4) last access: 202.2935 seconds
I0305 06:40:44.195562       1 tree.go:490] Partial tokens match child node(426). Continue to go deeper in the radix tree
I0305 06:40:44.195566       1 tree.go:471] Updated node(426) last access: 202.2935 seconds
I0305 06:40:44.195570       1 tree.go:484] Entire input tokens match the child node(366)
I0305 06:40:44.195572       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:44.195579       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:44.195587       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:44.195592       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:44.195574854 +0000 UTC m=+202.412301719 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:40:12.127377982 +0000 UTC m=+170.344104847]
I0305 06:40:44.195612       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:44.195618       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:44.195697       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7598
I0305 06:40:44.195706       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:44.195713       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.195718       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.195723       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.195728       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.195732       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.195740       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:44.195750       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:44.195761       1 prefix_cache_and_load.go:584] latency, Route, 0.7519
I0305 06:40:44.195774       1 gateway.go:415] latency, selectTargetPod, 0.7519, target pod, 10.0.1.47:8000
I0305 06:40:44.195787       1 gateway.go:235] latency, HandleRequestBody, 0.7522
I0305 06:40:44.195827       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7173
I0305 06:40:44.195839       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:44.195843       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:44.196168       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:44.196235       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:44.196242       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:44.214915       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="461941da-9001-4f7a-b85a-f3a09027eb8f"
I0305 06:40:44.239824       1 gateway.go:608] "First token received" requestID="461941da-9001-4f7a-b85a-f3a09027eb8f" ttft_ms=796
I0305 06:40:44.245453       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 7603
I0305 06:40:44.245469       1 tree.go:471] Updated node(0) last access: 202.3434 seconds
I0305 06:40:44.245477       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:44.245482       1 tree.go:471] Updated node(2) last access: 202.3434 seconds
I0305 06:40:44.245519       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:44.245526       1 tree.go:471] Updated node(26) last access: 202.3435 seconds
I0305 06:40:44.245531       1 tree.go:490] Partial tokens match child node(369). Continue to go deeper in the radix tree
I0305 06:40:44.245535       1 tree.go:471] Updated node(369) last access: 202.3435 seconds
I0305 06:40:44.245542       1 tree.go:484] Entire input tokens match the child node(370)
I0305 06:40:44.245547       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:40:44.245554       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:44.245561       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:44.245566       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:44.245549051 +0000 UTC m=+202.462275915 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:40:12.479234597 +0000 UTC m=+170.695961461]
I0305 06:40:44.245583       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:44.245590       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:44.245666       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7603
I0305 06:40:44.245675       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:44.245685       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.245693       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.245697       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.245703       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.245707       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.245714       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:44.245724       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:44.245733       1 prefix_cache_and_load.go:584] latency, Route, 0.7672
I0305 06:40:44.245748       1 gateway.go:415] latency, selectTargetPod, 0.7672, target pod, 10.0.3.41:8000
I0305 06:40:44.245763       1 gateway.go:235] latency, HandleRequestBody, 0.7845
I0305 06:40:44.245792       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7312
I0305 06:40:44.245797       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:44.245800       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:44.246039       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:44.246119       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:44.246126       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:44.246942       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5183faab-7ed1-45d6-ad7c-83bbf1e5acdb"
I0305 06:40:44.247161       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5183faab-7ed1-45d6-ad7c-83bbf1e5acdb" model="qwen2-5-7b-instruct"
I0305 06:40:44.279363       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="80e7e78e-3818-4f40-b742-9d3c388b3a8a"
I0305 06:40:44.279968       1 gateway.go:207] "Processing request" requestID="e1bb4262-81c9-4a53-bb7b-d3471a9acb34"
I0305 06:40:44.280011       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e1bb4262-81c9-4a53-bb7b-d3471a9acb34"
I0305 06:40:44.280021       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:44.284232       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6660bb85, selectedpod, 10.0.1.28:8000, ttft, 747, tpot, 22, e2e, 953, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:44.284256       1 gateway.go:748] "Request completed" requestID="608f943d-d065-4571-820e-0878ece65ee3" targetPod="10.0.1.28:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:44.284268       1 gateway.go:764] "HandleResponseBody completed" requestID="608f943d-d065-4571-820e-0878ece65ee3" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:44.297556       1 gateway.go:608] "First token received" requestID="80e7e78e-3818-4f40-b742-9d3c388b3a8a" ttft_ms=836
I0305 06:40:44.320274       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0741, numInputTokens, 7603
I0305 06:40:44.320293       1 tree.go:471] Updated node(0) last access: 202.4182 seconds
I0305 06:40:44.320299       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:44.320303       1 tree.go:471] Updated node(2) last access: 202.4182 seconds
I0305 06:40:44.320318       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:44.320323       1 tree.go:471] Updated node(23) last access: 202.4183 seconds
I0305 06:40:44.320327       1 tree.go:490] Partial tokens match child node(452). Continue to go deeper in the radix tree
I0305 06:40:44.320330       1 tree.go:471] Updated node(452) last access: 202.4183 seconds
I0305 06:40:44.320334       1 tree.go:490] Partial tokens match child node(373). Continue to go deeper in the radix tree
I0305 06:40:44.320337       1 tree.go:471] Updated node(373) last access: 202.4183 seconds
I0305 06:40:44.320341       1 tree.go:484] Entire input tokens match the child node(374)
I0305 06:40:44.320345       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:40:44.320352       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:44.320359       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:44.320364       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:44.320347356 +0000 UTC m=+202.537074220 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:40:12.597095538 +0000 UTC m=+170.813822403]
I0305 06:40:44.320380       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:44.320388       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:44.320453       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7603
I0305 06:40:44.320462       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:44.320470       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.320476       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.320481       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.320487       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.320492       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.320497       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.320505       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:44.320522       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:44.320532       1 prefix_cache_and_load.go:584] latency, Route, 0.8059
I0305 06:40:44.320546       1 gateway.go:415] latency, selectTargetPod, 0.8059, target pod, 10.0.3.42:8000
I0305 06:40:44.320557       1 gateway.go:235] latency, HandleRequestBody, 0.8063
I0305 06:40:44.320557       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7672
I0305 06:40:44.320566       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:44.320571       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:44.320829       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:44.320895       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:44.320900       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:44.337573       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b2712ab7-b50c-4e0d-bce3-49427a8f3fc4"
I0305 06:40:44.339057       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e1bb4262-81c9-4a53-bb7b-d3471a9acb34"
I0305 06:40:44.339341       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e1bb4262-81c9-4a53-bb7b-d3471a9acb34" model="qwen2-5-7b-instruct"
I0305 06:40:44.341720       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7fe716c2, selectedpod, 10.0.1.28:8000, ttft, 794, tpot, 20, e2e, 974, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:40:44.341736       1 gateway.go:748] "Request completed" requestID="dff18487-d109-4971-bdb9-7a81d7eea950" targetPod="10.0.1.28:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:40:44.341744       1 gateway.go:764] "HandleResponseBody completed" requestID="dff18487-d109-4971-bdb9-7a81d7eea950" promptTokens=7614 completionTokens=10 stream=true
I0305 06:40:44.369854       1 gateway.go:608] "First token received" requestID="b2712ab7-b50c-4e0d-bce3-49427a8f3fc4" ttft_ms=855
I0305 06:40:44.389008       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0681, numInputTokens, 7598
I0305 06:40:44.389024       1 tree.go:471] Updated node(0) last access: 202.4870 seconds
I0305 06:40:44.389031       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:44.389035       1 tree.go:471] Updated node(2) last access: 202.4870 seconds
I0305 06:40:44.389049       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:44.389054       1 tree.go:471] Updated node(45) last access: 202.4870 seconds
I0305 06:40:44.389058       1 tree.go:490] Partial tokens match child node(198). Continue to go deeper in the radix tree
I0305 06:40:44.389060       1 tree.go:471] Updated node(198) last access: 202.4870 seconds
I0305 06:40:44.389064       1 tree.go:490] Partial tokens match child node(478). Continue to go deeper in the radix tree
I0305 06:40:44.389067       1 tree.go:471] Updated node(478) last access: 202.4870 seconds
I0305 06:40:44.389071       1 tree.go:490] Partial tokens match child node(371). Continue to go deeper in the radix tree
I0305 06:40:44.389073       1 tree.go:471] Updated node(371) last access: 202.4870 seconds
I0305 06:40:44.389079       1 tree.go:484] Entire input tokens match the child node(372)
I0305 06:40:44.389081       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:44.389089       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:44.389096       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:44.389101       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:44.389084082 +0000 UTC m=+202.605810946 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:12.532744026 +0000 UTC m=+170.749470898]
I0305 06:40:44.389118       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:44.389124       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:44.389188       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7598
I0305 06:40:44.389197       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:44.389204       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.389210       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.389215       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.389220       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.389225       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.389230       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.389236       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.389243       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:44.389252       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:44.389261       1 prefix_cache_and_load.go:584] latency, Route, 0.8360
I0305 06:40:44.389278       1 gateway.go:415] latency, selectTargetPod, 0.8360, target pod, 10.0.0.34:8000
I0305 06:40:44.389288       1 gateway.go:235] latency, HandleRequestBody, 0.8363
I0305 06:40:44.389307       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7765
I0305 06:40:44.389320       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:44.389325       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:44.389608       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:44.389676       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:44.389682       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:44.408231       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="948e5a02-c011-4fd7-b2e7-30869bb2256b"
I0305 06:40:44.412994       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6372f41e, selectedpod, 10.0.1.47:8000, ttft, 796, tpot, 19, e2e, 969, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:44.413016       1 gateway.go:748] "Request completed" requestID="461941da-9001-4f7a-b85a-f3a09027eb8f" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:44.413029       1 gateway.go:764] "HandleResponseBody completed" requestID="461941da-9001-4f7a-b85a-f3a09027eb8f" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:44.433260       1 gateway.go:608] "First token received" requestID="948e5a02-c011-4fd7-b2e7-30869bb2256b" ttft_ms=880
I0305 06:40:44.440435       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0507, numInputTokens, 7601
I0305 06:40:44.440454       1 tree.go:471] Updated node(0) last access: 202.5384 seconds
I0305 06:40:44.440460       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:44.440463       1 tree.go:471] Updated node(2) last access: 202.5384 seconds
I0305 06:40:44.440478       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:44.440485       1 tree.go:471] Updated node(12) last access: 202.5384 seconds
I0305 06:40:44.440489       1 tree.go:490] Partial tokens match child node(367). Continue to go deeper in the radix tree
I0305 06:40:44.440492       1 tree.go:471] Updated node(367) last access: 202.5384 seconds
I0305 06:40:44.440496       1 tree.go:484] Entire input tokens match the child node(368)
I0305 06:40:44.440499       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:44.440505       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:44.440522       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:44.440528       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:44.440501318 +0000 UTC m=+202.657228182 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:12.410576444 +0000 UTC m=+170.627303308]
I0305 06:40:44.440547       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:44.440555       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:44.440627       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7601
I0305 06:40:44.440636       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:44.440644       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.440650       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.440653       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.440658       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.440662       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.440675       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:44.440685       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:44.440696       1 prefix_cache_and_load.go:584] latency, Route, 0.8279
I0305 06:40:44.440711       1 gateway.go:415] latency, selectTargetPod, 0.8279, target pod, 10.0.0.39:8000
I0305 06:40:44.440723       1 gateway.go:235] latency, HandleRequestBody, 0.8284
I0305 06:40:44.440770       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7951
I0305 06:40:44.440786       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:44.440790       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:44.441078       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:44.441145       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:44.441151       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:44.460437       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c23bf366-98cf-4992-bece-f3b7ff88078f"
I0305 06:40:44.470795       1 gateway.go:562] latency, 0.0001, summary, hash(request), d86e9ae5, selectedpod, 10.0.3.41:8000, ttft, 836, tpot, 19, e2e, 1009, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:44.470811       1 gateway.go:748] "Request completed" requestID="80e7e78e-3818-4f40-b742-9d3c388b3a8a" targetPod="10.0.3.41:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:44.470821       1 gateway.go:764] "HandleResponseBody completed" requestID="80e7e78e-3818-4f40-b742-9d3c388b3a8a" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:44.491738       1 gateway.go:207] "Processing request" requestID="f61fae2d-9516-4fb2-b4c6-1e8e30983a72"
I0305 06:40:44.491765       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f61fae2d-9516-4fb2-b4c6-1e8e30983a72"
I0305 06:40:44.491774       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:44.492275       1 gateway.go:608] "First token received" requestID="c23bf366-98cf-4992-bece-f3b7ff88078f" ttft_ms=879
I0305 06:40:44.527232       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0861, numInputTokens, 7592
I0305 06:40:44.527252       1 tree.go:471] Updated node(0) last access: 202.6252 seconds
I0305 06:40:44.527258       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:44.527263       1 tree.go:471] Updated node(2) last access: 202.6252 seconds
I0305 06:40:44.527278       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:44.527283       1 tree.go:471] Updated node(8) last access: 202.6252 seconds
I0305 06:40:44.527286       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 06:40:44.527289       1 tree.go:471] Updated node(16) last access: 202.6252 seconds
I0305 06:40:44.527292       1 tree.go:490] Partial tokens match child node(34). Continue to go deeper in the radix tree
I0305 06:40:44.527296       1 tree.go:471] Updated node(34) last access: 202.6252 seconds
I0305 06:40:44.527300       1 tree.go:490] Partial tokens match child node(364). Continue to go deeper in the radix tree
I0305 06:40:44.527302       1 tree.go:471] Updated node(364) last access: 202.6252 seconds
I0305 06:40:44.527306       1 tree.go:484] Entire input tokens match the child node(365)
I0305 06:40:44.527309       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7592 tokens
I0305 06:40:44.527316       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7592 tokens
I0305 06:40:44.527322       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:44.527328       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:44.527311649 +0000 UTC m=+202.744038513 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:12.052077001 +0000 UTC m=+170.268803866]
I0305 06:40:44.527349       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7592, Matched tokens: 7592, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:44.527358       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:44.527438       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7592
I0305 06:40:44.527447       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:44.527457       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.527461       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.527464       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.527469       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.527474       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.527480       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.527483       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.527492       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:44.527503       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:44.527522       1 prefix_cache_and_load.go:584] latency, Route, 0.8818
I0305 06:40:44.527540       1 gateway.go:415] latency, selectTargetPod, 0.8818, target pod, 10.0.1.53:8000
I0305 06:40:44.527549       1 gateway.go:235] latency, HandleRequestBody, 0.8822
I0305 06:40:44.527630       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4793
I0305 06:40:44.527636       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:44.527639       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:44.527834       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:44.527886       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:44.527891       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:44.529244       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f61fae2d-9516-4fb2-b4c6-1e8e30983a72"
I0305 06:40:44.529458       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f61fae2d-9516-4fb2-b4c6-1e8e30983a72" model="qwen2-5-7b-instruct"
I0305 06:40:44.542870       1 gateway.go:562] latency, 0.0001, summary, hash(request), 4a62c86d, selectedpod, 10.0.3.42:8000, ttft, 855, tpot, 19, e2e, 1028, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:44.542894       1 gateway.go:748] "Request completed" requestID="b2712ab7-b50c-4e0d-bce3-49427a8f3fc4" targetPod="10.0.3.42:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:44.542904       1 gateway.go:764] "HandleResponseBody completed" requestID="b2712ab7-b50c-4e0d-bce3-49427a8f3fc4" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:44.546932       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="84194379-df60-495b-bb24-74cb994aab2c"
I0305 06:40:44.579262       1 gateway.go:608] "First token received" requestID="84194379-df60-495b-bb24-74cb994aab2c" ttft_ms=933
I0305 06:40:44.606624       1 gateway.go:562] latency, 0.0000, summary, hash(request), e876e47e, selectedpod, 10.0.0.34:8000, ttft, 880, tpot, 19, e2e, 1053, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:44.606645       1 gateway.go:748] "Request completed" requestID="948e5a02-c011-4fd7-b2e7-30869bb2256b" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:44.606655       1 gateway.go:764] "HandleResponseBody completed" requestID="948e5a02-c011-4fd7-b2e7-30869bb2256b" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:44.611977       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0841, numInputTokens, 7598
I0305 06:40:44.611997       1 tree.go:471] Updated node(0) last access: 202.7099 seconds
I0305 06:40:44.612005       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:44.612008       1 tree.go:471] Updated node(2) last access: 202.7099 seconds
I0305 06:40:44.612023       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:44.612027       1 tree.go:471] Updated node(45) last access: 202.7100 seconds
I0305 06:40:44.612032       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:44.612035       1 tree.go:471] Updated node(175) last access: 202.7100 seconds
I0305 06:40:44.612042       1 tree.go:484] Entire input tokens match the child node(406)
I0305 06:40:44.612046       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:44.612054       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:44.612064       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:44.612071       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:44.612048748 +0000 UTC m=+202.828775626 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:17.73426825 +0000 UTC m=+175.950995115]
I0305 06:40:44.612092       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:44.612102       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:44.612241       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7598
I0305 06:40:44.612254       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:44.612266       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.612276       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.612281       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.612288       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.612294       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.612305       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:44.612318       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:44.612343       1 prefix_cache_and_load.go:584] latency, Route, 0.5640
I0305 06:40:44.612359       1 gateway.go:415] latency, selectTargetPod, 0.5640, target pod, 10.0.0.34:8000
I0305 06:40:44.612372       1 gateway.go:235] latency, HandleRequestBody, 0.5643
I0305 06:40:44.612379       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3651
I0305 06:40:44.612388       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:44.612392       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:44.612736       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:44.612820       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:44.612829       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:44.631780       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b24fbb32-7ec4-428f-99fc-6bac21b9fb5c"
I0305 06:40:44.656477       1 gateway.go:608] "First token received" requestID="b24fbb32-7ec4-428f-99fc-6bac21b9fb5c" ttft_ms=608
I0305 06:40:44.678824       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6e206519, selectedpod, 10.0.0.39:8000, ttft, 879, tpot, 20, e2e, 1066, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:44.678854       1 gateway.go:748] "Request completed" requestID="c23bf366-98cf-4992-bece-f3b7ff88078f" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:44.678867       1 gateway.go:764] "HandleResponseBody completed" requestID="c23bf366-98cf-4992-bece-f3b7ff88078f" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:44.680315       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0675, numInputTokens, 7596
I0305 06:40:44.680334       1 tree.go:471] Updated node(0) last access: 202.7783 seconds
I0305 06:40:44.680342       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:44.680348       1 tree.go:471] Updated node(2) last access: 202.7783 seconds
I0305 06:40:44.680361       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:44.680365       1 tree.go:471] Updated node(4) last access: 202.7783 seconds
I0305 06:40:44.680368       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:40:44.680372       1 tree.go:471] Updated node(63) last access: 202.7783 seconds
I0305 06:40:44.680375       1 tree.go:490] Partial tokens match child node(386). Continue to go deeper in the radix tree
I0305 06:40:44.680378       1 tree.go:471] Updated node(386) last access: 202.7783 seconds
I0305 06:40:44.680383       1 tree.go:484] Entire input tokens match the child node(387)
I0305 06:40:44.680386       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:44.680394       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:44.680401       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:44.680409       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:44.680389457 +0000 UTC m=+202.897116321 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:40:16.495161716 +0000 UTC m=+174.711888582]
I0305 06:40:44.680442       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:44.680453       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:44.680539       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7596
I0305 06:40:44.680550       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:44.680559       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.680565       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.680569       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.680574       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.680578       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.680583       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.680591       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:44.680600       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:44.680611       1 prefix_cache_and_load.go:584] latency, Route, 0.4334
I0305 06:40:44.680628       1 gateway.go:415] latency, selectTargetPod, 0.4334, target pod, 10.0.1.47:8000
I0305 06:40:44.680641       1 gateway.go:235] latency, HandleRequestBody, 0.4337
I0305 06:40:44.680670       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3412
I0305 06:40:44.680675       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:44.680678       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:44.680866       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:44.680922       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:44.680927       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:44.682915       1 gateway.go:207] "Processing request" requestID="8f38eb5e-3131-4e16-852c-59e692c7abd4"
I0305 06:40:44.682947       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8f38eb5e-3131-4e16-852c-59e692c7abd4"
I0305 06:40:44.682957       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:44.700842       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5183faab-7ed1-45d6-ad7c-83bbf1e5acdb"
I0305 06:40:44.728102       1 gateway.go:608] "First token received" requestID="5183faab-7ed1-45d6-ad7c-83bbf1e5acdb" ttft_ms=481
I0305 06:40:44.729183       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 7599
I0305 06:40:44.729198       1 tree.go:471] Updated node(0) last access: 202.8271 seconds
I0305 06:40:44.729206       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:44.729211       1 tree.go:471] Updated node(2) last access: 202.8272 seconds
I0305 06:40:44.729226       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:44.729230       1 tree.go:471] Updated node(18) last access: 202.8272 seconds
I0305 06:40:44.729234       1 tree.go:490] Partial tokens match child node(379). Continue to go deeper in the radix tree
I0305 06:40:44.729236       1 tree.go:471] Updated node(379) last access: 202.8272 seconds
I0305 06:40:44.729241       1 tree.go:484] Entire input tokens match the child node(380)
I0305 06:40:44.729244       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:44.729251       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:44.729258       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:44.729263       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:44.729247594 +0000 UTC m=+202.945974468 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:14.215369726 +0000 UTC m=+172.432096598]
I0305 06:40:44.729282       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:44.729290       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:44.729355       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7599
I0305 06:40:44.729368       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:44.729376       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.729382       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.729387       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.729393       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.729397       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.729405       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:44.729414       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:44.729423       1 prefix_cache_and_load.go:584] latency, Route, 0.3900
I0305 06:40:44.729438       1 gateway.go:415] latency, selectTargetPod, 0.3900, target pod, 10.0.0.131:8000
I0305 06:40:44.729448       1 gateway.go:235] latency, HandleRequestBody, 0.3904
I0305 06:40:44.729475       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1996
I0305 06:40:44.729480       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:44.729483       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:44.729672       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:44.729729       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:44.729734       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:44.748954       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e1bb4262-81c9-4a53-bb7b-d3471a9acb34"
I0305 06:40:44.752128       1 gateway.go:562] latency, 0.0000, summary, hash(request), 42237fe3, selectedpod, 10.0.1.53:8000, ttft, 933, tpot, 19, e2e, 1106, numInputTokens, 7611, numOutputTokens, 10, numTotalTokens, 7621
I0305 06:40:44.752144       1 gateway.go:748] "Request completed" requestID="84194379-df60-495b-bb24-74cb994aab2c" targetPod="10.0.1.53:8000" promptTokens=7611 completionTokens=10 totalTokens=7621
I0305 06:40:44.752152       1 gateway.go:764] "HandleResponseBody completed" requestID="84194379-df60-495b-bb24-74cb994aab2c" promptTokens=7611 completionTokens=10 stream=true
I0305 06:40:44.783880       1 gateway.go:608] "First token received" requestID="e1bb4262-81c9-4a53-bb7b-d3471a9acb34" ttft_ms=444
I0305 06:40:44.796020       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0663, numInputTokens, 7603
I0305 06:40:44.796051       1 tree.go:471] Updated node(0) last access: 202.8940 seconds
I0305 06:40:44.796060       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:44.796066       1 tree.go:471] Updated node(2) last access: 202.8940 seconds
I0305 06:40:44.796082       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:44.796091       1 tree.go:471] Updated node(26) last access: 202.8940 seconds
I0305 06:40:44.796097       1 tree.go:490] Partial tokens match child node(188). Continue to go deeper in the radix tree
I0305 06:40:44.796107       1 tree.go:471] Updated node(188) last access: 202.8940 seconds
I0305 06:40:44.796113       1 tree.go:484] Entire input tokens match the child node(375)
I0305 06:40:44.796121       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:40:44.796130       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:44.796146       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:44.796153       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:44.796123791 +0000 UTC m=+203.012850675 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:40:12.685372654 +0000 UTC m=+170.902099527]
I0305 06:40:44.796186       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:44.796200       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:44.796389       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7603
I0305 06:40:44.796416       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:40:44.796426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.796433       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.796440       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.796447       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.796453       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:44.796462       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:44.796472       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:44.796485       1 prefix_cache_and_load.go:584] latency, Route, 0.2666
I0305 06:40:44.796495       1 gateway.go:415] latency, selectTargetPod, 0.2666, target pod, 10.0.3.41:8000
I0305 06:40:44.796509       1 gateway.go:235] latency, HandleRequestBody, 0.2673
I0305 06:40:44.812723       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f61fae2d-9516-4fb2-b4c6-1e8e30983a72"
I0305 06:40:44.829558       1 gateway.go:562] latency, 0.0001, summary, hash(request), b8e9107f, selectedpod, 10.0.0.34:8000, ttft, 608, tpot, 19, e2e, 781, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:44.829581       1 gateway.go:748] "Request completed" requestID="b24fbb32-7ec4-428f-99fc-6bac21b9fb5c" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:44.829591       1 gateway.go:764] "HandleResponseBody completed" requestID="b24fbb32-7ec4-428f-99fc-6bac21b9fb5c" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:44.844599       1 gateway.go:608] "First token received" requestID="f61fae2d-9516-4fb2-b4c6-1e8e30983a72" ttft_ms=315
I0305 06:40:44.875104       1 gateway.go:207] "Processing request" requestID="f839d576-1819-40ff-b2ea-e98046f185ad"
I0305 06:40:44.875129       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f839d576-1819-40ff-b2ea-e98046f185ad"
I0305 06:40:44.875136       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:44.899058       1 gateway.go:562] latency, 0.0000, summary, hash(request), cd0a8c41, selectedpod, 10.0.1.47:8000, ttft, 481, tpot, 18, e2e, 652, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:44.899079       1 gateway.go:748] "Request completed" requestID="5183faab-7ed1-45d6-ad7c-83bbf1e5acdb" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:44.899089       1 gateway.go:764] "HandleResponseBody completed" requestID="5183faab-7ed1-45d6-ad7c-83bbf1e5acdb" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:44.954816       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0020de9f, selectedpod, 10.0.0.131:8000, ttft, 444, tpot, 18, e2e, 615, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:44.954834       1 gateway.go:748] "Request completed" requestID="e1bb4262-81c9-4a53-bb7b-d3471a9acb34" targetPod="10.0.0.131:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:44.954844       1 gateway.go:764] "HandleResponseBody completed" requestID="e1bb4262-81c9-4a53-bb7b-d3471a9acb34" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:45.017618       1 gateway.go:562] latency, 0.0000, summary, hash(request), 157b8e4b, selectedpod, 10.0.3.41:8000, ttft, 315, tpot, 19, e2e, 488, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:45.017638       1 gateway.go:748] "Request completed" requestID="f61fae2d-9516-4fb2-b4c6-1e8e30983a72" targetPod="10.0.3.41:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:45.017648       1 gateway.go:764] "HandleResponseBody completed" requestID="f61fae2d-9516-4fb2-b4c6-1e8e30983a72" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:45.077627       1 gateway.go:207] "Processing request" requestID="0c684379-fa17-4fab-a27f-31d775635ac2"
I0305 06:40:45.077658       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0c684379-fa17-4fab-a27f-31d775635ac2"
I0305 06:40:45.077668       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:45.141116       1 gateway.go:207] "Processing request" requestID="e8dc4fce-0876-480c-8705-812d9d888891"
I0305 06:40:45.141145       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e8dc4fce-0876-480c-8705-812d9d888891"
I0305 06:40:45.141153       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:45.307019       1 gateway.go:207] "Processing request" requestID="66824b29-f7be-4a54-bdd5-e3684a3feb77"
I0305 06:40:45.307049       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="66824b29-f7be-4a54-bdd5-e3684a3feb77"
I0305 06:40:45.307058       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:45.501166       1 gateway.go:207] "Processing request" requestID="ab284511-9376-410e-8c33-c9088b9ec359"
I0305 06:40:45.501203       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ab284511-9376-410e-8c33-c9088b9ec359"
I0305 06:40:45.501214       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:45.667281       1 gateway.go:207] "Processing request" requestID="8b214dd1-096e-4d3c-8e77-a72cae29e3dd"
I0305 06:40:45.667315       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8b214dd1-096e-4d3c-8e77-a72cae29e3dd"
I0305 06:40:45.667325       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:45.747014       1 gateway.go:207] "Processing request" requestID="42a805b5-485d-4aad-8d6d-d0ceefe4c21c"
I0305 06:40:45.747050       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="42a805b5-485d-4aad-8d6d-d0ceefe4c21c"
I0305 06:40:45.747059       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:45.905026       1 gateway.go:207] "Processing request" requestID="d32034a1-d9c6-4bc1-9eb8-c91d6dc2e8d0"
I0305 06:40:45.905064       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d32034a1-d9c6-4bc1-9eb8-c91d6dc2e8d0"
I0305 06:40:45.905072       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:46.084547       1 gateway.go:207] "Processing request" requestID="7ed3e7c9-e7e5-4830-b507-02a9377a925f"
I0305 06:40:46.084584       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7ed3e7c9-e7e5-4830-b507-02a9377a925f"
I0305 06:40:46.084592       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:46.196753       1 gateway.go:207] "Processing request" requestID="53faa7d3-dd54-4b0f-9532-473e7b5f4d5a"
I0305 06:40:46.196787       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="53faa7d3-dd54-4b0f-9532-473e7b5f4d5a"
I0305 06:40:46.196799       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:46.309848       1 gateway.go:207] "Processing request" requestID="8278a2cf-8ac3-4054-8bf7-08029385afda"
I0305 06:40:46.309883       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8278a2cf-8ac3-4054-8bf7-08029385afda"
I0305 06:40:46.309892       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:46.470642       1 gateway.go:207] "Processing request" requestID="b6f442cb-c73a-49b5-9437-0935c5be3f6b"
I0305 06:40:46.470688       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b6f442cb-c73a-49b5-9437-0935c5be3f6b"
I0305 06:40:46.470700       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:46.573722       1 gateway.go:207] "Processing request" requestID="e3e9177c-f386-4039-a992-69de66e91cc6"
I0305 06:40:46.573755       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e3e9177c-f386-4039-a992-69de66e91cc6"
I0305 06:40:46.573762       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:46.719069       1 gateway.go:207] "Processing request" requestID="23761e75-4769-448c-bb19-f6136a712d83"
I0305 06:40:46.719098       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="23761e75-4769-448c-bb19-f6136a712d83"
I0305 06:40:46.719107       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:46.813076       1 gateway.go:207] "Processing request" requestID="19b52463-4666-4b64-9ba7-794ef43749ff"
I0305 06:40:46.813114       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="19b52463-4666-4b64-9ba7-794ef43749ff"
I0305 06:40:46.813123       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:47.104988       1 gateway.go:207] "Processing request" requestID="6b5e200d-8a2d-4542-bc1c-7e26ccbb171e"
I0305 06:40:47.105016       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6b5e200d-8a2d-4542-bc1c-7e26ccbb171e"
I0305 06:40:47.105023       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:47.114110       1 gateway.go:207] "Processing request" requestID="b07a5e7d-8b28-4b63-98fd-040522b53ed8"
I0305 06:40:47.114140       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b07a5e7d-8b28-4b63-98fd-040522b53ed8"
I0305 06:40:47.114150       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:47.257636       1 gateway.go:207] "Processing request" requestID="a86f91a1-5ecc-4532-aa9e-5b80a1edf0f0"
I0305 06:40:47.257663       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a86f91a1-5ecc-4532-aa9e-5b80a1edf0f0"
I0305 06:40:47.257673       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:47.449146       1 gateway.go:207] "Processing request" requestID="9b3f3902-644a-41d3-a16f-f1e29212c2a2"
I0305 06:40:47.449203       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9b3f3902-644a-41d3-a16f-f1e29212c2a2"
I0305 06:40:47.449214       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:47.621293       1 gateway.go:207] "Processing request" requestID="c59a3b4d-8a20-413a-8058-d8ac6a5468ee"
I0305 06:40:47.621328       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c59a3b4d-8a20-413a-8058-d8ac6a5468ee"
I0305 06:40:47.621337       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:47.959372       1 gateway.go:207] "Processing request" requestID="c08488a1-5b0d-4eff-95b8-49c8776b6590"
I0305 06:40:47.959416       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c08488a1-5b0d-4eff-95b8-49c8776b6590"
I0305 06:40:47.959429       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:47.960332       1 gateway.go:207] "Processing request" requestID="8e32841f-722f-48c1-a62e-c8f050302b5d"
I0305 06:40:47.960369       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8e32841f-722f-48c1-a62e-c8f050302b5d"
I0305 06:40:47.960378       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:48.093251       1 gateway.go:207] "Processing request" requestID="3989ba8d-dd38-4d1f-949d-7685955068bc"
I0305 06:40:48.093276       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3989ba8d-dd38-4d1f-949d-7685955068bc"
I0305 06:40:48.093283       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:48.273630       1 gateway.go:207] "Processing request" requestID="fb41d74b-cdaf-4f83-b79e-deee01bfcb39"
I0305 06:40:48.273661       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fb41d74b-cdaf-4f83-b79e-deee01bfcb39"
I0305 06:40:48.273668       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:48.466719       1 gateway.go:207] "Processing request" requestID="b77a3af4-2942-41a4-b272-11159102c808"
I0305 06:40:48.466755       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b77a3af4-2942-41a4-b272-11159102c808"
I0305 06:40:48.466762       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:48.664198       1 gateway.go:207] "Processing request" requestID="3b75f8e4-28fd-4e99-b287-d60bb292b34e"
I0305 06:40:48.664226       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3b75f8e4-28fd-4e99-b287-d60bb292b34e"
I0305 06:40:48.664234       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:48.853505       1 gateway.go:207] "Processing request" requestID="8023fb13-e3f8-4226-b100-717f5e4b050e"
I0305 06:40:48.853547       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8023fb13-e3f8-4226-b100-717f5e4b050e"
I0305 06:40:48.853558       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:48.881579       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8f38eb5e-3131-4e16-852c-59e692c7abd4"
I0305 06:40:48.881924       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8f38eb5e-3131-4e16-852c-59e692c7abd4" model="qwen2-5-7b-instruct"
I0305 06:40:48.882133       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:48.882144       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:48.882150       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:48.882694       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:48.882769       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0006
I0305 06:40:48.882776       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:48.926393       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f839d576-1819-40ff-b2ea-e98046f185ad"
I0305 06:40:48.939735       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0569, numInputTokens, 7595
I0305 06:40:48.939758       1 tree.go:471] Updated node(0) last access: 207.0377 seconds
I0305 06:40:48.939764       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:48.939768       1 tree.go:471] Updated node(2) last access: 207.0377 seconds
I0305 06:40:48.939783       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:48.939786       1 tree.go:471] Updated node(12) last access: 207.0377 seconds
I0305 06:40:48.939791       1 tree.go:484] Entire input tokens match the child node(376)
I0305 06:40:48.939794       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7595 tokens
I0305 06:40:48.939802       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:48.939808       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:48.939816       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:48.939798136 +0000 UTC m=+207.156525000 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:12.822421947 +0000 UTC m=+171.039148812]
I0305 06:40:48.939839       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7595, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:48.939846       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:48.939917       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7595
I0305 06:40:48.939926       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:48.939935       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:48.939941       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:48.939945       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:48.939951       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:48.939959       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:48.939978       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:48.939988       1 prefix_cache_and_load.go:584] latency, Route, 0.0579
I0305 06:40:48.940004       1 gateway.go:415] latency, selectTargetPod, 0.0579, target pod, 10.0.0.39:8000
I0305 06:40:48.940017       1 gateway.go:235] latency, HandleRequestBody, 0.0584
I0305 06:40:48.941802       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f839d576-1819-40ff-b2ea-e98046f185ad" model="qwen2-5-7b-instruct"
I0305 06:40:48.941906       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:48.941912       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:48.941915       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:48.942270       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:48.942342       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:48.942348       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:48.959673       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8f38eb5e-3131-4e16-852c-59e692c7abd4"
I0305 06:40:48.992323       1 gateway.go:608] "First token received" requestID="8f38eb5e-3131-4e16-852c-59e692c7abd4" ttft_ms=110
I0305 06:40:48.998368       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0c684379-fa17-4fab-a27f-31d775635ac2"
I0305 06:40:48.998593       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0c684379-fa17-4fab-a27f-31d775635ac2" model="qwen2-5-7b-instruct"
I0305 06:40:49.027743       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0854, numInputTokens, 7596
I0305 06:40:49.027762       1 tree.go:471] Updated node(0) last access: 207.1257 seconds
I0305 06:40:49.027768       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.027771       1 tree.go:471] Updated node(2) last access: 207.1257 seconds
I0305 06:40:49.027786       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:49.027791       1 tree.go:471] Updated node(18) last access: 207.1257 seconds
I0305 06:40:49.027794       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 06:40:49.027796       1 tree.go:471] Updated node(219) last access: 207.1257 seconds
I0305 06:40:49.027801       1 tree.go:484] Entire input tokens match the child node(388)
I0305 06:40:49.027805       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7596 tokens
I0305 06:40:49.027813       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:49.027821       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.027827       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.027807889 +0000 UTC m=+207.244534753 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:16.546410546 +0000 UTC m=+174.763137422]
I0305 06:40:49.027847       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:49.027855       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.027920       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7596
I0305 06:40:49.027928       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.027936       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.027941       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.027945       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.027950       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.027954       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.027961       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.027980       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:49.027990       1 prefix_cache_and_load.go:584] latency, Route, 0.0861
I0305 06:40:49.028003       1 gateway.go:415] latency, selectTargetPod, 0.0861, target pod, 10.0.0.131:8000
I0305 06:40:49.028013       1 gateway.go:235] latency, HandleRequestBody, 0.1016
I0305 06:40:49.028042       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0294
I0305 06:40:49.028054       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.028058       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.028363       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.028430       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:49.028436       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.047190       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f839d576-1819-40ff-b2ea-e98046f185ad"
I0305 06:40:49.050297       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e8dc4fce-0876-480c-8705-812d9d888891"
I0305 06:40:49.050518       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e8dc4fce-0876-480c-8705-812d9d888891" model="qwen2-5-7b-instruct"
I0305 06:40:49.063077       1 gateway.go:329] "-- In RequestBody processing ..." requestID="66824b29-f7be-4a54-bdd5-e3684a3feb77"
I0305 06:40:49.063279       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="66824b29-f7be-4a54-bdd5-e3684a3feb77" model="qwen2-5-7b-instruct"
I0305 06:40:49.072539       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ab284511-9376-410e-8c33-c9088b9ec359"
I0305 06:40:49.072761       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ab284511-9376-410e-8c33-c9088b9ec359" model="qwen2-5-7b-instruct"
I0305 06:40:49.073695       1 gateway.go:608] "First token received" requestID="f839d576-1819-40ff-b2ea-e98046f185ad" ttft_ms=147
I0305 06:40:49.085397       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0570, numInputTokens, 7598
I0305 06:40:49.085418       1 tree.go:471] Updated node(0) last access: 207.1834 seconds
I0305 06:40:49.085424       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.085427       1 tree.go:471] Updated node(2) last access: 207.1834 seconds
I0305 06:40:49.085440       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:49.085443       1 tree.go:471] Updated node(53) last access: 207.1834 seconds
I0305 06:40:49.085447       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 06:40:49.085449       1 tree.go:471] Updated node(43) last access: 207.1834 seconds
I0305 06:40:49.085453       1 tree.go:490] Partial tokens match child node(381). Continue to go deeper in the radix tree
I0305 06:40:49.085457       1 tree.go:471] Updated node(381) last access: 207.1834 seconds
I0305 06:40:49.085461       1 tree.go:484] Entire input tokens match the child node(382)
I0305 06:40:49.085465       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:49.085473       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:49.085479       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.085485       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.08546811 +0000 UTC m=+207.302194974 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:14.28084597 +0000 UTC m=+172.497572845]
I0305 06:40:49.085507       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:49.085528       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.085605       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7598
I0305 06:40:49.085618       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.085632       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.085639       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.085647       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.085655       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.085663       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.085671       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.085684       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.085696       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:49.085714       1 prefix_cache_and_load.go:584] latency, Route, 0.0870
I0305 06:40:49.085734       1 gateway.go:415] latency, selectTargetPod, 0.0870, target pod, 10.0.0.34:8000
I0305 06:40:49.085745       1 gateway.go:235] latency, HandleRequestBody, 0.0874
I0305 06:40:49.085777       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0352
I0305 06:40:49.085783       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.085786       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.086069       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.086127       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:49.086132       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.104978       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0c684379-fa17-4fab-a27f-31d775635ac2"
I0305 06:40:49.131515       1 gateway.go:608] "First token received" requestID="0c684379-fa17-4fab-a27f-31d775635ac2" ttft_ms=133
I0305 06:40:49.135170       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0490, numInputTokens, 7602
I0305 06:40:49.135188       1 tree.go:471] Updated node(0) last access: 207.2331 seconds
I0305 06:40:49.135194       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.135197       1 tree.go:471] Updated node(2) last access: 207.2331 seconds
I0305 06:40:49.135208       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:49.135212       1 tree.go:471] Updated node(18) last access: 207.2332 seconds
I0305 06:40:49.135215       1 tree.go:490] Partial tokens match child node(299). Continue to go deeper in the radix tree
I0305 06:40:49.135218       1 tree.go:471] Updated node(299) last access: 207.2332 seconds
I0305 06:40:49.135223       1 tree.go:484] Entire input tokens match the child node(383)
I0305 06:40:49.135227       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:40:49.135233       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:49.135240       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.135246       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.135229357 +0000 UTC m=+207.351956222 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:15.128600364 +0000 UTC m=+173.345327234]
I0305 06:40:49.135267       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:49.135274       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.135340       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7602
I0305 06:40:49.135354       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.135365       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.135371       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.135377       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.135385       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.135391       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.135401       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.135411       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:49.135420       1 prefix_cache_and_load.go:584] latency, Route, 0.0848
I0305 06:40:49.135434       1 gateway.go:415] latency, selectTargetPod, 0.0848, target pod, 10.0.0.131:8000
I0305 06:40:49.135444       1 gateway.go:235] latency, HandleRequestBody, 0.0851
I0305 06:40:49.135447       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0721
I0305 06:40:49.135457       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.135460       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.135722       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.135779       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:49.135785       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.153531       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e8dc4fce-0876-480c-8705-812d9d888891"
I0305 06:40:49.165594       1 gateway.go:562] latency, 0.0000, summary, hash(request), 290f10a8, selectedpod, 10.0.0.39:8000, ttft, 110, tpot, 19, e2e, 283, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:40:49.165610       1 gateway.go:748] "Request completed" requestID="8f38eb5e-3131-4e16-852c-59e692c7abd4" targetPod="10.0.0.39:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:40:49.165623       1 gateway.go:764] "HandleResponseBody completed" requestID="8f38eb5e-3131-4e16-852c-59e692c7abd4" promptTokens=7614 completionTokens=10 stream=true
I0305 06:40:49.198029       1 gateway.go:608] "First token received" requestID="e8dc4fce-0876-480c-8705-812d9d888891" ttft_ms=147
I0305 06:40:49.220533       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0847, numInputTokens, 7600
I0305 06:40:49.220553       1 tree.go:471] Updated node(0) last access: 207.3185 seconds
I0305 06:40:49.220560       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.220563       1 tree.go:471] Updated node(2) last access: 207.3185 seconds
I0305 06:40:49.220576       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:49.220580       1 tree.go:471] Updated node(12) last access: 207.3185 seconds
I0305 06:40:49.220584       1 tree.go:490] Partial tokens match child node(291). Continue to go deeper in the radix tree
I0305 06:40:49.220586       1 tree.go:471] Updated node(291) last access: 207.3185 seconds
I0305 06:40:49.220591       1 tree.go:484] Entire input tokens match the child node(391)
I0305 06:40:49.220595       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:49.220602       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:49.220611       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.220617       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.220597654 +0000 UTC m=+207.437324519 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:16.814766084 +0000 UTC m=+175.031492949]
I0305 06:40:49.220640       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:49.220649       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.220737       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7600
I0305 06:40:49.220747       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.220758       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.220767       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.220773       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.220778       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.220784       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.220794       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.220804       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:49.220813       1 prefix_cache_and_load.go:584] latency, Route, 0.1575
I0305 06:40:49.220829       1 gateway.go:415] latency, selectTargetPod, 0.1575, target pod, 10.0.0.39:8000
I0305 06:40:49.220845       1 gateway.go:235] latency, HandleRequestBody, 0.1578
I0305 06:40:49.220847       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1480
I0305 06:40:49.220862       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.220868       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.221134       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.221190       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:49.221196       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.239787       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="66824b29-f7be-4a54-bdd5-e3684a3feb77"
I0305 06:40:49.271222       1 gateway.go:608] "First token received" requestID="66824b29-f7be-4a54-bdd5-e3684a3feb77" ttft_ms=208
I0305 06:40:49.275354       1 gateway.go:207] "Processing request" requestID="0561891d-fb48-43c2-84d7-b183b62de399"
I0305 06:40:49.275379       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0561891d-fb48-43c2-84d7-b183b62de399"
I0305 06:40:49.275387       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:49.278785       1 gateway.go:562] latency, 0.0000, summary, hash(request), 41b1992a, selectedpod, 10.0.0.131:8000, ttft, 147, tpot, 22, e2e, 352, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:49.278803       1 gateway.go:748] "Request completed" requestID="f839d576-1819-40ff-b2ea-e98046f185ad" targetPod="10.0.0.131:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:49.278813       1 gateway.go:764] "HandleResponseBody completed" requestID="f839d576-1819-40ff-b2ea-e98046f185ad" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:49.298848       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8b214dd1-096e-4d3c-8e77-a72cae29e3dd"
I0305 06:40:49.299050       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8b214dd1-096e-4d3c-8e77-a72cae29e3dd" model="qwen2-5-7b-instruct"
I0305 06:40:49.304532       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0833, numInputTokens, 7595
I0305 06:40:49.304550       1 tree.go:471] Updated node(0) last access: 207.4025 seconds
I0305 06:40:49.304556       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.304560       1 tree.go:471] Updated node(2) last access: 207.4025 seconds
I0305 06:40:49.304572       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:49.304576       1 tree.go:471] Updated node(4) last access: 207.4025 seconds
I0305 06:40:49.304579       1 tree.go:490] Partial tokens match child node(58). Continue to go deeper in the radix tree
I0305 06:40:49.304582       1 tree.go:471] Updated node(58) last access: 207.4025 seconds
I0305 06:40:49.304587       1 tree.go:484] Entire input tokens match the child node(392)
I0305 06:40:49.304590       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7595 tokens
I0305 06:40:49.304597       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:49.304604       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.304610       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.304592746 +0000 UTC m=+207.521319610 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:40:16.993547696 +0000 UTC m=+175.210274561]
I0305 06:40:49.304627       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7595, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:49.304638       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.304727       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7595
I0305 06:40:49.304740       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.304752       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.304761       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.304768       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.304775       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.304782       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.304794       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.304809       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:49.304824       1 prefix_cache_and_load.go:584] latency, Route, 0.2320
I0305 06:40:49.304837       1 gateway.go:415] latency, selectTargetPod, 0.2320, target pod, 10.0.1.47:8000
I0305 06:40:49.304850       1 gateway.go:235] latency, HandleRequestBody, 0.2323
I0305 06:40:49.304859       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2fd17c28, selectedpod, 10.0.0.34:8000, ttft, 133, tpot, 19, e2e, 306, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:49.304879       1 gateway.go:748] "Request completed" requestID="0c684379-fa17-4fab-a27f-31d775635ac2" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:49.304885       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0057
I0305 06:40:49.304890       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.304892       1 gateway.go:764] "HandleResponseBody completed" requestID="0c684379-fa17-4fab-a27f-31d775635ac2" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:49.304894       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.305164       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.305215       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:49.305220       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.324336       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ab284511-9376-410e-8c33-c9088b9ec359"
I0305 06:40:49.355771       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0505, numInputTokens, 7603
I0305 06:40:49.355794       1 tree.go:471] Updated node(0) last access: 207.4537 seconds
I0305 06:40:49.355800       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.355804       1 tree.go:471] Updated node(2) last access: 207.4537 seconds
I0305 06:40:49.355848       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:49.355870       1 tree.go:471] Updated node(8) last access: 207.4538 seconds
I0305 06:40:49.355879       1 tree.go:484] Entire input tokens match the child node(385)
I0305 06:40:49.355884       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:40:49.355895       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:49.355906       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.355916       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.355888043 +0000 UTC m=+207.572614911 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:15.412574788 +0000 UTC m=+173.629301653]
I0305 06:40:49.355947       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:49.355965       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.356083       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7603
I0305 06:40:49.356093       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.356101       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.356106       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.356114       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.356120       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.356132       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.356147       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:49.356160       1 prefix_cache_and_load.go:584] latency, Route, 0.0570
I0305 06:40:49.356171       1 gateway.go:415] latency, selectTargetPod, 0.0570, target pod, 10.0.1.53:8000
I0305 06:40:49.356186       1 gateway.go:235] latency, HandleRequestBody, 0.0573
I0305 06:40:49.379014       1 gateway.go:608] "First token received" requestID="ab284511-9376-410e-8c33-c9088b9ec359" ttft_ms=306
I0305 06:40:49.379099       1 gateway.go:562] latency, 0.0000, summary, hash(request), be7387cd, selectedpod, 10.0.0.131:8000, ttft, 147, tpot, 20, e2e, 328, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:49.379121       1 gateway.go:748] "Request completed" requestID="e8dc4fce-0876-480c-8705-812d9d888891" targetPod="10.0.0.131:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:49.379133       1 gateway.go:764] "HandleResponseBody completed" requestID="e8dc4fce-0876-480c-8705-812d9d888891" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:49.379606       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8b214dd1-096e-4d3c-8e77-a72cae29e3dd"
I0305 06:40:49.379627       1 gateway.go:329] "-- In RequestBody processing ..." requestID="42a805b5-485d-4aad-8d6d-d0ceefe4c21c"
I0305 06:40:49.379840       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="42a805b5-485d-4aad-8d6d-d0ceefe4c21c" model="qwen2-5-7b-instruct"
I0305 06:40:49.379917       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:49.379924       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.379927       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.380180       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.380232       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:49.380238       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.408375       1 gateway.go:608] "First token received" requestID="8b214dd1-096e-4d3c-8e77-a72cae29e3dd" ttft_ms=109
I0305 06:40:49.429470       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 7597
I0305 06:40:49.429492       1 tree.go:471] Updated node(0) last access: 207.5274 seconds
I0305 06:40:49.429498       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.429501       1 tree.go:471] Updated node(2) last access: 207.5274 seconds
I0305 06:40:49.429522       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:49.429525       1 tree.go:471] Updated node(51) last access: 207.5275 seconds
I0305 06:40:49.429529       1 tree.go:490] Partial tokens match child node(422). Continue to go deeper in the radix tree
I0305 06:40:49.429531       1 tree.go:471] Updated node(422) last access: 207.5275 seconds
I0305 06:40:49.429535       1 tree.go:490] Partial tokens match child node(396). Continue to go deeper in the radix tree
I0305 06:40:49.429537       1 tree.go:471] Updated node(396) last access: 207.5275 seconds
I0305 06:40:49.429542       1 tree.go:484] Entire input tokens match the child node(384)
I0305 06:40:49.429548       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:49.429555       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:49.429562       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.429567       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.429550237 +0000 UTC m=+207.646277102 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:15.330099337 +0000 UTC m=+173.546826201]
I0305 06:40:49.429585       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:49.429593       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.429657       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7597
I0305 06:40:49.429670       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.429679       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.429686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.429692       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.429694       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.429699       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.429704       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.429711       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.429721       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:49.429731       1 prefix_cache_and_load.go:584] latency, Route, 0.0498
I0305 06:40:49.429740       1 gateway.go:415] latency, selectTargetPod, 0.0498, target pod, 10.0.1.28:8000
I0305 06:40:49.429751       1 gateway.go:235] latency, HandleRequestBody, 0.0501
I0305 06:40:49.429772       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d32034a1-d9c6-4bc1-9eb8-c91d6dc2e8d0"
I0305 06:40:49.429997       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d32034a1-d9c6-4bc1-9eb8-c91d6dc2e8d0" model="qwen2-5-7b-instruct"
I0305 06:40:49.430078       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:49.430085       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.430088       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.430357       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.430418       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:49.430423       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.444896       1 gateway.go:562] latency, 0.0000, summary, hash(request), c048a8a8, selectedpod, 10.0.0.39:8000, ttft, 208, tpot, 19, e2e, 381, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:49.444915       1 gateway.go:748] "Request completed" requestID="66824b29-f7be-4a54-bdd5-e3684a3feb77" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:49.444927       1 gateway.go:764] "HandleResponseBody completed" requestID="66824b29-f7be-4a54-bdd5-e3684a3feb77" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:49.449499       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="42a805b5-485d-4aad-8d6d-d0ceefe4c21c"
I0305 06:40:49.461046       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7ed3e7c9-e7e5-4830-b507-02a9377a925f"
I0305 06:40:49.461280       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7ed3e7c9-e7e5-4830-b507-02a9377a925f" model="qwen2-5-7b-instruct"
I0305 06:40:49.470153       1 gateway.go:329] "-- In RequestBody processing ..." requestID="53faa7d3-dd54-4b0f-9532-473e7b5f4d5a"
I0305 06:40:49.470368       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="53faa7d3-dd54-4b0f-9532-473e7b5f4d5a" model="qwen2-5-7b-instruct"
I0305 06:40:49.475669       1 gateway.go:608] "First token received" requestID="42a805b5-485d-4aad-8d6d-d0ceefe4c21c" ttft_ms=95
I0305 06:40:49.497611       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0672, numInputTokens, 7602
I0305 06:40:49.497635       1 tree.go:471] Updated node(0) last access: 207.5956 seconds
I0305 06:40:49.497643       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.497649       1 tree.go:471] Updated node(2) last access: 207.5956 seconds
I0305 06:40:49.497665       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:49.497673       1 tree.go:471] Updated node(51) last access: 207.5956 seconds
I0305 06:40:49.497679       1 tree.go:490] Partial tokens match child node(389). Continue to go deeper in the radix tree
I0305 06:40:49.497684       1 tree.go:471] Updated node(389) last access: 207.5956 seconds
I0305 06:40:49.497690       1 tree.go:484] Entire input tokens match the child node(390)
I0305 06:40:49.497695       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:49.497709       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:49.497718       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.497724       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.497698532 +0000 UTC m=+207.714425402 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:16.681379879 +0000 UTC m=+174.898106762]
I0305 06:40:49.497746       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:49.497756       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.497896       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7602
I0305 06:40:49.497909       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.497920       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.497930       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.497938       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.497950       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.497961       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.497981       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.497996       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:49.498008       1 prefix_cache_and_load.go:584] latency, Route, 0.0679
I0305 06:40:49.498026       1 gateway.go:415] latency, selectTargetPod, 0.0679, target pod, 10.0.1.28:8000
I0305 06:40:49.498042       1 gateway.go:235] latency, HandleRequestBody, 0.0683
I0305 06:40:49.498055       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0367
I0305 06:40:49.498069       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.498073       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.498608       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.498852       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0008
I0305 06:40:49.498861       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.518363       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d32034a1-d9c6-4bc1-9eb8-c91d6dc2e8d0"
I0305 06:40:49.527480       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8278a2cf-8ac3-4054-8bf7-08029385afda"
I0305 06:40:49.527696       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8278a2cf-8ac3-4054-8bf7-08029385afda" model="qwen2-5-7b-instruct"
I0305 06:40:49.529938       1 gateway.go:562] latency, 0.0000, summary, hash(request), 07163b19, selectedpod, 10.0.1.47:8000, ttft, 306, tpot, 16, e2e, 457, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:40:49.529955       1 gateway.go:748] "Request completed" requestID="ab284511-9376-410e-8c33-c9088b9ec359" targetPod="10.0.1.47:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:40:49.529964       1 gateway.go:764] "HandleResponseBody completed" requestID="ab284511-9376-410e-8c33-c9088b9ec359" promptTokens=7614 completionTokens=10 stream=true
I0305 06:40:49.562645       1 gateway.go:608] "First token received" requestID="d32034a1-d9c6-4bc1-9eb8-c91d6dc2e8d0" ttft_ms=132
I0305 06:40:49.570447       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b6f442cb-c73a-49b5-9437-0935c5be3f6b"
I0305 06:40:49.570676       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b6f442cb-c73a-49b5-9437-0935c5be3f6b" model="qwen2-5-7b-instruct"
I0305 06:40:49.581049       1 gateway.go:562] latency, 0.0000, summary, hash(request), 963670a4, selectedpod, 10.0.1.53:8000, ttft, 109, tpot, 19, e2e, 282, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:49.581062       1 gateway.go:748] "Request completed" requestID="8b214dd1-096e-4d3c-8e77-a72cae29e3dd" targetPod="10.0.1.53:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:49.581071       1 gateway.go:764] "HandleResponseBody completed" requestID="8b214dd1-096e-4d3c-8e77-a72cae29e3dd" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:49.591036       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0922, numInputTokens, 7597
I0305 06:40:49.591053       1 tree.go:471] Updated node(0) last access: 207.6890 seconds
I0305 06:40:49.591059       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.591063       1 tree.go:471] Updated node(2) last access: 207.6890 seconds
I0305 06:40:49.591076       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:49.591080       1 tree.go:471] Updated node(18) last access: 207.6890 seconds
I0305 06:40:49.591084       1 tree.go:490] Partial tokens match child node(170). Continue to go deeper in the radix tree
I0305 06:40:49.591087       1 tree.go:471] Updated node(170) last access: 207.6890 seconds
I0305 06:40:49.591090       1 tree.go:490] Partial tokens match child node(200). Continue to go deeper in the radix tree
I0305 06:40:49.591092       1 tree.go:471] Updated node(200) last access: 207.6890 seconds
I0305 06:40:49.591097       1 tree.go:484] Entire input tokens match the child node(393)
I0305 06:40:49.591100       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:49.591107       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:49.591115       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.591119       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.591102711 +0000 UTC m=+207.807829574 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:17.120009893 +0000 UTC m=+175.336736762]
I0305 06:40:49.591136       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:49.591142       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.591205       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7597
I0305 06:40:49.591214       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.591222       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.591228       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.591232       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.591236       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.591240       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.591244       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.591252       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.591261       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:49.591270       1 prefix_cache_and_load.go:584] latency, Route, 0.1299
I0305 06:40:49.591285       1 gateway.go:415] latency, selectTargetPod, 0.1299, target pod, 10.0.0.131:8000
I0305 06:40:49.591296       1 gateway.go:235] latency, HandleRequestBody, 0.1303
I0305 06:40:49.591339       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1209
I0305 06:40:49.591346       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.591349       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.591559       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.591610       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:49.591615       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.610192       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7ed3e7c9-e7e5-4830-b507-02a9377a925f"
I0305 06:40:49.635267       1 gateway.go:608] "First token received" requestID="7ed3e7c9-e7e5-4830-b507-02a9377a925f" ttft_ms=174
I0305 06:40:49.640476       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0489, numInputTokens, 7601
I0305 06:40:49.640490       1 tree.go:471] Updated node(0) last access: 207.7384 seconds
I0305 06:40:49.640497       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.640500       1 tree.go:471] Updated node(2) last access: 207.7384 seconds
I0305 06:40:49.640523       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:49.640528       1 tree.go:471] Updated node(8) last access: 207.7385 seconds
I0305 06:40:49.640532       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:40:49.640537       1 tree.go:471] Updated node(85) last access: 207.7385 seconds
I0305 06:40:49.640540       1 tree.go:490] Partial tokens match child node(377). Continue to go deeper in the radix tree
I0305 06:40:49.640543       1 tree.go:471] Updated node(377) last access: 207.7385 seconds
I0305 06:40:49.640548       1 tree.go:484] Entire input tokens match the child node(378)
I0305 06:40:49.640551       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:49.640559       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:49.640566       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.640572       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.640555031 +0000 UTC m=+207.857281896 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:13.920623973 +0000 UTC m=+172.137350838]
I0305 06:40:49.640587       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:49.640593       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.640655       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7601
I0305 06:40:49.640664       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.640672       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.640678       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.640682       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.640687       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.640691       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.640694       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.640701       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.640710       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:49.640719       1 prefix_cache_and_load.go:584] latency, Route, 0.1703
I0305 06:40:49.640734       1 gateway.go:415] latency, selectTargetPod, 0.1703, target pod, 10.0.1.53:8000
I0305 06:40:49.640743       1 gateway.go:235] latency, HandleRequestBody, 0.1706
I0305 06:40:49.640771       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1130
I0305 06:40:49.640776       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.640779       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.640992       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.641042       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:49.641047       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.647255       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e3e9177c-f386-4039-a992-69de66e91cc6"
I0305 06:40:49.647474       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e3e9177c-f386-4039-a992-69de66e91cc6" model="qwen2-5-7b-instruct"
I0305 06:40:49.659215       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="53faa7d3-dd54-4b0f-9532-473e7b5f4d5a"
I0305 06:40:49.666484       1 gateway.go:329] "-- In RequestBody processing ..." requestID="23761e75-4769-448c-bb19-f6136a712d83"
I0305 06:40:49.666705       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="23761e75-4769-448c-bb19-f6136a712d83" model="qwen2-5-7b-instruct"
I0305 06:40:49.681561       1 gateway.go:329] "-- In RequestBody processing ..." requestID="19b52463-4666-4b64-9ba7-794ef43749ff"
I0305 06:40:49.681765       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="19b52463-4666-4b64-9ba7-794ef43749ff" model="qwen2-5-7b-instruct"
I0305 06:40:49.683443       1 gateway.go:562] latency, 0.0000, summary, hash(request), 09037716, selectedpod, 10.0.1.28:8000, ttft, 95, tpot, 23, e2e, 303, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:49.683459       1 gateway.go:748] "Request completed" requestID="42a805b5-485d-4aad-8d6d-d0ceefe4c21c" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:49.683468       1 gateway.go:764] "HandleResponseBody completed" requestID="42a805b5-485d-4aad-8d6d-d0ceefe4c21c" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:49.690375       1 gateway.go:608] "First token received" requestID="53faa7d3-dd54-4b0f-9532-473e7b5f4d5a" ttft_ms=220
I0305 06:40:49.714185       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0731, numInputTokens, 7593
I0305 06:40:49.714201       1 tree.go:471] Updated node(0) last access: 207.8121 seconds
I0305 06:40:49.714207       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.714211       1 tree.go:471] Updated node(2) last access: 207.8122 seconds
I0305 06:40:49.714223       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:49.714227       1 tree.go:471] Updated node(53) last access: 207.8122 seconds
I0305 06:40:49.714231       1 tree.go:490] Partial tokens match child node(399). Continue to go deeper in the radix tree
I0305 06:40:49.714235       1 tree.go:471] Updated node(399) last access: 207.8122 seconds
I0305 06:40:49.714239       1 tree.go:484] Entire input tokens match the child node(400)
I0305 06:40:49.714242       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7593 tokens
I0305 06:40:49.714249       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7593 tokens
I0305 06:40:49.714255       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.714261       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.714245629 +0000 UTC m=+207.930972503 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:17.422494169 +0000 UTC m=+175.639221034]
I0305 06:40:49.714277       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7593, Matched tokens: 7593, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:49.714286       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.714346       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7593
I0305 06:40:49.714357       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.714365       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.714370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.714375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.714377       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.714381       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.714388       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.714396       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:49.714406       1 prefix_cache_and_load.go:584] latency, Route, 0.1866
I0305 06:40:49.714419       1 gateway.go:415] latency, selectTargetPod, 0.1866, target pod, 10.0.0.34:8000
I0305 06:40:49.714429       1 gateway.go:235] latency, HandleRequestBody, 0.1870
I0305 06:40:49.714455       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1437
I0305 06:40:49.714458       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.714461       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.714672       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.714721       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:49.714726       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.730154       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6b5e200d-8a2d-4542-bc1c-7e26ccbb171e"
I0305 06:40:49.730613       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6b5e200d-8a2d-4542-bc1c-7e26ccbb171e" model="qwen2-5-7b-instruct"
I0305 06:40:49.733095       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8278a2cf-8ac3-4054-8bf7-08029385afda"
I0305 06:40:49.742207       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6441bbed, selectedpod, 10.0.1.28:8000, ttft, 132, tpot, 19, e2e, 312, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:49.742227       1 gateway.go:748] "Request completed" requestID="d32034a1-d9c6-4bc1-9eb8-c91d6dc2e8d0" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:49.742240       1 gateway.go:764] "HandleResponseBody completed" requestID="d32034a1-d9c6-4bc1-9eb8-c91d6dc2e8d0" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:49.764429       1 gateway.go:608] "First token received" requestID="8278a2cf-8ac3-4054-8bf7-08029385afda" ttft_ms=236
I0305 06:40:49.786830       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b07a5e7d-8b28-4b63-98fd-040522b53ed8"
I0305 06:40:49.787093       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b07a5e7d-8b28-4b63-98fd-040522b53ed8" model="qwen2-5-7b-instruct"
I0305 06:40:49.808303       1 gateway.go:562] latency, 0.0000, summary, hash(request), 14f45654, selectedpod, 10.0.0.131:8000, ttft, 174, tpot, 19, e2e, 347, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:49.808325       1 gateway.go:748] "Request completed" requestID="7ed3e7c9-e7e5-4830-b507-02a9377a925f" targetPod="10.0.0.131:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:49.808338       1 gateway.go:764] "HandleResponseBody completed" requestID="7ed3e7c9-e7e5-4830-b507-02a9377a925f" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:49.811353       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0966, numInputTokens, 7600
I0305 06:40:49.811373       1 tree.go:471] Updated node(0) last access: 207.9093 seconds
I0305 06:40:49.811379       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.811384       1 tree.go:471] Updated node(2) last access: 207.9093 seconds
I0305 06:40:49.811398       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:49.811405       1 tree.go:471] Updated node(31) last access: 207.9093 seconds
I0305 06:40:49.811409       1 tree.go:490] Partial tokens match child node(294). Continue to go deeper in the radix tree
I0305 06:40:49.811411       1 tree.go:471] Updated node(294) last access: 207.9094 seconds
I0305 06:40:49.811415       1 tree.go:484] Entire input tokens match the child node(401)
I0305 06:40:49.811418       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:49.811425       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:49.811430       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.811435       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.811420543 +0000 UTC m=+208.028147408 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:17.471756724 +0000 UTC m=+175.688483589]
I0305 06:40:49.811451       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:49.811460       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.811540       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7600
I0305 06:40:49.811554       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.811561       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.811565       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.811571       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.811576       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.811581       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.811664       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.811674       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:49.811686       1 prefix_cache_and_load.go:584] latency, Route, 0.2409
I0305 06:40:49.811705       1 gateway.go:415] latency, selectTargetPod, 0.2409, target pod, 10.0.1.28:8000
I0305 06:40:49.811717       1 gateway.go:235] latency, HandleRequestBody, 0.2413
I0305 06:40:49.811746       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1642
I0305 06:40:49.811750       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.811753       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.811986       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.812038       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:49.812043       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.830856       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b6f442cb-c73a-49b5-9437-0935c5be3f6b"
I0305 06:40:49.862151       1 gateway.go:608] "First token received" requestID="b6f442cb-c73a-49b5-9437-0935c5be3f6b" ttft_ms=291
I0305 06:40:49.863031       1 gateway.go:562] latency, 0.0000, summary, hash(request), dcb09a05, selectedpod, 10.0.1.53:8000, ttft, 220, tpot, 19, e2e, 392, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:49.863047       1 gateway.go:748] "Request completed" requestID="53faa7d3-dd54-4b0f-9532-473e7b5f4d5a" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:49.863056       1 gateway.go:764] "HandleResponseBody completed" requestID="53faa7d3-dd54-4b0f-9532-473e7b5f4d5a" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:49.863641       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a86f91a1-5ecc-4532-aa9e-5b80a1edf0f0"
I0305 06:40:49.863844       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a86f91a1-5ecc-4532-aa9e-5b80a1edf0f0" model="qwen2-5-7b-instruct"
I0305 06:40:49.864071       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0520, numInputTokens, 7600
I0305 06:40:49.864088       1 tree.go:471] Updated node(0) last access: 207.9620 seconds
I0305 06:40:49.864095       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.864100       1 tree.go:471] Updated node(2) last access: 207.9620 seconds
I0305 06:40:49.864113       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:49.864116       1 tree.go:471] Updated node(51) last access: 207.9621 seconds
I0305 06:40:49.864122       1 tree.go:490] Partial tokens match child node(422). Continue to go deeper in the radix tree
I0305 06:40:49.864125       1 tree.go:471] Updated node(422) last access: 207.9621 seconds
I0305 06:40:49.864130       1 tree.go:490] Partial tokens match child node(396). Continue to go deeper in the radix tree
I0305 06:40:49.864134       1 tree.go:471] Updated node(396) last access: 207.9621 seconds
I0305 06:40:49.864140       1 tree.go:484] Entire input tokens match the child node(397)
I0305 06:40:49.864144       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:49.864153       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:49.864163       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.864173       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.864146861 +0000 UTC m=+208.080873728 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:17.290388025 +0000 UTC m=+175.507114890]
I0305 06:40:49.864198       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:49.864208       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.864280       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7600
I0305 06:40:49.864290       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.864298       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.864305       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.864313       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.864321       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.864324       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.864328       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.864339       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.864354       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:49.864370       1 prefix_cache_and_load.go:584] latency, Route, 0.2168
I0305 06:40:49.864388       1 gateway.go:415] latency, selectTargetPod, 0.2168, target pod, 10.0.1.28:8000
I0305 06:40:49.864402       1 gateway.go:235] latency, HandleRequestBody, 0.2172
I0305 06:40:49.864437       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1977
I0305 06:40:49.864444       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.864448       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.864688       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.864741       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:49.864749       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.876906       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9b3f3902-644a-41d3-a16f-f1e29212c2a2"
I0305 06:40:49.877143       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9b3f3902-644a-41d3-a16f-f1e29212c2a2" model="qwen2-5-7b-instruct"
I0305 06:40:49.884563       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e3e9177c-f386-4039-a992-69de66e91cc6"
I0305 06:40:49.916863       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c59a3b4d-8a20-413a-8058-d8ac6a5468ee"
I0305 06:40:49.925935       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0612, numInputTokens, 7600
I0305 06:40:49.925954       1 tree.go:471] Updated node(0) last access: 208.0239 seconds
I0305 06:40:49.925960       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:49.925963       1 tree.go:471] Updated node(2) last access: 208.0239 seconds
I0305 06:40:49.925983       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:49.925987       1 tree.go:471] Updated node(45) last access: 208.0239 seconds
I0305 06:40:49.925992       1 tree.go:484] Entire input tokens match the child node(402)
I0305 06:40:49.925996       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:49.926002       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:49.926009       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:49.926013       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:49.925998685 +0000 UTC m=+208.142725549 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:17.529523237 +0000 UTC m=+175.746250101]
I0305 06:40:49.926031       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:49.926038       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:49.926098       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7600
I0305 06:40:49.926107       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:49.926114       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.926119       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.926123       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.926127       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:49.926136       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:49.926145       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:49.926154       1 prefix_cache_and_load.go:584] latency, Route, 0.2594
I0305 06:40:49.926167       1 gateway.go:415] latency, selectTargetPod, 0.2594, target pod, 10.0.0.34:8000
I0305 06:40:49.926178       1 gateway.go:235] latency, HandleRequestBody, 0.2597
I0305 06:40:49.926205       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2444
I0305 06:40:49.926209       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:49.926212       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:49.926403       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:49.926451       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:49.926456       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:49.930185       1 gateway.go:608] "First token received" requestID="e3e9177c-f386-4039-a992-69de66e91cc6" ttft_ms=282
I0305 06:40:49.931673       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c08488a1-5b0d-4eff-95b8-49c8776b6590"
I0305 06:40:49.937810       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d9a836e, selectedpod, 10.0.0.34:8000, ttft, 236, tpot, 19, e2e, 410, numInputTokens, 7612, numOutputTokens, 10, numTotalTokens, 7622
I0305 06:40:49.937847       1 gateway.go:748] "Request completed" requestID="8278a2cf-8ac3-4054-8bf7-08029385afda" targetPod="10.0.0.34:8000" promptTokens=7612 completionTokens=10 totalTokens=7622
I0305 06:40:49.937866       1 gateway.go:764] "HandleResponseBody completed" requestID="8278a2cf-8ac3-4054-8bf7-08029385afda" promptTokens=7612 completionTokens=10 stream=true
I0305 06:40:49.978810       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="23761e75-4769-448c-bb19-f6136a712d83"
I0305 06:40:49.985553       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8e32841f-722f-48c1-a62e-c8f050302b5d"
I0305 06:40:49.987795       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8e32841f-722f-48c1-a62e-c8f050302b5d" model="qwen2-5-7b-instruct"
I0305 06:40:49.987843       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c59a3b4d-8a20-413a-8058-d8ac6a5468ee" model="qwen2-5-7b-instruct"
I0305 06:40:49.987844       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c08488a1-5b0d-4eff-95b8-49c8776b6590" model="qwen2-5-7b-instruct"
I0305 06:40:49.987997       1 gateway.go:608] "First token received" requestID="23761e75-4769-448c-bb19-f6136a712d83" ttft_ms=321
I0305 06:40:50.019653       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0932, numInputTokens, 7602
I0305 06:40:50.019669       1 tree.go:471] Updated node(0) last access: 208.1176 seconds
I0305 06:40:50.019677       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.019684       1 tree.go:471] Updated node(2) last access: 208.1176 seconds
I0305 06:40:50.019698       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:50.019701       1 tree.go:471] Updated node(53) last access: 208.1176 seconds
I0305 06:40:50.019705       1 tree.go:490] Partial tokens match child node(43). Continue to go deeper in the radix tree
I0305 06:40:50.019708       1 tree.go:471] Updated node(43) last access: 208.1176 seconds
I0305 06:40:50.019712       1 tree.go:490] Partial tokens match child node(404). Continue to go deeper in the radix tree
I0305 06:40:50.019716       1 tree.go:471] Updated node(404) last access: 208.1177 seconds
I0305 06:40:50.019720       1 tree.go:484] Entire input tokens match the child node(405)
I0305 06:40:50.019723       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:50.019731       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:50.019737       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.019742       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.019726072 +0000 UTC m=+208.236452937 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:17.686043712 +0000 UTC m=+175.902770577]
I0305 06:40:50.019764       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:50.019774       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.019844       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7602
I0305 06:40:50.019854       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.019865       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.019872       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.019876       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.019882       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.019887       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.019891       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.019898       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.019906       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:50.019916       1 prefix_cache_and_load.go:584] latency, Route, 0.3381
I0305 06:40:50.019929       1 gateway.go:415] latency, selectTargetPod, 0.3381, target pod, 10.0.0.34:8000
I0305 06:40:50.019942       1 gateway.go:235] latency, HandleRequestBody, 0.3384
I0305 06:40:50.019964       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2893
I0305 06:40:50.019975       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.019978       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.020189       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.020242       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:50.020247       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.038046       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="19b52463-4666-4b64-9ba7-794ef43749ff"
I0305 06:40:50.063869       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3989ba8d-dd38-4d1f-949d-7685955068bc"
I0305 06:40:50.064081       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3989ba8d-dd38-4d1f-949d-7685955068bc" model="qwen2-5-7b-instruct"
I0305 06:40:50.071934       1 gateway.go:608] "First token received" requestID="19b52463-4666-4b64-9ba7-794ef43749ff" ttft_ms=390
I0305 06:40:50.072942       1 gateway.go:562] latency, 0.0000, summary, hash(request), e8727e6a, selectedpod, 10.0.1.28:8000, ttft, 291, tpot, 23, e2e, 502, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:50.072960       1 gateway.go:748] "Request completed" requestID="b6f442cb-c73a-49b5-9437-0935c5be3f6b" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:50.072976       1 gateway.go:764] "HandleResponseBody completed" requestID="b6f442cb-c73a-49b5-9437-0935c5be3f6b" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:50.078579       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fb41d74b-cdaf-4f83-b79e-deee01bfcb39"
I0305 06:40:50.078786       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fb41d74b-cdaf-4f83-b79e-deee01bfcb39" model="qwen2-5-7b-instruct"
I0305 06:40:50.093091       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0728, numInputTokens, 7599
I0305 06:40:50.093173       1 tree.go:471] Updated node(0) last access: 208.1911 seconds
I0305 06:40:50.093181       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.093187       1 tree.go:471] Updated node(2) last access: 208.1911 seconds
I0305 06:40:50.093232       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:50.093253       1 tree.go:471] Updated node(45) last access: 208.1912 seconds
I0305 06:40:50.093265       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:50.093270       1 tree.go:471] Updated node(175) last access: 208.1912 seconds
I0305 06:40:50.093277       1 tree.go:490] Partial tokens match child node(184). Continue to go deeper in the radix tree
I0305 06:40:50.093282       1 tree.go:471] Updated node(184) last access: 208.1912 seconds
I0305 06:40:50.093295       1 tree.go:484] Entire input tokens match the child node(412)
I0305 06:40:50.093300       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:50.093311       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:50.093320       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.093327       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.09330298 +0000 UTC m=+208.310029861 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:18.218664887 +0000 UTC m=+176.435391751]
I0305 06:40:50.093358       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:50.093371       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.093481       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:40:50.093492       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.093504       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.093524       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.093531       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.093539       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.093547       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.093556       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.093573       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.093586       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:50.093600       1 prefix_cache_and_load.go:584] latency, Route, 0.3629
I0305 06:40:50.093616       1 gateway.go:415] latency, selectTargetPod, 0.3629, target pod, 10.0.0.34:8000
I0305 06:40:50.093632       1 gateway.go:235] latency, HandleRequestBody, 0.3635
I0305 06:40:50.093681       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3065
I0305 06:40:50.093697       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.093702       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.094220       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.094399       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0007
I0305 06:40:50.094407       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.101396       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b77a3af4-2942-41a4-b272-11159102c808"
I0305 06:40:50.101647       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b77a3af4-2942-41a4-b272-11159102c808" model="qwen2-5-7b-instruct"
I0305 06:40:50.111699       1 gateway.go:562] latency, 0.0000, summary, hash(request), 883e60e6, selectedpod, 10.0.1.28:8000, ttft, 282, tpot, 20, e2e, 464, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:50.111720       1 gateway.go:748] "Request completed" requestID="e3e9177c-f386-4039-a992-69de66e91cc6" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:50.111734       1 gateway.go:764] "HandleResponseBody completed" requestID="e3e9177c-f386-4039-a992-69de66e91cc6" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:50.111787       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6b5e200d-8a2d-4542-bc1c-7e26ccbb171e"
I0305 06:40:50.134807       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3b75f8e4-28fd-4e99-b287-d60bb292b34e"
I0305 06:40:50.135032       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3b75f8e4-28fd-4e99-b287-d60bb292b34e" model="qwen2-5-7b-instruct"
I0305 06:40:50.160848       1 gateway.go:608] "First token received" requestID="6b5e200d-8a2d-4542-bc1c-7e26ccbb171e" ttft_ms=430
I0305 06:40:50.181250       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8023fb13-e3f8-4226-b100-717f5e4b050e"
I0305 06:40:50.181471       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8023fb13-e3f8-4226-b100-717f5e4b050e" model="qwen2-5-7b-instruct"
I0305 06:40:50.181810       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0874, numInputTokens, 7597
I0305 06:40:50.181829       1 tree.go:471] Updated node(0) last access: 208.2798 seconds
I0305 06:40:50.181835       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.181840       1 tree.go:471] Updated node(2) last access: 208.2798 seconds
I0305 06:40:50.181853       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:50.181857       1 tree.go:471] Updated node(4) last access: 208.2798 seconds
I0305 06:40:50.181860       1 tree.go:490] Partial tokens match child node(346). Continue to go deeper in the radix tree
I0305 06:40:50.181863       1 tree.go:471] Updated node(346) last access: 208.2798 seconds
I0305 06:40:50.181867       1 tree.go:490] Partial tokens match child node(394). Continue to go deeper in the radix tree
I0305 06:40:50.181869       1 tree.go:471] Updated node(394) last access: 208.2798 seconds
I0305 06:40:50.181874       1 tree.go:484] Entire input tokens match the child node(395)
I0305 06:40:50.181878       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:50.181885       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:50.181891       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.181897       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.181880234 +0000 UTC m=+208.398607106 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:40:17.199176057 +0000 UTC m=+175.415902921]
I0305 06:40:50.181915       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:50.181922       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.181996       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7597
I0305 06:40:50.182006       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.182013       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.182018       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.182023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.182031       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.182035       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.182039       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.182047       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.182056       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:50.182068       1 prefix_cache_and_load.go:584] latency, Route, 0.3949
I0305 06:40:50.182083       1 gateway.go:415] latency, selectTargetPod, 0.3949, target pod, 10.0.1.47:8000
I0305 06:40:50.182093       1 gateway.go:235] latency, HandleRequestBody, 0.3953
I0305 06:40:50.182093       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3182
I0305 06:40:50.182108       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.182112       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.182401       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.182465       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:50.182472       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.201802       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b07a5e7d-8b28-4b63-98fd-040522b53ed8"
I0305 06:40:50.224571       1 gateway.go:562] latency, 0.0000, summary, hash(request), 40676ed7, selectedpod, 10.0.0.34:8000, ttft, 321, tpot, 26, e2e, 558, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:50.224596       1 gateway.go:748] "Request completed" requestID="23761e75-4769-448c-bb19-f6136a712d83" targetPod="10.0.0.34:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:50.224612       1 gateway.go:764] "HandleResponseBody completed" requestID="23761e75-4769-448c-bb19-f6136a712d83" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:50.227419       1 gateway.go:608] "First token received" requestID="b07a5e7d-8b28-4b63-98fd-040522b53ed8" ttft_ms=440
I0305 06:40:50.234066       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0516, numInputTokens, 7594
I0305 06:40:50.234084       1 tree.go:471] Updated node(0) last access: 208.3320 seconds
I0305 06:40:50.234090       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.234094       1 tree.go:471] Updated node(2) last access: 208.3320 seconds
I0305 06:40:50.234114       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:50.234119       1 tree.go:471] Updated node(8) last access: 208.3321 seconds
I0305 06:40:50.234122       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0305 06:40:50.234126       1 tree.go:471] Updated node(85) last access: 208.3321 seconds
I0305 06:40:50.234129       1 tree.go:490] Partial tokens match child node(408). Continue to go deeper in the radix tree
I0305 06:40:50.234132       1 tree.go:471] Updated node(408) last access: 208.3321 seconds
I0305 06:40:50.234136       1 tree.go:484] Entire input tokens match the child node(409)
I0305 06:40:50.234141       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7594 tokens
I0305 06:40:50.234148       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7594 tokens
I0305 06:40:50.234155       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.234159       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.234143358 +0000 UTC m=+208.450870223 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:18.027869571 +0000 UTC m=+176.244596436]
I0305 06:40:50.234179       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7594, Matched tokens: 7594, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:50.234189       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.234259       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7594
I0305 06:40:50.234271       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.234282       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.234289       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.234293       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.234297       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.234300       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.234304       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.234313       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.234321       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:50.234331       1 prefix_cache_and_load.go:584] latency, Route, 0.3704
I0305 06:40:50.234345       1 gateway.go:415] latency, selectTargetPod, 0.3704, target pod, 10.0.1.53:8000
I0305 06:40:50.234356       1 gateway.go:235] latency, HandleRequestBody, 0.3707
I0305 06:40:50.234356       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3571
I0305 06:40:50.234367       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.234374       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.234712       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.234778       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:50.234785       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.242147       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0561891d-fb48-43c2-84d7-b183b62de399"
I0305 06:40:50.242369       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0561891d-fb48-43c2-84d7-b183b62de399" model="qwen2-5-7b-instruct"
I0305 06:40:50.253623       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a86f91a1-5ecc-4532-aa9e-5b80a1edf0f0"
I0305 06:40:50.285384       1 gateway.go:608] "First token received" requestID="a86f91a1-5ecc-4532-aa9e-5b80a1edf0f0" ttft_ms=421
I0305 06:40:50.286448       1 gateway.go:562] latency, 0.0000, summary, hash(request), a2fb4cd9, selectedpod, 10.0.0.34:8000, ttft, 390, tpot, 23, e2e, 604, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:50.286469       1 gateway.go:748] "Request completed" requestID="19b52463-4666-4b64-9ba7-794ef43749ff" targetPod="10.0.0.34:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:50.286483       1 gateway.go:764] "HandleResponseBody completed" requestID="19b52463-4666-4b64-9ba7-794ef43749ff" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:50.315159       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0804, numInputTokens, 7597
I0305 06:40:50.315176       1 tree.go:471] Updated node(0) last access: 208.4131 seconds
I0305 06:40:50.315182       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.315185       1 tree.go:471] Updated node(2) last access: 208.4131 seconds
I0305 06:40:50.315197       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:50.315200       1 tree.go:471] Updated node(31) last access: 208.4131 seconds
I0305 06:40:50.315203       1 tree.go:490] Partial tokens match child node(186). Continue to go deeper in the radix tree
I0305 06:40:50.315207       1 tree.go:471] Updated node(186) last access: 208.4131 seconds
I0305 06:40:50.315211       1 tree.go:484] Entire input tokens match the child node(407)
I0305 06:40:50.315215       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:50.315222       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:50.315229       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.315235       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.315218181 +0000 UTC m=+208.531945045 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:17.978796535 +0000 UTC m=+176.195523399]
I0305 06:40:50.315254       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:50.315261       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.315323       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7597
I0305 06:40:50.315332       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.315339       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.315345       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.315350       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.315355       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.315360       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.315368       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.315376       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:50.315385       1 prefix_cache_and_load.go:584] latency, Route, 0.4382
I0305 06:40:50.315399       1 gateway.go:415] latency, selectTargetPod, 0.4382, target pod, 10.0.1.28:8000
I0305 06:40:50.315411       1 gateway.go:235] latency, HandleRequestBody, 0.4385
I0305 06:40:50.315474       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3275
I0305 06:40:50.315479       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.315482       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.315696       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.315749       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:50.315754       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.334892       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9b3f3902-644a-41d3-a16f-f1e29212c2a2"
I0305 06:40:50.336941       1 gateway.go:207] "Processing request" requestID="920db331-55d3-44d2-b43e-6c5de9403c35"
I0305 06:40:50.336968       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="920db331-55d3-44d2-b43e-6c5de9403c35"
I0305 06:40:50.336985       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:50.344223       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1054e879, selectedpod, 10.0.0.34:8000, ttft, 430, tpot, 20, e2e, 614, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:50.344241       1 gateway.go:748] "Request completed" requestID="6b5e200d-8a2d-4542-bc1c-7e26ccbb171e" targetPod="10.0.0.34:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:50.344250       1 gateway.go:764] "HandleResponseBody completed" requestID="6b5e200d-8a2d-4542-bc1c-7e26ccbb171e" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:50.360423       1 gateway.go:608] "First token received" requestID="9b3f3902-644a-41d3-a16f-f1e29212c2a2" ttft_ms=483
I0305 06:40:50.378816       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0631, numInputTokens, 7601
I0305 06:40:50.378837       1 tree.go:471] Updated node(0) last access: 208.4768 seconds
I0305 06:40:50.378844       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.378848       1 tree.go:471] Updated node(2) last access: 208.4768 seconds
I0305 06:40:50.378860       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:50.378863       1 tree.go:471] Updated node(51) last access: 208.4768 seconds
I0305 06:40:50.378867       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:40:50.378871       1 tree.go:471] Updated node(123) last access: 208.4768 seconds
I0305 06:40:50.378874       1 tree.go:490] Partial tokens match child node(251). Continue to go deeper in the radix tree
I0305 06:40:50.378878       1 tree.go:471] Updated node(251) last access: 208.4768 seconds
I0305 06:40:50.378882       1 tree.go:484] Entire input tokens match the child node(413)
I0305 06:40:50.378891       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:50.378902       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:50.378912       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.378920       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.378895764 +0000 UTC m=+208.595622647 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:18.298221439 +0000 UTC m=+176.514948303]
I0305 06:40:50.378947       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:50.378958       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.379106       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7601
I0305 06:40:50.379120       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:40:50.379129       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.379136       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.379141       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.379147       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.379152       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.379159       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.379171       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.379185       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:50.379203       1 prefix_cache_and_load.go:584] latency, Route, 0.3913
I0305 06:40:50.379222       1 gateway.go:415] latency, selectTargetPod, 0.3913, target pod, 10.0.1.28:8000
I0305 06:40:50.379237       1 gateway.go:235] latency, HandleRequestBody, 0.3937
I0305 06:40:50.379301       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3914
I0305 06:40:50.379317       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.379323       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.379732       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.379856       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:50.379863       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.398649       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8e32841f-722f-48c1-a62e-c8f050302b5d"
I0305 06:40:50.400618       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6b87794b, selectedpod, 10.0.1.47:8000, ttft, 440, tpot, 19, e2e, 613, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:50.400644       1 gateway.go:748] "Request completed" requestID="b07a5e7d-8b28-4b63-98fd-040522b53ed8" targetPod="10.0.1.47:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:50.400658       1 gateway.go:764] "HandleResponseBody completed" requestID="b07a5e7d-8b28-4b63-98fd-040522b53ed8" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:50.429020       1 gateway.go:329] "-- In RequestBody processing ..." requestID="920db331-55d3-44d2-b43e-6c5de9403c35"
I0305 06:40:50.429364       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="920db331-55d3-44d2-b43e-6c5de9403c35" model="qwen2-5-7b-instruct"
I0305 06:40:50.431118       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0512, numInputTokens, 7600
I0305 06:40:50.431136       1 tree.go:471] Updated node(0) last access: 208.5291 seconds
I0305 06:40:50.431142       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.431147       1 tree.go:471] Updated node(2) last access: 208.5291 seconds
I0305 06:40:50.431160       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:50.431165       1 tree.go:471] Updated node(18) last access: 208.5291 seconds
I0305 06:40:50.431168       1 tree.go:490] Partial tokens match child node(463). Continue to go deeper in the radix tree
I0305 06:40:50.431170       1 tree.go:471] Updated node(463) last access: 208.5291 seconds
I0305 06:40:50.431175       1 tree.go:484] Entire input tokens match the child node(403)
I0305 06:40:50.431179       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:50.431186       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:50.431193       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.431198       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.431181445 +0000 UTC m=+208.647908319 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:17.620054793 +0000 UTC m=+175.836781658]
I0305 06:40:50.431215       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:50.431221       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.431277       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7600
I0305 06:40:50.431286       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.431293       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.431300       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.431304       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.431308       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.431312       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.431319       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.431328       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:50.431339       1 prefix_cache_and_load.go:584] latency, Route, 0.4434
I0305 06:40:50.431354       1 gateway.go:415] latency, selectTargetPod, 0.4434, target pod, 10.0.0.131:8000
I0305 06:40:50.431365       1 gateway.go:235] latency, HandleRequestBody, 0.5145
I0305 06:40:50.431392       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4434
I0305 06:40:50.431396       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.431398       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.431616       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.431672       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:50.431677       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.446417       1 gateway.go:608] "First token received" requestID="8e32841f-722f-48c1-a62e-c8f050302b5d" ttft_ms=460
I0305 06:40:50.450825       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c59a3b4d-8a20-413a-8058-d8ac6a5468ee"
I0305 06:40:50.458301       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6bf84f08, selectedpod, 10.0.1.53:8000, ttft, 421, tpot, 19, e2e, 594, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:50.458321       1 gateway.go:748] "Request completed" requestID="a86f91a1-5ecc-4532-aa9e-5b80a1edf0f0" targetPod="10.0.1.53:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:50.458332       1 gateway.go:764] "HandleResponseBody completed" requestID="a86f91a1-5ecc-4532-aa9e-5b80a1edf0f0" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:50.483700       1 gateway.go:608] "First token received" requestID="c59a3b4d-8a20-413a-8058-d8ac6a5468ee" ttft_ms=566
I0305 06:40:50.516462       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0848, numInputTokens, 7599
I0305 06:40:50.516481       1 tree.go:471] Updated node(0) last access: 208.6144 seconds
I0305 06:40:50.516488       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.516492       1 tree.go:471] Updated node(2) last access: 208.6144 seconds
I0305 06:40:50.516504       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:50.516516       1 tree.go:471] Updated node(12) last access: 208.6144 seconds
I0305 06:40:50.516521       1 tree.go:490] Partial tokens match child node(267). Continue to go deeper in the radix tree
I0305 06:40:50.516525       1 tree.go:471] Updated node(267) last access: 208.6145 seconds
I0305 06:40:50.516528       1 tree.go:490] Partial tokens match child node(410). Continue to go deeper in the radix tree
I0305 06:40:50.516531       1 tree.go:471] Updated node(410) last access: 208.6145 seconds
I0305 06:40:50.516535       1 tree.go:484] Entire input tokens match the child node(411)
I0305 06:40:50.516540       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:50.516547       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:50.516554       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.516558       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.516542071 +0000 UTC m=+208.733268937 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:18.136646804 +0000 UTC m=+176.353373668]
I0305 06:40:50.516575       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:50.516582       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.516643       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7599
I0305 06:40:50.516653       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.516660       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.516667       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.516675       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.516679       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.516682       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.516687       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.516694       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.516702       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:50.516712       1 prefix_cache_and_load.go:584] latency, Route, 0.5288
I0305 06:40:50.516727       1 gateway.go:415] latency, selectTargetPod, 0.5288, target pod, 10.0.0.39:8000
I0305 06:40:50.516740       1 gateway.go:235] latency, HandleRequestBody, 0.5851
I0305 06:40:50.516741       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4526
I0305 06:40:50.516747       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.516751       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.517000       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.517067       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:50.517072       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.536093       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c08488a1-5b0d-4eff-95b8-49c8776b6590"
I0305 06:40:50.568634       1 gateway.go:608] "First token received" requestID="c08488a1-5b0d-4eff-95b8-49c8776b6590" ttft_ms=636
I0305 06:40:50.568978       1 gateway.go:562] latency, 0.0000, summary, hash(request), 093fca6a, selectedpod, 10.0.1.28:8000, ttft, 483, tpot, 23, e2e, 692, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:50.569005       1 gateway.go:748] "Request completed" requestID="9b3f3902-644a-41d3-a16f-f1e29212c2a2" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:50.569019       1 gateway.go:764] "HandleResponseBody completed" requestID="9b3f3902-644a-41d3-a16f-f1e29212c2a2" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:50.573952       1 gateway.go:207] "Processing request" requestID="6d5a412f-ae0e-4548-94ae-8c047adb8f7f"
I0305 06:40:50.573983       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6d5a412f-ae0e-4548-94ae-8c047adb8f7f"
I0305 06:40:50.573992       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:50.600199       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0831, numInputTokens, 7596
I0305 06:40:50.600218       1 tree.go:471] Updated node(0) last access: 208.6982 seconds
I0305 06:40:50.600224       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.600228       1 tree.go:471] Updated node(2) last access: 208.6982 seconds
I0305 06:40:50.600243       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:50.600248       1 tree.go:471] Updated node(31) last access: 208.6982 seconds
I0305 06:40:50.600252       1 tree.go:490] Partial tokens match child node(354). Continue to go deeper in the radix tree
I0305 06:40:50.600255       1 tree.go:471] Updated node(354) last access: 208.6982 seconds
I0305 06:40:50.600260       1 tree.go:490] Partial tokens match child node(139). Continue to go deeper in the radix tree
I0305 06:40:50.600263       1 tree.go:471] Updated node(139) last access: 208.6982 seconds
I0305 06:40:50.600266       1 tree.go:490] Partial tokens match child node(414). Continue to go deeper in the radix tree
I0305 06:40:50.600271       1 tree.go:471] Updated node(414) last access: 208.6982 seconds
I0305 06:40:50.600276       1 tree.go:484] Entire input tokens match the child node(415)
I0305 06:40:50.600282       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:50.600292       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:50.600301       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.600310       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.600285029 +0000 UTC m=+208.817011893 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:18.387703116 +0000 UTC m=+176.604429980]
I0305 06:40:50.600335       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:50.600356       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.600471       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7596
I0305 06:40:50.600481       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.600489       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.600495       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.600499       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.600505       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.600522       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.600530       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.600534       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.600542       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.600552       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:50.600562       1 prefix_cache_and_load.go:584] latency, Route, 0.5364
I0305 06:40:50.600583       1 gateway.go:415] latency, selectTargetPod, 0.5364, target pod, 10.0.1.28:8000
I0305 06:40:50.600601       1 gateway.go:235] latency, HandleRequestBody, 0.5367
I0305 06:40:50.600630       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5218
I0305 06:40:50.600634       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.600637       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.600986       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.601051       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:50.601057       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.620248       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3989ba8d-dd38-4d1f-949d-7685955068bc"
I0305 06:40:50.637117       1 gateway.go:562] latency, 0.0001, summary, hash(request), 581548ca, selectedpod, 10.0.1.28:8000, ttft, 460, tpot, 21, e2e, 651, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:50.637148       1 gateway.go:748] "Request completed" requestID="8e32841f-722f-48c1-a62e-c8f050302b5d" targetPod="10.0.1.28:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:50.637165       1 gateway.go:764] "HandleResponseBody completed" requestID="8e32841f-722f-48c1-a62e-c8f050302b5d" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:50.643240       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6d5a412f-ae0e-4548-94ae-8c047adb8f7f"
I0305 06:40:50.643472       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6d5a412f-ae0e-4548-94ae-8c047adb8f7f" model="qwen2-5-7b-instruct"
I0305 06:40:50.656073       1 gateway.go:608] "First token received" requestID="3989ba8d-dd38-4d1f-949d-7685955068bc" ttft_ms=592
I0305 06:40:50.656710       1 gateway.go:562] latency, 0.0000, summary, hash(request), 78d83e2d, selectedpod, 10.0.0.131:8000, ttft, 566, tpot, 19, e2e, 739, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:50.656728       1 gateway.go:748] "Request completed" requestID="c59a3b4d-8a20-413a-8058-d8ac6a5468ee" targetPod="10.0.0.131:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:50.656739       1 gateway.go:764] "HandleResponseBody completed" requestID="c59a3b4d-8a20-413a-8058-d8ac6a5468ee" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:50.695922       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0949, numInputTokens, 7598
I0305 06:40:50.695941       1 tree.go:471] Updated node(0) last access: 208.7939 seconds
I0305 06:40:50.695947       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.695951       1 tree.go:471] Updated node(2) last access: 208.7939 seconds
I0305 06:40:50.695964       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:50.695976       1 tree.go:471] Updated node(4) last access: 208.7939 seconds
I0305 06:40:50.695981       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0305 06:40:50.695984       1 tree.go:471] Updated node(63) last access: 208.7939 seconds
I0305 06:40:50.695988       1 tree.go:490] Partial tokens match child node(145). Continue to go deeper in the radix tree
I0305 06:40:50.695990       1 tree.go:471] Updated node(145) last access: 208.7939 seconds
I0305 06:40:50.695993       1 tree.go:490] Partial tokens match child node(161). Continue to go deeper in the radix tree
I0305 06:40:50.695996       1 tree.go:471] Updated node(161) last access: 208.7939 seconds
I0305 06:40:50.695999       1 tree.go:490] Partial tokens match child node(417). Continue to go deeper in the radix tree
I0305 06:40:50.696002       1 tree.go:471] Updated node(417) last access: 208.7939 seconds
I0305 06:40:50.696006       1 tree.go:484] Entire input tokens match the child node(418)
I0305 06:40:50.696011       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:50.696019       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:50.696024       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.696031       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.6960129 +0000 UTC m=+208.912739764 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:40:19.105197195 +0000 UTC m=+177.321924060]
I0305 06:40:50.696047       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:50.696053       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.696117       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7598
I0305 06:40:50.696126       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.696133       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.696150       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.696155       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.696160       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.696164       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.696171       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.696173       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.696178       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.696187       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.696196       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:50.696232       1 prefix_cache_and_load.go:584] latency, Route, 0.6173
I0305 06:40:50.696250       1 gateway.go:415] latency, selectTargetPod, 0.6174, target pod, 10.0.1.47:8000
I0305 06:40:50.696262       1 gateway.go:235] latency, HandleRequestBody, 0.6177
I0305 06:40:50.696292       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5946
I0305 06:40:50.696297       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.696300       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.696548       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.696598       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:50.696603       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.715508       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fb41d74b-cdaf-4f83-b79e-deee01bfcb39"
I0305 06:40:50.737728       1 gateway.go:207] "Processing request" requestID="1a0570f7-70b6-414d-9e16-7b756306ba0a"
I0305 06:40:50.737761       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1a0570f7-70b6-414d-9e16-7b756306ba0a"
I0305 06:40:50.737773       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:50.742663       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6728d38b, selectedpod, 10.0.0.39:8000, ttft, 636, tpot, 19, e2e, 810, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:50.742682       1 gateway.go:748] "Request completed" requestID="c08488a1-5b0d-4eff-95b8-49c8776b6590" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:50.742692       1 gateway.go:764] "HandleResponseBody completed" requestID="c08488a1-5b0d-4eff-95b8-49c8776b6590" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:50.743787       1 gateway.go:608] "First token received" requestID="fb41d74b-cdaf-4f83-b79e-deee01bfcb39" ttft_ms=665
I0305 06:40:50.748531       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0519, numInputTokens, 7599
I0305 06:40:50.748549       1 tree.go:471] Updated node(0) last access: 208.8465 seconds
I0305 06:40:50.748555       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.748558       1 tree.go:471] Updated node(2) last access: 208.8465 seconds
I0305 06:40:50.748571       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:50.748576       1 tree.go:471] Updated node(45) last access: 208.8465 seconds
I0305 06:40:50.748579       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:50.748582       1 tree.go:471] Updated node(175) last access: 208.8465 seconds
I0305 06:40:50.748586       1 tree.go:484] Entire input tokens match the child node(398)
I0305 06:40:50.748591       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:50.748598       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:50.748604       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.748609       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.748593611 +0000 UTC m=+208.965320482 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:17.33971125 +0000 UTC m=+175.556438114]
I0305 06:40:50.748625       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:50.748633       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.748699       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:40:50.748708       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.748718       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.748722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.748726       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.748730       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.748733       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.748741       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.748749       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:50.748758       1 prefix_cache_and_load.go:584] latency, Route, 0.6470
I0305 06:40:50.748796       1 gateway.go:415] latency, selectTargetPod, 0.6471, target pod, 10.0.0.34:8000
I0305 06:40:50.748806       1 gateway.go:235] latency, HandleRequestBody, 0.6474
I0305 06:40:50.748836       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6137
I0305 06:40:50.748841       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.748844       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.749114       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.749163       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:50.749168       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.768066       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b77a3af4-2942-41a4-b272-11159102c808"
I0305 06:40:50.785538       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1a0570f7-70b6-414d-9e16-7b756306ba0a"
I0305 06:40:50.785752       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1a0570f7-70b6-414d-9e16-7b756306ba0a" model="qwen2-5-7b-instruct"
I0305 06:40:50.799851       1 gateway.go:608] "First token received" requestID="b77a3af4-2942-41a4-b272-11159102c808" ttft_ms=698
I0305 06:40:50.826920       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0777, numInputTokens, 7599
I0305 06:40:50.826941       1 tree.go:471] Updated node(0) last access: 208.9249 seconds
I0305 06:40:50.826947       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.826950       1 tree.go:471] Updated node(2) last access: 208.9249 seconds
I0305 06:40:50.826963       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:50.826968       1 tree.go:471] Updated node(53) last access: 208.9249 seconds
I0305 06:40:50.826980       1 tree.go:484] Entire input tokens match the child node(416)
I0305 06:40:50.826985       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:50.826992       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:50.826999       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.827003       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.82698764 +0000 UTC m=+209.043714505 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:18.788811702 +0000 UTC m=+177.005538567]
I0305 06:40:50.827021       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:50.827028       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.827086       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7599
I0305 06:40:50.827098       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.827108       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.827115       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.827125       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.827135       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.827149       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.827162       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:50.827176       1 prefix_cache_and_load.go:584] latency, Route, 0.6920
I0305 06:40:50.827190       1 gateway.go:415] latency, selectTargetPod, 0.6921, target pod, 10.0.0.34:8000
I0305 06:40:50.827200       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6456
I0305 06:40:50.827211       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.827215       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.827204       1 gateway.go:235] latency, HandleRequestBody, 0.6924
I0305 06:40:50.827470       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.827538       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:50.827545       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.829147       1 gateway.go:562] latency, 0.0001, summary, hash(request), 39936d6c, selectedpod, 10.0.1.28:8000, ttft, 592, tpot, 19, e2e, 765, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:50.829166       1 gateway.go:748] "Request completed" requestID="3989ba8d-dd38-4d1f-949d-7685955068bc" targetPod="10.0.1.28:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:50.829178       1 gateway.go:764] "HandleResponseBody completed" requestID="3989ba8d-dd38-4d1f-949d-7685955068bc" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:50.845762       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3b75f8e4-28fd-4e99-b287-d60bb292b34e"
I0305 06:40:50.888441       1 gateway.go:608] "First token received" requestID="3b75f8e4-28fd-4e99-b287-d60bb292b34e" ttft_ms=753
I0305 06:40:50.910172       1 gateway.go:207] "Processing request" requestID="25e21ffb-180c-4d1c-bf76-154e79b37415"
I0305 06:40:50.910200       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="25e21ffb-180c-4d1c-bf76-154e79b37415"
I0305 06:40:50.910208       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:50.913764       1 gateway.go:562] latency, 0.0000, summary, hash(request), cf414def, selectedpod, 10.0.1.47:8000, ttft, 665, tpot, 18, e2e, 835, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:50.913781       1 gateway.go:748] "Request completed" requestID="fb41d74b-cdaf-4f83-b79e-deee01bfcb39" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:50.913791       1 gateway.go:764] "HandleResponseBody completed" requestID="fb41d74b-cdaf-4f83-b79e-deee01bfcb39" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:50.918437       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0909, numInputTokens, 7600
I0305 06:40:50.918453       1 tree.go:471] Updated node(0) last access: 209.0164 seconds
I0305 06:40:50.918460       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.918464       1 tree.go:471] Updated node(2) last access: 209.0164 seconds
I0305 06:40:50.918477       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:50.918481       1 tree.go:471] Updated node(31) last access: 209.0164 seconds
I0305 06:40:50.918484       1 tree.go:490] Partial tokens match child node(217). Continue to go deeper in the radix tree
I0305 06:40:50.918487       1 tree.go:471] Updated node(217) last access: 209.0164 seconds
I0305 06:40:50.918491       1 tree.go:484] Entire input tokens match the child node(419)
I0305 06:40:50.918494       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:50.918502       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:50.918508       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.918523       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.918497413 +0000 UTC m=+209.135224277 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:19.244588328 +0000 UTC m=+177.461315197]
I0305 06:40:50.918542       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:50.918549       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.918615       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7600
I0305 06:40:50.918625       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.918635       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.918640       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.918644       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.918651       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.918655       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.918663       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.918672       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:50.918681       1 prefix_cache_and_load.go:584] latency, Route, 0.7371
I0305 06:40:50.918695       1 gateway.go:415] latency, selectTargetPod, 0.7371, target pod, 10.0.1.28:8000
I0305 06:40:50.918709       1 gateway.go:235] latency, HandleRequestBody, 0.7375
I0305 06:40:50.918739       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6763
I0305 06:40:50.918744       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.918747       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.918956       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.919017       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:50.919023       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:50.937996       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8023fb13-e3f8-4226-b100-717f5e4b050e"
I0305 06:40:50.947401       1 gateway.go:329] "-- In RequestBody processing ..." requestID="25e21ffb-180c-4d1c-bf76-154e79b37415"
I0305 06:40:50.947637       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="25e21ffb-180c-4d1c-bf76-154e79b37415" model="qwen2-5-7b-instruct"
I0305 06:40:50.969173       1 gateway.go:608] "First token received" requestID="8023fb13-e3f8-4226-b100-717f5e4b050e" ttft_ms=787
I0305 06:40:50.985083       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0661, numInputTokens, 7599
I0305 06:40:50.985102       1 tree.go:471] Updated node(0) last access: 209.0830 seconds
I0305 06:40:50.985109       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:50.985112       1 tree.go:471] Updated node(2) last access: 209.0831 seconds
I0305 06:40:50.985125       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:50.985129       1 tree.go:471] Updated node(31) last access: 209.0831 seconds
I0305 06:40:50.985133       1 tree.go:490] Partial tokens match child node(186). Continue to go deeper in the radix tree
I0305 06:40:50.985135       1 tree.go:471] Updated node(186) last access: 209.0831 seconds
I0305 06:40:50.985139       1 tree.go:484] Entire input tokens match the child node(421)
I0305 06:40:50.985144       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:50.985154       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:50.985161       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:50.985166       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:50.985149241 +0000 UTC m=+209.201876106 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:19.37955806 +0000 UTC m=+177.596284925]
I0305 06:40:50.985183       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:50.985191       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:50.985288       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7599
I0305 06:40:50.985297       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:50.985305       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.985313       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.985318       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.985323       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.985327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:50.985335       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:50.985351       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:50.985360       1 prefix_cache_and_load.go:584] latency, Route, 0.7429
I0305 06:40:50.985376       1 gateway.go:415] latency, selectTargetPod, 0.7429, target pod, 10.0.1.28:8000
I0305 06:40:50.985388       1 gateway.go:235] latency, HandleRequestBody, 0.7432
I0305 06:40:50.985460       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5560
I0305 06:40:50.985476       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:50.985493       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:50.986161       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:50.986353       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0009
I0305 06:40:50.986362       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:51.004843       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0561891d-fb48-43c2-84d7-b183b62de399"
I0305 06:40:51.009446       1 gateway.go:562] latency, 0.0001, summary, hash(request), 6ca83a0f, selectedpod, 10.0.0.34:8000, ttft, 698, tpot, 23, e2e, 907, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:51.009467       1 gateway.go:748] "Request completed" requestID="b77a3af4-2942-41a4-b272-11159102c808" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:51.009475       1 gateway.go:764] "HandleResponseBody completed" requestID="b77a3af4-2942-41a4-b272-11159102c808" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:51.034372       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0480, numInputTokens, 7597
I0305 06:40:51.034390       1 tree.go:471] Updated node(0) last access: 209.1323 seconds
I0305 06:40:51.034396       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:51.034399       1 tree.go:471] Updated node(2) last access: 209.1323 seconds
I0305 06:40:51.034413       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:51.034416       1 tree.go:471] Updated node(51) last access: 209.1324 seconds
I0305 06:40:51.034420       1 tree.go:490] Partial tokens match child node(422). Continue to go deeper in the radix tree
I0305 06:40:51.034423       1 tree.go:471] Updated node(422) last access: 209.1324 seconds
I0305 06:40:51.034427       1 tree.go:484] Entire input tokens match the child node(423)
I0305 06:40:51.034431       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:51.034438       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:51.034445       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:51.034449       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:51.034433669 +0000 UTC m=+209.251160533 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:23.400208038 +0000 UTC m=+181.616934904]
I0305 06:40:51.034466       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:51.034472       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:51.034540       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7597
I0305 06:40:51.034550       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:51.034557       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.034562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.034567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.034570       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.034574       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.034581       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:51.034590       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:51.034600       1 prefix_cache_and_load.go:584] latency, Route, 0.6051
I0305 06:40:51.034614       1 gateway.go:415] latency, selectTargetPod, 0.6051, target pod, 10.0.1.28:8000
I0305 06:40:51.034624       1 gateway.go:235] latency, HandleRequestBody, 0.6056
I0305 06:40:51.034626       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3911
I0305 06:40:51.034639       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:51.034646       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:51.034957       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:51.035026       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:51.035035       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:51.036962       1 gateway.go:608] "First token received" requestID="0561891d-fb48-43c2-84d7-b183b62de399" ttft_ms=794
I0305 06:40:51.053296       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="920db331-55d3-44d2-b43e-6c5de9403c35"
I0305 06:40:51.069878       1 gateway.go:562] latency, 0.0000, summary, hash(request), 235dde68, selectedpod, 10.0.0.34:8000, ttft, 753, tpot, 20, e2e, 935, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:51.069896       1 gateway.go:748] "Request completed" requestID="3b75f8e4-28fd-4e99-b287-d60bb292b34e" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:51.069908       1 gateway.go:764] "HandleResponseBody completed" requestID="3b75f8e4-28fd-4e99-b287-d60bb292b34e" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:51.080808       1 gateway.go:608] "First token received" requestID="920db331-55d3-44d2-b43e-6c5de9403c35" ttft_ms=651
I0305 06:40:51.106661       1 gateway.go:207] "Processing request" requestID="6738ac26-fe5b-41ee-9163-d436c89fe9d9"
I0305 06:40:51.106693       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6738ac26-fe5b-41ee-9163-d436c89fe9d9"
I0305 06:40:51.106700       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:51.119089       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0840, numInputTokens, 7601
I0305 06:40:51.119110       1 tree.go:471] Updated node(0) last access: 209.2171 seconds
I0305 06:40:51.119116       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:51.119119       1 tree.go:471] Updated node(2) last access: 209.2171 seconds
I0305 06:40:51.119132       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:51.119136       1 tree.go:471] Updated node(23) last access: 209.2171 seconds
I0305 06:40:51.119139       1 tree.go:490] Partial tokens match child node(159). Continue to go deeper in the radix tree
I0305 06:40:51.119142       1 tree.go:471] Updated node(159) last access: 209.2171 seconds
I0305 06:40:51.119147       1 tree.go:484] Entire input tokens match the child node(420)
I0305 06:40:51.119151       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:51.119158       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:51.119164       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:51.119169       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:51.119153758 +0000 UTC m=+209.335880623 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:40:19.324155272 +0000 UTC m=+177.540882143]
I0305 06:40:51.119188       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:51.119195       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:51.119253       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7601
I0305 06:40:51.119262       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:51.119269       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.119273       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.119279       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.119284       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.119290       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.119297       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:51.119307       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:51.119318       1 prefix_cache_and_load.go:584] latency, Route, 0.4758
I0305 06:40:51.119332       1 gateway.go:415] latency, selectTargetPod, 0.4758, target pod, 10.0.3.42:8000
I0305 06:40:51.119353       1 gateway.go:235] latency, HandleRequestBody, 0.4761
I0305 06:40:51.119386       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3336
I0305 06:40:51.119393       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:51.119397       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:51.119611       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:51.119662       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:51.119667       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:51.119839       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6738ac26-fe5b-41ee-9163-d436c89fe9d9"
I0305 06:40:51.120081       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6738ac26-fe5b-41ee-9163-d436c89fe9d9" model="qwen2-5-7b-instruct"
I0305 06:40:51.138305       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6d5a412f-ae0e-4548-94ae-8c047adb8f7f"
I0305 06:40:51.173834       1 gateway.go:608] "First token received" requestID="6d5a412f-ae0e-4548-94ae-8c047adb8f7f" ttft_ms=530
I0305 06:40:51.205838       1 gateway.go:562] latency, 0.0000, summary, hash(request), ebcd6676, selectedpod, 10.0.1.28:8000, ttft, 787, tpot, 26, e2e, 1024, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:51.205859       1 gateway.go:748] "Request completed" requestID="8023fb13-e3f8-4226-b100-717f5e4b050e" targetPod="10.0.1.28:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:51.205869       1 gateway.go:764] "HandleResponseBody completed" requestID="8023fb13-e3f8-4226-b100-717f5e4b050e" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:51.206251       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0866, numInputTokens, 7598
I0305 06:40:51.206267       1 tree.go:471] Updated node(0) last access: 209.3042 seconds
I0305 06:40:51.206273       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:51.206279       1 tree.go:471] Updated node(2) last access: 209.3042 seconds
I0305 06:40:51.206294       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:51.206299       1 tree.go:471] Updated node(4) last access: 209.3042 seconds
I0305 06:40:51.206304       1 tree.go:490] Partial tokens match child node(426). Continue to go deeper in the radix tree
I0305 06:40:51.206307       1 tree.go:471] Updated node(426) last access: 209.3042 seconds
I0305 06:40:51.206313       1 tree.go:484] Entire input tokens match the child node(427)
I0305 06:40:51.206321       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:51.206329       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:51.206338       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:51.206344       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:51.206323768 +0000 UTC m=+209.423050637 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:40:31.221692973 +0000 UTC m=+189.438419842]
I0305 06:40:51.206360       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:51.206366       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:51.206421       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7598
I0305 06:40:51.206431       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:51.206439       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.206447       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.206451       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.206454       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.206459       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.206467       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:51.206475       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:51.206483       1 prefix_cache_and_load.go:584] latency, Route, 0.4207
I0305 06:40:51.206496       1 gateway.go:415] latency, selectTargetPod, 0.4207, target pod, 10.0.1.47:8000
I0305 06:40:51.206505       1 gateway.go:235] latency, HandleRequestBody, 0.4210
I0305 06:40:51.206578       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2588
I0305 06:40:51.206593       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:51.206596       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:51.206832       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:51.206883       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:51.206889       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:51.227604       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1a0570f7-70b6-414d-9e16-7b756306ba0a"
I0305 06:40:51.247764       1 gateway.go:562] latency, 0.0000, summary, hash(request), c5279b01, selectedpod, 10.0.1.28:8000, ttft, 794, tpot, 23, e2e, 1005, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:51.247779       1 gateway.go:748] "Request completed" requestID="0561891d-fb48-43c2-84d7-b183b62de399" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:51.247786       1 gateway.go:764] "HandleResponseBody completed" requestID="0561891d-fb48-43c2-84d7-b183b62de399" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:51.253839       1 gateway.go:608] "First token received" requestID="1a0570f7-70b6-414d-9e16-7b756306ba0a" ttft_ms=468
I0305 06:40:51.266992       1 gateway.go:562] latency, 0.0001, summary, hash(request), 2dd7c62b, selectedpod, 10.0.1.28:8000, ttft, 651, tpot, 20, e2e, 837, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:51.267017       1 gateway.go:748] "Request completed" requestID="920db331-55d3-44d2-b43e-6c5de9403c35" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:51.267032       1 gateway.go:764] "HandleResponseBody completed" requestID="920db331-55d3-44d2-b43e-6c5de9403c35" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:51.268194       1 gateway.go:207] "Processing request" requestID="bce01618-5757-463c-bcc8-9b8eead3ec3b"
I0305 06:40:51.268240       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bce01618-5757-463c-bcc8-9b8eead3ec3b"
I0305 06:40:51.268250       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:51.279058       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0722, numInputTokens, 7599
I0305 06:40:51.279215       1 tree.go:471] Updated node(0) last access: 209.3772 seconds
I0305 06:40:51.279221       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:51.279226       1 tree.go:471] Updated node(2) last access: 209.3772 seconds
I0305 06:40:51.279239       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:51.279242       1 tree.go:471] Updated node(31) last access: 209.3772 seconds
I0305 06:40:51.279245       1 tree.go:490] Partial tokens match child node(424). Continue to go deeper in the radix tree
I0305 06:40:51.279248       1 tree.go:471] Updated node(424) last access: 209.3772 seconds
I0305 06:40:51.279253       1 tree.go:484] Entire input tokens match the child node(425)
I0305 06:40:51.279257       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:51.279264       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:51.279271       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:51.279276       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:51.279259471 +0000 UTC m=+209.495986335 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:31.087487293 +0000 UTC m=+189.304214168]
I0305 06:40:51.279297       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:51.279305       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:51.279362       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7599
I0305 06:40:51.279371       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:51.279381       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.279387       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.279393       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.279398       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.279404       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.279412       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:51.279420       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:51.279440       1 prefix_cache_and_load.go:584] latency, Route, 0.3317
I0305 06:40:51.279452       1 gateway.go:415] latency, selectTargetPod, 0.3317, target pod, 10.0.1.28:8000
I0305 06:40:51.279463       1 gateway.go:235] latency, HandleRequestBody, 0.3321
I0305 06:40:51.279492       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1593
I0305 06:40:51.279497       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:51.279500       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:51.279708       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:51.279765       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:51.279770       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:51.298322       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="25e21ffb-180c-4d1c-bf76-154e79b37415"
I0305 06:40:51.327780       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0480, numInputTokens, 7600
I0305 06:40:51.327796       1 tree.go:471] Updated node(0) last access: 209.4257 seconds
I0305 06:40:51.327802       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:51.327806       1 tree.go:471] Updated node(2) last access: 209.4257 seconds
I0305 06:40:51.327820       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:51.327824       1 tree.go:471] Updated node(12) last access: 209.4258 seconds
I0305 06:40:51.327828       1 tree.go:490] Partial tokens match child node(190). Continue to go deeper in the radix tree
I0305 06:40:51.327832       1 tree.go:471] Updated node(190) last access: 209.4258 seconds
I0305 06:40:51.327835       1 tree.go:490] Partial tokens match child node(258). Continue to go deeper in the radix tree
I0305 06:40:51.327839       1 tree.go:471] Updated node(258) last access: 209.4258 seconds
I0305 06:40:51.327843       1 tree.go:484] Entire input tokens match the child node(428)
I0305 06:40:51.327848       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:51.327854       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:51.327861       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:51.327867       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:51.327850021 +0000 UTC m=+209.544576886 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:31.284544244 +0000 UTC m=+189.501271109]
I0305 06:40:51.327882       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:51.327891       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:51.327944       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7600
I0305 06:40:51.327953       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:51.327961       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.327967       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.327981       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.327988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.327992       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.327995       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:51.328003       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:51.328012       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:51.328020       1 prefix_cache_and_load.go:584] latency, Route, 0.2079
I0305 06:40:51.328028       1 gateway.go:415] latency, selectTargetPod, 0.2079, target pod, 10.0.0.39:8000
I0305 06:40:51.328037       1 gateway.go:235] latency, HandleRequestBody, 0.2082
I0305 06:40:51.329074       1 gateway.go:608] "First token received" requestID="25e21ffb-180c-4d1c-bf76-154e79b37415" ttft_ms=381
I0305 06:40:51.343776       1 gateway.go:562] latency, 0.0001, summary, hash(request), f2f7ec49, selectedpod, 10.0.3.42:8000, ttft, 530, tpot, 18, e2e, 700, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:51.343796       1 gateway.go:748] "Request completed" requestID="6d5a412f-ae0e-4548-94ae-8c047adb8f7f" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:51.343806       1 gateway.go:764] "HandleResponseBody completed" requestID="6d5a412f-ae0e-4548-94ae-8c047adb8f7f" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:51.347274       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6738ac26-fe5b-41ee-9163-d436c89fe9d9"
I0305 06:40:51.356912       1 gateway.go:207] "Processing request" requestID="6d33f83a-adec-4db0-b6ff-13ac3a0a1491"
I0305 06:40:51.356933       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6d33f83a-adec-4db0-b6ff-13ac3a0a1491"
I0305 06:40:51.356941       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:51.379788       1 gateway.go:608] "First token received" requestID="6738ac26-fe5b-41ee-9163-d436c89fe9d9" ttft_ms=259
I0305 06:40:51.429069       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1d539067, selectedpod, 10.0.1.47:8000, ttft, 468, tpot, 19, e2e, 643, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:51.429088       1 gateway.go:748] "Request completed" requestID="1a0570f7-70b6-414d-9e16-7b756306ba0a" targetPod="10.0.1.47:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:51.429098       1 gateway.go:764] "HandleResponseBody completed" requestID="1a0570f7-70b6-414d-9e16-7b756306ba0a" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:51.499323       1 gateway.go:207] "Processing request" requestID="dc9decb4-f04d-4a6b-92e7-a9864cf51311"
I0305 06:40:51.499348       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dc9decb4-f04d-4a6b-92e7-a9864cf51311"
I0305 06:40:51.499354       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:51.502320       1 gateway.go:562] latency, 0.0000, summary, hash(request), e3005ee1, selectedpod, 10.0.1.28:8000, ttft, 381, tpot, 19, e2e, 554, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:51.502340       1 gateway.go:748] "Request completed" requestID="25e21ffb-180c-4d1c-bf76-154e79b37415" targetPod="10.0.1.28:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:51.502351       1 gateway.go:764] "HandleResponseBody completed" requestID="25e21ffb-180c-4d1c-bf76-154e79b37415" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:51.553461       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0669f575, selectedpod, 10.0.0.39:8000, ttft, 259, tpot, 19, e2e, 433, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:51.553480       1 gateway.go:748] "Request completed" requestID="6738ac26-fe5b-41ee-9163-d436c89fe9d9" targetPod="10.0.0.39:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:51.553491       1 gateway.go:764] "HandleResponseBody completed" requestID="6738ac26-fe5b-41ee-9163-d436c89fe9d9" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:51.610322       1 gateway.go:207] "Processing request" requestID="ddc94e92-5398-45de-a2b4-01793056583f"
I0305 06:40:51.610342       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ddc94e92-5398-45de-a2b4-01793056583f"
I0305 06:40:51.610350       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:51.732103       1 gateway.go:207] "Processing request" requestID="ffbc907c-4741-41a9-b959-b07792b6b385"
I0305 06:40:51.732132       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ffbc907c-4741-41a9-b959-b07792b6b385"
I0305 06:40:51.732142       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:51.879497       1 gateway.go:207] "Processing request" requestID="1f96b29f-e37a-4eb9-8e9a-50b388ca174b"
I0305 06:40:51.879528       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1f96b29f-e37a-4eb9-8e9a-50b388ca174b"
I0305 06:40:51.879536       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:51.963296       1 gateway.go:207] "Processing request" requestID="4bd88f1d-2393-447d-b97c-ced5bb559942"
I0305 06:40:51.963326       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4bd88f1d-2393-447d-b97c-ced5bb559942"
I0305 06:40:51.963335       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:52.111697       1 gateway.go:207] "Processing request" requestID="69772d45-b0c9-4ee6-b827-61153689914a"
I0305 06:40:52.111722       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="69772d45-b0c9-4ee6-b827-61153689914a"
I0305 06:40:52.111731       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:52.196843       1 gateway.go:207] "Processing request" requestID="9a986ae8-3266-4cc8-9c55-3dcfe0c5edc1"
I0305 06:40:52.196881       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9a986ae8-3266-4cc8-9c55-3dcfe0c5edc1"
I0305 06:40:52.196891       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:52.323408       1 gateway.go:207] "Processing request" requestID="a1138f3e-a769-41a0-a15d-6067a66d83ff"
I0305 06:40:52.323438       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a1138f3e-a769-41a0-a15d-6067a66d83ff"
I0305 06:40:52.323445       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:52.439929       1 gateway.go:207] "Processing request" requestID="c78f3831-ed8a-4247-8544-f95327888b0d"
I0305 06:40:52.439978       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c78f3831-ed8a-4247-8544-f95327888b0d"
I0305 06:40:52.439989       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:52.541721       1 gateway.go:207] "Processing request" requestID="d4470107-7883-4d22-95ca-118218201644"
I0305 06:40:52.541751       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d4470107-7883-4d22-95ca-118218201644"
I0305 06:40:52.541758       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:52.653896       1 gateway.go:207] "Processing request" requestID="3260b1e3-9803-4e55-9631-6d35f5f208bf"
I0305 06:40:52.653927       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3260b1e3-9803-4e55-9631-6d35f5f208bf"
I0305 06:40:52.653934       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:52.751810       1 gateway.go:207] "Processing request" requestID="16c3bb62-06d0-4aea-8ff2-bd265989cb69"
I0305 06:40:52.751845       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="16c3bb62-06d0-4aea-8ff2-bd265989cb69"
I0305 06:40:52.751856       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:52.848332       1 gateway.go:207] "Processing request" requestID="4a762113-b523-47a2-b8e3-5ab2dc364152"
I0305 06:40:52.848366       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4a762113-b523-47a2-b8e3-5ab2dc364152"
I0305 06:40:52.848373       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:52.973372       1 gateway.go:207] "Processing request" requestID="f82b03e2-5bae-4e5c-9444-5b5bab93e6e4"
I0305 06:40:52.973400       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f82b03e2-5bae-4e5c-9444-5b5bab93e6e4"
I0305 06:40:52.973410       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:53.049811       1 gateway.go:207] "Processing request" requestID="f54cada7-8c78-44a1-b82a-406101785911"
I0305 06:40:53.049841       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f54cada7-8c78-44a1-b82a-406101785911"
I0305 06:40:53.049849       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:53.167911       1 gateway.go:207] "Processing request" requestID="09299ec5-ce6e-4a9b-aa2e-caf0e8e7e416"
I0305 06:40:53.167949       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="09299ec5-ce6e-4a9b-aa2e-caf0e8e7e416"
I0305 06:40:53.167961       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:53.266594       1 gateway.go:207] "Processing request" requestID="da41958d-1cb9-4135-9622-2fc7519fa988"
I0305 06:40:53.266621       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="da41958d-1cb9-4135-9622-2fc7519fa988"
I0305 06:40:53.266628       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:53.378802       1 gateway.go:207] "Processing request" requestID="dac5da71-e454-4544-9546-fa03eb1eb5b2"
I0305 06:40:53.378831       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dac5da71-e454-4544-9546-fa03eb1eb5b2"
I0305 06:40:53.378839       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:53.670676       1 gateway.go:207] "Processing request" requestID="f1951f61-9321-442a-8386-b4a9d0f28d65"
I0305 06:40:53.670717       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f1951f61-9321-442a-8386-b4a9d0f28d65"
I0305 06:40:53.670725       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:53.671564       1 gateway.go:207] "Processing request" requestID="dbcc0495-aeb9-4c93-b26b-415abd8f7609"
I0305 06:40:53.671599       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dbcc0495-aeb9-4c93-b26b-415abd8f7609"
I0305 06:40:53.671608       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:53.755849       1 gateway.go:207] "Processing request" requestID="8329e6ff-1ce3-4229-b15e-65f534b48665"
I0305 06:40:53.755886       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8329e6ff-1ce3-4229-b15e-65f534b48665"
I0305 06:40:53.755896       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:53.845679       1 gateway.go:207] "Processing request" requestID="e228e75d-e0b0-4780-a6fd-8d6d9f07f678"
I0305 06:40:53.845719       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e228e75d-e0b0-4780-a6fd-8d6d9f07f678"
I0305 06:40:53.845727       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:54.049225       1 gateway.go:207] "Processing request" requestID="0e8824ad-cdf7-487b-af2f-9209ab206f10"
I0305 06:40:54.049254       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0e8824ad-cdf7-487b-af2f-9209ab206f10"
I0305 06:40:54.049264       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:54.156102       1 gateway.go:207] "Processing request" requestID="7764c05a-a511-43e1-8591-f356e377c37d"
I0305 06:40:54.156132       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7764c05a-a511-43e1-8591-f356e377c37d"
I0305 06:40:54.156142       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:54.268362       1 gateway.go:207] "Processing request" requestID="ec4e2ffd-7a4b-4648-b471-fbfeb72131c2"
I0305 06:40:54.268392       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ec4e2ffd-7a4b-4648-b471-fbfeb72131c2"
I0305 06:40:54.268401       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:54.408147       1 gateway.go:207] "Processing request" requestID="6202c25a-0e9c-496c-993a-0f9b051b30d7"
I0305 06:40:54.408167       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6202c25a-0e9c-496c-993a-0f9b051b30d7"
I0305 06:40:54.408175       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:54.693296       1 gateway.go:207] "Processing request" requestID="58610a71-944c-44ef-b756-61495a647b1e"
I0305 06:40:54.693335       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="58610a71-944c-44ef-b756-61495a647b1e"
I0305 06:40:54.693344       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:54.694205       1 gateway.go:207] "Processing request" requestID="22b83d94-158d-4b56-b6ec-8bf3b326a39c"
I0305 06:40:54.694245       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="22b83d94-158d-4b56-b6ec-8bf3b326a39c"
I0305 06:40:54.694259       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:54.801081       1 gateway.go:207] "Processing request" requestID="80560313-1cb6-4b11-a0a3-cc978d0845ed"
I0305 06:40:54.801135       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="80560313-1cb6-4b11-a0a3-cc978d0845ed"
I0305 06:40:54.801145       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:54.942644       1 gateway.go:207] "Processing request" requestID="397895ad-feb4-40c5-971d-4674e4266459"
I0305 06:40:54.942675       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="397895ad-feb4-40c5-971d-4674e4266459"
I0305 06:40:54.942684       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0305 06:40:55.008605       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bce01618-5757-463c-bcc8-9b8eead3ec3b"
I0305 06:40:55.008891       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bce01618-5757-463c-bcc8-9b8eead3ec3b" model="qwen2-5-7b-instruct"
I0305 06:40:55.009052       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0305 06:40:55.009061       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.009069       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.009539       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.009599       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:55.009606       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.037873       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6d33f83a-adec-4db0-b6ff-13ac3a0a1491"
I0305 06:40:55.038150       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6d33f83a-adec-4db0-b6ff-13ac3a0a1491" model="qwen2-5-7b-instruct"
I0305 06:40:55.051207       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dc9decb4-f04d-4a6b-92e7-a9864cf51311"
I0305 06:40:55.051423       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dc9decb4-f04d-4a6b-92e7-a9864cf51311" model="qwen2-5-7b-instruct"
I0305 06:40:55.064144       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0545, numInputTokens, 7600
I0305 06:40:55.064167       1 tree.go:471] Updated node(0) last access: 213.1621 seconds
I0305 06:40:55.064177       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.064182       1 tree.go:471] Updated node(2) last access: 213.1621 seconds
I0305 06:40:55.064197       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:55.064201       1 tree.go:471] Updated node(51) last access: 213.1621 seconds
I0305 06:40:55.064205       1 tree.go:490] Partial tokens match child node(123). Continue to go deeper in the radix tree
I0305 06:40:55.064208       1 tree.go:471] Updated node(123) last access: 213.1621 seconds
I0305 06:40:55.064211       1 tree.go:490] Partial tokens match child node(168). Continue to go deeper in the radix tree
I0305 06:40:55.064216       1 tree.go:471] Updated node(168) last access: 213.1622 seconds
I0305 06:40:55.064219       1 tree.go:490] Partial tokens match child node(446). Continue to go deeper in the radix tree
I0305 06:40:55.064222       1 tree.go:471] Updated node(446) last access: 213.1622 seconds
I0305 06:40:55.064227       1 tree.go:484] Entire input tokens match the child node(447)
I0305 06:40:55.064232       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:55.064240       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:55.064250       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.064257       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.064234112 +0000 UTC m=+213.280960977 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:32.62782105 +0000 UTC m=+190.844547915]
I0305 06:40:55.064278       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:55.064286       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.064362       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7600
I0305 06:40:55.064372       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:55.064382       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.064389       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.064395       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.064399       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.064405       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.064408       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.064411       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.064420       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.064430       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:55.064438       1 prefix_cache_and_load.go:584] latency, Route, 0.0554
I0305 06:40:55.064457       1 gateway.go:415] latency, selectTargetPod, 0.0554, target pod, 10.0.1.28:8000
I0305 06:40:55.064474       1 gateway.go:235] latency, HandleRequestBody, 0.0559
I0305 06:40:55.064506       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0262
I0305 06:40:55.064524       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.064528       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.064788       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.064834       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:55.064840       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.078383       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ddc94e92-5398-45de-a2b4-01793056583f"
I0305 06:40:55.078643       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ddc94e92-5398-45de-a2b4-01793056583f" model="qwen2-5-7b-instruct"
I0305 06:40:55.083589       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bce01618-5757-463c-bcc8-9b8eead3ec3b"
I0305 06:40:55.116375       1 gateway.go:608] "First token received" requestID="bce01618-5757-463c-bcc8-9b8eead3ec3b" ttft_ms=107
I0305 06:40:55.116700       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0518, numInputTokens, 7602
I0305 06:40:55.116719       1 tree.go:471] Updated node(0) last access: 213.2147 seconds
I0305 06:40:55.116725       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.116729       1 tree.go:471] Updated node(2) last access: 213.2147 seconds
I0305 06:40:55.116743       1 tree.go:490] Partial tokens match child node(51). Continue to go deeper in the radix tree
I0305 06:40:55.116750       1 tree.go:471] Updated node(51) last access: 213.2147 seconds
I0305 06:40:55.116754       1 tree.go:490] Partial tokens match child node(283). Continue to go deeper in the radix tree
I0305 06:40:55.116757       1 tree.go:471] Updated node(283) last access: 213.2147 seconds
I0305 06:40:55.116764       1 tree.go:484] Entire input tokens match the child node(436)
I0305 06:40:55.116768       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:55.116777       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:55.116790       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.116798       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.116770992 +0000 UTC m=+213.333497861 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:32.003593616 +0000 UTC m=+190.220320480]
I0305 06:40:55.116820       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:55.116831       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.116960       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7602
I0305 06:40:55.116984       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0305 06:40:55.116994       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.117000       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.117005       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.117011       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.117019       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.117029       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.117039       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:55.117051       1 prefix_cache_and_load.go:584] latency, Route, 0.0788
I0305 06:40:55.117065       1 gateway.go:415] latency, selectTargetPod, 0.0788, target pod, 10.0.1.28:8000
I0305 06:40:55.117079       1 gateway.go:235] latency, HandleRequestBody, 0.0792
I0305 06:40:55.117110       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0656
I0305 06:40:55.117128       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.117133       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.117827       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.117930       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0008
I0305 06:40:55.117937       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.136600       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6d33f83a-adec-4db0-b6ff-13ac3a0a1491"
I0305 06:40:55.157104       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ffbc907c-4741-41a9-b959-b07792b6b385"
I0305 06:40:55.157320       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ffbc907c-4741-41a9-b959-b07792b6b385" model="qwen2-5-7b-instruct"
I0305 06:40:55.183856       1 gateway.go:608] "First token received" requestID="6d33f83a-adec-4db0-b6ff-13ac3a0a1491" ttft_ms=145
I0305 06:40:55.198214       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0803, numInputTokens, 7598
I0305 06:40:55.198233       1 tree.go:471] Updated node(0) last access: 213.2962 seconds
I0305 06:40:55.198240       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.198243       1 tree.go:471] Updated node(2) last access: 213.2962 seconds
I0305 06:40:55.198257       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:55.198262       1 tree.go:471] Updated node(45) last access: 213.2962 seconds
I0305 06:40:55.198266       1 tree.go:490] Partial tokens match child node(437). Continue to go deeper in the radix tree
I0305 06:40:55.198272       1 tree.go:471] Updated node(437) last access: 213.2962 seconds
I0305 06:40:55.198278       1 tree.go:484] Entire input tokens match the child node(438)
I0305 06:40:55.198282       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:55.198290       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:55.198296       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.198301       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.198285548 +0000 UTC m=+213.415012413 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:32.097584313 +0000 UTC m=+190.314311185]
I0305 06:40:55.198317       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:55.198325       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.198387       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7598
I0305 06:40:55.198397       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:55.198406       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.198411       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.198416       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.198420       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.198427       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.198437       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.198446       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:55.198454       1 prefix_cache_and_load.go:584] latency, Route, 0.1470
I0305 06:40:55.198468       1 gateway.go:415] latency, selectTargetPod, 0.1470, target pod, 10.0.0.34:8000
I0305 06:40:55.198478       1 gateway.go:235] latency, HandleRequestBody, 0.1473
I0305 06:40:55.198518       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1198
I0305 06:40:55.198524       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.198527       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.198741       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.198793       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:55.198799       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.214146       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1f96b29f-e37a-4eb9-8e9a-50b388ca174b"
I0305 06:40:55.214359       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1f96b29f-e37a-4eb9-8e9a-50b388ca174b" model="qwen2-5-7b-instruct"
I0305 06:40:55.218037       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dc9decb4-f04d-4a6b-92e7-a9864cf51311"
I0305 06:40:55.229661       1 gateway.go:329] "-- In RequestBody processing ..." requestID="69772d45-b0c9-4ee6-b827-61153689914a"
I0305 06:40:55.229874       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="69772d45-b0c9-4ee6-b827-61153689914a" model="qwen2-5-7b-instruct"
I0305 06:40:55.233492       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4bd88f1d-2393-447d-b97c-ced5bb559942"
I0305 06:40:55.233707       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4bd88f1d-2393-447d-b97c-ced5bb559942" model="qwen2-5-7b-instruct"
I0305 06:40:55.244270       1 gateway.go:608] "First token received" requestID="dc9decb4-f04d-4a6b-92e7-a9864cf51311" ttft_ms=193
I0305 06:40:55.249468       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0507, numInputTokens, 7599
I0305 06:40:55.249501       1 tree.go:471] Updated node(0) last access: 213.3474 seconds
I0305 06:40:55.249523       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.249529       1 tree.go:471] Updated node(2) last access: 213.3475 seconds
I0305 06:40:55.249546       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:55.249551       1 tree.go:471] Updated node(26) last access: 213.3475 seconds
I0305 06:40:55.249556       1 tree.go:490] Partial tokens match child node(440). Continue to go deeper in the radix tree
I0305 06:40:55.249560       1 tree.go:471] Updated node(440) last access: 213.3475 seconds
I0305 06:40:55.249566       1 tree.go:484] Entire input tokens match the child node(441)
I0305 06:40:55.249572       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7599 tokens
I0305 06:40:55.249586       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:55.249598       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.249608       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.249575149 +0000 UTC m=+213.466302022 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:40:32.286067059 +0000 UTC m=+190.502793934]
I0305 06:40:55.249635       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:55.249644       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.249770       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7599
I0305 06:40:55.249781       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:55.249789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.249796       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.249800       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.249807       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.249811       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.249819       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.249827       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:55.249840       1 prefix_cache_and_load.go:584] latency, Route, 0.1711
I0305 06:40:55.249854       1 gateway.go:415] latency, selectTargetPod, 0.1711, target pod, 10.0.3.41:8000
I0305 06:40:55.249865       1 gateway.go:235] latency, HandleRequestBody, 0.1715
I0305 06:40:55.249893       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0925
I0305 06:40:55.249911       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.249917       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.250550       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.250696       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0008
I0305 06:40:55.250705       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.279026       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ddc94e92-5398-45de-a2b4-01793056583f"
I0305 06:40:55.279049       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9a986ae8-3266-4cc8-9c55-3dcfe0c5edc1"
I0305 06:40:55.279245       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9a986ae8-3266-4cc8-9c55-3dcfe0c5edc1" model="qwen2-5-7b-instruct"
I0305 06:40:55.298393       1 gateway.go:608] "First token received" requestID="ddc94e92-5398-45de-a2b4-01793056583f" ttft_ms=219
I0305 06:40:55.320215       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a1138f3e-a769-41a0-a15d-6067a66d83ff"
I0305 06:40:55.320441       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a1138f3e-a769-41a0-a15d-6067a66d83ff" model="qwen2-5-7b-instruct"
I0305 06:40:55.324594       1 gateway.go:562] latency, 0.0000, summary, hash(request), b042def0, selectedpod, 10.0.1.28:8000, ttft, 107, tpot, 23, e2e, 315, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:55.324611       1 gateway.go:748] "Request completed" requestID="bce01618-5757-463c-bcc8-9b8eead3ec3b" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:55.324621       1 gateway.go:764] "HandleResponseBody completed" requestID="bce01618-5757-463c-bcc8-9b8eead3ec3b" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:55.326144       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0754, numInputTokens, 7598
I0305 06:40:55.326162       1 tree.go:471] Updated node(0) last access: 213.4241 seconds
I0305 06:40:55.326168       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.326173       1 tree.go:471] Updated node(2) last access: 213.4241 seconds
I0305 06:40:55.326185       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:55.326189       1 tree.go:471] Updated node(12) last access: 213.4241 seconds
I0305 06:40:55.326192       1 tree.go:490] Partial tokens match child node(215). Continue to go deeper in the radix tree
I0305 06:40:55.326195       1 tree.go:471] Updated node(215) last access: 213.4241 seconds
I0305 06:40:55.326198       1 tree.go:490] Partial tokens match child node(430). Continue to go deeper in the radix tree
I0305 06:40:55.326202       1 tree.go:471] Updated node(430) last access: 213.4241 seconds
I0305 06:40:55.326206       1 tree.go:484] Entire input tokens match the child node(431)
I0305 06:40:55.326210       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:55.326217       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:55.326225       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.326230       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.32621273 +0000 UTC m=+213.542939595 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:31.72664301 +0000 UTC m=+189.943369883]
I0305 06:40:55.326247       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:55.326253       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.326309       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7598
I0305 06:40:55.326318       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:55.326325       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.326330       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.326334       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.326339       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.326345       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.326348       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.326355       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.326363       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:55.326373       1 prefix_cache_and_load.go:584] latency, Route, 0.1690
I0305 06:40:55.326386       1 gateway.go:415] latency, selectTargetPod, 0.1690, target pod, 10.0.0.39:8000
I0305 06:40:55.326395       1 gateway.go:235] latency, HandleRequestBody, 0.1693
I0305 06:40:55.326422       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1120
I0305 06:40:55.326427       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.326429       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.326674       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.326734       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:55.326741       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.345624       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ffbc907c-4741-41a9-b959-b07792b6b385"
I0305 06:40:55.356205       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c78f3831-ed8a-4247-8544-f95327888b0d"
I0305 06:40:55.356429       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c78f3831-ed8a-4247-8544-f95327888b0d" model="qwen2-5-7b-instruct"
I0305 06:40:55.364228       1 gateway.go:562] latency, 0.0000, summary, hash(request), 311b13ed, selectedpod, 10.0.1.28:8000, ttft, 145, tpot, 20, e2e, 326, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:55.364249       1 gateway.go:748] "Request completed" requestID="6d33f83a-adec-4db0-b6ff-13ac3a0a1491" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:55.364261       1 gateway.go:764] "HandleResponseBody completed" requestID="6d33f83a-adec-4db0-b6ff-13ac3a0a1491" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:55.371277       1 gateway.go:608] "First token received" requestID="ffbc907c-4741-41a9-b959-b07792b6b385" ttft_ms=214
I0305 06:40:55.390459       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0637, numInputTokens, 7598
I0305 06:40:55.390476       1 tree.go:471] Updated node(0) last access: 213.4884 seconds
I0305 06:40:55.390482       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.390486       1 tree.go:471] Updated node(2) last access: 213.4884 seconds
I0305 06:40:55.390499       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:55.390503       1 tree.go:471] Updated node(12) last access: 213.4884 seconds
I0305 06:40:55.390507       1 tree.go:490] Partial tokens match child node(190). Continue to go deeper in the radix tree
I0305 06:40:55.390521       1 tree.go:471] Updated node(190) last access: 213.4885 seconds
I0305 06:40:55.390527       1 tree.go:490] Partial tokens match child node(448). Continue to go deeper in the radix tree
I0305 06:40:55.390532       1 tree.go:471] Updated node(448) last access: 213.4885 seconds
I0305 06:40:55.390538       1 tree.go:484] Entire input tokens match the child node(449)
I0305 06:40:55.390544       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7598 tokens
I0305 06:40:55.390553       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:55.390562       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.390569       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.390546875 +0000 UTC m=+213.607273740 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:32.683735211 +0000 UTC m=+190.900462074]
I0305 06:40:55.390590       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:55.390601       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.390680       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7598
I0305 06:40:55.390693       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:55.390703       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.390708       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.390711       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.390717       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.390720       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.390724       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.390731       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.390743       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:55.390756       1 prefix_cache_and_load.go:584] latency, Route, 0.1763
I0305 06:40:55.390775       1 gateway.go:415] latency, selectTargetPod, 0.1763, target pod, 10.0.0.39:8000
I0305 06:40:55.390788       1 gateway.go:235] latency, HandleRequestBody, 0.1766
I0305 06:40:55.390816       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1609
I0305 06:40:55.390822       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.390826       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.391080       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.391126       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:55.391131       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.409903       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1f96b29f-e37a-4eb9-8e9a-50b388ca174b"
I0305 06:40:55.417362       1 gateway.go:562] latency, 0.0000, summary, hash(request), dcc14bf4, selectedpod, 10.0.0.34:8000, ttft, 193, tpot, 19, e2e, 366, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:55.417381       1 gateway.go:748] "Request completed" requestID="dc9decb4-f04d-4a6b-92e7-a9864cf51311" targetPod="10.0.0.34:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:55.417390       1 gateway.go:764] "HandleResponseBody completed" requestID="dc9decb4-f04d-4a6b-92e7-a9864cf51311" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:55.417401       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d4470107-7883-4d22-95ca-118218201644"
I0305 06:40:55.417610       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d4470107-7883-4d22-95ca-118218201644" model="qwen2-5-7b-instruct"
I0305 06:40:55.419492       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3260b1e3-9803-4e55-9631-6d35f5f208bf"
I0305 06:40:55.419804       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3260b1e3-9803-4e55-9631-6d35f5f208bf" model="qwen2-5-7b-instruct"
I0305 06:40:55.438735       1 gateway.go:329] "-- In RequestBody processing ..." requestID="16c3bb62-06d0-4aea-8ff2-bd265989cb69"
I0305 06:40:55.438953       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="16c3bb62-06d0-4aea-8ff2-bd265989cb69" model="qwen2-5-7b-instruct"
I0305 06:40:55.451547       1 gateway.go:608] "First token received" requestID="1f96b29f-e37a-4eb9-8e9a-50b388ca174b" ttft_ms=237
I0305 06:40:55.471572       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9a2e06c3, selectedpod, 10.0.3.41:8000, ttft, 219, tpot, 19, e2e, 393, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:55.471588       1 gateway.go:748] "Request completed" requestID="ddc94e92-5398-45de-a2b4-01793056583f" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:55.471596       1 gateway.go:764] "HandleResponseBody completed" requestID="ddc94e92-5398-45de-a2b4-01793056583f" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:55.478795       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0877, numInputTokens, 7600
I0305 06:40:55.478810       1 tree.go:471] Updated node(0) last access: 213.5767 seconds
I0305 06:40:55.478816       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.478819       1 tree.go:471] Updated node(2) last access: 213.5768 seconds
I0305 06:40:55.478834       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:55.478837       1 tree.go:471] Updated node(8) last access: 213.5768 seconds
I0305 06:40:55.478840       1 tree.go:490] Partial tokens match child node(434). Continue to go deeper in the radix tree
I0305 06:40:55.478843       1 tree.go:471] Updated node(434) last access: 213.5768 seconds
I0305 06:40:55.478847       1 tree.go:484] Entire input tokens match the child node(435)
I0305 06:40:55.478850       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:55.478857       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:55.478863       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.478867       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.478852116 +0000 UTC m=+213.695578988 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:31.919427308 +0000 UTC m=+190.136154184]
I0305 06:40:55.478884       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:55.478890       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.478951       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7600
I0305 06:40:55.478959       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:55.478966       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.478981       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.478988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.478993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.478997       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.479005       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.479014       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:55.479024       1 prefix_cache_and_load.go:584] latency, Route, 0.2491
I0305 06:40:55.479038       1 gateway.go:415] latency, selectTargetPod, 0.2491, target pod, 10.0.1.53:8000
I0305 06:40:55.479050       1 gateway.go:235] latency, HandleRequestBody, 0.2494
I0305 06:40:55.479076       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2453
I0305 06:40:55.479083       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.479086       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.479361       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.479408       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:55.479413       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.487615       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4a762113-b523-47a2-b8e3-5ab2dc364152"
I0305 06:40:55.487966       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4a762113-b523-47a2-b8e3-5ab2dc364152" model="qwen2-5-7b-instruct"
I0305 06:40:55.498666       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="69772d45-b0c9-4ee6-b827-61153689914a"
I0305 06:40:55.522374       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f82b03e2-5bae-4e5c-9444-5b5bab93e6e4"
I0305 06:40:55.522591       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f82b03e2-5bae-4e5c-9444-5b5bab93e6e4" model="qwen2-5-7b-instruct"
I0305 06:40:55.531120       1 gateway.go:608] "First token received" requestID="69772d45-b0c9-4ee6-b827-61153689914a" ttft_ms=301
I0305 06:40:55.533233       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0538, numInputTokens, 7597
I0305 06:40:55.533251       1 tree.go:471] Updated node(0) last access: 213.6312 seconds
I0305 06:40:55.533257       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.533260       1 tree.go:471] Updated node(2) last access: 213.6312 seconds
I0305 06:40:55.533275       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:55.533280       1 tree.go:471] Updated node(23) last access: 213.6312 seconds
I0305 06:40:55.533283       1 tree.go:490] Partial tokens match child node(452). Continue to go deeper in the radix tree
I0305 06:40:55.533286       1 tree.go:471] Updated node(452) last access: 213.6312 seconds
I0305 06:40:55.533290       1 tree.go:484] Entire input tokens match the child node(453)
I0305 06:40:55.533296       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:55.533303       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:55.533308       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.533338       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.53329828 +0000 UTC m=+213.750025154 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:40:32.897048521 +0000 UTC m=+191.113775385]
I0305 06:40:55.533357       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:55.533363       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.533428       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7597
I0305 06:40:55.533438       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:55.533462       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.533470       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.533475       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.533481       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.533486       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.533497       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.533529       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:55.533558       1 prefix_cache_and_load.go:584] latency, Route, 0.2997
I0305 06:40:55.533572       1 gateway.go:415] latency, selectTargetPod, 0.2998, target pod, 10.0.3.42:8000
I0305 06:40:55.533587       1 gateway.go:235] latency, HandleRequestBody, 0.3001
I0305 06:40:55.533616       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2543
I0305 06:40:55.533621       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.533624       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.533844       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.533898       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:55.533908       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.550073       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4bd88f1d-2393-447d-b97c-ced5bb559942"
I0305 06:40:55.573260       1 gateway.go:562] latency, 0.0000, summary, hash(request), c85afbf1, selectedpod, 10.0.0.39:8000, ttft, 214, tpot, 22, e2e, 416, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:55.573280       1 gateway.go:748] "Request completed" requestID="ffbc907c-4741-41a9-b959-b07792b6b385" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:55.573291       1 gateway.go:764] "HandleResponseBody completed" requestID="ffbc907c-4741-41a9-b959-b07792b6b385" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:55.582748       1 gateway.go:608] "First token received" requestID="4bd88f1d-2393-447d-b97c-ced5bb559942" ttft_ms=349
I0305 06:40:55.583455       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f54cada7-8c78-44a1-b82a-406101785911"
I0305 06:40:55.583692       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f54cada7-8c78-44a1-b82a-406101785911" model="qwen2-5-7b-instruct"
I0305 06:40:55.611751       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0778, numInputTokens, 7601
I0305 06:40:55.611767       1 tree.go:471] Updated node(0) last access: 213.7097 seconds
I0305 06:40:55.611773       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.611777       1 tree.go:471] Updated node(2) last access: 213.7097 seconds
I0305 06:40:55.611791       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:55.611797       1 tree.go:471] Updated node(8) last access: 213.7097 seconds
I0305 06:40:55.611803       1 tree.go:490] Partial tokens match child node(434). Continue to go deeper in the radix tree
I0305 06:40:55.611807       1 tree.go:471] Updated node(434) last access: 213.7097 seconds
I0305 06:40:55.611815       1 tree.go:484] Entire input tokens match the child node(429)
I0305 06:40:55.611819       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:55.611831       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:55.611838       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.611844       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.611825116 +0000 UTC m=+213.828551981 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:31.644234269 +0000 UTC m=+189.860961135]
I0305 06:40:55.611867       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:55.611877       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.611945       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7601
I0305 06:40:55.611955       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:55.611963       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.611983       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.611992       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.611999       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.612005       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.612014       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.612022       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:55.612032       1 prefix_cache_and_load.go:584] latency, Route, 0.3327
I0305 06:40:55.612048       1 gateway.go:415] latency, selectTargetPod, 0.3327, target pod, 10.0.1.53:8000
I0305 06:40:55.612062       1 gateway.go:235] latency, HandleRequestBody, 0.3330
I0305 06:40:55.612086       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.2916
I0305 06:40:55.612091       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.612094       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.612317       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.612799       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0007
I0305 06:40:55.612826       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.618364       1 gateway.go:329] "-- In RequestBody processing ..." requestID="09299ec5-ce6e-4a9b-aa2e-caf0e8e7e416"
I0305 06:40:55.618595       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="09299ec5-ce6e-4a9b-aa2e-caf0e8e7e416" model="qwen2-5-7b-instruct"
I0305 06:40:55.622634       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dac5da71-e454-4544-9546-fa03eb1eb5b2"
I0305 06:40:55.622827       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dac5da71-e454-4544-9546-fa03eb1eb5b2" model="qwen2-5-7b-instruct"
I0305 06:40:55.624321       1 gateway.go:329] "-- In RequestBody processing ..." requestID="da41958d-1cb9-4135-9622-2fc7519fa988"
I0305 06:40:55.624538       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="da41958d-1cb9-4135-9622-2fc7519fa988" model="qwen2-5-7b-instruct"
I0305 06:40:55.630863       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2271778d, selectedpod, 10.0.0.39:8000, ttft, 237, tpot, 19, e2e, 416, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:55.630880       1 gateway.go:748] "Request completed" requestID="1f96b29f-e37a-4eb9-8e9a-50b388ca174b" targetPod="10.0.0.39:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:55.630889       1 gateway.go:764] "HandleResponseBody completed" requestID="1f96b29f-e37a-4eb9-8e9a-50b388ca174b" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:55.632740       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9a986ae8-3266-4cc8-9c55-3dcfe0c5edc1"
I0305 06:40:55.668586       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f1951f61-9321-442a-8386-b4a9d0f28d65"
I0305 06:40:55.668790       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f1951f61-9321-442a-8386-b4a9d0f28d65" model="qwen2-5-7b-instruct"
I0305 06:40:55.675052       1 gateway.go:608] "First token received" requestID="9a986ae8-3266-4cc8-9c55-3dcfe0c5edc1" ttft_ms=395
I0305 06:40:55.697797       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0850, numInputTokens, 7599
I0305 06:40:55.697812       1 tree.go:471] Updated node(0) last access: 213.7958 seconds
I0305 06:40:55.697818       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.697822       1 tree.go:471] Updated node(2) last access: 213.7958 seconds
I0305 06:40:55.697835       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:55.697839       1 tree.go:471] Updated node(12) last access: 213.7958 seconds
I0305 06:40:55.697844       1 tree.go:490] Partial tokens match child node(461). Continue to go deeper in the radix tree
I0305 06:40:55.697847       1 tree.go:471] Updated node(461) last access: 213.7958 seconds
I0305 06:40:55.697852       1 tree.go:484] Entire input tokens match the child node(454)
I0305 06:40:55.697857       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:55.697863       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:55.697870       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.697875       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.697859016 +0000 UTC m=+213.914585881 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:32.983119655 +0000 UTC m=+191.199846527]
I0305 06:40:55.697891       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:55.697898       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.697961       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7599
I0305 06:40:55.697981       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:55.697990       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.697996       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.698001       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.698007       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.698011       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.698020       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.698029       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:55.698038       1 prefix_cache_and_load.go:584] latency, Route, 0.3775
I0305 06:40:55.698054       1 gateway.go:415] latency, selectTargetPod, 0.3775, target pod, 10.0.0.39:8000
I0305 06:40:55.698065       1 gateway.go:235] latency, HandleRequestBody, 0.3779
I0305 06:40:55.698088       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3415
I0305 06:40:55.698092       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.698095       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.698303       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.698346       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:55.698351       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.716921       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a1138f3e-a769-41a0-a15d-6067a66d83ff"
I0305 06:40:55.722472       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dbcc0495-aeb9-4c93-b26b-415abd8f7609"
I0305 06:40:55.722705       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dbcc0495-aeb9-4c93-b26b-415abd8f7609" model="qwen2-5-7b-instruct"
I0305 06:40:55.735801       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9f777262, selectedpod, 10.0.1.53:8000, ttft, 301, tpot, 22, e2e, 506, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:55.735832       1 gateway.go:748] "Request completed" requestID="69772d45-b0c9-4ee6-b827-61153689914a" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:55.735850       1 gateway.go:764] "HandleResponseBody completed" requestID="69772d45-b0c9-4ee6-b827-61153689914a" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:55.748685       1 gateway.go:608] "First token received" requestID="a1138f3e-a769-41a0-a15d-6067a66d83ff" ttft_ms=428
I0305 06:40:55.755988       1 gateway.go:562] latency, 0.0001, summary, hash(request), 64983be1, selectedpod, 10.0.3.42:8000, ttft, 349, tpot, 19, e2e, 522, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:55.756007       1 gateway.go:748] "Request completed" requestID="4bd88f1d-2393-447d-b97c-ced5bb559942" targetPod="10.0.3.42:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:55.756017       1 gateway.go:764] "HandleResponseBody completed" requestID="4bd88f1d-2393-447d-b97c-ced5bb559942" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:55.782678       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0843, numInputTokens, 7600
I0305 06:40:55.782697       1 tree.go:471] Updated node(0) last access: 213.8806 seconds
I0305 06:40:55.782703       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.782706       1 tree.go:471] Updated node(2) last access: 213.8806 seconds
I0305 06:40:55.782721       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:55.782725       1 tree.go:471] Updated node(18) last access: 213.8807 seconds
I0305 06:40:55.782730       1 tree.go:490] Partial tokens match child node(450). Continue to go deeper in the radix tree
I0305 06:40:55.782735       1 tree.go:471] Updated node(450) last access: 213.8807 seconds
I0305 06:40:55.782740       1 tree.go:484] Entire input tokens match the child node(451)
I0305 06:40:55.782746       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:55.782755       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:55.782765       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.782775       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.78274858 +0000 UTC m=+213.999475464 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:32.818927914 +0000 UTC m=+191.035654783]
I0305 06:40:55.782798       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:55.782809       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.782875       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7600
I0305 06:40:55.782884       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:55.782896       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.782906       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.782913       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.782922       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.782931       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.782945       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.782958       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:55.782982       1 prefix_cache_and_load.go:584] latency, Route, 0.4264
I0305 06:40:55.783000       1 gateway.go:415] latency, selectTargetPod, 0.4264, target pod, 10.0.0.131:8000
I0305 06:40:55.783016       1 gateway.go:235] latency, HandleRequestBody, 0.4268
I0305 06:40:55.783044       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.3653
I0305 06:40:55.783050       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.783054       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.783292       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.783343       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:55.783348       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.784603       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8329e6ff-1ce3-4229-b15e-65f534b48665"
I0305 06:40:55.784807       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8329e6ff-1ce3-4229-b15e-65f534b48665" model="qwen2-5-7b-instruct"
I0305 06:40:55.802073       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c78f3831-ed8a-4247-8544-f95327888b0d"
I0305 06:40:55.823219       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e228e75d-e0b0-4780-a6fd-8d6d9f07f678"
I0305 06:40:55.823436       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e228e75d-e0b0-4780-a6fd-8d6d9f07f678" model="qwen2-5-7b-instruct"
I0305 06:40:55.829796       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7764c05a-a511-43e1-8591-f356e377c37d"
I0305 06:40:55.830020       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7764c05a-a511-43e1-8591-f356e377c37d" model="qwen2-5-7b-instruct"
I0305 06:40:55.834541       1 gateway.go:608] "First token received" requestID="c78f3831-ed8a-4247-8544-f95327888b0d" ttft_ms=478
I0305 06:40:55.834564       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0512, numInputTokens, 7602
I0305 06:40:55.834582       1 tree.go:471] Updated node(0) last access: 213.9325 seconds
I0305 06:40:55.834589       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.834593       1 tree.go:471] Updated node(2) last access: 213.9325 seconds
I0305 06:40:55.834607       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:55.834610       1 tree.go:471] Updated node(31) last access: 213.9326 seconds
I0305 06:40:55.834614       1 tree.go:490] Partial tokens match child node(217). Continue to go deeper in the radix tree
I0305 06:40:55.834618       1 tree.go:471] Updated node(217) last access: 213.9326 seconds
I0305 06:40:55.834621       1 tree.go:490] Partial tokens match child node(459). Continue to go deeper in the radix tree
I0305 06:40:55.834626       1 tree.go:471] Updated node(459) last access: 213.9326 seconds
I0305 06:40:55.834630       1 tree.go:484] Entire input tokens match the child node(460)
I0305 06:40:55.834633       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:55.834640       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:55.834647       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.834651       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.834635106 +0000 UTC m=+214.051361977 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:33.361161211 +0000 UTC m=+191.577888075]
I0305 06:40:55.834668       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:55.834675       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.834733       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7602
I0305 06:40:55.834742       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:55.834749       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.834754       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.834759       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.834765       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.834770       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.834776       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.834783       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.834791       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:55.834800       1 prefix_cache_and_load.go:584] latency, Route, 0.4171
I0305 06:40:55.834815       1 gateway.go:415] latency, selectTargetPod, 0.4171, target pod, 10.0.1.28:8000
I0305 06:40:55.834823       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4149
I0305 06:40:55.834826       1 gateway.go:235] latency, HandleRequestBody, 0.4174
I0305 06:40:55.834830       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.834834       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.835108       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.835357       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0305 06:40:55.835429       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.835506       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0e8824ad-cdf7-487b-af2f-9209ab206f10"
I0305 06:40:55.835819       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0e8824ad-cdf7-487b-af2f-9209ab206f10" model="qwen2-5-7b-instruct"
I0305 06:40:55.851603       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7c57274c, selectedpod, 10.0.1.53:8000, ttft, 395, tpot, 19, e2e, 572, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:55.851625       1 gateway.go:748] "Request completed" requestID="9a986ae8-3266-4cc8-9c55-3dcfe0c5edc1" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:55.851636       1 gateway.go:764] "HandleResponseBody completed" requestID="9a986ae8-3266-4cc8-9c55-3dcfe0c5edc1" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:55.854485       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d4470107-7883-4d22-95ca-118218201644"
I0305 06:40:55.882416       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ec4e2ffd-7a4b-4648-b471-fbfeb72131c2"
I0305 06:40:55.882627       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ec4e2ffd-7a4b-4648-b471-fbfeb72131c2" model="qwen2-5-7b-instruct"
I0305 06:40:55.885955       1 gateway.go:608] "First token received" requestID="d4470107-7883-4d22-95ca-118218201644" ttft_ms=468
I0305 06:40:55.918523       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0831, numInputTokens, 7600
I0305 06:40:55.918540       1 tree.go:471] Updated node(0) last access: 214.0165 seconds
I0305 06:40:55.918546       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:55.918549       1 tree.go:471] Updated node(2) last access: 214.0165 seconds
I0305 06:40:55.918562       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:55.918565       1 tree.go:471] Updated node(18) last access: 214.0165 seconds
I0305 06:40:55.918568       1 tree.go:490] Partial tokens match child node(463). Continue to go deeper in the radix tree
I0305 06:40:55.918571       1 tree.go:471] Updated node(463) last access: 214.0165 seconds
I0305 06:40:55.918576       1 tree.go:484] Entire input tokens match the child node(464)
I0305 06:40:55.918579       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7600 tokens
I0305 06:40:55.918586       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:55.918593       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:55.918598       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:55.918581303 +0000 UTC m=+214.135308168 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:33.719002654 +0000 UTC m=+191.935729518]
I0305 06:40:55.918615       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:55.918624       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:55.918681       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7600
I0305 06:40:55.918690       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:55.918697       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.918703       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.918708       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.918712       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.918716       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:55.918724       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:55.918732       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:55.918739       1 prefix_cache_and_load.go:584] latency, Route, 0.4988
I0305 06:40:55.918753       1 gateway.go:415] latency, selectTargetPod, 0.4988, target pod, 10.0.0.131:8000
I0305 06:40:55.918765       1 gateway.go:235] latency, HandleRequestBody, 0.4993
I0305 06:40:55.918788       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.4798
I0305 06:40:55.918799       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:55.918803       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:55.919079       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:55.919126       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:55.919131       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:55.923529       1 gateway.go:562] latency, 0.0001, summary, hash(request), 96c87e61, selectedpod, 10.0.0.39:8000, ttft, 428, tpot, 19, e2e, 603, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:55.923556       1 gateway.go:748] "Request completed" requestID="a1138f3e-a769-41a0-a15d-6067a66d83ff" targetPod="10.0.0.39:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:55.923569       1 gateway.go:764] "HandleResponseBody completed" requestID="a1138f3e-a769-41a0-a15d-6067a66d83ff" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:55.936935       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3260b1e3-9803-4e55-9631-6d35f5f208bf"
I0305 06:40:55.978615       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6202c25a-0e9c-496c-993a-0f9b051b30d7"
I0305 06:40:55.979370       1 gateway.go:608] "First token received" requestID="3260b1e3-9803-4e55-9631-6d35f5f208bf" ttft_ms=559
I0305 06:40:55.986802       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6202c25a-0e9c-496c-993a-0f9b051b30d7" model="qwen2-5-7b-instruct"
I0305 06:40:55.996195       1 gateway.go:329] "-- In RequestBody processing ..." requestID="58610a71-944c-44ef-b756-61495a647b1e"
I0305 06:40:55.996410       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="58610a71-944c-44ef-b756-61495a647b1e" model="qwen2-5-7b-instruct"
I0305 06:40:56.007325       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0882, numInputTokens, 7601
I0305 06:40:56.007341       1 tree.go:471] Updated node(0) last access: 214.1053 seconds
I0305 06:40:56.007349       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.007354       1 tree.go:471] Updated node(2) last access: 214.1053 seconds
I0305 06:40:56.007369       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:56.007373       1 tree.go:471] Updated node(23) last access: 214.1053 seconds
I0305 06:40:56.007377       1 tree.go:490] Partial tokens match child node(442). Continue to go deeper in the radix tree
I0305 06:40:56.007381       1 tree.go:471] Updated node(442) last access: 214.1053 seconds
I0305 06:40:56.007388       1 tree.go:484] Entire input tokens match the child node(443)
I0305 06:40:56.007392       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:56.007400       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:56.007407       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.007413       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.007394628 +0000 UTC m=+214.224121495 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:40:32.336365295 +0000 UTC m=+190.553092160]
I0305 06:40:56.007434       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:56.007443       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.007502       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7601
I0305 06:40:56.007524       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.007535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.007540       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.007548       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.007554       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.007557       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.007570       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.007581       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:56.007595       1 prefix_cache_and_load.go:584] latency, Route, 0.5686
I0305 06:40:56.007615       1 gateway.go:415] latency, selectTargetPod, 0.5686, target pod, 10.0.3.42:8000
I0305 06:40:56.007629       1 gateway.go:235] latency, HandleRequestBody, 0.5689
I0305 06:40:56.007660       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5195
I0305 06:40:56.007665       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.007668       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.007870       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.007917       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:56.007922       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.015994       1 gateway.go:329] "-- In RequestBody processing ..." requestID="22b83d94-158d-4b56-b6ec-8bf3b326a39c"
I0305 06:40:56.016197       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="22b83d94-158d-4b56-b6ec-8bf3b326a39c" model="qwen2-5-7b-instruct"
I0305 06:40:56.024065       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="16c3bb62-06d0-4aea-8ff2-bd265989cb69"
I0305 06:40:56.024826       1 gateway.go:329] "-- In RequestBody processing ..." requestID="80560313-1cb6-4b11-a0a3-cc978d0845ed"
I0305 06:40:56.025054       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="80560313-1cb6-4b11-a0a3-cc978d0845ed" model="qwen2-5-7b-instruct"
I0305 06:40:56.029965       1 gateway.go:329] "-- In RequestBody processing ..." requestID="397895ad-feb4-40c5-971d-4674e4266459"
I0305 06:40:56.030178       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="397895ad-feb4-40c5-971d-4674e4266459" model="qwen2-5-7b-instruct"
I0305 06:40:56.040799       1 gateway.go:562] latency, 0.0000, summary, hash(request), 358e5d8f, selectedpod, 10.0.0.131:8000, ttft, 478, tpot, 22, e2e, 684, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:56.040817       1 gateway.go:748] "Request completed" requestID="c78f3831-ed8a-4247-8544-f95327888b0d" targetPod="10.0.0.131:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:56.040826       1 gateway.go:764] "HandleResponseBody completed" requestID="c78f3831-ed8a-4247-8544-f95327888b0d" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:56.056152       1 gateway.go:608] "First token received" requestID="16c3bb62-06d0-4aea-8ff2-bd265989cb69" ttft_ms=617
I0305 06:40:56.078918       1 gateway.go:562] latency, 0.0000, summary, hash(request), 45a5b76d, selectedpod, 10.0.1.28:8000, ttft, 468, tpot, 21, e2e, 661, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:56.078962       1 gateway.go:748] "Request completed" requestID="d4470107-7883-4d22-95ca-118218201644" targetPod="10.0.1.28:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:56.078988       1 gateway.go:764] "HandleResponseBody completed" requestID="d4470107-7883-4d22-95ca-118218201644" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:56.082661       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0747, numInputTokens, 7596
I0305 06:40:56.082679       1 tree.go:471] Updated node(0) last access: 214.1806 seconds
I0305 06:40:56.082732       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.082737       1 tree.go:471] Updated node(2) last access: 214.1807 seconds
I0305 06:40:56.082750       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:56.082754       1 tree.go:471] Updated node(45) last access: 214.1807 seconds
I0305 06:40:56.082759       1 tree.go:484] Entire input tokens match the child node(439)
I0305 06:40:56.082763       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7596 tokens
I0305 06:40:56.082769       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:56.082775       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.082781       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.082765838 +0000 UTC m=+214.299492702 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:32.226531065 +0000 UTC m=+190.443257935]
I0305 06:40:56.082801       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:56.082810       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.082867       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7596
I0305 06:40:56.082876       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.082883       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.082888       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.082893       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.082896       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.082904       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.082914       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:56.082925       1 prefix_cache_and_load.go:584] latency, Route, 0.5948
I0305 06:40:56.082939       1 gateway.go:415] latency, selectTargetPod, 0.5948, target pod, 10.0.0.34:8000
I0305 06:40:56.082951       1 gateway.go:235] latency, HandleRequestBody, 0.5953
I0305 06:40:56.082989       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5603
I0305 06:40:56.082994       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.082998       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.083191       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.083236       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0305 06:40:56.083241       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.102210       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4a762113-b523-47a2-b8e3-5ab2dc364152"
I0305 06:40:56.128065       1 gateway.go:608] "First token received" requestID="4a762113-b523-47a2-b8e3-5ab2dc364152" ttft_ms=640
I0305 06:40:56.133133       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 7601
I0305 06:40:56.133152       1 tree.go:471] Updated node(0) last access: 214.2311 seconds
I0305 06:40:56.133159       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.133162       1 tree.go:471] Updated node(2) last access: 214.2311 seconds
I0305 06:40:56.133175       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:56.133180       1 tree.go:471] Updated node(18) last access: 214.2311 seconds
I0305 06:40:56.133184       1 tree.go:490] Partial tokens match child node(444). Continue to go deeper in the radix tree
I0305 06:40:56.133188       1 tree.go:471] Updated node(444) last access: 214.2311 seconds
I0305 06:40:56.133192       1 tree.go:484] Entire input tokens match the child node(445)
I0305 06:40:56.133195       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:56.133203       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:56.133209       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.133215       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.133199093 +0000 UTC m=+214.349925958 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:32.489943234 +0000 UTC m=+190.706670099]
I0305 06:40:56.133233       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:56.133240       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.133292       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7601
I0305 06:40:56.133301       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.133310       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.133316       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.133321       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.133325       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.133328       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.133335       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.133345       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:56.133355       1 prefix_cache_and_load.go:584] latency, Route, 0.6107
I0305 06:40:56.133370       1 gateway.go:415] latency, selectTargetPod, 0.6107, target pod, 10.0.0.131:8000
I0305 06:40:56.133381       1 gateway.go:235] latency, HandleRequestBody, 0.6110
I0305 06:40:56.133420       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.5496
I0305 06:40:56.133434       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.133438       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.133746       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.133820       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:56.133829       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.150991       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f82b03e2-5bae-4e5c-9444-5b5bab93e6e4"
I0305 06:40:56.179028       1 gateway.go:562] latency, 0.0001, summary, hash(request), 866280d7, selectedpod, 10.0.0.131:8000, ttft, 559, tpot, 22, e2e, 759, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:56.179054       1 gateway.go:748] "Request completed" requestID="3260b1e3-9803-4e55-9631-6d35f5f208bf" targetPod="10.0.0.131:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:56.179066       1 gateway.go:764] "HandleResponseBody completed" requestID="3260b1e3-9803-4e55-9631-6d35f5f208bf" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:56.184577       1 gateway.go:608] "First token received" requestID="f82b03e2-5bae-4e5c-9444-5b5bab93e6e4" ttft_ms=662
I0305 06:40:56.218548       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0847, numInputTokens, 7597
I0305 06:40:56.218566       1 tree.go:471] Updated node(0) last access: 214.3165 seconds
I0305 06:40:56.218572       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.218576       1 tree.go:471] Updated node(2) last access: 214.3165 seconds
I0305 06:40:56.218591       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:56.218596       1 tree.go:471] Updated node(45) last access: 214.3165 seconds
I0305 06:40:56.218600       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:56.218602       1 tree.go:471] Updated node(175) last access: 214.3165 seconds
I0305 06:40:56.218605       1 tree.go:490] Partial tokens match child node(184). Continue to go deeper in the radix tree
I0305 06:40:56.218611       1 tree.go:471] Updated node(184) last access: 214.3166 seconds
I0305 06:40:56.218614       1 tree.go:490] Partial tokens match child node(432). Continue to go deeper in the radix tree
I0305 06:40:56.218617       1 tree.go:471] Updated node(432) last access: 214.3166 seconds
I0305 06:40:56.218622       1 tree.go:484] Entire input tokens match the child node(433)
I0305 06:40:56.218628       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:56.218636       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:56.218643       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.218648       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.218630977 +0000 UTC m=+214.435357841 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:31.838653203 +0000 UTC m=+190.055380067]
I0305 06:40:56.218667       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:56.218678       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.218734       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7597
I0305 06:40:56.218743       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.218754       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.218761       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.218765       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.218769       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.218775       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.218779       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.218784       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.218792       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.218800       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:56.218812       1 prefix_cache_and_load.go:584] latency, Route, 0.6350
I0305 06:40:56.218829       1 gateway.go:415] latency, selectTargetPod, 0.6350, target pod, 10.0.0.34:8000
I0305 06:40:56.218841       1 gateway.go:235] latency, HandleRequestBody, 0.6354
I0305 06:40:56.218868       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6002
I0305 06:40:56.218872       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.218876       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.219085       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.219131       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:56.219136       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.229005       1 gateway.go:562] latency, 0.0000, summary, hash(request), 60df441a, selectedpod, 10.0.3.42:8000, ttft, 617, tpot, 19, e2e, 790, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:56.229026       1 gateway.go:748] "Request completed" requestID="16c3bb62-06d0-4aea-8ff2-bd265989cb69" targetPod="10.0.3.42:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:56.229041       1 gateway.go:764] "HandleResponseBody completed" requestID="16c3bb62-06d0-4aea-8ff2-bd265989cb69" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:56.237117       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f54cada7-8c78-44a1-b82a-406101785911"
I0305 06:40:56.271984       1 gateway.go:608] "First token received" requestID="f54cada7-8c78-44a1-b82a-406101785911" ttft_ms=688
I0305 06:40:56.284124       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0650, numInputTokens, 7597
I0305 06:40:56.284141       1 tree.go:471] Updated node(0) last access: 214.3821 seconds
I0305 06:40:56.284148       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.284150       1 tree.go:471] Updated node(2) last access: 214.3821 seconds
I0305 06:40:56.284164       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:56.284167       1 tree.go:471] Updated node(4) last access: 214.3821 seconds
I0305 06:40:56.284172       1 tree.go:490] Partial tokens match child node(455). Continue to go deeper in the radix tree
I0305 06:40:56.284176       1 tree.go:471] Updated node(455) last access: 214.3821 seconds
I0305 06:40:56.284181       1 tree.go:484] Entire input tokens match the child node(456)
I0305 06:40:56.284184       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:56.284192       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:56.284201       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.284208       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.28418691 +0000 UTC m=+214.500913775 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:40:33.035724824 +0000 UTC m=+191.252451689]
I0305 06:40:56.284229       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:56.284239       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.284313       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7597
I0305 06:40:56.284328       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.284341       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.284347       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.284353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.284361       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.284364       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.284372       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.284395       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:56.284405       1 prefix_cache_and_load.go:584] latency, Route, 0.6657
I0305 06:40:56.284419       1 gateway.go:415] latency, selectTargetPod, 0.6658, target pod, 10.0.1.47:8000
I0305 06:40:56.284432       1 gateway.go:235] latency, HandleRequestBody, 0.6661
I0305 06:40:56.284476       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.6616
I0305 06:40:56.284507       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.284520       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.284775       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.284827       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:56.284836       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.304155       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="09299ec5-ce6e-4a9b-aa2e-caf0e8e7e416"
I0305 06:40:56.329921       1 gateway.go:608] "First token received" requestID="09299ec5-ce6e-4a9b-aa2e-caf0e8e7e416" ttft_ms=711
I0305 06:40:56.332627       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6bf628b4, selectedpod, 10.0.0.34:8000, ttft, 640, tpot, 22, e2e, 844, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:56.332647       1 gateway.go:748] "Request completed" requestID="4a762113-b523-47a2-b8e3-5ab2dc364152" targetPod="10.0.0.34:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:56.332658       1 gateway.go:764] "HandleResponseBody completed" requestID="4a762113-b523-47a2-b8e3-5ab2dc364152" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:56.337841       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0530, numInputTokens, 7601
I0305 06:40:56.337858       1 tree.go:471] Updated node(0) last access: 214.4358 seconds
I0305 06:40:56.337864       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.337868       1 tree.go:471] Updated node(2) last access: 214.4358 seconds
I0305 06:40:56.337881       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0305 06:40:56.337886       1 tree.go:471] Updated node(12) last access: 214.4358 seconds
I0305 06:40:56.337889       1 tree.go:490] Partial tokens match child node(461). Continue to go deeper in the radix tree
I0305 06:40:56.337893       1 tree.go:471] Updated node(461) last access: 214.4358 seconds
I0305 06:40:56.337899       1 tree.go:484] Entire input tokens match the child node(462)
I0305 06:40:56.337905       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7601 tokens
I0305 06:40:56.337913       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:56.337921       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.337928       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.337907921 +0000 UTC m=+214.554634799 qwen2-5-7b-instruct-867fbbcbd9-d6fdd:2025-03-05 06:40:33.424116695 +0000 UTC m=+191.640843560]
I0305 06:40:56.337948       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-d6fdd]
I0305 06:40:56.337959       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.338036       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-d6fdd from longest matching node with match length 7601
I0305 06:40:56.338046       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.338056       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.338106       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.338112       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.338116       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.338121       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.338132       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.338144       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-d6fdd="target_pod_ip" 10.0.0.39="(MISSING)"
I0305 06:40:56.338164       1 prefix_cache_and_load.go:584] latency, Route, 0.7153
I0305 06:40:56.338193       1 gateway.go:415] latency, selectTargetPod, 0.7153, target pod, 10.0.0.39:8000
I0305 06:40:56.338207       1 gateway.go:235] latency, HandleRequestBody, 0.7156
I0305 06:40:56.338241       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7136
I0305 06:40:56.338246       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.338249       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.338488       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.338557       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:56.338564       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.357500       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dac5da71-e454-4544-9546-fa03eb1eb5b2"
I0305 06:40:56.357955       1 gateway.go:562] latency, 0.0000, summary, hash(request), ffb8b9da, selectedpod, 10.0.0.131:8000, ttft, 662, tpot, 19, e2e, 835, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:56.357979       1 gateway.go:748] "Request completed" requestID="f82b03e2-5bae-4e5c-9444-5b5bab93e6e4" targetPod="10.0.0.131:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:56.357989       1 gateway.go:764] "HandleResponseBody completed" requestID="f82b03e2-5bae-4e5c-9444-5b5bab93e6e4" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:56.389479       1 gateway.go:608] "First token received" requestID="dac5da71-e454-4544-9546-fa03eb1eb5b2" ttft_ms=766
I0305 06:40:56.420126       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0816, numInputTokens, 7602
I0305 06:40:56.420147       1 tree.go:471] Updated node(0) last access: 214.5181 seconds
I0305 06:40:56.420198       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.420201       1 tree.go:471] Updated node(2) last access: 214.5181 seconds
I0305 06:40:56.420215       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0305 06:40:56.420219       1 tree.go:471] Updated node(53) last access: 214.5182 seconds
I0305 06:40:56.420222       1 tree.go:490] Partial tokens match child node(468). Continue to go deeper in the radix tree
I0305 06:40:56.420225       1 tree.go:471] Updated node(468) last access: 214.5182 seconds
I0305 06:40:56.420230       1 tree.go:484] Entire input tokens match the child node(469)
I0305 06:40:56.420235       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7602 tokens
I0305 06:40:56.420244       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:56.420251       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.420257       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.420237209 +0000 UTC m=+214.636964073 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:34.126388123 +0000 UTC m=+192.343114988]
I0305 06:40:56.420277       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:56.420285       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.420380       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7602
I0305 06:40:56.420389       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.420396       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.420403       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.420407       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.420412       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.420416       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.420425       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.420435       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:56.420447       1 prefix_cache_and_load.go:584] latency, Route, 0.7958
I0305 06:40:56.420462       1 gateway.go:415] latency, selectTargetPod, 0.7958, target pod, 10.0.0.34:8000
I0305 06:40:56.420478       1 gateway.go:235] latency, HandleRequestBody, 0.7962
I0305 06:40:56.420528       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7517
I0305 06:40:56.420541       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.420547       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.421096       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.421262       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0007
I0305 06:40:56.421274       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.438837       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="da41958d-1cb9-4135-9622-2fc7519fa988"
I0305 06:40:56.458260       1 gateway.go:562] latency, 0.0000, summary, hash(request), a5763e1e, selectedpod, 10.0.0.34:8000, ttft, 688, tpot, 20, e2e, 874, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:56.458280       1 gateway.go:748] "Request completed" requestID="f54cada7-8c78-44a1-b82a-406101785911" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:56.458290       1 gateway.go:764] "HandleResponseBody completed" requestID="f54cada7-8c78-44a1-b82a-406101785911" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:56.477172       1 gateway.go:608] "First token received" requestID="da41958d-1cb9-4135-9622-2fc7519fa988" ttft_ms=852
I0305 06:40:56.501008       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0797, numInputTokens, 7599
I0305 06:40:56.501027       1 tree.go:471] Updated node(0) last access: 214.5990 seconds
I0305 06:40:56.501034       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.501037       1 tree.go:471] Updated node(2) last access: 214.5990 seconds
I0305 06:40:56.501050       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:56.501053       1 tree.go:471] Updated node(26) last access: 214.5990 seconds
I0305 06:40:56.501058       1 tree.go:490] Partial tokens match child node(457). Continue to go deeper in the radix tree
I0305 06:40:56.501063       1 tree.go:471] Updated node(457) last access: 214.5990 seconds
I0305 06:40:56.501069       1 tree.go:484] Entire input tokens match the child node(458)
I0305 06:40:56.501073       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7599 tokens
I0305 06:40:56.501081       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7599 tokens
I0305 06:40:56.501090       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.501099       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.501075597 +0000 UTC m=+214.717802463 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:40:33.11923299 +0000 UTC m=+191.335959855]
I0305 06:40:56.501121       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7599, Matched tokens: 7599, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:56.501132       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.501196       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7599
I0305 06:40:56.501206       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.501219       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.501228       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.501236       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.501243       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.501248       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.501256       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.501265       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:56.501276       1 prefix_cache_and_load.go:584] latency, Route, 0.8324
I0305 06:40:56.501294       1 gateway.go:415] latency, selectTargetPod, 0.8324, target pod, 10.0.3.41:8000
I0305 06:40:56.501306       1 gateway.go:235] latency, HandleRequestBody, 0.8327
I0305 06:40:56.501330       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7786
I0305 06:40:56.501335       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.501338       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.501598       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.501660       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:56.501667       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.502885       1 gateway.go:562] latency, 0.0000, summary, hash(request), a9bc7375, selectedpod, 10.0.1.47:8000, ttft, 711, tpot, 19, e2e, 884, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:56.502905       1 gateway.go:748] "Request completed" requestID="09299ec5-ce6e-4a9b-aa2e-caf0e8e7e416" targetPod="10.0.1.47:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:56.502917       1 gateway.go:764] "HandleResponseBody completed" requestID="09299ec5-ce6e-4a9b-aa2e-caf0e8e7e416" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:56.517728       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f1951f61-9321-442a-8386-b4a9d0f28d65"
I0305 06:40:56.550668       1 gateway.go:608] "First token received" requestID="f1951f61-9321-442a-8386-b4a9d0f28d65" ttft_ms=881
I0305 06:40:56.550781       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 7595
I0305 06:40:56.550799       1 tree.go:471] Updated node(0) last access: 214.6487 seconds
I0305 06:40:56.550808       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.550814       1 tree.go:471] Updated node(2) last access: 214.6488 seconds
I0305 06:40:56.550828       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:56.550832       1 tree.go:471] Updated node(45) last access: 214.6488 seconds
I0305 06:40:56.550836       1 tree.go:490] Partial tokens match child node(198). Continue to go deeper in the radix tree
I0305 06:40:56.550839       1 tree.go:471] Updated node(198) last access: 214.6488 seconds
I0305 06:40:56.550844       1 tree.go:490] Partial tokens match child node(478). Continue to go deeper in the radix tree
I0305 06:40:56.550847       1 tree.go:471] Updated node(478) last access: 214.6488 seconds
I0305 06:40:56.550852       1 tree.go:484] Entire input tokens match the child node(479)
I0305 06:40:56.550856       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7595 tokens
I0305 06:40:56.550865       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7595 tokens
I0305 06:40:56.550874       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.550881       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.550858819 +0000 UTC m=+214.767585688 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:43.031880233 +0000 UTC m=+201.248607097]
I0305 06:40:56.550904       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7595, Matched tokens: 7595, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:56.550914       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.550985       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7595
I0305 06:40:56.550997       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.551008       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.551017       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.551023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.551029       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.551035       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.551042       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.551059       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.551071       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:56.551083       1 prefix_cache_and_load.go:584] latency, Route, 0.8283
I0305 06:40:56.551099       1 gateway.go:415] latency, selectTargetPod, 0.8283, target pod, 10.0.0.34:8000
I0305 06:40:56.551110       1 gateway.go:235] latency, HandleRequestBody, 0.8286
I0305 06:40:56.551142       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.7663
I0305 06:40:56.551147       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.551150       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.551359       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.551424       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:56.551430       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.563854       1 gateway.go:562] latency, 0.0001, summary, hash(request), f1dc16bd, selectedpod, 10.0.0.39:8000, ttft, 766, tpot, 19, e2e, 941, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:56.563881       1 gateway.go:748] "Request completed" requestID="dac5da71-e454-4544-9546-fa03eb1eb5b2" targetPod="10.0.0.39:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:56.563893       1 gateway.go:764] "HandleResponseBody completed" requestID="dac5da71-e454-4544-9546-fa03eb1eb5b2" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:56.569619       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dbcc0495-aeb9-4c93-b26b-415abd8f7609"
I0305 06:40:56.602580       1 gateway.go:608] "First token received" requestID="dbcc0495-aeb9-4c93-b26b-415abd8f7609" ttft_ms=880
I0305 06:40:56.625320       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0739, numInputTokens, 7597
I0305 06:40:56.625338       1 tree.go:471] Updated node(0) last access: 214.7233 seconds
I0305 06:40:56.625344       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.625348       1 tree.go:471] Updated node(2) last access: 214.7233 seconds
I0305 06:40:56.625362       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:56.625370       1 tree.go:471] Updated node(23) last access: 214.7233 seconds
I0305 06:40:56.625374       1 tree.go:490] Partial tokens match child node(83). Continue to go deeper in the radix tree
I0305 06:40:56.625376       1 tree.go:471] Updated node(83) last access: 214.7233 seconds
I0305 06:40:56.625379       1 tree.go:490] Partial tokens match child node(474). Continue to go deeper in the radix tree
I0305 06:40:56.625382       1 tree.go:471] Updated node(474) last access: 214.7233 seconds
I0305 06:40:56.625386       1 tree.go:484] Entire input tokens match the child node(475)
I0305 06:40:56.625389       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:56.625396       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:56.625404       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.625412       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.625391924 +0000 UTC m=+214.842118788 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:40:42.809580411 +0000 UTC m=+201.026307283]
I0305 06:40:56.625434       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:56.625445       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.625509       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7597
I0305 06:40:56.625533       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.625557       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.625568       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.625576       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.625584       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.625595       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.625600       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.625614       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.625628       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:56.625643       1 prefix_cache_and_load.go:584] latency, Route, 0.8408
I0305 06:40:56.625660       1 gateway.go:415] latency, selectTargetPod, 0.8408, target pod, 10.0.3.42:8000
I0305 06:40:56.625674       1 gateway.go:235] latency, HandleRequestBody, 0.8411
I0305 06:40:56.625706       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8022
I0305 06:40:56.625711       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.625714       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.625949       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.626013       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:56.626019       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.642291       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8329e6ff-1ce3-4229-b15e-65f534b48665"
I0305 06:40:56.678896       1 gateway.go:608] "First token received" requestID="8329e6ff-1ce3-4229-b15e-65f534b48665" ttft_ms=883
I0305 06:40:56.684441       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3d560ffd, selectedpod, 10.0.0.34:8000, ttft, 852, tpot, 23, e2e, 1060, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:56.684461       1 gateway.go:748] "Request completed" requestID="da41958d-1cb9-4135-9622-2fc7519fa988" targetPod="10.0.0.34:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:56.684470       1 gateway.go:764] "HandleResponseBody completed" requestID="da41958d-1cb9-4135-9622-2fc7519fa988" promptTokens=7621 completionTokens=10 stream=true
I0305 06:40:56.694467       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0684, numInputTokens, 7603
I0305 06:40:56.694488       1 tree.go:471] Updated node(0) last access: 214.7924 seconds
I0305 06:40:56.694496       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.694500       1 tree.go:471] Updated node(2) last access: 214.7924 seconds
I0305 06:40:56.694526       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:56.694532       1 tree.go:471] Updated node(18) last access: 214.7925 seconds
I0305 06:40:56.694535       1 tree.go:490] Partial tokens match child node(219). Continue to go deeper in the radix tree
I0305 06:40:56.694539       1 tree.go:471] Updated node(219) last access: 214.7925 seconds
I0305 06:40:56.694545       1 tree.go:484] Entire input tokens match the child node(473)
I0305 06:40:56.694549       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7603 tokens
I0305 06:40:56.694558       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7603 tokens
I0305 06:40:56.694567       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.694573       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.694551913 +0000 UTC m=+214.911278781 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:42.73556037 +0000 UTC m=+200.952287244]
I0305 06:40:56.694595       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7603, Matched tokens: 7603, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:56.694604       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.694668       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7603
I0305 06:40:56.694680       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.694691       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.694699       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.694707       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.694715       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.694722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.694733       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.694744       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:56.694759       1 prefix_cache_and_load.go:584] latency, Route, 0.8712
I0305 06:40:56.694776       1 gateway.go:415] latency, selectTargetPod, 0.8712, target pod, 10.0.0.131:8000
I0305 06:40:56.694788       1 gateway.go:235] latency, HandleRequestBody, 0.8716
I0305 06:40:56.694818       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.8647
I0305 06:40:56.694823       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.694826       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.695049       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.695103       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:56.695109       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.713592       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e228e75d-e0b0-4780-a6fd-8d6d9f07f678"
I0305 06:40:56.724143       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9cfc92ee, selectedpod, 10.0.3.41:8000, ttft, 881, tpot, 19, e2e, 1055, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:56.724159       1 gateway.go:748] "Request completed" requestID="f1951f61-9321-442a-8386-b4a9d0f28d65" targetPod="10.0.3.41:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:56.724166       1 gateway.go:764] "HandleResponseBody completed" requestID="f1951f61-9321-442a-8386-b4a9d0f28d65" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:56.743485       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0484, numInputTokens, 7596
I0305 06:40:56.743502       1 tree.go:471] Updated node(0) last access: 214.8414 seconds
I0305 06:40:56.745037       1 gateway.go:608] "First token received" requestID="e228e75d-e0b0-4780-a6fd-8d6d9f07f678" ttft_ms=921
I0305 06:40:56.743509       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.778539       1 tree.go:471] Updated node(2) last access: 214.8765 seconds
I0305 06:40:56.778555       1 tree.go:490] Partial tokens match child node(18). Continue to go deeper in the radix tree
I0305 06:40:56.778559       1 tree.go:471] Updated node(18) last access: 214.8765 seconds
I0305 06:40:56.778564       1 tree.go:490] Partial tokens match child node(125). Continue to go deeper in the radix tree
I0305 06:40:56.778568       1 tree.go:471] Updated node(125) last access: 214.8765 seconds
I0305 06:40:56.778573       1 tree.go:490] Partial tokens match child node(465). Continue to go deeper in the radix tree
I0305 06:40:56.778576       1 tree.go:471] Updated node(465) last access: 214.8765 seconds
I0305 06:40:56.778583       1 tree.go:484] Entire input tokens match the child node(466)
I0305 06:40:56.778588       1 tree.go:449] latency, insertHelper, 0.0351 seconds, 7596 tokens
I0305 06:40:56.778596       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7596 tokens
I0305 06:40:56.778603       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0351
I0305 06:40:56.778611       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.778590134 +0000 UTC m=+214.995317001 qwen2-5-7b-instruct-867fbbcbd9-79hc6:2025-03-05 06:40:33.829328143 +0000 UTC m=+192.046055009]
I0305 06:40:56.778633       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7596, Matched tokens: 7596, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-79hc6]
I0305 06:40:56.778640       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.778699       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-79hc6 from longest matching node with match length 7596
I0305 06:40:56.778708       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.778715       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.778722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.778732       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.778740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.778746       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.778754       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.778762       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.778772       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-79hc6="target_pod_ip" 10.0.0.131="(MISSING)"
I0305 06:40:56.778781       1 prefix_cache_and_load.go:584] latency, Route, 0.9487
I0305 06:40:56.778795       1 gateway.go:415] latency, selectTargetPod, 0.9487, target pod, 10.0.0.131:8000
I0305 06:40:56.778804       1 gateway.go:235] latency, HandleRequestBody, 0.9490
I0305 06:40:56.778835       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9428
I0305 06:40:56.778840       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.778843       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.779050       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.779100       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:56.779107       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.781231       1 gateway.go:562] latency, 0.0001, summary, hash(request), 9ad21aa4, selectedpod, 10.0.0.34:8000, ttft, 880, tpot, 19, e2e, 1058, numInputTokens, 7614, numOutputTokens, 10, numTotalTokens, 7624
I0305 06:40:56.781794       1 gateway.go:748] "Request completed" requestID="dbcc0495-aeb9-4c93-b26b-415abd8f7609" targetPod="10.0.0.34:8000" promptTokens=7614 completionTokens=10 totalTokens=7624
I0305 06:40:56.781848       1 gateway.go:764] "HandleResponseBody completed" requestID="dbcc0495-aeb9-4c93-b26b-415abd8f7609" promptTokens=7614 completionTokens=10 stream=true
I0305 06:40:56.796834       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7764c05a-a511-43e1-8591-f356e377c37d"
I0305 06:40:56.832038       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0529, numInputTokens, 7601
I0305 06:40:56.832058       1 tree.go:471] Updated node(0) last access: 214.9300 seconds
I0305 06:40:56.832064       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.832068       1 tree.go:471] Updated node(2) last access: 214.9300 seconds
I0305 06:40:56.832082       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:56.832090       1 tree.go:471] Updated node(8) last access: 214.9300 seconds
I0305 06:40:56.832093       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0305 06:40:56.832096       1 tree.go:471] Updated node(16) last access: 214.9300 seconds
I0305 06:40:56.832099       1 tree.go:490] Partial tokens match child node(34). Continue to go deeper in the radix tree
I0305 06:40:56.832101       1 tree.go:471] Updated node(34) last access: 214.9300 seconds
I0305 06:40:56.832105       1 tree.go:484] Entire input tokens match the child node(470)
I0305 06:40:56.832108       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7601 tokens
I0305 06:40:56.832116       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7601 tokens
I0305 06:40:56.832125       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.832130       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.832110982 +0000 UTC m=+215.048837846 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:42.315580965 +0000 UTC m=+200.532307838]
I0305 06:40:56.832147       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7601, Matched tokens: 7601, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:56.832155       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.832212       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7601
I0305 06:40:56.832221       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.832227       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.832250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.832256       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.832260       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.832263       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.832268       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.832277       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.832285       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:56.832296       1 prefix_cache_and_load.go:584] latency, Route, 0.9963
I0305 06:40:56.832312       1 gateway.go:415] latency, selectTargetPod, 0.9963, target pod, 10.0.1.53:8000
I0305 06:40:56.832324       1 gateway.go:235] latency, HandleRequestBody, 0.9968
I0305 06:40:56.832352       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9496
I0305 06:40:56.832356       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.832359       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.832573       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.832621       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:56.832626       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.834531       1 gateway.go:608] "First token received" requestID="7764c05a-a511-43e1-8591-f356e377c37d" ttft_ms=1004
I0305 06:40:56.841259       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7c1171cc, selectedpod, 10.0.3.42:8000, ttft, 883, tpot, 19, e2e, 1056, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:56.841280       1 gateway.go:748] "Request completed" requestID="8329e6ff-1ce3-4229-b15e-65f534b48665" targetPod="10.0.3.42:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:56.841292       1 gateway.go:764] "HandleResponseBody completed" requestID="8329e6ff-1ce3-4229-b15e-65f534b48665" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:56.878615       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0e8824ad-cdf7-487b-af2f-9209ab206f10"
I0305 06:40:56.886918       1 gateway.go:608] "First token received" requestID="0e8824ad-cdf7-487b-af2f-9209ab206f10" ttft_ms=1051
I0305 06:40:56.918112       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0855, numInputTokens, 7597
I0305 06:40:56.918131       1 tree.go:471] Updated node(0) last access: 215.0161 seconds
I0305 06:40:56.918137       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:56.918141       1 tree.go:471] Updated node(2) last access: 215.0161 seconds
I0305 06:40:56.918156       1 tree.go:490] Partial tokens match child node(45). Continue to go deeper in the radix tree
I0305 06:40:56.918160       1 tree.go:471] Updated node(45) last access: 215.0161 seconds
I0305 06:40:56.918164       1 tree.go:490] Partial tokens match child node(175). Continue to go deeper in the radix tree
I0305 06:40:56.918166       1 tree.go:471] Updated node(175) last access: 215.0161 seconds
I0305 06:40:56.918170       1 tree.go:490] Partial tokens match child node(184). Continue to go deeper in the radix tree
I0305 06:40:56.918172       1 tree.go:471] Updated node(184) last access: 215.0161 seconds
I0305 06:40:56.918175       1 tree.go:490] Partial tokens match child node(471). Continue to go deeper in the radix tree
I0305 06:40:56.918178       1 tree.go:471] Updated node(471) last access: 215.0161 seconds
I0305 06:40:56.918182       1 tree.go:484] Entire input tokens match the child node(472)
I0305 06:40:56.918188       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:56.918195       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:56.918201       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:56.918206       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:56.918190382 +0000 UTC m=+215.134917257 qwen2-5-7b-instruct-867fbbcbd9-p82gs:2025-03-05 06:40:42.428414125 +0000 UTC m=+200.645140990]
I0305 06:40:56.918223       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-p82gs]
I0305 06:40:56.918230       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:56.918293       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-p82gs from longest matching node with match length 7597
I0305 06:40:56.918307       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:56.918318       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.918328       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.918335       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.918343       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.918348       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.918357       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.918363       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:56.918375       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:56.918388       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-p82gs="target_pod_ip" 10.0.0.34="(MISSING)"
I0305 06:40:56.918405       1 prefix_cache_and_load.go:584] latency, Route, 1.0357
I0305 06:40:56.918424       1 gateway.go:415] latency, selectTargetPod, 1.0357, target pod, 10.0.0.34:8000
I0305 06:40:56.918436       1 gateway.go:235] latency, HandleRequestBody, 1.0360
I0305 06:40:56.918543       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.9317
I0305 06:40:56.918550       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:56.918553       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:56.918798       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:56.918840       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:56.918845       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:56.936753       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ec4e2ffd-7a4b-4648-b471-fbfeb72131c2"
I0305 06:40:56.952751       1 gateway.go:562] latency, 0.0000, summary, hash(request), ee728728, selectedpod, 10.0.0.131:8000, ttft, 921, tpot, 23, e2e, 1129, numInputTokens, 7622, numOutputTokens, 10, numTotalTokens, 7632
I0305 06:40:56.952768       1 gateway.go:748] "Request completed" requestID="e228e75d-e0b0-4780-a6fd-8d6d9f07f678" targetPod="10.0.0.131:8000" promptTokens=7622 completionTokens=10 totalTokens=7632
I0305 06:40:56.952777       1 gateway.go:764] "HandleResponseBody completed" requestID="e228e75d-e0b0-4780-a6fd-8d6d9f07f678" promptTokens=7622 completionTokens=10 stream=true
I0305 06:40:56.967751       1 gateway.go:608] "First token received" requestID="ec4e2ffd-7a4b-4648-b471-fbfeb72131c2" ttft_ms=1085
I0305 06:40:57.006924       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0881, numInputTokens, 7600
I0305 06:40:57.006948       1 tree.go:471] Updated node(0) last access: 215.1049 seconds
I0305 06:40:57.006955       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:57.006959       1 tree.go:471] Updated node(2) last access: 215.1049 seconds
I0305 06:40:57.006982       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0305 06:40:57.006985       1 tree.go:471] Updated node(26) last access: 215.1049 seconds
I0305 06:40:57.006989       1 tree.go:490] Partial tokens match child node(75). Continue to go deeper in the radix tree
I0305 06:40:57.006995       1 tree.go:471] Updated node(75) last access: 215.1049 seconds
I0305 06:40:57.007001       1 tree.go:484] Entire input tokens match the child node(467)
I0305 06:40:57.007004       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7600 tokens
I0305 06:40:57.007014       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7600 tokens
I0305 06:40:57.007032       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:57.007040       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:57.007008163 +0000 UTC m=+215.223735027 qwen2-5-7b-instruct-867fbbcbd9-7gvxr:2025-03-05 06:40:34.004680751 +0000 UTC m=+192.221407621]
I0305 06:40:57.007067       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7600, Matched tokens: 7600, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-7gvxr]
I0305 06:40:57.007082       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:57.007203       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-7gvxr from longest matching node with match length 7600
I0305 06:40:57.007217       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:57.007230       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.007240       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.007246       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.007253       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.007258       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.007293       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:57.007310       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-7gvxr="target_pod_ip" 10.0.3.41="(MISSING)"
I0305 06:40:57.007330       1 prefix_cache_and_load.go:584] latency, Route, 1.0204
I0305 06:40:57.007352       1 gateway.go:415] latency, selectTargetPod, 1.0205, target pod, 10.0.3.41:8000
I0305 06:40:57.007381       1 gateway.go:235] latency, HandleRequestBody, 1.0288
I0305 06:40:57.007423       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0109
I0305 06:40:57.007450       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:57.007454       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:57.008110       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:57.008195       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0007
I0305 06:40:57.008204       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:57.011845       1 gateway.go:562] latency, 0.0000, summary, hash(request), dad7cf70, selectedpod, 10.0.0.131:8000, ttft, 1004, tpot, 19, e2e, 1181, numInputTokens, 7615, numOutputTokens, 10, numTotalTokens, 7625
I0305 06:40:57.011864       1 gateway.go:748] "Request completed" requestID="7764c05a-a511-43e1-8591-f356e377c37d" targetPod="10.0.0.131:8000" promptTokens=7615 completionTokens=10 totalTokens=7625
I0305 06:40:57.011876       1 gateway.go:764] "HandleResponseBody completed" requestID="7764c05a-a511-43e1-8591-f356e377c37d" promptTokens=7615 completionTokens=10 stream=true
I0305 06:40:57.023711       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6202c25a-0e9c-496c-993a-0f9b051b30d7"
I0305 06:40:57.055413       1 gateway.go:608] "First token received" requestID="6202c25a-0e9c-496c-993a-0f9b051b30d7" ttft_ms=1076
I0305 06:40:57.056421       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4e4efa51, selectedpod, 10.0.1.53:8000, ttft, 1051, tpot, 18, e2e, 1220, numInputTokens, 7620, numOutputTokens, 10, numTotalTokens, 7630
I0305 06:40:57.056438       1 gateway.go:748] "Request completed" requestID="0e8824ad-cdf7-487b-af2f-9209ab206f10" targetPod="10.0.1.53:8000" promptTokens=7620 completionTokens=10 totalTokens=7630
I0305 06:40:57.056449       1 gateway.go:764] "HandleResponseBody completed" requestID="0e8824ad-cdf7-487b-af2f-9209ab206f10" promptTokens=7620 completionTokens=10 stream=true
I0305 06:40:57.097865       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0897, numInputTokens, 7598
I0305 06:40:57.097883       1 tree.go:471] Updated node(0) last access: 215.1958 seconds
I0305 06:40:57.097889       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:57.097892       1 tree.go:471] Updated node(2) last access: 215.1958 seconds
I0305 06:40:57.097907       1 tree.go:490] Partial tokens match child node(23). Continue to go deeper in the radix tree
I0305 06:40:57.097911       1 tree.go:471] Updated node(23) last access: 215.1959 seconds
I0305 06:40:57.097915       1 tree.go:490] Partial tokens match child node(452). Continue to go deeper in the radix tree
I0305 06:40:57.097918       1 tree.go:471] Updated node(452) last access: 215.1959 seconds
I0305 06:40:57.097923       1 tree.go:484] Entire input tokens match the child node(484)
I0305 06:40:57.097925       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7598 tokens
I0305 06:40:57.097932       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7598 tokens
I0305 06:40:57.097937       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:57.097943       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:57.097927188 +0000 UTC m=+215.314654061 qwen2-5-7b-instruct-867fbbcbd9-6b5hh:2025-03-05 06:40:43.438302923 +0000 UTC m=+201.655029795]
I0305 06:40:57.097964       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7598, Matched tokens: 7598, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-6b5hh]
I0305 06:40:57.097982       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:57.098064       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-6b5hh from longest matching node with match length 7598
I0305 06:40:57.098077       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:57.098085       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.098090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.098094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.098097       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.098102       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.098110       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:57.098119       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-6b5hh="target_pod_ip" 10.0.3.42="(MISSING)"
I0305 06:40:57.098131       1 prefix_cache_and_load.go:584] latency, Route, 1.1017
I0305 06:40:57.098150       1 gateway.go:415] latency, selectTargetPod, 1.1017, target pod, 10.0.3.42:8000
I0305 06:40:57.098166       1 gateway.go:235] latency, HandleRequestBody, 1.1020
I0305 06:40:57.098192       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.0819
I0305 06:40:57.098198       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:57.098202       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:57.098442       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:57.098494       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0305 06:40:57.098500       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:57.114083       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="58610a71-944c-44ef-b756-61495a647b1e"
I0305 06:40:57.138895       1 gateway.go:608] "First token received" requestID="58610a71-944c-44ef-b756-61495a647b1e" ttft_ms=1142
I0305 06:40:57.140702       1 gateway.go:562] latency, 0.0000, summary, hash(request), 77323e3d, selectedpod, 10.0.0.34:8000, ttft, 1085, tpot, 19, e2e, 1258, numInputTokens, 7618, numOutputTokens, 10, numTotalTokens, 7628
I0305 06:40:57.140722       1 gateway.go:748] "Request completed" requestID="ec4e2ffd-7a4b-4648-b471-fbfeb72131c2" targetPod="10.0.0.34:8000" promptTokens=7618 completionTokens=10 totalTokens=7628
I0305 06:40:57.140732       1 gateway.go:764] "HandleResponseBody completed" requestID="ec4e2ffd-7a4b-4648-b471-fbfeb72131c2" promptTokens=7618 completionTokens=10 stream=true
I0305 06:40:57.148604       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0501, numInputTokens, 7597
I0305 06:40:57.148623       1 tree.go:471] Updated node(0) last access: 215.2466 seconds
I0305 06:40:57.148629       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:57.148634       1 tree.go:471] Updated node(2) last access: 215.2466 seconds
I0305 06:40:57.148648       1 tree.go:490] Partial tokens match child node(8). Continue to go deeper in the radix tree
I0305 06:40:57.148651       1 tree.go:471] Updated node(8) last access: 215.2466 seconds
I0305 06:40:57.148655       1 tree.go:490] Partial tokens match child node(480). Continue to go deeper in the radix tree
I0305 06:40:57.148659       1 tree.go:471] Updated node(480) last access: 215.2466 seconds
I0305 06:40:57.148664       1 tree.go:484] Entire input tokens match the child node(481)
I0305 06:40:57.148667       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7597 tokens
I0305 06:40:57.148673       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:57.148679       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:57.148684       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:57.148668794 +0000 UTC m=+215.365395667 qwen2-5-7b-instruct-867fbbcbd9-swm4v:2025-03-05 06:40:43.182644881 +0000 UTC m=+201.399371746]
I0305 06:40:57.148705       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-swm4v]
I0305 06:40:57.148715       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:57.148803       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-swm4v from longest matching node with match length 7597
I0305 06:40:57.148818       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:57.148830       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.148834       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.148840       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.148848       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.148855       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.148870       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:57.148887       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-swm4v="target_pod_ip" 10.0.1.53="(MISSING)"
I0305 06:40:57.148896       1 prefix_cache_and_load.go:584] latency, Route, 1.1326
I0305 06:40:57.148915       1 gateway.go:415] latency, selectTargetPod, 1.1326, target pod, 10.0.1.53:8000
I0305 06:40:57.148928       1 gateway.go:235] latency, HandleRequestBody, 1.1329
I0305 06:40:57.148964       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1238
I0305 06:40:57.148982       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:57.148986       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:57.149345       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:57.149410       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:57.149416       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:57.167812       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="22b83d94-158d-4b56-b6ec-8bf3b326a39c"
I0305 06:40:57.192736       1 gateway.go:608] "First token received" requestID="22b83d94-158d-4b56-b6ec-8bf3b326a39c" ttft_ms=1176
I0305 06:40:57.224170       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0747, numInputTokens, 7597
I0305 06:40:57.224191       1 tree.go:471] Updated node(0) last access: 215.3221 seconds
I0305 06:40:57.224197       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:57.224201       1 tree.go:471] Updated node(2) last access: 215.3221 seconds
I0305 06:40:57.224215       1 tree.go:490] Partial tokens match child node(31). Continue to go deeper in the radix tree
I0305 06:40:57.224222       1 tree.go:471] Updated node(31) last access: 215.3222 seconds
I0305 06:40:57.224226       1 tree.go:490] Partial tokens match child node(227). Continue to go deeper in the radix tree
I0305 06:40:57.224228       1 tree.go:471] Updated node(227) last access: 215.3222 seconds
I0305 06:40:57.224231       1 tree.go:490] Partial tokens match child node(476). Continue to go deeper in the radix tree
I0305 06:40:57.224233       1 tree.go:471] Updated node(476) last access: 215.3222 seconds
I0305 06:40:57.224238       1 tree.go:484] Entire input tokens match the child node(477)
I0305 06:40:57.224241       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 7597 tokens
I0305 06:40:57.224248       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7597 tokens
I0305 06:40:57.224254       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:57.224260       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:57.224243167 +0000 UTC m=+215.440970040 qwen2-5-7b-instruct-867fbbcbd9-hkwnq:2025-03-05 06:40:42.894911511 +0000 UTC m=+201.111638375]
I0305 06:40:57.224278       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7597, Matched tokens: 7597, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-hkwnq]
I0305 06:40:57.224284       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:57.224350       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-hkwnq from longest matching node with match length 7597
I0305 06:40:57.224359       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:57.224367       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.224371       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.224375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.224380       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.224385       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.224388       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.224396       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:57.224406       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-hkwnq="target_pod_ip" 10.0.1.28="(MISSING)"
I0305 06:40:57.224416       1 prefix_cache_and_load.go:584] latency, Route, 1.1993
I0305 06:40:57.224431       1 gateway.go:415] latency, selectTargetPod, 1.1993, target pod, 10.0.1.28:8000
I0305 06:40:57.224443       1 gateway.go:235] latency, HandleRequestBody, 1.1996
I0305 06:40:57.224442       1 prefix_cache_and_load.go:456] latency, lock acquire, 1.1942
I0305 06:40:57.224452       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0305 06:40:57.224457       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0305 06:40:57.224836       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0305 06:40:57.224910       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0305 06:40:57.224917       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0305 06:40:57.229140       1 gateway.go:562] latency, 0.0000, summary, hash(request), cec76aa5, selectedpod, 10.0.3.41:8000, ttft, 1076, tpot, 19, e2e, 1250, numInputTokens, 7619, numOutputTokens, 10, numTotalTokens, 7629
I0305 06:40:57.229156       1 gateway.go:748] "Request completed" requestID="6202c25a-0e9c-496c-993a-0f9b051b30d7" targetPod="10.0.3.41:8000" promptTokens=7619 completionTokens=10 totalTokens=7629
I0305 06:40:57.229164       1 gateway.go:764] "HandleResponseBody completed" requestID="6202c25a-0e9c-496c-993a-0f9b051b30d7" promptTokens=7619 completionTokens=10 stream=true
I0305 06:40:57.244566       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="80560313-1cb6-4b11-a0a3-cc978d0845ed"
I0305 06:40:57.271390       1 gateway.go:608] "First token received" requestID="80560313-1cb6-4b11-a0a3-cc978d0845ed" ttft_ms=1246
I0305 06:40:57.282817       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0579, numInputTokens, 7602
I0305 06:40:57.282841       1 tree.go:471] Updated node(0) last access: 215.3808 seconds
I0305 06:40:57.282847       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0305 06:40:57.282850       1 tree.go:471] Updated node(2) last access: 215.3808 seconds
I0305 06:40:57.282863       1 tree.go:490] Partial tokens match child node(4). Continue to go deeper in the radix tree
I0305 06:40:57.282866       1 tree.go:471] Updated node(4) last access: 215.3808 seconds
I0305 06:40:57.282869       1 tree.go:490] Partial tokens match child node(482). Continue to go deeper in the radix tree
I0305 06:40:57.282872       1 tree.go:471] Updated node(482) last access: 215.3808 seconds
I0305 06:40:57.282878       1 tree.go:484] Entire input tokens match the child node(483)
I0305 06:40:57.282881       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 7602 tokens
I0305 06:40:57.282888       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 7602 tokens
I0305 06:40:57.282895       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0305 06:40:57.282903       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-05 06:40:57.282883169 +0000 UTC m=+215.499610034 qwen2-5-7b-instruct-867fbbcbd9-vlxfk:2025-03-05 06:40:43.316502228 +0000 UTC m=+201.533229094]
I0305 06:40:57.282926       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 7602, Matched tokens: 7602, Matching ratio: 1.0000, # Matched pods: 1, Matched pods: [qwen2-5-7b-instruct-867fbbcbd9-vlxfk]
I0305 06:40:57.282934       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 1.0000 > 0.5000)
I0305 06:40:57.283042       1 prefix_cache_and_load.go:542] Selected pod qwen2-5-7b-instruct-867fbbcbd9-vlxfk from longest matching node with match length 7602
I0305 06:40:57.283053       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0305 06:40:57.283067       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.283076       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.283082       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.283087       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.283090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0305 06:40:57.283098       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0305 06:40:57.283107       1 prefix_cache_and_load.go:582] "target_pod_name" qwen2-5-7b-instruct-867fbbcbd9-vlxfk="target_pod_ip" 10.0.1.47="(MISSING)"
I0305 06:40:57.283121       1 prefix_cache_and_load.go:584] latency, Route, 1.2529
I0305 06:40:57.283130       1 gateway.go:415] latency, selectTargetPod, 1.2529, target pod, 10.0.1.47:8000
I0305 06:40:57.283146       1 gateway.go:235] latency, HandleRequestBody, 1.2532
I0305 06:40:57.305470       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="397895ad-feb4-40c5-971d-4674e4266459"
I0305 06:40:57.311663       1 gateway.go:562] latency, 0.0000, summary, hash(request), 24058692, selectedpod, 10.0.3.42:8000, ttft, 1142, tpot, 19, e2e, 1315, numInputTokens, 7617, numOutputTokens, 10, numTotalTokens, 7627
I0305 06:40:57.311683       1 gateway.go:748] "Request completed" requestID="58610a71-944c-44ef-b756-61495a647b1e" targetPod="10.0.3.42:8000" promptTokens=7617 completionTokens=10 totalTokens=7627
I0305 06:40:57.311693       1 gateway.go:764] "HandleResponseBody completed" requestID="58610a71-944c-44ef-b756-61495a647b1e" promptTokens=7617 completionTokens=10 stream=true
I0305 06:40:57.338160       1 gateway.go:608] "First token received" requestID="397895ad-feb4-40c5-971d-4674e4266459" ttft_ms=1308
I0305 06:40:57.365884       1 gateway.go:562] latency, 0.0000, summary, hash(request), f713c83f, selectedpod, 10.0.1.53:8000, ttft, 1176, tpot, 19, e2e, 1349, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:57.365905       1 gateway.go:748] "Request completed" requestID="22b83d94-158d-4b56-b6ec-8bf3b326a39c" targetPod="10.0.1.53:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:57.365917       1 gateway.go:764] "HandleResponseBody completed" requestID="22b83d94-158d-4b56-b6ec-8bf3b326a39c" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:57.444136       1 gateway.go:562] latency, 0.0000, summary, hash(request), 016054c9, selectedpod, 10.0.1.28:8000, ttft, 1246, tpot, 19, e2e, 1419, numInputTokens, 7616, numOutputTokens, 10, numTotalTokens, 7626
I0305 06:40:57.444154       1 gateway.go:748] "Request completed" requestID="80560313-1cb6-4b11-a0a3-cc978d0845ed" targetPod="10.0.1.28:8000" promptTokens=7616 completionTokens=10 totalTokens=7626
I0305 06:40:57.444164       1 gateway.go:764] "HandleResponseBody completed" requestID="80560313-1cb6-4b11-a0a3-cc978d0845ed" promptTokens=7616 completionTokens=10 stream=true
I0305 06:40:57.511166       1 gateway.go:562] latency, 0.0000, summary, hash(request), bf5195d8, selectedpod, 10.0.1.47:8000, ttft, 1308, tpot, 19, e2e, 1481, numInputTokens, 7621, numOutputTokens, 10, numTotalTokens, 7631
I0305 06:40:57.511185       1 gateway.go:748] "Request completed" requestID="397895ad-feb4-40c5-971d-4674e4266459" targetPod="10.0.1.47:8000" promptTokens=7621 completionTokens=10 totalTokens=7631
I0305 06:40:57.511194       1 gateway.go:764] "HandleResponseBody completed" requestID="397895ad-feb4-40c5-971d-4674e4266459" promptTokens=7621 completionTokens=10 stream=true
