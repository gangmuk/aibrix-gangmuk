I0304 08:24:02.391678       1 cache.go:137] using AIBRIX_POD_METRIC_REFRESH_INTERVAL_MS env value for pod metrics refresh interval: 1000 ms
W0304 08:24:02.391740       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_BLOCK_SIZE is not set, using default value: 
I0304 08:24:02.391748       1 hash.go:56] using default prefix cache block size: 16
W0304 08:24:02.391751       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_EVICTION_INTERVAL_MS is not set, using default value: 
I0304 08:24:02.391754       1 hash.go:71] using default prefix cache eviction interval: 50 ms
W0304 08:24:02.391758       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_EVICTION_DURATION_MINS is not set, using default value: 
I0304 08:24:02.391768       1 hash.go:86] using default prefix cache eviction duration: 60 mins
W0304 08:24:02.391775       1 util.go:80] environment variable AIBRIX_PREFIX_CACHE_MATCH_THRESHOLD_PERCENT is not set, using default value: 
I0304 08:24:02.391780       1 prefix_cache.go:50] using default prefix cache match threshold percent: 50
I0304 08:24:02.391783       1 prefix_cache_and_load.go:46] Test getDummyVar, dummay_var: 0
Connected to Redis: PONG
starting cache
I0304 08:24:02.397252       1 main.go:63] using in-cluster configuration
W0304 08:24:02.497785       1 util.go:80] environment variable PROMETHEUS_ENDPOINT is not set, using default value: 
W0304 08:24:02.497801       1 util.go:80] environment variable PROMETHEUS_BASIC_AUTH_USERNAME is not set, using default value: 
W0304 08:24:02.497804       1 util.go:80] environment variable PROMETHEUS_BASIC_AUTH_PASSWORD is not set, using default value: 
I0304 08:24:02.498147       1 main.go:93] starting gRPC server on port :50052
I0304 08:24:10.001012       1 cache.go:268] trace ticker start at 2025-03-04 08:24:10.000995781 +0000 UTC m=+7.621218207
I0304 08:25:56.024864       1 gateway.go:207] "Processing request" requestID="f4cb380e-b475-4221-ae92-c63d3e9c3a7b"
I0304 08:25:56.025199       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f4cb380e-b475-4221-ae92-c63d3e9c3a7b"
I0304 08:25:56.025211       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:56.027572       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f4cb380e-b475-4221-ae92-c63d3e9c3a7b"
I0304 08:25:56.027700       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f4cb380e-b475-4221-ae92-c63d3e9c3a7b" model="deepseek-llm-7b-chat"
I0304 08:25:56.027750       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:56.027756       1 prefix_cache_and_load.go:460] num pods in data structure: 0
I0304 08:25:56.027760       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:56.027772       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=0 new_count=8
I0304 08:25:56.027777       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:56.027783       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:56.108956       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0812, numInputTokens, 3751
I0304 08:25:56.108999       1 tree.go:471] Updated node(0) last access: 113.6109 seconds
I0304 08:25:56.109052       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 3751 tokens:
I0304 08:25:56.109062       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:25:56.109072       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:25:56.109083       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:56.109094       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:56.109065101 +0000 UTC m=+113.729287547]
I0304 08:25:56.109139       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 0, Matching ratio: 0.0000, # Matched pods: 0, Matched pods: []
I0304 08:25:56.109151       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0000, len(matchedPods): 0)
I0304 08:25:56.109161       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-2q5s7, Cost: 0.000000
I0304 08:25:56.109166       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-7z4pz, Cost: 0.000000
I0304 08:25:56.109170       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-h8g6d, Cost: 0.000000
I0304 08:25:56.109174       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-brzxp, Cost: 0.000000
I0304 08:25:56.109177       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-q5tzj, Cost: 0.000000
I0304 08:25:56.109180       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-bqwpb, Cost: 0.000000
I0304 08:25:56.109181       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-nh42j, Cost: 0.000000
I0304 08:25:56.109184       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-4hfjk, Cost: 0.000000
I0304 08:25:56.109189       1 prefix_cache_and_load.go:562] Lowest cost pod: deepseek-llm-7b-chat-86bd78f77c-2q5s7
I0304 08:25:56.109200       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0000
I0304 08:25:56.109210       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.109218       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.109235       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:56.109250       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:25:56.109268       1 prefix_cache_and_load.go:584] latency, Route, 0.0815
I0304 08:25:56.109281       1 gateway.go:415] latency, selectTargetPod, 0.0815, target pod, 10.0.0.6:8000
I0304 08:25:56.109299       1 gateway.go:235] latency, HandleRequestBody, 0.0817
I0304 08:25:56.155014       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f4cb380e-b475-4221-ae92-c63d3e9c3a7b"
I0304 08:25:56.493206       1 gateway.go:207] "Processing request" requestID="118221da-3436-45d4-a1b2-7c8e3b3c5424"
I0304 08:25:56.493256       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="118221da-3436-45d4-a1b2-7c8e3b3c5424"
I0304 08:25:56.493270       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:56.495531       1 gateway.go:329] "-- In RequestBody processing ..." requestID="118221da-3436-45d4-a1b2-7c8e3b3c5424"
I0304 08:25:56.495663       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="118221da-3436-45d4-a1b2-7c8e3b3c5424" model="deepseek-llm-7b-chat"
I0304 08:25:56.495711       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:56.495718       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:56.495721       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:56.495731       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:56.495736       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:56.495742       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:56.544482       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0487, numInputTokens, 3752
I0304 08:25:56.544500       1 tree.go:471] Updated node(0) last access: 114.0464 seconds
I0304 08:25:56.544548       1 tree.go:667] Split complete - New node(2)
I0304 08:25:56.544554       1 tree.go:668] Split complete - Child node(1)
I0304 08:25:56.544559       1 tree.go:501] latency, splitNode, 0.0001 seconds, 3752 tokens:
I0304 08:25:56.544565       1 tree.go:471] Updated node(2) last access: 114.0464 seconds
I0304 08:25:56.544576       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 3748 tokens:
I0304 08:25:56.544583       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:25:56.544588       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:25:56.544593       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:56.544599       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:56.54458505 +0000 UTC m=+114.164807476]
I0304 08:25:56.544618       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 4, Matching ratio: 0.0011, # Matched pods: 0, Matched pods: []
I0304 08:25:56.544628       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0011, len(matchedPods): 0)
I0304 08:25:56.544637       1 prefix_cache_and_load.go:226] numTokens: 3747, contextLength: 3751, targetGPU: V100
I0304 08:25:56.544641       1 prefix_cache_and_load.go:227] prefillTime: 1.1426 = (Base time(1.0283) + attnQuad(0.0000)) / 0.9
I0304 08:25:56.544649       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1426 = miss rate(1.0000) * nodeToCount(1) * prefillTime(1.1426) / numPods(1)
I0304 08:25:56.544663       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-h8g6d, Cost: 0.000000
I0304 08:25:56.544668       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-brzxp, Cost: 0.000000
I0304 08:25:56.544670       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-q5tzj, Cost: 0.000000
I0304 08:25:56.544673       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-bqwpb, Cost: 0.000000
I0304 08:25:56.544675       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-nh42j, Cost: 0.000000
I0304 08:25:56.544678       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-4hfjk, Cost: 0.000000
I0304 08:25:56.544680       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-2q5s7, Cost: 7.892605
I0304 08:25:56.544684       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-7z4pz, Cost: 0.000000
I0304 08:25:56.544691       1 prefix_cache_and_load.go:562] Lowest cost pod: deepseek-llm-7b-chat-86bd78f77c-h8g6d
I0304 08:25:56.544703       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0304 08:25:56.544716       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.544722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.544728       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.544742       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:56.544753       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:25:56.544764       1 prefix_cache_and_load.go:584] latency, Route, 0.0491
I0304 08:25:56.544783       1 gateway.go:415] latency, selectTargetPod, 0.0491, target pod, 10.0.3.28:8000
I0304 08:25:56.544799       1 gateway.go:235] latency, HandleRequestBody, 0.0493
I0304 08:25:56.588858       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="118221da-3436-45d4-a1b2-7c8e3b3c5424"
I0304 08:25:56.658788       1 gateway.go:608] "First token received" requestID="f4cb380e-b475-4221-ae92-c63d3e9c3a7b" ttft_ms=631
I0304 08:25:56.659380       1 gateway.go:207] "Processing request" requestID="c0128da2-4a14-4414-a22b-c69582598640"
I0304 08:25:56.659410       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c0128da2-4a14-4414-a22b-c69582598640"
I0304 08:25:56.659419       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:56.661597       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c0128da2-4a14-4414-a22b-c69582598640"
I0304 08:25:56.661757       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c0128da2-4a14-4414-a22b-c69582598640" model="deepseek-llm-7b-chat"
I0304 08:25:56.661804       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:56.661812       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:56.661816       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:56.661832       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:56.661838       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:56.661843       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:56.684165       1 gateway.go:207] "Processing request" requestID="c77acc0c-05e2-4b2c-90a8-73c575cf8957"
I0304 08:25:56.684199       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c77acc0c-05e2-4b2c-90a8-73c575cf8957"
I0304 08:25:56.684209       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:56.685714       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c77acc0c-05e2-4b2c-90a8-73c575cf8957"
I0304 08:25:56.685836       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c77acc0c-05e2-4b2c-90a8-73c575cf8957" model="deepseek-llm-7b-chat"
I0304 08:25:56.713062       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0512, numInputTokens, 3753
I0304 08:25:56.713082       1 tree.go:471] Updated node(0) last access: 114.2149 seconds
I0304 08:25:56.713088       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:56.713092       1 tree.go:471] Updated node(2) last access: 114.2150 seconds
I0304 08:25:56.713107       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 3749 tokens:
I0304 08:25:56.713112       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:25:56.713119       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:25:56.713125       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:25:56.713133       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:56.713114552 +0000 UTC m=+114.333336988]
I0304 08:25:56.713149       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 4, Matching ratio: 0.0011, # Matched pods: 0, Matched pods: []
I0304 08:25:56.713158       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0011, len(matchedPods): 0)
I0304 08:25:56.713165       1 prefix_cache_and_load.go:226] numTokens: 3747, contextLength: 3751, targetGPU: V100
I0304 08:25:56.713168       1 prefix_cache_and_load.go:227] prefillTime: 1.1426 = (Base time(1.0283) + attnQuad(0.0000)) / 0.9
I0304 08:25:56.713172       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1426 = miss rate(1.0000) * nodeToCount(1) * prefillTime(1.1426) / numPods(1)
I0304 08:25:56.713177       1 prefix_cache_and_load.go:226] numTokens: 3748, contextLength: 3752, targetGPU: V100
I0304 08:25:56.713180       1 prefix_cache_and_load.go:227] prefillTime: 1.1429 = (Base time(1.0286) + attnQuad(0.0000)) / 0.9
I0304 08:25:56.713183       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1417 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1429) / numPods(1)
I0304 08:25:56.713190       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-2q5s7, Cost: 7.892605
I0304 08:25:56.713195       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-7z4pz, Cost: 0.000000
I0304 08:25:56.713197       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-h8g6d, Cost: 7.891688
I0304 08:25:56.713199       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-brzxp, Cost: 0.000000
I0304 08:25:56.713201       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-q5tzj, Cost: 0.000000
I0304 08:25:56.713203       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-bqwpb, Cost: 0.000000
I0304 08:25:56.713204       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-nh42j, Cost: 0.000000
I0304 08:25:56.713206       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-4hfjk, Cost: 0.000000
I0304 08:25:56.713211       1 prefix_cache_and_load.go:562] Lowest cost pod: deepseek-llm-7b-chat-86bd78f77c-7z4pz
I0304 08:25:56.713218       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0304 08:25:56.713226       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.713231       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.713236       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.713245       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:56.713254       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:25:56.713265       1 prefix_cache_and_load.go:584] latency, Route, 0.0515
I0304 08:25:56.713279       1 gateway.go:415] latency, selectTargetPod, 0.0515, target pod, 10.0.0.13:8000
I0304 08:25:56.713291       1 gateway.go:235] latency, HandleRequestBody, 0.0517
I0304 08:25:56.713319       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0274
I0304 08:25:56.713324       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:56.713327       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:56.713338       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:56.713344       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:56.713348       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:56.734777       1 gateway.go:207] "Processing request" requestID="2de7f903-cc62-4851-853e-2404d092810d"
I0304 08:25:56.734830       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2de7f903-cc62-4851-853e-2404d092810d"
I0304 08:25:56.734845       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:56.737161       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2de7f903-cc62-4851-853e-2404d092810d"
I0304 08:25:56.737289       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2de7f903-cc62-4851-853e-2404d092810d" model="deepseek-llm-7b-chat"
I0304 08:25:56.761669       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c0128da2-4a14-4414-a22b-c69582598640"
I0304 08:25:56.780192       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0668, numInputTokens, 3748
I0304 08:25:56.780210       1 tree.go:471] Updated node(0) last access: 114.2821 seconds
I0304 08:25:56.780216       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:56.780220       1 tree.go:471] Updated node(2) last access: 114.2821 seconds
I0304 08:25:56.780243       1 tree.go:667] Split complete - New node(5)
I0304 08:25:56.780247       1 tree.go:668] Split complete - Child node(3)
I0304 08:25:56.780252       1 tree.go:501] latency, splitNode, 0.0000 seconds, 3744 tokens:
I0304 08:25:56.780257       1 tree.go:471] Updated node(5) last access: 114.2821 seconds
I0304 08:25:56.780262       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:25:56.780268       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3748 tokens
I0304 08:25:56.780275       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3748 tokens
I0304 08:25:56.780284       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:56.780291       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:56.780270306 +0000 UTC m=+114.400492741]
I0304 08:25:56.780305       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3748, Matched tokens: 3633, Matching ratio: 0.9693, # Matched pods: 0, Matched pods: []
I0304 08:25:56.780313       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9693 > 0.5000)
I0304 08:25:56.780328       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3633
I0304 08:25:56.780340       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:25:56.780351       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.780360       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.780366       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.780369       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.780381       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:56.780394       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:25:56.780411       1 prefix_cache_and_load.go:584] latency, Route, 0.0945
I0304 08:25:56.780429       1 gateway.go:415] latency, selectTargetPod, 0.0945, target pod, 10.0.3.28:8000
I0304 08:25:56.780445       1 gateway.go:235] latency, HandleRequestBody, 0.0947
I0304 08:25:56.780478       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0431
I0304 08:25:56.780484       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:56.780487       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:56.780504       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:56.780523       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:56.780530       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:56.795210       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c77acc0c-05e2-4b2c-90a8-73c575cf8957"
I0304 08:25:56.826550       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0460, numInputTokens, 3757
I0304 08:25:56.826566       1 tree.go:471] Updated node(0) last access: 114.3284 seconds
I0304 08:25:56.826572       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:56.826580       1 tree.go:471] Updated node(2) last access: 114.3284 seconds
I0304 08:25:56.826614       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 3753 tokens:
I0304 08:25:56.826618       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:25:56.826624       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:25:56.826630       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:56.826634       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:56.826620609 +0000 UTC m=+114.446843034]
I0304 08:25:56.826648       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 4, Matching ratio: 0.0011, # Matched pods: 0, Matched pods: []
I0304 08:25:56.826655       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0011, len(matchedPods): 0)
I0304 08:25:56.826663       1 prefix_cache_and_load.go:226] numTokens: 3749, contextLength: 3753, targetGPU: V100
I0304 08:25:56.826667       1 prefix_cache_and_load.go:227] prefillTime: 1.1432 = (Base time(1.0289) + attnQuad(0.0000)) / 0.9
I0304 08:25:56.826672       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1420 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1432) / numPods(1)
I0304 08:25:56.826678       1 prefix_cache_and_load.go:226] numTokens: 115, contextLength: 3748, targetGPU: V100
I0304 08:25:56.826680       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:56.826688       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0307) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:56.826693       1 prefix_cache_and_load.go:226] numTokens: 3747, contextLength: 3751, targetGPU: V100
I0304 08:25:56.826696       1 prefix_cache_and_load.go:227] prefillTime: 1.1426 = (Base time(1.0283) + attnQuad(0.0000)) / 0.9
I0304 08:25:56.826702       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1426 = miss rate(1.0000) * nodeToCount(1) * prefillTime(1.1426) / numPods(1)
I0304 08:25:56.826705       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:56.826708       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:56.826712       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:56.826719       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-bqwpb, Cost: 0.000000
I0304 08:25:56.826724       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-nh42j, Cost: 0.000000
I0304 08:25:56.826727       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-4hfjk, Cost: 0.000000
I0304 08:25:56.826728       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-2q5s7, Cost: 7.892605
I0304 08:25:56.826730       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-7z4pz, Cost: 7.891990
I0304 08:25:56.826732       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-h8g6d, Cost: 13.564147
I0304 08:25:56.826735       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-brzxp, Cost: 0.000000
I0304 08:25:56.826736       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-q5tzj, Cost: 0.000000
I0304 08:25:56.826741       1 prefix_cache_and_load.go:562] Lowest cost pod: deepseek-llm-7b-chat-86bd78f77c-bqwpb
I0304 08:25:56.826749       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0304 08:25:56.826756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.826761       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.826765       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.826774       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:56.826782       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:25:56.826792       1 prefix_cache_and_load.go:584] latency, Route, 0.0894
I0304 08:25:56.826804       1 gateway.go:415] latency, selectTargetPod, 0.0894, target pod, 10.0.3.38:8000
I0304 08:25:56.826813       1 gateway.go:235] latency, HandleRequestBody, 0.0897
I0304 08:25:56.833947       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6828172c, selectedpod, 10.0.0.6:8000, ttft, 631, tpot, 19, e2e, 806, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:25:56.833969       1 gateway.go:748] "Request completed" requestID="f4cb380e-b475-4221-ae92-c63d3e9c3a7b" targetPod="10.0.0.6:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:25:56.833989       1 gateway.go:764] "HandleResponseBody completed" requestID="f4cb380e-b475-4221-ae92-c63d3e9c3a7b" promptTokens=3965 completionTokens=10 stream=true
I0304 08:25:56.870068       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2de7f903-cc62-4851-853e-2404d092810d"
I0304 08:25:56.938021       1 gateway.go:207] "Processing request" requestID="73381294-15c4-40f2-9b41-632fdb0f9a64"
I0304 08:25:56.938050       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="73381294-15c4-40f2-9b41-632fdb0f9a64"
I0304 08:25:56.938057       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:56.940248       1 gateway.go:329] "-- In RequestBody processing ..." requestID="73381294-15c4-40f2-9b41-632fdb0f9a64"
I0304 08:25:56.940372       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="73381294-15c4-40f2-9b41-632fdb0f9a64" model="deepseek-llm-7b-chat"
I0304 08:25:56.940421       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:56.940428       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:56.940432       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:56.940447       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:56.940456       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:56.940462       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:56.988123       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0477, numInputTokens, 3752
I0304 08:25:56.988156       1 tree.go:471] Updated node(0) last access: 114.4900 seconds
I0304 08:25:56.988162       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:56.988166       1 tree.go:471] Updated node(2) last access: 114.4900 seconds
I0304 08:25:56.988180       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 3748 tokens:
I0304 08:25:56.988186       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:25:56.988192       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:25:56.988200       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:25:56.988205       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:56.98818793 +0000 UTC m=+114.608410357]
I0304 08:25:56.988219       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 4, Matching ratio: 0.0011, # Matched pods: 0, Matched pods: []
I0304 08:25:56.988228       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0011, len(matchedPods): 0)
I0304 08:25:56.988236       1 prefix_cache_and_load.go:226] numTokens: 3747, contextLength: 3751, targetGPU: V100
I0304 08:25:56.988240       1 prefix_cache_and_load.go:227] prefillTime: 1.1426 = (Base time(1.0283) + attnQuad(0.0000)) / 0.9
I0304 08:25:56.988245       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1426 = miss rate(1.0000) * nodeToCount(1) * prefillTime(1.1426) / numPods(1)
I0304 08:25:56.988252       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:56.988256       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:56.988261       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:56.988267       1 prefix_cache_and_load.go:226] numTokens: 3749, contextLength: 3753, targetGPU: V100
I0304 08:25:56.988270       1 prefix_cache_and_load.go:227] prefillTime: 1.1432 = (Base time(1.0289) + attnQuad(0.0000)) / 0.9
I0304 08:25:56.988276       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1420 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1432) / numPods(1)
I0304 08:25:56.988282       1 prefix_cache_and_load.go:226] numTokens: 115, contextLength: 3748, targetGPU: V100
I0304 08:25:56.988286       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:56.988290       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0307) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:56.988296       1 prefix_cache_and_load.go:226] numTokens: 3753, contextLength: 3757, targetGPU: V100
I0304 08:25:56.988300       1 prefix_cache_and_load.go:227] prefillTime: 1.1444 = (Base time(1.0300) + attnQuad(0.0000)) / 0.9
I0304 08:25:56.988305       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1432 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1444) / numPods(1)
I0304 08:25:56.988317       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-4hfjk, Cost: 0.000000
I0304 08:25:56.988325       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-bqwpb, Cost: 7.893197
I0304 08:25:56.988328       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-nh42j, Cost: 0.000000
I0304 08:25:56.988332       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-2q5s7, Cost: 7.892605
I0304 08:25:56.988334       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-7z4pz, Cost: 7.891990
I0304 08:25:56.988337       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-h8g6d, Cost: 13.564147
I0304 08:25:56.988341       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-brzxp, Cost: 0.000000
I0304 08:25:56.988343       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-q5tzj, Cost: 0.000000
I0304 08:25:56.988349       1 prefix_cache_and_load.go:562] Lowest cost pod: deepseek-llm-7b-chat-86bd78f77c-4hfjk
I0304 08:25:56.988356       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0001
I0304 08:25:56.988364       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.988370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.988375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:56.988383       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:56.988391       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:25:56.988400       1 prefix_cache_and_load.go:584] latency, Route, 0.0480
I0304 08:25:56.988411       1 gateway.go:415] latency, selectTargetPod, 0.0480, target pod, 10.0.0.34:8000
I0304 08:25:56.988424       1 gateway.go:235] latency, HandleRequestBody, 0.0482
I0304 08:25:57.005543       1 gateway.go:207] "Processing request" requestID="c3a23255-6c86-4cdc-b13a-1d18012ce1df"
I0304 08:25:57.005578       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c3a23255-6c86-4cdc-b13a-1d18012ce1df"
I0304 08:25:57.005587       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:57.007779       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c3a23255-6c86-4cdc-b13a-1d18012ce1df"
I0304 08:25:57.007909       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c3a23255-6c86-4cdc-b13a-1d18012ce1df" model="deepseek-llm-7b-chat"
I0304 08:25:57.007956       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:57.007963       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:57.007966       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:57.007991       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:57.007999       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:57.008004       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:57.033727       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="73381294-15c4-40f2-9b41-632fdb0f9a64"
I0304 08:25:57.055807       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0478, numInputTokens, 3752
I0304 08:25:57.055826       1 tree.go:471] Updated node(0) last access: 114.5577 seconds
I0304 08:25:57.055832       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:57.055835       1 tree.go:471] Updated node(2) last access: 114.5577 seconds
I0304 08:25:57.055873       1 tree.go:667] Split complete - New node(9)
I0304 08:25:57.055879       1 tree.go:668] Split complete - Child node(8)
I0304 08:25:57.055886       1 tree.go:501] latency, splitNode, 0.0000 seconds, 3748 tokens:
I0304 08:25:57.055891       1 tree.go:471] Updated node(9) last access: 114.5578 seconds
I0304 08:25:57.055898       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:25:57.055903       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:25:57.055912       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:25:57.055922       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:57.055931       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:57.055906633 +0000 UTC m=+114.676129058]
I0304 08:25:57.055950       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3633, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:25:57.055962       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:25:57.055993       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3633
I0304 08:25:57.056003       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:25:57.056011       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.056017       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.056021       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.056026       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.056033       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:57.056044       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:25:57.056059       1 prefix_cache_and_load.go:584] latency, Route, 0.0481
I0304 08:25:57.056069       1 gateway.go:415] latency, selectTargetPod, 0.0481, target pod, 10.0.0.34:8000
I0304 08:25:57.056083       1 gateway.go:235] latency, HandleRequestBody, 0.0483
I0304 08:25:57.079893       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c3a23255-6c86-4cdc-b13a-1d18012ce1df"
I0304 08:25:57.103334       1 gateway.go:608] "First token received" requestID="118221da-3436-45d4-a1b2-7c8e3b3c5424" ttft_ms=607
I0304 08:25:57.122997       1 gateway.go:608] "First token received" requestID="c77acc0c-05e2-4b2c-90a8-73c575cf8957" ttft_ms=437
I0304 08:25:57.265390       1 gateway.go:608] "First token received" requestID="c0128da2-4a14-4414-a22b-c69582598640" ttft_ms=603
I0304 08:25:57.314410       1 gateway.go:562] latency, 0.0000, summary, hash(request), d32e315a, selectedpod, 10.0.3.28:8000, ttft, 437, tpot, 21, e2e, 628, numInputTokens, 3961, numOutputTokens, 10, numTotalTokens, 3971
I0304 08:25:57.314421       1 gateway.go:562] latency, 0.0000, summary, hash(request), c49a13a6, selectedpod, 10.0.3.28:8000, ttft, 607, tpot, 23, e2e, 818, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:25:57.314431       1 gateway.go:748] "Request completed" requestID="c77acc0c-05e2-4b2c-90a8-73c575cf8957" targetPod="10.0.3.28:8000" promptTokens=3961 completionTokens=10 totalTokens=3971
I0304 08:25:57.314445       1 gateway.go:764] "HandleResponseBody completed" requestID="c77acc0c-05e2-4b2c-90a8-73c575cf8957" promptTokens=3961 completionTokens=10 stream=true
I0304 08:25:57.314446       1 gateway.go:748] "Request completed" requestID="118221da-3436-45d4-a1b2-7c8e3b3c5424" targetPod="10.0.3.28:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:25:57.314462       1 gateway.go:764] "HandleResponseBody completed" requestID="118221da-3436-45d4-a1b2-7c8e3b3c5424" promptTokens=3966 completionTokens=10 stream=true
I0304 08:25:57.381402       1 gateway.go:608] "First token received" requestID="2de7f903-cc62-4851-853e-2404d092810d" ttft_ms=644
I0304 08:25:57.441194       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1d98c694, selectedpod, 10.0.0.13:8000, ttft, 603, tpot, 19, e2e, 779, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:25:57.441215       1 gateway.go:748] "Request completed" requestID="c0128da2-4a14-4414-a22b-c69582598640" targetPod="10.0.0.13:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:25:57.441228       1 gateway.go:764] "HandleResponseBody completed" requestID="c0128da2-4a14-4414-a22b-c69582598640" promptTokens=3965 completionTokens=10 stream=true
I0304 08:25:57.485674       1 gateway.go:207] "Processing request" requestID="3f92263c-9c81-4cbf-947c-ab958ce217f4"
I0304 08:25:57.485697       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3f92263c-9c81-4cbf-947c-ab958ce217f4"
I0304 08:25:57.485706       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:57.487879       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3f92263c-9c81-4cbf-947c-ab958ce217f4"
I0304 08:25:57.488014       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3f92263c-9c81-4cbf-947c-ab958ce217f4" model="deepseek-llm-7b-chat"
I0304 08:25:57.488065       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:57.488071       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:57.488075       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:57.488101       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:57.488110       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:57.488116       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:57.536862       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0487, numInputTokens, 3752
I0304 08:25:57.536887       1 tree.go:471] Updated node(0) last access: 115.0387 seconds
I0304 08:25:57.536913       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:57.536920       1 tree.go:471] Updated node(2) last access: 115.0388 seconds
I0304 08:25:57.536994       1 tree.go:516] latency, NewTreeNode, 0.0001 seconds, 3748 tokens:
I0304 08:25:57.537006       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:25:57.537015       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:25:57.537023       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:57.537029       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:57.537009917 +0000 UTC m=+115.157232343]
I0304 08:25:57.537053       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 4, Matching ratio: 0.0011, # Matched pods: 0, Matched pods: []
I0304 08:25:57.537067       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0011, len(matchedPods): 0)
I0304 08:25:57.537074       1 prefix_cache_and_load.go:226] numTokens: 3753, contextLength: 3757, targetGPU: V100
I0304 08:25:57.537079       1 prefix_cache_and_load.go:227] prefillTime: 1.1444 = (Base time(1.0300) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.537083       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1432 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1444) / numPods(1)
I0304 08:25:57.537089       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:57.537092       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.537096       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:57.537105       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:57.537108       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.537111       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0317) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:57.537116       1 prefix_cache_and_load.go:226] numTokens: 3747, contextLength: 3751, targetGPU: V100
I0304 08:25:57.537118       1 prefix_cache_and_load.go:227] prefillTime: 1.1426 = (Base time(1.0283) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.537122       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1426 = miss rate(1.0000) * nodeToCount(1) * prefillTime(1.1426) / numPods(1)
I0304 08:25:57.537127       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:57.537295       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.537305       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:57.537313       1 prefix_cache_and_load.go:226] numTokens: 3749, contextLength: 3753, targetGPU: V100
I0304 08:25:57.537316       1 prefix_cache_and_load.go:227] prefillTime: 1.1432 = (Base time(1.0289) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.537321       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1420 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1432) / numPods(1)
I0304 08:25:57.537327       1 prefix_cache_and_load.go:226] numTokens: 115, contextLength: 3748, targetGPU: V100
I0304 08:25:57.537330       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.537337       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0307) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:57.537347       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-bqwpb, Cost: 7.893197
I0304 08:25:57.537351       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-nh42j, Cost: 0.000000
I0304 08:25:57.537353       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-4hfjk, Cost: 13.564211
I0304 08:25:57.537354       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-2q5s7, Cost: 7.892605
I0304 08:25:57.537356       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-7z4pz, Cost: 7.891990
I0304 08:25:57.537358       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-h8g6d, Cost: 13.564147
I0304 08:25:57.537361       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-brzxp, Cost: 0.000000
I0304 08:25:57.537363       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-q5tzj, Cost: 0.000000
I0304 08:25:57.537369       1 prefix_cache_and_load.go:562] Lowest cost pod: deepseek-llm-7b-chat-86bd78f77c-nh42j
I0304 08:25:57.537377       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0003
I0304 08:25:57.537387       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.537394       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.537400       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.537412       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:57.537422       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:25:57.537433       1 prefix_cache_and_load.go:584] latency, Route, 0.0494
I0304 08:25:57.537447       1 gateway.go:415] latency, selectTargetPod, 0.0494, target pod, 10.0.1.53:8000
I0304 08:25:57.537461       1 gateway.go:235] latency, HandleRequestBody, 0.0496
I0304 08:25:57.547289       1 gateway.go:207] "Processing request" requestID="18d9af2e-5168-4ae8-9852-e1e14eed5a4c"
I0304 08:25:57.547324       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="18d9af2e-5168-4ae8-9852-e1e14eed5a4c"
I0304 08:25:57.547333       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:57.549767       1 gateway.go:608] "First token received" requestID="73381294-15c4-40f2-9b41-632fdb0f9a64" ttft_ms=609
I0304 08:25:57.556565       1 gateway.go:562] latency, 0.0000, summary, hash(request), c5884323, selectedpod, 10.0.3.38:8000, ttft, 644, tpot, 19, e2e, 819, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:25:57.556580       1 gateway.go:748] "Request completed" requestID="2de7f903-cc62-4851-853e-2404d092810d" targetPod="10.0.3.38:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:25:57.556591       1 gateway.go:764] "HandleResponseBody completed" requestID="2de7f903-cc62-4851-853e-2404d092810d" promptTokens=3972 completionTokens=10 stream=true
I0304 08:25:57.568557       1 gateway.go:608] "First token received" requestID="c3a23255-6c86-4cdc-b13a-1d18012ce1df" ttft_ms=560
I0304 08:25:57.583009       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3f92263c-9c81-4cbf-947c-ab958ce217f4"
I0304 08:25:57.594248       1 gateway.go:329] "-- In RequestBody processing ..." requestID="18d9af2e-5168-4ae8-9852-e1e14eed5a4c"
I0304 08:25:57.594400       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="18d9af2e-5168-4ae8-9852-e1e14eed5a4c" model="deepseek-llm-7b-chat"
I0304 08:25:57.594469       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:57.594477       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:57.594481       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:57.594498       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:57.594505       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:57.594518       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:57.641096       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0466, numInputTokens, 3750
I0304 08:25:57.641116       1 tree.go:471] Updated node(0) last access: 115.1430 seconds
I0304 08:25:57.641123       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:57.641127       1 tree.go:471] Updated node(2) last access: 115.1430 seconds
I0304 08:25:57.641157       1 tree.go:667] Split complete - New node(12)
I0304 08:25:57.641162       1 tree.go:668] Split complete - Child node(1)
I0304 08:25:57.641169       1 tree.go:501] latency, splitNode, 0.0000 seconds, 3746 tokens:
I0304 08:25:57.641174       1 tree.go:471] Updated node(12) last access: 115.1430 seconds
I0304 08:25:57.641180       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:25:57.641187       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3750 tokens
I0304 08:25:57.641194       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:25:57.641201       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:57.641208       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:57.641189643 +0000 UTC m=+115.261412072]
I0304 08:25:57.641229       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3633, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:25:57.641240       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:25:57.641259       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3633
I0304 08:25:57.641272       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:25:57.641282       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.641288       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.641296       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.641304       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.641316       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:57.641329       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:25:57.641345       1 prefix_cache_and_load.go:584] latency, Route, 0.0469
I0304 08:25:57.641357       1 gateway.go:415] latency, selectTargetPod, 0.0469, target pod, 10.0.0.6:8000
I0304 08:25:57.641371       1 gateway.go:235] latency, HandleRequestBody, 0.0471
I0304 08:25:57.646212       1 gateway.go:207] "Processing request" requestID="2dd13178-d7d8-4718-9ab6-0593cb992d67"
I0304 08:25:57.646245       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2dd13178-d7d8-4718-9ab6-0593cb992d67"
I0304 08:25:57.646253       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:57.659305       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="18d9af2e-5168-4ae8-9852-e1e14eed5a4c"
I0304 08:25:57.691892       1 gateway.go:608] "First token received" requestID="18d9af2e-5168-4ae8-9852-e1e14eed5a4c" ttft_ms=97
I0304 08:25:57.702001       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2dd13178-d7d8-4718-9ab6-0593cb992d67"
I0304 08:25:57.702141       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2dd13178-d7d8-4718-9ab6-0593cb992d67" model="deepseek-llm-7b-chat"
I0304 08:25:57.702204       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:57.702212       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:57.702215       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:57.702234       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:57.702243       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:57.702247       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:57.750548       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0483, numInputTokens, 3754
I0304 08:25:57.750587       1 tree.go:471] Updated node(0) last access: 115.2524 seconds
I0304 08:25:57.750596       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:57.750601       1 tree.go:471] Updated node(2) last access: 115.2525 seconds
I0304 08:25:57.750662       1 tree.go:516] latency, NewTreeNode, 0.0001 seconds, 3750 tokens:
I0304 08:25:57.750667       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:25:57.750676       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:25:57.750684       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:57.750691       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:57.75066959 +0000 UTC m=+115.370892017]
I0304 08:25:57.750718       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 4, Matching ratio: 0.0011, # Matched pods: 0, Matched pods: []
I0304 08:25:57.750728       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0011, len(matchedPods): 0)
I0304 08:25:57.750735       1 prefix_cache_and_load.go:226] numTokens: 118, contextLength: 3751, targetGPU: V100
I0304 08:25:57.750740       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.750746       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0623 = miss rate(1.0000) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:57.750752       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:57.750755       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.750766       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:57.750771       1 prefix_cache_and_load.go:226] numTokens: 115, contextLength: 3748, targetGPU: V100
I0304 08:25:57.750775       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.750779       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0307) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:57.750846       1 prefix_cache_and_load.go:226] numTokens: 3753, contextLength: 3757, targetGPU: V100
I0304 08:25:57.750852       1 prefix_cache_and_load.go:227] prefillTime: 1.1444 = (Base time(1.0300) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.750940       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1432 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1444) / numPods(1)
I0304 08:25:57.750965       1 prefix_cache_and_load.go:226] numTokens: 3748, contextLength: 3752, targetGPU: V100
I0304 08:25:57.750969       1 prefix_cache_and_load.go:227] prefillTime: 1.1429 = (Base time(1.0286) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.750983       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1417 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1429) / numPods(1)
I0304 08:25:57.750989       1 prefix_cache_and_load.go:226] numTokens: 3749, contextLength: 3753, targetGPU: V100
I0304 08:25:57.750992       1 prefix_cache_and_load.go:227] prefillTime: 1.1432 = (Base time(1.0289) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.750996       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1420 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1432) / numPods(1)
I0304 08:25:57.751008       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:57.751011       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.751014       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:57.751019       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:57.751021       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.751025       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0317) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:57.751032       1 prefix_cache_and_load.go:226] numTokens: 117, contextLength: 3750, targetGPU: V100
I0304 08:25:57.751035       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:57.751039       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0312) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:57.751048       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-2q5s7, Cost: 13.564245
I0304 08:25:57.751055       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-7z4pz, Cost: 7.891990
I0304 08:25:57.751057       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-h8g6d, Cost: 13.564147
I0304 08:25:57.751060       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-brzxp, Cost: 0.000000
I0304 08:25:57.751063       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-q5tzj, Cost: 0.000000
I0304 08:25:57.751066       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-bqwpb, Cost: 7.893197
I0304 08:25:57.751069       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-nh42j, Cost: 7.891688
I0304 08:25:57.751072       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-4hfjk, Cost: 13.564211
I0304 08:25:57.751086       1 prefix_cache_and_load.go:562] Lowest cost pod: deepseek-llm-7b-chat-86bd78f77c-brzxp
I0304 08:25:57.751093       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0004
I0304 08:25:57.751101       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.751107       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.751112       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:57.751122       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:57.751133       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:25:57.751150       1 prefix_cache_and_load.go:584] latency, Route, 0.0489
I0304 08:25:57.751161       1 gateway.go:415] latency, selectTargetPod, 0.0490, target pod, 10.0.1.47:8000
I0304 08:25:57.751175       1 gateway.go:235] latency, HandleRequestBody, 0.0492
I0304 08:25:57.760589       1 gateway.go:562] latency, 0.0000, summary, hash(request), 296bdfee, selectedpod, 10.0.0.34:8000, ttft, 609, tpot, 23, e2e, 820, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:25:57.760600       1 gateway.go:562] latency, 0.0000, summary, hash(request), 15b6f12a, selectedpod, 10.0.0.34:8000, ttft, 560, tpot, 21, e2e, 752, numInputTokens, 3964, numOutputTokens, 10, numTotalTokens, 3974
I0304 08:25:57.760613       1 gateway.go:748] "Request completed" requestID="73381294-15c4-40f2-9b41-632fdb0f9a64" targetPod="10.0.0.34:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:25:57.760620       1 gateway.go:748] "Request completed" requestID="c3a23255-6c86-4cdc-b13a-1d18012ce1df" targetPod="10.0.0.34:8000" promptTokens=3964 completionTokens=10 totalTokens=3974
I0304 08:25:57.760627       1 gateway.go:764] "HandleResponseBody completed" requestID="73381294-15c4-40f2-9b41-632fdb0f9a64" promptTokens=3965 completionTokens=10 stream=true
I0304 08:25:57.760632       1 gateway.go:764] "HandleResponseBody completed" requestID="c3a23255-6c86-4cdc-b13a-1d18012ce1df" promptTokens=3964 completionTokens=10 stream=true
I0304 08:25:57.796733       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2dd13178-d7d8-4718-9ab6-0593cb992d67"
I0304 08:25:57.867915       1 gateway.go:562] latency, 0.0000, summary, hash(request), 234bb53c, selectedpod, 10.0.0.6:8000, ttft, 97, tpot, 19, e2e, 273, numInputTokens, 3964, numOutputTokens, 10, numTotalTokens, 3974
I0304 08:25:57.867931       1 gateway.go:748] "Request completed" requestID="18d9af2e-5168-4ae8-9852-e1e14eed5a4c" targetPod="10.0.0.6:8000" promptTokens=3964 completionTokens=10 totalTokens=3974
I0304 08:25:57.867939       1 gateway.go:764] "HandleResponseBody completed" requestID="18d9af2e-5168-4ae8-9852-e1e14eed5a4c" promptTokens=3964 completionTokens=10 stream=true
I0304 08:25:57.955803       1 gateway.go:207] "Processing request" requestID="f6883b7b-cba4-4c89-bf21-d30bea1e325f"
I0304 08:25:57.955823       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f6883b7b-cba4-4c89-bf21-d30bea1e325f"
I0304 08:25:57.955830       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:58.004566       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f6883b7b-cba4-4c89-bf21-d30bea1e325f"
I0304 08:25:58.004706       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f6883b7b-cba4-4c89-bf21-d30bea1e325f" model="deepseek-llm-7b-chat"
I0304 08:25:58.004769       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:58.004776       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:58.004780       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:58.004816       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:58.004825       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:58.004831       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:58.050844       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0460, numInputTokens, 3757
I0304 08:25:58.050862       1 tree.go:471] Updated node(0) last access: 115.5527 seconds
I0304 08:25:58.050868       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:58.050872       1 tree.go:471] Updated node(2) last access: 115.5527 seconds
I0304 08:25:58.050881       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:25:58.050884       1 tree.go:471] Updated node(9) last access: 115.5527 seconds
I0304 08:25:58.050890       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:25:58.050895       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:25:58.050902       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:25:58.050908       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:25:58.050913       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:58.050897479 +0000 UTC m=+115.671119906]
I0304 08:25:58.050928       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:25:58.050935       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:25:58.050952       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3633
I0304 08:25:58.050961       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:25:58.050967       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.050983       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.050988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.050994       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.051002       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:58.051012       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:25:58.051021       1 prefix_cache_and_load.go:584] latency, Route, 0.0463
I0304 08:25:58.051031       1 gateway.go:415] latency, selectTargetPod, 0.0463, target pod, 10.0.0.34:8000
I0304 08:25:58.051041       1 gateway.go:235] latency, HandleRequestBody, 0.0465
I0304 08:25:58.069714       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f6883b7b-cba4-4c89-bf21-d30bea1e325f"
I0304 08:25:58.094082       1 gateway.go:608] "First token received" requestID="3f92263c-9c81-4cbf-947c-ab958ce217f4" ttft_ms=606
I0304 08:25:58.100912       1 gateway.go:207] "Processing request" requestID="96589e69-c133-43ac-8d1e-7319e985632d"
I0304 08:25:58.100939       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="96589e69-c133-43ac-8d1e-7319e985632d"
I0304 08:25:58.100948       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:58.114849       1 gateway.go:608] "First token received" requestID="f6883b7b-cba4-4c89-bf21-d30bea1e325f" ttft_ms=110
I0304 08:25:58.116136       1 gateway.go:329] "-- In RequestBody processing ..." requestID="96589e69-c133-43ac-8d1e-7319e985632d"
I0304 08:25:58.116257       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="96589e69-c133-43ac-8d1e-7319e985632d" model="deepseek-llm-7b-chat"
I0304 08:25:58.116301       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:58.116309       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:58.116312       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:58.116328       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:58.116336       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:58.116341       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:58.163933       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0476, numInputTokens, 3747
I0304 08:25:58.163961       1 tree.go:471] Updated node(0) last access: 115.6658 seconds
I0304 08:25:58.163971       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:58.163983       1 tree.go:471] Updated node(2) last access: 115.6658 seconds
I0304 08:25:58.163993       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:25:58.163998       1 tree.go:471] Updated node(5) last access: 115.6659 seconds
I0304 08:25:58.164019       1 tree.go:667] Split complete - New node(16)
I0304 08:25:58.164024       1 tree.go:668] Split complete - Child node(6)
I0304 08:25:58.164031       1 tree.go:501] latency, splitNode, 0.0000 seconds, 114 tokens:
I0304 08:25:58.164039       1 tree.go:471] Updated node(16) last access: 115.6659 seconds
I0304 08:25:58.164048       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:25:58.164055       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3747 tokens
I0304 08:25:58.164064       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3747 tokens
I0304 08:25:58.164073       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:58.164088       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:58.164057789 +0000 UTC m=+115.784280224]
I0304 08:25:58.164109       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3747, Matched tokens: 3635, Matching ratio: 0.9701, # Matched pods: 0, Matched pods: []
I0304 08:25:58.164120       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9701 > 0.5000)
I0304 08:25:58.164158       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3635
I0304 08:25:58.164172       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:25:58.164187       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.164195       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.164202       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.164208       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.164214       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.164228       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:58.164248       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:25:58.164266       1 prefix_cache_and_load.go:584] latency, Route, 0.0480
I0304 08:25:58.164280       1 gateway.go:415] latency, selectTargetPod, 0.0480, target pod, 10.0.3.28:8000
I0304 08:25:58.164293       1 gateway.go:235] latency, HandleRequestBody, 0.0482
I0304 08:25:58.179291       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="96589e69-c133-43ac-8d1e-7319e985632d"
I0304 08:25:58.210698       1 gateway.go:608] "First token received" requestID="96589e69-c133-43ac-8d1e-7319e985632d" ttft_ms=94
I0304 08:25:58.269271       1 gateway.go:562] latency, 0.0000, summary, hash(request), 00733268, selectedpod, 10.0.1.53:8000, ttft, 606, tpot, 19, e2e, 781, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:25:58.269288       1 gateway.go:748] "Request completed" requestID="3f92263c-9c81-4cbf-947c-ab958ce217f4" targetPod="10.0.1.53:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:25:58.269299       1 gateway.go:764] "HandleResponseBody completed" requestID="3f92263c-9c81-4cbf-947c-ab958ce217f4" promptTokens=3970 completionTokens=10 stream=true
I0304 08:25:58.284296       1 gateway.go:207] "Processing request" requestID="f7a0d119-076d-4cf5-8358-5269cd159c2d"
I0304 08:25:58.284317       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f7a0d119-076d-4cf5-8358-5269cd159c2d"
I0304 08:25:58.284324       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:58.290299       1 gateway.go:562] latency, 0.0000, summary, hash(request), d855ee0d, selectedpod, 10.0.0.34:8000, ttft, 110, tpot, 19, e2e, 285, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:25:58.290313       1 gateway.go:748] "Request completed" requestID="f6883b7b-cba4-4c89-bf21-d30bea1e325f" targetPod="10.0.0.34:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:25:58.290320       1 gateway.go:764] "HandleResponseBody completed" requestID="f6883b7b-cba4-4c89-bf21-d30bea1e325f" promptTokens=3970 completionTokens=10 stream=true
I0304 08:25:58.301297       1 gateway.go:608] "First token received" requestID="2dd13178-d7d8-4718-9ab6-0593cb992d67" ttft_ms=599
I0304 08:25:58.355372       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f7a0d119-076d-4cf5-8358-5269cd159c2d"
I0304 08:25:58.355485       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f7a0d119-076d-4cf5-8358-5269cd159c2d" model="deepseek-llm-7b-chat"
I0304 08:25:58.355541       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:58.355547       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:58.355550       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:58.355570       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:58.355579       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:58.355584       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:58.386147       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5114a0af, selectedpod, 10.0.3.28:8000, ttft, 94, tpot, 19, e2e, 269, numInputTokens, 3958, numOutputTokens, 10, numTotalTokens, 3968
I0304 08:25:58.386167       1 gateway.go:748] "Request completed" requestID="96589e69-c133-43ac-8d1e-7319e985632d" targetPod="10.0.3.28:8000" promptTokens=3958 completionTokens=10 totalTokens=3968
I0304 08:25:58.386179       1 gateway.go:764] "HandleResponseBody completed" requestID="96589e69-c133-43ac-8d1e-7319e985632d" promptTokens=3958 completionTokens=10 stream=true
I0304 08:25:58.401018       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0454, numInputTokens, 3757
I0304 08:25:58.401033       1 tree.go:471] Updated node(0) last access: 115.9029 seconds
I0304 08:25:58.401039       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:58.401042       1 tree.go:471] Updated node(2) last access: 115.9029 seconds
I0304 08:25:58.401051       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:25:58.401054       1 tree.go:471] Updated node(12) last access: 115.9029 seconds
I0304 08:25:58.401058       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:25:58.401064       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:25:58.401070       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:25:58.401077       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:25:58.401082       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:58.401066399 +0000 UTC m=+116.021288824]
I0304 08:25:58.401096       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:25:58.401103       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:25:58.401120       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3633
I0304 08:25:58.401129       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:25:58.401136       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.401141       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.401146       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.401152       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.401159       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:58.401168       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:25:58.401178       1 prefix_cache_and_load.go:584] latency, Route, 0.0456
I0304 08:25:58.401185       1 gateway.go:415] latency, selectTargetPod, 0.0456, target pod, 10.0.0.6:8000
I0304 08:25:58.401195       1 gateway.go:235] latency, HandleRequestBody, 0.0458
I0304 08:25:58.418197       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f7a0d119-076d-4cf5-8358-5269cd159c2d"
I0304 08:25:58.462852       1 gateway.go:608] "First token received" requestID="f7a0d119-076d-4cf5-8358-5269cd159c2d" ttft_ms=107
I0304 08:25:58.476257       1 gateway.go:562] latency, 0.0000, summary, hash(request), 49cbd539, selectedpod, 10.0.1.47:8000, ttft, 599, tpot, 19, e2e, 774, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:25:58.476276       1 gateway.go:748] "Request completed" requestID="2dd13178-d7d8-4718-9ab6-0593cb992d67" targetPod="10.0.1.47:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:25:58.476288       1 gateway.go:764] "HandleResponseBody completed" requestID="2dd13178-d7d8-4718-9ab6-0593cb992d67" promptTokens=3968 completionTokens=10 stream=true
I0304 08:25:58.638483       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6e14def0, selectedpod, 10.0.0.6:8000, ttft, 107, tpot, 19, e2e, 283, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:25:58.638500       1 gateway.go:748] "Request completed" requestID="f7a0d119-076d-4cf5-8358-5269cd159c2d" targetPod="10.0.0.6:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:25:58.638518       1 gateway.go:764] "HandleResponseBody completed" requestID="f7a0d119-076d-4cf5-8358-5269cd159c2d" promptTokens=3970 completionTokens=10 stream=true
I0304 08:25:58.796855       1 gateway.go:207] "Processing request" requestID="0ba005ac-a238-4d3c-85a2-f33ece971054"
I0304 08:25:58.796873       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0ba005ac-a238-4d3c-85a2-f33ece971054"
I0304 08:25:58.796880       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:58.851353       1 gateway.go:207] "Processing request" requestID="aa0273c9-69bb-4fb1-8437-e08d08fc8029"
I0304 08:25:58.851380       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="aa0273c9-69bb-4fb1-8437-e08d08fc8029"
I0304 08:25:58.851389       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:58.854853       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0ba005ac-a238-4d3c-85a2-f33ece971054"
I0304 08:25:58.854968       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0ba005ac-a238-4d3c-85a2-f33ece971054" model="deepseek-llm-7b-chat"
I0304 08:25:58.855018       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:58.855024       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:58.855028       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:58.855047       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:58.855057       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:58.855061       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:58.887126       1 gateway.go:329] "-- In RequestBody processing ..." requestID="aa0273c9-69bb-4fb1-8437-e08d08fc8029"
I0304 08:25:58.887263       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="aa0273c9-69bb-4fb1-8437-e08d08fc8029" model="deepseek-llm-7b-chat"
I0304 08:25:58.888663       1 gateway.go:207] "Processing request" requestID="2322ec06-e979-4c92-a622-02b3fac52688"
I0304 08:25:58.888705       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2322ec06-e979-4c92-a622-02b3fac52688"
I0304 08:25:58.888718       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:58.905909       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0508, numInputTokens, 3754
I0304 08:25:58.905935       1 tree.go:471] Updated node(0) last access: 116.4078 seconds
I0304 08:25:58.905944       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:58.905952       1 tree.go:471] Updated node(2) last access: 116.4078 seconds
I0304 08:25:58.905965       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:25:58.905970       1 tree.go:471] Updated node(5) last access: 116.4078 seconds
I0304 08:25:58.905984       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:25:58.905992       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:25:58.906002       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:25:58.906012       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:58.906020       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:58.905995186 +0000 UTC m=+116.526217637]
I0304 08:25:58.906043       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:25:58.906056       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:25:58.906084       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3633
I0304 08:25:58.906100       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:25:58.906112       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.906124       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.906132       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.906140       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.906160       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:58.906175       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:25:58.906191       1 prefix_cache_and_load.go:584] latency, Route, 0.0512
I0304 08:25:58.906216       1 gateway.go:415] latency, selectTargetPod, 0.0512, target pod, 10.0.3.28:8000
I0304 08:25:58.906231       1 gateway.go:235] latency, HandleRequestBody, 0.0514
I0304 08:25:58.906267       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0190
I0304 08:25:58.906276       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:58.906280       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:58.906306       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:58.906320       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:58.906326       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:58.920875       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0ba005ac-a238-4d3c-85a2-f33ece971054"
I0304 08:25:58.937933       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2322ec06-e979-4c92-a622-02b3fac52688"
I0304 08:25:58.938067       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2322ec06-e979-4c92-a622-02b3fac52688" model="deepseek-llm-7b-chat"
I0304 08:25:58.953002       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0467, numInputTokens, 3749
I0304 08:25:58.953018       1 tree.go:471] Updated node(0) last access: 116.4549 seconds
I0304 08:25:58.953025       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:58.953031       1 tree.go:471] Updated node(2) last access: 116.4549 seconds
I0304 08:25:58.953052       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 3745 tokens:
I0304 08:25:58.953058       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3749 tokens
I0304 08:25:58.953064       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3749 tokens
I0304 08:25:58.953071       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:58.953077       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:58.953059864 +0000 UTC m=+116.573282289]
I0304 08:25:58.953090       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3749, Matched tokens: 4, Matching ratio: 0.0011, # Matched pods: 0, Matched pods: []
I0304 08:25:58.953100       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0011, len(matchedPods): 0)
I0304 08:25:58.953109       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 3754, targetGPU: V100
I0304 08:25:58.953114       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953132       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0322) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:58.953137       1 prefix_cache_and_load.go:226] numTokens: 3749, contextLength: 3753, targetGPU: V100
I0304 08:25:58.953141       1 prefix_cache_and_load.go:227] prefillTime: 1.1432 = (Base time(1.0289) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953144       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1420 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1432) / numPods(1)
I0304 08:25:58.953148       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:58.953151       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953154       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:58.953159       1 prefix_cache_and_load.go:226] numTokens: 3753, contextLength: 3757, targetGPU: V100
I0304 08:25:58.953161       1 prefix_cache_and_load.go:227] prefillTime: 1.1444 = (Base time(1.0300) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953166       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1432 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1444) / numPods(1)
I0304 08:25:58.953172       1 prefix_cache_and_load.go:226] numTokens: 3748, contextLength: 3752, targetGPU: V100
I0304 08:25:58.953176       1 prefix_cache_and_load.go:227] prefillTime: 1.1429 = (Base time(1.0286) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953180       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1417 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1429) / numPods(1)
I0304 08:25:58.953184       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 3757, targetGPU: V100
I0304 08:25:58.953188       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953192       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0021 = miss rate(0.0330) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:58.953198       1 prefix_cache_and_load.go:226] numTokens: 118, contextLength: 3751, targetGPU: V100
I0304 08:25:58.953203       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953206       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0623 = miss rate(1.0000) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:58.953211       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:58.953214       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953217       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:58.953221       1 prefix_cache_and_load.go:226] numTokens: 3750, contextLength: 3754, targetGPU: V100
I0304 08:25:58.953223       1 prefix_cache_and_load.go:227] prefillTime: 1.1435 = (Base time(1.0292) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953227       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1423 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1435) / numPods(1)
I0304 08:25:58.953230       1 prefix_cache_and_load.go:226] numTokens: 112, contextLength: 3747, targetGPU: V100
I0304 08:25:58.953232       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953236       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0299) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:58.953240       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 3757, targetGPU: V100
I0304 08:25:58.953242       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953245       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0021 = miss rate(0.0330) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:58.953249       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:58.953252       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953255       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0317) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:58.953259       1 prefix_cache_and_load.go:226] numTokens: 117, contextLength: 3750, targetGPU: V100
I0304 08:25:58.953262       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953266       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0312) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:58.953271       1 prefix_cache_and_load.go:226] numTokens: 113, contextLength: 3748, targetGPU: V100
I0304 08:25:58.953275       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:58.953279       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0307) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:58.953289       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-brzxp, Cost: 7.892292
I0304 08:25:58.953295       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-q5tzj, Cost: 0.000000
I0304 08:25:58.953298       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-bqwpb, Cost: 7.893197
I0304 08:25:58.953302       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-nh42j, Cost: 7.891688
I0304 08:25:58.953305       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-4hfjk, Cost: 20.316267
I0304 08:25:58.953307       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-2q5s7, Cost: 20.316301
I0304 08:25:58.953309       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-7z4pz, Cost: 7.891990
I0304 08:25:58.953312       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-h8g6d, Cost: 27.068017
I0304 08:25:58.953319       1 prefix_cache_and_load.go:562] Lowest cost pod: deepseek-llm-7b-chat-86bd78f77c-q5tzj
I0304 08:25:58.953327       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0002
I0304 08:25:58.953334       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.953342       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.953349       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:58.953358       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:58.953367       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:25:58.953376       1 prefix_cache_and_load.go:584] latency, Route, 0.0661
I0304 08:25:58.953389       1 gateway.go:415] latency, selectTargetPod, 0.0661, target pod, 10.0.1.33:8000
I0304 08:25:58.953399       1 gateway.go:235] latency, HandleRequestBody, 0.0663
I0304 08:25:58.953404       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0153
I0304 08:25:58.953418       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:58.953425       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:58.953462       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:58.953477       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:58.953482       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:58.965960       1 gateway.go:608] "First token received" requestID="0ba005ac-a238-4d3c-85a2-f33ece971054" ttft_ms=111
I0304 08:25:58.974016       1 gateway.go:207] "Processing request" requestID="26799d41-b278-4ed1-8143-4d900a340e16"
I0304 08:25:58.974051       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="26799d41-b278-4ed1-8143-4d900a340e16"
I0304 08:25:58.974059       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:58.994029       1 gateway.go:329] "-- In RequestBody processing ..." requestID="26799d41-b278-4ed1-8143-4d900a340e16"
I0304 08:25:58.994158       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="26799d41-b278-4ed1-8143-4d900a340e16" model="deepseek-llm-7b-chat"
I0304 08:25:59.000354       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="aa0273c9-69bb-4fb1-8437-e08d08fc8029"
I0304 08:25:59.017303       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0638, numInputTokens, 3757
I0304 08:25:59.017321       1 tree.go:471] Updated node(0) last access: 116.5192 seconds
I0304 08:25:59.017327       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:59.017330       1 tree.go:471] Updated node(2) last access: 116.5192 seconds
I0304 08:25:59.017342       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 3753 tokens:
I0304 08:25:59.017347       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:25:59.017353       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:25:59.017360       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:25:59.017366       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:59.017349365 +0000 UTC m=+116.637571791]
I0304 08:25:59.017380       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 4, Matching ratio: 0.0011, # Matched pods: 0, Matched pods: []
I0304 08:25:59.017389       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0011, len(matchedPods): 0)
I0304 08:25:59.017397       1 prefix_cache_and_load.go:226] numTokens: 3750, contextLength: 3754, targetGPU: V100
I0304 08:25:59.017400       1 prefix_cache_and_load.go:227] prefillTime: 1.1435 = (Base time(1.0292) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017404       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1423 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1435) / numPods(1)
I0304 08:25:59.017410       1 prefix_cache_and_load.go:226] numTokens: 112, contextLength: 3747, targetGPU: V100
I0304 08:25:59.017412       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017417       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0299) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:59.017421       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 3757, targetGPU: V100
I0304 08:25:59.017429       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017432       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0021 = miss rate(0.0330) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:59.017436       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:59.017439       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017442       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0317) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:59.017446       1 prefix_cache_and_load.go:226] numTokens: 117, contextLength: 3750, targetGPU: V100
I0304 08:25:59.017448       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017452       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0312) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:59.017457       1 prefix_cache_and_load.go:226] numTokens: 113, contextLength: 3748, targetGPU: V100
I0304 08:25:59.017460       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017463       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0307) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:59.017467       1 prefix_cache_and_load.go:226] numTokens: 121, contextLength: 3754, targetGPU: V100
I0304 08:25:59.017469       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017472       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0322) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:59.017476       1 prefix_cache_and_load.go:226] numTokens: 3749, contextLength: 3753, targetGPU: V100
I0304 08:25:59.017479       1 prefix_cache_and_load.go:227] prefillTime: 1.1432 = (Base time(1.0289) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017483       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1420 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1432) / numPods(1)
I0304 08:25:59.017487       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:59.017489       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017493       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:59.017496       1 prefix_cache_and_load.go:226] numTokens: 3753, contextLength: 3757, targetGPU: V100
I0304 08:25:59.017499       1 prefix_cache_and_load.go:227] prefillTime: 1.1444 = (Base time(1.0300) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017503       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1432 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1444) / numPods(1)
I0304 08:25:59.017507       1 prefix_cache_and_load.go:226] numTokens: 3748, contextLength: 3752, targetGPU: V100
I0304 08:25:59.017517       1 prefix_cache_and_load.go:227] prefillTime: 1.1429 = (Base time(1.0286) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017521       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1417 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1429) / numPods(1)
I0304 08:25:59.017525       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 3757, targetGPU: V100
I0304 08:25:59.017528       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017531       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0021 = miss rate(0.0330) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:59.017537       1 prefix_cache_and_load.go:226] numTokens: 3745, contextLength: 3749, targetGPU: V100
I0304 08:25:59.017540       1 prefix_cache_and_load.go:227] prefillTime: 1.1420 = (Base time(1.0278) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017544       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1408 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1420) / numPods(1)
I0304 08:25:59.017547       1 prefix_cache_and_load.go:226] numTokens: 118, contextLength: 3751, targetGPU: V100
I0304 08:25:59.017550       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017554       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0623 = miss rate(1.0000) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:59.017558       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:25:59.017560       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:25:59.017564       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:25:59.017571       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-h8g6d, Cost: 27.068017
I0304 08:25:59.017575       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-brzxp, Cost: 7.892292
I0304 08:25:59.017580       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-q5tzj, Cost: 7.890783
I0304 08:25:59.017583       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-bqwpb, Cost: 7.893197
I0304 08:25:59.017585       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-nh42j, Cost: 7.891688
I0304 08:25:59.017587       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-4hfjk, Cost: 20.316267
I0304 08:25:59.017589       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-2q5s7, Cost: 20.316301
I0304 08:25:59.017591       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-7z4pz, Cost: 7.891990
I0304 08:25:59.017596       1 prefix_cache_and_load.go:562] Lowest cost pod: deepseek-llm-7b-chat-86bd78f77c-q5tzj
I0304 08:25:59.017603       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0002
I0304 08:25:59.017612       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.017618       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.017622       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.017632       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:59.017641       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:25:59.017653       1 prefix_cache_and_load.go:584] latency, Route, 0.0795
I0304 08:25:59.017665       1 gateway.go:415] latency, selectTargetPod, 0.0796, target pod, 10.0.1.33:8000
I0304 08:25:59.017676       1 gateway.go:235] latency, HandleRequestBody, 0.0797
I0304 08:25:59.017698       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0235
I0304 08:25:59.017703       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:59.017706       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:59.017722       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:59.017732       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:59.017737       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:59.034985       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2322ec06-e979-4c92-a622-02b3fac52688"
I0304 08:25:59.062233       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0445, numInputTokens, 3753
I0304 08:25:59.062247       1 tree.go:471] Updated node(0) last access: 116.5641 seconds
I0304 08:25:59.062254       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:59.062257       1 tree.go:471] Updated node(2) last access: 116.5641 seconds
I0304 08:25:59.062279       1 tree.go:667] Split complete - New node(22)
I0304 08:25:59.062283       1 tree.go:668] Split complete - Child node(20)
I0304 08:25:59.062291       1 tree.go:501] latency, splitNode, 0.0000 seconds, 3749 tokens:
I0304 08:25:59.062297       1 tree.go:471] Updated node(22) last access: 116.5642 seconds
I0304 08:25:59.062301       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:25:59.062306       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:25:59.062312       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:25:59.062319       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:59.062323       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:59.0623084 +0000 UTC m=+116.682530827]
I0304 08:25:59.062337       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3633, Matching ratio: 0.9680, # Matched pods: 0, Matched pods: []
I0304 08:25:59.062343       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9680 > 0.5000)
I0304 08:25:59.062361       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:25:59.062377       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:25:59.062385       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.062391       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.062396       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.062406       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.062415       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:59.062425       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:25:59.062434       1 prefix_cache_and_load.go:584] latency, Route, 0.0682
I0304 08:25:59.062447       1 gateway.go:415] latency, selectTargetPod, 0.0682, target pod, 10.0.1.33:8000
I0304 08:25:59.062455       1 gateway.go:235] latency, HandleRequestBody, 0.0684
I0304 08:25:59.079592       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="26799d41-b278-4ed1-8143-4d900a340e16"
I0304 08:25:59.141722       1 gateway.go:562] latency, 0.0000, summary, hash(request), abbe23d6, selectedpod, 10.0.3.28:8000, ttft, 111, tpot, 19, e2e, 286, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:25:59.141742       1 gateway.go:748] "Request completed" requestID="0ba005ac-a238-4d3c-85a2-f33ece971054" targetPod="10.0.3.28:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:25:59.141754       1 gateway.go:764] "HandleResponseBody completed" requestID="0ba005ac-a238-4d3c-85a2-f33ece971054" promptTokens=3969 completionTokens=10 stream=true
I0304 08:25:59.185626       1 gateway.go:207] "Processing request" requestID="8e6d5e60-9bdc-44ba-bc7f-5d0d9b2d409e"
I0304 08:25:59.185649       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8e6d5e60-9bdc-44ba-bc7f-5d0d9b2d409e"
I0304 08:25:59.185657       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:59.257410       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8e6d5e60-9bdc-44ba-bc7f-5d0d9b2d409e"
I0304 08:25:59.257554       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8e6d5e60-9bdc-44ba-bc7f-5d0d9b2d409e" model="deepseek-llm-7b-chat"
I0304 08:25:59.257599       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:59.257606       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:59.257609       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:59.257632       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:59.257642       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:59.257647       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:59.307583       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 3756
I0304 08:25:59.307604       1 tree.go:471] Updated node(0) last access: 116.8095 seconds
I0304 08:25:59.307610       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:59.307614       1 tree.go:471] Updated node(2) last access: 116.8095 seconds
I0304 08:25:59.307640       1 tree.go:667] Split complete - New node(24)
I0304 08:25:59.307645       1 tree.go:668] Split complete - Child node(11)
I0304 08:25:59.307650       1 tree.go:501] latency, splitNode, 0.0000 seconds, 3752 tokens:
I0304 08:25:59.307655       1 tree.go:471] Updated node(24) last access: 116.8095 seconds
I0304 08:25:59.307660       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:25:59.307664       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:25:59.307670       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:25:59.307677       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:59.307684       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:59.307666686 +0000 UTC m=+116.927889123]
I0304 08:25:59.307700       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:25:59.307706       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:25:59.307726       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3633
I0304 08:25:59.307734       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:25:59.307741       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.307746       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.307752       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.307757       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.307765       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:59.307775       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:25:59.307785       1 prefix_cache_and_load.go:584] latency, Route, 0.0502
I0304 08:25:59.307792       1 gateway.go:415] latency, selectTargetPod, 0.0502, target pod, 10.0.1.53:8000
I0304 08:25:59.307802       1 gateway.go:235] latency, HandleRequestBody, 0.0504
I0304 08:25:59.325642       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8e6d5e60-9bdc-44ba-bc7f-5d0d9b2d409e"
I0304 08:25:59.372693       1 gateway.go:608] "First token received" requestID="8e6d5e60-9bdc-44ba-bc7f-5d0d9b2d409e" ttft_ms=115
I0304 08:25:59.487141       1 gateway.go:207] "Processing request" requestID="a7a50bfd-013d-40a0-9bb3-d213f31b9f22"
I0304 08:25:59.487170       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a7a50bfd-013d-40a0-9bb3-d213f31b9f22"
I0304 08:25:59.487178       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:59.515305       1 gateway.go:608] "First token received" requestID="aa0273c9-69bb-4fb1-8437-e08d08fc8029" ttft_ms=628
I0304 08:25:59.530303       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a7a50bfd-013d-40a0-9bb3-d213f31b9f22"
I0304 08:25:59.532642       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a7a50bfd-013d-40a0-9bb3-d213f31b9f22" model="deepseek-llm-7b-chat"
I0304 08:25:59.532686       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:59.532694       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:59.532697       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:59.532722       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:59.532731       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:59.532735       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:59.548310       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7f2e5228, selectedpod, 10.0.1.53:8000, ttft, 115, tpot, 19, e2e, 290, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:25:59.548334       1 gateway.go:748] "Request completed" requestID="8e6d5e60-9bdc-44ba-bc7f-5d0d9b2d409e" targetPod="10.0.1.53:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:25:59.548352       1 gateway.go:764] "HandleResponseBody completed" requestID="8e6d5e60-9bdc-44ba-bc7f-5d0d9b2d409e" promptTokens=3969 completionTokens=10 stream=true
I0304 08:25:59.579933       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0472, numInputTokens, 3751
I0304 08:25:59.579951       1 tree.go:471] Updated node(0) last access: 117.0818 seconds
I0304 08:25:59.579957       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:59.579960       1 tree.go:471] Updated node(2) last access: 117.0818 seconds
I0304 08:25:59.580005       1 tree.go:667] Split complete - New node(26)
I0304 08:25:59.580011       1 tree.go:668] Split complete - Child node(7)
I0304 08:25:59.580017       1 tree.go:501] latency, splitNode, 0.0000 seconds, 3747 tokens:
I0304 08:25:59.580022       1 tree.go:471] Updated node(26) last access: 117.0819 seconds
I0304 08:25:59.580028       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:25:59.580033       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:25:59.580038       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:25:59.580044       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:59.580052       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:59.580035323 +0000 UTC m=+117.200257749]
I0304 08:25:59.580073       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3633, Matching ratio: 0.9685, # Matched pods: 0, Matched pods: []
I0304 08:25:59.580082       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9685 > 0.5000)
I0304 08:25:59.580109       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3633
I0304 08:25:59.580120       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:25:59.580127       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.580133       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.580140       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.580149       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.580161       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:59.580171       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:25:59.580185       1 prefix_cache_and_load.go:584] latency, Route, 0.0475
I0304 08:25:59.580197       1 gateway.go:415] latency, selectTargetPod, 0.0475, target pod, 10.0.3.38:8000
I0304 08:25:59.580212       1 gateway.go:235] latency, HandleRequestBody, 0.0499
I0304 08:25:59.595470       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a7a50bfd-013d-40a0-9bb3-d213f31b9f22"
I0304 08:25:59.629248       1 gateway.go:608] "First token received" requestID="a7a50bfd-013d-40a0-9bb3-d213f31b9f22" ttft_ms=98
I0304 08:25:59.805420       1 gateway.go:562] latency, 0.0000, summary, hash(request), 14ebe875, selectedpod, 10.0.3.38:8000, ttft, 98, tpot, 19, e2e, 275, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:25:59.805439       1 gateway.go:748] "Request completed" requestID="a7a50bfd-013d-40a0-9bb3-d213f31b9f22" targetPod="10.0.3.38:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:25:59.805449       1 gateway.go:764] "HandleResponseBody completed" requestID="a7a50bfd-013d-40a0-9bb3-d213f31b9f22" promptTokens=3967 completionTokens=10 stream=true
I0304 08:25:59.901067       1 gateway.go:207] "Processing request" requestID="21785459-ffbf-4406-8e82-072289940123"
I0304 08:25:59.901098       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="21785459-ffbf-4406-8e82-072289940123"
I0304 08:25:59.901107       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:25:59.949008       1 gateway.go:329] "-- In RequestBody processing ..." requestID="21785459-ffbf-4406-8e82-072289940123"
I0304 08:25:59.949154       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="21785459-ffbf-4406-8e82-072289940123" model="deepseek-llm-7b-chat"
I0304 08:25:59.949214       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:25:59.949222       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:25:59.949225       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:25:59.949259       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:25:59.949270       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:25:59.949275       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:25:59.998176       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0489, numInputTokens, 3756
I0304 08:25:59.998198       1 tree.go:471] Updated node(0) last access: 117.5001 seconds
I0304 08:25:59.998205       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:25:59.998210       1 tree.go:471] Updated node(2) last access: 117.5001 seconds
I0304 08:25:59.998221       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:25:59.998224       1 tree.go:471] Updated node(22) last access: 117.5001 seconds
I0304 08:25:59.998230       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:25:59.998236       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:25:59.998244       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:25:59.998249       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:25:59.998254       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:25:59.998238755 +0000 UTC m=+117.618461179]
I0304 08:25:59.998269       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:25:59.998275       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:25:59.998301       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:25:59.998311       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:25:59.998319       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.998324       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.998327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.998332       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:25:59.998341       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:25:59.998349       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:25:59.998384       1 prefix_cache_and_load.go:584] latency, Route, 0.0492
I0304 08:25:59.998393       1 gateway.go:415] latency, selectTargetPod, 0.0492, target pod, 10.0.1.33:8000
I0304 08:25:59.998403       1 gateway.go:235] latency, HandleRequestBody, 0.0494
I0304 08:26:00.016013       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="21785459-ffbf-4406-8e82-072289940123"
I0304 08:26:00.022587       1 gateway.go:608] "First token received" requestID="2322ec06-e979-4c92-a622-02b3fac52688" ttft_ms=1084
I0304 08:26:00.049173       1 gateway.go:608] "First token received" requestID="26799d41-b278-4ed1-8143-4d900a340e16" ttft_ms=1055
I0304 08:26:00.083755       1 gateway.go:608] "First token received" requestID="21785459-ffbf-4406-8e82-072289940123" ttft_ms=134
I0304 08:26:00.319068       1 gateway.go:562] latency, 0.0000, summary, hash(request), 700b7414, selectedpod, 10.0.1.33:8000, ttft, 1055, tpot, 29, e2e, 1324, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:00.319068       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9d25c77e, selectedpod, 10.0.1.33:8000, ttft, 134, tpot, 26, e2e, 370, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:00.319092       1 gateway.go:748] "Request completed" requestID="26799d41-b278-4ed1-8143-4d900a340e16" targetPod="10.0.1.33:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:00.319108       1 gateway.go:764] "HandleResponseBody completed" requestID="26799d41-b278-4ed1-8143-4d900a340e16" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:00.319107       1 gateway.go:748] "Request completed" requestID="21785459-ffbf-4406-8e82-072289940123" targetPod="10.0.1.33:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:00.319124       1 gateway.go:764] "HandleResponseBody completed" requestID="21785459-ffbf-4406-8e82-072289940123" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:00.319249       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7ad2c5d2, selectedpod, 10.0.1.33:8000, ttft, 628, tpot, 89, e2e, 1432, numInputTokens, 3962, numOutputTokens, 10, numTotalTokens, 3972
I0304 08:26:00.319254       1 gateway.go:562] latency, 0.0000, summary, hash(request), ef65740e, selectedpod, 10.0.1.33:8000, ttft, 1084, tpot, 32, e2e, 1381, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:00.319266       1 gateway.go:748] "Request completed" requestID="aa0273c9-69bb-4fb1-8437-e08d08fc8029" targetPod="10.0.1.33:8000" promptTokens=3962 completionTokens=10 totalTokens=3972
I0304 08:26:00.319273       1 gateway.go:748] "Request completed" requestID="2322ec06-e979-4c92-a622-02b3fac52688" targetPod="10.0.1.33:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:00.319275       1 gateway.go:764] "HandleResponseBody completed" requestID="aa0273c9-69bb-4fb1-8437-e08d08fc8029" promptTokens=3962 completionTokens=10 stream=true
I0304 08:26:00.319286       1 gateway.go:764] "HandleResponseBody completed" requestID="2322ec06-e979-4c92-a622-02b3fac52688" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:00.668664       1 gateway.go:207] "Processing request" requestID="3758f502-beac-48a1-b0aa-512fbf7d1a66"
I0304 08:26:00.668700       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3758f502-beac-48a1-b0aa-512fbf7d1a66"
I0304 08:26:00.668708       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:00.732149       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3758f502-beac-48a1-b0aa-512fbf7d1a66"
I0304 08:26:00.732278       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3758f502-beac-48a1-b0aa-512fbf7d1a66" model="deepseek-llm-7b-chat"
I0304 08:26:00.732331       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:00.732337       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:00.732341       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:00.732383       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:00.732400       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:00.732404       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:00.782711       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0503, numInputTokens, 3755
I0304 08:26:00.782734       1 tree.go:471] Updated node(0) last access: 118.2846 seconds
I0304 08:26:00.782740       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:00.782744       1 tree.go:471] Updated node(2) last access: 118.2846 seconds
I0304 08:26:00.782753       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:00.782758       1 tree.go:471] Updated node(24) last access: 118.2846 seconds
I0304 08:26:00.782766       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:00.782773       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:00.782782       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:00.782789       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:00.782796       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:00.782775958 +0000 UTC m=+118.402998395]
I0304 08:26:00.782815       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3633, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:00.782824       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:00.782849       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3633
I0304 08:26:00.782860       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:00.782868       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:00.782874       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:00.782878       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:00.782883       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:00.782893       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:00.782903       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:00.782912       1 prefix_cache_and_load.go:584] latency, Route, 0.0506
I0304 08:26:00.782921       1 gateway.go:415] latency, selectTargetPod, 0.0506, target pod, 10.0.1.53:8000
I0304 08:26:00.782936       1 gateway.go:235] latency, HandleRequestBody, 0.0508
I0304 08:26:00.801250       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3758f502-beac-48a1-b0aa-512fbf7d1a66"
I0304 08:26:00.846606       1 gateway.go:608] "First token received" requestID="3758f502-beac-48a1-b0aa-512fbf7d1a66" ttft_ms=114
I0304 08:26:00.996272       1 gateway.go:207] "Processing request" requestID="d80d782a-301a-45ee-8a09-410f2d1be430"
I0304 08:26:00.996295       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d80d782a-301a-45ee-8a09-410f2d1be430"
I0304 08:26:00.996302       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:01.022193       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1242ad58, selectedpod, 10.0.1.53:8000, ttft, 114, tpot, 19, e2e, 290, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:01.022209       1 gateway.go:748] "Request completed" requestID="3758f502-beac-48a1-b0aa-512fbf7d1a66" targetPod="10.0.1.53:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:01.022220       1 gateway.go:764] "HandleResponseBody completed" requestID="3758f502-beac-48a1-b0aa-512fbf7d1a66" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:01.045908       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d80d782a-301a-45ee-8a09-410f2d1be430"
I0304 08:26:01.046043       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d80d782a-301a-45ee-8a09-410f2d1be430" model="deepseek-llm-7b-chat"
I0304 08:26:01.046102       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:01.046111       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:01.046116       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:01.046160       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:01.046176       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:01.046184       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:01.093314       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0471, numInputTokens, 3746
I0304 08:26:01.093333       1 tree.go:471] Updated node(0) last access: 118.5952 seconds
I0304 08:26:01.093340       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:01.093343       1 tree.go:471] Updated node(2) last access: 118.5952 seconds
I0304 08:26:01.093370       1 tree.go:667] Split complete - New node(30)
I0304 08:26:01.093375       1 tree.go:668] Split complete - Child node(4)
I0304 08:26:01.093380       1 tree.go:501] latency, splitNode, 0.0000 seconds, 3742 tokens:
I0304 08:26:01.093383       1 tree.go:471] Updated node(30) last access: 118.5952 seconds
I0304 08:26:01.093389       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:01.093393       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3746 tokens
I0304 08:26:01.093400       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3746 tokens
I0304 08:26:01.093406       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:01.093413       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:01.093396741 +0000 UTC m=+118.713619167]
I0304 08:26:01.093435       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3746, Matched tokens: 3633, Matching ratio: 0.9698, # Matched pods: 0, Matched pods: []
I0304 08:26:01.093446       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9698 > 0.5000)
I0304 08:26:01.093469       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3633
I0304 08:26:01.093478       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:01.093489       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.093500       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.093507       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.093521       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.093533       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:01.093547       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:01.093561       1 prefix_cache_and_load.go:584] latency, Route, 0.0475
I0304 08:26:01.093573       1 gateway.go:415] latency, selectTargetPod, 0.0475, target pod, 10.0.0.13:8000
I0304 08:26:01.093588       1 gateway.go:235] latency, HandleRequestBody, 0.0477
I0304 08:26:01.110074       1 gateway.go:207] "Processing request" requestID="ae6ce06e-6279-4874-ada2-2f81c047869c"
I0304 08:26:01.110111       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ae6ce06e-6279-4874-ada2-2f81c047869c"
I0304 08:26:01.110122       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:01.111283       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d80d782a-301a-45ee-8a09-410f2d1be430"
I0304 08:26:01.144616       1 gateway.go:608] "First token received" requestID="d80d782a-301a-45ee-8a09-410f2d1be430" ttft_ms=98
I0304 08:26:01.152644       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ae6ce06e-6279-4874-ada2-2f81c047869c"
I0304 08:26:01.152776       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ae6ce06e-6279-4874-ada2-2f81c047869c" model="deepseek-llm-7b-chat"
I0304 08:26:01.152826       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:01.152833       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:01.152836       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:01.152867       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:01.152880       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:01.152884       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:01.202833       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 3756
I0304 08:26:01.202854       1 tree.go:471] Updated node(0) last access: 118.7047 seconds
I0304 08:26:01.202861       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:01.202865       1 tree.go:471] Updated node(2) last access: 118.7047 seconds
I0304 08:26:01.202872       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:01.202875       1 tree.go:471] Updated node(24) last access: 118.7047 seconds
I0304 08:26:01.202886       1 tree.go:667] Split complete - New node(32)
I0304 08:26:01.202889       1 tree.go:668] Split complete - Child node(25)
I0304 08:26:01.202894       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:01.202901       1 tree.go:471] Updated node(32) last access: 118.7048 seconds
I0304 08:26:01.202908       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:01.202915       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:01.202922       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:01.202929       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:01.202935       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:01.202917481 +0000 UTC m=+118.823139905]
I0304 08:26:01.202957       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3639, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:01.202969       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:01.203014       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3639
I0304 08:26:01.203024       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:01.203032       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.203039       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.203044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.203048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.203055       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.203063       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:01.203072       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:01.203085       1 prefix_cache_and_load.go:584] latency, Route, 0.0503
I0304 08:26:01.203094       1 gateway.go:415] latency, selectTargetPod, 0.0503, target pod, 10.0.1.53:8000
I0304 08:26:01.203103       1 gateway.go:235] latency, HandleRequestBody, 0.0505
I0304 08:26:01.220910       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ae6ce06e-6279-4874-ada2-2f81c047869c"
I0304 08:26:01.265578       1 gateway.go:608] "First token received" requestID="ae6ce06e-6279-4874-ada2-2f81c047869c" ttft_ms=112
I0304 08:26:01.320738       1 gateway.go:562] latency, 0.0000, summary, hash(request), 17d0d556, selectedpod, 10.0.0.13:8000, ttft, 98, tpot, 19, e2e, 274, numInputTokens, 3961, numOutputTokens, 10, numTotalTokens, 3971
I0304 08:26:01.320755       1 gateway.go:748] "Request completed" requestID="d80d782a-301a-45ee-8a09-410f2d1be430" targetPod="10.0.0.13:8000" promptTokens=3961 completionTokens=10 totalTokens=3971
I0304 08:26:01.320764       1 gateway.go:764] "HandleResponseBody completed" requestID="d80d782a-301a-45ee-8a09-410f2d1be430" promptTokens=3961 completionTokens=10 stream=true
I0304 08:26:01.418808       1 gateway.go:207] "Processing request" requestID="0a55b078-413c-4b0b-a85a-88a023fc1489"
I0304 08:26:01.418849       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0a55b078-413c-4b0b-a85a-88a023fc1489"
I0304 08:26:01.418857       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:01.441048       1 gateway.go:562] latency, 0.0000, summary, hash(request), bd93b448, selectedpod, 10.0.1.53:8000, ttft, 112, tpot, 19, e2e, 288, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:01.441072       1 gateway.go:748] "Request completed" requestID="ae6ce06e-6279-4874-ada2-2f81c047869c" targetPod="10.0.1.53:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:01.441085       1 gateway.go:764] "HandleResponseBody completed" requestID="ae6ce06e-6279-4874-ada2-2f81c047869c" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:01.473233       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0a55b078-413c-4b0b-a85a-88a023fc1489"
I0304 08:26:01.473355       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0a55b078-413c-4b0b-a85a-88a023fc1489" model="deepseek-llm-7b-chat"
I0304 08:26:01.473400       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:01.473407       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:01.473411       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:01.473440       1 gateway.go:207] "Processing request" requestID="1c562ee8-ad0e-4017-807a-52c8d2b0e3ac"
I0304 08:26:01.473469       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1c562ee8-ad0e-4017-807a-52c8d2b0e3ac"
I0304 08:26:01.473478       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:01.473442       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:01.473541       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:01.473548       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:01.520168       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0466, numInputTokens, 3758
I0304 08:26:01.520185       1 tree.go:471] Updated node(0) last access: 119.0220 seconds
I0304 08:26:01.520192       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:01.520195       1 tree.go:471] Updated node(2) last access: 119.0221 seconds
I0304 08:26:01.520204       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:01.520208       1 tree.go:471] Updated node(5) last access: 119.0221 seconds
I0304 08:26:01.520217       1 tree.go:667] Split complete - New node(34)
I0304 08:26:01.520222       1 tree.go:668] Split complete - Child node(19)
I0304 08:26:01.520226       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0304 08:26:01.520232       1 tree.go:471] Updated node(34) last access: 119.0221 seconds
I0304 08:26:01.520237       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:01.520241       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3758 tokens
I0304 08:26:01.520249       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:01.520256       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:01.520263       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:01.520244494 +0000 UTC m=+119.140466920]
I0304 08:26:01.520279       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3640, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:01.520285       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:01.520306       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3640
I0304 08:26:01.520320       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:01.520329       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.520336       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.520342       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.520348       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.520353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.520367       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:01.520379       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:01.520391       1 prefix_cache_and_load.go:584] latency, Route, 0.0470
I0304 08:26:01.520410       1 gateway.go:415] latency, selectTargetPod, 0.0470, target pod, 10.0.3.28:8000
I0304 08:26:01.520423       1 gateway.go:235] latency, HandleRequestBody, 0.0472
I0304 08:26:01.528712       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1c562ee8-ad0e-4017-807a-52c8d2b0e3ac"
I0304 08:26:01.532144       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1c562ee8-ad0e-4017-807a-52c8d2b0e3ac" model="deepseek-llm-7b-chat"
I0304 08:26:01.532187       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:01.532193       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:01.532196       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:01.532222       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:01.532233       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:01.532237       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:01.535252       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0a55b078-413c-4b0b-a85a-88a023fc1489"
I0304 08:26:01.580811       1 gateway.go:608] "First token received" requestID="0a55b078-413c-4b0b-a85a-88a023fc1489" ttft_ms=107
I0304 08:26:01.592537       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0603, numInputTokens, 3755
I0304 08:26:01.592557       1 tree.go:471] Updated node(0) last access: 119.0944 seconds
I0304 08:26:01.592564       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:01.592569       1 tree.go:471] Updated node(2) last access: 119.0944 seconds
I0304 08:26:01.592581       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 3751 tokens:
I0304 08:26:01.592587       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:01.592592       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:01.592600       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:01.592604       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:01.592588525 +0000 UTC m=+119.212810949]
I0304 08:26:01.592620       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 4, Matching ratio: 0.0011, # Matched pods: 0, Matched pods: []
I0304 08:26:01.592629       1 prefix_cache_and_load.go:550] routing, Do cost model based routing! (matching ratio: 0.0011, len(matchedPods): 0)
I0304 08:26:01.592635       1 prefix_cache_and_load.go:226] numTokens: 114, contextLength: 3754, targetGPU: V100
I0304 08:26:01.592640       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592644       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0322) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592649       1 prefix_cache_and_load.go:226] numTokens: 120, contextLength: 3753, targetGPU: V100
I0304 08:26:01.592652       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592656       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592662       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:26:01.592666       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592671       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592677       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 3757, targetGPU: V100
I0304 08:26:01.592681       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592685       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592690       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:26:01.592694       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592697       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592702       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 3757, targetGPU: V100
I0304 08:26:01.592704       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592707       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0021 = miss rate(0.0330) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592711       1 prefix_cache_and_load.go:226] numTokens: 116, contextLength: 3749, targetGPU: V100
I0304 08:26:01.592715       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592718       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592722       1 prefix_cache_and_load.go:226] numTokens: 3753, contextLength: 3757, targetGPU: V100
I0304 08:26:01.592724       1 prefix_cache_and_load.go:227] prefillTime: 1.1444 = (Base time(1.0300) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592729       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1432 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1444) / numPods(1)
I0304 08:26:01.592732       1 prefix_cache_and_load.go:226] numTokens: 123, contextLength: 3756, targetGPU: V100
I0304 08:26:01.592734       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592738       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0327) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592742       1 prefix_cache_and_load.go:226] numTokens: 118, contextLength: 3751, targetGPU: V100
I0304 08:26:01.592746       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592749       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0623 = miss rate(1.0000) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592753       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:26:01.592756       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592759       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0622 = miss rate(0.9989) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592762       1 prefix_cache_and_load.go:226] numTokens: 3750, contextLength: 3754, targetGPU: V100
I0304 08:26:01.592764       1 prefix_cache_and_load.go:227] prefillTime: 1.1435 = (Base time(1.0292) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592768       1 prefix_cache_and_load.go:229] totalPrefillCost: 1.1423 = miss rate(0.9989) * nodeToCount(1) * prefillTime(1.1435) / numPods(1)
I0304 08:26:01.592771       1 prefix_cache_and_load.go:226] numTokens: 112, contextLength: 3747, targetGPU: V100
I0304 08:26:01.592774       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592777       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0299) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592780       1 prefix_cache_and_load.go:226] numTokens: 124, contextLength: 3757, targetGPU: V100
I0304 08:26:01.592783       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592785       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0021 = miss rate(0.0330) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592789       1 prefix_cache_and_load.go:226] numTokens: 120, contextLength: 3753, targetGPU: V100
I0304 08:26:01.592791       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592795       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0320) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592800       1 prefix_cache_and_load.go:226] numTokens: 117, contextLength: 3756, targetGPU: V100
I0304 08:26:01.592802       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592806       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0327) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592809       1 prefix_cache_and_load.go:226] numTokens: 117, contextLength: 3756, targetGPU: V100
I0304 08:26:01.592812       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592815       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0312) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592818       1 prefix_cache_and_load.go:226] numTokens: 119, contextLength: 3752, targetGPU: V100
I0304 08:26:01.592821       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592824       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0317) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592827       1 prefix_cache_and_load.go:226] numTokens: 117, contextLength: 3750, targetGPU: V100
I0304 08:26:01.592830       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592833       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0312) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592837       1 prefix_cache_and_load.go:226] numTokens: 122, contextLength: 3755, targetGPU: V100
I0304 08:26:01.592841       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592845       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0325) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592849       1 prefix_cache_and_load.go:226] numTokens: 113, contextLength: 3746, targetGPU: V100
I0304 08:26:01.592851       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592854       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0302) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592859       1 prefix_cache_and_load.go:226] numTokens: 118, contextLength: 3758, targetGPU: V100
I0304 08:26:01.592861       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592864       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0314) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592868       1 prefix_cache_and_load.go:226] numTokens: 113, contextLength: 3748, targetGPU: V100
I0304 08:26:01.592870       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592874       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0019 = miss rate(0.0307) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592880       1 prefix_cache_and_load.go:226] numTokens: 118, contextLength: 3751, targetGPU: V100
I0304 08:26:01.592883       1 prefix_cache_and_load.go:227] prefillTime: 0.0623 = (Base time(0.0561) + attnQuad(0.0000)) / 0.9
I0304 08:26:01.592887       1 prefix_cache_and_load.go:229] totalPrefillCost: 0.0020 = miss rate(0.0315) * nodeToCount(1) * prefillTime(0.0623) / numPods(1)
I0304 08:26:01.592895       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-bqwpb, Cost: 13.564196
I0304 08:26:01.592899       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-nh42j, Cost: 27.068240
I0304 08:26:01.592901       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-4hfjk, Cost: 20.316267
I0304 08:26:01.592903       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-2q5s7, Cost: 20.316301
I0304 08:26:01.592905       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-7z4pz, Cost: 13.564115
I0304 08:26:01.592907       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-h8g6d, Cost: 33.819973
I0304 08:26:01.592909       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-brzxp, Cost: 7.892292
I0304 08:26:01.592911       1 prefix_cache_and_load.go:556] Pod: deepseek-llm-7b-chat-86bd78f77c-q5tzj, Cost: 28.209463
I0304 08:26:01.592919       1 prefix_cache_and_load.go:562] Lowest cost pod: deepseek-llm-7b-chat-86bd78f77c-brzxp
I0304 08:26:01.592929       1 prefix_cache_and_load.go:563] latency, ts_costmodelrouting, 0.0003
I0304 08:26:01.592937       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.592941       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.592948       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.592956       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:01.592964       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:01.592983       1 prefix_cache_and_load.go:584] latency, Route, 0.0608
I0304 08:26:01.592993       1 gateway.go:415] latency, selectTargetPod, 0.0608, target pod, 10.0.1.47:8000
I0304 08:26:01.593003       1 gateway.go:235] latency, HandleRequestBody, 0.0643
I0304 08:26:01.610946       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1c562ee8-ad0e-4017-807a-52c8d2b0e3ac"
I0304 08:26:01.644319       1 gateway.go:207] "Processing request" requestID="0e0d272c-edab-4004-9c0b-0ec102d700f5"
I0304 08:26:01.644344       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0e0d272c-edab-4004-9c0b-0ec102d700f5"
I0304 08:26:01.644353       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:01.693771       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0e0d272c-edab-4004-9c0b-0ec102d700f5"
I0304 08:26:01.693884       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0e0d272c-edab-4004-9c0b-0ec102d700f5" model="deepseek-llm-7b-chat"
I0304 08:26:01.693923       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:01.693929       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:01.693933       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:01.693963       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:01.693982       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:01.693986       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:01.697937       1 gateway.go:207] "Processing request" requestID="40363f68-cbfb-450c-bea3-690ec41ed47d"
I0304 08:26:01.697971       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="40363f68-cbfb-450c-bea3-690ec41ed47d"
I0304 08:26:01.697988       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:01.741045       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0471, numInputTokens, 3755
I0304 08:26:01.741062       1 tree.go:471] Updated node(0) last access: 119.2429 seconds
I0304 08:26:01.741069       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:01.741073       1 tree.go:471] Updated node(2) last access: 119.2429 seconds
I0304 08:26:01.741099       1 tree.go:667] Split complete - New node(37)
I0304 08:26:01.741104       1 tree.go:668] Split complete - Child node(14)
I0304 08:26:01.741109       1 tree.go:501] latency, splitNode, 0.0000 seconds, 3751 tokens:
I0304 08:26:01.741113       1 tree.go:471] Updated node(37) last access: 119.2430 seconds
I0304 08:26:01.741118       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:01.741124       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:01.741129       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:01.741140       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:01.741146       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:01.741125642 +0000 UTC m=+119.361348067]
I0304 08:26:01.741163       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3633, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:01.741174       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:01.741202       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:01.741216       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:01.741226       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.741235       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.741243       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.741249       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.741257       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:01.741267       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:01.741275       1 prefix_cache_and_load.go:584] latency, Route, 0.0474
I0304 08:26:01.741285       1 gateway.go:415] latency, selectTargetPod, 0.0474, target pod, 10.0.1.47:8000
I0304 08:26:01.741299       1 gateway.go:235] latency, HandleRequestBody, 0.0475
I0304 08:26:01.744070       1 gateway.go:329] "-- In RequestBody processing ..." requestID="40363f68-cbfb-450c-bea3-690ec41ed47d"
I0304 08:26:01.744228       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="40363f68-cbfb-450c-bea3-690ec41ed47d" model="deepseek-llm-7b-chat"
I0304 08:26:01.744293       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:01.744301       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:01.744305       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:01.744346       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:01.744361       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:01.744367       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:01.756553       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2a69afe1, selectedpod, 10.0.3.28:8000, ttft, 107, tpot, 19, e2e, 283, numInputTokens, 3974, numOutputTokens, 10, numTotalTokens, 3984
I0304 08:26:01.756577       1 gateway.go:748] "Request completed" requestID="0a55b078-413c-4b0b-a85a-88a023fc1489" targetPod="10.0.3.28:8000" promptTokens=3974 completionTokens=10 totalTokens=3984
I0304 08:26:01.756589       1 gateway.go:764] "HandleResponseBody completed" requestID="0a55b078-413c-4b0b-a85a-88a023fc1489" promptTokens=3974 completionTokens=10 stream=true
I0304 08:26:01.757560       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0e0d272c-edab-4004-9c0b-0ec102d700f5"
I0304 08:26:01.799602       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0552, numInputTokens, 3751
I0304 08:26:01.799620       1 tree.go:471] Updated node(0) last access: 119.3015 seconds
I0304 08:26:01.799628       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:01.799631       1 tree.go:471] Updated node(2) last access: 119.3015 seconds
I0304 08:26:01.799638       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:01.799642       1 tree.go:471] Updated node(9) last access: 119.3015 seconds
I0304 08:26:01.799647       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:01.799653       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3751 tokens
I0304 08:26:01.799660       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:01.799667       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:01.799673       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:01.7996556 +0000 UTC m=+119.419878035]
I0304 08:26:01.799686       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3633, Matching ratio: 0.9685, # Matched pods: 0, Matched pods: []
I0304 08:26:01.799697       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9685 > 0.5000)
I0304 08:26:01.799719       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3633
I0304 08:26:01.799728       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:01.799736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.799740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.799749       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.799753       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:01.799767       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:01.799776       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:01.799786       1 prefix_cache_and_load.go:584] latency, Route, 0.0555
I0304 08:26:01.799798       1 gateway.go:415] latency, selectTargetPod, 0.0555, target pod, 10.0.0.34:8000
I0304 08:26:01.799808       1 gateway.go:235] latency, HandleRequestBody, 0.0557
I0304 08:26:01.819392       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="40363f68-cbfb-450c-bea3-690ec41ed47d"
I0304 08:26:01.850235       1 gateway.go:608] "First token received" requestID="40363f68-cbfb-450c-bea3-690ec41ed47d" ttft_ms=106
I0304 08:26:02.026008       1 gateway.go:562] latency, 0.0000, summary, hash(request), e00696f7, selectedpod, 10.0.0.34:8000, ttft, 106, tpot, 19, e2e, 281, numInputTokens, 3964, numOutputTokens, 10, numTotalTokens, 3974
I0304 08:26:02.026026       1 gateway.go:748] "Request completed" requestID="40363f68-cbfb-450c-bea3-690ec41ed47d" targetPod="10.0.0.34:8000" promptTokens=3964 completionTokens=10 totalTokens=3974
I0304 08:26:02.026036       1 gateway.go:764] "HandleResponseBody completed" requestID="40363f68-cbfb-450c-bea3-690ec41ed47d" promptTokens=3964 completionTokens=10 stream=true
I0304 08:26:02.132444       1 gateway.go:608] "First token received" requestID="1c562ee8-ad0e-4017-807a-52c8d2b0e3ac" ttft_ms=603
I0304 08:26:02.166492       1 gateway.go:608] "First token received" requestID="0e0d272c-edab-4004-9c0b-0ec102d700f5" ttft_ms=472
I0304 08:26:02.263785       1 gateway.go:207] "Processing request" requestID="12bd182d-1fec-49b9-aabc-294c28b2ffec"
I0304 08:26:02.263811       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="12bd182d-1fec-49b9-aabc-294c28b2ffec"
I0304 08:26:02.263821       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:02.308068       1 gateway.go:329] "-- In RequestBody processing ..." requestID="12bd182d-1fec-49b9-aabc-294c28b2ffec"
I0304 08:26:02.308216       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="12bd182d-1fec-49b9-aabc-294c28b2ffec" model="deepseek-llm-7b-chat"
I0304 08:26:02.308280       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:02.308289       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:02.308294       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:02.308345       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:02.308359       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:02.308367       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:02.355177       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0468, numInputTokens, 3748
I0304 08:26:02.355195       1 tree.go:471] Updated node(0) last access: 119.8571 seconds
I0304 08:26:02.355202       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:02.355206       1 tree.go:471] Updated node(2) last access: 119.8571 seconds
I0304 08:26:02.355231       1 tree.go:667] Split complete - New node(40)
I0304 08:26:02.355236       1 tree.go:668] Split complete - Child node(36)
I0304 08:26:02.355241       1 tree.go:501] latency, splitNode, 0.0000 seconds, 3744 tokens:
I0304 08:26:02.355245       1 tree.go:471] Updated node(40) last access: 119.8571 seconds
I0304 08:26:02.355250       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:02.355256       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3748 tokens
I0304 08:26:02.355261       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3748 tokens
I0304 08:26:02.355267       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:02.355273       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:02.355257709 +0000 UTC m=+119.975480136]
I0304 08:26:02.355290       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3748, Matched tokens: 3633, Matching ratio: 0.9693, # Matched pods: 0, Matched pods: []
I0304 08:26:02.355297       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9693 > 0.5000)
I0304 08:26:02.355322       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:02.355332       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:02.355339       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.355343       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.355349       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.355354       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.355366       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:02.355375       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:02.355385       1 prefix_cache_and_load.go:584] latency, Route, 0.0471
I0304 08:26:02.355396       1 gateway.go:415] latency, selectTargetPod, 0.0471, target pod, 10.0.1.47:8000
I0304 08:26:02.355407       1 gateway.go:235] latency, HandleRequestBody, 0.0473
I0304 08:26:02.371094       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7cd4bf29, selectedpod, 10.0.1.47:8000, ttft, 603, tpot, 26, e2e, 842, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:02.371097       1 gateway.go:562] latency, 0.0000, summary, hash(request), 60cea077, selectedpod, 10.0.1.47:8000, ttft, 472, tpot, 22, e2e, 677, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:02.371111       1 gateway.go:748] "Request completed" requestID="1c562ee8-ad0e-4017-807a-52c8d2b0e3ac" targetPod="10.0.1.47:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:02.371114       1 gateway.go:748] "Request completed" requestID="0e0d272c-edab-4004-9c0b-0ec102d700f5" targetPod="10.0.1.47:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:02.371121       1 gateway.go:764] "HandleResponseBody completed" requestID="1c562ee8-ad0e-4017-807a-52c8d2b0e3ac" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:02.371126       1 gateway.go:764] "HandleResponseBody completed" requestID="0e0d272c-edab-4004-9c0b-0ec102d700f5" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:02.373009       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="12bd182d-1fec-49b9-aabc-294c28b2ffec"
I0304 08:26:02.399662       1 gateway.go:207] "Processing request" requestID="5533f05e-28e2-4394-be03-889a8bcf4b32"
I0304 08:26:02.399683       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5533f05e-28e2-4394-be03-889a8bcf4b32"
I0304 08:26:02.399691       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:02.417444       1 gateway.go:608] "First token received" requestID="12bd182d-1fec-49b9-aabc-294c28b2ffec" ttft_ms=109
I0304 08:26:02.454577       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5533f05e-28e2-4394-be03-889a8bcf4b32"
I0304 08:26:02.454714       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5533f05e-28e2-4394-be03-889a8bcf4b32" model="deepseek-llm-7b-chat"
I0304 08:26:02.454761       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:02.454768       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:02.454772       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:02.454809       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:02.454821       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:02.454827       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:02.500658       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0458, numInputTokens, 3754
I0304 08:26:02.500673       1 tree.go:471] Updated node(0) last access: 120.0025 seconds
I0304 08:26:02.500679       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:02.500683       1 tree.go:471] Updated node(2) last access: 120.0025 seconds
I0304 08:26:02.500693       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:02.500696       1 tree.go:471] Updated node(37) last access: 120.0026 seconds
I0304 08:26:02.500701       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:02.500707       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:02.500714       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:02.500721       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:02.500727       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:02.500709674 +0000 UTC m=+120.120932109]
I0304 08:26:02.500741       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:02.500748       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:02.500769       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:02.500777       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:02.500784       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.500790       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.500795       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.500801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.500810       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:02.500819       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:02.500828       1 prefix_cache_and_load.go:584] latency, Route, 0.0461
I0304 08:26:02.500845       1 gateway.go:415] latency, selectTargetPod, 0.0461, target pod, 10.0.1.47:8000
I0304 08:26:02.500856       1 gateway.go:235] latency, HandleRequestBody, 0.0463
I0304 08:26:02.515862       1 gateway.go:207] "Processing request" requestID="a5d56674-fd87-43a7-a0b8-4269f171b862"
I0304 08:26:02.515893       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a5d56674-fd87-43a7-a0b8-4269f171b862"
I0304 08:26:02.515904       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:02.517195       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5533f05e-28e2-4394-be03-889a8bcf4b32"
I0304 08:26:02.524911       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a5d56674-fd87-43a7-a0b8-4269f171b862"
I0304 08:26:02.532505       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a5d56674-fd87-43a7-a0b8-4269f171b862" model="deepseek-llm-7b-chat"
I0304 08:26:02.532557       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:02.532563       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:02.532567       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:02.532597       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:02.532608       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:02.532613       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:02.569457       1 gateway.go:207] "Processing request" requestID="c16ab231-18be-4cbb-88a6-1f0b01e6ebec"
I0304 08:26:02.569496       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c16ab231-18be-4cbb-88a6-1f0b01e6ebec"
I0304 08:26:02.569507       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:02.577013       1 gateway.go:608] "First token received" requestID="5533f05e-28e2-4394-be03-889a8bcf4b32" ttft_ms=122
I0304 08:26:02.581808       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 3754
I0304 08:26:02.581827       1 tree.go:471] Updated node(0) last access: 120.0837 seconds
I0304 08:26:02.581833       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:02.581838       1 tree.go:471] Updated node(2) last access: 120.0837 seconds
I0304 08:26:02.581847       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:02.581851       1 tree.go:471] Updated node(12) last access: 120.0837 seconds
I0304 08:26:02.581857       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:02.581862       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:02.581868       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:02.581876       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:02.581881       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:02.581864322 +0000 UTC m=+120.202086748]
I0304 08:26:02.581895       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:02.581902       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:02.581922       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3633
I0304 08:26:02.581931       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:02.581938       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.581945       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.581950       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.581956       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.581964       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:02.581981       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:02.581994       1 prefix_cache_and_load.go:584] latency, Route, 0.0494
I0304 08:26:02.582002       1 gateway.go:415] latency, selectTargetPod, 0.0494, target pod, 10.0.0.6:8000
I0304 08:26:02.582013       1 gateway.go:235] latency, HandleRequestBody, 0.0571
I0304 08:26:02.599531       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a5d56674-fd87-43a7-a0b8-4269f171b862"
I0304 08:26:02.628400       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c16ab231-18be-4cbb-88a6-1f0b01e6ebec"
I0304 08:26:02.628538       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c16ab231-18be-4cbb-88a6-1f0b01e6ebec" model="deepseek-llm-7b-chat"
I0304 08:26:02.628582       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:02.628590       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:02.628593       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:02.628625       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:02.628638       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:02.628642       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:02.644779       1 gateway.go:562] latency, 0.0000, summary, hash(request), be9f16dc, selectedpod, 10.0.1.47:8000, ttft, 109, tpot, 25, e2e, 336, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:02.644795       1 gateway.go:748] "Request completed" requestID="12bd182d-1fec-49b9-aabc-294c28b2ffec" targetPod="10.0.1.47:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:02.644804       1 gateway.go:764] "HandleResponseBody completed" requestID="12bd182d-1fec-49b9-aabc-294c28b2ffec" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:02.644899       1 gateway.go:608] "First token received" requestID="a5d56674-fd87-43a7-a0b8-4269f171b862" ttft_ms=119
I0304 08:26:02.674883       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0462, numInputTokens, 3757
I0304 08:26:02.674901       1 tree.go:471] Updated node(0) last access: 120.1768 seconds
I0304 08:26:02.674907       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:02.674911       1 tree.go:471] Updated node(2) last access: 120.1768 seconds
I0304 08:26:02.674919       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:02.674924       1 tree.go:471] Updated node(40) last access: 120.1768 seconds
I0304 08:26:02.674931       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:26:02.674936       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:26:02.674942       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:02.674951       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:02.674958       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:02.674938362 +0000 UTC m=+120.295160797]
I0304 08:26:02.674986       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:26:02.674997       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:26:02.675027       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:02.675041       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:02.675051       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.675060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.675065       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.675070       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.675081       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:02.675094       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:02.675109       1 prefix_cache_and_load.go:584] latency, Route, 0.0465
I0304 08:26:02.675117       1 gateway.go:415] latency, selectTargetPod, 0.0465, target pod, 10.0.1.47:8000
I0304 08:26:02.675128       1 gateway.go:235] latency, HandleRequestBody, 0.0467
I0304 08:26:02.694829       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c16ab231-18be-4cbb-88a6-1f0b01e6ebec"
I0304 08:26:02.747588       1 gateway.go:608] "First token received" requestID="c16ab231-18be-4cbb-88a6-1f0b01e6ebec" ttft_ms=119
I0304 08:26:02.814983       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9187b2dd, selectedpod, 10.0.1.47:8000, ttft, 122, tpot, 26, e2e, 360, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:02.815005       1 gateway.go:748] "Request completed" requestID="5533f05e-28e2-4394-be03-889a8bcf4b32" targetPod="10.0.1.47:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:02.815016       1 gateway.go:764] "HandleResponseBody completed" requestID="5533f05e-28e2-4394-be03-889a8bcf4b32" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:02.820606       1 gateway.go:562] latency, 0.0000, summary, hash(request), eb21ec6d, selectedpod, 10.0.0.6:8000, ttft, 119, tpot, 19, e2e, 295, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:02.820623       1 gateway.go:748] "Request completed" requestID="a5d56674-fd87-43a7-a0b8-4269f171b862" targetPod="10.0.0.6:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:02.820632       1 gateway.go:764] "HandleResponseBody completed" requestID="a5d56674-fd87-43a7-a0b8-4269f171b862" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:02.870983       1 gateway.go:207] "Processing request" requestID="0e881532-2ce1-46d3-b947-f562cb9f3ce6"
I0304 08:26:02.871014       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0e881532-2ce1-46d3-b947-f562cb9f3ce6"
I0304 08:26:02.871023       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:02.934391       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5fa86c2c, selectedpod, 10.0.1.47:8000, ttft, 119, tpot, 20, e2e, 305, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:02.934409       1 gateway.go:748] "Request completed" requestID="c16ab231-18be-4cbb-88a6-1f0b01e6ebec" targetPod="10.0.1.47:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:02.934418       1 gateway.go:764] "HandleResponseBody completed" requestID="c16ab231-18be-4cbb-88a6-1f0b01e6ebec" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:02.946215       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0e881532-2ce1-46d3-b947-f562cb9f3ce6"
I0304 08:26:02.946329       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0e881532-2ce1-46d3-b947-f562cb9f3ce6" model="deepseek-llm-7b-chat"
I0304 08:26:02.946837       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:02.946856       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:02.946861       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:02.946950       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:02.946992       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:02.947002       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:02.994993       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0480, numInputTokens, 3757
I0304 08:26:02.995013       1 tree.go:471] Updated node(0) last access: 120.4969 seconds
I0304 08:26:02.995019       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:02.995023       1 tree.go:471] Updated node(2) last access: 120.4969 seconds
I0304 08:26:02.995050       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:02.995055       1 tree.go:471] Updated node(9) last access: 120.4969 seconds
I0304 08:26:02.995060       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:26:02.995066       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:02.995073       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:02.995080       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:02.995086       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:02.995068719 +0000 UTC m=+120.615291144]
I0304 08:26:02.995102       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:26:02.995109       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:26:02.995132       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3633
I0304 08:26:02.995141       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:02.995149       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.995155       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.995160       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.995163       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:02.995172       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:02.995181       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:02.995191       1 prefix_cache_and_load.go:584] latency, Route, 0.0484
I0304 08:26:02.995200       1 gateway.go:415] latency, selectTargetPod, 0.0484, target pod, 10.0.0.34:8000
I0304 08:26:02.995212       1 gateway.go:235] latency, HandleRequestBody, 0.0490
I0304 08:26:03.002576       1 gateway.go:207] "Processing request" requestID="397779f6-60b0-4fbe-95b8-110dbeb9ffb9"
I0304 08:26:03.002608       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="397779f6-60b0-4fbe-95b8-110dbeb9ffb9"
I0304 08:26:03.002615       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:03.012482       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0e881532-2ce1-46d3-b947-f562cb9f3ce6"
I0304 08:26:03.036325       1 gateway.go:329] "-- In RequestBody processing ..." requestID="397779f6-60b0-4fbe-95b8-110dbeb9ffb9"
I0304 08:26:03.036450       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="397779f6-60b0-4fbe-95b8-110dbeb9ffb9" model="deepseek-llm-7b-chat"
I0304 08:26:03.036493       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:03.036499       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:03.036503       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:03.036550       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:03.036563       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:03.036566       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:03.057978       1 gateway.go:608] "First token received" requestID="0e881532-2ce1-46d3-b947-f562cb9f3ce6" ttft_ms=111
I0304 08:26:03.085718       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 3758
I0304 08:26:03.085738       1 tree.go:471] Updated node(0) last access: 120.5876 seconds
I0304 08:26:03.085744       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:03.085750       1 tree.go:471] Updated node(2) last access: 120.5876 seconds
I0304 08:26:03.085763       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:03.085766       1 tree.go:471] Updated node(5) last access: 120.5876 seconds
I0304 08:26:03.085774       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 125 tokens:
I0304 08:26:03.085782       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3758 tokens
I0304 08:26:03.085792       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:03.085802       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:03.085811       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:03.085786327 +0000 UTC m=+120.706008754]
I0304 08:26:03.085831       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3633, Matching ratio: 0.9667, # Matched pods: 0, Matched pods: []
I0304 08:26:03.085841       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9667 > 0.5000)
I0304 08:26:03.085870       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3633
I0304 08:26:03.085879       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:03.085893       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.085901       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.085908       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.085915       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.085924       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:03.085933       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:03.085945       1 prefix_cache_and_load.go:584] latency, Route, 0.0494
I0304 08:26:03.085954       1 gateway.go:415] latency, selectTargetPod, 0.0495, target pod, 10.0.3.28:8000
I0304 08:26:03.085966       1 gateway.go:235] latency, HandleRequestBody, 0.0496
I0304 08:26:03.100904       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="397779f6-60b0-4fbe-95b8-110dbeb9ffb9"
I0304 08:26:03.146577       1 gateway.go:608] "First token received" requestID="397779f6-60b0-4fbe-95b8-110dbeb9ffb9" ttft_ms=110
I0304 08:26:03.159767       1 gateway.go:207] "Processing request" requestID="b0783b07-8b49-4a22-879d-54f2978f86cd"
I0304 08:26:03.159793       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b0783b07-8b49-4a22-879d-54f2978f86cd"
I0304 08:26:03.159803       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:03.213696       1 gateway.go:207] "Processing request" requestID="1f8ddd44-4b47-4f2d-a704-eef38214f3e1"
I0304 08:26:03.213717       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1f8ddd44-4b47-4f2d-a704-eef38214f3e1"
I0304 08:26:03.213724       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:03.217428       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b0783b07-8b49-4a22-879d-54f2978f86cd"
I0304 08:26:03.217563       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b0783b07-8b49-4a22-879d-54f2978f86cd" model="deepseek-llm-7b-chat"
I0304 08:26:03.217610       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:03.217617       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:03.217620       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:03.217654       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:03.217667       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:03.217686       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:03.233560       1 gateway.go:562] latency, 0.0000, summary, hash(request), c97ad469, selectedpod, 10.0.0.34:8000, ttft, 111, tpot, 19, e2e, 287, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:03.233582       1 gateway.go:748] "Request completed" requestID="0e881532-2ce1-46d3-b947-f562cb9f3ce6" targetPod="10.0.0.34:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:03.233595       1 gateway.go:764] "HandleResponseBody completed" requestID="0e881532-2ce1-46d3-b947-f562cb9f3ce6" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:03.251917       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1f8ddd44-4b47-4f2d-a704-eef38214f3e1"
I0304 08:26:03.252059       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1f8ddd44-4b47-4f2d-a704-eef38214f3e1" model="deepseek-llm-7b-chat"
I0304 08:26:03.263676       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0460, numInputTokens, 3754
I0304 08:26:03.263693       1 tree.go:471] Updated node(0) last access: 120.7656 seconds
I0304 08:26:03.263699       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:03.263703       1 tree.go:471] Updated node(2) last access: 120.7656 seconds
I0304 08:26:03.263729       1 tree.go:667] Split complete - New node(47)
I0304 08:26:03.263732       1 tree.go:668] Split complete - Child node(21)
I0304 08:26:03.263737       1 tree.go:501] latency, splitNode, 0.0000 seconds, 3750 tokens:
I0304 08:26:03.263742       1 tree.go:471] Updated node(47) last access: 120.7656 seconds
I0304 08:26:03.263747       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:03.263750       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:03.263756       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:03.263762       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:03.263767       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:03.263752502 +0000 UTC m=+120.883974928]
I0304 08:26:03.263783       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3640, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:03.263790       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:03.263816       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3640
I0304 08:26:03.263824       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:03.263832       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.263836       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.263840       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.263843       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.263851       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:03.263861       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:03.263871       1 prefix_cache_and_load.go:584] latency, Route, 0.0463
I0304 08:26:03.263885       1 gateway.go:415] latency, selectTargetPod, 0.0463, target pod, 10.0.1.33:8000
I0304 08:26:03.263896       1 gateway.go:235] latency, HandleRequestBody, 0.0465
I0304 08:26:03.263918       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0118
I0304 08:26:03.263922       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:03.263925       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:03.263950       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:03.263963       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:03.263966       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:03.280270       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b0783b07-8b49-4a22-879d-54f2978f86cd"
I0304 08:26:03.311993       1 gateway.go:608] "First token received" requestID="b0783b07-8b49-4a22-879d-54f2978f86cd" ttft_ms=94
I0304 08:26:03.314948       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0510, numInputTokens, 3750
I0304 08:26:03.314968       1 tree.go:471] Updated node(0) last access: 120.8168 seconds
I0304 08:26:03.314984       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:03.314990       1 tree.go:471] Updated node(2) last access: 120.8169 seconds
I0304 08:26:03.314998       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:03.315002       1 tree.go:471] Updated node(24) last access: 120.8169 seconds
I0304 08:26:03.315006       1 tree.go:490] Partial tokens match child node(32). Continue to go deeper in the radix tree
I0304 08:26:03.315008       1 tree.go:471] Updated node(32) last access: 120.8169 seconds
I0304 08:26:03.315014       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0304 08:26:03.315019       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3750 tokens
I0304 08:26:03.315026       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:03.315033       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:03.315038       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:03.315021544 +0000 UTC m=+120.935243971]
I0304 08:26:03.315053       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3639, Matching ratio: 0.9704, # Matched pods: 0, Matched pods: []
I0304 08:26:03.315087       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9704 > 0.5000)
I0304 08:26:03.315125       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3639
I0304 08:26:03.315134       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:03.315142       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.315147       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.315152       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.315157       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.315162       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.315172       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:03.315181       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:03.315199       1 prefix_cache_and_load.go:584] latency, Route, 0.0631
I0304 08:26:03.315209       1 gateway.go:415] latency, selectTargetPod, 0.0631, target pod, 10.0.1.53:8000
I0304 08:26:03.315220       1 gateway.go:235] latency, HandleRequestBody, 0.0633
I0304 08:26:03.322355       1 gateway.go:562] latency, 0.0000, summary, hash(request), afcb7d54, selectedpod, 10.0.3.28:8000, ttft, 110, tpot, 19, e2e, 285, numInputTokens, 3973, numOutputTokens, 10, numTotalTokens, 3983
I0304 08:26:03.322373       1 gateway.go:748] "Request completed" requestID="397779f6-60b0-4fbe-95b8-110dbeb9ffb9" targetPod="10.0.3.28:8000" promptTokens=3973 completionTokens=10 totalTokens=3983
I0304 08:26:03.322385       1 gateway.go:764] "HandleResponseBody completed" requestID="397779f6-60b0-4fbe-95b8-110dbeb9ffb9" promptTokens=3973 completionTokens=10 stream=true
I0304 08:26:03.331811       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1f8ddd44-4b47-4f2d-a704-eef38214f3e1"
I0304 08:26:03.354878       1 gateway.go:207] "Processing request" requestID="edf812da-ea78-46eb-bc42-c6fb44018f22"
I0304 08:26:03.354897       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="edf812da-ea78-46eb-bc42-c6fb44018f22"
I0304 08:26:03.354905       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:03.363256       1 gateway.go:608] "First token received" requestID="1f8ddd44-4b47-4f2d-a704-eef38214f3e1" ttft_ms=111
I0304 08:26:03.413193       1 gateway.go:329] "-- In RequestBody processing ..." requestID="edf812da-ea78-46eb-bc42-c6fb44018f22"
I0304 08:26:03.413316       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="edf812da-ea78-46eb-bc42-c6fb44018f22" model="deepseek-llm-7b-chat"
I0304 08:26:03.413359       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:03.413366       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:03.413369       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:03.413404       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:03.413419       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:03.413424       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:03.459203       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0458, numInputTokens, 3756
I0304 08:26:03.459218       1 tree.go:471] Updated node(0) last access: 120.9611 seconds
I0304 08:26:03.459226       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:03.459231       1 tree.go:471] Updated node(2) last access: 120.9611 seconds
I0304 08:26:03.459241       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:03.459245       1 tree.go:471] Updated node(30) last access: 120.9611 seconds
I0304 08:26:03.459255       1 tree.go:667] Split complete - New node(50)
I0304 08:26:03.459260       1 tree.go:668] Split complete - Child node(4)
I0304 08:26:03.459265       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:03.459269       1 tree.go:471] Updated node(50) last access: 120.9611 seconds
I0304 08:26:03.459275       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:03.459279       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:03.459285       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:03.459292       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:03.459298       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:03.459281154 +0000 UTC m=+121.079503581]
I0304 08:26:03.459315       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3640, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:03.459323       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:03.459347       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3640
I0304 08:26:03.459357       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:03.459366       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.459372       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.459375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.459382       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.459390       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.459401       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:03.459411       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:03.459420       1 prefix_cache_and_load.go:584] latency, Route, 0.0461
I0304 08:26:03.459429       1 gateway.go:415] latency, selectTargetPod, 0.0461, target pod, 10.0.0.13:8000
I0304 08:26:03.459439       1 gateway.go:235] latency, HandleRequestBody, 0.0462
I0304 08:26:03.477099       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="edf812da-ea78-46eb-bc42-c6fb44018f22"
I0304 08:26:03.486991       1 gateway.go:562] latency, 0.0000, summary, hash(request), 00b665ae, selectedpod, 10.0.1.33:8000, ttft, 94, tpot, 19, e2e, 269, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:03.487011       1 gateway.go:748] "Request completed" requestID="b0783b07-8b49-4a22-879d-54f2978f86cd" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:03.487021       1 gateway.go:764] "HandleResponseBody completed" requestID="b0783b07-8b49-4a22-879d-54f2978f86cd" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:03.522932       1 gateway.go:608] "First token received" requestID="edf812da-ea78-46eb-bc42-c6fb44018f22" ttft_ms=109
I0304 08:26:03.535951       1 gateway.go:207] "Processing request" requestID="893cd227-37ae-415a-806b-0cfcba49ae0d"
I0304 08:26:03.535996       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="893cd227-37ae-415a-806b-0cfcba49ae0d"
I0304 08:26:03.536006       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:03.538770       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3cbf9dd2, selectedpod, 10.0.1.53:8000, ttft, 111, tpot, 19, e2e, 286, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:03.538788       1 gateway.go:748] "Request completed" requestID="1f8ddd44-4b47-4f2d-a704-eef38214f3e1" targetPod="10.0.1.53:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:03.538802       1 gateway.go:764] "HandleResponseBody completed" requestID="1f8ddd44-4b47-4f2d-a704-eef38214f3e1" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:03.587772       1 gateway.go:329] "-- In RequestBody processing ..." requestID="893cd227-37ae-415a-806b-0cfcba49ae0d"
I0304 08:26:03.587897       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="893cd227-37ae-415a-806b-0cfcba49ae0d" model="deepseek-llm-7b-chat"
I0304 08:26:03.587948       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:03.587954       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:03.587958       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:03.588010       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:03.588028       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:03.588033       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:03.639025       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0510, numInputTokens, 3746
I0304 08:26:03.639045       1 tree.go:471] Updated node(0) last access: 121.1409 seconds
I0304 08:26:03.639051       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:03.639054       1 tree.go:471] Updated node(2) last access: 121.1409 seconds
I0304 08:26:03.639062       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:03.639065       1 tree.go:471] Updated node(26) last access: 121.1409 seconds
I0304 08:26:03.639070       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:03.639077       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3746 tokens
I0304 08:26:03.639086       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3746 tokens
I0304 08:26:03.639093       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:03.639099       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:03.639080766 +0000 UTC m=+121.259303192]
I0304 08:26:03.639114       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3746, Matched tokens: 3633, Matching ratio: 0.9698, # Matched pods: 0, Matched pods: []
I0304 08:26:03.639122       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9698 > 0.5000)
I0304 08:26:03.639150       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3633
I0304 08:26:03.639159       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:03.639167       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.639173       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.639177       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.639182       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.639190       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:03.639199       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:03.639212       1 prefix_cache_and_load.go:584] latency, Route, 0.0513
I0304 08:26:03.639221       1 gateway.go:415] latency, selectTargetPod, 0.0513, target pod, 10.0.3.38:8000
I0304 08:26:03.639231       1 gateway.go:235] latency, HandleRequestBody, 0.0515
I0304 08:26:03.653900       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="893cd227-37ae-415a-806b-0cfcba49ae0d"
I0304 08:26:03.685167       1 gateway.go:608] "First token received" requestID="893cd227-37ae-415a-806b-0cfcba49ae0d" ttft_ms=97
I0304 08:26:03.699532       1 gateway.go:562] latency, 0.0000, summary, hash(request), daa1639c, selectedpod, 10.0.0.13:8000, ttft, 109, tpot, 19, e2e, 286, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:03.699551       1 gateway.go:748] "Request completed" requestID="edf812da-ea78-46eb-bc42-c6fb44018f22" targetPod="10.0.0.13:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:03.699562       1 gateway.go:764] "HandleResponseBody completed" requestID="edf812da-ea78-46eb-bc42-c6fb44018f22" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:03.741174       1 gateway.go:207] "Processing request" requestID="3f1dd08f-b885-4ed2-94f9-0b9e47c4c062"
I0304 08:26:03.741201       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3f1dd08f-b885-4ed2-94f9-0b9e47c4c062"
I0304 08:26:03.741210       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:03.749239       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3f1dd08f-b885-4ed2-94f9-0b9e47c4c062"
I0304 08:26:03.749349       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3f1dd08f-b885-4ed2-94f9-0b9e47c4c062" model="deepseek-llm-7b-chat"
I0304 08:26:03.749389       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:03.749395       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:03.749399       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:03.749442       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:03.749456       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:03.749461       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:03.796558       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0471, numInputTokens, 3755
I0304 08:26:03.796576       1 tree.go:471] Updated node(0) last access: 121.2984 seconds
I0304 08:26:03.796583       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:03.796587       1 tree.go:471] Updated node(2) last access: 121.2985 seconds
I0304 08:26:03.796596       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:03.796599       1 tree.go:471] Updated node(30) last access: 121.2985 seconds
I0304 08:26:03.796608       1 tree.go:667] Split complete - New node(53)
I0304 08:26:03.796613       1 tree.go:668] Split complete - Child node(31)
I0304 08:26:03.796618       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:03.796624       1 tree.go:471] Updated node(53) last access: 121.2985 seconds
I0304 08:26:03.796632       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:03.796639       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:03.796647       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:03.796656       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:03.796661       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:03.796641768 +0000 UTC m=+121.416864197]
I0304 08:26:03.796677       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3635, Matching ratio: 0.9680, # Matched pods: 0, Matched pods: []
I0304 08:26:03.796687       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9680 > 0.5000)
I0304 08:26:03.796712       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3635
I0304 08:26:03.796723       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:03.796734       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.796740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.796743       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.796747       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.796752       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:03.796764       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:03.796778       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:03.796792       1 prefix_cache_and_load.go:584] latency, Route, 0.0474
I0304 08:26:03.796803       1 gateway.go:415] latency, selectTargetPod, 0.0474, target pod, 10.0.0.13:8000
I0304 08:26:03.796814       1 gateway.go:235] latency, HandleRequestBody, 0.0476
I0304 08:26:03.815614       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3f1dd08f-b885-4ed2-94f9-0b9e47c4c062"
I0304 08:26:03.860651       1 gateway.go:608] "First token received" requestID="3f1dd08f-b885-4ed2-94f9-0b9e47c4c062" ttft_ms=111
I0304 08:26:03.861565       1 gateway.go:562] latency, 0.0000, summary, hash(request), af6903e9, selectedpod, 10.0.3.38:8000, ttft, 97, tpot, 19, e2e, 273, numInputTokens, 3959, numOutputTokens, 10, numTotalTokens, 3969
I0304 08:26:03.861583       1 gateway.go:748] "Request completed" requestID="893cd227-37ae-415a-806b-0cfcba49ae0d" targetPod="10.0.3.38:8000" promptTokens=3959 completionTokens=10 totalTokens=3969
I0304 08:26:03.861594       1 gateway.go:764] "HandleResponseBody completed" requestID="893cd227-37ae-415a-806b-0cfcba49ae0d" promptTokens=3959 completionTokens=10 stream=true
I0304 08:26:04.036908       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8ec9089a, selectedpod, 10.0.0.13:8000, ttft, 111, tpot, 19, e2e, 287, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:04.036927       1 gateway.go:748] "Request completed" requestID="3f1dd08f-b885-4ed2-94f9-0b9e47c4c062" targetPod="10.0.0.13:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:04.036947       1 gateway.go:764] "HandleResponseBody completed" requestID="3f1dd08f-b885-4ed2-94f9-0b9e47c4c062" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:04.315884       1 gateway.go:207] "Processing request" requestID="bd632f42-157a-4cdb-b745-5ab96464043f"
I0304 08:26:04.315920       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bd632f42-157a-4cdb-b745-5ab96464043f"
I0304 08:26:04.315929       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:04.355274       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bd632f42-157a-4cdb-b745-5ab96464043f"
I0304 08:26:04.355403       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bd632f42-157a-4cdb-b745-5ab96464043f" model="deepseek-llm-7b-chat"
I0304 08:26:04.355452       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:04.355459       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:04.355462       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:04.355523       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:04.355538       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:04.355544       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:04.408192       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0526, numInputTokens, 3750
I0304 08:26:04.408213       1 tree.go:471] Updated node(0) last access: 121.9101 seconds
I0304 08:26:04.408219       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:04.408223       1 tree.go:471] Updated node(2) last access: 121.9101 seconds
I0304 08:26:04.408230       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:04.408233       1 tree.go:471] Updated node(12) last access: 121.9101 seconds
I0304 08:26:04.408239       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:04.408246       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3750 tokens
I0304 08:26:04.408253       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:04.408261       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:04.408266       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:04.408248632 +0000 UTC m=+122.028471058]
I0304 08:26:04.408283       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3633, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:04.408291       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:04.408318       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3633
I0304 08:26:04.408327       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:04.408334       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.408338       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.408342       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.408348       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.408356       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:04.408365       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:04.408377       1 prefix_cache_and_load.go:584] latency, Route, 0.0529
I0304 08:26:04.408386       1 gateway.go:415] latency, selectTargetPod, 0.0529, target pod, 10.0.0.6:8000
I0304 08:26:04.408398       1 gateway.go:235] latency, HandleRequestBody, 0.0531
I0304 08:26:04.425799       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bd632f42-157a-4cdb-b745-5ab96464043f"
I0304 08:26:04.456541       1 gateway.go:608] "First token received" requestID="bd632f42-157a-4cdb-b745-5ab96464043f" ttft_ms=101
I0304 08:26:04.545409       1 gateway.go:207] "Processing request" requestID="99c90b67-19c9-4887-bcf2-ba5767fbf8f7"
I0304 08:26:04.545477       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="99c90b67-19c9-4887-bcf2-ba5767fbf8f7"
I0304 08:26:04.545487       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:04.593776       1 gateway.go:329] "-- In RequestBody processing ..." requestID="99c90b67-19c9-4887-bcf2-ba5767fbf8f7"
I0304 08:26:04.593906       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="99c90b67-19c9-4887-bcf2-ba5767fbf8f7" model="deepseek-llm-7b-chat"
I0304 08:26:04.593953       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:04.593960       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:04.593963       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:04.594020       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:04.594034       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:04.594038       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:04.632032       1 gateway.go:562] latency, 0.0000, summary, hash(request), dfa0e1e8, selectedpod, 10.0.0.6:8000, ttft, 101, tpot, 19, e2e, 276, numInputTokens, 3962, numOutputTokens, 10, numTotalTokens, 3972
I0304 08:26:04.632053       1 gateway.go:748] "Request completed" requestID="bd632f42-157a-4cdb-b745-5ab96464043f" targetPod="10.0.0.6:8000" promptTokens=3962 completionTokens=10 totalTokens=3972
I0304 08:26:04.632063       1 gateway.go:764] "HandleResponseBody completed" requestID="bd632f42-157a-4cdb-b745-5ab96464043f" promptTokens=3962 completionTokens=10 stream=true
I0304 08:26:04.635046       1 gateway.go:207] "Processing request" requestID="ec4d4d80-cfd5-4575-a9b1-3365140b5a86"
I0304 08:26:04.635069       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ec4d4d80-cfd5-4575-a9b1-3365140b5a86"
I0304 08:26:04.635077       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:04.646011       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0520, numInputTokens, 3755
I0304 08:26:04.646033       1 tree.go:471] Updated node(0) last access: 122.1479 seconds
I0304 08:26:04.646039       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:04.646042       1 tree.go:471] Updated node(2) last access: 122.1479 seconds
I0304 08:26:04.646050       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:04.646053       1 tree.go:471] Updated node(30) last access: 122.1479 seconds
I0304 08:26:04.646059       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:04.646064       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:04.646072       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:04.646079       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:04.646086       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:04.646066794 +0000 UTC m=+122.266289230]
I0304 08:26:04.646103       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3633, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:04.646111       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:04.646143       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3633
I0304 08:26:04.646152       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:04.646159       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.646164       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.646168       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.646172       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.646180       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:04.646189       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:04.646201       1 prefix_cache_and_load.go:584] latency, Route, 0.0522
I0304 08:26:04.646210       1 gateway.go:415] latency, selectTargetPod, 0.0523, target pod, 10.0.0.13:8000
I0304 08:26:04.646222       1 gateway.go:235] latency, HandleRequestBody, 0.0524
I0304 08:26:04.662857       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="99c90b67-19c9-4887-bcf2-ba5767fbf8f7"
I0304 08:26:04.667478       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ec4d4d80-cfd5-4575-a9b1-3365140b5a86"
I0304 08:26:04.667612       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ec4d4d80-cfd5-4575-a9b1-3365140b5a86" model="deepseek-llm-7b-chat"
I0304 08:26:04.667660       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:04.667667       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:04.667670       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:04.667709       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:04.667723       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:04.667729       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:04.708578       1 gateway.go:608] "First token received" requestID="99c90b67-19c9-4887-bcf2-ba5767fbf8f7" ttft_ms=114
I0304 08:26:04.713289       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0456, numInputTokens, 3752
I0304 08:26:04.713306       1 tree.go:471] Updated node(0) last access: 122.2152 seconds
I0304 08:26:04.713313       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:04.713316       1 tree.go:471] Updated node(2) last access: 122.2152 seconds
I0304 08:26:04.713325       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:04.713329       1 tree.go:471] Updated node(5) last access: 122.2152 seconds
I0304 08:26:04.713334       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:04.713340       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:04.713347       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:04.713354       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:04.713359       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:04.713342817 +0000 UTC m=+122.333565243]
I0304 08:26:04.713374       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3633, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:04.713380       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:04.713408       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3633
I0304 08:26:04.713415       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:04.713423       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.713426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.713430       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.713433       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.713441       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:04.713450       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:04.713460       1 prefix_cache_and_load.go:584] latency, Route, 0.0458
I0304 08:26:04.713467       1 gateway.go:415] latency, selectTargetPod, 0.0458, target pod, 10.0.3.28:8000
I0304 08:26:04.713477       1 gateway.go:235] latency, HandleRequestBody, 0.0460
I0304 08:26:04.728148       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ec4d4d80-cfd5-4575-a9b1-3365140b5a86"
I0304 08:26:04.759289       1 gateway.go:608] "First token received" requestID="ec4d4d80-cfd5-4575-a9b1-3365140b5a86" ttft_ms=91
I0304 08:26:04.777376       1 gateway.go:207] "Processing request" requestID="d66f0f1f-a230-4b1f-9cc0-eaec68cf6cf2"
I0304 08:26:04.777407       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d66f0f1f-a230-4b1f-9cc0-eaec68cf6cf2"
I0304 08:26:04.777415       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:04.785400       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d66f0f1f-a230-4b1f-9cc0-eaec68cf6cf2"
I0304 08:26:04.785530       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d66f0f1f-a230-4b1f-9cc0-eaec68cf6cf2" model="deepseek-llm-7b-chat"
I0304 08:26:04.785590       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:04.785596       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:04.785599       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:04.785636       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:04.785650       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:04.785654       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:04.833563       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0479, numInputTokens, 3757
I0304 08:26:04.833601       1 tree.go:471] Updated node(0) last access: 122.3355 seconds
I0304 08:26:04.833610       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:04.833614       1 tree.go:471] Updated node(2) last access: 122.3355 seconds
I0304 08:26:04.833626       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:04.833630       1 tree.go:471] Updated node(40) last access: 122.3355 seconds
I0304 08:26:04.833651       1 tree.go:667] Split complete - New node(58)
I0304 08:26:04.833662       1 tree.go:668] Split complete - Child node(41)
I0304 08:26:04.833669       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0304 08:26:04.833686       1 tree.go:471] Updated node(58) last access: 122.3355 seconds
I0304 08:26:04.833695       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:04.833701       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:04.833714       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:04.833722       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:04.833733       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:04.833708413 +0000 UTC m=+122.453930839]
I0304 08:26:04.833757       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3641, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:04.833773       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:04.833831       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3641
I0304 08:26:04.833848       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:04.833855       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.833860       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.833865       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.833870       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.833875       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:04.833883       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:04.833918       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:04.833959       1 prefix_cache_and_load.go:584] latency, Route, 0.0484
I0304 08:26:04.833980       1 gateway.go:415] latency, selectTargetPod, 0.0484, target pod, 10.0.1.47:8000
I0304 08:26:04.834001       1 gateway.go:235] latency, HandleRequestBody, 0.0486
I0304 08:26:04.850475       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d66f0f1f-a230-4b1f-9cc0-eaec68cf6cf2"
I0304 08:26:04.885078       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2585f46e, selectedpod, 10.0.0.13:8000, ttft, 114, tpot, 19, e2e, 291, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:04.885100       1 gateway.go:748] "Request completed" requestID="99c90b67-19c9-4887-bcf2-ba5767fbf8f7" targetPod="10.0.0.13:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:04.885112       1 gateway.go:764] "HandleResponseBody completed" requestID="99c90b67-19c9-4887-bcf2-ba5767fbf8f7" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:04.895919       1 gateway.go:608] "First token received" requestID="d66f0f1f-a230-4b1f-9cc0-eaec68cf6cf2" ttft_ms=110
I0304 08:26:04.934857       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7af8fd72, selectedpod, 10.0.3.28:8000, ttft, 91, tpot, 19, e2e, 267, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:04.934877       1 gateway.go:748] "Request completed" requestID="ec4d4d80-cfd5-4575-a9b1-3365140b5a86" targetPod="10.0.3.28:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:04.934890       1 gateway.go:764] "HandleResponseBody completed" requestID="ec4d4d80-cfd5-4575-a9b1-3365140b5a86" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:04.983114       1 gateway.go:207] "Processing request" requestID="6bcfef11-57b3-436f-bc9f-10bb3ffbd81f"
I0304 08:26:04.983137       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6bcfef11-57b3-436f-bc9f-10bb3ffbd81f"
I0304 08:26:04.983145       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:05.032239       1 gateway.go:207] "Processing request" requestID="023b8700-bb58-4e33-a9a6-968e6eab015b"
I0304 08:26:05.032263       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="023b8700-bb58-4e33-a9a6-968e6eab015b"
I0304 08:26:05.032270       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:05.041150       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6bcfef11-57b3-436f-bc9f-10bb3ffbd81f"
I0304 08:26:05.041269       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6bcfef11-57b3-436f-bc9f-10bb3ffbd81f" model="deepseek-llm-7b-chat"
I0304 08:26:05.041316       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:05.041324       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:05.041328       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:05.041371       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:05.041385       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:05.041389       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:05.072079       1 gateway.go:562] latency, 0.0000, summary, hash(request), b8d3571c, selectedpod, 10.0.1.47:8000, ttft, 110, tpot, 19, e2e, 286, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:05.072108       1 gateway.go:748] "Request completed" requestID="d66f0f1f-a230-4b1f-9cc0-eaec68cf6cf2" targetPod="10.0.1.47:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:05.072125       1 gateway.go:764] "HandleResponseBody completed" requestID="d66f0f1f-a230-4b1f-9cc0-eaec68cf6cf2" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:05.086527       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0451, numInputTokens, 3757
I0304 08:26:05.086543       1 tree.go:471] Updated node(0) last access: 122.5884 seconds
I0304 08:26:05.086549       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:05.086552       1 tree.go:471] Updated node(2) last access: 122.5884 seconds
I0304 08:26:05.086561       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:05.086565       1 tree.go:471] Updated node(26) last access: 122.5884 seconds
I0304 08:26:05.086570       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:26:05.086575       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:26:05.086581       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:05.086588       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:05.086593       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:05.086577702 +0000 UTC m=+122.706800136]
I0304 08:26:05.086607       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:26:05.086614       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:26:05.086637       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3633
I0304 08:26:05.086646       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:05.086653       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.086659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.086665       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.086668       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.086676       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:05.086684       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:05.086692       1 prefix_cache_and_load.go:584] latency, Route, 0.0454
I0304 08:26:05.086702       1 gateway.go:415] latency, selectTargetPod, 0.0454, target pod, 10.0.3.38:8000
I0304 08:26:05.086712       1 gateway.go:235] latency, HandleRequestBody, 0.0456
I0304 08:26:05.100322       1 gateway.go:329] "-- In RequestBody processing ..." requestID="023b8700-bb58-4e33-a9a6-968e6eab015b"
I0304 08:26:05.100452       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="023b8700-bb58-4e33-a9a6-968e6eab015b" model="deepseek-llm-7b-chat"
I0304 08:26:05.100496       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:05.100504       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:05.100520       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:05.100580       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:05.100594       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:05.100598       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:05.101405       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6bcfef11-57b3-436f-bc9f-10bb3ffbd81f"
I0304 08:26:05.146664       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0461, numInputTokens, 3756
I0304 08:26:05.146681       1 tree.go:471] Updated node(0) last access: 122.6485 seconds
I0304 08:26:05.146687       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:05.146691       1 tree.go:471] Updated node(2) last access: 122.6486 seconds
I0304 08:26:05.146700       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:05.146703       1 tree.go:471] Updated node(37) last access: 122.6486 seconds
I0304 08:26:05.146711       1 tree.go:667] Split complete - New node(61)
I0304 08:26:05.146716       1 tree.go:668] Split complete - Child node(38)
I0304 08:26:05.146720       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:05.146726       1 tree.go:471] Updated node(61) last access: 122.6486 seconds
I0304 08:26:05.146732       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:05.146739       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:05.146746       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:05.146755       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:05.146764       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:05.146741321 +0000 UTC m=+122.766963748]
I0304 08:26:05.146783       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3637, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:05.146793       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:05.146831       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3637
I0304 08:26:05.146844       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:05.146857       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.146863       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.146867       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.146876       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.146885       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.146898       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:05.146909       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:05.146918       1 prefix_cache_and_load.go:584] latency, Route, 0.0464
I0304 08:26:05.146928       1 gateway.go:415] latency, selectTargetPod, 0.0464, target pod, 10.0.1.47:8000
I0304 08:26:05.146939       1 gateway.go:235] latency, HandleRequestBody, 0.0466
I0304 08:26:05.147521       1 gateway.go:608] "First token received" requestID="6bcfef11-57b3-436f-bc9f-10bb3ffbd81f" ttft_ms=106
I0304 08:26:05.165300       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="023b8700-bb58-4e33-a9a6-968e6eab015b"
I0304 08:26:05.210270       1 gateway.go:608] "First token received" requestID="023b8700-bb58-4e33-a9a6-968e6eab015b" ttft_ms=109
I0304 08:26:05.212594       1 gateway.go:207] "Processing request" requestID="8573febd-9303-4006-a69d-1844d6ad7b7c"
I0304 08:26:05.212618       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8573febd-9303-4006-a69d-1844d6ad7b7c"
I0304 08:26:05.212625       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:05.258550       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8573febd-9303-4006-a69d-1844d6ad7b7c"
I0304 08:26:05.258667       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8573febd-9303-4006-a69d-1844d6ad7b7c" model="deepseek-llm-7b-chat"
I0304 08:26:05.258712       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:05.258718       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:05.258722       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:05.258765       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:05.258785       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:05.258791       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:05.309465       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0507, numInputTokens, 3755
I0304 08:26:05.309490       1 tree.go:471] Updated node(0) last access: 122.8114 seconds
I0304 08:26:05.309496       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:05.309500       1 tree.go:471] Updated node(2) last access: 122.8114 seconds
I0304 08:26:05.309520       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:05.309526       1 tree.go:471] Updated node(9) last access: 122.8114 seconds
I0304 08:26:05.309535       1 tree.go:667] Split complete - New node(63)
I0304 08:26:05.309540       1 tree.go:668] Split complete - Child node(10)
I0304 08:26:05.309545       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:05.309550       1 tree.go:471] Updated node(63) last access: 122.8114 seconds
I0304 08:26:05.309556       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:05.309561       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:05.309567       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:05.309574       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:05.309580       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:05.30956381 +0000 UTC m=+122.929786235]
I0304 08:26:05.309597       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3634, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:05.309608       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:05.309641       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3634
I0304 08:26:05.309649       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:05.309656       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.309661       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.309665       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.309669       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.309673       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.309682       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:05.309690       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:05.309700       1 prefix_cache_and_load.go:584] latency, Route, 0.0510
I0304 08:26:05.309710       1 gateway.go:415] latency, selectTargetPod, 0.0510, target pod, 10.0.0.34:8000
I0304 08:26:05.309726       1 gateway.go:235] latency, HandleRequestBody, 0.0512
I0304 08:26:05.322574       1 gateway.go:562] latency, 0.0000, summary, hash(request), 18aaeef1, selectedpod, 10.0.3.38:8000, ttft, 106, tpot, 19, e2e, 281, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:05.322593       1 gateway.go:748] "Request completed" requestID="6bcfef11-57b3-436f-bc9f-10bb3ffbd81f" targetPod="10.0.3.38:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:05.322603       1 gateway.go:764] "HandleResponseBody completed" requestID="6bcfef11-57b3-436f-bc9f-10bb3ffbd81f" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:05.325813       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8573febd-9303-4006-a69d-1844d6ad7b7c"
I0304 08:26:05.371304       1 gateway.go:608] "First token received" requestID="8573febd-9303-4006-a69d-1844d6ad7b7c" ttft_ms=112
I0304 08:26:05.386788       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2a105b76, selectedpod, 10.0.1.47:8000, ttft, 109, tpot, 19, e2e, 286, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:05.386805       1 gateway.go:748] "Request completed" requestID="023b8700-bb58-4e33-a9a6-968e6eab015b" targetPod="10.0.1.47:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:05.386816       1 gateway.go:764] "HandleResponseBody completed" requestID="023b8700-bb58-4e33-a9a6-968e6eab015b" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:05.437114       1 gateway.go:207] "Processing request" requestID="e30083fa-86fe-456d-a953-85364dbf925c"
I0304 08:26:05.437138       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e30083fa-86fe-456d-a953-85364dbf925c"
I0304 08:26:05.437146       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:05.463367       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e30083fa-86fe-456d-a953-85364dbf925c"
I0304 08:26:05.463500       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e30083fa-86fe-456d-a953-85364dbf925c" model="deepseek-llm-7b-chat"
I0304 08:26:05.463577       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:05.463585       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:05.463588       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:05.463636       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:05.463651       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:05.463656       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:05.491596       1 gateway.go:207] "Processing request" requestID="77eda295-a36a-4e03-9673-296e5150c4e9"
I0304 08:26:05.491626       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="77eda295-a36a-4e03-9673-296e5150c4e9"
I0304 08:26:05.491633       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:05.509556       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0459, numInputTokens, 3755
I0304 08:26:05.509576       1 tree.go:471] Updated node(0) last access: 123.0114 seconds
I0304 08:26:05.509582       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:05.509586       1 tree.go:471] Updated node(2) last access: 123.0114 seconds
I0304 08:26:05.509594       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:05.509598       1 tree.go:471] Updated node(40) last access: 123.0115 seconds
I0304 08:26:05.509609       1 tree.go:667] Split complete - New node(65)
I0304 08:26:05.509614       1 tree.go:668] Split complete - Child node(36)
I0304 08:26:05.509619       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:05.509629       1 tree.go:471] Updated node(65) last access: 123.0115 seconds
I0304 08:26:05.509635       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:05.509640       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:05.509647       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:05.509654       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:05.509661       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:05.509642227 +0000 UTC m=+123.129864662]
I0304 08:26:05.509677       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3639, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:05.509696       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:05.509732       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3639
I0304 08:26:05.509741       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:05.509750       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.509757       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.509767       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.509771       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.509776       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.509785       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:05.509794       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:05.509804       1 prefix_cache_and_load.go:584] latency, Route, 0.0462
I0304 08:26:05.509817       1 gateway.go:415] latency, selectTargetPod, 0.0462, target pod, 10.0.1.47:8000
I0304 08:26:05.509828       1 gateway.go:235] latency, HandleRequestBody, 0.0465
I0304 08:26:05.526329       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e30083fa-86fe-456d-a953-85364dbf925c"
I0304 08:26:05.534743       1 gateway.go:329] "-- In RequestBody processing ..." requestID="77eda295-a36a-4e03-9673-296e5150c4e9"
I0304 08:26:05.534869       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="77eda295-a36a-4e03-9673-296e5150c4e9" model="deepseek-llm-7b-chat"
I0304 08:26:05.534917       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:05.534924       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:05.534927       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:05.534980       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:05.534996       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:05.535003       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:05.536559       1 gateway.go:207] "Processing request" requestID="dddbd3b1-1b0f-4048-b104-4ea347d0bd23"
I0304 08:26:05.536586       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dddbd3b1-1b0f-4048-b104-4ea347d0bd23"
I0304 08:26:05.536593       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:05.549563       1 gateway.go:562] latency, 0.0000, summary, hash(request), ed586fe4, selectedpod, 10.0.0.34:8000, ttft, 112, tpot, 19, e2e, 290, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:05.549583       1 gateway.go:748] "Request completed" requestID="8573febd-9303-4006-a69d-1844d6ad7b7c" targetPod="10.0.0.34:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:05.549594       1 gateway.go:764] "HandleResponseBody completed" requestID="8573febd-9303-4006-a69d-1844d6ad7b7c" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:05.557653       1 gateway.go:608] "First token received" requestID="e30083fa-86fe-456d-a953-85364dbf925c" ttft_ms=94
I0304 08:26:05.594993       1 gateway.go:207] "Processing request" requestID="d0eb28c9-1762-4885-a7e3-bf9bf9c83678"
I0304 08:26:05.595017       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d0eb28c9-1762-4885-a7e3-bf9bf9c83678"
I0304 08:26:05.595028       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:05.595912       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0609, numInputTokens, 3757
I0304 08:26:05.595929       1 tree.go:471] Updated node(0) last access: 123.0978 seconds
I0304 08:26:05.595938       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:05.595944       1 tree.go:471] Updated node(2) last access: 123.0978 seconds
I0304 08:26:05.595969       1 tree.go:667] Split complete - New node(67)
I0304 08:26:05.595985       1 tree.go:668] Split complete - Child node(47)
I0304 08:26:05.595991       1 tree.go:501] latency, splitNode, 0.0000 seconds, 3753 tokens:
I0304 08:26:05.595996       1 tree.go:471] Updated node(67) last access: 123.0979 seconds
I0304 08:26:05.596001       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:26:05.596006       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:05.596012       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:05.596019       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:05.596023       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:05.596009053 +0000 UTC m=+123.216231480]
I0304 08:26:05.596036       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:26:05.596044       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:26:05.596068       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:05.596077       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:05.596084       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.596090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.596094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.596098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.596106       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:05.596121       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:05.596132       1 prefix_cache_and_load.go:584] latency, Route, 0.0612
I0304 08:26:05.596139       1 gateway.go:415] latency, selectTargetPod, 0.0612, target pod, 10.0.1.33:8000
I0304 08:26:05.596151       1 gateway.go:235] latency, HandleRequestBody, 0.0614
I0304 08:26:05.596387       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dddbd3b1-1b0f-4048-b104-4ea347d0bd23"
I0304 08:26:05.596522       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dddbd3b1-1b0f-4048-b104-4ea347d0bd23" model="deepseek-llm-7b-chat"
I0304 08:26:05.596565       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:05.596572       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:05.596575       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:05.596624       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:05.596638       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:05.596644       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:05.614071       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="77eda295-a36a-4e03-9673-296e5150c4e9"
I0304 08:26:05.644991       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0483, numInputTokens, 3751
I0304 08:26:05.645011       1 tree.go:471] Updated node(0) last access: 123.1469 seconds
I0304 08:26:05.645045       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:05.645061       1 tree.go:471] Updated node(2) last access: 123.1469 seconds
I0304 08:26:05.645073       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:05.645078       1 tree.go:471] Updated node(37) last access: 123.1469 seconds
I0304 08:26:05.645092       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:05.645098       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:26:05.645106       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:05.645117       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:05.645123       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:05.645100333 +0000 UTC m=+123.265322768]
I0304 08:26:05.645144       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3633, Matching ratio: 0.9685, # Matched pods: 0, Matched pods: []
I0304 08:26:05.645154       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9685 > 0.5000)
I0304 08:26:05.645193       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:05.645216       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:05.645223       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.645229       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.645235       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.645238       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.645247       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:05.645256       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:05.645268       1 prefix_cache_and_load.go:584] latency, Route, 0.0487
I0304 08:26:05.645278       1 gateway.go:415] latency, selectTargetPod, 0.0487, target pod, 10.0.1.47:8000
I0304 08:26:05.645295       1 gateway.go:235] latency, HandleRequestBody, 0.0489
I0304 08:26:05.649290       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d0eb28c9-1762-4885-a7e3-bf9bf9c83678"
I0304 08:26:05.649415       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d0eb28c9-1762-4885-a7e3-bf9bf9c83678" model="deepseek-llm-7b-chat"
I0304 08:26:05.649466       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:05.649474       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:05.649478       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:05.649540       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:05.649561       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:05.649568       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:05.659517       1 gateway.go:608] "First token received" requestID="77eda295-a36a-4e03-9673-296e5150c4e9" ttft_ms=124
I0304 08:26:05.661281       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dddbd3b1-1b0f-4048-b104-4ea347d0bd23"
I0304 08:26:05.684146       1 gateway.go:207] "Processing request" requestID="8770caa3-544b-48ad-8d70-25262d5bea03"
I0304 08:26:05.684165       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8770caa3-544b-48ad-8d70-25262d5bea03"
I0304 08:26:05.684174       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:05.703302       1 gateway.go:608] "First token received" requestID="dddbd3b1-1b0f-4048-b104-4ea347d0bd23" ttft_ms=106
I0304 08:26:05.714737       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0652, numInputTokens, 3752
I0304 08:26:05.714753       1 tree.go:471] Updated node(0) last access: 123.2166 seconds
I0304 08:26:05.714759       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:05.714762       1 tree.go:471] Updated node(2) last access: 123.2166 seconds
I0304 08:26:05.714771       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:05.714776       1 tree.go:471] Updated node(30) last access: 123.2166 seconds
I0304 08:26:05.714782       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:05.714787       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:05.714794       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:05.714801       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:05.714805       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:05.714789122 +0000 UTC m=+123.335011549]
I0304 08:26:05.714818       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3633, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:05.714824       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:05.714849       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3633
I0304 08:26:05.714858       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:05.714866       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.714873       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.714876       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.714880       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.714888       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:05.714898       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:05.714907       1 prefix_cache_and_load.go:584] latency, Route, 0.0654
I0304 08:26:05.714916       1 gateway.go:415] latency, selectTargetPod, 0.0655, target pod, 10.0.0.13:8000
I0304 08:26:05.714926       1 gateway.go:235] latency, HandleRequestBody, 0.0656
I0304 08:26:05.732422       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d0eb28c9-1762-4885-a7e3-bf9bf9c83678"
I0304 08:26:05.746707       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8770caa3-544b-48ad-8d70-25262d5bea03"
I0304 08:26:05.746831       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8770caa3-544b-48ad-8d70-25262d5bea03" model="deepseek-llm-7b-chat"
I0304 08:26:05.746872       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:05.746879       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:05.746882       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:05.746952       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:05.746980       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:05.746988       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:05.764213       1 gateway.go:608] "First token received" requestID="d0eb28c9-1762-4885-a7e3-bf9bf9c83678" ttft_ms=114
I0304 08:26:05.770800       1 gateway.go:562] latency, 0.0000, summary, hash(request), c09bc449, selectedpod, 10.0.1.47:8000, ttft, 94, tpot, 23, e2e, 307, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:05.770828       1 gateway.go:748] "Request completed" requestID="e30083fa-86fe-456d-a953-85364dbf925c" targetPod="10.0.1.47:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:05.770845       1 gateway.go:764] "HandleResponseBody completed" requestID="e30083fa-86fe-456d-a953-85364dbf925c" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:05.793192       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0462, numInputTokens, 3758
I0304 08:26:05.793208       1 tree.go:471] Updated node(0) last access: 123.2951 seconds
I0304 08:26:05.793214       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:05.793217       1 tree.go:471] Updated node(2) last access: 123.2951 seconds
I0304 08:26:05.793225       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:05.793229       1 tree.go:471] Updated node(24) last access: 123.2951 seconds
I0304 08:26:05.793236       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 125 tokens:
I0304 08:26:05.793242       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3758 tokens
I0304 08:26:05.793251       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:05.793259       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:05.793265       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:05.793245015 +0000 UTC m=+123.413467452]
I0304 08:26:05.793278       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3633, Matching ratio: 0.9667, # Matched pods: 0, Matched pods: []
I0304 08:26:05.793286       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9667 > 0.5000)
I0304 08:26:05.793315       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3633
I0304 08:26:05.793325       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:05.793335       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.793350       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.793356       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.793363       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.793376       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:05.793388       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:05.793402       1 prefix_cache_and_load.go:584] latency, Route, 0.0465
I0304 08:26:05.793413       1 gateway.go:415] latency, selectTargetPod, 0.0465, target pod, 10.0.1.53:8000
I0304 08:26:05.793426       1 gateway.go:235] latency, HandleRequestBody, 0.0467
I0304 08:26:05.811192       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8770caa3-544b-48ad-8d70-25262d5bea03"
I0304 08:26:05.834795       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3c74b4a8, selectedpod, 10.0.1.33:8000, ttft, 124, tpot, 19, e2e, 300, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:05.834813       1 gateway.go:748] "Request completed" requestID="77eda295-a36a-4e03-9673-296e5150c4e9" targetPod="10.0.1.33:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:05.834823       1 gateway.go:764] "HandleResponseBody completed" requestID="77eda295-a36a-4e03-9673-296e5150c4e9" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:05.849900       1 gateway.go:207] "Processing request" requestID="566d89d8-98d2-4fb2-808b-70b1b25ea3e4"
I0304 08:26:05.849925       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="566d89d8-98d2-4fb2-808b-70b1b25ea3e4"
I0304 08:26:05.849934       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:05.856761       1 gateway.go:608] "First token received" requestID="8770caa3-544b-48ad-8d70-25262d5bea03" ttft_ms=109
I0304 08:26:05.879358       1 gateway.go:329] "-- In RequestBody processing ..." requestID="566d89d8-98d2-4fb2-808b-70b1b25ea3e4"
I0304 08:26:05.879570       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="566d89d8-98d2-4fb2-808b-70b1b25ea3e4" model="deepseek-llm-7b-chat"
I0304 08:26:05.879637       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:05.879647       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:05.879652       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:05.879713       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:05.879733       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:05.879741       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:05.890814       1 gateway.go:562] latency, 0.0000, summary, hash(request), 624fd3ea, selectedpod, 10.0.1.47:8000, ttft, 106, tpot, 20, e2e, 294, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:05.890835       1 gateway.go:748] "Request completed" requestID="dddbd3b1-1b0f-4048-b104-4ea347d0bd23" targetPod="10.0.1.47:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:05.890849       1 gateway.go:764] "HandleResponseBody completed" requestID="dddbd3b1-1b0f-4048-b104-4ea347d0bd23" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:05.928930       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 3749
I0304 08:26:05.928948       1 tree.go:471] Updated node(0) last access: 123.4308 seconds
I0304 08:26:05.928954       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:05.928957       1 tree.go:471] Updated node(2) last access: 123.4308 seconds
I0304 08:26:05.928965       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:05.928970       1 tree.go:471] Updated node(24) last access: 123.4308 seconds
I0304 08:26:05.928981       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:05.928987       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3749 tokens
I0304 08:26:05.928994       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3749 tokens
I0304 08:26:05.929000       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:05.929007       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:05.928989643 +0000 UTC m=+123.549212074]
I0304 08:26:05.929023       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3749, Matched tokens: 3633, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:05.929033       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:05.929065       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3633
I0304 08:26:05.929074       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:05.929082       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.929088       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.929093       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.929098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:05.929107       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:05.929116       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:05.929130       1 prefix_cache_and_load.go:584] latency, Route, 0.0495
I0304 08:26:05.929141       1 gateway.go:415] latency, selectTargetPod, 0.0495, target pod, 10.0.1.53:8000
I0304 08:26:05.929158       1 gateway.go:235] latency, HandleRequestBody, 0.0498
I0304 08:26:05.940871       1 gateway.go:562] latency, 0.0000, summary, hash(request), f851999c, selectedpod, 10.0.0.13:8000, ttft, 114, tpot, 19, e2e, 291, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:05.940892       1 gateway.go:748] "Request completed" requestID="d0eb28c9-1762-4885-a7e3-bf9bf9c83678" targetPod="10.0.0.13:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:05.940903       1 gateway.go:764] "HandleResponseBody completed" requestID="d0eb28c9-1762-4885-a7e3-bf9bf9c83678" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:05.944937       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="566d89d8-98d2-4fb2-808b-70b1b25ea3e4"
I0304 08:26:05.982527       1 gateway.go:608] "First token received" requestID="566d89d8-98d2-4fb2-808b-70b1b25ea3e4" ttft_ms=103
I0304 08:26:06.067323       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9c54f371, selectedpod, 10.0.1.53:8000, ttft, 109, tpot, 23, e2e, 320, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:06.067342       1 gateway.go:748] "Request completed" requestID="8770caa3-544b-48ad-8d70-25262d5bea03" targetPod="10.0.1.53:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:06.067352       1 gateway.go:764] "HandleResponseBody completed" requestID="8770caa3-544b-48ad-8d70-25262d5bea03" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:06.166456       1 gateway.go:562] latency, 0.0000, summary, hash(request), 83784894, selectedpod, 10.0.1.53:8000, ttft, 103, tpot, 20, e2e, 287, numInputTokens, 3962, numOutputTokens, 10, numTotalTokens, 3972
I0304 08:26:06.166476       1 gateway.go:748] "Request completed" requestID="566d89d8-98d2-4fb2-808b-70b1b25ea3e4" targetPod="10.0.1.53:8000" promptTokens=3962 completionTokens=10 totalTokens=3972
I0304 08:26:06.166487       1 gateway.go:764] "HandleResponseBody completed" requestID="566d89d8-98d2-4fb2-808b-70b1b25ea3e4" promptTokens=3962 completionTokens=10 stream=true
I0304 08:26:06.427120       1 gateway.go:207] "Processing request" requestID="78eb963f-f0ec-455a-9e58-85a1e3148f5f"
I0304 08:26:06.427151       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="78eb963f-f0ec-455a-9e58-85a1e3148f5f"
I0304 08:26:06.427160       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:06.434758       1 gateway.go:329] "-- In RequestBody processing ..." requestID="78eb963f-f0ec-455a-9e58-85a1e3148f5f"
I0304 08:26:06.434901       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="78eb963f-f0ec-455a-9e58-85a1e3148f5f" model="deepseek-llm-7b-chat"
I0304 08:26:06.434986       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:06.434993       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:06.434998       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:06.435071       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:06.435092       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:06.435099       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:06.482599       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0475, numInputTokens, 3752
I0304 08:26:06.482617       1 tree.go:471] Updated node(0) last access: 123.9845 seconds
I0304 08:26:06.482624       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:06.482627       1 tree.go:471] Updated node(2) last access: 123.9845 seconds
I0304 08:26:06.482635       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:06.482639       1 tree.go:471] Updated node(22) last access: 123.9845 seconds
I0304 08:26:06.482645       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:06.482652       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:06.482661       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:06.482669       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:06.482677       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:06.482654974 +0000 UTC m=+124.102877406]
I0304 08:26:06.482699       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3633, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:06.482708       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:06.482749       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:06.482761       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:06.482770       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:06.482776       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:06.482780       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:06.482786       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:06.482794       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:06.482802       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:06.482811       1 prefix_cache_and_load.go:584] latency, Route, 0.0478
I0304 08:26:06.482821       1 gateway.go:415] latency, selectTargetPod, 0.0478, target pod, 10.0.1.33:8000
I0304 08:26:06.482831       1 gateway.go:235] latency, HandleRequestBody, 0.0481
I0304 08:26:06.503422       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="78eb963f-f0ec-455a-9e58-85a1e3148f5f"
I0304 08:26:06.533801       1 gateway.go:608] "First token received" requestID="78eb963f-f0ec-455a-9e58-85a1e3148f5f" ttft_ms=98
I0304 08:26:06.709294       1 gateway.go:562] latency, 0.0000, summary, hash(request), 951c830f, selectedpod, 10.0.1.33:8000, ttft, 98, tpot, 19, e2e, 274, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:06.709313       1 gateway.go:748] "Request completed" requestID="78eb963f-f0ec-455a-9e58-85a1e3148f5f" targetPod="10.0.1.33:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:06.709323       1 gateway.go:764] "HandleResponseBody completed" requestID="78eb963f-f0ec-455a-9e58-85a1e3148f5f" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:06.853680       1 gateway.go:207] "Processing request" requestID="baad4e15-afc2-47c4-a576-cc4678713807"
I0304 08:26:06.853711       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="baad4e15-afc2-47c4-a576-cc4678713807"
I0304 08:26:06.853721       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:06.902010       1 gateway.go:207] "Processing request" requestID="dcdcaab2-a6b4-4e62-83e5-bf8d931ccbb1"
I0304 08:26:06.902039       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dcdcaab2-a6b4-4e62-83e5-bf8d931ccbb1"
I0304 08:26:06.902048       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:06.907037       1 gateway.go:329] "-- In RequestBody processing ..." requestID="baad4e15-afc2-47c4-a576-cc4678713807"
I0304 08:26:06.907165       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="baad4e15-afc2-47c4-a576-cc4678713807" model="deepseek-llm-7b-chat"
I0304 08:26:06.907213       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:06.907219       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:06.907223       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:06.907277       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:06.907303       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:06.907307       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:06.953120       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0458, numInputTokens, 3754
I0304 08:26:06.953137       1 tree.go:471] Updated node(0) last access: 124.4550 seconds
I0304 08:26:06.953143       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:06.953147       1 tree.go:471] Updated node(2) last access: 124.4550 seconds
I0304 08:26:06.953154       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:06.953159       1 tree.go:471] Updated node(30) last access: 124.4550 seconds
I0304 08:26:06.953165       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:06.953171       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:06.953178       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:06.953184       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:06.953189       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:06.95317315 +0000 UTC m=+124.573395575]
I0304 08:26:06.953206       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:06.953212       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:06.953240       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3633
I0304 08:26:06.953249       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:06.953256       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:06.953263       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:06.953266       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:06.953270       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:06.953289       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:06.953298       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:06.953307       1 prefix_cache_and_load.go:584] latency, Route, 0.0461
I0304 08:26:06.953318       1 gateway.go:415] latency, selectTargetPod, 0.0461, target pod, 10.0.0.13:8000
I0304 08:26:06.953332       1 gateway.go:235] latency, HandleRequestBody, 0.0463
I0304 08:26:06.956127       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dcdcaab2-a6b4-4e62-83e5-bf8d931ccbb1"
I0304 08:26:06.956267       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dcdcaab2-a6b4-4e62-83e5-bf8d931ccbb1" model="deepseek-llm-7b-chat"
I0304 08:26:06.956335       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:06.956345       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:06.956350       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:06.956419       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:06.956434       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:06.956440       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:06.964881       1 gateway.go:207] "Processing request" requestID="9f7ccb2f-f5f8-4f36-930b-7912307645d9"
I0304 08:26:06.964913       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9f7ccb2f-f5f8-4f36-930b-7912307645d9"
I0304 08:26:06.964924       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:06.975774       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="baad4e15-afc2-47c4-a576-cc4678713807"
I0304 08:26:06.994385       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9f7ccb2f-f5f8-4f36-930b-7912307645d9"
I0304 08:26:06.994608       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9f7ccb2f-f5f8-4f36-930b-7912307645d9" model="deepseek-llm-7b-chat"
I0304 08:26:07.000647       1 gateway.go:207] "Processing request" requestID="03d57d2c-4bd2-4ae8-a189-20421f9e49f5"
I0304 08:26:07.000677       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="03d57d2c-4bd2-4ae8-a189-20421f9e49f5"
I0304 08:26:07.000687       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:07.007361       1 gateway.go:608] "First token received" requestID="baad4e15-afc2-47c4-a576-cc4678713807" ttft_ms=100
I0304 08:26:07.010064       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0536, numInputTokens, 3755
I0304 08:26:07.010084       1 tree.go:471] Updated node(0) last access: 124.5119 seconds
I0304 08:26:07.010090       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:07.010095       1 tree.go:471] Updated node(2) last access: 124.5120 seconds
I0304 08:26:07.010105       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:07.010109       1 tree.go:471] Updated node(9) last access: 124.5120 seconds
I0304 08:26:07.010115       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:07.010121       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:07.010128       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:07.010135       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:07.010140       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:07.010123709 +0000 UTC m=+124.630346135]
I0304 08:26:07.010156       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3633, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:07.010164       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:07.010194       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3633
I0304 08:26:07.010204       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:07.010212       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.010220       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.010225       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.010230       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.010243       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:07.010254       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:07.010265       1 prefix_cache_and_load.go:584] latency, Route, 0.0539
I0304 08:26:07.010284       1 gateway.go:415] latency, selectTargetPod, 0.0540, target pod, 10.0.0.34:8000
I0304 08:26:07.010297       1 gateway.go:235] latency, HandleRequestBody, 0.0542
I0304 08:26:07.010322       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0156
I0304 08:26:07.010326       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:07.010330       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:07.010367       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:07.010382       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0000
I0304 08:26:07.010387       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:07.026541       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dcdcaab2-a6b4-4e62-83e5-bf8d931ccbb1"
I0304 08:26:07.055856       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0455, numInputTokens, 3752
I0304 08:26:07.055871       1 tree.go:471] Updated node(0) last access: 124.5577 seconds
I0304 08:26:07.055877       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:07.055880       1 tree.go:471] Updated node(2) last access: 124.5577 seconds
I0304 08:26:07.055888       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:07.055893       1 tree.go:471] Updated node(30) last access: 124.5578 seconds
I0304 08:26:07.055898       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:07.055904       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:07.055910       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:07.055915       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:07.055920       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:07.055906186 +0000 UTC m=+124.676128612]
I0304 08:26:07.055933       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3633, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:07.055939       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:07.055970       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3633
I0304 08:26:07.055987       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:07.055996       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.056004       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.056009       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.056015       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.056028       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:07.056038       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:07.056050       1 prefix_cache_and_load.go:584] latency, Route, 0.0613
I0304 08:26:07.056060       1 gateway.go:415] latency, selectTargetPod, 0.0614, target pod, 10.0.0.13:8000
I0304 08:26:07.056072       1 gateway.go:235] latency, HandleRequestBody, 0.0617
I0304 08:26:07.059239       1 gateway.go:329] "-- In RequestBody processing ..." requestID="03d57d2c-4bd2-4ae8-a189-20421f9e49f5"
I0304 08:26:07.059361       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="03d57d2c-4bd2-4ae8-a189-20421f9e49f5" model="deepseek-llm-7b-chat"
I0304 08:26:07.059408       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:07.059414       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:07.059418       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:07.059474       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:07.059489       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:07.059495       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:07.078600       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9f7ccb2f-f5f8-4f36-930b-7912307645d9"
I0304 08:26:07.078891       1 gateway.go:608] "First token received" requestID="dcdcaab2-a6b4-4e62-83e5-bf8d931ccbb1" ttft_ms=122
I0304 08:26:07.115878       1 gateway.go:608] "First token received" requestID="9f7ccb2f-f5f8-4f36-930b-7912307645d9" ttft_ms=121
I0304 08:26:07.122450       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0629, numInputTokens, 3757
I0304 08:26:07.122468       1 tree.go:471] Updated node(0) last access: 124.6243 seconds
I0304 08:26:07.122476       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:07.122481       1 tree.go:471] Updated node(2) last access: 124.6243 seconds
I0304 08:26:07.122491       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:07.122496       1 tree.go:471] Updated node(40) last access: 124.6244 seconds
I0304 08:26:07.122501       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:26:07.122507       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:26:07.122523       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:07.122532       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:07.122538       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:07.122509282 +0000 UTC m=+124.742731715]
I0304 08:26:07.122553       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:26:07.122560       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:26:07.122590       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:07.122602       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:07.122611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.122617       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.122622       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.122629       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.122640       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:07.122648       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:07.122660       1 prefix_cache_and_load.go:584] latency, Route, 0.0633
I0304 08:26:07.122671       1 gateway.go:415] latency, selectTargetPod, 0.0633, target pod, 10.0.1.47:8000
I0304 08:26:07.122684       1 gateway.go:235] latency, HandleRequestBody, 0.0634
I0304 08:26:07.139230       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="03d57d2c-4bd2-4ae8-a189-20421f9e49f5"
I0304 08:26:07.181857       1 gateway.go:207] "Processing request" requestID="bab2658c-dcd9-4194-a2ae-9a58e9360d2e"
I0304 08:26:07.181882       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bab2658c-dcd9-4194-a2ae-9a58e9360d2e"
I0304 08:26:07.181891       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:07.184798       1 gateway.go:608] "First token received" requestID="03d57d2c-4bd2-4ae8-a189-20421f9e49f5" ttft_ms=125
I0304 08:26:07.221197       1 gateway.go:562] latency, 0.0000, summary, hash(request), d97c0356, selectedpod, 10.0.0.13:8000, ttft, 100, tpot, 23, e2e, 314, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:07.221216       1 gateway.go:748] "Request completed" requestID="baad4e15-afc2-47c4-a576-cc4678713807" targetPod="10.0.0.13:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:07.221227       1 gateway.go:764] "HandleResponseBody completed" requestID="baad4e15-afc2-47c4-a576-cc4678713807" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:07.225940       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bab2658c-dcd9-4194-a2ae-9a58e9360d2e"
I0304 08:26:07.226082       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bab2658c-dcd9-4194-a2ae-9a58e9360d2e" model="deepseek-llm-7b-chat"
I0304 08:26:07.226125       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:07.226133       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:07.226138       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:07.226193       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:07.226209       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:07.226214       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:07.235572       1 gateway.go:207] "Processing request" requestID="e8ef7c95-f593-4474-8815-103f311fb982"
I0304 08:26:07.235598       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e8ef7c95-f593-4474-8815-103f311fb982"
I0304 08:26:07.235612       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:07.247533       1 gateway.go:562] latency, 0.0000, summary, hash(request), c36dfc34, selectedpod, 10.0.0.34:8000, ttft, 122, tpot, 18, e2e, 291, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:07.247552       1 gateway.go:748] "Request completed" requestID="dcdcaab2-a6b4-4e62-83e5-bf8d931ccbb1" targetPod="10.0.0.34:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:07.247562       1 gateway.go:764] "HandleResponseBody completed" requestID="dcdcaab2-a6b4-4e62-83e5-bf8d931ccbb1" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:07.256222       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e8ef7c95-f593-4474-8815-103f311fb982"
I0304 08:26:07.256358       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e8ef7c95-f593-4474-8815-103f311fb982" model="deepseek-llm-7b-chat"
I0304 08:26:07.271471       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0452, numInputTokens, 3752
I0304 08:26:07.271489       1 tree.go:471] Updated node(0) last access: 124.7734 seconds
I0304 08:26:07.271496       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:07.271502       1 tree.go:471] Updated node(2) last access: 124.7734 seconds
I0304 08:26:07.271522       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:07.271527       1 tree.go:471] Updated node(24) last access: 124.7734 seconds
I0304 08:26:07.271541       1 tree.go:667] Split complete - New node(78)
I0304 08:26:07.271551       1 tree.go:668] Split complete - Child node(11)
I0304 08:26:07.271557       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:07.271571       1 tree.go:471] Updated node(78) last access: 124.7734 seconds
I0304 08:26:07.271579       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:07.271586       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:07.271595       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:07.271603       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:07.271610       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:07.271589244 +0000 UTC m=+124.891811673]
I0304 08:26:07.271628       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3639, Matching ratio: 0.9699, # Matched pods: 0, Matched pods: []
I0304 08:26:07.271639       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9699 > 0.5000)
I0304 08:26:07.271702       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3639
I0304 08:26:07.271717       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:07.271725       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.271732       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.271740       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.271744       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.271756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.271772       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:07.271783       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:07.271795       1 prefix_cache_and_load.go:584] latency, Route, 0.0457
I0304 08:26:07.271810       1 gateway.go:415] latency, selectTargetPod, 0.0457, target pod, 10.0.1.53:8000
I0304 08:26:07.271833       1 gateway.go:235] latency, HandleRequestBody, 0.0459
I0304 08:26:07.271857       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0154
I0304 08:26:07.271875       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:07.271881       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:07.272063       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:07.272109       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:07.272117       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:07.288411       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bab2658c-dcd9-4194-a2ae-9a58e9360d2e"
I0304 08:26:07.301327       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7cc10697, selectedpod, 10.0.0.13:8000, ttft, 121, tpot, 20, e2e, 306, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:07.301347       1 gateway.go:748] "Request completed" requestID="9f7ccb2f-f5f8-4f36-930b-7912307645d9" targetPod="10.0.0.13:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:07.301359       1 gateway.go:764] "HandleResponseBody completed" requestID="9f7ccb2f-f5f8-4f36-930b-7912307645d9" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:07.319492       1 gateway.go:608] "First token received" requestID="bab2658c-dcd9-4194-a2ae-9a58e9360d2e" ttft_ms=93
I0304 08:26:07.320507       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0484, numInputTokens, 3756
I0304 08:26:07.320532       1 tree.go:471] Updated node(0) last access: 124.8224 seconds
I0304 08:26:07.320538       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:07.320541       1 tree.go:471] Updated node(2) last access: 124.8224 seconds
I0304 08:26:07.320550       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:07.320554       1 tree.go:471] Updated node(9) last access: 124.8224 seconds
I0304 08:26:07.320562       1 tree.go:667] Split complete - New node(80)
I0304 08:26:07.320566       1 tree.go:668] Split complete - Child node(75)
I0304 08:26:07.320571       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:07.320576       1 tree.go:471] Updated node(80) last access: 124.8224 seconds
I0304 08:26:07.320581       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:07.320584       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:07.320592       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:07.320599       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:07.320607       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:07.320588015 +0000 UTC m=+124.940810440]
I0304 08:26:07.320624       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3638, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:07.320632       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:07.320669       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3638
I0304 08:26:07.320684       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:07.320693       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.320698       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.320702       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.320706       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.320711       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.320719       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:07.320729       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:07.320741       1 prefix_cache_and_load.go:584] latency, Route, 0.0643
I0304 08:26:07.320753       1 gateway.go:415] latency, selectTargetPod, 0.0643, target pod, 10.0.0.34:8000
I0304 08:26:07.320763       1 gateway.go:235] latency, HandleRequestBody, 0.0645
I0304 08:26:07.337813       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e8ef7c95-f593-4474-8815-103f311fb982"
I0304 08:26:07.355200       1 gateway.go:207] "Processing request" requestID="4f5092ff-9e15-473e-b0df-dfb04f05e0b0"
I0304 08:26:07.355228       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4f5092ff-9e15-473e-b0df-dfb04f05e0b0"
I0304 08:26:07.355238       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:07.361251       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2b9a9205, selectedpod, 10.0.1.47:8000, ttft, 125, tpot, 19, e2e, 301, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:07.361268       1 gateway.go:748] "Request completed" requestID="03d57d2c-4bd2-4ae8-a189-20421f9e49f5" targetPod="10.0.1.47:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:07.361278       1 gateway.go:764] "HandleResponseBody completed" requestID="03d57d2c-4bd2-4ae8-a189-20421f9e49f5" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:07.367949       1 gateway.go:608] "First token received" requestID="e8ef7c95-f593-4474-8815-103f311fb982" ttft_ms=111
I0304 08:26:07.398439       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4f5092ff-9e15-473e-b0df-dfb04f05e0b0"
I0304 08:26:07.398574       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4f5092ff-9e15-473e-b0df-dfb04f05e0b0" model="deepseek-llm-7b-chat"
I0304 08:26:07.398624       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:07.398631       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:07.398635       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:07.398688       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:07.398703       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:07.398709       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:07.445583       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0469, numInputTokens, 3752
I0304 08:26:07.445600       1 tree.go:471] Updated node(0) last access: 124.9475 seconds
I0304 08:26:07.445606       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:07.445610       1 tree.go:471] Updated node(2) last access: 124.9475 seconds
I0304 08:26:07.445618       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:07.445622       1 tree.go:471] Updated node(40) last access: 124.9475 seconds
I0304 08:26:07.445626       1 tree.go:490] Partial tokens match child node(65). Continue to go deeper in the radix tree
I0304 08:26:07.445630       1 tree.go:471] Updated node(65) last access: 124.9475 seconds
I0304 08:26:07.445637       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:07.445641       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:07.445652       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:07.445659       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:07.445667       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:07.445644227 +0000 UTC m=+125.065866652]
I0304 08:26:07.445684       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3639, Matching ratio: 0.9699, # Matched pods: 0, Matched pods: []
I0304 08:26:07.445690       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9699 > 0.5000)
I0304 08:26:07.445718       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3639
I0304 08:26:07.445727       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:07.445766       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.445773       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.445777       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.445783       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.445787       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.445796       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:07.445804       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:07.445814       1 prefix_cache_and_load.go:584] latency, Route, 0.0472
I0304 08:26:07.445826       1 gateway.go:415] latency, selectTargetPod, 0.0472, target pod, 10.0.1.47:8000
I0304 08:26:07.445837       1 gateway.go:235] latency, HandleRequestBody, 0.0474
I0304 08:26:07.453839       1 gateway.go:207] "Processing request" requestID="aa8c343d-eb3f-45d6-95ba-5eda17737835"
I0304 08:26:07.453871       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="aa8c343d-eb3f-45d6-95ba-5eda17737835"
I0304 08:26:07.453879       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:07.463244       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4f5092ff-9e15-473e-b0df-dfb04f05e0b0"
I0304 08:26:07.494278       1 gateway.go:608] "First token received" requestID="4f5092ff-9e15-473e-b0df-dfb04f05e0b0" ttft_ms=95
I0304 08:26:07.495127       1 gateway.go:562] latency, 0.0000, summary, hash(request), edaafd6a, selectedpod, 10.0.1.53:8000, ttft, 93, tpot, 19, e2e, 269, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:07.495148       1 gateway.go:748] "Request completed" requestID="bab2658c-dcd9-4194-a2ae-9a58e9360d2e" targetPod="10.0.1.53:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:07.495159       1 gateway.go:764] "HandleResponseBody completed" requestID="bab2658c-dcd9-4194-a2ae-9a58e9360d2e" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:07.495240       1 gateway.go:329] "-- In RequestBody processing ..." requestID="aa8c343d-eb3f-45d6-95ba-5eda17737835"
I0304 08:26:07.495359       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="aa8c343d-eb3f-45d6-95ba-5eda17737835" model="deepseek-llm-7b-chat"
I0304 08:26:07.495424       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:07.495431       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:07.495434       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:07.495488       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:07.495503       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:07.495509       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:07.543471       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4933f49d, selectedpod, 10.0.0.34:8000, ttft, 111, tpot, 19, e2e, 287, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:07.543495       1 gateway.go:748] "Request completed" requestID="e8ef7c95-f593-4474-8815-103f311fb982" targetPod="10.0.0.34:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:07.543508       1 gateway.go:764] "HandleResponseBody completed" requestID="e8ef7c95-f593-4474-8815-103f311fb982" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:07.545187       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0497, numInputTokens, 3757
I0304 08:26:07.545205       1 tree.go:471] Updated node(0) last access: 125.0471 seconds
I0304 08:26:07.545211       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:07.545215       1 tree.go:471] Updated node(2) last access: 125.0471 seconds
I0304 08:26:07.545222       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:07.545227       1 tree.go:471] Updated node(22) last access: 125.0471 seconds
I0304 08:26:07.545235       1 tree.go:667] Split complete - New node(83)
I0304 08:26:07.545239       1 tree.go:668] Split complete - Child node(23)
I0304 08:26:07.545244       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0304 08:26:07.545250       1 tree.go:471] Updated node(83) last access: 125.0471 seconds
I0304 08:26:07.545255       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:07.545260       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:07.545266       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:07.545274       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:07.545279       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:07.545262823 +0000 UTC m=+125.165485248]
I0304 08:26:07.545292       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3642, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:07.545299       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:07.545327       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3642
I0304 08:26:07.545335       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:07.545344       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.545350       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.545354       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.545360       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.545367       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.545375       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:07.545383       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:07.545393       1 prefix_cache_and_load.go:584] latency, Route, 0.0500
I0304 08:26:07.545408       1 gateway.go:415] latency, selectTargetPod, 0.0500, target pod, 10.0.1.33:8000
I0304 08:26:07.545418       1 gateway.go:235] latency, HandleRequestBody, 0.0502
I0304 08:26:07.566254       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="aa8c343d-eb3f-45d6-95ba-5eda17737835"
I0304 08:26:07.611782       1 gateway.go:608] "First token received" requestID="aa8c343d-eb3f-45d6-95ba-5eda17737835" ttft_ms=116
I0304 08:26:07.669960       1 gateway.go:562] latency, 0.0000, summary, hash(request), b09be0c8, selectedpod, 10.0.1.47:8000, ttft, 95, tpot, 19, e2e, 271, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:07.669984       1 gateway.go:748] "Request completed" requestID="4f5092ff-9e15-473e-b0df-dfb04f05e0b0" targetPod="10.0.1.47:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:07.669993       1 gateway.go:764] "HandleResponseBody completed" requestID="4f5092ff-9e15-473e-b0df-dfb04f05e0b0" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:07.684417       1 gateway.go:207] "Processing request" requestID="9cda3ac8-1f22-4e03-a495-ea4de29dfd71"
I0304 08:26:07.684435       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9cda3ac8-1f22-4e03-a495-ea4de29dfd71"
I0304 08:26:07.684443       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:07.742316       1 gateway.go:207] "Processing request" requestID="61974c43-fbbc-493f-a211-45c308ce8868"
I0304 08:26:07.742334       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9cda3ac8-1f22-4e03-a495-ea4de29dfd71"
I0304 08:26:07.742457       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9cda3ac8-1f22-4e03-a495-ea4de29dfd71" model="deepseek-llm-7b-chat"
I0304 08:26:07.742521       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:07.742527       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:07.742530       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:07.742580       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:07.742596       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:07.742601       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:07.742886       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="61974c43-fbbc-493f-a211-45c308ce8868"
I0304 08:26:07.742902       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:07.745744       1 gateway.go:329] "-- In RequestBody processing ..." requestID="61974c43-fbbc-493f-a211-45c308ce8868"
I0304 08:26:07.745919       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="61974c43-fbbc-493f-a211-45c308ce8868" model="deepseek-llm-7b-chat"
I0304 08:26:07.751848       1 gateway.go:207] "Processing request" requestID="7376a38c-0d51-44fa-a203-1712b1ba1824"
I0304 08:26:07.752027       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7376a38c-0d51-44fa-a203-1712b1ba1824"
I0304 08:26:07.752060       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:07.787134       1 gateway.go:562] latency, 0.0000, summary, hash(request), 430f57bd, selectedpod, 10.0.1.33:8000, ttft, 116, tpot, 19, e2e, 291, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:07.787158       1 gateway.go:748] "Request completed" requestID="aa8c343d-eb3f-45d6-95ba-5eda17737835" targetPod="10.0.1.33:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:07.787170       1 gateway.go:764] "HandleResponseBody completed" requestID="aa8c343d-eb3f-45d6-95ba-5eda17737835" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:07.792417       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0498, numInputTokens, 3757
I0304 08:26:07.792438       1 tree.go:471] Updated node(0) last access: 125.2943 seconds
I0304 08:26:07.792445       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:07.792450       1 tree.go:471] Updated node(2) last access: 125.2943 seconds
I0304 08:26:07.792460       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:07.792464       1 tree.go:471] Updated node(5) last access: 125.2943 seconds
I0304 08:26:07.792476       1 tree.go:667] Split complete - New node(85)
I0304 08:26:07.792481       1 tree.go:668] Split complete - Child node(3)
I0304 08:26:07.792488       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0304 08:26:07.792495       1 tree.go:471] Updated node(85) last access: 125.2944 seconds
I0304 08:26:07.792506       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:07.792523       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:07.792533       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:07.792540       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:07.792549       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:07.792527502 +0000 UTC m=+125.412749933]
I0304 08:26:07.792568       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3636, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:07.792579       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:07.792617       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3636
I0304 08:26:07.792626       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:07.792634       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.792641       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.792647       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.792651       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.792656       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.792665       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:07.792678       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:07.792694       1 prefix_cache_and_load.go:584] latency, Route, 0.0502
I0304 08:26:07.792711       1 gateway.go:415] latency, selectTargetPod, 0.0502, target pod, 10.0.3.28:8000
I0304 08:26:07.792725       1 gateway.go:235] latency, HandleRequestBody, 0.0504
I0304 08:26:07.792763       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0468
I0304 08:26:07.792772       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:07.792777       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:07.792830       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:07.792848       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:07.792852       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:07.806375       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7376a38c-0d51-44fa-a203-1712b1ba1824"
I0304 08:26:07.806502       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7376a38c-0d51-44fa-a203-1712b1ba1824" model="deepseek-llm-7b-chat"
I0304 08:26:07.810341       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9cda3ac8-1f22-4e03-a495-ea4de29dfd71"
I0304 08:26:07.839986       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0471, numInputTokens, 3757
I0304 08:26:07.840004       1 tree.go:471] Updated node(0) last access: 125.3419 seconds
I0304 08:26:07.840010       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:07.840014       1 tree.go:471] Updated node(2) last access: 125.3419 seconds
I0304 08:26:07.840024       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:07.840028       1 tree.go:471] Updated node(24) last access: 125.3419 seconds
I0304 08:26:07.840042       1 tree.go:667] Split complete - New node(87)
I0304 08:26:07.840046       1 tree.go:668] Split complete - Child node(71)
I0304 08:26:07.840051       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0304 08:26:07.840055       1 tree.go:471] Updated node(87) last access: 125.3419 seconds
I0304 08:26:07.840060       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:07.840064       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:07.840070       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:07.840103       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:07.840109       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:07.8400659 +0000 UTC m=+125.460288325]
I0304 08:26:07.840124       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3640, Matching ratio: 0.9689, # Matched pods: 0, Matched pods: []
I0304 08:26:07.840132       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9689 > 0.5000)
I0304 08:26:07.840161       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3640
I0304 08:26:07.840170       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:07.840178       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.840185       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.840190       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.840194       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.840197       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.840205       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:07.840214       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:07.840224       1 prefix_cache_and_load.go:584] latency, Route, 0.0942
I0304 08:26:07.840241       1 gateway.go:415] latency, selectTargetPod, 0.0942, target pod, 10.0.1.53:8000
I0304 08:26:07.840253       1 gateway.go:235] latency, HandleRequestBody, 0.0945
I0304 08:26:07.840276       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0337
I0304 08:26:07.840280       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:07.840283       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:07.840338       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:07.840355       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:07.840360       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:07.853053       1 gateway.go:608] "First token received" requestID="9cda3ac8-1f22-4e03-a495-ea4de29dfd71" ttft_ms=110
I0304 08:26:07.857917       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="61974c43-fbbc-493f-a211-45c308ce8868"
I0304 08:26:07.884009       1 gateway.go:207] "Processing request" requestID="91698a13-6284-47fa-9147-fe3235458faf"
I0304 08:26:07.884033       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="91698a13-6284-47fa-9147-fe3235458faf"
I0304 08:26:07.884042       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:07.886259       1 gateway.go:329] "-- In RequestBody processing ..." requestID="91698a13-6284-47fa-9147-fe3235458faf"
I0304 08:26:07.886418       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="91698a13-6284-47fa-9147-fe3235458faf" model="deepseek-llm-7b-chat"
I0304 08:26:07.891112       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0507, numInputTokens, 3757
I0304 08:26:07.891133       1 tree.go:471] Updated node(0) last access: 125.3930 seconds
I0304 08:26:07.891140       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:07.891143       1 tree.go:471] Updated node(2) last access: 125.3930 seconds
I0304 08:26:07.891152       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:07.891156       1 tree.go:471] Updated node(9) last access: 125.3930 seconds
I0304 08:26:07.891161       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:26:07.891166       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:26:07.891172       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:07.891179       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:07.891183       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:07.891167924 +0000 UTC m=+125.511390350]
I0304 08:26:07.891199       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:26:07.891205       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:26:07.891236       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3633
I0304 08:26:07.891245       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:07.891252       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.891259       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.891263       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.891266       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.891274       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:07.891283       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:07.891293       1 prefix_cache_and_load.go:584] latency, Route, 0.0847
I0304 08:26:07.891309       1 gateway.go:415] latency, selectTargetPod, 0.0847, target pod, 10.0.0.34:8000
I0304 08:26:07.891321       1 gateway.go:235] latency, HandleRequestBody, 0.0849
I0304 08:26:07.891325       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0048
I0304 08:26:07.891342       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:07.891347       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:07.891411       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:07.891431       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:07.891436       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:07.892182       1 gateway.go:207] "Processing request" requestID="bcea4c6c-2e4a-4c11-9c7f-45bd27638cb2"
I0304 08:26:07.892213       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bcea4c6c-2e4a-4c11-9c7f-45bd27638cb2"
I0304 08:26:07.892226       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:07.902472       1 gateway.go:608] "First token received" requestID="61974c43-fbbc-493f-a211-45c308ce8868" ttft_ms=156
I0304 08:26:07.911023       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7376a38c-0d51-44fa-a203-1712b1ba1824"
I0304 08:26:07.934270       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bcea4c6c-2e4a-4c11-9c7f-45bd27638cb2"
I0304 08:26:07.934464       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bcea4c6c-2e4a-4c11-9c7f-45bd27638cb2" model="deepseek-llm-7b-chat"
I0304 08:26:07.936412       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0450, numInputTokens, 3752
I0304 08:26:07.936428       1 tree.go:471] Updated node(0) last access: 125.4383 seconds
I0304 08:26:07.936434       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:07.936438       1 tree.go:471] Updated node(2) last access: 125.4383 seconds
I0304 08:26:07.936447       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:07.936451       1 tree.go:471] Updated node(22) last access: 125.4383 seconds
I0304 08:26:07.936457       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:07.936463       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:07.936469       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:07.936474       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:07.936479       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:07.93646485 +0000 UTC m=+125.556687289]
I0304 08:26:07.936493       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3633, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:07.936500       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:07.936535       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:07.936544       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:07.936553       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.936559       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.936565       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.936569       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:07.936576       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:07.936586       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:07.936607       1 prefix_cache_and_load.go:584] latency, Route, 0.0501
I0304 08:26:07.936626       1 gateway.go:415] latency, selectTargetPod, 0.0501, target pod, 10.0.1.33:8000
I0304 08:26:07.936641       1 gateway.go:235] latency, HandleRequestBody, 0.0504
I0304 08:26:07.936663       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0021
I0304 08:26:07.936667       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:07.936669       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:07.936726       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:07.936742       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:07.936746       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:07.952986       1 gateway.go:608] "First token received" requestID="7376a38c-0d51-44fa-a203-1712b1ba1824" ttft_ms=146
I0304 08:26:07.954221       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="91698a13-6284-47fa-9147-fe3235458faf"
I0304 08:26:07.984866       1 gateway.go:608] "First token received" requestID="91698a13-6284-47fa-9147-fe3235458faf" ttft_ms=98
I0304 08:26:07.985989       1 gateway.go:207] "Processing request" requestID="5a8859fd-8cd4-4f16-aa07-00d9f9652831"
I0304 08:26:07.986014       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5a8859fd-8cd4-4f16-aa07-00d9f9652831"
I0304 08:26:07.986021       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:07.991422       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5a8859fd-8cd4-4f16-aa07-00d9f9652831"
I0304 08:26:07.991547       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5a8859fd-8cd4-4f16-aa07-00d9f9652831" model="deepseek-llm-7b-chat"
I0304 08:26:08.010848       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0741, numInputTokens, 3755
I0304 08:26:08.010886       1 tree.go:471] Updated node(0) last access: 125.5127 seconds
I0304 08:26:08.010893       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:08.010898       1 tree.go:471] Updated node(2) last access: 125.5128 seconds
I0304 08:26:08.010907       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:08.010912       1 tree.go:471] Updated node(26) last access: 125.5128 seconds
I0304 08:26:08.010921       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:08.010926       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:08.010934       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:08.010944       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:08.010950       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:08.010928665 +0000 UTC m=+125.631151099]
I0304 08:26:08.010970       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3633, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:08.010989       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:08.011040       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3633
I0304 08:26:08.011049       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:08.011058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.011063       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.011068       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.011072       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.011080       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:08.011089       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:08.011104       1 prefix_cache_and_load.go:584] latency, Route, 0.0766
I0304 08:26:08.011123       1 gateway.go:415] latency, selectTargetPod, 0.0766, target pod, 10.0.3.38:8000
I0304 08:26:08.011136       1 gateway.go:235] latency, HandleRequestBody, 0.0769
I0304 08:26:08.011164       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0196
I0304 08:26:08.011168       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:08.011171       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:08.011299       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:08.011380       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:08.011388       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:08.026114       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bcea4c6c-2e4a-4c11-9c7f-45bd27638cb2"
I0304 08:26:08.028464       1 gateway.go:562] latency, 0.0000, summary, hash(request), b6e4e8c9, selectedpod, 10.0.3.28:8000, ttft, 110, tpot, 19, e2e, 286, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:08.028486       1 gateway.go:748] "Request completed" requestID="9cda3ac8-1f22-4e03-a495-ea4de29dfd71" targetPod="10.0.3.28:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:08.028500       1 gateway.go:764] "HandleResponseBody completed" requestID="9cda3ac8-1f22-4e03-a495-ea4de29dfd71" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:08.074134       1 gateway.go:608] "First token received" requestID="bcea4c6c-2e4a-4c11-9c7f-45bd27638cb2" ttft_ms=139
I0304 08:26:08.078040       1 gateway.go:562] latency, 0.0000, summary, hash(request), b0164f47, selectedpod, 10.0.1.53:8000, ttft, 156, tpot, 19, e2e, 332, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:08.078055       1 gateway.go:748] "Request completed" requestID="61974c43-fbbc-493f-a211-45c308ce8868" targetPod="10.0.1.53:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:08.078064       1 gateway.go:764] "HandleResponseBody completed" requestID="61974c43-fbbc-493f-a211-45c308ce8868" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:08.092186       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0808, numInputTokens, 3757
I0304 08:26:08.092205       1 tree.go:471] Updated node(0) last access: 125.5941 seconds
I0304 08:26:08.092211       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:08.092214       1 tree.go:471] Updated node(2) last access: 125.5941 seconds
I0304 08:26:08.092222       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:08.092226       1 tree.go:471] Updated node(40) last access: 125.5941 seconds
I0304 08:26:08.092233       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:26:08.092240       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:26:08.092247       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:08.092255       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:08.092261       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:08.092242087 +0000 UTC m=+125.712464516]
I0304 08:26:08.092281       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:26:08.092289       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:26:08.092333       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:08.092346       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:08.092356       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.092375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.092382       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.092390       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.092399       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:08.092424       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:08.092439       1 prefix_cache_and_load.go:584] latency, Route, 0.1008
I0304 08:26:08.092449       1 gateway.go:415] latency, selectTargetPod, 0.1009, target pod, 10.0.1.47:8000
I0304 08:26:08.092461       1 gateway.go:235] latency, HandleRequestBody, 0.1010
I0304 08:26:08.108605       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5a8859fd-8cd4-4f16-aa07-00d9f9652831"
I0304 08:26:08.129682       1 gateway.go:562] latency, 0.0000, summary, hash(request), bbe5300d, selectedpod, 10.0.0.34:8000, ttft, 146, tpot, 19, e2e, 323, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:08.129702       1 gateway.go:748] "Request completed" requestID="7376a38c-0d51-44fa-a203-1712b1ba1824" targetPod="10.0.0.34:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:08.129713       1 gateway.go:764] "HandleResponseBody completed" requestID="7376a38c-0d51-44fa-a203-1712b1ba1824" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:08.153315       1 gateway.go:608] "First token received" requestID="5a8859fd-8cd4-4f16-aa07-00d9f9652831" ttft_ms=161
I0304 08:26:08.160283       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6403271e, selectedpod, 10.0.1.33:8000, ttft, 98, tpot, 19, e2e, 273, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:08.160298       1 gateway.go:748] "Request completed" requestID="91698a13-6284-47fa-9147-fe3235458faf" targetPod="10.0.1.33:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:08.160305       1 gateway.go:764] "HandleResponseBody completed" requestID="91698a13-6284-47fa-9147-fe3235458faf" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:08.192450       1 gateway.go:207] "Processing request" requestID="840b1db2-d8bb-4836-9360-005e7b6bfb72"
I0304 08:26:08.192473       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="840b1db2-d8bb-4836-9360-005e7b6bfb72"
I0304 08:26:08.192482       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:08.219425       1 gateway.go:207] "Processing request" requestID="1dd00f24-10ce-4eb4-a861-8f86e04d5401"
I0304 08:26:08.219448       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1dd00f24-10ce-4eb4-a861-8f86e04d5401"
I0304 08:26:08.219456       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:08.226478       1 gateway.go:329] "-- In RequestBody processing ..." requestID="840b1db2-d8bb-4836-9360-005e7b6bfb72"
I0304 08:26:08.226617       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="840b1db2-d8bb-4836-9360-005e7b6bfb72" model="deepseek-llm-7b-chat"
I0304 08:26:08.226668       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:08.226674       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:08.226687       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:08.226712       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1dd00f24-10ce-4eb4-a861-8f86e04d5401"
I0304 08:26:08.226745       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:08.226764       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:08.226773       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:08.226825       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1dd00f24-10ce-4eb4-a861-8f86e04d5401" model="deepseek-llm-7b-chat"
I0304 08:26:08.246764       1 gateway.go:562] latency, 0.0000, summary, hash(request), 13b9b496, selectedpod, 10.0.3.38:8000, ttft, 139, tpot, 19, e2e, 312, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:08.246792       1 gateway.go:748] "Request completed" requestID="bcea4c6c-2e4a-4c11-9c7f-45bd27638cb2" targetPod="10.0.3.38:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:08.246806       1 gateway.go:764] "HandleResponseBody completed" requestID="bcea4c6c-2e4a-4c11-9c7f-45bd27638cb2" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:08.272081       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0453, numInputTokens, 3749
I0304 08:26:08.272097       1 tree.go:471] Updated node(0) last access: 125.7740 seconds
I0304 08:26:08.272103       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:08.272107       1 tree.go:471] Updated node(2) last access: 125.7740 seconds
I0304 08:26:08.272115       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:08.272117       1 tree.go:471] Updated node(37) last access: 125.7740 seconds
I0304 08:26:08.272123       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:08.272128       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3749 tokens
I0304 08:26:08.272134       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3749 tokens
I0304 08:26:08.272141       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:08.272145       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:08.27213053 +0000 UTC m=+125.892352955]
I0304 08:26:08.272159       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3749, Matched tokens: 3633, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:08.272165       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:08.272202       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:08.272210       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:08.272217       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.272223       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.272227       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.272230       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.272237       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:08.272247       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:08.272257       1 prefix_cache_and_load.go:584] latency, Route, 0.0456
I0304 08:26:08.272270       1 gateway.go:415] latency, selectTargetPod, 0.0456, target pod, 10.0.1.47:8000
I0304 08:26:08.272278       1 gateway.go:235] latency, HandleRequestBody, 0.0458
I0304 08:26:08.272301       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0454
I0304 08:26:08.272305       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:08.272308       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:08.272362       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:08.272377       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:08.272381       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:08.289247       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="840b1db2-d8bb-4836-9360-005e7b6bfb72"
I0304 08:26:08.320964       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 3756
I0304 08:26:08.320992       1 tree.go:471] Updated node(0) last access: 125.8229 seconds
I0304 08:26:08.320997       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:08.321000       1 tree.go:471] Updated node(2) last access: 125.8229 seconds
I0304 08:26:08.321009       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:08.321012       1 tree.go:471] Updated node(40) last access: 125.8229 seconds
I0304 08:26:08.321020       1 tree.go:667] Split complete - New node(94)
I0304 08:26:08.321025       1 tree.go:668] Split complete - Child node(58)
I0304 08:26:08.321030       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:08.321035       1 tree.go:471] Updated node(94) last access: 125.8229 seconds
I0304 08:26:08.321040       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:08.321043       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:08.321049       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:08.321055       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:08.321060       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:08.321045824 +0000 UTC m=+125.941268250]
I0304 08:26:08.321074       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3636, Matching ratio: 0.9681, # Matched pods: 0, Matched pods: []
I0304 08:26:08.321080       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9681 > 0.5000)
I0304 08:26:08.321110       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3636
I0304 08:26:08.321119       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:08.321129       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.321133       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.321138       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.321141       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.321145       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.321152       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:08.321161       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:08.321171       1 prefix_cache_and_load.go:584] latency, Route, 0.0943
I0304 08:26:08.321179       1 gateway.go:415] latency, selectTargetPod, 0.0943, target pod, 10.0.1.47:8000
I0304 08:26:08.321190       1 gateway.go:235] latency, HandleRequestBody, 0.0945
I0304 08:26:08.337030       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1dd00f24-10ce-4eb4-a861-8f86e04d5401"
I0304 08:26:08.337723       1 gateway.go:608] "First token received" requestID="840b1db2-d8bb-4836-9360-005e7b6bfb72" ttft_ms=111
I0304 08:26:08.370962       1 gateway.go:562] latency, 0.0000, summary, hash(request), ffbb18ab, selectedpod, 10.0.1.47:8000, ttft, 161, tpot, 24, e2e, 379, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:08.370995       1 gateway.go:748] "Request completed" requestID="5a8859fd-8cd4-4f16-aa07-00d9f9652831" targetPod="10.0.1.47:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:08.371009       1 gateway.go:764] "HandleResponseBody completed" requestID="5a8859fd-8cd4-4f16-aa07-00d9f9652831" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:08.402238       1 gateway.go:608] "First token received" requestID="1dd00f24-10ce-4eb4-a861-8f86e04d5401" ttft_ms=175
I0304 08:26:08.573903       1 gateway.go:207] "Processing request" requestID="a3560ccc-b961-4b1e-bc9b-a17668cce677"
I0304 08:26:08.573930       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a3560ccc-b961-4b1e-bc9b-a17668cce677"
I0304 08:26:08.573939       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:08.581939       1 gateway.go:562] latency, 0.0000, summary, hash(request), f24177ad, selectedpod, 10.0.1.47:8000, ttft, 111, tpot, 27, e2e, 355, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:08.581957       1 gateway.go:748] "Request completed" requestID="840b1db2-d8bb-4836-9360-005e7b6bfb72" targetPod="10.0.1.47:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:08.581967       1 gateway.go:764] "HandleResponseBody completed" requestID="840b1db2-d8bb-4836-9360-005e7b6bfb72" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:08.603787       1 gateway.go:562] latency, 0.0000, summary, hash(request), 002a6ccd, selectedpod, 10.0.1.47:8000, ttft, 175, tpot, 22, e2e, 377, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:08.603804       1 gateway.go:748] "Request completed" requestID="1dd00f24-10ce-4eb4-a861-8f86e04d5401" targetPod="10.0.1.47:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:08.603813       1 gateway.go:764] "HandleResponseBody completed" requestID="1dd00f24-10ce-4eb4-a861-8f86e04d5401" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:08.621762       1 gateway.go:207] "Processing request" requestID="388db3b3-b6a0-4ebe-8f02-412d533c2d79"
I0304 08:26:08.621789       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="388db3b3-b6a0-4ebe-8f02-412d533c2d79"
I0304 08:26:08.621795       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a3560ccc-b961-4b1e-bc9b-a17668cce677"
I0304 08:26:08.621798       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:08.621942       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a3560ccc-b961-4b1e-bc9b-a17668cce677" model="deepseek-llm-7b-chat"
I0304 08:26:08.621992       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:08.621999       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:08.622003       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:08.622081       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:08.622102       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:08.622110       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:08.672268       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0502, numInputTokens, 3756
I0304 08:26:08.672289       1 tree.go:471] Updated node(0) last access: 126.1742 seconds
I0304 08:26:08.672295       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:08.672299       1 tree.go:471] Updated node(2) last access: 126.1742 seconds
I0304 08:26:08.672307       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:08.672312       1 tree.go:471] Updated node(30) last access: 126.1742 seconds
I0304 08:26:08.672318       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:08.672324       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:08.672330       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:08.672336       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:08.672341       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:08.672325896 +0000 UTC m=+126.292548322]
I0304 08:26:08.672357       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:08.672363       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:08.672393       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3633
I0304 08:26:08.672401       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:08.672408       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.672414       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.672418       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.672421       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.672429       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:08.672439       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:08.672450       1 prefix_cache_and_load.go:584] latency, Route, 0.0505
I0304 08:26:08.672459       1 gateway.go:415] latency, selectTargetPod, 0.0505, target pod, 10.0.0.13:8000
I0304 08:26:08.672469       1 gateway.go:235] latency, HandleRequestBody, 0.0507
I0304 08:26:08.677569       1 gateway.go:329] "-- In RequestBody processing ..." requestID="388db3b3-b6a0-4ebe-8f02-412d533c2d79"
I0304 08:26:08.677719       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="388db3b3-b6a0-4ebe-8f02-412d533c2d79" model="deepseek-llm-7b-chat"
I0304 08:26:08.677768       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:08.677775       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:08.677780       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:08.677839       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:08.677860       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:08.677867       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:08.689063       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a3560ccc-b961-4b1e-bc9b-a17668cce677"
I0304 08:26:08.726552       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0487, numInputTokens, 3756
I0304 08:26:08.726570       1 tree.go:471] Updated node(0) last access: 126.2284 seconds
I0304 08:26:08.726576       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:08.726580       1 tree.go:471] Updated node(2) last access: 126.2284 seconds
I0304 08:26:08.726588       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:08.726592       1 tree.go:471] Updated node(5) last access: 126.2285 seconds
I0304 08:26:08.726598       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:08.726603       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:08.726609       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:08.726616       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:08.726621       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:08.7266057 +0000 UTC m=+126.346828137]
I0304 08:26:08.726636       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:08.726642       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:08.726672       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3633
I0304 08:26:08.726680       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:08.726687       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.726692       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.726698       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.726702       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:08.726710       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:08.726719       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:08.726728       1 prefix_cache_and_load.go:584] latency, Route, 0.0490
I0304 08:26:08.726737       1 gateway.go:415] latency, selectTargetPod, 0.0490, target pod, 10.0.3.28:8000
I0304 08:26:08.726748       1 gateway.go:235] latency, HandleRequestBody, 0.0492
I0304 08:26:08.734366       1 gateway.go:608] "First token received" requestID="a3560ccc-b961-4b1e-bc9b-a17668cce677" ttft_ms=112
I0304 08:26:08.741827       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="388db3b3-b6a0-4ebe-8f02-412d533c2d79"
I0304 08:26:08.787496       1 gateway.go:608] "First token received" requestID="388db3b3-b6a0-4ebe-8f02-412d533c2d79" ttft_ms=109
I0304 08:26:08.909902       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2ac6d30d, selectedpod, 10.0.0.13:8000, ttft, 112, tpot, 19, e2e, 288, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:08.909921       1 gateway.go:748] "Request completed" requestID="a3560ccc-b961-4b1e-bc9b-a17668cce677" targetPod="10.0.0.13:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:08.909936       1 gateway.go:764] "HandleResponseBody completed" requestID="a3560ccc-b961-4b1e-bc9b-a17668cce677" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:08.962773       1 gateway.go:562] latency, 0.0000, summary, hash(request), 751b10e6, selectedpod, 10.0.3.28:8000, ttft, 109, tpot, 19, e2e, 285, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:08.962791       1 gateway.go:748] "Request completed" requestID="388db3b3-b6a0-4ebe-8f02-412d533c2d79" targetPod="10.0.3.28:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:08.962801       1 gateway.go:764] "HandleResponseBody completed" requestID="388db3b3-b6a0-4ebe-8f02-412d533c2d79" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:09.346336       1 gateway.go:207] "Processing request" requestID="6a009228-3d92-4064-a47f-d8bda5fc087a"
I0304 08:26:09.346371       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6a009228-3d92-4064-a47f-d8bda5fc087a"
I0304 08:26:09.346379       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:09.394037       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6a009228-3d92-4064-a47f-d8bda5fc087a"
I0304 08:26:09.394170       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6a009228-3d92-4064-a47f-d8bda5fc087a" model="deepseek-llm-7b-chat"
I0304 08:26:09.394225       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:09.394231       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:09.394235       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:09.394318       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:09.394335       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:09.394340       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:09.444703       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0504, numInputTokens, 3749
I0304 08:26:09.444725       1 tree.go:471] Updated node(0) last access: 126.9466 seconds
I0304 08:26:09.444732       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:09.444736       1 tree.go:471] Updated node(2) last access: 126.9466 seconds
I0304 08:26:09.444745       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:09.444749       1 tree.go:471] Updated node(22) last access: 126.9466 seconds
I0304 08:26:09.444756       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:09.444762       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3749 tokens
I0304 08:26:09.444770       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3749 tokens
I0304 08:26:09.444780       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:09.444789       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:09.444764896 +0000 UTC m=+127.064987323]
I0304 08:26:09.444812       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3749, Matched tokens: 3633, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:09.444821       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:09.444872       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:09.444886       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:09.444900       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:09.444909       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:09.444913       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:09.444919       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:09.444927       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:09.444937       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:09.444947       1 prefix_cache_and_load.go:584] latency, Route, 0.0507
I0304 08:26:09.444956       1 gateway.go:415] latency, selectTargetPod, 0.0507, target pod, 10.0.1.33:8000
I0304 08:26:09.444969       1 gateway.go:235] latency, HandleRequestBody, 0.0509
I0304 08:26:09.461770       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6a009228-3d92-4064-a47f-d8bda5fc087a"
I0304 08:26:09.470297       1 gateway.go:207] "Processing request" requestID="fd80120e-95b8-47c4-8a2f-8d1f893b5a48"
I0304 08:26:09.470328       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fd80120e-95b8-47c4-8a2f-8d1f893b5a48"
I0304 08:26:09.470337       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:09.479359       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fd80120e-95b8-47c4-8a2f-8d1f893b5a48"
I0304 08:26:09.479488       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fd80120e-95b8-47c4-8a2f-8d1f893b5a48" model="deepseek-llm-7b-chat"
I0304 08:26:09.479558       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:09.479565       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:09.479568       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:09.479644       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:09.479661       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:09.479665       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:09.492839       1 gateway.go:608] "First token received" requestID="6a009228-3d92-4064-a47f-d8bda5fc087a" ttft_ms=98
I0304 08:26:09.527406       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0477, numInputTokens, 3754
I0304 08:26:09.527426       1 tree.go:471] Updated node(0) last access: 127.0293 seconds
I0304 08:26:09.527432       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:09.527435       1 tree.go:471] Updated node(2) last access: 127.0293 seconds
I0304 08:26:09.527443       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:09.527446       1 tree.go:471] Updated node(24) last access: 127.0293 seconds
I0304 08:26:09.527452       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:09.527456       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:09.527464       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:09.527472       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:09.527479       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:09.527459351 +0000 UTC m=+127.147681777]
I0304 08:26:09.527493       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:09.527500       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:09.527550       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3633
I0304 08:26:09.527559       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:09.527567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:09.527573       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:09.527582       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:09.527588       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:09.527600       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:09.527615       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:09.527629       1 prefix_cache_and_load.go:584] latency, Route, 0.0481
I0304 08:26:09.527648       1 gateway.go:415] latency, selectTargetPod, 0.0481, target pod, 10.0.1.53:8000
I0304 08:26:09.527662       1 gateway.go:235] latency, HandleRequestBody, 0.0483
I0304 08:26:09.544169       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fd80120e-95b8-47c4-8a2f-8d1f893b5a48"
I0304 08:26:09.575154       1 gateway.go:608] "First token received" requestID="fd80120e-95b8-47c4-8a2f-8d1f893b5a48" ttft_ms=95
I0304 08:26:09.668288       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5ee40f84, selectedpod, 10.0.1.33:8000, ttft, 98, tpot, 19, e2e, 274, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:09.668308       1 gateway.go:748] "Request completed" requestID="6a009228-3d92-4064-a47f-d8bda5fc087a" targetPod="10.0.1.33:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:09.668328       1 gateway.go:764] "HandleResponseBody completed" requestID="6a009228-3d92-4064-a47f-d8bda5fc087a" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:09.753010       1 gateway.go:562] latency, 0.0000, summary, hash(request), 38dbe3b0, selectedpod, 10.0.1.53:8000, ttft, 95, tpot, 19, e2e, 273, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:09.753031       1 gateway.go:748] "Request completed" requestID="fd80120e-95b8-47c4-8a2f-8d1f893b5a48" targetPod="10.0.1.53:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:09.753040       1 gateway.go:764] "HandleResponseBody completed" requestID="fd80120e-95b8-47c4-8a2f-8d1f893b5a48" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:10.231164       1 gateway.go:207] "Processing request" requestID="ca97b38c-21d5-41b6-adad-e72502af5959"
I0304 08:26:10.231199       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ca97b38c-21d5-41b6-adad-e72502af5959"
I0304 08:26:10.231207       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:10.284628       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ca97b38c-21d5-41b6-adad-e72502af5959"
I0304 08:26:10.284765       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ca97b38c-21d5-41b6-adad-e72502af5959" model="deepseek-llm-7b-chat"
I0304 08:26:10.284840       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:10.284847       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:10.284850       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:10.284952       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:10.284969       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:10.284980       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:10.335832       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0508, numInputTokens, 3757
I0304 08:26:10.335854       1 tree.go:471] Updated node(0) last access: 127.8377 seconds
I0304 08:26:10.335860       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:10.335864       1 tree.go:471] Updated node(2) last access: 127.8377 seconds
I0304 08:26:10.335871       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:10.335874       1 tree.go:471] Updated node(37) last access: 127.8377 seconds
I0304 08:26:10.335881       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:26:10.335886       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:26:10.335892       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:10.335900       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:10.335905       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:10.335887582 +0000 UTC m=+127.956110014]
I0304 08:26:10.335922       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:26:10.335929       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:26:10.335964       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:10.335980       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:10.335988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.335994       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.335999       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.336005       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.336013       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:10.336022       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:10.336038       1 prefix_cache_and_load.go:584] latency, Route, 0.0512
I0304 08:26:10.336050       1 gateway.go:415] latency, selectTargetPod, 0.0512, target pod, 10.0.1.47:8000
I0304 08:26:10.336066       1 gateway.go:235] latency, HandleRequestBody, 0.0514
I0304 08:26:10.353602       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ca97b38c-21d5-41b6-adad-e72502af5959"
I0304 08:26:10.399130       1 gateway.go:608] "First token received" requestID="ca97b38c-21d5-41b6-adad-e72502af5959" ttft_ms=114
I0304 08:26:10.405964       1 gateway.go:207] "Processing request" requestID="88b15efc-0e4a-4553-afe3-f4c958db87d6"
I0304 08:26:10.405996       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="88b15efc-0e4a-4553-afe3-f4c958db87d6"
I0304 08:26:10.406003       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:10.468911       1 gateway.go:329] "-- In RequestBody processing ..." requestID="88b15efc-0e4a-4553-afe3-f4c958db87d6"
I0304 08:26:10.469044       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="88b15efc-0e4a-4553-afe3-f4c958db87d6" model="deepseek-llm-7b-chat"
I0304 08:26:10.469097       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:10.469102       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:10.469106       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:10.469178       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:10.469199       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:10.469204       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:10.519476       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0503, numInputTokens, 3755
I0304 08:26:10.519496       1 tree.go:471] Updated node(0) last access: 128.0214 seconds
I0304 08:26:10.519502       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:10.519506       1 tree.go:471] Updated node(2) last access: 128.0214 seconds
I0304 08:26:10.519525       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:10.519530       1 tree.go:471] Updated node(26) last access: 128.0214 seconds
I0304 08:26:10.519537       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:10.519543       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:10.519573       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:10.519609       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:10.519619       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:10.51954527 +0000 UTC m=+128.139767695]
I0304 08:26:10.519643       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3633, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:10.519654       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:10.519723       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3633
I0304 08:26:10.519738       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:10.519753       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.519767       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.519772       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.519777       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.519788       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:10.519800       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:10.519816       1 prefix_cache_and_load.go:584] latency, Route, 0.0507
I0304 08:26:10.519848       1 gateway.go:415] latency, selectTargetPod, 0.0507, target pod, 10.0.3.38:8000
I0304 08:26:10.519877       1 gateway.go:235] latency, HandleRequestBody, 0.0510
I0304 08:26:10.534768       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="88b15efc-0e4a-4553-afe3-f4c958db87d6"
I0304 08:26:10.575130       1 gateway.go:562] latency, 0.0000, summary, hash(request), cb551b85, selectedpod, 10.0.1.47:8000, ttft, 114, tpot, 19, e2e, 290, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:10.575151       1 gateway.go:748] "Request completed" requestID="ca97b38c-21d5-41b6-adad-e72502af5959" targetPod="10.0.1.47:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:10.575162       1 gateway.go:764] "HandleResponseBody completed" requestID="ca97b38c-21d5-41b6-adad-e72502af5959" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:10.580236       1 gateway.go:608] "First token received" requestID="88b15efc-0e4a-4553-afe3-f4c958db87d6" ttft_ms=111
I0304 08:26:10.684332       1 gateway.go:207] "Processing request" requestID="14a76ecf-75f0-4689-af1c-4bccb8ade2bc"
I0304 08:26:10.684359       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="14a76ecf-75f0-4689-af1c-4bccb8ade2bc"
I0304 08:26:10.684367       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:10.751881       1 gateway.go:207] "Processing request" requestID="e7491d43-b9ea-46b5-84e8-b5c9cdd841f1"
I0304 08:26:10.751909       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e7491d43-b9ea-46b5-84e8-b5c9cdd841f1"
I0304 08:26:10.751917       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:10.759987       1 gateway.go:329] "-- In RequestBody processing ..." requestID="14a76ecf-75f0-4689-af1c-4bccb8ade2bc"
I0304 08:26:10.760135       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="14a76ecf-75f0-4689-af1c-4bccb8ade2bc" model="deepseek-llm-7b-chat"
I0304 08:26:10.760195       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:10.760203       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:10.760206       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:10.760293       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:10.760311       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:10.760315       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:10.760938       1 gateway.go:562] latency, 0.0000, summary, hash(request), c716ef02, selectedpod, 10.0.3.38:8000, ttft, 111, tpot, 20, e2e, 291, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:10.760961       1 gateway.go:748] "Request completed" requestID="88b15efc-0e4a-4553-afe3-f4c958db87d6" targetPod="10.0.3.38:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:10.760982       1 gateway.go:764] "HandleResponseBody completed" requestID="88b15efc-0e4a-4553-afe3-f4c958db87d6" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:10.810053       1 gateway.go:207] "Processing request" requestID="c64e4ade-11c9-4bb0-9b12-397439d50f57"
I0304 08:26:10.810084       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c64e4ade-11c9-4bb0-9b12-397439d50f57"
I0304 08:26:10.810091       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:10.810105       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e7491d43-b9ea-46b5-84e8-b5c9cdd841f1"
I0304 08:26:10.810219       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e7491d43-b9ea-46b5-84e8-b5c9cdd841f1" model="deepseek-llm-7b-chat"
I0304 08:26:10.810312       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0500, numInputTokens, 3756
I0304 08:26:10.810331       1 tree.go:471] Updated node(0) last access: 128.3122 seconds
I0304 08:26:10.810338       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:10.810342       1 tree.go:471] Updated node(2) last access: 128.3122 seconds
I0304 08:26:10.810352       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:10.810355       1 tree.go:471] Updated node(9) last access: 128.3122 seconds
I0304 08:26:10.810362       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:10.810366       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:10.810374       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:10.810382       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:10.810389       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:10.810368735 +0000 UTC m=+128.430591164]
I0304 08:26:10.810410       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:10.810421       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:10.810466       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3633
I0304 08:26:10.810480       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:10.810493       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.810502       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.810520       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.810527       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.810541       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:10.810555       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:10.810565       1 prefix_cache_and_load.go:584] latency, Route, 0.0504
I0304 08:26:10.810582       1 gateway.go:415] latency, selectTargetPod, 0.0504, target pod, 10.0.0.34:8000
I0304 08:26:10.810597       1 gateway.go:235] latency, HandleRequestBody, 0.0506
I0304 08:26:10.810622       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0003
I0304 08:26:10.810625       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:10.810628       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:10.810680       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:10.810696       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:10.810701       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:10.827156       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="14a76ecf-75f0-4689-af1c-4bccb8ade2bc"
I0304 08:26:10.857184       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c64e4ade-11c9-4bb0-9b12-397439d50f57"
I0304 08:26:10.857307       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c64e4ade-11c9-4bb0-9b12-397439d50f57" model="deepseek-llm-7b-chat"
I0304 08:26:10.859573       1 gateway.go:207] "Processing request" requestID="16e3df32-4f4f-49df-8207-342a7d749fa7"
I0304 08:26:10.859633       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="16e3df32-4f4f-49df-8207-342a7d749fa7"
I0304 08:26:10.859643       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:10.878678       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0680, numInputTokens, 3754
I0304 08:26:10.878711       1 tree.go:471] Updated node(0) last access: 128.3806 seconds
I0304 08:26:10.878726       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:10.878733       1 tree.go:471] Updated node(2) last access: 128.3806 seconds
I0304 08:26:10.878760       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:10.878777       1 tree.go:471] Updated node(37) last access: 128.3806 seconds
I0304 08:26:10.878789       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:10.878795       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:10.878802       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:10.878809       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:10.878817       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:10.878797008 +0000 UTC m=+128.499019441]
I0304 08:26:10.878832       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:10.878844       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:10.878894       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:10.878909       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:10.878916       1 gateway.go:608] "First token received" requestID="14a76ecf-75f0-4689-af1c-4bccb8ade2bc" ttft_ms=118
I0304 08:26:10.878935       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.878986       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.878993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.878999       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.879009       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:10.879023       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:10.879041       1 prefix_cache_and_load.go:584] latency, Route, 0.0688
I0304 08:26:10.879058       1 gateway.go:415] latency, selectTargetPod, 0.0688, target pod, 10.0.1.47:8000
I0304 08:26:10.879082       1 gateway.go:235] latency, HandleRequestBody, 0.0690
I0304 08:26:10.879126       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0218
I0304 08:26:10.879140       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:10.879145       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:10.879293       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:10.879330       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:10.879336       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:10.895384       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e7491d43-b9ea-46b5-84e8-b5c9cdd841f1"
I0304 08:26:10.899682       1 gateway.go:329] "-- In RequestBody processing ..." requestID="16e3df32-4f4f-49df-8207-342a7d749fa7"
I0304 08:26:10.899800       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="16e3df32-4f4f-49df-8207-342a7d749fa7" model="deepseek-llm-7b-chat"
I0304 08:26:10.900507       1 gateway.go:207] "Processing request" requestID="27a20411-aa96-4008-965b-123c785fc7d9"
I0304 08:26:10.900546       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="27a20411-aa96-4008-965b-123c785fc7d9"
I0304 08:26:10.900557       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:10.926123       1 gateway.go:608] "First token received" requestID="e7491d43-b9ea-46b5-84e8-b5c9cdd841f1" ttft_ms=115
I0304 08:26:10.926570       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0472, numInputTokens, 3756
I0304 08:26:10.926588       1 tree.go:471] Updated node(0) last access: 128.4285 seconds
I0304 08:26:10.926595       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:10.926598       1 tree.go:471] Updated node(2) last access: 128.4285 seconds
I0304 08:26:10.926606       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:10.926610       1 tree.go:471] Updated node(24) last access: 128.4285 seconds
I0304 08:26:10.926616       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:10.926624       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:10.926631       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:10.926638       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:10.926643       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:10.926626873 +0000 UTC m=+128.546849309]
I0304 08:26:10.926658       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:10.926666       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:10.926696       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3633
I0304 08:26:10.926705       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:10.926712       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.926719       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.926725       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.926728       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.926739       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:10.926748       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:10.926759       1 prefix_cache_and_load.go:584] latency, Route, 0.0694
I0304 08:26:10.926772       1 gateway.go:415] latency, selectTargetPod, 0.0694, target pod, 10.0.1.53:8000
I0304 08:26:10.926783       1 gateway.go:235] latency, HandleRequestBody, 0.0696
I0304 08:26:10.926812       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0270
I0304 08:26:10.926816       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:10.926820       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:10.926865       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:10.926886       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:10.926892       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:10.936806       1 gateway.go:207] "Processing request" requestID="81314867-76ad-4fc1-9068-f2ca0c5bcd17"
I0304 08:26:10.936826       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="81314867-76ad-4fc1-9068-f2ca0c5bcd17"
I0304 08:26:10.936835       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:10.943356       1 gateway.go:329] "-- In RequestBody processing ..." requestID="27a20411-aa96-4008-965b-123c785fc7d9"
I0304 08:26:10.943468       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="27a20411-aa96-4008-965b-123c785fc7d9" model="deepseek-llm-7b-chat"
I0304 08:26:10.943485       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c64e4ade-11c9-4bb0-9b12-397439d50f57"
I0304 08:26:10.988863       1 gateway.go:608] "First token received" requestID="c64e4ade-11c9-4bb0-9b12-397439d50f57" ttft_ms=131
I0304 08:26:10.990174       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0633, numInputTokens, 3758
I0304 08:26:10.990189       1 tree.go:471] Updated node(0) last access: 128.4921 seconds
I0304 08:26:10.990195       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:10.990199       1 tree.go:471] Updated node(2) last access: 128.4921 seconds
I0304 08:26:10.990209       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:10.990211       1 tree.go:471] Updated node(5) last access: 128.4921 seconds
I0304 08:26:10.990219       1 tree.go:667] Split complete - New node(105)
I0304 08:26:10.990221       1 tree.go:668] Split complete - Child node(97)
I0304 08:26:10.990227       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0304 08:26:10.990231       1 tree.go:471] Updated node(105) last access: 128.4921 seconds
I0304 08:26:10.990236       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:10.990240       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3758 tokens
I0304 08:26:10.990245       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:10.990250       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:10.990254       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:10.990241941 +0000 UTC m=+128.610464366]
I0304 08:26:10.990267       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3637, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:10.990273       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:10.990304       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3637
I0304 08:26:10.990313       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:10.990321       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.990328       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.990332       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.990337       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.990341       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:10.990351       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:10.990359       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:10.990368       1 prefix_cache_and_load.go:584] latency, Route, 0.0905
I0304 08:26:10.990381       1 gateway.go:415] latency, selectTargetPod, 0.0905, target pod, 10.0.3.28:8000
I0304 08:26:10.990390       1 gateway.go:235] latency, HandleRequestBody, 0.0907
I0304 08:26:10.990389       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0469
I0304 08:26:10.990397       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:10.990400       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:10.990477       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:10.990498       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:10.990503       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:10.999374       1 gateway.go:207] "Processing request" requestID="747460ac-887f-43df-8757-a768b889a0c3"
I0304 08:26:10.999401       1 gateway.go:329] "-- In RequestBody processing ..." requestID="81314867-76ad-4fc1-9068-f2ca0c5bcd17"
I0304 08:26:10.999407       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="747460ac-887f-43df-8757-a768b889a0c3"
I0304 08:26:10.999418       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:10.999594       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="81314867-76ad-4fc1-9068-f2ca0c5bcd17" model="deepseek-llm-7b-chat"
I0304 08:26:11.005393       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="16e3df32-4f4f-49df-8207-342a7d749fa7"
I0304 08:26:11.039897       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0494, numInputTokens, 3755
I0304 08:26:11.039916       1 tree.go:471] Updated node(0) last access: 128.5418 seconds
I0304 08:26:11.039922       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:11.039926       1 tree.go:471] Updated node(2) last access: 128.5418 seconds
I0304 08:26:11.039934       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:11.039939       1 tree.go:471] Updated node(67) last access: 128.5418 seconds
I0304 08:26:11.039952       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:11.039957       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:11.039964       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:11.039980       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:11.039985       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:11.039959008 +0000 UTC m=+128.660181434]
I0304 08:26:11.040000       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3633, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:11.040007       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:11.040038       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:11.040047       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:11.040054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.040058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.040061       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.040065       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.040074       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:11.040083       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:11.040093       1 prefix_cache_and_load.go:584] latency, Route, 0.0966
I0304 08:26:11.040108       1 gateway.go:415] latency, selectTargetPod, 0.0966, target pod, 10.0.1.33:8000
I0304 08:26:11.040121       1 gateway.go:235] latency, HandleRequestBody, 0.0968
I0304 08:26:11.040150       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0405
I0304 08:26:11.040153       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:11.040156       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:11.040210       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:11.040236       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:11.040242       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:11.048215       1 gateway.go:562] latency, 0.0000, summary, hash(request), f89b3fcd, selectedpod, 10.0.0.34:8000, ttft, 118, tpot, 18, e2e, 288, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:11.048241       1 gateway.go:748] "Request completed" requestID="14a76ecf-75f0-4689-af1c-4bccb8ade2bc" targetPod="10.0.0.34:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:11.048252       1 gateway.go:764] "HandleResponseBody completed" requestID="14a76ecf-75f0-4689-af1c-4bccb8ade2bc" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:11.078640       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="27a20411-aa96-4008-965b-123c785fc7d9"
I0304 08:26:11.078790       1 gateway.go:329] "-- In RequestBody processing ..." requestID="747460ac-887f-43df-8757-a768b889a0c3"
I0304 08:26:11.078817       1 gateway.go:207] "Processing request" requestID="252b8cc3-a328-4a56-899f-c71c534cf819"
I0304 08:26:11.078887       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="252b8cc3-a328-4a56-899f-c71c534cf819"
I0304 08:26:11.078959       1 gateway.go:230] latency, HandleRequestHeaders, 0.0001
I0304 08:26:11.078959       1 gateway.go:608] "First token received" requestID="16e3df32-4f4f-49df-8207-342a7d749fa7" ttft_ms=179
I0304 08:26:11.078998       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="747460ac-887f-43df-8757-a768b889a0c3" model="deepseek-llm-7b-chat"
I0304 08:26:11.102110       1 gateway.go:608] "First token received" requestID="27a20411-aa96-4008-965b-123c785fc7d9" ttft_ms=158
I0304 08:26:11.102415       1 gateway.go:562] latency, 0.0000, summary, hash(request), a86e308c, selectedpod, 10.0.1.47:8000, ttft, 115, tpot, 19, e2e, 292, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:11.102437       1 gateway.go:748] "Request completed" requestID="e7491d43-b9ea-46b5-84e8-b5c9cdd841f1" targetPod="10.0.1.47:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:11.102447       1 gateway.go:764] "HandleResponseBody completed" requestID="e7491d43-b9ea-46b5-84e8-b5c9cdd841f1" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:11.118544       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0783, numInputTokens, 3756
I0304 08:26:11.118562       1 tree.go:471] Updated node(0) last access: 128.6204 seconds
I0304 08:26:11.118568       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:11.118572       1 tree.go:471] Updated node(2) last access: 128.6204 seconds
I0304 08:26:11.118581       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:11.118583       1 tree.go:471] Updated node(67) last access: 128.6204 seconds
I0304 08:26:11.118589       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:11.118596       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:11.118603       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:11.118609       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:11.118614       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:11.118597919 +0000 UTC m=+128.738820351]
I0304 08:26:11.118629       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:11.118636       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:11.118668       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:11.118677       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:11.118686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.118691       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.118700       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.118707       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.118719       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:11.118730       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:11.118740       1 prefix_cache_and_load.go:584] latency, Route, 0.1191
I0304 08:26:11.118754       1 gateway.go:415] latency, selectTargetPod, 0.1191, target pod, 10.0.1.33:8000
I0304 08:26:11.118765       1 gateway.go:235] latency, HandleRequestBody, 0.1194
I0304 08:26:11.118802       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0396
I0304 08:26:11.118808       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:11.118812       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:11.118860       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:11.118879       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:11.118884       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:11.122159       1 gateway.go:329] "-- In RequestBody processing ..." requestID="252b8cc3-a328-4a56-899f-c71c534cf819"
I0304 08:26:11.122278       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="252b8cc3-a328-4a56-899f-c71c534cf819" model="deepseek-llm-7b-chat"
I0304 08:26:11.124404       1 gateway.go:207] "Processing request" requestID="c88ebc76-2c15-4f40-89a2-65d8ba4933ec"
I0304 08:26:11.124430       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c88ebc76-2c15-4f40-89a2-65d8ba4933ec"
I0304 08:26:11.124437       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:11.134842       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="81314867-76ad-4fc1-9068-f2ca0c5bcd17"
I0304 08:26:11.164291       1 gateway.go:562] latency, 0.0000, summary, hash(request), 41e56493, selectedpod, 10.0.1.53:8000, ttft, 131, tpot, 19, e2e, 307, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:11.164310       1 gateway.go:748] "Request completed" requestID="c64e4ade-11c9-4bb0-9b12-397439d50f57" targetPod="10.0.1.53:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:11.164325       1 gateway.go:764] "HandleResponseBody completed" requestID="c64e4ade-11c9-4bb0-9b12-397439d50f57" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:11.174085       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c88ebc76-2c15-4f40-89a2-65d8ba4933ec"
I0304 08:26:11.174249       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c88ebc76-2c15-4f40-89a2-65d8ba4933ec" model="deepseek-llm-7b-chat"
I0304 08:26:11.183962       1 gateway.go:608] "First token received" requestID="81314867-76ad-4fc1-9068-f2ca0c5bcd17" ttft_ms=184
I0304 08:26:11.184074       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0652, numInputTokens, 3756
I0304 08:26:11.184090       1 tree.go:471] Updated node(0) last access: 128.6860 seconds
I0304 08:26:11.184096       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:11.184102       1 tree.go:471] Updated node(2) last access: 128.6860 seconds
I0304 08:26:11.184112       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:11.184118       1 tree.go:471] Updated node(30) last access: 128.6860 seconds
I0304 08:26:11.184131       1 tree.go:667] Split complete - New node(109)
I0304 08:26:11.184136       1 tree.go:668] Split complete - Child node(74)
I0304 08:26:11.184144       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:11.184151       1 tree.go:471] Updated node(109) last access: 128.6860 seconds
I0304 08:26:11.184158       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:11.184165       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:11.184176       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:11.184185       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:11.184193       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:11.184169638 +0000 UTC m=+128.804392073]
I0304 08:26:11.184211       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3640, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:11.184222       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:11.184268       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3640
I0304 08:26:11.184281       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:11.184293       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.184300       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.184305       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.184315       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.184322       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.184335       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:11.184348       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:11.184362       1 prefix_cache_and_load.go:584] latency, Route, 0.1051
I0304 08:26:11.184409       1 gateway.go:415] latency, selectTargetPod, 0.1052, target pod, 10.0.0.13:8000
I0304 08:26:11.184422       1 gateway.go:235] latency, HandleRequestBody, 0.1056
I0304 08:26:11.184449       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0621
I0304 08:26:11.184453       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:11.184456       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:11.184527       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:11.184548       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:11.184553       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:11.202463       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="747460ac-887f-43df-8757-a768b889a0c3"
I0304 08:26:11.226803       1 gateway.go:562] latency, 0.0000, summary, hash(request), f3e722c0, selectedpod, 10.0.3.28:8000, ttft, 179, tpot, 16, e2e, 327, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:11.226822       1 gateway.go:748] "Request completed" requestID="16e3df32-4f4f-49df-8207-342a7d749fa7" targetPod="10.0.3.28:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:11.226832       1 gateway.go:764] "HandleResponseBody completed" requestID="16e3df32-4f4f-49df-8207-342a7d749fa7" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:11.235692       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0511, numInputTokens, 3753
I0304 08:26:11.235711       1 tree.go:471] Updated node(0) last access: 128.7376 seconds
I0304 08:26:11.235717       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:11.235721       1 tree.go:471] Updated node(2) last access: 128.7376 seconds
I0304 08:26:11.235732       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:11.235736       1 tree.go:471] Updated node(30) last access: 128.7376 seconds
I0304 08:26:11.235748       1 tree.go:667] Split complete - New node(111)
I0304 08:26:11.235754       1 tree.go:668] Split complete - Child node(50)
I0304 08:26:11.235762       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:11.235770       1 tree.go:471] Updated node(111) last access: 128.7376 seconds
I0304 08:26:11.235779       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:11.235786       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:11.235796       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:11.235805       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:11.235814       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:11.235789826 +0000 UTC m=+128.856012264]
I0304 08:26:11.235833       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3636, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:11.235841       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:11.235875       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3636
I0304 08:26:11.235884       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:11.235890       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.235896       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.235900       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.235903       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.235907       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.235918       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:11.235929       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:11.235938       1 prefix_cache_and_load.go:584] latency, Route, 0.1136
I0304 08:26:11.235952       1 gateway.go:415] latency, selectTargetPod, 0.1136, target pod, 10.0.0.13:8000
I0304 08:26:11.235962       1 gateway.go:235] latency, HandleRequestBody, 0.1138
I0304 08:26:11.236009       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0617
I0304 08:26:11.236021       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:11.236026       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:11.236082       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:11.236103       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:11.236108       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:11.278835       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="252b8cc3-a328-4a56-899f-c71c534cf819"
I0304 08:26:11.279005       1 gateway.go:608] "First token received" requestID="747460ac-887f-43df-8757-a768b889a0c3" ttft_ms=200
I0304 08:26:11.296342       1 gateway.go:608] "First token received" requestID="252b8cc3-a328-4a56-899f-c71c534cf819" ttft_ms=174
I0304 08:26:11.302500       1 gateway.go:207] "Processing request" requestID="62304155-e14e-4789-bd4b-b7d8bca6b365"
I0304 08:26:11.302534       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="62304155-e14e-4789-bd4b-b7d8bca6b365"
I0304 08:26:11.302543       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:11.312052       1 gateway.go:329] "-- In RequestBody processing ..." requestID="62304155-e14e-4789-bd4b-b7d8bca6b365"
I0304 08:26:11.312194       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="62304155-e14e-4789-bd4b-b7d8bca6b365" model="deepseek-llm-7b-chat"
I0304 08:26:11.318089       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0820, numInputTokens, 3754
I0304 08:26:11.318106       1 tree.go:471] Updated node(0) last access: 128.8200 seconds
I0304 08:26:11.318112       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:11.318117       1 tree.go:471] Updated node(2) last access: 128.8200 seconds
I0304 08:26:11.318125       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:11.318129       1 tree.go:471] Updated node(5) last access: 128.8200 seconds
I0304 08:26:11.318134       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:11.318141       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:11.318148       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:11.318155       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:11.318159       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:11.318143569 +0000 UTC m=+128.938366002]
I0304 08:26:11.318174       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:11.318180       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:11.318213       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3633
I0304 08:26:11.318221       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:11.318228       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.318232       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.318236       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.318241       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.318250       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:11.318259       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:11.318269       1 prefix_cache_and_load.go:584] latency, Route, 0.1440
I0304 08:26:11.318281       1 gateway.go:415] latency, selectTargetPod, 0.1440, target pod, 10.0.3.28:8000
I0304 08:26:11.318291       1 gateway.go:235] latency, HandleRequestBody, 0.1442
I0304 08:26:11.318311       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0061
I0304 08:26:11.318315       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:11.318318       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:11.318381       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:11.318411       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:11.318416       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:11.332641       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0e6ef3d9, selectedpod, 10.0.1.33:8000, ttft, 158, tpot, 25, e2e, 389, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:11.332671       1 gateway.go:748] "Request completed" requestID="27a20411-aa96-4008-965b-123c785fc7d9" targetPod="10.0.1.33:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:11.332688       1 gateway.go:764] "HandleResponseBody completed" requestID="27a20411-aa96-4008-965b-123c785fc7d9" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:11.332736       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c88ebc76-2c15-4f40-89a2-65d8ba4933ec"
I0304 08:26:11.363027       1 gateway.go:608] "First token received" requestID="c88ebc76-2c15-4f40-89a2-65d8ba4933ec" ttft_ms=188
I0304 08:26:11.373447       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2ce03768, selectedpod, 10.0.1.33:8000, ttft, 184, tpot, 21, e2e, 374, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:11.373466       1 gateway.go:748] "Request completed" requestID="81314867-76ad-4fc1-9068-f2ca0c5bcd17" targetPod="10.0.1.33:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:11.373477       1 gateway.go:764] "HandleResponseBody completed" requestID="81314867-76ad-4fc1-9068-f2ca0c5bcd17" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:11.378605       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0602, numInputTokens, 3756
I0304 08:26:11.378619       1 tree.go:471] Updated node(0) last access: 128.8805 seconds
I0304 08:26:11.378625       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:11.378629       1 tree.go:471] Updated node(2) last access: 128.8805 seconds
I0304 08:26:11.378637       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:11.378640       1 tree.go:471] Updated node(30) last access: 128.8805 seconds
I0304 08:26:11.378646       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:11.378652       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:11.378658       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:11.378664       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:11.378669       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:11.378653944 +0000 UTC m=+128.998876369]
I0304 08:26:11.378684       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:11.378690       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:11.378724       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3633
I0304 08:26:11.378733       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:11.378742       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.378751       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.378755       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.378759       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.378767       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:11.378776       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:11.378785       1 prefix_cache_and_load.go:584] latency, Route, 0.0665
I0304 08:26:11.378794       1 gateway.go:415] latency, selectTargetPod, 0.0666, target pod, 10.0.0.13:8000
I0304 08:26:11.378804       1 gateway.go:235] latency, HandleRequestBody, 0.0668
I0304 08:26:11.402937       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="62304155-e14e-4789-bd4b-b7d8bca6b365"
I0304 08:26:11.467044       1 gateway.go:608] "First token received" requestID="62304155-e14e-4789-bd4b-b7d8bca6b365" ttft_ms=154
I0304 08:26:11.481922       1 gateway.go:207] "Processing request" requestID="8367bea3-995e-43f0-82c6-59e9e39feada"
I0304 08:26:11.481941       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8367bea3-995e-43f0-82c6-59e9e39feada"
I0304 08:26:11.481952       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:11.513262       1 gateway.go:562] latency, 0.0000, summary, hash(request), fe262689, selectedpod, 10.0.0.13:8000, ttft, 200, tpot, 26, e2e, 434, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:11.513279       1 gateway.go:748] "Request completed" requestID="747460ac-887f-43df-8757-a768b889a0c3" targetPod="10.0.0.13:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:11.513288       1 gateway.go:764] "HandleResponseBody completed" requestID="747460ac-887f-43df-8757-a768b889a0c3" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:11.526630       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8367bea3-995e-43f0-82c6-59e9e39feada"
I0304 08:26:11.533854       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8367bea3-995e-43f0-82c6-59e9e39feada" model="deepseek-llm-7b-chat"
I0304 08:26:11.533910       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:11.533918       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:11.533921       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:11.534017       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:11.534062       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:11.534069       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:11.536509       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3603cc2d, selectedpod, 10.0.0.13:8000, ttft, 174, tpot, 26, e2e, 414, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:11.536539       1 gateway.go:748] "Request completed" requestID="252b8cc3-a328-4a56-899f-c71c534cf819" targetPod="10.0.0.13:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:11.536552       1 gateway.go:764] "HandleResponseBody completed" requestID="252b8cc3-a328-4a56-899f-c71c534cf819" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:11.537912       1 gateway.go:207] "Processing request" requestID="221155bb-9367-4d11-bb07-e6be7f4a3c5b"
I0304 08:26:11.537937       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="221155bb-9367-4d11-bb07-e6be7f4a3c5b"
I0304 08:26:11.537945       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:11.539642       1 gateway.go:562] latency, 0.0000, summary, hash(request), ec2062be, selectedpod, 10.0.3.28:8000, ttft, 188, tpot, 19, e2e, 365, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:11.539658       1 gateway.go:748] "Request completed" requestID="c88ebc76-2c15-4f40-89a2-65d8ba4933ec" targetPod="10.0.3.28:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:11.539668       1 gateway.go:764] "HandleResponseBody completed" requestID="c88ebc76-2c15-4f40-89a2-65d8ba4933ec" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:11.575900       1 gateway.go:329] "-- In RequestBody processing ..." requestID="221155bb-9367-4d11-bb07-e6be7f4a3c5b"
I0304 08:26:11.576025       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="221155bb-9367-4d11-bb07-e6be7f4a3c5b" model="deepseek-llm-7b-chat"
I0304 08:26:11.582019       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0479, numInputTokens, 3753
I0304 08:26:11.582039       1 tree.go:471] Updated node(0) last access: 129.0839 seconds
I0304 08:26:11.582046       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:11.582051       1 tree.go:471] Updated node(2) last access: 129.0839 seconds
I0304 08:26:11.582059       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:11.582064       1 tree.go:471] Updated node(30) last access: 129.0839 seconds
I0304 08:26:11.582235       1 tree.go:490] Partial tokens match child node(111). Continue to go deeper in the radix tree
I0304 08:26:11.582246       1 tree.go:471] Updated node(111) last access: 129.0841 seconds
I0304 08:26:11.582257       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:11.582263       1 tree.go:449] latency, insertHelper, 0.0002 seconds, 3753 tokens
I0304 08:26:11.582272       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:11.582280       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0304 08:26:11.582286       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:11.582265822 +0000 UTC m=+129.202488248]
I0304 08:26:11.582303       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3636, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:11.582311       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:11.582345       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3636
I0304 08:26:11.582354       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:11.582361       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.582367       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.582371       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.582375       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.582381       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.582388       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:11.582396       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:11.582408       1 prefix_cache_and_load.go:584] latency, Route, 0.0485
I0304 08:26:11.582422       1 gateway.go:415] latency, selectTargetPod, 0.0485, target pod, 10.0.0.13:8000
I0304 08:26:11.582434       1 gateway.go:235] latency, HandleRequestBody, 0.0558
I0304 08:26:11.582463       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0064
I0304 08:26:11.582468       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:11.582471       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:11.582533       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:11.582553       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:11.582558       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:11.606082       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8367bea3-995e-43f0-82c6-59e9e39feada"
I0304 08:26:11.630828       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0483, numInputTokens, 3758
I0304 08:26:11.630844       1 tree.go:471] Updated node(0) last access: 129.1327 seconds
I0304 08:26:11.630850       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:11.630854       1 tree.go:471] Updated node(2) last access: 129.1327 seconds
I0304 08:26:11.630862       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:11.630867       1 tree.go:471] Updated node(40) last access: 129.1327 seconds
I0304 08:26:11.630873       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 125 tokens:
I0304 08:26:11.630878       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3758 tokens
I0304 08:26:11.630885       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:11.630891       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:11.630896       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:11.630880564 +0000 UTC m=+129.251102990]
I0304 08:26:11.630912       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3633, Matching ratio: 0.9667, # Matched pods: 0, Matched pods: []
I0304 08:26:11.630919       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9667 > 0.5000)
I0304 08:26:11.630952       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:11.630961       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:11.630967       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.630980       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.630986       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.630992       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.631000       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:11.631009       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:11.631018       1 prefix_cache_and_load.go:584] latency, Route, 0.0549
I0304 08:26:11.631028       1 gateway.go:415] latency, selectTargetPod, 0.0550, target pod, 10.0.1.47:8000
I0304 08:26:11.631036       1 gateway.go:235] latency, HandleRequestBody, 0.0551
I0304 08:26:11.644843       1 gateway.go:608] "First token received" requestID="8367bea3-995e-43f0-82c6-59e9e39feada" ttft_ms=118
I0304 08:26:11.648773       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="221155bb-9367-4d11-bb07-e6be7f4a3c5b"
I0304 08:26:11.687707       1 gateway.go:562] latency, 0.0000, summary, hash(request), e999de02, selectedpod, 10.0.0.13:8000, ttft, 154, tpot, 24, e2e, 375, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:11.687728       1 gateway.go:748] "Request completed" requestID="62304155-e14e-4789-bd4b-b7d8bca6b365" targetPod="10.0.0.13:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:11.687746       1 gateway.go:764] "HandleResponseBody completed" requestID="62304155-e14e-4789-bd4b-b7d8bca6b365" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:11.694072       1 gateway.go:608] "First token received" requestID="221155bb-9367-4d11-bb07-e6be7f4a3c5b" ttft_ms=118
I0304 08:26:11.700414       1 gateway.go:207] "Processing request" requestID="ceae1dd1-38af-487f-806f-470389d1dda4"
I0304 08:26:11.700445       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ceae1dd1-38af-487f-806f-470389d1dda4"
I0304 08:26:11.700454       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:11.747685       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ceae1dd1-38af-487f-806f-470389d1dda4"
I0304 08:26:11.747815       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ceae1dd1-38af-487f-806f-470389d1dda4" model="deepseek-llm-7b-chat"
I0304 08:26:11.747865       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:11.747871       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:11.747875       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:11.747955       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:11.747985       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:11.747991       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:11.750030       1 gateway.go:207] "Processing request" requestID="1f5d0c05-9802-4992-868a-4d5be726754a"
I0304 08:26:11.750055       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1f5d0c05-9802-4992-868a-4d5be726754a"
I0304 08:26:11.750063       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:11.797056       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 3753
I0304 08:26:11.797072       1 tree.go:471] Updated node(0) last access: 129.2989 seconds
I0304 08:26:11.797078       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:11.797082       1 tree.go:471] Updated node(2) last access: 129.2989 seconds
I0304 08:26:11.797091       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:11.797095       1 tree.go:471] Updated node(37) last access: 129.2990 seconds
I0304 08:26:11.797108       1 tree.go:667] Split complete - New node(117)
I0304 08:26:11.797112       1 tree.go:668] Split complete - Child node(69)
I0304 08:26:11.797117       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:11.797124       1 tree.go:471] Updated node(117) last access: 129.2990 seconds
I0304 08:26:11.797131       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:11.797137       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:11.797140       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1f5d0c05-9802-4992-868a-4d5be726754a"
I0304 08:26:11.797145       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:11.797153       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:11.797159       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:11.797140704 +0000 UTC m=+129.417363132]
I0304 08:26:11.797179       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3638, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:11.797188       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:11.797229       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3638
I0304 08:26:11.797242       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:11.797253       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.797260       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.797264       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.797266       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1f5d0c05-9802-4992-868a-4d5be726754a" model="deepseek-llm-7b-chat"
I0304 08:26:11.797269       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.797272       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.797279       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:11.797289       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:11.797299       1 prefix_cache_and_load.go:584] latency, Route, 0.0494
I0304 08:26:11.797309       1 gateway.go:415] latency, selectTargetPod, 0.0494, target pod, 10.0.1.47:8000
I0304 08:26:11.797323       1 gateway.go:235] latency, HandleRequestBody, 0.0496
I0304 08:26:11.797343       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:11.797351       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:11.797354       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:11.797461       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:11.797494       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:11.797501       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:11.813069       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ceae1dd1-38af-487f-806f-470389d1dda4"
I0304 08:26:11.825933       1 gateway.go:562] latency, 0.0000, summary, hash(request), 376d13cf, selectedpod, 10.0.0.13:8000, ttft, 118, tpot, 20, e2e, 299, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:11.825952       1 gateway.go:748] "Request completed" requestID="8367bea3-995e-43f0-82c6-59e9e39feada" targetPod="10.0.0.13:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:11.825963       1 gateway.go:764] "HandleResponseBody completed" requestID="8367bea3-995e-43f0-82c6-59e9e39feada" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:11.847540       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0500, numInputTokens, 3754
I0304 08:26:11.847558       1 tree.go:471] Updated node(0) last access: 129.3494 seconds
I0304 08:26:11.847565       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:11.847568       1 tree.go:471] Updated node(2) last access: 129.3494 seconds
I0304 08:26:11.847577       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:11.847579       1 tree.go:471] Updated node(5) last access: 129.3494 seconds
I0304 08:26:11.847590       1 tree.go:667] Split complete - New node(119)
I0304 08:26:11.847595       1 tree.go:668] Split complete - Child node(57)
I0304 08:26:11.847599       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:11.847606       1 tree.go:471] Updated node(119) last access: 129.3495 seconds
I0304 08:26:11.847610       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:11.847613       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:11.847619       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:11.847625       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:11.847630       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:11.84761544 +0000 UTC m=+129.467837865]
I0304 08:26:11.847643       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3638, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:11.847652       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:11.847683       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3638
I0304 08:26:11.847693       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:11.847701       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.847707       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.847713       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.847719       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.847724       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.847753       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:11.847765       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:11.847773       1 prefix_cache_and_load.go:584] latency, Route, 0.0504
I0304 08:26:11.847782       1 gateway.go:415] latency, selectTargetPod, 0.0504, target pod, 10.0.3.28:8000
I0304 08:26:11.847800       1 gateway.go:235] latency, HandleRequestBody, 0.0507
I0304 08:26:11.859434       1 gateway.go:608] "First token received" requestID="ceae1dd1-38af-487f-806f-470389d1dda4" ttft_ms=111
I0304 08:26:11.862395       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1f5d0c05-9802-4992-868a-4d5be726754a"
I0304 08:26:11.879863       1 gateway.go:207] "Processing request" requestID="60228af4-676d-4266-8884-d93fdedc0288"
I0304 08:26:11.879886       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="60228af4-676d-4266-8884-d93fdedc0288"
I0304 08:26:11.879895       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:11.893376       1 gateway.go:608] "First token received" requestID="1f5d0c05-9802-4992-868a-4d5be726754a" ttft_ms=96
I0304 08:26:11.904581       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9eddf595, selectedpod, 10.0.1.47:8000, ttft, 118, tpot, 23, e2e, 328, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:11.904601       1 gateway.go:748] "Request completed" requestID="221155bb-9367-4d11-bb07-e6be7f4a3c5b" targetPod="10.0.1.47:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:11.904613       1 gateway.go:764] "HandleResponseBody completed" requestID="221155bb-9367-4d11-bb07-e6be7f4a3c5b" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:11.929982       1 gateway.go:329] "-- In RequestBody processing ..." requestID="60228af4-676d-4266-8884-d93fdedc0288"
I0304 08:26:11.930112       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="60228af4-676d-4266-8884-d93fdedc0288" model="deepseek-llm-7b-chat"
I0304 08:26:11.930170       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:11.930177       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:11.930181       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:11.930276       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:11.930299       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:11.930307       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:11.977092       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0468, numInputTokens, 3754
I0304 08:26:11.977123       1 tree.go:471] Updated node(0) last access: 129.4790 seconds
I0304 08:26:11.977163       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:11.977169       1 tree.go:471] Updated node(2) last access: 129.4790 seconds
I0304 08:26:11.977179       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:11.977183       1 tree.go:471] Updated node(67) last access: 129.4790 seconds
I0304 08:26:11.977191       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:11.977197       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:11.977204       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:11.977214       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:11.977220       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:11.977198977 +0000 UTC m=+129.597421410]
I0304 08:26:11.977241       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:11.977252       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:11.977307       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:11.977320       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:11.977333       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.977340       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.977345       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.977351       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:11.977359       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:11.977369       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:11.977382       1 prefix_cache_and_load.go:584] latency, Route, 0.0472
I0304 08:26:11.977392       1 gateway.go:415] latency, selectTargetPod, 0.0472, target pod, 10.0.1.33:8000
I0304 08:26:11.977406       1 gateway.go:235] latency, HandleRequestBody, 0.0474
I0304 08:26:11.995434       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="60228af4-676d-4266-8884-d93fdedc0288"
I0304 08:26:12.026013       1 gateway.go:608] "First token received" requestID="60228af4-676d-4266-8884-d93fdedc0288" ttft_ms=95
I0304 08:26:12.044809       1 gateway.go:562] latency, 0.0000, summary, hash(request), a09805d8, selectedpod, 10.0.1.47:8000, ttft, 111, tpot, 20, e2e, 297, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:12.044829       1 gateway.go:748] "Request completed" requestID="ceae1dd1-38af-487f-806f-470389d1dda4" targetPod="10.0.1.47:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:12.044838       1 gateway.go:764] "HandleResponseBody completed" requestID="ceae1dd1-38af-487f-806f-470389d1dda4" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:12.069173       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1eb21743, selectedpod, 10.0.3.28:8000, ttft, 96, tpot, 19, e2e, 272, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:12.069188       1 gateway.go:748] "Request completed" requestID="1f5d0c05-9802-4992-868a-4d5be726754a" targetPod="10.0.3.28:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:12.069196       1 gateway.go:764] "HandleResponseBody completed" requestID="1f5d0c05-9802-4992-868a-4d5be726754a" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:12.203962       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0e24ad83, selectedpod, 10.0.1.33:8000, ttft, 95, tpot, 19, e2e, 273, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:12.203985       1 gateway.go:748] "Request completed" requestID="60228af4-676d-4266-8884-d93fdedc0288" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:12.203993       1 gateway.go:764] "HandleResponseBody completed" requestID="60228af4-676d-4266-8884-d93fdedc0288" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:12.409671       1 gateway.go:207] "Processing request" requestID="958c4e50-4b09-4cf2-af3c-b87604fce3be"
I0304 08:26:12.409699       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="958c4e50-4b09-4cf2-af3c-b87604fce3be"
I0304 08:26:12.409707       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:12.456674       1 gateway.go:329] "-- In RequestBody processing ..." requestID="958c4e50-4b09-4cf2-af3c-b87604fce3be"
I0304 08:26:12.456801       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="958c4e50-4b09-4cf2-af3c-b87604fce3be" model="deepseek-llm-7b-chat"
I0304 08:26:12.456846       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:12.456853       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:12.456856       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:12.456941       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:12.456962       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:12.456968       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:12.482918       1 gateway.go:207] "Processing request" requestID="4ee287ea-2f54-4441-8481-f9e519fa78ec"
I0304 08:26:12.482937       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4ee287ea-2f54-4441-8481-f9e519fa78ec"
I0304 08:26:12.482945       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:12.503838       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0469, numInputTokens, 3754
I0304 08:26:12.503854       1 tree.go:471] Updated node(0) last access: 130.0057 seconds
I0304 08:26:12.503861       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:12.503864       1 tree.go:471] Updated node(2) last access: 130.0057 seconds
I0304 08:26:12.503872       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:12.503875       1 tree.go:471] Updated node(5) last access: 130.0057 seconds
I0304 08:26:12.503884       1 tree.go:667] Split complete - New node(122)
I0304 08:26:12.503889       1 tree.go:668] Split complete - Child node(46)
I0304 08:26:12.503895       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:12.503898       1 tree.go:471] Updated node(122) last access: 130.0058 seconds
I0304 08:26:12.503904       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0304 08:26:12.503908       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:12.503914       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:12.503921       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:12.503926       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:12.503909906 +0000 UTC m=+130.124132331]
I0304 08:26:12.503941       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3644, Matching ratio: 0.9707, # Matched pods: 0, Matched pods: []
I0304 08:26:12.503948       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9707 > 0.5000)
I0304 08:26:12.503990       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3644
I0304 08:26:12.504001       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:12.504009       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.504014       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.504019       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.504024       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.504029       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.504038       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:12.504047       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:12.504079       1 prefix_cache_and_load.go:584] latency, Route, 0.0472
I0304 08:26:12.504094       1 gateway.go:415] latency, selectTargetPod, 0.0472, target pod, 10.0.3.28:8000
I0304 08:26:12.504105       1 gateway.go:235] latency, HandleRequestBody, 0.0474
I0304 08:26:12.519929       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="958c4e50-4b09-4cf2-af3c-b87604fce3be"
I0304 08:26:12.545163       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4ee287ea-2f54-4441-8481-f9e519fa78ec"
I0304 08:26:12.545314       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4ee287ea-2f54-4441-8481-f9e519fa78ec" model="deepseek-llm-7b-chat"
I0304 08:26:12.545383       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:12.545391       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:12.545394       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:12.545469       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:12.545490       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:12.545495       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:12.550494       1 gateway.go:608] "First token received" requestID="958c4e50-4b09-4cf2-af3c-b87604fce3be" ttft_ms=93
I0304 08:26:12.594703       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 3748
I0304 08:26:12.594723       1 tree.go:471] Updated node(0) last access: 130.0966 seconds
I0304 08:26:12.594729       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:12.594733       1 tree.go:471] Updated node(2) last access: 130.0966 seconds
I0304 08:26:12.594741       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:12.594746       1 tree.go:471] Updated node(37) last access: 130.0966 seconds
I0304 08:26:12.594756       1 tree.go:667] Split complete - New node(124)
I0304 08:26:12.594760       1 tree.go:668] Split complete - Child node(117)
I0304 08:26:12.594765       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0304 08:26:12.594770       1 tree.go:471] Updated node(124) last access: 130.0966 seconds
I0304 08:26:12.594775       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:12.594780       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3748 tokens
I0304 08:26:12.594786       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3748 tokens
I0304 08:26:12.594793       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:12.594798       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:12.594782337 +0000 UTC m=+130.215004763]
I0304 08:26:12.594813       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3748, Matched tokens: 3635, Matching ratio: 0.9699, # Matched pods: 0, Matched pods: []
I0304 08:26:12.594821       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9699 > 0.5000)
I0304 08:26:12.594854       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3635
I0304 08:26:12.594864       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:12.594872       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.594876       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.594879       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.594884       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.594890       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.594898       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:12.594907       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:12.594918       1 prefix_cache_and_load.go:584] latency, Route, 0.0495
I0304 08:26:12.594927       1 gateway.go:415] latency, selectTargetPod, 0.0495, target pod, 10.0.1.47:8000
I0304 08:26:12.594938       1 gateway.go:235] latency, HandleRequestBody, 0.0498
I0304 08:26:12.611482       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4ee287ea-2f54-4441-8481-f9e519fa78ec"
I0304 08:26:12.642835       1 gateway.go:608] "First token received" requestID="4ee287ea-2f54-4441-8481-f9e519fa78ec" ttft_ms=97
I0304 08:26:12.702212       1 gateway.go:207] "Processing request" requestID="848ac75e-cf40-4cb2-91bb-b0c32a867926"
I0304 08:26:12.702241       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="848ac75e-cf40-4cb2-91bb-b0c32a867926"
I0304 08:26:12.702251       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:12.726127       1 gateway.go:562] latency, 0.0000, summary, hash(request), a43c9e70, selectedpod, 10.0.3.28:8000, ttft, 93, tpot, 19, e2e, 269, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:12.726145       1 gateway.go:748] "Request completed" requestID="958c4e50-4b09-4cf2-af3c-b87604fce3be" targetPod="10.0.3.28:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:12.726153       1 gateway.go:764] "HandleResponseBody completed" requestID="958c4e50-4b09-4cf2-af3c-b87604fce3be" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:12.756283       1 gateway.go:329] "-- In RequestBody processing ..." requestID="848ac75e-cf40-4cb2-91bb-b0c32a867926"
I0304 08:26:12.756410       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="848ac75e-cf40-4cb2-91bb-b0c32a867926" model="deepseek-llm-7b-chat"
I0304 08:26:12.756461       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:12.756468       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:12.756472       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:12.756583       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:12.756608       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:12.756612       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:12.769438       1 gateway.go:207] "Processing request" requestID="6c1c3adc-5117-4c37-a3ad-4f6e17a0c90c"
I0304 08:26:12.769467       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6c1c3adc-5117-4c37-a3ad-4f6e17a0c90c"
I0304 08:26:12.769476       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:12.805489       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0489, numInputTokens, 3754
I0304 08:26:12.805508       1 tree.go:471] Updated node(0) last access: 130.3074 seconds
I0304 08:26:12.805522       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:12.805526       1 tree.go:471] Updated node(2) last access: 130.3074 seconds
I0304 08:26:12.805535       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:12.805540       1 tree.go:471] Updated node(37) last access: 130.3074 seconds
I0304 08:26:12.805544       1 tree.go:490] Partial tokens match child node(61). Continue to go deeper in the radix tree
I0304 08:26:12.805547       1 tree.go:471] Updated node(61) last access: 130.3074 seconds
I0304 08:26:12.805554       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:12.805561       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:12.805568       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:12.805576       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:12.805581       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:12.80556332 +0000 UTC m=+130.425785746]
I0304 08:26:12.805598       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3637, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:12.805605       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:12.805653       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3637
I0304 08:26:12.805663       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:12.805672       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.805678       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.805683       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.805688       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.805692       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.805702       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:12.805712       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:12.805725       1 prefix_cache_and_load.go:584] latency, Route, 0.0493
I0304 08:26:12.805736       1 gateway.go:415] latency, selectTargetPod, 0.0493, target pod, 10.0.1.47:8000
I0304 08:26:12.805747       1 gateway.go:235] latency, HandleRequestBody, 0.0495
I0304 08:26:12.812017       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6c1c3adc-5117-4c37-a3ad-4f6e17a0c90c"
I0304 08:26:12.812145       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6c1c3adc-5117-4c37-a3ad-4f6e17a0c90c" model="deepseek-llm-7b-chat"
I0304 08:26:12.812204       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:12.812211       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:12.812214       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:12.812306       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:12.812329       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:12.812333       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:12.820504       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9a58bbbf, selectedpod, 10.0.1.47:8000, ttft, 97, tpot, 19, e2e, 275, numInputTokens, 3961, numOutputTokens, 10, numTotalTokens, 3971
I0304 08:26:12.820564       1 gateway.go:748] "Request completed" requestID="4ee287ea-2f54-4441-8481-f9e519fa78ec" targetPod="10.0.1.47:8000" promptTokens=3961 completionTokens=10 totalTokens=3971
I0304 08:26:12.820583       1 gateway.go:764] "HandleResponseBody completed" requestID="4ee287ea-2f54-4441-8481-f9e519fa78ec" promptTokens=3961 completionTokens=10 stream=true
I0304 08:26:12.823233       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="848ac75e-cf40-4cb2-91bb-b0c32a867926"
I0304 08:26:12.880858       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0685, numInputTokens, 3759
I0304 08:26:12.880878       1 tree.go:471] Updated node(0) last access: 130.3827 seconds
I0304 08:26:12.880884       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:12.880888       1 tree.go:471] Updated node(2) last access: 130.3828 seconds
I0304 08:26:12.880896       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:12.880900       1 tree.go:471] Updated node(22) last access: 130.3828 seconds
I0304 08:26:12.880910       1 tree.go:667] Split complete - New node(127)
I0304 08:26:12.880914       1 tree.go:668] Split complete - Child node(83)
I0304 08:26:12.880919       1 tree.go:501] latency, splitNode, 0.0000 seconds, 126 tokens:
I0304 08:26:12.880924       1 tree.go:471] Updated node(127) last access: 130.3828 seconds
I0304 08:26:12.880929       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:12.880934       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3759 tokens
I0304 08:26:12.880940       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3759 tokens
I0304 08:26:12.880949       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:12.880957       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:12.880936418 +0000 UTC m=+130.501158843]
I0304 08:26:12.880985       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3759, Matched tokens: 3638, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:12.880995       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:12.881042       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3638
I0304 08:26:12.881064       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:12.881077       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.881083       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.881090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.881096       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.881101       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:12.881110       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:12.881121       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:12.881108       1 gateway.go:608] "First token received" requestID="848ac75e-cf40-4cb2-91bb-b0c32a867926" ttft_ms=124
I0304 08:26:12.881134       1 prefix_cache_and_load.go:584] latency, Route, 0.0689
I0304 08:26:12.881163       1 gateway.go:415] latency, selectTargetPod, 0.0690, target pod, 10.0.1.33:8000
I0304 08:26:12.881179       1 gateway.go:235] latency, HandleRequestBody, 0.0692
I0304 08:26:12.899071       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6c1c3adc-5117-4c37-a3ad-4f6e17a0c90c"
I0304 08:26:12.944196       1 gateway.go:608] "First token received" requestID="6c1c3adc-5117-4c37-a3ad-4f6e17a0c90c" ttft_ms=132
I0304 08:26:12.981412       1 gateway.go:207] "Processing request" requestID="abee173d-fc65-4d1f-a355-cfac3fae7775"
I0304 08:26:12.981437       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="abee173d-fc65-4d1f-a355-cfac3fae7775"
I0304 08:26:12.981446       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:13.046980       1 gateway.go:329] "-- In RequestBody processing ..." requestID="abee173d-fc65-4d1f-a355-cfac3fae7775"
I0304 08:26:13.047106       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="abee173d-fc65-4d1f-a355-cfac3fae7775" model="deepseek-llm-7b-chat"
I0304 08:26:13.047161       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:13.047168       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:13.047172       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:13.047259       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:13.047286       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:13.047292       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:13.057183       1 gateway.go:562] latency, 0.0000, summary, hash(request), 328ff33b, selectedpod, 10.0.1.47:8000, ttft, 124, tpot, 19, e2e, 300, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:13.057204       1 gateway.go:748] "Request completed" requestID="848ac75e-cf40-4cb2-91bb-b0c32a867926" targetPod="10.0.1.47:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:13.057213       1 gateway.go:764] "HandleResponseBody completed" requestID="848ac75e-cf40-4cb2-91bb-b0c32a867926" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:13.057382       1 gateway.go:207] "Processing request" requestID="7982980b-0756-4585-9a74-2106bbf04f50"
I0304 08:26:13.057407       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7982980b-0756-4585-9a74-2106bbf04f50"
I0304 08:26:13.057415       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:13.093147       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0458, numInputTokens, 3756
I0304 08:26:13.093166       1 tree.go:471] Updated node(0) last access: 130.5950 seconds
I0304 08:26:13.093174       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:13.093179       1 tree.go:471] Updated node(2) last access: 130.5950 seconds
I0304 08:26:13.093190       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:13.093194       1 tree.go:471] Updated node(24) last access: 130.5951 seconds
I0304 08:26:13.093202       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:13.093208       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:13.093217       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:13.093225       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:13.093232       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:13.093211221 +0000 UTC m=+130.713433652]
I0304 08:26:13.093251       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:13.093261       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:13.093300       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3633
I0304 08:26:13.093312       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:13.093323       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.093334       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.093339       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.093343       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.093354       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:13.093366       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:13.093378       1 prefix_cache_and_load.go:584] latency, Route, 0.0462
I0304 08:26:13.093389       1 gateway.go:415] latency, selectTargetPod, 0.0462, target pod, 10.0.1.53:8000
I0304 08:26:13.093402       1 gateway.go:235] latency, HandleRequestBody, 0.0464
I0304 08:26:13.100884       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7982980b-0756-4585-9a74-2106bbf04f50"
I0304 08:26:13.101007       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7982980b-0756-4585-9a74-2106bbf04f50" model="deepseek-llm-7b-chat"
I0304 08:26:13.101046       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:13.101051       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:13.101054       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:13.101144       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:13.101164       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:13.101168       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:13.106919       1 gateway.go:207] "Processing request" requestID="5e38a30d-edd9-449b-9c86-132283b30c94"
I0304 08:26:13.106943       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5e38a30d-edd9-449b-9c86-132283b30c94"
I0304 08:26:13.106950       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:13.111286       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="abee173d-fc65-4d1f-a355-cfac3fae7775"
I0304 08:26:13.120203       1 gateway.go:562] latency, 0.0000, summary, hash(request), 49b66300, selectedpod, 10.0.1.33:8000, ttft, 132, tpot, 19, e2e, 308, numInputTokens, 3973, numOutputTokens, 10, numTotalTokens, 3983
I0304 08:26:13.120226       1 gateway.go:748] "Request completed" requestID="6c1c3adc-5117-4c37-a3ad-4f6e17a0c90c" targetPod="10.0.1.33:8000" promptTokens=3973 completionTokens=10 totalTokens=3983
I0304 08:26:13.120238       1 gateway.go:764] "HandleResponseBody completed" requestID="6c1c3adc-5117-4c37-a3ad-4f6e17a0c90c" promptTokens=3973 completionTokens=10 stream=true
I0304 08:26:13.149731       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 3756
I0304 08:26:13.149749       1 tree.go:471] Updated node(0) last access: 130.6516 seconds
I0304 08:26:13.149755       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:13.149760       1 tree.go:471] Updated node(2) last access: 130.6516 seconds
I0304 08:26:13.149768       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:13.149773       1 tree.go:471] Updated node(12) last access: 130.6516 seconds
I0304 08:26:13.149779       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:13.149785       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:13.149791       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:13.149798       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:13.149803       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:13.149787027 +0000 UTC m=+130.770009463]
I0304 08:26:13.149818       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:13.149826       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:13.149861       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3633
I0304 08:26:13.149870       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:13.149877       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.149884       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.149888       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.149894       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.149902       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:13.149912       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:13.149923       1 prefix_cache_and_load.go:584] latency, Route, 0.0489
I0304 08:26:13.149933       1 gateway.go:415] latency, selectTargetPod, 0.0489, target pod, 10.0.0.6:8000
I0304 08:26:13.149944       1 gateway.go:235] latency, HandleRequestBody, 0.0491
I0304 08:26:13.152813       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5e38a30d-edd9-449b-9c86-132283b30c94"
I0304 08:26:13.152940       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5e38a30d-edd9-449b-9c86-132283b30c94" model="deepseek-llm-7b-chat"
I0304 08:26:13.152993       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:13.153002       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:13.153006       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:13.153099       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:13.153125       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:13.153132       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:13.156670       1 gateway.go:608] "First token received" requestID="abee173d-fc65-4d1f-a355-cfac3fae7775" ttft_ms=109
I0304 08:26:13.167211       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7982980b-0756-4585-9a74-2106bbf04f50"
I0304 08:26:13.212639       1 gateway.go:608] "First token received" requestID="7982980b-0756-4585-9a74-2106bbf04f50" ttft_ms=111
I0304 08:26:13.214904       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0618, numInputTokens, 3758
I0304 08:26:13.214920       1 tree.go:471] Updated node(0) last access: 130.7168 seconds
I0304 08:26:13.214927       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:13.214930       1 tree.go:471] Updated node(2) last access: 130.7168 seconds
I0304 08:26:13.214939       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:13.214945       1 tree.go:471] Updated node(22) last access: 130.7168 seconds
I0304 08:26:13.214955       1 tree.go:667] Split complete - New node(131)
I0304 08:26:13.214960       1 tree.go:668] Split complete - Child node(90)
I0304 08:26:13.214965       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0304 08:26:13.214970       1 tree.go:471] Updated node(131) last access: 130.7168 seconds
I0304 08:26:13.214986       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:13.214991       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3758 tokens
I0304 08:26:13.214997       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:13.215004       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:13.215011       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:13.214992935 +0000 UTC m=+130.835215371]
I0304 08:26:13.215027       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3637, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:13.215037       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:13.215085       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3637
I0304 08:26:13.215094       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:13.215102       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.215108       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.215112       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.215118       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.215125       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.215136       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:13.215148       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:13.215161       1 prefix_cache_and_load.go:584] latency, Route, 0.0622
I0304 08:26:13.215172       1 gateway.go:415] latency, selectTargetPod, 0.0622, target pod, 10.0.1.33:8000
I0304 08:26:13.215184       1 gateway.go:235] latency, HandleRequestBody, 0.0624
I0304 08:26:13.232727       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5e38a30d-edd9-449b-9c86-132283b30c94"
I0304 08:26:13.263942       1 gateway.go:207] "Processing request" requestID="62429e91-97ed-41f1-9d68-30b0e8a266bf"
I0304 08:26:13.263961       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="62429e91-97ed-41f1-9d68-30b0e8a266bf"
I0304 08:26:13.263970       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:13.277179       1 gateway.go:608] "First token received" requestID="5e38a30d-edd9-449b-9c86-132283b30c94" ttft_ms=124
I0304 08:26:13.323702       1 gateway.go:207] "Processing request" requestID="60606101-f3d1-4a0f-91dc-85fa40a283e6"
I0304 08:26:13.323724       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="60606101-f3d1-4a0f-91dc-85fa40a283e6"
I0304 08:26:13.323733       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:13.324239       1 gateway.go:329] "-- In RequestBody processing ..." requestID="62429e91-97ed-41f1-9d68-30b0e8a266bf"
I0304 08:26:13.324351       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="62429e91-97ed-41f1-9d68-30b0e8a266bf" model="deepseek-llm-7b-chat"
I0304 08:26:13.324414       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:13.324420       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:13.324423       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:13.324500       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:13.324529       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:13.324534       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:13.332359       1 gateway.go:562] latency, 0.0001, summary, hash(request), 7349c08e, selectedpod, 10.0.1.53:8000, ttft, 109, tpot, 19, e2e, 285, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:13.332393       1 gateway.go:748] "Request completed" requestID="abee173d-fc65-4d1f-a355-cfac3fae7775" targetPod="10.0.1.53:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:13.332409       1 gateway.go:764] "HandleResponseBody completed" requestID="abee173d-fc65-4d1f-a355-cfac3fae7775" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:13.372632       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0481, numInputTokens, 3750
I0304 08:26:13.372651       1 tree.go:471] Updated node(0) last access: 130.8745 seconds
I0304 08:26:13.372660       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:13.372664       1 tree.go:471] Updated node(2) last access: 130.8745 seconds
I0304 08:26:13.372674       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:13.372679       1 tree.go:471] Updated node(67) last access: 130.8745 seconds
I0304 08:26:13.372685       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:13.372692       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3750 tokens
I0304 08:26:13.372701       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:13.372710       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:13.372718       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:13.372694517 +0000 UTC m=+130.992916942]
I0304 08:26:13.372738       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3633, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:13.372750       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:13.372800       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:13.372814       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:13.372825       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.372833       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.372841       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.372845       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.372855       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:13.372868       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:13.372880       1 prefix_cache_and_load.go:584] latency, Route, 0.0485
I0304 08:26:13.372890       1 gateway.go:415] latency, selectTargetPod, 0.0485, target pod, 10.0.1.33:8000
I0304 08:26:13.372901       1 gateway.go:235] latency, HandleRequestBody, 0.0487
I0304 08:26:13.373708       1 gateway.go:329] "-- In RequestBody processing ..." requestID="60606101-f3d1-4a0f-91dc-85fa40a283e6"
I0304 08:26:13.373831       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="60606101-f3d1-4a0f-91dc-85fa40a283e6" model="deepseek-llm-7b-chat"
I0304 08:26:13.373881       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:13.373888       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:13.373892       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:13.373984       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:13.374006       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:13.374012       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:13.388100       1 gateway.go:562] latency, 0.0000, summary, hash(request), ec4c24b6, selectedpod, 10.0.0.6:8000, ttft, 111, tpot, 19, e2e, 287, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:13.388119       1 gateway.go:748] "Request completed" requestID="7982980b-0756-4585-9a74-2106bbf04f50" targetPod="10.0.0.6:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:13.388128       1 gateway.go:764] "HandleResponseBody completed" requestID="7982980b-0756-4585-9a74-2106bbf04f50" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:13.390220       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="62429e91-97ed-41f1-9d68-30b0e8a266bf"
I0304 08:26:13.418834       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0448, numInputTokens, 3756
I0304 08:26:13.418849       1 tree.go:471] Updated node(0) last access: 130.9207 seconds
I0304 08:26:13.418856       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:13.418859       1 tree.go:471] Updated node(2) last access: 130.9207 seconds
I0304 08:26:13.418868       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:13.418870       1 tree.go:471] Updated node(12) last access: 130.9207 seconds
I0304 08:26:13.418877       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:13.418883       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:13.418889       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:13.418897       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:13.418901       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:13.418885177 +0000 UTC m=+131.039107610]
I0304 08:26:13.418916       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:13.418922       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:13.418956       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3633
I0304 08:26:13.418965       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:13.418985       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.418991       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.418996       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.419000       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.419007       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:13.419016       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:13.419024       1 prefix_cache_and_load.go:584] latency, Route, 0.0451
I0304 08:26:13.419033       1 gateway.go:415] latency, selectTargetPod, 0.0452, target pod, 10.0.0.6:8000
I0304 08:26:13.419043       1 gateway.go:235] latency, HandleRequestBody, 0.0453
I0304 08:26:13.422647       1 gateway.go:608] "First token received" requestID="62429e91-97ed-41f1-9d68-30b0e8a266bf" ttft_ms=98
I0304 08:26:13.436717       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="60606101-f3d1-4a0f-91dc-85fa40a283e6"
I0304 08:26:13.466695       1 gateway.go:608] "First token received" requestID="60606101-f3d1-4a0f-91dc-85fa40a283e6" ttft_ms=92
I0304 08:26:13.489957       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9dedb669, selectedpod, 10.0.1.33:8000, ttft, 124, tpot, 23, e2e, 337, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:13.489984       1 gateway.go:748] "Request completed" requestID="5e38a30d-edd9-449b-9c86-132283b30c94" targetPod="10.0.1.33:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:13.489994       1 gateway.go:764] "HandleResponseBody completed" requestID="5e38a30d-edd9-449b-9c86-132283b30c94" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:13.609444       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3de84c3a, selectedpod, 10.0.1.33:8000, ttft, 98, tpot, 20, e2e, 285, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:13.609461       1 gateway.go:748] "Request completed" requestID="62429e91-97ed-41f1-9d68-30b0e8a266bf" targetPod="10.0.1.33:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:13.609470       1 gateway.go:764] "HandleResponseBody completed" requestID="62429e91-97ed-41f1-9d68-30b0e8a266bf" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:13.639527       1 gateway.go:207] "Processing request" requestID="26e8a992-eb20-4185-81dc-a25a83dc20f5"
I0304 08:26:13.639550       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="26e8a992-eb20-4185-81dc-a25a83dc20f5"
I0304 08:26:13.639559       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:13.642342       1 gateway.go:562] latency, 0.0000, summary, hash(request), dd7a7da1, selectedpod, 10.0.0.6:8000, ttft, 92, tpot, 19, e2e, 268, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:13.642354       1 gateway.go:748] "Request completed" requestID="60606101-f3d1-4a0f-91dc-85fa40a283e6" targetPod="10.0.0.6:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:13.642362       1 gateway.go:764] "HandleResponseBody completed" requestID="60606101-f3d1-4a0f-91dc-85fa40a283e6" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:13.688800       1 gateway.go:207] "Processing request" requestID="c40738e4-429b-4ae0-881e-bf002fe75689"
I0304 08:26:13.688819       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c40738e4-429b-4ae0-881e-bf002fe75689"
I0304 08:26:13.688825       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:13.695101       1 gateway.go:329] "-- In RequestBody processing ..." requestID="26e8a992-eb20-4185-81dc-a25a83dc20f5"
I0304 08:26:13.695216       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="26e8a992-eb20-4185-81dc-a25a83dc20f5" model="deepseek-llm-7b-chat"
I0304 08:26:13.695257       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:13.695263       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:13.695267       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:13.695342       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:13.695369       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:13.695374       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:13.729243       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c40738e4-429b-4ae0-881e-bf002fe75689"
I0304 08:26:13.729365       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c40738e4-429b-4ae0-881e-bf002fe75689" model="deepseek-llm-7b-chat"
I0304 08:26:13.744153       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 3750
I0304 08:26:13.744172       1 tree.go:471] Updated node(0) last access: 131.2460 seconds
I0304 08:26:13.744178       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:13.744181       1 tree.go:471] Updated node(2) last access: 131.2460 seconds
I0304 08:26:13.744190       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:13.744193       1 tree.go:471] Updated node(40) last access: 131.2461 seconds
I0304 08:26:13.744199       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:13.744204       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3750 tokens
I0304 08:26:13.744211       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:13.744219       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:13.744225       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:13.744206767 +0000 UTC m=+131.364429193]
I0304 08:26:13.744240       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3633, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:13.744249       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:13.744285       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:13.744294       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:13.744302       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.744309       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.744313       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.744320       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.744328       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:13.744341       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:13.744353       1 prefix_cache_and_load.go:584] latency, Route, 0.0491
I0304 08:26:13.744368       1 gateway.go:415] latency, selectTargetPod, 0.0491, target pod, 10.0.1.47:8000
I0304 08:26:13.744375       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0150
I0304 08:26:13.744379       1 gateway.go:235] latency, HandleRequestBody, 0.0493
I0304 08:26:13.744382       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:13.744386       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:13.744480       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:13.744505       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:13.744520       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:13.760601       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="26e8a992-eb20-4185-81dc-a25a83dc20f5"
I0304 08:26:13.794224       1 gateway.go:608] "First token received" requestID="26e8a992-eb20-4185-81dc-a25a83dc20f5" ttft_ms=99
I0304 08:26:13.797699       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0532, numInputTokens, 3752
I0304 08:26:13.797716       1 tree.go:471] Updated node(0) last access: 131.2996 seconds
I0304 08:26:13.797722       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:13.797725       1 tree.go:471] Updated node(2) last access: 131.2996 seconds
I0304 08:26:13.797735       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:13.797739       1 tree.go:471] Updated node(12) last access: 131.2996 seconds
I0304 08:26:13.797749       1 tree.go:667] Split complete - New node(136)
I0304 08:26:13.797752       1 tree.go:668] Split complete - Child node(130)
I0304 08:26:13.797757       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:13.797762       1 tree.go:471] Updated node(136) last access: 131.2996 seconds
I0304 08:26:13.797767       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:13.797772       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:13.797778       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:13.797785       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:13.797790       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:13.797774495 +0000 UTC m=+131.417996922]
I0304 08:26:13.797806       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3634, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:13.797813       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:13.797851       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3634
I0304 08:26:13.797860       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:13.797868       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.797874       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.797880       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.797885       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.797891       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.797899       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:13.797908       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:13.797916       1 prefix_cache_and_load.go:584] latency, Route, 0.0685
I0304 08:26:13.797925       1 gateway.go:415] latency, selectTargetPod, 0.0685, target pod, 10.0.0.6:8000
I0304 08:26:13.797934       1 gateway.go:235] latency, HandleRequestBody, 0.0687
I0304 08:26:13.813438       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c40738e4-429b-4ae0-881e-bf002fe75689"
I0304 08:26:13.843433       1 gateway.go:608] "First token received" requestID="c40738e4-429b-4ae0-881e-bf002fe75689" ttft_ms=114
I0304 08:26:13.859763       1 gateway.go:207] "Processing request" requestID="c458983c-f393-4e34-b3af-85d99c492a5f"
I0304 08:26:13.859785       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c458983c-f393-4e34-b3af-85d99c492a5f"
I0304 08:26:13.859794       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:13.875297       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c458983c-f393-4e34-b3af-85d99c492a5f"
I0304 08:26:13.875410       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c458983c-f393-4e34-b3af-85d99c492a5f" model="deepseek-llm-7b-chat"
I0304 08:26:13.875450       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:13.875455       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:13.875458       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:13.875549       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:13.875579       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:13.875584       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:13.914268       1 gateway.go:207] "Processing request" requestID="78da0c79-961a-4c0e-b993-80b0d3b250c8"
I0304 08:26:13.914294       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="78da0c79-961a-4c0e-b993-80b0d3b250c8"
I0304 08:26:13.914301       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:13.925684       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0501, numInputTokens, 3753
I0304 08:26:13.925702       1 tree.go:471] Updated node(0) last access: 131.4276 seconds
I0304 08:26:13.925708       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:13.925712       1 tree.go:471] Updated node(2) last access: 131.4276 seconds
I0304 08:26:13.925722       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:13.925726       1 tree.go:471] Updated node(37) last access: 131.4276 seconds
I0304 08:26:13.925732       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:13.925736       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:13.925743       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:13.925750       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:13.925755       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:13.925738415 +0000 UTC m=+131.545960840]
I0304 08:26:13.925770       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3633, Matching ratio: 0.9680, # Matched pods: 0, Matched pods: []
I0304 08:26:13.925777       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9680 > 0.5000)
I0304 08:26:13.925812       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:13.925821       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:13.925827       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.925831       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.925835       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.925840       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:13.925848       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:13.925857       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:13.925866       1 prefix_cache_and_load.go:584] latency, Route, 0.0504
I0304 08:26:13.925875       1 gateway.go:415] latency, selectTargetPod, 0.0504, target pod, 10.0.1.47:8000
I0304 08:26:13.925885       1 gateway.go:235] latency, HandleRequestBody, 0.0506
I0304 08:26:13.941858       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c458983c-f393-4e34-b3af-85d99c492a5f"
I0304 08:26:13.968242       1 gateway.go:329] "-- In RequestBody processing ..." requestID="78da0c79-961a-4c0e-b993-80b0d3b250c8"
I0304 08:26:13.968360       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="78da0c79-961a-4c0e-b993-80b0d3b250c8" model="deepseek-llm-7b-chat"
I0304 08:26:13.968404       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:13.968410       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:13.968413       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:13.968487       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:13.968524       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:13.968532       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:13.976557       1 gateway.go:608] "First token received" requestID="c458983c-f393-4e34-b3af-85d99c492a5f" ttft_ms=101
I0304 08:26:14.002342       1 gateway.go:562] latency, 0.0000, summary, hash(request), fcf21578, selectedpod, 10.0.1.47:8000, ttft, 99, tpot, 23, e2e, 307, numInputTokens, 3962, numOutputTokens, 10, numTotalTokens, 3972
I0304 08:26:14.002364       1 gateway.go:748] "Request completed" requestID="26e8a992-eb20-4185-81dc-a25a83dc20f5" targetPod="10.0.1.47:8000" promptTokens=3962 completionTokens=10 totalTokens=3972
I0304 08:26:14.002377       1 gateway.go:764] "HandleResponseBody completed" requestID="26e8a992-eb20-4185-81dc-a25a83dc20f5" promptTokens=3962 completionTokens=10 stream=true
I0304 08:26:14.015859       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0473, numInputTokens, 3757
I0304 08:26:14.015876       1 tree.go:471] Updated node(0) last access: 131.5177 seconds
I0304 08:26:14.015883       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:14.015887       1 tree.go:471] Updated node(2) last access: 131.5177 seconds
I0304 08:26:14.015899       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:14.015904       1 tree.go:471] Updated node(37) last access: 131.5178 seconds
I0304 08:26:14.015916       1 tree.go:667] Split complete - New node(139)
I0304 08:26:14.015922       1 tree.go:668] Split complete - Child node(14)
I0304 08:26:14.015928       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0304 08:26:14.015936       1 tree.go:471] Updated node(139) last access: 131.5178 seconds
I0304 08:26:14.015946       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:14.015953       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:14.015961       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:14.015970       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:14.015982       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:14.015955791 +0000 UTC m=+131.636178219]
I0304 08:26:14.016003       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3642, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:14.016014       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:14.016058       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3642
I0304 08:26:14.016068       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:14.016076       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:14.016080       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:14.016085       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:14.016090       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:14.016096       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:14.016106       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:14.016116       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:14.016127       1 prefix_cache_and_load.go:584] latency, Route, 0.0477
I0304 08:26:14.016136       1 gateway.go:415] latency, selectTargetPod, 0.0477, target pod, 10.0.1.47:8000
I0304 08:26:14.016145       1 gateway.go:235] latency, HandleRequestBody, 0.0479
I0304 08:26:14.019559       1 gateway.go:562] latency, 0.0000, summary, hash(request), a67246f4, selectedpod, 10.0.0.6:8000, ttft, 114, tpot, 19, e2e, 290, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:14.019574       1 gateway.go:748] "Request completed" requestID="c40738e4-429b-4ae0-881e-bf002fe75689" targetPod="10.0.0.6:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:14.019583       1 gateway.go:764] "HandleResponseBody completed" requestID="c40738e4-429b-4ae0-881e-bf002fe75689" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:14.031884       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="78da0c79-961a-4c0e-b993-80b0d3b250c8"
I0304 08:26:14.083677       1 gateway.go:608] "First token received" requestID="78da0c79-961a-4c0e-b993-80b0d3b250c8" ttft_ms=115
I0304 08:26:14.182635       1 gateway.go:207] "Processing request" requestID="d52fdf55-91d8-4f17-b48c-ff032706a98c"
I0304 08:26:14.182657       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d52fdf55-91d8-4f17-b48c-ff032706a98c"
I0304 08:26:14.182665       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:14.196939       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d52fdf55-91d8-4f17-b48c-ff032706a98c"
I0304 08:26:14.197059       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d52fdf55-91d8-4f17-b48c-ff032706a98c" model="deepseek-llm-7b-chat"
I0304 08:26:14.197104       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:14.197110       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:14.197114       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:14.197189       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:14.197210       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:14.197215       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:14.211838       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1406aab8, selectedpod, 10.0.1.47:8000, ttft, 101, tpot, 26, e2e, 336, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:14.211860       1 gateway.go:748] "Request completed" requestID="c458983c-f393-4e34-b3af-85d99c492a5f" targetPod="10.0.1.47:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:14.211872       1 gateway.go:764] "HandleResponseBody completed" requestID="c458983c-f393-4e34-b3af-85d99c492a5f" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:14.245391       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 3754
I0304 08:26:14.245408       1 tree.go:471] Updated node(0) last access: 131.7473 seconds
I0304 08:26:14.245414       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:14.245417       1 tree.go:471] Updated node(2) last access: 131.7473 seconds
I0304 08:26:14.245425       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:14.245427       1 tree.go:471] Updated node(67) last access: 131.7473 seconds
I0304 08:26:14.245436       1 tree.go:667] Split complete - New node(141)
I0304 08:26:14.245441       1 tree.go:668] Split complete - Child node(121)
I0304 08:26:14.245446       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:14.245451       1 tree.go:471] Updated node(141) last access: 131.7473 seconds
I0304 08:26:14.245456       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0304 08:26:14.245461       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:14.245466       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:14.245473       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:14.245478       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:14.245462931 +0000 UTC m=+131.865685357]
I0304 08:26:14.245492       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3645, Matching ratio: 0.9710, # Matched pods: 0, Matched pods: []
I0304 08:26:14.245498       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9710 > 0.5000)
I0304 08:26:14.245555       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3645
I0304 08:26:14.245566       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:14.245575       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:14.245580       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:14.245585       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:14.245588       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:14.245591       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:14.245600       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:14.245609       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:14.245620       1 prefix_cache_and_load.go:584] latency, Route, 0.0485
I0304 08:26:14.245630       1 gateway.go:415] latency, selectTargetPod, 0.0485, target pod, 10.0.1.33:8000
I0304 08:26:14.245641       1 gateway.go:235] latency, HandleRequestBody, 0.0487
I0304 08:26:14.262567       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d52fdf55-91d8-4f17-b48c-ff032706a98c"
I0304 08:26:14.272155       1 gateway.go:562] latency, 0.0000, summary, hash(request), c40bd030, selectedpod, 10.0.1.47:8000, ttft, 115, tpot, 20, e2e, 303, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:14.272176       1 gateway.go:748] "Request completed" requestID="78da0c79-961a-4c0e-b993-80b0d3b250c8" targetPod="10.0.1.47:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:14.272185       1 gateway.go:764] "HandleResponseBody completed" requestID="78da0c79-961a-4c0e-b993-80b0d3b250c8" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:14.307263       1 gateway.go:608] "First token received" requestID="d52fdf55-91d8-4f17-b48c-ff032706a98c" ttft_ms=110
I0304 08:26:14.482471       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8506cc31, selectedpod, 10.0.1.33:8000, ttft, 110, tpot, 19, e2e, 285, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:14.482489       1 gateway.go:748] "Request completed" requestID="d52fdf55-91d8-4f17-b48c-ff032706a98c" targetPod="10.0.1.33:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:14.482500       1 gateway.go:764] "HandleResponseBody completed" requestID="d52fdf55-91d8-4f17-b48c-ff032706a98c" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:14.847518       1 gateway.go:207] "Processing request" requestID="b9dbef54-a044-47eb-aa70-cf5037f94a27"
I0304 08:26:14.847556       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b9dbef54-a044-47eb-aa70-cf5037f94a27"
I0304 08:26:14.847564       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:15.109959       1 gateway.go:207] "Processing request" requestID="cc686d05-0517-4f58-b008-60b4433e78ae"
I0304 08:26:15.109999       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="cc686d05-0517-4f58-b008-60b4433e78ae"
I0304 08:26:15.110007       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:15.110827       1 gateway.go:207] "Processing request" requestID="898afa61-0d9c-40a9-803e-8c71e511924e"
I0304 08:26:15.110858       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="898afa61-0d9c-40a9-803e-8c71e511924e"
I0304 08:26:15.110867       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:15.114907       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b9dbef54-a044-47eb-aa70-cf5037f94a27"
I0304 08:26:15.115037       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b9dbef54-a044-47eb-aa70-cf5037f94a27" model="deepseek-llm-7b-chat"
I0304 08:26:15.115086       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:15.115093       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:15.115096       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:15.115200       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:15.115221       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:15.115225       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:15.118502       1 gateway.go:329] "-- In RequestBody processing ..." requestID="cc686d05-0517-4f58-b008-60b4433e78ae"
I0304 08:26:15.118628       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="cc686d05-0517-4f58-b008-60b4433e78ae" model="deepseek-llm-7b-chat"
I0304 08:26:15.122176       1 gateway.go:329] "-- In RequestBody processing ..." requestID="898afa61-0d9c-40a9-803e-8c71e511924e"
I0304 08:26:15.122299       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="898afa61-0d9c-40a9-803e-8c71e511924e" model="deepseek-llm-7b-chat"
I0304 08:26:15.163938       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0487, numInputTokens, 3750
I0304 08:26:15.163959       1 tree.go:471] Updated node(0) last access: 132.6658 seconds
I0304 08:26:15.163965       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:15.163968       1 tree.go:471] Updated node(2) last access: 132.6658 seconds
I0304 08:26:15.163983       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:15.163986       1 tree.go:471] Updated node(22) last access: 132.6658 seconds
I0304 08:26:15.163992       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:15.163996       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3750 tokens
I0304 08:26:15.164002       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:15.164013       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:15.164018       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:15.163997919 +0000 UTC m=+132.784220344]
I0304 08:26:15.164035       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3633, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:15.164042       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:15.164080       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:15.164090       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:15.164097       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.164104       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.164108       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.164114       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.164122       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:15.164132       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:15.164142       1 prefix_cache_and_load.go:584] latency, Route, 0.0491
I0304 08:26:15.164156       1 gateway.go:415] latency, selectTargetPod, 0.0491, target pod, 10.0.1.33:8000
I0304 08:26:15.164167       1 gateway.go:235] latency, HandleRequestBody, 0.0493
I0304 08:26:15.164182       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0455
I0304 08:26:15.164195       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:15.164199       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:15.164325       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:15.164359       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:15.164367       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:15.180794       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b9dbef54-a044-47eb-aa70-cf5037f94a27"
I0304 08:26:15.211288       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0469, numInputTokens, 3756
I0304 08:26:15.211306       1 tree.go:471] Updated node(0) last access: 132.7132 seconds
I0304 08:26:15.211312       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:15.211316       1 tree.go:471] Updated node(2) last access: 132.7132 seconds
I0304 08:26:15.211321       1 gateway.go:608] "First token received" requestID="b9dbef54-a044-47eb-aa70-cf5037f94a27" ttft_ms=96
I0304 08:26:15.211325       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:15.211340       1 tree.go:471] Updated node(12) last access: 132.7132 seconds
I0304 08:26:15.211351       1 tree.go:667] Split complete - New node(144)
I0304 08:26:15.211356       1 tree.go:668] Split complete - Child node(55)
I0304 08:26:15.211362       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:15.211367       1 tree.go:471] Updated node(144) last access: 132.7132 seconds
I0304 08:26:15.211373       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:15.211377       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:15.211383       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:15.211390       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:15.211395       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:15.211378973 +0000 UTC m=+132.831601398]
I0304 08:26:15.211409       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3640, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:15.211415       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:15.211452       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3640
I0304 08:26:15.211460       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:15.211467       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.211474       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.211478       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.211483       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.211489       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.211542       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:15.211553       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:15.211566       1 prefix_cache_and_load.go:584] latency, Route, 0.0929
I0304 08:26:15.211582       1 gateway.go:415] latency, selectTargetPod, 0.0929, target pod, 10.0.0.6:8000
I0304 08:26:15.211590       1 gateway.go:235] latency, HandleRequestBody, 0.0931
I0304 08:26:15.211647       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0893
I0304 08:26:15.211656       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:15.211660       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:15.211776       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:15.211803       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:15.211808       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:15.227900       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="cc686d05-0517-4f58-b008-60b4433e78ae"
I0304 08:26:15.262190       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0502, numInputTokens, 3754
I0304 08:26:15.262212       1 tree.go:471] Updated node(0) last access: 132.7641 seconds
I0304 08:26:15.262218       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:15.262221       1 tree.go:471] Updated node(2) last access: 132.7641 seconds
I0304 08:26:15.262231       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:15.262234       1 tree.go:471] Updated node(9) last access: 132.7641 seconds
I0304 08:26:15.262241       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:15.262248       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:15.262255       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:15.262262       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:15.262268       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:15.262250042 +0000 UTC m=+132.882472477]
I0304 08:26:15.262286       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:15.262295       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:15.262344       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3633
I0304 08:26:15.262353       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:15.262362       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.262367       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.262372       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.262378       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.262397       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:15.262407       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:15.262420       1 prefix_cache_and_load.go:584] latency, Route, 0.1401
I0304 08:26:15.262455       1 gateway.go:415] latency, selectTargetPod, 0.1401, target pod, 10.0.0.34:8000
I0304 08:26:15.262466       1 gateway.go:235] latency, HandleRequestBody, 0.1403
I0304 08:26:15.273346       1 gateway.go:608] "First token received" requestID="cc686d05-0517-4f58-b008-60b4433e78ae" ttft_ms=154
I0304 08:26:15.279740       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="898afa61-0d9c-40a9-803e-8c71e511924e"
I0304 08:26:15.310868       1 gateway.go:608] "First token received" requestID="898afa61-0d9c-40a9-803e-8c71e511924e" ttft_ms=188
I0304 08:26:15.310911       1 gateway.go:207] "Processing request" requestID="9a9e400e-6f64-43ee-a6ee-6b5241ddf20b"
I0304 08:26:15.310936       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9a9e400e-6f64-43ee-a6ee-6b5241ddf20b"
I0304 08:26:15.310947       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:15.317695       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9a9e400e-6f64-43ee-a6ee-6b5241ddf20b"
I0304 08:26:15.317816       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9a9e400e-6f64-43ee-a6ee-6b5241ddf20b" model="deepseek-llm-7b-chat"
I0304 08:26:15.317862       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:15.317871       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:15.317877       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:15.317960       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:15.317989       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:15.317994       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:15.362326       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0443, numInputTokens, 3754
I0304 08:26:15.362341       1 tree.go:471] Updated node(0) last access: 132.8642 seconds
I0304 08:26:15.362346       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:15.362349       1 tree.go:471] Updated node(2) last access: 132.8642 seconds
I0304 08:26:15.362358       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:15.362361       1 tree.go:471] Updated node(22) last access: 132.8642 seconds
I0304 08:26:15.362367       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:15.362375       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:15.362381       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:15.362388       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:15.362393       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:15.362376857 +0000 UTC m=+132.982599282]
I0304 08:26:15.362408       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:15.362414       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:15.362452       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:15.362462       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:15.362469       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.362473       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.362477       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.362481       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.362492       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:15.362501       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:15.362510       1 prefix_cache_and_load.go:584] latency, Route, 0.0446
I0304 08:26:15.362528       1 gateway.go:415] latency, selectTargetPod, 0.0447, target pod, 10.0.1.33:8000
I0304 08:26:15.362539       1 gateway.go:235] latency, HandleRequestBody, 0.0448
I0304 08:26:15.378961       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9a9e400e-6f64-43ee-a6ee-6b5241ddf20b"
I0304 08:26:15.394923       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4751e30d, selectedpod, 10.0.1.33:8000, ttft, 96, tpot, 20, e2e, 279, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:15.394944       1 gateway.go:748] "Request completed" requestID="b9dbef54-a044-47eb-aa70-cf5037f94a27" targetPod="10.0.1.33:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:15.394954       1 gateway.go:764] "HandleResponseBody completed" requestID="b9dbef54-a044-47eb-aa70-cf5037f94a27" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:15.414666       1 gateway.go:608] "First token received" requestID="9a9e400e-6f64-43ee-a6ee-6b5241ddf20b" ttft_ms=96
I0304 08:26:15.417082       1 gateway.go:207] "Processing request" requestID="9c2a333f-b2ac-4b31-b969-cc9ac5fcb4ca"
I0304 08:26:15.417108       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9c2a333f-b2ac-4b31-b969-cc9ac5fcb4ca"
I0304 08:26:15.417117       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:15.448745       1 gateway.go:562] latency, 0.0000, summary, hash(request), b8294f72, selectedpod, 10.0.0.6:8000, ttft, 154, tpot, 19, e2e, 330, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:15.448762       1 gateway.go:748] "Request completed" requestID="cc686d05-0517-4f58-b008-60b4433e78ae" targetPod="10.0.0.6:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:15.448775       1 gateway.go:764] "HandleResponseBody completed" requestID="cc686d05-0517-4f58-b008-60b4433e78ae" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:15.486813       1 gateway.go:562] latency, 0.0000, summary, hash(request), 429bbc0b, selectedpod, 10.0.0.34:8000, ttft, 188, tpot, 19, e2e, 364, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:15.486832       1 gateway.go:748] "Request completed" requestID="898afa61-0d9c-40a9-803e-8c71e511924e" targetPod="10.0.0.34:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:15.486843       1 gateway.go:764] "HandleResponseBody completed" requestID="898afa61-0d9c-40a9-803e-8c71e511924e" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:15.493450       1 gateway.go:207] "Processing request" requestID="9fc4f708-9ac2-4d0d-8d1f-c945fd17c026"
I0304 08:26:15.493472       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9fc4f708-9ac2-4d0d-8d1f-c945fd17c026"
I0304 08:26:15.493480       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:15.502653       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9c2a333f-b2ac-4b31-b969-cc9ac5fcb4ca"
I0304 08:26:15.536101       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9c2a333f-b2ac-4b31-b969-cc9ac5fcb4ca" model="deepseek-llm-7b-chat"
I0304 08:26:15.536177       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:15.536186       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:15.536191       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:15.536270       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:15.536294       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:15.536300       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:15.584003       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0477, numInputTokens, 3759
I0304 08:26:15.584022       1 tree.go:471] Updated node(0) last access: 133.0859 seconds
I0304 08:26:15.584029       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:15.584033       1 tree.go:471] Updated node(2) last access: 133.0859 seconds
I0304 08:26:15.584040       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:15.584043       1 tree.go:471] Updated node(37) last access: 133.0859 seconds
I0304 08:26:15.584050       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 126 tokens:
I0304 08:26:15.584056       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3759 tokens
I0304 08:26:15.584063       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3759 tokens
I0304 08:26:15.584071       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:15.584076       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:15.584059316 +0000 UTC m=+133.204281742]
I0304 08:26:15.584093       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3759, Matched tokens: 3633, Matching ratio: 0.9665, # Matched pods: 0, Matched pods: []
I0304 08:26:15.584102       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9665 > 0.5000)
I0304 08:26:15.584145       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:15.584154       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:15.584161       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.584167       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.584172       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.584177       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.584189       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:15.584198       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:15.584207       1 prefix_cache_and_load.go:584] latency, Route, 0.0480
I0304 08:26:15.584217       1 gateway.go:415] latency, selectTargetPod, 0.0480, target pod, 10.0.1.47:8000
I0304 08:26:15.584228       1 gateway.go:235] latency, HandleRequestBody, 0.0816
I0304 08:26:15.590375       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5e9c8d68, selectedpod, 10.0.1.33:8000, ttft, 96, tpot, 19, e2e, 272, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:15.590395       1 gateway.go:748] "Request completed" requestID="9a9e400e-6f64-43ee-a6ee-6b5241ddf20b" targetPod="10.0.1.33:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:15.590404       1 gateway.go:764] "HandleResponseBody completed" requestID="9a9e400e-6f64-43ee-a6ee-6b5241ddf20b" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:15.600795       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9c2a333f-b2ac-4b31-b969-cc9ac5fcb4ca"
I0304 08:26:15.646497       1 gateway.go:608] "First token received" requestID="9c2a333f-b2ac-4b31-b969-cc9ac5fcb4ca" ttft_ms=143
I0304 08:26:15.696707       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9fc4f708-9ac2-4d0d-8d1f-c945fd17c026"
I0304 08:26:15.696842       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9fc4f708-9ac2-4d0d-8d1f-c945fd17c026" model="deepseek-llm-7b-chat"
I0304 08:26:15.696889       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:15.696896       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:15.696900       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:15.697000       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:15.697024       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:15.697030       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:15.743564       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0465, numInputTokens, 3747
I0304 08:26:15.743580       1 tree.go:471] Updated node(0) last access: 133.2454 seconds
I0304 08:26:15.743587       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:15.743591       1 tree.go:471] Updated node(2) last access: 133.2455 seconds
I0304 08:26:15.743601       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:15.743605       1 tree.go:471] Updated node(26) last access: 133.2455 seconds
I0304 08:26:15.743614       1 tree.go:667] Split complete - New node(149)
I0304 08:26:15.743618       1 tree.go:668] Split complete - Child node(27)
I0304 08:26:15.743622       1 tree.go:501] latency, splitNode, 0.0000 seconds, 114 tokens:
I0304 08:26:15.743627       1 tree.go:471] Updated node(149) last access: 133.2455 seconds
I0304 08:26:15.743632       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:15.743637       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3747 tokens
I0304 08:26:15.743642       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3747 tokens
I0304 08:26:15.743648       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:15.743654       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:15.743639019 +0000 UTC m=+133.363861444]
I0304 08:26:15.743668       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3747, Matched tokens: 3635, Matching ratio: 0.9701, # Matched pods: 0, Matched pods: []
I0304 08:26:15.743674       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9701 > 0.5000)
I0304 08:26:15.743716       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3635
I0304 08:26:15.743725       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:15.743734       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.743741       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.743745       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.743750       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.743754       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:15.743765       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:15.743773       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:15.743782       1 prefix_cache_and_load.go:584] latency, Route, 0.0469
I0304 08:26:15.743793       1 gateway.go:415] latency, selectTargetPod, 0.0469, target pod, 10.0.3.38:8000
I0304 08:26:15.743802       1 gateway.go:235] latency, HandleRequestBody, 0.0471
I0304 08:26:15.758561       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9fc4f708-9ac2-4d0d-8d1f-c945fd17c026"
I0304 08:26:15.789413       1 gateway.go:608] "First token received" requestID="9fc4f708-9ac2-4d0d-8d1f-c945fd17c026" ttft_ms=92
I0304 08:26:15.822944       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6e704806, selectedpod, 10.0.1.47:8000, ttft, 143, tpot, 19, e2e, 320, numInputTokens, 3973, numOutputTokens, 10, numTotalTokens, 3983
I0304 08:26:15.822967       1 gateway.go:748] "Request completed" requestID="9c2a333f-b2ac-4b31-b969-cc9ac5fcb4ca" targetPod="10.0.1.47:8000" promptTokens=3973 completionTokens=10 totalTokens=3983
I0304 08:26:15.822986       1 gateway.go:764] "HandleResponseBody completed" requestID="9c2a333f-b2ac-4b31-b969-cc9ac5fcb4ca" promptTokens=3973 completionTokens=10 stream=true
I0304 08:26:15.965317       1 gateway.go:562] latency, 0.0000, summary, hash(request), 02adfedb, selectedpod, 10.0.3.38:8000, ttft, 92, tpot, 19, e2e, 268, numInputTokens, 3960, numOutputTokens, 10, numTotalTokens, 3970
I0304 08:26:15.965334       1 gateway.go:748] "Request completed" requestID="9fc4f708-9ac2-4d0d-8d1f-c945fd17c026" targetPod="10.0.3.38:8000" promptTokens=3960 completionTokens=10 totalTokens=3970
I0304 08:26:15.965343       1 gateway.go:764] "HandleResponseBody completed" requestID="9fc4f708-9ac2-4d0d-8d1f-c945fd17c026" promptTokens=3960 completionTokens=10 stream=true
I0304 08:26:16.083136       1 gateway.go:207] "Processing request" requestID="4f3616e7-4430-4483-822e-cb6f2286dd73"
I0304 08:26:16.083176       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4f3616e7-4430-4483-822e-cb6f2286dd73"
I0304 08:26:16.083185       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:16.126711       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4f3616e7-4430-4483-822e-cb6f2286dd73"
I0304 08:26:16.126844       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4f3616e7-4430-4483-822e-cb6f2286dd73" model="deepseek-llm-7b-chat"
I0304 08:26:16.126887       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:16.126894       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:16.126897       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:16.127033       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:16.127058       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:16.127064       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:16.174960       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0479, numInputTokens, 3754
I0304 08:26:16.174984       1 tree.go:471] Updated node(0) last access: 133.6768 seconds
I0304 08:26:16.174992       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:16.174996       1 tree.go:471] Updated node(2) last access: 133.6769 seconds
I0304 08:26:16.175006       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:16.175010       1 tree.go:471] Updated node(26) last access: 133.6769 seconds
I0304 08:26:16.175022       1 tree.go:667] Split complete - New node(151)
I0304 08:26:16.175028       1 tree.go:668] Split complete - Child node(91)
I0304 08:26:16.175035       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:16.175041       1 tree.go:471] Updated node(151) last access: 133.6769 seconds
I0304 08:26:16.175049       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:16.175055       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:16.175063       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:16.175070       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:16.175077       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:16.175057746 +0000 UTC m=+133.795280191]
I0304 08:26:16.175096       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3636, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:16.175107       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:16.175166       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3636
I0304 08:26:16.175177       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:16.175189       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.175199       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.175207       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.175214       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.175221       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.175237       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:16.175250       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:16.175262       1 prefix_cache_and_load.go:584] latency, Route, 0.0484
I0304 08:26:16.175277       1 gateway.go:415] latency, selectTargetPod, 0.0484, target pod, 10.0.3.38:8000
I0304 08:26:16.175290       1 gateway.go:235] latency, HandleRequestBody, 0.0486
I0304 08:26:16.190036       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4f3616e7-4430-4483-822e-cb6f2286dd73"
I0304 08:26:16.204081       1 gateway.go:207] "Processing request" requestID="9eaaf4c2-7993-494d-9ff4-2a192042a23f"
I0304 08:26:16.204123       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9eaaf4c2-7993-494d-9ff4-2a192042a23f"
I0304 08:26:16.204133       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:16.234757       1 gateway.go:608] "First token received" requestID="4f3616e7-4430-4483-822e-cb6f2286dd73" ttft_ms=107
I0304 08:26:16.302715       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9eaaf4c2-7993-494d-9ff4-2a192042a23f"
I0304 08:26:16.302849       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9eaaf4c2-7993-494d-9ff4-2a192042a23f" model="deepseek-llm-7b-chat"
I0304 08:26:16.302892       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:16.302898       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:16.302902       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:16.303023       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:16.303046       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:16.303052       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:16.353082       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0500, numInputTokens, 3753
I0304 08:26:16.353102       1 tree.go:471] Updated node(0) last access: 133.8550 seconds
I0304 08:26:16.353109       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:16.353113       1 tree.go:471] Updated node(2) last access: 133.8550 seconds
I0304 08:26:16.353121       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:16.353124       1 tree.go:471] Updated node(22) last access: 133.8550 seconds
I0304 08:26:16.353133       1 tree.go:667] Split complete - New node(153)
I0304 08:26:16.353138       1 tree.go:668] Split complete - Child node(98)
I0304 08:26:16.353143       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:16.353147       1 tree.go:471] Updated node(153) last access: 133.8550 seconds
I0304 08:26:16.353151       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:16.353156       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:16.353162       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:16.353169       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:16.353174       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:16.353158192 +0000 UTC m=+133.973380616]
I0304 08:26:16.353189       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3636, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:16.353196       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:16.353241       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3636
I0304 08:26:16.353250       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:16.353260       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.353266       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.353275       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.353282       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.353288       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.353301       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:16.353310       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:16.353320       1 prefix_cache_and_load.go:584] latency, Route, 0.0504
I0304 08:26:16.353331       1 gateway.go:415] latency, selectTargetPod, 0.0504, target pod, 10.0.1.33:8000
I0304 08:26:16.353341       1 gateway.go:235] latency, HandleRequestBody, 0.0506
I0304 08:26:16.369814       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9eaaf4c2-7993-494d-9ff4-2a192042a23f"
I0304 08:26:16.400209       1 gateway.go:608] "First token received" requestID="9eaaf4c2-7993-494d-9ff4-2a192042a23f" ttft_ms=97
I0304 08:26:16.410307       1 gateway.go:562] latency, 0.0000, summary, hash(request), 06ac2379, selectedpod, 10.0.3.38:8000, ttft, 107, tpot, 19, e2e, 283, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:16.410322       1 gateway.go:748] "Request completed" requestID="4f3616e7-4430-4483-822e-cb6f2286dd73" targetPod="10.0.3.38:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:16.410332       1 gateway.go:764] "HandleResponseBody completed" requestID="4f3616e7-4430-4483-822e-cb6f2286dd73" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:16.565577       1 gateway.go:207] "Processing request" requestID="5641570c-e5f0-4dda-8194-036eeb9c8ac9"
I0304 08:26:16.565599       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5641570c-e5f0-4dda-8194-036eeb9c8ac9"
I0304 08:26:16.565607       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:16.575554       1 gateway.go:562] latency, 0.0000, summary, hash(request), d502da36, selectedpod, 10.0.1.33:8000, ttft, 97, tpot, 19, e2e, 272, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:16.575568       1 gateway.go:748] "Request completed" requestID="9eaaf4c2-7993-494d-9ff4-2a192042a23f" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:16.575576       1 gateway.go:764] "HandleResponseBody completed" requestID="9eaaf4c2-7993-494d-9ff4-2a192042a23f" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:16.614348       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5641570c-e5f0-4dda-8194-036eeb9c8ac9"
I0304 08:26:16.614465       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5641570c-e5f0-4dda-8194-036eeb9c8ac9" model="deepseek-llm-7b-chat"
I0304 08:26:16.614523       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:16.614532       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:16.614536       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:16.614630       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:16.614652       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:16.614658       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:16.665033       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0504, numInputTokens, 3754
I0304 08:26:16.665054       1 tree.go:471] Updated node(0) last access: 134.1669 seconds
I0304 08:26:16.665060       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:16.665064       1 tree.go:471] Updated node(2) last access: 134.1669 seconds
I0304 08:26:16.665073       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:16.665076       1 tree.go:471] Updated node(5) last access: 134.1669 seconds
I0304 08:26:16.665080       1 tree.go:490] Partial tokens match child node(122). Continue to go deeper in the radix tree
I0304 08:26:16.665083       1 tree.go:471] Updated node(122) last access: 134.1669 seconds
I0304 08:26:16.665094       1 tree.go:667] Split complete - New node(155)
I0304 08:26:16.665097       1 tree.go:668] Split complete - Child node(46)
I0304 08:26:16.665103       1 tree.go:501] latency, splitNode, 0.0000 seconds, 110 tokens:
I0304 08:26:16.665108       1 tree.go:471] Updated node(155) last access: 134.1670 seconds
I0304 08:26:16.665114       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 104 tokens:
I0304 08:26:16.665119       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:16.665126       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:16.665132       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:16.665137       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:16.665120934 +0000 UTC m=+134.285343360]
I0304 08:26:16.665153       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3650, Matching ratio: 0.9723, # Matched pods: 0, Matched pods: []
I0304 08:26:16.665161       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9723 > 0.5000)
I0304 08:26:16.665202       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3650
I0304 08:26:16.665211       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:16.665219       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.665225       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.665232       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.665236       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.665241       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.665245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.665258       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:16.665267       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:16.665277       1 prefix_cache_and_load.go:584] latency, Route, 0.0508
I0304 08:26:16.665287       1 gateway.go:415] latency, selectTargetPod, 0.0508, target pod, 10.0.3.28:8000
I0304 08:26:16.665298       1 gateway.go:235] latency, HandleRequestBody, 0.0510
I0304 08:26:16.680426       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5641570c-e5f0-4dda-8194-036eeb9c8ac9"
I0304 08:26:16.711708       1 gateway.go:608] "First token received" requestID="5641570c-e5f0-4dda-8194-036eeb9c8ac9" ttft_ms=97
I0304 08:26:16.813016       1 gateway.go:207] "Processing request" requestID="628dfbf7-989d-4202-b861-2383f27ec04a"
I0304 08:26:16.813042       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="628dfbf7-989d-4202-b861-2383f27ec04a"
I0304 08:26:16.813051       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:16.846550       1 gateway.go:329] "-- In RequestBody processing ..." requestID="628dfbf7-989d-4202-b861-2383f27ec04a"
I0304 08:26:16.846667       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="628dfbf7-989d-4202-b861-2383f27ec04a" model="deepseek-llm-7b-chat"
I0304 08:26:16.846710       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:16.846717       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:16.846721       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:16.846809       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:16.846831       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:16.846836       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:16.884086       1 gateway.go:207] "Processing request" requestID="b43f4146-3b78-44a7-b4ee-f7ea7f8b699c"
I0304 08:26:16.884118       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b43f4146-3b78-44a7-b4ee-f7ea7f8b699c"
I0304 08:26:16.884127       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:16.887315       1 gateway.go:562] latency, 0.0000, summary, hash(request), e9ce4b9a, selectedpod, 10.0.3.28:8000, ttft, 97, tpot, 19, e2e, 272, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:16.887332       1 gateway.go:748] "Request completed" requestID="5641570c-e5f0-4dda-8194-036eeb9c8ac9" targetPod="10.0.3.28:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:16.887344       1 gateway.go:764] "HandleResponseBody completed" requestID="5641570c-e5f0-4dda-8194-036eeb9c8ac9" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:16.897283       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0504, numInputTokens, 3757
I0304 08:26:16.897301       1 tree.go:471] Updated node(0) last access: 134.3992 seconds
I0304 08:26:16.897307       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:16.897310       1 tree.go:471] Updated node(2) last access: 134.3992 seconds
I0304 08:26:16.897319       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:16.897322       1 tree.go:471] Updated node(24) last access: 134.3992 seconds
I0304 08:26:16.897328       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:26:16.897335       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:26:16.897341       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:16.897348       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:16.897353       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:16.897336823 +0000 UTC m=+134.517559249]
I0304 08:26:16.897366       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:26:16.897372       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:26:16.897412       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3633
I0304 08:26:16.897420       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:16.897429       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.897435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.897439       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.897444       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:16.897454       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:16.897463       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:16.897472       1 prefix_cache_and_load.go:584] latency, Route, 0.0508
I0304 08:26:16.897482       1 gateway.go:415] latency, selectTargetPod, 0.0508, target pod, 10.0.1.53:8000
I0304 08:26:16.897492       1 gateway.go:235] latency, HandleRequestBody, 0.0509
I0304 08:26:16.916463       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="628dfbf7-989d-4202-b861-2383f27ec04a"
I0304 08:26:16.962104       1 gateway.go:608] "First token received" requestID="628dfbf7-989d-4202-b861-2383f27ec04a" ttft_ms=115
I0304 08:26:17.033379       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b43f4146-3b78-44a7-b4ee-f7ea7f8b699c"
I0304 08:26:17.033505       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b43f4146-3b78-44a7-b4ee-f7ea7f8b699c" model="deepseek-llm-7b-chat"
I0304 08:26:17.033567       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:17.033574       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:17.033578       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:17.033670       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:17.033697       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:17.033703       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:17.083436       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0497, numInputTokens, 3754
I0304 08:26:17.083457       1 tree.go:471] Updated node(0) last access: 134.5853 seconds
I0304 08:26:17.083463       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:17.083467       1 tree.go:471] Updated node(2) last access: 134.5853 seconds
I0304 08:26:17.083475       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:17.083478       1 tree.go:471] Updated node(37) last access: 134.5853 seconds
I0304 08:26:17.083484       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:17.083490       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:17.083497       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:17.083505       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:17.083522       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:17.083491904 +0000 UTC m=+134.703714329]
I0304 08:26:17.083541       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:17.083550       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:17.083592       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:17.083601       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:17.083613       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.083620       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.083624       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.083629       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.083638       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:17.083648       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:17.083657       1 prefix_cache_and_load.go:584] latency, Route, 0.0501
I0304 08:26:17.083672       1 gateway.go:415] latency, selectTargetPod, 0.0501, target pod, 10.0.1.47:8000
I0304 08:26:17.083684       1 gateway.go:235] latency, HandleRequestBody, 0.0503
I0304 08:26:17.100292       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b43f4146-3b78-44a7-b4ee-f7ea7f8b699c"
I0304 08:26:17.131870       1 gateway.go:608] "First token received" requestID="b43f4146-3b78-44a7-b4ee-f7ea7f8b699c" ttft_ms=98
I0304 08:26:17.137496       1 gateway.go:562] latency, 0.0000, summary, hash(request), 91133672, selectedpod, 10.0.1.53:8000, ttft, 115, tpot, 19, e2e, 290, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:17.137528       1 gateway.go:748] "Request completed" requestID="628dfbf7-989d-4202-b861-2383f27ec04a" targetPod="10.0.1.53:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:17.137544       1 gateway.go:764] "HandleResponseBody completed" requestID="628dfbf7-989d-4202-b861-2383f27ec04a" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:17.210258       1 gateway.go:207] "Processing request" requestID="fd612900-bef8-47d3-9802-e1a13fd441f2"
I0304 08:26:17.210279       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fd612900-bef8-47d3-9802-e1a13fd441f2"
I0304 08:26:17.210289       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:17.251535       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fd612900-bef8-47d3-9802-e1a13fd441f2"
I0304 08:26:17.251656       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fd612900-bef8-47d3-9802-e1a13fd441f2" model="deepseek-llm-7b-chat"
I0304 08:26:17.251701       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:17.251706       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:17.251709       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:17.251794       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:17.251816       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:17.251821       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:17.297116       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0453, numInputTokens, 3754
I0304 08:26:17.297131       1 tree.go:471] Updated node(0) last access: 134.7990 seconds
I0304 08:26:17.297138       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:17.297141       1 tree.go:471] Updated node(2) last access: 134.7990 seconds
I0304 08:26:17.297151       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:17.297154       1 tree.go:471] Updated node(12) last access: 134.7990 seconds
I0304 08:26:17.297160       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:17.297166       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:17.297172       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:17.297179       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:17.297183       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:17.297168173 +0000 UTC m=+134.917390599]
I0304 08:26:17.297197       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:17.297211       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:17.297254       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3633
I0304 08:26:17.297263       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:17.297269       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.297280       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.297287       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.297293       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.297302       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:17.297312       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:17.297324       1 prefix_cache_and_load.go:584] latency, Route, 0.0456
I0304 08:26:17.297332       1 gateway.go:415] latency, selectTargetPod, 0.0456, target pod, 10.0.0.6:8000
I0304 08:26:17.297343       1 gateway.go:235] latency, HandleRequestBody, 0.0458
I0304 08:26:17.308096       1 gateway.go:562] latency, 0.0000, summary, hash(request), e09aeb93, selectedpod, 10.0.1.47:8000, ttft, 98, tpot, 19, e2e, 274, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:17.308110       1 gateway.go:748] "Request completed" requestID="b43f4146-3b78-44a7-b4ee-f7ea7f8b699c" targetPod="10.0.1.47:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:17.308119       1 gateway.go:764] "HandleResponseBody completed" requestID="b43f4146-3b78-44a7-b4ee-f7ea7f8b699c" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:17.313719       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fd612900-bef8-47d3-9802-e1a13fd441f2"
I0304 08:26:17.314252       1 gateway.go:207] "Processing request" requestID="95e6d374-1d6f-46aa-83ae-e19c56eb98d8"
I0304 08:26:17.314281       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="95e6d374-1d6f-46aa-83ae-e19c56eb98d8"
I0304 08:26:17.314290       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:17.344858       1 gateway.go:608] "First token received" requestID="fd612900-bef8-47d3-9802-e1a13fd441f2" ttft_ms=93
I0304 08:26:17.431344       1 gateway.go:329] "-- In RequestBody processing ..." requestID="95e6d374-1d6f-46aa-83ae-e19c56eb98d8"
I0304 08:26:17.431493       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="95e6d374-1d6f-46aa-83ae-e19c56eb98d8" model="deepseek-llm-7b-chat"
I0304 08:26:17.431551       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:17.431560       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:17.431564       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:17.431703       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:17.431736       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:17.431745       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:17.480518       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 3753
I0304 08:26:17.480538       1 tree.go:471] Updated node(0) last access: 134.9824 seconds
I0304 08:26:17.480544       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:17.480547       1 tree.go:471] Updated node(2) last access: 134.9824 seconds
I0304 08:26:17.480555       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:17.480558       1 tree.go:471] Updated node(67) last access: 134.9824 seconds
I0304 08:26:17.480563       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:17.480568       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:17.480575       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:17.480581       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:17.480587       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:17.480571231 +0000 UTC m=+135.100793657]
I0304 08:26:17.480603       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3633, Matching ratio: 0.9680, # Matched pods: 0, Matched pods: []
I0304 08:26:17.480609       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9680 > 0.5000)
I0304 08:26:17.480656       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:17.480664       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:17.480671       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.480676       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.480681       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.480686       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.480696       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:17.480708       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:17.480723       1 prefix_cache_and_load.go:584] latency, Route, 0.0492
I0304 08:26:17.480734       1 gateway.go:415] latency, selectTargetPod, 0.0492, target pod, 10.0.1.33:8000
I0304 08:26:17.480751       1 gateway.go:235] latency, HandleRequestBody, 0.0494
I0304 08:26:17.497439       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="95e6d374-1d6f-46aa-83ae-e19c56eb98d8"
I0304 08:26:17.520530       1 gateway.go:562] latency, 0.0000, summary, hash(request), dd5f3d54, selectedpod, 10.0.0.6:8000, ttft, 93, tpot, 19, e2e, 268, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:17.520551       1 gateway.go:748] "Request completed" requestID="fd612900-bef8-47d3-9802-e1a13fd441f2" targetPod="10.0.0.6:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:17.520560       1 gateway.go:764] "HandleResponseBody completed" requestID="fd612900-bef8-47d3-9802-e1a13fd441f2" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:17.528345       1 gateway.go:608] "First token received" requestID="95e6d374-1d6f-46aa-83ae-e19c56eb98d8" ttft_ms=96
I0304 08:26:17.704174       1 gateway.go:562] latency, 0.0000, summary, hash(request), 099c9d50, selectedpod, 10.0.1.33:8000, ttft, 96, tpot, 19, e2e, 272, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:17.704191       1 gateway.go:748] "Request completed" requestID="95e6d374-1d6f-46aa-83ae-e19c56eb98d8" targetPod="10.0.1.33:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:17.704200       1 gateway.go:764] "HandleResponseBody completed" requestID="95e6d374-1d6f-46aa-83ae-e19c56eb98d8" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:17.734787       1 gateway.go:207] "Processing request" requestID="a81106d1-fd78-46bd-b539-743891f43763"
I0304 08:26:17.734807       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a81106d1-fd78-46bd-b539-743891f43763"
I0304 08:26:17.734818       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:17.751567       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a81106d1-fd78-46bd-b539-743891f43763"
I0304 08:26:17.751686       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a81106d1-fd78-46bd-b539-743891f43763" model="deepseek-llm-7b-chat"
I0304 08:26:17.751734       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:17.751741       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:17.751745       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:17.751842       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:17.751865       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:17.751870       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:17.797636       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0458, numInputTokens, 3756
I0304 08:26:17.797651       1 tree.go:471] Updated node(0) last access: 135.2995 seconds
I0304 08:26:17.797658       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:17.797661       1 tree.go:471] Updated node(2) last access: 135.2995 seconds
I0304 08:26:17.797669       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:17.797672       1 tree.go:471] Updated node(12) last access: 135.2995 seconds
I0304 08:26:17.797680       1 tree.go:667] Split complete - New node(161)
I0304 08:26:17.797686       1 tree.go:668] Split complete - Child node(43)
I0304 08:26:17.797692       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:17.797699       1 tree.go:471] Updated node(161) last access: 135.2996 seconds
I0304 08:26:17.797706       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:17.797711       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:17.797717       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:17.797723       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:17.797728       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:17.797713125 +0000 UTC m=+135.417935549]
I0304 08:26:17.797741       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3636, Matching ratio: 0.9681, # Matched pods: 0, Matched pods: []
I0304 08:26:17.797749       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9681 > 0.5000)
I0304 08:26:17.797792       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3636
I0304 08:26:17.797802       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:17.797810       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.797816       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.797820       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.797826       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.797831       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:17.797838       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:17.797852       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:17.797862       1 prefix_cache_and_load.go:584] latency, Route, 0.0461
I0304 08:26:17.797872       1 gateway.go:415] latency, selectTargetPod, 0.0461, target pod, 10.0.0.6:8000
I0304 08:26:17.797883       1 gateway.go:235] latency, HandleRequestBody, 0.0463
I0304 08:26:17.814946       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a81106d1-fd78-46bd-b539-743891f43763"
I0304 08:26:17.859419       1 gateway.go:608] "First token received" requestID="a81106d1-fd78-46bd-b539-743891f43763" ttft_ms=107
I0304 08:26:17.914294       1 gateway.go:207] "Processing request" requestID="6e33917a-a107-47a6-84ef-7930b83a8f32"
I0304 08:26:17.914319       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6e33917a-a107-47a6-84ef-7930b83a8f32"
I0304 08:26:17.914327       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:17.968463       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6e33917a-a107-47a6-84ef-7930b83a8f32"
I0304 08:26:17.968611       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6e33917a-a107-47a6-84ef-7930b83a8f32" model="deepseek-llm-7b-chat"
I0304 08:26:17.968661       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:17.968667       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:17.968671       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:17.968771       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:17.968794       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:17.968799       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:18.018427       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0496, numInputTokens, 3757
I0304 08:26:18.018448       1 tree.go:471] Updated node(0) last access: 135.5203 seconds
I0304 08:26:18.018454       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:18.018460       1 tree.go:471] Updated node(2) last access: 135.5203 seconds
I0304 08:26:18.018470       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:18.018476       1 tree.go:471] Updated node(26) last access: 135.5203 seconds
I0304 08:26:18.018481       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:26:18.018487       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:26:18.018494       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:18.018501       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:18.018506       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:18.0184892 +0000 UTC m=+135.638711626]
I0304 08:26:18.018530       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:26:18.018539       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:26:18.018582       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3633
I0304 08:26:18.018593       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:18.018600       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.018608       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.018616       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.018623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.018633       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:18.018643       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:18.018655       1 prefix_cache_and_load.go:584] latency, Route, 0.0500
I0304 08:26:18.018665       1 gateway.go:415] latency, selectTargetPod, 0.0500, target pod, 10.0.3.38:8000
I0304 08:26:18.018678       1 gateway.go:235] latency, HandleRequestBody, 0.0502
I0304 08:26:18.035207       1 gateway.go:562] latency, 0.0000, summary, hash(request), 013b948d, selectedpod, 10.0.0.6:8000, ttft, 107, tpot, 19, e2e, 283, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:18.035227       1 gateway.go:748] "Request completed" requestID="a81106d1-fd78-46bd-b539-743891f43763" targetPod="10.0.0.6:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:18.035236       1 gateway.go:764] "HandleResponseBody completed" requestID="a81106d1-fd78-46bd-b539-743891f43763" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:18.037410       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6e33917a-a107-47a6-84ef-7930b83a8f32"
I0304 08:26:18.082793       1 gateway.go:608] "First token received" requestID="6e33917a-a107-47a6-84ef-7930b83a8f32" ttft_ms=114
I0304 08:26:18.258280       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8157c669, selectedpod, 10.0.3.38:8000, ttft, 114, tpot, 19, e2e, 289, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:18.258298       1 gateway.go:748] "Request completed" requestID="6e33917a-a107-47a6-84ef-7930b83a8f32" targetPod="10.0.3.38:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:18.258310       1 gateway.go:764] "HandleResponseBody completed" requestID="6e33917a-a107-47a6-84ef-7930b83a8f32" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:18.343020       1 gateway.go:207] "Processing request" requestID="f409ad34-02a9-4d9d-a920-a242b3eb4645"
I0304 08:26:18.343048       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f409ad34-02a9-4d9d-a920-a242b3eb4645"
I0304 08:26:18.343055       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:18.397493       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f409ad34-02a9-4d9d-a920-a242b3eb4645"
I0304 08:26:18.397652       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f409ad34-02a9-4d9d-a920-a242b3eb4645" model="deepseek-llm-7b-chat"
I0304 08:26:18.397722       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:18.397731       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:18.397736       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:18.397874       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:18.397900       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:18.397906       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:18.444782       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0469, numInputTokens, 3759
I0304 08:26:18.444799       1 tree.go:471] Updated node(0) last access: 135.9467 seconds
I0304 08:26:18.444805       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:18.444809       1 tree.go:471] Updated node(2) last access: 135.9467 seconds
I0304 08:26:18.444820       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:18.444826       1 tree.go:471] Updated node(30) last access: 135.9467 seconds
I0304 08:26:18.444830       1 tree.go:490] Partial tokens match child node(111). Continue to go deeper in the radix tree
I0304 08:26:18.444835       1 tree.go:471] Updated node(111) last access: 135.9467 seconds
I0304 08:26:18.444841       1 tree.go:490] Partial tokens match child node(50). Continue to go deeper in the radix tree
I0304 08:26:18.444846       1 tree.go:471] Updated node(50) last access: 135.9467 seconds
I0304 08:26:18.444855       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:18.444862       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3759 tokens
I0304 08:26:18.444874       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3759 tokens
I0304 08:26:18.444884       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:18.444894       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:18.444866579 +0000 UTC m=+136.065089017]
I0304 08:26:18.444917       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3759, Matched tokens: 3640, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:18.444929       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:18.444990       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3640
I0304 08:26:18.445000       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:18.445011       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.445020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.445030       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.445039       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.445048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.445058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.445071       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:18.445084       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:18.445093       1 prefix_cache_and_load.go:584] latency, Route, 0.0474
I0304 08:26:18.445102       1 gateway.go:415] latency, selectTargetPod, 0.0474, target pod, 10.0.0.13:8000
I0304 08:26:18.445113       1 gateway.go:235] latency, HandleRequestBody, 0.0476
I0304 08:26:18.465758       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f409ad34-02a9-4d9d-a920-a242b3eb4645"
I0304 08:26:18.517530       1 gateway.go:608] "First token received" requestID="f409ad34-02a9-4d9d-a920-a242b3eb4645" ttft_ms=119
I0304 08:26:18.581822       1 gateway.go:207] "Processing request" requestID="33bf55b7-40c1-441a-b80c-0d9d587dece9"
I0304 08:26:18.581853       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="33bf55b7-40c1-441a-b80c-0d9d587dece9"
I0304 08:26:18.581864       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:18.644917       1 gateway.go:329] "-- In RequestBody processing ..." requestID="33bf55b7-40c1-441a-b80c-0d9d587dece9"
I0304 08:26:18.645050       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="33bf55b7-40c1-441a-b80c-0d9d587dece9" model="deepseek-llm-7b-chat"
I0304 08:26:18.645100       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:18.645107       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:18.645111       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:18.645212       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:18.645238       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:18.645244       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:18.687425       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0ff1ba48, selectedpod, 10.0.0.13:8000, ttft, 119, tpot, 18, e2e, 289, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:18.687451       1 gateway.go:748] "Request completed" requestID="f409ad34-02a9-4d9d-a920-a242b3eb4645" targetPod="10.0.0.13:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:18.687467       1 gateway.go:764] "HandleResponseBody completed" requestID="f409ad34-02a9-4d9d-a920-a242b3eb4645" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:18.691317       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0461, numInputTokens, 3756
I0304 08:26:18.691336       1 tree.go:471] Updated node(0) last access: 136.1932 seconds
I0304 08:26:18.691342       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:18.691345       1 tree.go:471] Updated node(2) last access: 136.1932 seconds
I0304 08:26:18.691355       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:18.691360       1 tree.go:471] Updated node(37) last access: 136.1932 seconds
I0304 08:26:18.691368       1 tree.go:667] Split complete - New node(165)
I0304 08:26:18.691372       1 tree.go:668] Split complete - Child node(138)
I0304 08:26:18.691376       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:18.691380       1 tree.go:471] Updated node(165) last access: 136.1932 seconds
I0304 08:26:18.691385       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:18.691391       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:18.691396       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:18.691402       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:18.691408       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:18.691393098 +0000 UTC m=+136.311615523]
I0304 08:26:18.691424       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3636, Matching ratio: 0.9681, # Matched pods: 0, Matched pods: []
I0304 08:26:18.691431       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9681 > 0.5000)
I0304 08:26:18.691470       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3636
I0304 08:26:18.691479       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:18.691486       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.691493       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.691496       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.691503       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.691508       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.691526       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:18.691534       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:18.691544       1 prefix_cache_and_load.go:584] latency, Route, 0.0464
I0304 08:26:18.691553       1 gateway.go:415] latency, selectTargetPod, 0.0465, target pod, 10.0.1.47:8000
I0304 08:26:18.691565       1 gateway.go:235] latency, HandleRequestBody, 0.0467
I0304 08:26:18.708315       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="33bf55b7-40c1-441a-b80c-0d9d587dece9"
I0304 08:26:18.754459       1 gateway.go:608] "First token received" requestID="33bf55b7-40c1-441a-b80c-0d9d587dece9" ttft_ms=109
I0304 08:26:18.836044       1 gateway.go:207] "Processing request" requestID="09c48915-db0a-476d-9b6e-e4be722d32e2"
I0304 08:26:18.836075       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="09c48915-db0a-476d-9b6e-e4be722d32e2"
I0304 08:26:18.836086       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:18.901159       1 gateway.go:329] "-- In RequestBody processing ..." requestID="09c48915-db0a-476d-9b6e-e4be722d32e2"
I0304 08:26:18.901282       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="09c48915-db0a-476d-9b6e-e4be722d32e2" model="deepseek-llm-7b-chat"
I0304 08:26:18.901333       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:18.901341       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:18.901346       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:18.901482       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:18.901526       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:18.901542       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:18.930376       1 gateway.go:562] latency, 0.0000, summary, hash(request), f3d0de50, selectedpod, 10.0.1.47:8000, ttft, 109, tpot, 19, e2e, 285, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:18.930399       1 gateway.go:748] "Request completed" requestID="33bf55b7-40c1-441a-b80c-0d9d587dece9" targetPod="10.0.1.47:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:18.930409       1 gateway.go:764] "HandleResponseBody completed" requestID="33bf55b7-40c1-441a-b80c-0d9d587dece9" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:18.950860       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0493, numInputTokens, 3757
I0304 08:26:18.950878       1 tree.go:471] Updated node(0) last access: 136.4527 seconds
I0304 08:26:18.950886       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:18.950889       1 tree.go:471] Updated node(2) last access: 136.4528 seconds
I0304 08:26:18.950899       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:18.950905       1 tree.go:471] Updated node(5) last access: 136.4528 seconds
I0304 08:26:18.950909       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0304 08:26:18.950913       1 tree.go:471] Updated node(85) last access: 136.4528 seconds
I0304 08:26:18.950923       1 tree.go:667] Split complete - New node(167)
I0304 08:26:18.950927       1 tree.go:668] Split complete - Child node(86)
I0304 08:26:18.950932       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:18.950937       1 tree.go:471] Updated node(167) last access: 136.4528 seconds
I0304 08:26:18.950943       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:18.950948       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:18.950954       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:18.950959       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:18.950964       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:18.950950035 +0000 UTC m=+136.571172462]
I0304 08:26:18.950988       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3639, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:18.950998       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:18.951039       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3639
I0304 08:26:18.951048       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:18.951055       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.951060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.951066       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.951074       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.951080       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.951084       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:18.951093       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:18.951101       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:18.951109       1 prefix_cache_and_load.go:584] latency, Route, 0.0498
I0304 08:26:18.951118       1 gateway.go:415] latency, selectTargetPod, 0.0498, target pod, 10.0.3.28:8000
I0304 08:26:18.951130       1 gateway.go:235] latency, HandleRequestBody, 0.0500
I0304 08:26:18.965842       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="09c48915-db0a-476d-9b6e-e4be722d32e2"
I0304 08:26:18.987950       1 gateway.go:207] "Processing request" requestID="85620231-2176-467e-adcb-2f7c63d477e5"
I0304 08:26:18.987993       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="85620231-2176-467e-adcb-2f7c63d477e5"
I0304 08:26:18.988002       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:19.011369       1 gateway.go:608] "First token received" requestID="09c48915-db0a-476d-9b6e-e4be722d32e2" ttft_ms=110
I0304 08:26:19.068854       1 gateway.go:329] "-- In RequestBody processing ..." requestID="85620231-2176-467e-adcb-2f7c63d477e5"
I0304 08:26:19.068983       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="85620231-2176-467e-adcb-2f7c63d477e5" model="deepseek-llm-7b-chat"
I0304 08:26:19.069028       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:19.069034       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:19.069037       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:19.069120       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:19.069143       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:19.069148       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:19.114837       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0457, numInputTokens, 3752
I0304 08:26:19.114851       1 tree.go:471] Updated node(0) last access: 136.6167 seconds
I0304 08:26:19.114857       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:19.114861       1 tree.go:471] Updated node(2) last access: 136.6167 seconds
I0304 08:26:19.114870       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:19.114874       1 tree.go:471] Updated node(22) last access: 136.6167 seconds
I0304 08:26:19.114884       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:19.114891       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:19.114897       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:19.114903       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:19.114908       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:19.114893646 +0000 UTC m=+136.735116072]
I0304 08:26:19.114921       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3633, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:19.114927       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:19.114970       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:19.114987       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:19.114994       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.114999       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.115003       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.115009       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.115017       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:19.115026       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:19.115040       1 prefix_cache_and_load.go:584] latency, Route, 0.0460
I0304 08:26:19.115049       1 gateway.go:415] latency, selectTargetPod, 0.0460, target pod, 10.0.1.33:8000
I0304 08:26:19.115059       1 gateway.go:235] latency, HandleRequestBody, 0.0462
I0304 08:26:19.131588       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="85620231-2176-467e-adcb-2f7c63d477e5"
I0304 08:26:19.162436       1 gateway.go:608] "First token received" requestID="85620231-2176-467e-adcb-2f7c63d477e5" ttft_ms=93
I0304 08:26:19.186746       1 gateway.go:562] latency, 0.0000, summary, hash(request), 149a6759, selectedpod, 10.0.3.28:8000, ttft, 110, tpot, 19, e2e, 285, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:19.186760       1 gateway.go:748] "Request completed" requestID="09c48915-db0a-476d-9b6e-e4be722d32e2" targetPod="10.0.3.28:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:19.186767       1 gateway.go:764] "HandleResponseBody completed" requestID="09c48915-db0a-476d-9b6e-e4be722d32e2" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:19.338529       1 gateway.go:562] latency, 0.0000, summary, hash(request), cd5b0149, selectedpod, 10.0.1.33:8000, ttft, 93, tpot, 19, e2e, 269, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:19.338547       1 gateway.go:748] "Request completed" requestID="85620231-2176-467e-adcb-2f7c63d477e5" targetPod="10.0.1.33:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:19.338556       1 gateway.go:764] "HandleResponseBody completed" requestID="85620231-2176-467e-adcb-2f7c63d477e5" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:19.647283       1 gateway.go:207] "Processing request" requestID="d6d0c51f-9a0a-4f82-b16b-8e885af96143"
I0304 08:26:19.647316       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d6d0c51f-9a0a-4f82-b16b-8e885af96143"
I0304 08:26:19.647325       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:19.658624       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d6d0c51f-9a0a-4f82-b16b-8e885af96143"
I0304 08:26:19.658744       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d6d0c51f-9a0a-4f82-b16b-8e885af96143" model="deepseek-llm-7b-chat"
I0304 08:26:19.658792       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:19.658798       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:19.658801       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:19.658904       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:19.658926       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:19.658932       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:19.704908       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0460, numInputTokens, 3755
I0304 08:26:19.704922       1 tree.go:471] Updated node(0) last access: 137.2068 seconds
I0304 08:26:19.704928       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:19.704931       1 tree.go:471] Updated node(2) last access: 137.2068 seconds
I0304 08:26:19.704940       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:19.704943       1 tree.go:471] Updated node(9) last access: 137.2068 seconds
I0304 08:26:19.704951       1 tree.go:667] Split complete - New node(170)
I0304 08:26:19.704956       1 tree.go:668] Split complete - Child node(102)
I0304 08:26:19.704960       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:19.704964       1 tree.go:471] Updated node(170) last access: 137.2068 seconds
I0304 08:26:19.704969       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:19.704982       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:19.704988       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:19.704994       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:19.705000       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:19.704983885 +0000 UTC m=+137.325206309]
I0304 08:26:19.705014       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3636, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:19.705021       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:19.705059       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3636
I0304 08:26:19.705068       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:19.705075       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.705080       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.705084       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.705089       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.705094       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.705102       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:19.705115       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:19.705126       1 prefix_cache_and_load.go:584] latency, Route, 0.0463
I0304 08:26:19.705138       1 gateway.go:415] latency, selectTargetPod, 0.0463, target pod, 10.0.0.34:8000
I0304 08:26:19.705155       1 gateway.go:235] latency, HandleRequestBody, 0.0465
I0304 08:26:19.723274       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d6d0c51f-9a0a-4f82-b16b-8e885af96143"
I0304 08:26:19.769286       1 gateway.go:608] "First token received" requestID="d6d0c51f-9a0a-4f82-b16b-8e885af96143" ttft_ms=110
I0304 08:26:19.813118       1 gateway.go:207] "Processing request" requestID="82487f76-f22a-4050-bc1a-848b4092fb9f"
I0304 08:26:19.813143       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="82487f76-f22a-4050-bc1a-848b4092fb9f"
I0304 08:26:19.813152       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:19.867214       1 gateway.go:329] "-- In RequestBody processing ..." requestID="82487f76-f22a-4050-bc1a-848b4092fb9f"
I0304 08:26:19.867350       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="82487f76-f22a-4050-bc1a-848b4092fb9f" model="deepseek-llm-7b-chat"
I0304 08:26:19.867390       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:19.867397       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:19.867401       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:19.867508       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:19.867548       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:19.867556       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:19.916945       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0494, numInputTokens, 3753
I0304 08:26:19.916979       1 tree.go:471] Updated node(0) last access: 137.4188 seconds
I0304 08:26:19.916986       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:19.916990       1 tree.go:471] Updated node(2) last access: 137.4189 seconds
I0304 08:26:19.916998       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:19.917002       1 tree.go:471] Updated node(5) last access: 137.4189 seconds
I0304 08:26:19.917005       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0304 08:26:19.917008       1 tree.go:471] Updated node(85) last access: 137.4189 seconds
I0304 08:26:19.917011       1 tree.go:490] Partial tokens match child node(167). Continue to go deeper in the radix tree
I0304 08:26:19.917013       1 tree.go:471] Updated node(167) last access: 137.4189 seconds
I0304 08:26:19.917024       1 tree.go:667] Split complete - New node(172)
I0304 08:26:19.917029       1 tree.go:668] Split complete - Child node(86)
I0304 08:26:19.917034       1 tree.go:501] latency, splitNode, 0.0000 seconds, 114 tokens:
I0304 08:26:19.917039       1 tree.go:471] Updated node(172) last access: 137.4189 seconds
I0304 08:26:19.917045       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:19.917050       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:19.917059       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:19.917067       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:19.917072       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:19.917052844 +0000 UTC m=+137.537275273]
I0304 08:26:19.917091       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3641, Matching ratio: 0.9702, # Matched pods: 0, Matched pods: []
I0304 08:26:19.917101       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9702 > 0.5000)
I0304 08:26:19.917161       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3641
I0304 08:26:19.917170       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:19.917182       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.917192       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.917200       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.917207       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.917215       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.917219       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.917223       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:19.917241       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:19.917249       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:19.917259       1 prefix_cache_and_load.go:584] latency, Route, 0.0499
I0304 08:26:19.917270       1 gateway.go:415] latency, selectTargetPod, 0.0499, target pod, 10.0.3.28:8000
I0304 08:26:19.917287       1 gateway.go:235] latency, HandleRequestBody, 0.0501
I0304 08:26:19.923831       1 gateway.go:207] "Processing request" requestID="567c1c29-21a0-4b1d-9baf-70c90d851f56"
I0304 08:26:19.923864       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="567c1c29-21a0-4b1d-9baf-70c90d851f56"
I0304 08:26:19.923871       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:19.931913       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="82487f76-f22a-4050-bc1a-848b4092fb9f"
I0304 08:26:19.944881       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9124fd7b, selectedpod, 10.0.0.34:8000, ttft, 110, tpot, 19, e2e, 286, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:19.944902       1 gateway.go:748] "Request completed" requestID="d6d0c51f-9a0a-4f82-b16b-8e885af96143" targetPod="10.0.0.34:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:19.944917       1 gateway.go:764] "HandleResponseBody completed" requestID="d6d0c51f-9a0a-4f82-b16b-8e885af96143" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:19.962721       1 gateway.go:608] "First token received" requestID="82487f76-f22a-4050-bc1a-848b4092fb9f" ttft_ms=95
I0304 08:26:19.979477       1 gateway.go:329] "-- In RequestBody processing ..." requestID="567c1c29-21a0-4b1d-9baf-70c90d851f56"
I0304 08:26:19.979608       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="567c1c29-21a0-4b1d-9baf-70c90d851f56" model="deepseek-llm-7b-chat"
I0304 08:26:19.979653       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:19.979660       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:19.979663       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:19.979755       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:19.979778       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:19.979784       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:20.025963       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0462, numInputTokens, 3758
I0304 08:26:20.025988       1 tree.go:471] Updated node(0) last access: 137.5278 seconds
I0304 08:26:20.025995       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:20.026001       1 tree.go:471] Updated node(2) last access: 137.5279 seconds
I0304 08:26:20.026013       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:20.026018       1 tree.go:471] Updated node(12) last access: 137.5279 seconds
I0304 08:26:20.026030       1 tree.go:667] Split complete - New node(174)
I0304 08:26:20.026036       1 tree.go:668] Split complete - Child node(18)
I0304 08:26:20.026043       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0304 08:26:20.026051       1 tree.go:471] Updated node(174) last access: 137.5279 seconds
I0304 08:26:20.026058       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:20.026063       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3758 tokens
I0304 08:26:20.026072       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:20.026081       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:20.026088       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:20.026066585 +0000 UTC m=+137.646289016]
I0304 08:26:20.026109       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3637, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:20.026118       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:20.026163       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3637
I0304 08:26:20.026172       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:20.026182       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.026192       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.026198       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.026203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.026209       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.026221       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:20.026234       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:20.026244       1 prefix_cache_and_load.go:584] latency, Route, 0.0466
I0304 08:26:20.026254       1 gateway.go:415] latency, selectTargetPod, 0.0466, target pod, 10.0.0.6:8000
I0304 08:26:20.026268       1 gateway.go:235] latency, HandleRequestBody, 0.0468
I0304 08:26:20.042500       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="567c1c29-21a0-4b1d-9baf-70c90d851f56"
I0304 08:26:20.087692       1 gateway.go:608] "First token received" requestID="567c1c29-21a0-4b1d-9baf-70c90d851f56" ttft_ms=108
I0304 08:26:20.109887       1 gateway.go:207] "Processing request" requestID="f4f03a44-1115-445d-a0a1-68c37eeab206"
I0304 08:26:20.109915       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f4f03a44-1115-445d-a0a1-68c37eeab206"
I0304 08:26:20.109929       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:20.138391       1 gateway.go:562] latency, 0.0000, summary, hash(request), f428a3a2, selectedpod, 10.0.3.28:8000, ttft, 95, tpot, 19, e2e, 271, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:20.138408       1 gateway.go:748] "Request completed" requestID="82487f76-f22a-4050-bc1a-848b4092fb9f" targetPod="10.0.3.28:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:20.138418       1 gateway.go:764] "HandleResponseBody completed" requestID="82487f76-f22a-4050-bc1a-848b4092fb9f" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:20.154942       1 gateway.go:207] "Processing request" requestID="efc69610-4d0f-4acb-9a78-93c5ff26067a"
I0304 08:26:20.154965       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="efc69610-4d0f-4acb-9a78-93c5ff26067a"
I0304 08:26:20.154980       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:20.157384       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f4f03a44-1115-445d-a0a1-68c37eeab206"
I0304 08:26:20.157498       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f4f03a44-1115-445d-a0a1-68c37eeab206" model="deepseek-llm-7b-chat"
I0304 08:26:20.157549       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:20.157556       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:20.157559       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:20.157653       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:20.157677       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:20.157682       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:20.207296       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0496, numInputTokens, 3754
I0304 08:26:20.207317       1 tree.go:471] Updated node(0) last access: 137.7092 seconds
I0304 08:26:20.207323       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:20.207326       1 tree.go:471] Updated node(2) last access: 137.7092 seconds
I0304 08:26:20.207333       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:20.207336       1 tree.go:471] Updated node(9) last access: 137.7092 seconds
I0304 08:26:20.207342       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:20.207348       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:20.207354       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:20.207362       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:20.207369       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:20.207349916 +0000 UTC m=+137.827572350]
I0304 08:26:20.207388       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:20.207397       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:20.207460       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3633
I0304 08:26:20.207475       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:20.207490       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.207498       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.207505       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.207523       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.207538       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:20.207554       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:20.207566       1 prefix_cache_and_load.go:584] latency, Route, 0.0500
I0304 08:26:20.207576       1 gateway.go:415] latency, selectTargetPod, 0.0500, target pod, 10.0.0.34:8000
I0304 08:26:20.207589       1 gateway.go:235] latency, HandleRequestBody, 0.0502
I0304 08:26:20.217798       1 gateway.go:207] "Processing request" requestID="5f71c1fc-ac66-4793-bee5-9939c8faf82e"
I0304 08:26:20.217825       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5f71c1fc-ac66-4793-bee5-9939c8faf82e"
I0304 08:26:20.217834       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:20.217894       1 gateway.go:329] "-- In RequestBody processing ..." requestID="efc69610-4d0f-4acb-9a78-93c5ff26067a"
I0304 08:26:20.218019       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="efc69610-4d0f-4acb-9a78-93c5ff26067a" model="deepseek-llm-7b-chat"
I0304 08:26:20.218070       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:20.218077       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:20.218081       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:20.218184       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:20.218213       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:20.218219       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:20.225182       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f4f03a44-1115-445d-a0a1-68c37eeab206"
I0304 08:26:20.263171       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0c28dd42, selectedpod, 10.0.0.6:8000, ttft, 108, tpot, 19, e2e, 283, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:20.263192       1 gateway.go:748] "Request completed" requestID="567c1c29-21a0-4b1d-9baf-70c90d851f56" targetPod="10.0.0.6:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:20.263203       1 gateway.go:764] "HandleResponseBody completed" requestID="567c1c29-21a0-4b1d-9baf-70c90d851f56" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:20.263282       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0451, numInputTokens, 3755
I0304 08:26:20.263295       1 tree.go:471] Updated node(0) last access: 137.7652 seconds
I0304 08:26:20.263303       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:20.263309       1 tree.go:471] Updated node(2) last access: 137.7652 seconds
I0304 08:26:20.263318       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:20.263323       1 tree.go:471] Updated node(22) last access: 137.7652 seconds
I0304 08:26:20.263327       1 tree.go:490] Partial tokens match child node(153). Continue to go deeper in the radix tree
I0304 08:26:20.263333       1 tree.go:471] Updated node(153) last access: 137.7652 seconds
I0304 08:26:20.263341       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:20.263347       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:20.263355       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:20.263364       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:20.263372       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:20.263349447 +0000 UTC m=+137.883571873]
I0304 08:26:20.263389       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3636, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:20.263399       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:20.263443       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3636
I0304 08:26:20.263456       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:20.263467       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.263473       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.263478       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.263485       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.263491       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.263502       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:20.263524       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:20.263544       1 prefix_cache_and_load.go:584] latency, Route, 0.0455
I0304 08:26:20.263554       1 gateway.go:415] latency, selectTargetPod, 0.0455, target pod, 10.0.1.33:8000
I0304 08:26:20.263565       1 gateway.go:235] latency, HandleRequestBody, 0.0457
I0304 08:26:20.270298       1 gateway.go:608] "First token received" requestID="f4f03a44-1115-445d-a0a1-68c37eeab206" ttft_ms=112
I0304 08:26:20.281336       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="efc69610-4d0f-4acb-9a78-93c5ff26067a"
I0304 08:26:20.326438       1 gateway.go:608] "First token received" requestID="efc69610-4d0f-4acb-9a78-93c5ff26067a" ttft_ms=108
I0304 08:26:20.356098       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5f71c1fc-ac66-4793-bee5-9939c8faf82e"
I0304 08:26:20.356217       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5f71c1fc-ac66-4793-bee5-9939c8faf82e" model="deepseek-llm-7b-chat"
I0304 08:26:20.356280       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:20.356289       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:20.356292       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:20.356393       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:20.356421       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:20.356427       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:20.396537       1 gateway.go:207] "Processing request" requestID="72708cbb-b2b2-48d2-bdbd-8e8d030cad98"
I0304 08:26:20.396564       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="72708cbb-b2b2-48d2-bdbd-8e8d030cad98"
I0304 08:26:20.396571       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:20.404921       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0485, numInputTokens, 3751
I0304 08:26:20.404939       1 tree.go:471] Updated node(0) last access: 137.9068 seconds
I0304 08:26:20.404946       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:20.404949       1 tree.go:471] Updated node(2) last access: 137.9068 seconds
I0304 08:26:20.404957       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:20.404960       1 tree.go:471] Updated node(5) last access: 137.9068 seconds
I0304 08:26:20.404969       1 tree.go:667] Split complete - New node(178)
I0304 08:26:20.404981       1 tree.go:668] Split complete - Child node(113)
I0304 08:26:20.404986       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0304 08:26:20.404992       1 tree.go:471] Updated node(178) last access: 137.9069 seconds
I0304 08:26:20.404998       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:20.405003       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:26:20.405008       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:20.405015       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:20.405020       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:20.4050045 +0000 UTC m=+138.025226926]
I0304 08:26:20.405034       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3639, Matching ratio: 0.9701, # Matched pods: 0, Matched pods: []
I0304 08:26:20.405040       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9701 > 0.5000)
I0304 08:26:20.405082       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3639
I0304 08:26:20.405091       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:20.405098       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.405104       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.405107       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.405113       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.405118       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.405128       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:20.405138       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:20.405149       1 prefix_cache_and_load.go:584] latency, Route, 0.0489
I0304 08:26:20.405158       1 gateway.go:415] latency, selectTargetPod, 0.0489, target pod, 10.0.3.28:8000
I0304 08:26:20.405170       1 gateway.go:235] latency, HandleRequestBody, 0.0491
I0304 08:26:20.420030       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5f71c1fc-ac66-4793-bee5-9939c8faf82e"
I0304 08:26:20.446764       1 gateway.go:562] latency, 0.0000, summary, hash(request), b4d48393, selectedpod, 10.0.0.34:8000, ttft, 112, tpot, 19, e2e, 289, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:20.446783       1 gateway.go:748] "Request completed" requestID="f4f03a44-1115-445d-a0a1-68c37eeab206" targetPod="10.0.0.34:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:20.446796       1 gateway.go:764] "HandleResponseBody completed" requestID="f4f03a44-1115-445d-a0a1-68c37eeab206" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:20.450969       1 gateway.go:329] "-- In RequestBody processing ..." requestID="72708cbb-b2b2-48d2-bdbd-8e8d030cad98"
I0304 08:26:20.451092       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="72708cbb-b2b2-48d2-bdbd-8e8d030cad98" model="deepseek-llm-7b-chat"
I0304 08:26:20.451138       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:20.451144       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:20.451147       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:20.451259       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:20.451285       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:20.451290       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:20.453523       1 gateway.go:608] "First token received" requestID="5f71c1fc-ac66-4793-bee5-9939c8faf82e" ttft_ms=97
I0304 08:26:20.482646       1 gateway.go:207] "Processing request" requestID="41d0f6bd-d2b9-4dea-a062-7a351e826c0f"
I0304 08:26:20.482673       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="41d0f6bd-d2b9-4dea-a062-7a351e826c0f"
I0304 08:26:20.482680       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:20.497646       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0463, numInputTokens, 3756
I0304 08:26:20.497664       1 tree.go:471] Updated node(0) last access: 137.9995 seconds
I0304 08:26:20.497670       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:20.497674       1 tree.go:471] Updated node(2) last access: 137.9995 seconds
I0304 08:26:20.497685       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:20.497688       1 tree.go:471] Updated node(24) last access: 137.9996 seconds
I0304 08:26:20.497696       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:20.497700       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:20.497706       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:20.497711       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:20.497715       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:20.497702016 +0000 UTC m=+138.117924441]
I0304 08:26:20.497728       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:20.497734       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:20.497773       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3633
I0304 08:26:20.497782       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:20.497789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.497794       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.497799       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.497804       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.497812       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:20.497821       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:20.497830       1 prefix_cache_and_load.go:584] latency, Route, 0.0467
I0304 08:26:20.497838       1 gateway.go:415] latency, selectTargetPod, 0.0467, target pod, 10.0.1.53:8000
I0304 08:26:20.497848       1 gateway.go:235] latency, HandleRequestBody, 0.0469
I0304 08:26:20.503481       1 gateway.go:562] latency, 0.0000, summary, hash(request), 447b9d32, selectedpod, 10.0.1.33:8000, ttft, 108, tpot, 19, e2e, 285, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:20.503497       1 gateway.go:748] "Request completed" requestID="efc69610-4d0f-4acb-9a78-93c5ff26067a" targetPod="10.0.1.33:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:20.503506       1 gateway.go:764] "HandleResponseBody completed" requestID="efc69610-4d0f-4acb-9a78-93c5ff26067a" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:20.515853       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="72708cbb-b2b2-48d2-bdbd-8e8d030cad98"
I0304 08:26:20.536152       1 gateway.go:329] "-- In RequestBody processing ..." requestID="41d0f6bd-d2b9-4dea-a062-7a351e826c0f"
I0304 08:26:20.536281       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="41d0f6bd-d2b9-4dea-a062-7a351e826c0f" model="deepseek-llm-7b-chat"
I0304 08:26:20.536336       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:20.536343       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:20.536347       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:20.536454       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:20.536477       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:20.536483       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:20.580594       1 gateway.go:608] "First token received" requestID="72708cbb-b2b2-48d2-bdbd-8e8d030cad98" ttft_ms=129
I0304 08:26:20.581386       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0449, numInputTokens, 3753
I0304 08:26:20.581402       1 tree.go:471] Updated node(0) last access: 138.0833 seconds
I0304 08:26:20.581408       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:20.581412       1 tree.go:471] Updated node(2) last access: 138.0833 seconds
I0304 08:26:20.581420       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:20.581424       1 tree.go:471] Updated node(5) last access: 138.0833 seconds
I0304 08:26:20.581427       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0304 08:26:20.581429       1 tree.go:471] Updated node(85) last access: 138.0833 seconds
I0304 08:26:20.581436       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:20.581441       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:20.581451       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:20.581458       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:20.581466       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:20.581445462 +0000 UTC m=+138.201667889]
I0304 08:26:20.581486       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3636, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:20.581494       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:20.581555       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3636
I0304 08:26:20.581565       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:20.581573       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.581581       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.581586       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.581591       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.581598       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.581609       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:20.581623       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:20.581634       1 prefix_cache_and_load.go:584] latency, Route, 0.0453
I0304 08:26:20.581644       1 gateway.go:415] latency, selectTargetPod, 0.0453, target pod, 10.0.3.28:8000
I0304 08:26:20.581659       1 gateway.go:235] latency, HandleRequestBody, 0.0455
I0304 08:26:20.597200       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="41d0f6bd-d2b9-4dea-a062-7a351e826c0f"
I0304 08:26:20.649466       1 gateway.go:608] "First token received" requestID="41d0f6bd-d2b9-4dea-a062-7a351e826c0f" ttft_ms=113
I0304 08:26:20.669119       1 gateway.go:207] "Processing request" requestID="fe92c089-66fa-4f2d-b992-83ca988255d0"
I0304 08:26:20.669142       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fe92c089-66fa-4f2d-b992-83ca988255d0"
I0304 08:26:20.669150       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:20.671345       1 gateway.go:562] latency, 0.0000, summary, hash(request), 47e52ee6, selectedpod, 10.0.3.28:8000, ttft, 97, tpot, 24, e2e, 315, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:20.671369       1 gateway.go:748] "Request completed" requestID="5f71c1fc-ac66-4793-bee5-9939c8faf82e" targetPod="10.0.3.28:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:20.671383       1 gateway.go:764] "HandleResponseBody completed" requestID="5f71c1fc-ac66-4793-bee5-9939c8faf82e" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:20.712181       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fe92c089-66fa-4f2d-b992-83ca988255d0"
I0304 08:26:20.712287       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fe92c089-66fa-4f2d-b992-83ca988255d0" model="deepseek-llm-7b-chat"
I0304 08:26:20.712339       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:20.712345       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:20.712348       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:20.712452       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:20.712485       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:20.712490       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:20.737933       1 gateway.go:562] latency, 0.0000, summary, hash(request), b3e3d6c4, selectedpod, 10.0.1.53:8000, ttft, 129, tpot, 19, e2e, 286, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:20.737955       1 gateway.go:748] "Request completed" requestID="72708cbb-b2b2-48d2-bdbd-8e8d030cad98" targetPod="10.0.1.53:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:20.737965       1 gateway.go:764] "HandleResponseBody completed" requestID="72708cbb-b2b2-48d2-bdbd-8e8d030cad98" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:20.762334       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0498, numInputTokens, 3752
I0304 08:26:20.762353       1 tree.go:471] Updated node(0) last access: 138.2642 seconds
I0304 08:26:20.762359       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:20.762362       1 tree.go:471] Updated node(2) last access: 138.2642 seconds
I0304 08:26:20.762373       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:20.762376       1 tree.go:471] Updated node(12) last access: 138.2642 seconds
I0304 08:26:20.762388       1 tree.go:667] Split complete - New node(182)
I0304 08:26:20.762392       1 tree.go:668] Split complete - Child node(134)
I0304 08:26:20.762398       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:20.762405       1 tree.go:471] Updated node(182) last access: 138.2643 seconds
I0304 08:26:20.762410       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:20.762415       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:20.762421       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:20.762426       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:20.762432       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:20.762417258 +0000 UTC m=+138.382639683]
I0304 08:26:20.762447       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3638, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:20.762456       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:20.762503       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3638
I0304 08:26:20.762524       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:20.762535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.762542       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.762547       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.762552       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.762558       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.762566       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:20.762575       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:20.762586       1 prefix_cache_and_load.go:584] latency, Route, 0.0502
I0304 08:26:20.762595       1 gateway.go:415] latency, selectTargetPod, 0.0503, target pod, 10.0.0.6:8000
I0304 08:26:20.762607       1 gateway.go:235] latency, HandleRequestBody, 0.0504
I0304 08:26:20.769915       1 gateway.go:207] "Processing request" requestID="23b3e759-4a34-4ba7-83fa-0db47a81fba5"
I0304 08:26:20.769934       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="23b3e759-4a34-4ba7-83fa-0db47a81fba5"
I0304 08:26:20.769942       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:20.778801       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fe92c089-66fa-4f2d-b992-83ca988255d0"
I0304 08:26:20.809426       1 gateway.go:608] "First token received" requestID="fe92c089-66fa-4f2d-b992-83ca988255d0" ttft_ms=97
I0304 08:26:20.823767       1 gateway.go:207] "Processing request" requestID="f567d7ce-f8aa-4111-bae5-85e1b629df53"
I0304 08:26:20.823789       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f567d7ce-f8aa-4111-bae5-85e1b629df53"
I0304 08:26:20.823796       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:20.823859       1 gateway.go:329] "-- In RequestBody processing ..." requestID="23b3e759-4a34-4ba7-83fa-0db47a81fba5"
I0304 08:26:20.823984       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="23b3e759-4a34-4ba7-83fa-0db47a81fba5" model="deepseek-llm-7b-chat"
I0304 08:26:20.824027       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:20.824034       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:20.824037       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:20.824134       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:20.824159       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:20.824165       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:20.828805       1 gateway.go:562] latency, 0.0000, summary, hash(request), aa21427a, selectedpod, 10.0.3.28:8000, ttft, 113, tpot, 19, e2e, 292, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:20.828822       1 gateway.go:748] "Request completed" requestID="41d0f6bd-d2b9-4dea-a062-7a351e826c0f" targetPod="10.0.3.28:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:20.828836       1 gateway.go:764] "HandleResponseBody completed" requestID="41d0f6bd-d2b9-4dea-a062-7a351e826c0f" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:20.870816       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0466, numInputTokens, 3754
I0304 08:26:20.870831       1 tree.go:471] Updated node(0) last access: 138.3727 seconds
I0304 08:26:20.870836       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:20.870840       1 tree.go:471] Updated node(2) last access: 138.3727 seconds
I0304 08:26:20.870848       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:20.870850       1 tree.go:471] Updated node(26) last access: 138.3727 seconds
I0304 08:26:20.870853       1 tree.go:490] Partial tokens match child node(151). Continue to go deeper in the radix tree
I0304 08:26:20.870856       1 tree.go:471] Updated node(151) last access: 138.3727 seconds
I0304 08:26:20.870861       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:20.870865       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:20.870872       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:20.870878       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:20.870883       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:20.870867652 +0000 UTC m=+138.491090085]
I0304 08:26:20.870899       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3636, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:20.870905       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:20.870944       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3636
I0304 08:26:20.870953       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:20.870960       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.870963       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.870966       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.870970       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.870988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.870996       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:20.871005       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:20.871013       1 prefix_cache_and_load.go:584] latency, Route, 0.0470
I0304 08:26:20.871022       1 gateway.go:415] latency, selectTargetPod, 0.0470, target pod, 10.0.3.38:8000
I0304 08:26:20.871030       1 gateway.go:235] latency, HandleRequestBody, 0.0472
I0304 08:26:20.886869       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="23b3e759-4a34-4ba7-83fa-0db47a81fba5"
I0304 08:26:20.901625       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f567d7ce-f8aa-4111-bae5-85e1b629df53"
I0304 08:26:20.901738       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f567d7ce-f8aa-4111-bae5-85e1b629df53" model="deepseek-llm-7b-chat"
I0304 08:26:20.901791       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:20.901798       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:20.901801       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:20.901916       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:20.901949       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:20.901956       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:20.918008       1 gateway.go:608] "First token received" requestID="23b3e759-4a34-4ba7-83fa-0db47a81fba5" ttft_ms=94
I0304 08:26:20.951601       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0496, numInputTokens, 3756
I0304 08:26:20.951622       1 tree.go:471] Updated node(0) last access: 138.4535 seconds
I0304 08:26:20.951629       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:20.951632       1 tree.go:471] Updated node(2) last access: 138.4535 seconds
I0304 08:26:20.951640       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:20.951643       1 tree.go:471] Updated node(9) last access: 138.4535 seconds
I0304 08:26:20.951652       1 tree.go:667] Split complete - New node(185)
I0304 08:26:20.951657       1 tree.go:668] Split complete - Child node(15)
I0304 08:26:20.951662       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:20.951666       1 tree.go:471] Updated node(185) last access: 138.4535 seconds
I0304 08:26:20.951671       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:20.951677       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:20.951683       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:20.951689       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:20.951693       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:20.951678629 +0000 UTC m=+138.571901055]
I0304 08:26:20.951710       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3641, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:20.951717       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:20.951772       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3641
I0304 08:26:20.951782       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:20.951789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.951793       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.951798       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.951801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.951804       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:20.951812       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:20.951822       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:20.951834       1 prefix_cache_and_load.go:584] latency, Route, 0.0500
I0304 08:26:20.951842       1 gateway.go:415] latency, selectTargetPod, 0.0501, target pod, 10.0.0.34:8000
I0304 08:26:20.951854       1 gateway.go:235] latency, HandleRequestBody, 0.0502
I0304 08:26:20.969218       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f567d7ce-f8aa-4111-bae5-85e1b629df53"
I0304 08:26:21.014136       1 gateway.go:608] "First token received" requestID="f567d7ce-f8aa-4111-bae5-85e1b629df53" ttft_ms=112
I0304 08:26:21.039829       1 gateway.go:207] "Processing request" requestID="e47f5637-d3fc-4379-950b-6f728ad5d6d7"
I0304 08:26:21.039849       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e47f5637-d3fc-4379-950b-6f728ad5d6d7"
I0304 08:26:21.039858       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:21.049657       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e47f5637-d3fc-4379-950b-6f728ad5d6d7"
I0304 08:26:21.049798       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e47f5637-d3fc-4379-950b-6f728ad5d6d7" model="deepseek-llm-7b-chat"
I0304 08:26:21.049846       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:21.049853       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:21.049857       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:21.049998       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:21.050026       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:21.050032       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:21.093717       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0df2981e, selectedpod, 10.0.3.38:8000, ttft, 94, tpot, 19, e2e, 269, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:21.093739       1 gateway.go:748] "Request completed" requestID="23b3e759-4a34-4ba7-83fa-0db47a81fba5" targetPod="10.0.3.38:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:21.093749       1 gateway.go:764] "HandleResponseBody completed" requestID="23b3e759-4a34-4ba7-83fa-0db47a81fba5" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:21.096903       1 gateway.go:562] latency, 0.0000, summary, hash(request), 76c8f308, selectedpod, 10.0.0.6:8000, ttft, 97, tpot, 31, e2e, 384, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:21.096921       1 gateway.go:748] "Request completed" requestID="fe92c089-66fa-4f2d-b992-83ca988255d0" targetPod="10.0.0.6:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:21.096932       1 gateway.go:764] "HandleResponseBody completed" requestID="fe92c089-66fa-4f2d-b992-83ca988255d0" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:21.097483       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0474, numInputTokens, 3755
I0304 08:26:21.097499       1 tree.go:471] Updated node(0) last access: 138.5994 seconds
I0304 08:26:21.097505       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:21.097519       1 tree.go:471] Updated node(2) last access: 138.5994 seconds
I0304 08:26:21.097531       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:21.097539       1 tree.go:471] Updated node(12) last access: 138.5994 seconds
I0304 08:26:21.097544       1 tree.go:490] Partial tokens match child node(161). Continue to go deeper in the radix tree
I0304 08:26:21.097547       1 tree.go:471] Updated node(161) last access: 138.5994 seconds
I0304 08:26:21.097553       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:21.097559       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:21.097566       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:21.097572       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:21.097577       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:21.097561321 +0000 UTC m=+138.717783747]
I0304 08:26:21.097595       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3636, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:21.097604       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:21.097652       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3636
I0304 08:26:21.097661       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:21.097673       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.097680       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.097684       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.097688       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.097693       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.097701       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:21.097710       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:21.097720       1 prefix_cache_and_load.go:584] latency, Route, 0.0479
I0304 08:26:21.097728       1 gateway.go:415] latency, selectTargetPod, 0.0479, target pod, 10.0.0.6:8000
I0304 08:26:21.097738       1 gateway.go:235] latency, HandleRequestBody, 0.0481
I0304 08:26:21.113719       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e47f5637-d3fc-4379-950b-6f728ad5d6d7"
I0304 08:26:21.158925       1 gateway.go:608] "First token received" requestID="e47f5637-d3fc-4379-950b-6f728ad5d6d7" ttft_ms=109
I0304 08:26:21.189669       1 gateway.go:562] latency, 0.0000, summary, hash(request), c55ce8b3, selectedpod, 10.0.0.34:8000, ttft, 112, tpot, 19, e2e, 288, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:21.189682       1 gateway.go:748] "Request completed" requestID="f567d7ce-f8aa-4111-bae5-85e1b629df53" targetPod="10.0.0.34:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:21.189690       1 gateway.go:764] "HandleResponseBody completed" requestID="f567d7ce-f8aa-4111-bae5-85e1b629df53" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:21.214250       1 gateway.go:207] "Processing request" requestID="ad145c03-dbcc-4a7e-ba69-3058314c3ab3"
I0304 08:26:21.214276       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ad145c03-dbcc-4a7e-ba69-3058314c3ab3"
I0304 08:26:21.214287       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:21.222010       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ad145c03-dbcc-4a7e-ba69-3058314c3ab3"
I0304 08:26:21.222125       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ad145c03-dbcc-4a7e-ba69-3058314c3ab3" model="deepseek-llm-7b-chat"
I0304 08:26:21.222167       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:21.222172       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:21.222176       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:21.222294       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:21.222318       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:21.222322       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:21.272247       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 3755
I0304 08:26:21.272268       1 tree.go:471] Updated node(0) last access: 138.7741 seconds
I0304 08:26:21.272274       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:21.272278       1 tree.go:471] Updated node(2) last access: 138.7741 seconds
I0304 08:26:21.272286       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:21.272288       1 tree.go:471] Updated node(9) last access: 138.7742 seconds
I0304 08:26:21.272293       1 tree.go:490] Partial tokens match child node(170). Continue to go deeper in the radix tree
I0304 08:26:21.272296       1 tree.go:471] Updated node(170) last access: 138.7742 seconds
I0304 08:26:21.272306       1 tree.go:667] Split complete - New node(188)
I0304 08:26:21.272312       1 tree.go:668] Split complete - Child node(171)
I0304 08:26:21.272316       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:21.272322       1 tree.go:471] Updated node(188) last access: 138.7742 seconds
I0304 08:26:21.272327       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:21.272331       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:21.272337       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:21.272342       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:21.272355       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:21.272332784 +0000 UTC m=+138.892555211]
I0304 08:26:21.272368       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3643, Matching ratio: 0.9702, # Matched pods: 0, Matched pods: []
I0304 08:26:21.272378       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9702 > 0.5000)
I0304 08:26:21.272446       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3643
I0304 08:26:21.272459       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:21.272468       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.272474       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.272479       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.272485       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.272489       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.272494       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.272538       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:21.272549       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:21.272560       1 prefix_cache_and_load.go:584] latency, Route, 0.0504
I0304 08:26:21.272574       1 gateway.go:415] latency, selectTargetPod, 0.0504, target pod, 10.0.0.34:8000
I0304 08:26:21.272585       1 gateway.go:235] latency, HandleRequestBody, 0.0506
I0304 08:26:21.289475       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ad145c03-dbcc-4a7e-ba69-3058314c3ab3"
I0304 08:26:21.319570       1 gateway.go:608] "First token received" requestID="ad145c03-dbcc-4a7e-ba69-3058314c3ab3" ttft_ms=97
I0304 08:26:21.334434       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9380b926, selectedpod, 10.0.0.6:8000, ttft, 109, tpot, 19, e2e, 284, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:21.334452       1 gateway.go:748] "Request completed" requestID="e47f5637-d3fc-4379-950b-6f728ad5d6d7" targetPod="10.0.0.6:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:21.334465       1 gateway.go:764] "HandleResponseBody completed" requestID="e47f5637-d3fc-4379-950b-6f728ad5d6d7" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:21.344810       1 gateway.go:207] "Processing request" requestID="5158c282-a573-42a8-af6a-f74ac0d08e9c"
I0304 08:26:21.344834       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5158c282-a573-42a8-af6a-f74ac0d08e9c"
I0304 08:26:21.344842       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:21.347017       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5158c282-a573-42a8-af6a-f74ac0d08e9c"
I0304 08:26:21.347129       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5158c282-a573-42a8-af6a-f74ac0d08e9c" model="deepseek-llm-7b-chat"
I0304 08:26:21.347171       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:21.347177       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:21.347180       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:21.347276       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:21.347301       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:21.347306       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:21.388454       1 gateway.go:207] "Processing request" requestID="ad776b39-77c5-49f8-b8cc-07c0cb620528"
I0304 08:26:21.388484       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ad776b39-77c5-49f8-b8cc-07c0cb620528"
I0304 08:26:21.388492       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:21.392595       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0453, numInputTokens, 3754
I0304 08:26:21.392613       1 tree.go:471] Updated node(0) last access: 138.8945 seconds
I0304 08:26:21.392619       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:21.392622       1 tree.go:471] Updated node(2) last access: 138.8945 seconds
I0304 08:26:21.392630       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:21.392635       1 tree.go:471] Updated node(67) last access: 138.8945 seconds
I0304 08:26:21.392640       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:21.392645       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:21.392652       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:21.392661       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:21.392666       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:21.392647733 +0000 UTC m=+139.012870159]
I0304 08:26:21.392680       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:21.392687       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:21.392729       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:21.392737       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:21.392744       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.392749       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.392753       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.392759       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.392766       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:21.392775       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:21.392786       1 prefix_cache_and_load.go:584] latency, Route, 0.0456
I0304 08:26:21.392793       1 gateway.go:415] latency, selectTargetPod, 0.0456, target pod, 10.0.1.33:8000
I0304 08:26:21.392803       1 gateway.go:235] latency, HandleRequestBody, 0.0458
I0304 08:26:21.410775       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5158c282-a573-42a8-af6a-f74ac0d08e9c"
I0304 08:26:21.441863       1 gateway.go:608] "First token received" requestID="5158c282-a573-42a8-af6a-f74ac0d08e9c" ttft_ms=94
I0304 08:26:21.442216       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ad776b39-77c5-49f8-b8cc-07c0cb620528"
I0304 08:26:21.442333       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ad776b39-77c5-49f8-b8cc-07c0cb620528" model="deepseek-llm-7b-chat"
I0304 08:26:21.442378       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:21.442384       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:21.442387       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:21.442522       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:21.442551       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:21.442557       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:21.491647       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 3756
I0304 08:26:21.491666       1 tree.go:471] Updated node(0) last access: 138.9935 seconds
I0304 08:26:21.491673       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:21.491676       1 tree.go:471] Updated node(2) last access: 138.9935 seconds
I0304 08:26:21.491685       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:21.491689       1 tree.go:471] Updated node(30) last access: 138.9936 seconds
I0304 08:26:21.491695       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:21.491701       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:21.491707       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:21.491715       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:21.491723       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:21.491703079 +0000 UTC m=+139.111925516]
I0304 08:26:21.491741       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:21.491752       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:21.491811       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3633
I0304 08:26:21.491825       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:21.491837       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.491845       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.491851       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.491858       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.491866       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:21.491875       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:21.491885       1 prefix_cache_and_load.go:584] latency, Route, 0.0495
I0304 08:26:21.491895       1 gateway.go:415] latency, selectTargetPod, 0.0495, target pod, 10.0.0.13:8000
I0304 08:26:21.491907       1 gateway.go:235] latency, HandleRequestBody, 0.0497
I0304 08:26:21.495037       1 gateway.go:562] latency, 0.0000, summary, hash(request), b27ce267, selectedpod, 10.0.0.34:8000, ttft, 97, tpot, 19, e2e, 272, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:21.495054       1 gateway.go:748] "Request completed" requestID="ad145c03-dbcc-4a7e-ba69-3058314c3ab3" targetPod="10.0.0.34:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:21.495064       1 gateway.go:764] "HandleResponseBody completed" requestID="ad145c03-dbcc-4a7e-ba69-3058314c3ab3" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:21.509568       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ad776b39-77c5-49f8-b8cc-07c0cb620528"
I0304 08:26:21.555107       1 gateway.go:608] "First token received" requestID="ad776b39-77c5-49f8-b8cc-07c0cb620528" ttft_ms=112
I0304 08:26:21.599432       1 gateway.go:207] "Processing request" requestID="af3d7d41-90df-4eaf-b7bc-45b24650e23b"
I0304 08:26:21.599458       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="af3d7d41-90df-4eaf-b7bc-45b24650e23b"
I0304 08:26:21.599467       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:21.617397       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5660d51b, selectedpod, 10.0.1.33:8000, ttft, 94, tpot, 19, e2e, 270, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:21.617415       1 gateway.go:748] "Request completed" requestID="5158c282-a573-42a8-af6a-f74ac0d08e9c" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:21.617425       1 gateway.go:764] "HandleResponseBody completed" requestID="5158c282-a573-42a8-af6a-f74ac0d08e9c" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:21.657715       1 gateway.go:329] "-- In RequestBody processing ..." requestID="af3d7d41-90df-4eaf-b7bc-45b24650e23b"
I0304 08:26:21.657827       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="af3d7d41-90df-4eaf-b7bc-45b24650e23b" model="deepseek-llm-7b-chat"
I0304 08:26:21.657869       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:21.657875       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:21.657878       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:21.658002       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:21.658028       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:21.658034       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:21.704830       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0468, numInputTokens, 3756
I0304 08:26:21.704849       1 tree.go:471] Updated node(0) last access: 139.2067 seconds
I0304 08:26:21.704856       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:21.704859       1 tree.go:471] Updated node(2) last access: 139.2067 seconds
I0304 08:26:21.704867       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:21.704870       1 tree.go:471] Updated node(26) last access: 139.2067 seconds
I0304 08:26:21.704873       1 tree.go:490] Partial tokens match child node(151). Continue to go deeper in the radix tree
I0304 08:26:21.704876       1 tree.go:471] Updated node(151) last access: 139.2067 seconds
I0304 08:26:21.704882       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:21.704887       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:21.704894       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:21.704901       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:21.704906       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:21.704889677 +0000 UTC m=+139.325112112]
I0304 08:26:21.704921       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3636, Matching ratio: 0.9681, # Matched pods: 0, Matched pods: []
I0304 08:26:21.704928       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9681 > 0.5000)
I0304 08:26:21.704986       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3636
I0304 08:26:21.704995       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:21.705003       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.705008       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.705013       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.705018       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.705023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.705031       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:21.705046       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:21.705056       1 prefix_cache_and_load.go:584] latency, Route, 0.0472
I0304 08:26:21.705064       1 gateway.go:415] latency, selectTargetPod, 0.0472, target pod, 10.0.3.38:8000
I0304 08:26:21.705075       1 gateway.go:235] latency, HandleRequestBody, 0.0474
I0304 08:26:21.720404       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="af3d7d41-90df-4eaf-b7bc-45b24650e23b"
I0304 08:26:21.730934       1 gateway.go:562] latency, 0.0000, summary, hash(request), 55a5e62a, selectedpod, 10.0.0.13:8000, ttft, 112, tpot, 19, e2e, 288, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:21.730954       1 gateway.go:748] "Request completed" requestID="ad776b39-77c5-49f8-b8cc-07c0cb620528" targetPod="10.0.0.13:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:21.730964       1 gateway.go:764] "HandleResponseBody completed" requestID="ad776b39-77c5-49f8-b8cc-07c0cb620528" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:21.764878       1 gateway.go:608] "First token received" requestID="af3d7d41-90df-4eaf-b7bc-45b24650e23b" ttft_ms=107
I0304 08:26:21.817360       1 gateway.go:207] "Processing request" requestID="58759455-e821-4462-9731-7eababf42b7b"
I0304 08:26:21.817382       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="58759455-e821-4462-9731-7eababf42b7b"
I0304 08:26:21.817391       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:21.862190       1 gateway.go:329] "-- In RequestBody processing ..." requestID="58759455-e821-4462-9731-7eababf42b7b"
I0304 08:26:21.862332       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="58759455-e821-4462-9731-7eababf42b7b" model="deepseek-llm-7b-chat"
I0304 08:26:21.862399       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:21.862406       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:21.862409       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:21.862527       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:21.862561       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:21.862571       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:21.908178       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0456, numInputTokens, 3754
I0304 08:26:21.908196       1 tree.go:471] Updated node(0) last access: 139.4101 seconds
I0304 08:26:21.908201       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:21.908205       1 tree.go:471] Updated node(2) last access: 139.4101 seconds
I0304 08:26:21.908214       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:21.908219       1 tree.go:471] Updated node(5) last access: 139.4101 seconds
I0304 08:26:21.908223       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0304 08:26:21.908225       1 tree.go:471] Updated node(85) last access: 139.4101 seconds
I0304 08:26:21.908234       1 tree.go:667] Split complete - New node(193)
I0304 08:26:21.908238       1 tree.go:668] Split complete - Child node(181)
I0304 08:26:21.908242       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0304 08:26:21.908247       1 tree.go:471] Updated node(193) last access: 139.4101 seconds
I0304 08:26:21.908254       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:21.908258       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:21.908266       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:21.908272       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:21.908279       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:21.908261248 +0000 UTC m=+139.528483674]
I0304 08:26:21.908294       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3640, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:21.908301       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:21.908350       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3640
I0304 08:26:21.908361       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:21.908373       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.908381       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.908389       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.908394       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.908402       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.908409       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:21.908420       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:21.908430       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:21.908438       1 prefix_cache_and_load.go:584] latency, Route, 0.0460
I0304 08:26:21.908450       1 gateway.go:415] latency, selectTargetPod, 0.0460, target pod, 10.0.3.28:8000
I0304 08:26:21.908459       1 gateway.go:235] latency, HandleRequestBody, 0.0463
I0304 08:26:21.923145       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="58759455-e821-4462-9731-7eababf42b7b"
I0304 08:26:21.924860       1 gateway.go:207] "Processing request" requestID="9ef70604-f672-4b57-b347-4715846a4a22"
I0304 08:26:21.924886       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9ef70604-f672-4b57-b347-4715846a4a22"
I0304 08:26:21.924895       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:21.940534       1 gateway.go:562] latency, 0.0000, summary, hash(request), 251ba746, selectedpod, 10.0.3.38:8000, ttft, 107, tpot, 19, e2e, 282, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:21.940553       1 gateway.go:748] "Request completed" requestID="af3d7d41-90df-4eaf-b7bc-45b24650e23b" targetPod="10.0.3.38:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:21.940563       1 gateway.go:764] "HandleResponseBody completed" requestID="af3d7d41-90df-4eaf-b7bc-45b24650e23b" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:21.968580       1 gateway.go:608] "First token received" requestID="58759455-e821-4462-9731-7eababf42b7b" ttft_ms=106
I0304 08:26:21.972768       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9ef70604-f672-4b57-b347-4715846a4a22"
I0304 08:26:21.972910       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9ef70604-f672-4b57-b347-4715846a4a22" model="deepseek-llm-7b-chat"
I0304 08:26:21.972952       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:21.972959       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:21.972962       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:21.973067       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:21.973093       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:21.973098       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:22.020081       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0470, numInputTokens, 3754
I0304 08:26:22.020096       1 tree.go:471] Updated node(0) last access: 139.5220 seconds
I0304 08:26:22.020103       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:22.020106       1 tree.go:471] Updated node(2) last access: 139.5220 seconds
I0304 08:26:22.020115       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:22.020124       1 tree.go:471] Updated node(12) last access: 139.5220 seconds
I0304 08:26:22.020130       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:22.020136       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:22.020143       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:22.020149       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:22.020155       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:22.02013853 +0000 UTC m=+139.640360955]
I0304 08:26:22.020170       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:22.020178       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:22.020225       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3633
I0304 08:26:22.020234       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:22.020241       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.020246       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.020250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.020252       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.020260       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:22.020268       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:22.020277       1 prefix_cache_and_load.go:584] latency, Route, 0.0473
I0304 08:26:22.020285       1 gateway.go:415] latency, selectTargetPod, 0.0473, target pod, 10.0.0.6:8000
I0304 08:26:22.020295       1 gateway.go:235] latency, HandleRequestBody, 0.0475
I0304 08:26:22.037700       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9ef70604-f672-4b57-b347-4715846a4a22"
I0304 08:26:22.068301       1 gateway.go:608] "First token received" requestID="9ef70604-f672-4b57-b347-4715846a4a22" ttft_ms=95
I0304 08:26:22.145011       1 gateway.go:562] latency, 0.0000, summary, hash(request), cbea98dc, selectedpod, 10.0.3.28:8000, ttft, 106, tpot, 19, e2e, 282, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:22.145028       1 gateway.go:748] "Request completed" requestID="58759455-e821-4462-9731-7eababf42b7b" targetPod="10.0.3.28:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:22.145037       1 gateway.go:764] "HandleResponseBody completed" requestID="58759455-e821-4462-9731-7eababf42b7b" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:22.243678       1 gateway.go:562] latency, 0.0000, summary, hash(request), 493955d2, selectedpod, 10.0.0.6:8000, ttft, 95, tpot, 19, e2e, 270, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:22.243696       1 gateway.go:748] "Request completed" requestID="9ef70604-f672-4b57-b347-4715846a4a22" targetPod="10.0.0.6:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:22.243704       1 gateway.go:764] "HandleResponseBody completed" requestID="9ef70604-f672-4b57-b347-4715846a4a22" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:22.383276       1 gateway.go:207] "Processing request" requestID="d9b07964-7cc0-4986-8d38-bd8398a13d63"
I0304 08:26:22.383295       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d9b07964-7cc0-4986-8d38-bd8398a13d63"
I0304 08:26:22.383303       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:22.391384       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d9b07964-7cc0-4986-8d38-bd8398a13d63"
I0304 08:26:22.391523       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d9b07964-7cc0-4986-8d38-bd8398a13d63" model="deepseek-llm-7b-chat"
I0304 08:26:22.391573       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:22.391582       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:22.391585       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:22.391690       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:22.391717       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:22.391723       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:22.441386       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0497, numInputTokens, 3755
I0304 08:26:22.441406       1 tree.go:471] Updated node(0) last access: 139.9433 seconds
I0304 08:26:22.441412       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:22.441415       1 tree.go:471] Updated node(2) last access: 139.9433 seconds
I0304 08:26:22.441423       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:22.441427       1 tree.go:471] Updated node(40) last access: 139.9433 seconds
I0304 08:26:22.441434       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:22.441440       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:22.441446       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:22.441453       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:22.441458       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:22.441441905 +0000 UTC m=+140.061664331]
I0304 08:26:22.441471       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3633, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:22.441477       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:22.441527       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:22.441536       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:22.441543       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.441548       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.441553       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.441560       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.441568       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:22.441578       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:22.441587       1 prefix_cache_and_load.go:584] latency, Route, 0.0500
I0304 08:26:22.441596       1 gateway.go:415] latency, selectTargetPod, 0.0500, target pod, 10.0.1.47:8000
I0304 08:26:22.441606       1 gateway.go:235] latency, HandleRequestBody, 0.0502
I0304 08:26:22.463308       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d9b07964-7cc0-4986-8d38-bd8398a13d63"
I0304 08:26:22.474340       1 gateway.go:207] "Processing request" requestID="3efd0307-a313-4149-8fc2-fc8ff7568bbe"
I0304 08:26:22.474373       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3efd0307-a313-4149-8fc2-fc8ff7568bbe"
I0304 08:26:22.474382       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:22.481777       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3efd0307-a313-4149-8fc2-fc8ff7568bbe"
I0304 08:26:22.481897       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3efd0307-a313-4149-8fc2-fc8ff7568bbe" model="deepseek-llm-7b-chat"
I0304 08:26:22.481936       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:22.481942       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:22.481945       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:22.482055       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:22.482080       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:22.482086       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:22.508714       1 gateway.go:608] "First token received" requestID="d9b07964-7cc0-4986-8d38-bd8398a13d63" ttft_ms=117
I0304 08:26:22.529700       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0476, numInputTokens, 3752
I0304 08:26:22.529718       1 tree.go:471] Updated node(0) last access: 140.0316 seconds
I0304 08:26:22.529745       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:22.529753       1 tree.go:471] Updated node(2) last access: 140.0316 seconds
I0304 08:26:22.529765       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:22.529770       1 tree.go:471] Updated node(9) last access: 140.0316 seconds
I0304 08:26:22.529780       1 tree.go:667] Split complete - New node(197)
I0304 08:26:22.529785       1 tree.go:668] Split complete - Child node(45)
I0304 08:26:22.529790       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:22.529794       1 tree.go:471] Updated node(197) last access: 140.0317 seconds
I0304 08:26:22.529801       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:22.529811       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:22.529816       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:22.529824       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:22.529831       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:22.52981271 +0000 UTC m=+140.150035136]
I0304 08:26:22.529848       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3640, Matching ratio: 0.9701, # Matched pods: 0, Matched pods: []
I0304 08:26:22.529855       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9701 > 0.5000)
I0304 08:26:22.529955       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3640
I0304 08:26:22.529969       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:22.529988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.529995       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.530000       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.530007       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.530016       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.530028       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:22.530047       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:22.530062       1 prefix_cache_and_load.go:584] latency, Route, 0.0481
I0304 08:26:22.530078       1 gateway.go:415] latency, selectTargetPod, 0.0481, target pod, 10.0.0.34:8000
I0304 08:26:22.530094       1 gateway.go:235] latency, HandleRequestBody, 0.0483
I0304 08:26:22.546360       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3efd0307-a313-4149-8fc2-fc8ff7568bbe"
I0304 08:26:22.577144       1 gateway.go:608] "First token received" requestID="3efd0307-a313-4149-8fc2-fc8ff7568bbe" ttft_ms=95
I0304 08:26:22.590928       1 gateway.go:207] "Processing request" requestID="f94465c1-be5b-4ce1-b61c-8be1ad79a940"
I0304 08:26:22.590953       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f94465c1-be5b-4ce1-b61c-8be1ad79a940"
I0304 08:26:22.590962       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:22.648608       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f94465c1-be5b-4ce1-b61c-8be1ad79a940"
I0304 08:26:22.648723       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f94465c1-be5b-4ce1-b61c-8be1ad79a940" model="deepseek-llm-7b-chat"
I0304 08:26:22.648769       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:22.648776       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:22.648780       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:22.648882       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:22.648907       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:22.648913       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:22.683962       1 gateway.go:562] latency, 0.0000, summary, hash(request), fc199d39, selectedpod, 10.0.1.47:8000, ttft, 117, tpot, 19, e2e, 292, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:22.683998       1 gateway.go:748] "Request completed" requestID="d9b07964-7cc0-4986-8d38-bd8398a13d63" targetPod="10.0.1.47:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:22.684014       1 gateway.go:764] "HandleResponseBody completed" requestID="d9b07964-7cc0-4986-8d38-bd8398a13d63" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:22.695427       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0465, numInputTokens, 3758
I0304 08:26:22.695443       1 tree.go:471] Updated node(0) last access: 140.1973 seconds
I0304 08:26:22.695449       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:22.695452       1 tree.go:471] Updated node(2) last access: 140.1973 seconds
I0304 08:26:22.695461       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:22.695465       1 tree.go:471] Updated node(22) last access: 140.1973 seconds
I0304 08:26:22.695468       1 tree.go:490] Partial tokens match child node(153). Continue to go deeper in the radix tree
I0304 08:26:22.695470       1 tree.go:471] Updated node(153) last access: 140.1973 seconds
I0304 08:26:22.695476       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:22.695481       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3758 tokens
I0304 08:26:22.695488       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:22.695495       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:22.695500       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:22.695483732 +0000 UTC m=+140.315706167]
I0304 08:26:22.695524       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3636, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:22.695530       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:22.695572       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3636
I0304 08:26:22.695582       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:22.695590       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.695597       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.695602       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.695605       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.695611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:22.695619       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:22.695629       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:22.695637       1 prefix_cache_and_load.go:584] latency, Route, 0.0469
I0304 08:26:22.695646       1 gateway.go:415] latency, selectTargetPod, 0.0469, target pod, 10.0.1.33:8000
I0304 08:26:22.695657       1 gateway.go:235] latency, HandleRequestBody, 0.0471
I0304 08:26:22.715612       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f94465c1-be5b-4ce1-b61c-8be1ad79a940"
I0304 08:26:22.752848       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1ac8ad26, selectedpod, 10.0.0.34:8000, ttft, 95, tpot, 19, e2e, 271, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:22.752863       1 gateway.go:748] "Request completed" requestID="3efd0307-a313-4149-8fc2-fc8ff7568bbe" targetPod="10.0.0.34:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:22.752871       1 gateway.go:764] "HandleResponseBody completed" requestID="3efd0307-a313-4149-8fc2-fc8ff7568bbe" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:22.761087       1 gateway.go:608] "First token received" requestID="f94465c1-be5b-4ce1-b61c-8be1ad79a940" ttft_ms=112
I0304 08:26:22.936305       1 gateway.go:562] latency, 0.0000, summary, hash(request), f0160fed, selectedpod, 10.0.1.33:8000, ttft, 112, tpot, 19, e2e, 287, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:22.936324       1 gateway.go:748] "Request completed" requestID="f94465c1-be5b-4ce1-b61c-8be1ad79a940" targetPod="10.0.1.33:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:22.936336       1 gateway.go:764] "HandleResponseBody completed" requestID="f94465c1-be5b-4ce1-b61c-8be1ad79a940" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:23.035210       1 gateway.go:207] "Processing request" requestID="e849a3d0-036d-44f8-8a51-2a4f72b8f74f"
I0304 08:26:23.035230       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e849a3d0-036d-44f8-8a51-2a4f72b8f74f"
I0304 08:26:23.035238       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:23.082127       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e849a3d0-036d-44f8-8a51-2a4f72b8f74f"
I0304 08:26:23.082250       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e849a3d0-036d-44f8-8a51-2a4f72b8f74f" model="deepseek-llm-7b-chat"
I0304 08:26:23.082294       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:23.082301       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:23.082304       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:23.082407       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:23.082437       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:23.082442       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:23.129447       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0470, numInputTokens, 3756
I0304 08:26:23.129465       1 tree.go:471] Updated node(0) last access: 140.6313 seconds
I0304 08:26:23.129472       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:23.129477       1 tree.go:471] Updated node(2) last access: 140.6313 seconds
I0304 08:26:23.129488       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:23.129493       1 tree.go:471] Updated node(26) last access: 140.6314 seconds
I0304 08:26:23.129499       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:23.129504       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:23.129519       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:23.129529       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:23.129536       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:23.129506055 +0000 UTC m=+140.749728482]
I0304 08:26:23.129552       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:23.129558       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:23.129600       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3633
I0304 08:26:23.129613       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:23.129632       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.129641       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.129644       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.129650       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.129659       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:23.129668       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:23.129677       1 prefix_cache_and_load.go:584] latency, Route, 0.0474
I0304 08:26:23.129686       1 gateway.go:415] latency, selectTargetPod, 0.0474, target pod, 10.0.3.38:8000
I0304 08:26:23.129703       1 gateway.go:235] latency, HandleRequestBody, 0.0476
I0304 08:26:23.145040       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e849a3d0-036d-44f8-8a51-2a4f72b8f74f"
I0304 08:26:23.190489       1 gateway.go:608] "First token received" requestID="e849a3d0-036d-44f8-8a51-2a4f72b8f74f" ttft_ms=108
I0304 08:26:23.354771       1 gateway.go:207] "Processing request" requestID="14c33869-f2e9-4c3e-8073-a90d8c1d5ce4"
I0304 08:26:23.354793       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="14c33869-f2e9-4c3e-8073-a90d8c1d5ce4"
I0304 08:26:23.354801       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:23.365857       1 gateway.go:562] latency, 0.0000, summary, hash(request), 40fa5034, selectedpod, 10.0.3.38:8000, ttft, 108, tpot, 19, e2e, 283, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:23.365876       1 gateway.go:748] "Request completed" requestID="e849a3d0-036d-44f8-8a51-2a4f72b8f74f" targetPod="10.0.3.38:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:23.365885       1 gateway.go:764] "HandleResponseBody completed" requestID="e849a3d0-036d-44f8-8a51-2a4f72b8f74f" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:23.440792       1 gateway.go:329] "-- In RequestBody processing ..." requestID="14c33869-f2e9-4c3e-8073-a90d8c1d5ce4"
I0304 08:26:23.440918       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="14c33869-f2e9-4c3e-8073-a90d8c1d5ce4" model="deepseek-llm-7b-chat"
I0304 08:26:23.440976       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:23.440984       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:23.440989       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:23.441261       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:23.441573       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0006
I0304 08:26:23.441588       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:23.490660       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0491, numInputTokens, 3754
I0304 08:26:23.490680       1 tree.go:471] Updated node(0) last access: 140.9925 seconds
I0304 08:26:23.490687       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:23.490690       1 tree.go:471] Updated node(2) last access: 140.9926 seconds
I0304 08:26:23.490699       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:23.490703       1 tree.go:471] Updated node(12) last access: 140.9926 seconds
I0304 08:26:23.490707       1 tree.go:490] Partial tokens match child node(144). Continue to go deeper in the radix tree
I0304 08:26:23.490709       1 tree.go:471] Updated node(144) last access: 140.9926 seconds
I0304 08:26:23.490715       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:23.490720       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:23.490728       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:23.490735       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:23.490741       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:23.490722669 +0000 UTC m=+141.110945095]
I0304 08:26:23.490757       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3640, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:23.490764       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:23.490811       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3640
I0304 08:26:23.490820       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:23.490828       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.490832       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.490837       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.490841       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.490845       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.490855       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:23.490864       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:23.490873       1 prefix_cache_and_load.go:584] latency, Route, 0.0499
I0304 08:26:23.490882       1 gateway.go:415] latency, selectTargetPod, 0.0499, target pod, 10.0.0.6:8000
I0304 08:26:23.490894       1 gateway.go:235] latency, HandleRequestBody, 0.0501
I0304 08:26:23.507107       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="14c33869-f2e9-4c3e-8073-a90d8c1d5ce4"
I0304 08:26:23.538073       1 gateway.go:608] "First token received" requestID="14c33869-f2e9-4c3e-8073-a90d8c1d5ce4" ttft_ms=97
I0304 08:26:23.606113       1 gateway.go:207] "Processing request" requestID="8cd41395-9f7c-498d-995a-ea438149ba03"
I0304 08:26:23.606146       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8cd41395-9f7c-498d-995a-ea438149ba03"
I0304 08:26:23.606156       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:23.663706       1 gateway.go:207] "Processing request" requestID="927d0bd4-6dd8-4aa6-928d-b71bd8373954"
I0304 08:26:23.663727       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="927d0bd4-6dd8-4aa6-928d-b71bd8373954"
I0304 08:26:23.663734       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:23.664396       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8cd41395-9f7c-498d-995a-ea438149ba03"
I0304 08:26:23.664532       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8cd41395-9f7c-498d-995a-ea438149ba03" model="deepseek-llm-7b-chat"
I0304 08:26:23.664574       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:23.664581       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:23.664584       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:23.664797       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:23.664824       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:23.664830       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:23.715187       1 gateway.go:329] "-- In RequestBody processing ..." requestID="927d0bd4-6dd8-4aa6-928d-b71bd8373954"
I0304 08:26:23.715308       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="927d0bd4-6dd8-4aa6-928d-b71bd8373954" model="deepseek-llm-7b-chat"
I0304 08:26:23.715634       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0508, numInputTokens, 3747
I0304 08:26:23.715656       1 tree.go:471] Updated node(0) last access: 141.2175 seconds
I0304 08:26:23.715666       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:23.715672       1 tree.go:471] Updated node(2) last access: 141.2175 seconds
I0304 08:26:23.715682       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:23.715688       1 tree.go:471] Updated node(67) last access: 141.2176 seconds
I0304 08:26:23.715697       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:23.715704       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3747 tokens
I0304 08:26:23.715711       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3747 tokens
I0304 08:26:23.715717       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:23.715722       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:23.715706662 +0000 UTC m=+141.335929095]
I0304 08:26:23.715737       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3747, Matched tokens: 3633, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:23.715748       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:23.715804       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:23.715813       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:23.715823       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.715833       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.715840       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.715846       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.715859       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:23.715873       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:23.715889       1 prefix_cache_and_load.go:584] latency, Route, 0.0513
I0304 08:26:23.715906       1 gateway.go:415] latency, selectTargetPod, 0.0513, target pod, 10.0.1.33:8000
I0304 08:26:23.715923       1 gateway.go:235] latency, HandleRequestBody, 0.0515
I0304 08:26:23.715955       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0006
I0304 08:26:23.715960       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:23.715963       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:23.716064       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4adbf5dd, selectedpod, 10.0.0.6:8000, ttft, 97, tpot, 19, e2e, 275, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:23.716073       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:23.716086       1 gateway.go:748] "Request completed" requestID="14c33869-f2e9-4c3e-8073-a90d8c1d5ce4" targetPod="10.0.0.6:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:23.716098       1 gateway.go:764] "HandleResponseBody completed" requestID="14c33869-f2e9-4c3e-8073-a90d8c1d5ce4" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:23.716100       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:23.716104       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:23.732540       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8cd41395-9f7c-498d-995a-ea438149ba03"
I0304 08:26:23.764446       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0483, numInputTokens, 3752
I0304 08:26:23.764464       1 tree.go:471] Updated node(0) last access: 141.2663 seconds
I0304 08:26:23.764472       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:23.764477       1 tree.go:471] Updated node(2) last access: 141.2663 seconds
I0304 08:26:23.764487       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:23.764491       1 tree.go:471] Updated node(26) last access: 141.2664 seconds
I0304 08:26:23.764499       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:23.764506       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:23.764524       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:23.764532       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:23.764540       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:23.764518216 +0000 UTC m=+141.384740644]
I0304 08:26:23.764559       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3633, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:23.764569       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:23.764620       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3633
I0304 08:26:23.764632       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:23.764643       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.764651       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.764657       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.764662       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:23.764672       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:23.764681       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:23.764690       1 prefix_cache_and_load.go:584] latency, Route, 0.0493
I0304 08:26:23.764699       1 gateway.go:415] latency, selectTargetPod, 0.0493, target pod, 10.0.3.38:8000
I0304 08:26:23.764708       1 gateway.go:235] latency, HandleRequestBody, 0.0495
I0304 08:26:23.765690       1 gateway.go:608] "First token received" requestID="8cd41395-9f7c-498d-995a-ea438149ba03" ttft_ms=101
I0304 08:26:23.779818       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="927d0bd4-6dd8-4aa6-928d-b71bd8373954"
I0304 08:26:23.809724       1 gateway.go:608] "First token received" requestID="927d0bd4-6dd8-4aa6-928d-b71bd8373954" ttft_ms=94
I0304 08:26:23.939049       1 gateway.go:562] latency, 0.0000, summary, hash(request), f6438472, selectedpod, 10.0.1.33:8000, ttft, 101, tpot, 19, e2e, 274, numInputTokens, 3962, numOutputTokens, 10, numTotalTokens, 3972
I0304 08:26:23.939071       1 gateway.go:748] "Request completed" requestID="8cd41395-9f7c-498d-995a-ea438149ba03" targetPod="10.0.1.33:8000" promptTokens=3962 completionTokens=10 totalTokens=3972
I0304 08:26:23.939081       1 gateway.go:764] "HandleResponseBody completed" requestID="8cd41395-9f7c-498d-995a-ea438149ba03" promptTokens=3962 completionTokens=10 stream=true
I0304 08:26:23.985577       1 gateway.go:562] latency, 0.0000, summary, hash(request), ce2e0f35, selectedpod, 10.0.3.38:8000, ttft, 94, tpot, 19, e2e, 270, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:23.985600       1 gateway.go:748] "Request completed" requestID="927d0bd4-6dd8-4aa6-928d-b71bd8373954" targetPod="10.0.3.38:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:23.985614       1 gateway.go:764] "HandleResponseBody completed" requestID="927d0bd4-6dd8-4aa6-928d-b71bd8373954" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:24.127521       1 gateway.go:207] "Processing request" requestID="3a9eed2e-ccaf-42b5-8ab0-8046839cf121"
I0304 08:26:24.127547       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3a9eed2e-ccaf-42b5-8ab0-8046839cf121"
I0304 08:26:24.127556       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:24.140008       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3a9eed2e-ccaf-42b5-8ab0-8046839cf121"
I0304 08:26:24.140134       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3a9eed2e-ccaf-42b5-8ab0-8046839cf121" model="deepseek-llm-7b-chat"
I0304 08:26:24.140186       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:24.140193       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:24.140196       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:24.140354       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:24.140390       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:24.140396       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:24.192504       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0521, numInputTokens, 3755
I0304 08:26:24.192533       1 tree.go:471] Updated node(0) last access: 141.6944 seconds
I0304 08:26:24.192540       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:24.192543       1 tree.go:471] Updated node(2) last access: 141.6944 seconds
I0304 08:26:24.192552       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:24.192554       1 tree.go:471] Updated node(30) last access: 141.6944 seconds
I0304 08:26:24.192565       1 tree.go:667] Split complete - New node(204)
I0304 08:26:24.192570       1 tree.go:668] Split complete - Child node(96)
I0304 08:26:24.192575       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:24.192580       1 tree.go:471] Updated node(204) last access: 141.6944 seconds
I0304 08:26:24.192586       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:24.192590       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:24.192595       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:24.192602       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:24.192607       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:24.192591879 +0000 UTC m=+141.812814304]
I0304 08:26:24.192623       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3643, Matching ratio: 0.9702, # Matched pods: 0, Matched pods: []
I0304 08:26:24.192631       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9702 > 0.5000)
I0304 08:26:24.192676       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3643
I0304 08:26:24.192685       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:24.192693       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:24.192700       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:24.192707       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:24.192711       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:24.192715       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:24.192723       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:24.192731       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:24.192740       1 prefix_cache_and_load.go:584] latency, Route, 0.0526
I0304 08:26:24.192749       1 gateway.go:415] latency, selectTargetPod, 0.0526, target pod, 10.0.0.13:8000
I0304 08:26:24.192760       1 gateway.go:235] latency, HandleRequestBody, 0.0528
I0304 08:26:24.209333       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3a9eed2e-ccaf-42b5-8ab0-8046839cf121"
I0304 08:26:24.256080       1 gateway.go:608] "First token received" requestID="3a9eed2e-ccaf-42b5-8ab0-8046839cf121" ttft_ms=116
I0304 08:26:24.374564       1 gateway.go:207] "Processing request" requestID="6d4db36e-1aed-4f60-a14e-d6e93d2eed4c"
I0304 08:26:24.374594       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6d4db36e-1aed-4f60-a14e-d6e93d2eed4c"
I0304 08:26:24.374604       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:24.418562       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6d4db36e-1aed-4f60-a14e-d6e93d2eed4c"
I0304 08:26:24.418713       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6d4db36e-1aed-4f60-a14e-d6e93d2eed4c" model="deepseek-llm-7b-chat"
I0304 08:26:24.418779       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:24.418787       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:24.418792       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:24.418952       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:24.419000       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:24.419008       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:24.430270       1 gateway.go:562] latency, 0.0000, summary, hash(request), bae5c44e, selectedpod, 10.0.0.13:8000, ttft, 116, tpot, 19, e2e, 290, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:24.430291       1 gateway.go:748] "Request completed" requestID="3a9eed2e-ccaf-42b5-8ab0-8046839cf121" targetPod="10.0.0.13:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:24.430303       1 gateway.go:764] "HandleResponseBody completed" requestID="3a9eed2e-ccaf-42b5-8ab0-8046839cf121" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:24.466276       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0473, numInputTokens, 3758
I0304 08:26:24.466293       1 tree.go:471] Updated node(0) last access: 141.9682 seconds
I0304 08:26:24.466299       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:24.466303       1 tree.go:471] Updated node(2) last access: 141.9682 seconds
I0304 08:26:24.466311       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:24.466316       1 tree.go:471] Updated node(12) last access: 141.9682 seconds
I0304 08:26:24.466320       1 tree.go:490] Partial tokens match child node(144). Continue to go deeper in the radix tree
I0304 08:26:24.466322       1 tree.go:471] Updated node(144) last access: 141.9682 seconds
I0304 08:26:24.466329       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:24.466334       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3758 tokens
I0304 08:26:24.466340       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:24.466347       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:24.466353       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:24.466335801 +0000 UTC m=+142.086558226]
I0304 08:26:24.466368       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3640, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:24.466379       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:24.466440       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3640
I0304 08:26:24.466454       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:24.466464       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:24.466471       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:24.466477       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:24.466484       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:24.466489       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:24.466501       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:24.466545       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:24.466559       1 prefix_cache_and_load.go:584] latency, Route, 0.0478
I0304 08:26:24.466589       1 gateway.go:415] latency, selectTargetPod, 0.0478, target pod, 10.0.0.6:8000
I0304 08:26:24.466609       1 gateway.go:235] latency, HandleRequestBody, 0.0480
I0304 08:26:24.482610       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6d4db36e-1aed-4f60-a14e-d6e93d2eed4c"
I0304 08:26:24.527744       1 gateway.go:608] "First token received" requestID="6d4db36e-1aed-4f60-a14e-d6e93d2eed4c" ttft_ms=109
I0304 08:26:24.703147       1 gateway.go:562] latency, 0.0000, summary, hash(request), d1633ca6, selectedpod, 10.0.0.6:8000, ttft, 109, tpot, 19, e2e, 284, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:24.703170       1 gateway.go:748] "Request completed" requestID="6d4db36e-1aed-4f60-a14e-d6e93d2eed4c" targetPod="10.0.0.6:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:24.703184       1 gateway.go:764] "HandleResponseBody completed" requestID="6d4db36e-1aed-4f60-a14e-d6e93d2eed4c" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:25.773009       1 gateway.go:207] "Processing request" requestID="6d3db5dc-db8c-4104-bc4e-8d5e31141b39"
I0304 08:26:25.773046       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6d3db5dc-db8c-4104-bc4e-8d5e31141b39"
I0304 08:26:25.773055       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:25.777042       1 gateway.go:207] "Processing request" requestID="a37a9f7f-bc9f-4508-a22f-d04ea8ebaab4"
I0304 08:26:25.777079       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a37a9f7f-bc9f-4508-a22f-d04ea8ebaab4"
I0304 08:26:25.777088       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:25.780344       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6d3db5dc-db8c-4104-bc4e-8d5e31141b39"
I0304 08:26:25.780479       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6d3db5dc-db8c-4104-bc4e-8d5e31141b39" model="deepseek-llm-7b-chat"
I0304 08:26:25.780531       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:25.780538       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:25.780541       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:25.780718       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:25.780754       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:25.780762       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:25.819443       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a37a9f7f-bc9f-4508-a22f-d04ea8ebaab4"
I0304 08:26:25.819578       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a37a9f7f-bc9f-4508-a22f-d04ea8ebaab4" model="deepseek-llm-7b-chat"
I0304 08:26:25.829717       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0489, numInputTokens, 3756
I0304 08:26:25.829741       1 tree.go:471] Updated node(0) last access: 143.3316 seconds
I0304 08:26:25.829748       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:25.829754       1 tree.go:471] Updated node(2) last access: 143.3316 seconds
I0304 08:26:25.829762       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:25.829766       1 tree.go:471] Updated node(9) last access: 143.3316 seconds
I0304 08:26:25.829773       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:25.829780       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:25.829790       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:25.829799       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:25.829805       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:25.829782724 +0000 UTC m=+143.450005159]
I0304 08:26:25.829835       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:25.829843       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:25.829917       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3633
I0304 08:26:25.829926       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:25.829934       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:25.829939       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:25.829943       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:25.829948       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:25.829956       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:25.829966       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:25.829997       1 prefix_cache_and_load.go:584] latency, Route, 0.0495
I0304 08:26:25.830015       1 gateway.go:415] latency, selectTargetPod, 0.0495, target pod, 10.0.0.34:8000
I0304 08:26:25.830037       1 gateway.go:235] latency, HandleRequestBody, 0.0497
I0304 08:26:25.830066       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0104
I0304 08:26:25.830069       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:25.830073       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:25.830219       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:25.830278       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:25.830283       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:25.847557       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6d3db5dc-db8c-4104-bc4e-8d5e31141b39"
I0304 08:26:25.893080       1 gateway.go:608] "First token received" requestID="6d3db5dc-db8c-4104-bc4e-8d5e31141b39" ttft_ms=112
I0304 08:26:25.903311       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0730, numInputTokens, 3753
I0304 08:26:25.903331       1 tree.go:471] Updated node(0) last access: 143.4052 seconds
I0304 08:26:25.903337       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:25.903341       1 tree.go:471] Updated node(2) last access: 143.4052 seconds
I0304 08:26:25.903351       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:25.903355       1 tree.go:471] Updated node(30) last access: 143.4052 seconds
I0304 08:26:25.903365       1 tree.go:667] Split complete - New node(208)
I0304 08:26:25.903369       1 tree.go:668] Split complete - Child node(191)
I0304 08:26:25.903379       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:25.903384       1 tree.go:471] Updated node(208) last access: 143.4052 seconds
I0304 08:26:25.903390       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0304 08:26:25.903397       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:25.903405       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:25.903413       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:25.903422       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:25.903399426 +0000 UTC m=+143.523621852]
I0304 08:26:25.903441       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3644, Matching ratio: 0.9710, # Matched pods: 0, Matched pods: []
I0304 08:26:25.903452       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9710 > 0.5000)
I0304 08:26:25.903524       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3644
I0304 08:26:25.903537       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:25.903547       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:25.903555       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:25.903561       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:25.903566       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:25.903570       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:25.903578       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:25.903587       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:25.903598       1 prefix_cache_and_load.go:584] latency, Route, 0.0840
I0304 08:26:25.903608       1 gateway.go:415] latency, selectTargetPod, 0.0840, target pod, 10.0.0.13:8000
I0304 08:26:25.903620       1 gateway.go:235] latency, HandleRequestBody, 0.0842
I0304 08:26:25.920158       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a37a9f7f-bc9f-4508-a22f-d04ea8ebaab4"
I0304 08:26:25.951126       1 gateway.go:608] "First token received" requestID="a37a9f7f-bc9f-4508-a22f-d04ea8ebaab4" ttft_ms=131
I0304 08:26:26.069308       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6a12e397, selectedpod, 10.0.0.34:8000, ttft, 112, tpot, 19, e2e, 288, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:26.069329       1 gateway.go:748] "Request completed" requestID="6d3db5dc-db8c-4104-bc4e-8d5e31141b39" targetPod="10.0.0.34:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:26.069341       1 gateway.go:764] "HandleResponseBody completed" requestID="6d3db5dc-db8c-4104-bc4e-8d5e31141b39" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:26.126592       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4d662a18, selectedpod, 10.0.0.13:8000, ttft, 131, tpot, 19, e2e, 307, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:26.126610       1 gateway.go:748] "Request completed" requestID="a37a9f7f-bc9f-4508-a22f-d04ea8ebaab4" targetPod="10.0.0.13:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:26.126619       1 gateway.go:764] "HandleResponseBody completed" requestID="a37a9f7f-bc9f-4508-a22f-d04ea8ebaab4" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:26.161007       1 gateway.go:207] "Processing request" requestID="823dad8e-7282-4e79-917b-258390ccf8f2"
I0304 08:26:26.161030       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="823dad8e-7282-4e79-917b-258390ccf8f2"
I0304 08:26:26.161038       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:26.168784       1 gateway.go:329] "-- In RequestBody processing ..." requestID="823dad8e-7282-4e79-917b-258390ccf8f2"
I0304 08:26:26.168903       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="823dad8e-7282-4e79-917b-258390ccf8f2" model="deepseek-llm-7b-chat"
I0304 08:26:26.168948       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:26.168954       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:26.168958       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:26.169087       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:26.169119       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:26.169125       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:26.206643       1 gateway.go:207] "Processing request" requestID="07556b56-d12f-472e-baf0-917256e535aa"
I0304 08:26:26.206665       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="07556b56-d12f-472e-baf0-917256e535aa"
I0304 08:26:26.206672       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:26.216059       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0469, numInputTokens, 3753
I0304 08:26:26.216074       1 tree.go:471] Updated node(0) last access: 143.7179 seconds
I0304 08:26:26.216079       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:26.216083       1 tree.go:471] Updated node(2) last access: 143.7179 seconds
I0304 08:26:26.216091       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:26.216095       1 tree.go:471] Updated node(22) last access: 143.7180 seconds
I0304 08:26:26.216105       1 tree.go:667] Split complete - New node(210)
I0304 08:26:26.216110       1 tree.go:668] Split complete - Child node(169)
I0304 08:26:26.216118       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:26.216123       1 tree.go:471] Updated node(210) last access: 143.7180 seconds
I0304 08:26:26.216128       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0304 08:26:26.216132       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:26.216139       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:26.216145       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:26.216150       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:26.216135327 +0000 UTC m=+143.836357752]
I0304 08:26:26.216164       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3642, Matching ratio: 0.9704, # Matched pods: 0, Matched pods: []
I0304 08:26:26.216170       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9704 > 0.5000)
I0304 08:26:26.216217       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3642
I0304 08:26:26.216226       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:26.216234       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.216241       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.216248       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.216251       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.216255       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.216265       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:26.216274       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:26.216283       1 prefix_cache_and_load.go:584] latency, Route, 0.0473
I0304 08:26:26.216290       1 gateway.go:415] latency, selectTargetPod, 0.0473, target pod, 10.0.1.33:8000
I0304 08:26:26.216300       1 gateway.go:235] latency, HandleRequestBody, 0.0475
I0304 08:26:26.232814       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="823dad8e-7282-4e79-917b-258390ccf8f2"
I0304 08:26:26.260256       1 gateway.go:329] "-- In RequestBody processing ..." requestID="07556b56-d12f-472e-baf0-917256e535aa"
I0304 08:26:26.260379       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="07556b56-d12f-472e-baf0-917256e535aa" model="deepseek-llm-7b-chat"
I0304 08:26:26.260447       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:26.260456       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:26.260460       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:26.260645       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:26.260676       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:26.260683       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:26.265386       1 gateway.go:608] "First token received" requestID="823dad8e-7282-4e79-917b-258390ccf8f2" ttft_ms=96
I0304 08:26:26.311027       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0503, numInputTokens, 3758
I0304 08:26:26.311045       1 tree.go:471] Updated node(0) last access: 143.8129 seconds
I0304 08:26:26.311052       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:26.311055       1 tree.go:471] Updated node(2) last access: 143.8129 seconds
I0304 08:26:26.311066       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:26.311070       1 tree.go:471] Updated node(9) last access: 143.8129 seconds
I0304 08:26:26.311075       1 tree.go:490] Partial tokens match child node(170). Continue to go deeper in the radix tree
I0304 08:26:26.311079       1 tree.go:471] Updated node(170) last access: 143.8129 seconds
I0304 08:26:26.311089       1 tree.go:667] Split complete - New node(212)
I0304 08:26:26.311092       1 tree.go:668] Split complete - Child node(102)
I0304 08:26:26.311097       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:26.311102       1 tree.go:471] Updated node(212) last access: 143.8130 seconds
I0304 08:26:26.311107       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:26.311112       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3758 tokens
I0304 08:26:26.311119       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:26.311124       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:26.311129       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:26.311114896 +0000 UTC m=+143.931337322]
I0304 08:26:26.311145       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3639, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:26.311184       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:26.311235       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3639
I0304 08:26:26.311244       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:26.311251       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.311257       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.311262       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.311268       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.311274       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.311280       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.311288       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:26.311299       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:26.311312       1 prefix_cache_and_load.go:584] latency, Route, 0.0509
I0304 08:26:26.311324       1 gateway.go:415] latency, selectTargetPod, 0.0509, target pod, 10.0.0.34:8000
I0304 08:26:26.311340       1 gateway.go:235] latency, HandleRequestBody, 0.0511
I0304 08:26:26.328334       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="07556b56-d12f-472e-baf0-917256e535aa"
I0304 08:26:26.373018       1 gateway.go:608] "First token received" requestID="07556b56-d12f-472e-baf0-917256e535aa" ttft_ms=112
I0304 08:26:26.396408       1 gateway.go:207] "Processing request" requestID="d13d035b-ff41-4f89-83b6-05aabd4b2d2f"
I0304 08:26:26.396433       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d13d035b-ff41-4f89-83b6-05aabd4b2d2f"
I0304 08:26:26.396444       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:26.436905       1 gateway.go:207] "Processing request" requestID="b3436b5a-bd6e-4bc1-8484-7d8fc3d86c8b"
I0304 08:26:26.436929       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b3436b5a-bd6e-4bc1-8484-7d8fc3d86c8b"
I0304 08:26:26.436936       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:26.438963       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d13d035b-ff41-4f89-83b6-05aabd4b2d2f"
I0304 08:26:26.439078       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d13d035b-ff41-4f89-83b6-05aabd4b2d2f" model="deepseek-llm-7b-chat"
I0304 08:26:26.439123       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:26.439129       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:26.439133       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:26.439258       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:26.439287       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:26.439294       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:26.439399       1 gateway.go:562] latency, 0.0000, summary, hash(request), 79b74bed, selectedpod, 10.0.1.33:8000, ttft, 96, tpot, 19, e2e, 270, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:26.439416       1 gateway.go:748] "Request completed" requestID="823dad8e-7282-4e79-917b-258390ccf8f2" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:26.439428       1 gateway.go:764] "HandleResponseBody completed" requestID="823dad8e-7282-4e79-917b-258390ccf8f2" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:26.485147       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0458, numInputTokens, 3753
I0304 08:26:26.485164       1 tree.go:471] Updated node(0) last access: 143.9870 seconds
I0304 08:26:26.485170       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:26.485174       1 tree.go:471] Updated node(2) last access: 143.9870 seconds
I0304 08:26:26.485183       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:26.485187       1 tree.go:471] Updated node(22) last access: 143.9871 seconds
I0304 08:26:26.485191       1 tree.go:490] Partial tokens match child node(153). Continue to go deeper in the radix tree
I0304 08:26:26.485194       1 tree.go:471] Updated node(153) last access: 143.9871 seconds
I0304 08:26:26.485203       1 tree.go:667] Split complete - New node(214)
I0304 08:26:26.485207       1 tree.go:668] Split complete - Child node(154)
I0304 08:26:26.485213       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0304 08:26:26.485217       1 tree.go:471] Updated node(214) last access: 143.9871 seconds
I0304 08:26:26.485223       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:26.485227       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:26.485233       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:26.485238       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:26.485244       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:26.485229015 +0000 UTC m=+144.105451441]
I0304 08:26:26.485259       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3639, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:26.485266       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:26.485311       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3639
I0304 08:26:26.485320       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:26.485330       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.485335       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.485340       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.485344       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.485350       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.485355       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.485370       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:26.485380       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:26.485388       1 prefix_cache_and_load.go:584] latency, Route, 0.0463
I0304 08:26:26.485397       1 gateway.go:415] latency, selectTargetPod, 0.0463, target pod, 10.0.1.33:8000
I0304 08:26:26.485407       1 gateway.go:235] latency, HandleRequestBody, 0.0464
I0304 08:26:26.499781       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b3436b5a-bd6e-4bc1-8484-7d8fc3d86c8b"
I0304 08:26:26.501497       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d13d035b-ff41-4f89-83b6-05aabd4b2d2f"
I0304 08:26:26.531676       1 gateway.go:608] "First token received" requestID="d13d035b-ff41-4f89-83b6-05aabd4b2d2f" ttft_ms=92
I0304 08:26:26.533456       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b3436b5a-bd6e-4bc1-8484-7d8fc3d86c8b" model="deepseek-llm-7b-chat"
I0304 08:26:26.533502       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:26.533508       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:26.533523       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:26.533640       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:26.533694       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:26.533700       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:26.578626       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0449, numInputTokens, 3755
I0304 08:26:26.578646       1 tree.go:471] Updated node(0) last access: 144.0805 seconds
I0304 08:26:26.578652       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:26.578656       1 tree.go:471] Updated node(2) last access: 144.0805 seconds
I0304 08:26:26.578665       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:26.578669       1 tree.go:471] Updated node(24) last access: 144.0805 seconds
I0304 08:26:26.578675       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:26.578681       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:26.578688       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:26.578695       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:26.578700       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:26.578683617 +0000 UTC m=+144.198906050]
I0304 08:26:26.578715       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3633, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:26.578722       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:26.578765       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3633
I0304 08:26:26.578774       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0000
I0304 08:26:26.578781       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.578787       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.578793       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.578798       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.578806       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:26.578816       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:26.578827       1 prefix_cache_and_load.go:584] latency, Route, 0.0453
I0304 08:26:26.578837       1 gateway.go:415] latency, selectTargetPod, 0.0453, target pod, 10.0.1.53:8000
I0304 08:26:26.578849       1 gateway.go:235] latency, HandleRequestBody, 0.0791
I0304 08:26:26.597502       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b3436b5a-bd6e-4bc1-8484-7d8fc3d86c8b"
I0304 08:26:26.629299       1 gateway.go:608] "First token received" requestID="b3436b5a-bd6e-4bc1-8484-7d8fc3d86c8b" ttft_ms=129
I0304 08:26:26.652937       1 gateway.go:562] latency, 0.0000, summary, hash(request), fdb25b9a, selectedpod, 10.0.0.34:8000, ttft, 112, tpot, 31, e2e, 392, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:26.652953       1 gateway.go:748] "Request completed" requestID="07556b56-d12f-472e-baf0-917256e535aa" targetPod="10.0.0.34:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:26.652963       1 gateway.go:764] "HandleResponseBody completed" requestID="07556b56-d12f-472e-baf0-917256e535aa" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:26.707871       1 gateway.go:562] latency, 0.0000, summary, hash(request), 22367a2e, selectedpod, 10.0.1.33:8000, ttft, 92, tpot, 19, e2e, 268, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:26.707892       1 gateway.go:748] "Request completed" requestID="d13d035b-ff41-4f89-83b6-05aabd4b2d2f" targetPod="10.0.1.33:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:26.707904       1 gateway.go:764] "HandleResponseBody completed" requestID="d13d035b-ff41-4f89-83b6-05aabd4b2d2f" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:26.796825       1 gateway.go:207] "Processing request" requestID="55ea953e-51b7-4a51-98ab-a6f8d02fac2d"
I0304 08:26:26.796855       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="55ea953e-51b7-4a51-98ab-a6f8d02fac2d"
I0304 08:26:26.796863       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:26.805422       1 gateway.go:562] latency, 0.0000, summary, hash(request), 498b9796, selectedpod, 10.0.1.53:8000, ttft, 129, tpot, 19, e2e, 305, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:26.805438       1 gateway.go:748] "Request completed" requestID="b3436b5a-bd6e-4bc1-8484-7d8fc3d86c8b" targetPod="10.0.1.53:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:26.805449       1 gateway.go:764] "HandleResponseBody completed" requestID="b3436b5a-bd6e-4bc1-8484-7d8fc3d86c8b" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:26.845418       1 gateway.go:329] "-- In RequestBody processing ..." requestID="55ea953e-51b7-4a51-98ab-a6f8d02fac2d"
I0304 08:26:26.845548       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="55ea953e-51b7-4a51-98ab-a6f8d02fac2d" model="deepseek-llm-7b-chat"
I0304 08:26:26.845595       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:26.845601       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:26.845604       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:26.845759       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:26.845809       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:26.845816       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:26.896008       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0502, numInputTokens, 3750
I0304 08:26:26.896029       1 tree.go:471] Updated node(0) last access: 144.3979 seconds
I0304 08:26:26.896035       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:26.896040       1 tree.go:471] Updated node(2) last access: 144.3979 seconds
I0304 08:26:26.896048       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:26.896051       1 tree.go:471] Updated node(67) last access: 144.3979 seconds
I0304 08:26:26.896058       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:26.896065       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3750 tokens
I0304 08:26:26.896072       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:26.896079       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:26.896084       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:26.896066836 +0000 UTC m=+144.516289262]
I0304 08:26:26.896104       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3633, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:26.896113       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:26.896162       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:26.896176       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:26.896184       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.896191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.896195       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.896199       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:26.896207       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:26.896216       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:26.896226       1 prefix_cache_and_load.go:584] latency, Route, 0.0506
I0304 08:26:26.896235       1 gateway.go:415] latency, selectTargetPod, 0.0506, target pod, 10.0.1.33:8000
I0304 08:26:26.896249       1 gateway.go:235] latency, HandleRequestBody, 0.0508
I0304 08:26:26.912390       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="55ea953e-51b7-4a51-98ab-a6f8d02fac2d"
I0304 08:26:26.942500       1 gateway.go:608] "First token received" requestID="55ea953e-51b7-4a51-98ab-a6f8d02fac2d" ttft_ms=97
I0304 08:26:27.120947       1 gateway.go:562] latency, 0.0000, summary, hash(request), ee14e581, selectedpod, 10.0.1.33:8000, ttft, 97, tpot, 19, e2e, 275, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:27.120966       1 gateway.go:748] "Request completed" requestID="55ea953e-51b7-4a51-98ab-a6f8d02fac2d" targetPod="10.0.1.33:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:27.120986       1 gateway.go:764] "HandleResponseBody completed" requestID="55ea953e-51b7-4a51-98ab-a6f8d02fac2d" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:27.128932       1 gateway.go:207] "Processing request" requestID="c952a5d8-02a4-433d-9c89-a9359b218c98"
I0304 08:26:27.128958       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c952a5d8-02a4-433d-9c89-a9359b218c98"
I0304 08:26:27.128968       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:27.184239       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c952a5d8-02a4-433d-9c89-a9359b218c98"
I0304 08:26:27.184373       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c952a5d8-02a4-433d-9c89-a9359b218c98" model="deepseek-llm-7b-chat"
I0304 08:26:27.184417       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:27.184424       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:27.184427       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:27.184572       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:27.184603       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:27.184609       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:27.231207       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0466, numInputTokens, 3755
I0304 08:26:27.231226       1 tree.go:471] Updated node(0) last access: 144.7331 seconds
I0304 08:26:27.231233       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:27.231238       1 tree.go:471] Updated node(2) last access: 144.7331 seconds
I0304 08:26:27.231246       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:27.231251       1 tree.go:471] Updated node(24) last access: 144.7331 seconds
I0304 08:26:27.231260       1 tree.go:667] Split complete - New node(218)
I0304 08:26:27.231264       1 tree.go:668] Split complete - Child node(129)
I0304 08:26:27.231270       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:27.231273       1 tree.go:471] Updated node(218) last access: 144.7331 seconds
I0304 08:26:27.231279       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:27.231282       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:27.231289       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:27.231296       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:27.231302       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:27.231284481 +0000 UTC m=+144.851506906]
I0304 08:26:27.231318       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3640, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:27.231324       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:27.231369       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3640
I0304 08:26:27.231378       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:27.231387       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.231393       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.231398       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.231406       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.231411       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.231424       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:27.231437       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:27.231452       1 prefix_cache_and_load.go:584] latency, Route, 0.0470
I0304 08:26:27.231462       1 gateway.go:415] latency, selectTargetPod, 0.0470, target pod, 10.0.1.53:8000
I0304 08:26:27.231473       1 gateway.go:235] latency, HandleRequestBody, 0.0472
I0304 08:26:27.250215       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c952a5d8-02a4-433d-9c89-a9359b218c98"
I0304 08:26:27.296103       1 gateway.go:608] "First token received" requestID="c952a5d8-02a4-433d-9c89-a9359b218c98" ttft_ms=111
I0304 08:26:27.395351       1 gateway.go:207] "Processing request" requestID="a1d85f40-fa0a-4f09-b6b1-f34077ea23ae"
I0304 08:26:27.395383       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a1d85f40-fa0a-4f09-b6b1-f34077ea23ae"
I0304 08:26:27.395390       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:27.442415       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a1d85f40-fa0a-4f09-b6b1-f34077ea23ae"
I0304 08:26:27.442551       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a1d85f40-fa0a-4f09-b6b1-f34077ea23ae" model="deepseek-llm-7b-chat"
I0304 08:26:27.442596       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:27.442603       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:27.442606       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:27.442737       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:27.442769       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:27.442775       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:27.471957       1 gateway.go:562] latency, 0.0000, summary, hash(request), 444e2de2, selectedpod, 10.0.1.53:8000, ttft, 111, tpot, 19, e2e, 287, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:27.471987       1 gateway.go:748] "Request completed" requestID="c952a5d8-02a4-433d-9c89-a9359b218c98" targetPod="10.0.1.53:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:27.471998       1 gateway.go:764] "HandleResponseBody completed" requestID="c952a5d8-02a4-433d-9c89-a9359b218c98" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:27.492828       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0500, numInputTokens, 3755
I0304 08:26:27.492847       1 tree.go:471] Updated node(0) last access: 144.9947 seconds
I0304 08:26:27.492854       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:27.492858       1 tree.go:471] Updated node(2) last access: 144.9947 seconds
I0304 08:26:27.492868       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:27.492871       1 tree.go:471] Updated node(67) last access: 144.9947 seconds
I0304 08:26:27.492879       1 tree.go:667] Split complete - New node(220)
I0304 08:26:27.492885       1 tree.go:668] Split complete - Child node(160)
I0304 08:26:27.492891       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:27.492894       1 tree.go:471] Updated node(220) last access: 144.9948 seconds
I0304 08:26:27.492900       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:27.492907       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:27.492914       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:27.492921       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:27.492926       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:27.492909623 +0000 UTC m=+145.113132061]
I0304 08:26:27.492941       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3637, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:27.492948       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:27.493020       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3637
I0304 08:26:27.493035       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:27.493043       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.493048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.493052       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.493061       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.493067       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.493076       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:27.493085       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:27.493120       1 prefix_cache_and_load.go:584] latency, Route, 0.0505
I0304 08:26:27.493130       1 gateway.go:415] latency, selectTargetPod, 0.0505, target pod, 10.0.1.33:8000
I0304 08:26:27.493144       1 gateway.go:235] latency, HandleRequestBody, 0.0507
I0304 08:26:27.507538       1 gateway.go:207] "Processing request" requestID="99c23a7b-c9df-4bb9-8c3e-658de29d130a"
I0304 08:26:27.507564       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="99c23a7b-c9df-4bb9-8c3e-658de29d130a"
I0304 08:26:27.507571       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:27.509302       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a1d85f40-fa0a-4f09-b6b1-f34077ea23ae"
I0304 08:26:27.554505       1 gateway.go:329] "-- In RequestBody processing ..." requestID="99c23a7b-c9df-4bb9-8c3e-658de29d130a"
I0304 08:26:27.554636       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="99c23a7b-c9df-4bb9-8c3e-658de29d130a" model="deepseek-llm-7b-chat"
I0304 08:26:27.554687       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:27.554693       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:27.554697       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:27.554814       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:27.554844       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:27.554849       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:27.555074       1 gateway.go:608] "First token received" requestID="a1d85f40-fa0a-4f09-b6b1-f34077ea23ae" ttft_ms=112
I0304 08:26:27.556068       1 gateway.go:207] "Processing request" requestID="88b4203b-697d-466d-a92d-7e1a116d5cb4"
I0304 08:26:27.556097       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="88b4203b-697d-466d-a92d-7e1a116d5cb4"
I0304 08:26:27.556107       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:27.601620       1 gateway.go:329] "-- In RequestBody processing ..." requestID="88b4203b-697d-466d-a92d-7e1a116d5cb4"
I0304 08:26:27.601765       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="88b4203b-697d-466d-a92d-7e1a116d5cb4" model="deepseek-llm-7b-chat"
I0304 08:26:27.601820       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0470, numInputTokens, 3754
I0304 08:26:27.601838       1 tree.go:471] Updated node(0) last access: 145.1037 seconds
I0304 08:26:27.601846       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:27.601850       1 tree.go:471] Updated node(2) last access: 145.1037 seconds
I0304 08:26:27.601859       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:27.601861       1 tree.go:471] Updated node(40) last access: 145.1037 seconds
I0304 08:26:27.601871       1 tree.go:667] Split complete - New node(222)
I0304 08:26:27.601873       1 tree.go:668] Split complete - Child node(65)
I0304 08:26:27.601879       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:27.601884       1 tree.go:471] Updated node(222) last access: 145.1037 seconds
I0304 08:26:27.601888       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:27.601894       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:27.601900       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:27.601906       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:27.601911       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:27.601896093 +0000 UTC m=+145.222118519]
I0304 08:26:27.601926       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3634, Matching ratio: 0.9680, # Matched pods: 0, Matched pods: []
I0304 08:26:27.601934       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9680 > 0.5000)
I0304 08:26:27.601991       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3634
I0304 08:26:27.602001       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:27.602009       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.602015       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.602019       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.602024       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.602028       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.602035       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:27.602044       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:27.602054       1 prefix_cache_and_load.go:584] latency, Route, 0.0474
I0304 08:26:27.602067       1 gateway.go:415] latency, selectTargetPod, 0.0474, target pod, 10.0.1.47:8000
I0304 08:26:27.602079       1 gateway.go:235] latency, HandleRequestBody, 0.0476
I0304 08:26:27.602106       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0003
I0304 08:26:27.602110       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:27.602113       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:27.602207       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:27.602236       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:27.602241       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:27.619485       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="99c23a7b-c9df-4bb9-8c3e-658de29d130a"
I0304 08:26:27.648010       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0458, numInputTokens, 3754
I0304 08:26:27.648026       1 tree.go:471] Updated node(0) last access: 145.1499 seconds
I0304 08:26:27.648033       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:27.648035       1 tree.go:471] Updated node(2) last access: 145.1499 seconds
I0304 08:26:27.648046       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:27.648048       1 tree.go:471] Updated node(37) last access: 145.1499 seconds
I0304 08:26:27.648056       1 tree.go:667] Split complete - New node(224)
I0304 08:26:27.648060       1 tree.go:668] Split complete - Child node(148)
I0304 08:26:27.648065       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:27.648069       1 tree.go:471] Updated node(224) last access: 145.1499 seconds
I0304 08:26:27.648074       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:27.648078       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:27.648083       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:27.648090       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:27.648095       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:27.648079681 +0000 UTC m=+145.268302113]
I0304 08:26:27.648109       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3640, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:27.648116       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:27.648162       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3640
I0304 08:26:27.648171       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:27.648178       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.648182       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.648185       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.648190       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.648195       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.648202       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:27.648210       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:27.648219       1 prefix_cache_and_load.go:584] latency, Route, 0.0464
I0304 08:26:27.648226       1 gateway.go:415] latency, selectTargetPod, 0.0464, target pod, 10.0.1.47:8000
I0304 08:26:27.648235       1 gateway.go:235] latency, HandleRequestBody, 0.0466
I0304 08:26:27.650589       1 gateway.go:608] "First token received" requestID="99c23a7b-c9df-4bb9-8c3e-658de29d130a" ttft_ms=96
I0304 08:26:27.665341       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="88b4203b-697d-466d-a92d-7e1a116d5cb4"
I0304 08:26:27.698519       1 gateway.go:608] "First token received" requestID="88b4203b-697d-466d-a92d-7e1a116d5cb4" ttft_ms=96
I0304 08:26:27.729645       1 gateway.go:562] latency, 0.0000, summary, hash(request), 07e1e309, selectedpod, 10.0.1.33:8000, ttft, 112, tpot, 19, e2e, 287, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:27.729667       1 gateway.go:748] "Request completed" requestID="a1d85f40-fa0a-4f09-b6b1-f34077ea23ae" targetPod="10.0.1.33:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:27.729679       1 gateway.go:764] "HandleResponseBody completed" requestID="a1d85f40-fa0a-4f09-b6b1-f34077ea23ae" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:27.772247       1 gateway.go:207] "Processing request" requestID="24533a8a-b1cb-48ef-8b30-99e2d5ce1418"
I0304 08:26:27.772276       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="24533a8a-b1cb-48ef-8b30-99e2d5ce1418"
I0304 08:26:27.772284       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:27.840186       1 gateway.go:329] "-- In RequestBody processing ..." requestID="24533a8a-b1cb-48ef-8b30-99e2d5ce1418"
I0304 08:26:27.840313       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="24533a8a-b1cb-48ef-8b30-99e2d5ce1418" model="deepseek-llm-7b-chat"
I0304 08:26:27.840363       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:27.840369       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:27.840373       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:27.840501       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:27.840543       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:27.840551       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:27.877486       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6920f5a9, selectedpod, 10.0.1.47:8000, ttft, 96, tpot, 25, e2e, 322, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:27.877527       1 gateway.go:748] "Request completed" requestID="99c23a7b-c9df-4bb9-8c3e-658de29d130a" targetPod="10.0.1.47:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:27.877543       1 gateway.go:764] "HandleResponseBody completed" requestID="99c23a7b-c9df-4bb9-8c3e-658de29d130a" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:27.887529       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0470, numInputTokens, 3754
I0304 08:26:27.887546       1 tree.go:471] Updated node(0) last access: 145.3894 seconds
I0304 08:26:27.887552       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:27.887555       1 tree.go:471] Updated node(2) last access: 145.3894 seconds
I0304 08:26:27.887563       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:27.887568       1 tree.go:471] Updated node(67) last access: 145.3894 seconds
I0304 08:26:27.887576       1 tree.go:667] Split complete - New node(226)
I0304 08:26:27.887581       1 tree.go:668] Split complete - Child node(141)
I0304 08:26:27.887586       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:27.887589       1 tree.go:471] Updated node(226) last access: 145.3895 seconds
I0304 08:26:27.887599       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:27.887603       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:27.887610       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:27.887615       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:27.887622       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:27.887606023 +0000 UTC m=+145.507828449]
I0304 08:26:27.887636       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3638, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:27.887643       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:27.887692       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3638
I0304 08:26:27.887701       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:27.887708       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.887714       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.887719       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.887722       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.887727       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:27.887744       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:27.887753       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:27.887762       1 prefix_cache_and_load.go:584] latency, Route, 0.0474
I0304 08:26:27.887793       1 gateway.go:415] latency, selectTargetPod, 0.0474, target pod, 10.0.1.33:8000
I0304 08:26:27.887804       1 gateway.go:235] latency, HandleRequestBody, 0.0476
I0304 08:26:27.899167       1 gateway.go:562] latency, 0.0000, summary, hash(request), 447926e1, selectedpod, 10.0.1.47:8000, ttft, 96, tpot, 22, e2e, 297, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:27.899182       1 gateway.go:748] "Request completed" requestID="88b4203b-697d-466d-a92d-7e1a116d5cb4" targetPod="10.0.1.47:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:27.899189       1 gateway.go:764] "HandleResponseBody completed" requestID="88b4203b-697d-466d-a92d-7e1a116d5cb4" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:27.903824       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="24533a8a-b1cb-48ef-8b30-99e2d5ce1418"
I0304 08:26:27.948375       1 gateway.go:608] "First token received" requestID="24533a8a-b1cb-48ef-8b30-99e2d5ce1418" ttft_ms=108
I0304 08:26:28.028236       1 gateway.go:207] "Processing request" requestID="08a0d1c1-de06-4565-93ae-25c0f5b53c9c"
I0304 08:26:28.028267       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="08a0d1c1-de06-4565-93ae-25c0f5b53c9c"
I0304 08:26:28.028275       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:28.078790       1 gateway.go:329] "-- In RequestBody processing ..." requestID="08a0d1c1-de06-4565-93ae-25c0f5b53c9c"
I0304 08:26:28.078917       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="08a0d1c1-de06-4565-93ae-25c0f5b53c9c" model="deepseek-llm-7b-chat"
I0304 08:26:28.078998       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:28.079005       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:28.079009       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:28.079148       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:28.079184       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:28.079190       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:28.123770       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2136f9c4, selectedpod, 10.0.1.33:8000, ttft, 108, tpot, 19, e2e, 283, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:28.123791       1 gateway.go:748] "Request completed" requestID="24533a8a-b1cb-48ef-8b30-99e2d5ce1418" targetPod="10.0.1.33:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:28.123801       1 gateway.go:764] "HandleResponseBody completed" requestID="24533a8a-b1cb-48ef-8b30-99e2d5ce1418" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:28.129993       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0508, numInputTokens, 3753
I0304 08:26:28.130012       1 tree.go:471] Updated node(0) last access: 145.6319 seconds
I0304 08:26:28.130020       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:28.130024       1 tree.go:471] Updated node(2) last access: 145.6319 seconds
I0304 08:26:28.130035       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:28.130039       1 tree.go:471] Updated node(22) last access: 145.6319 seconds
I0304 08:26:28.130048       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:28.130055       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:28.130063       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:28.130072       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:28.130080       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:28.130057254 +0000 UTC m=+145.750279683]
I0304 08:26:28.130099       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3633, Matching ratio: 0.9680, # Matched pods: 0, Matched pods: []
I0304 08:26:28.130109       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9680 > 0.5000)
I0304 08:26:28.130162       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:28.130174       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:28.130184       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.130191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.130197       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.130202       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.130214       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:28.130222       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:28.130231       1 prefix_cache_and_load.go:584] latency, Route, 0.0512
I0304 08:26:28.130239       1 gateway.go:415] latency, selectTargetPod, 0.0512, target pod, 10.0.1.33:8000
I0304 08:26:28.130250       1 gateway.go:235] latency, HandleRequestBody, 0.0515
I0304 08:26:28.146265       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="08a0d1c1-de06-4565-93ae-25c0f5b53c9c"
I0304 08:26:28.146909       1 gateway.go:207] "Processing request" requestID="058bacea-3354-42e8-8624-26bc1145135c"
I0304 08:26:28.146932       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="058bacea-3354-42e8-8624-26bc1145135c"
I0304 08:26:28.146939       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:28.149146       1 gateway.go:329] "-- In RequestBody processing ..." requestID="058bacea-3354-42e8-8624-26bc1145135c"
I0304 08:26:28.149278       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="058bacea-3354-42e8-8624-26bc1145135c" model="deepseek-llm-7b-chat"
I0304 08:26:28.149339       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:28.149348       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:28.149352       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:28.149487       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:28.149535       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:28.149542       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:28.176097       1 gateway.go:608] "First token received" requestID="08a0d1c1-de06-4565-93ae-25c0f5b53c9c" ttft_ms=97
I0304 08:26:28.204143       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0546, numInputTokens, 3756
I0304 08:26:28.204158       1 tree.go:471] Updated node(0) last access: 145.7060 seconds
I0304 08:26:28.204164       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:28.204168       1 tree.go:471] Updated node(2) last access: 145.7060 seconds
I0304 08:26:28.204181       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:28.204184       1 tree.go:471] Updated node(9) last access: 145.7060 seconds
I0304 08:26:28.204188       1 tree.go:490] Partial tokens match child node(80). Continue to go deeper in the radix tree
I0304 08:26:28.204199       1 tree.go:471] Updated node(80) last access: 145.7061 seconds
I0304 08:26:28.204207       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:28.204211       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:28.204218       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:28.204224       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:28.204229       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:28.204213453 +0000 UTC m=+145.824435879]
I0304 08:26:28.204241       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3638, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:28.204248       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:28.204292       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3638
I0304 08:26:28.204302       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:28.204309       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.204315       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.204321       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.204324       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.204331       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.204340       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:28.204349       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:28.204357       1 prefix_cache_and_load.go:584] latency, Route, 0.0550
I0304 08:26:28.204366       1 gateway.go:415] latency, selectTargetPod, 0.0550, target pod, 10.0.0.34:8000
I0304 08:26:28.204375       1 gateway.go:235] latency, HandleRequestBody, 0.0552
I0304 08:26:28.221722       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="058bacea-3354-42e8-8624-26bc1145135c"
I0304 08:26:28.268666       1 gateway.go:608] "First token received" requestID="058bacea-3354-42e8-8624-26bc1145135c" ttft_ms=119
I0304 08:26:28.351582       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1cf0ce57, selectedpod, 10.0.1.33:8000, ttft, 97, tpot, 19, e2e, 272, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:28.351603       1 gateway.go:748] "Request completed" requestID="08a0d1c1-de06-4565-93ae-25c0f5b53c9c" targetPod="10.0.1.33:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:28.351614       1 gateway.go:764] "HandleResponseBody completed" requestID="08a0d1c1-de06-4565-93ae-25c0f5b53c9c" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:28.436533       1 gateway.go:207] "Processing request" requestID="37c6ab7c-48f7-4cbc-9461-dc3ece9a4bcb"
I0304 08:26:28.436555       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="37c6ab7c-48f7-4cbc-9461-dc3ece9a4bcb"
I0304 08:26:28.436564       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:28.442449       1 gateway.go:562] latency, 0.0000, summary, hash(request), 87be11f7, selectedpod, 10.0.0.34:8000, ttft, 119, tpot, 19, e2e, 293, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:28.442468       1 gateway.go:748] "Request completed" requestID="058bacea-3354-42e8-8624-26bc1145135c" targetPod="10.0.0.34:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:28.442479       1 gateway.go:764] "HandleResponseBody completed" requestID="058bacea-3354-42e8-8624-26bc1145135c" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:28.481462       1 gateway.go:329] "-- In RequestBody processing ..." requestID="37c6ab7c-48f7-4cbc-9461-dc3ece9a4bcb"
I0304 08:26:28.481597       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="37c6ab7c-48f7-4cbc-9461-dc3ece9a4bcb" model="deepseek-llm-7b-chat"
I0304 08:26:28.481642       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:28.481648       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:28.481652       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:28.481781       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:28.481811       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:28.481817       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:28.531872       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0500, numInputTokens, 3755
I0304 08:26:28.531893       1 tree.go:471] Updated node(0) last access: 146.0338 seconds
I0304 08:26:28.531899       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:28.531903       1 tree.go:471] Updated node(2) last access: 146.0338 seconds
I0304 08:26:28.531912       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:28.531918       1 tree.go:471] Updated node(12) last access: 146.0338 seconds
I0304 08:26:28.531928       1 tree.go:667] Split complete - New node(230)
I0304 08:26:28.531935       1 tree.go:668] Split complete - Child node(159)
I0304 08:26:28.531939       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:28.531943       1 tree.go:471] Updated node(230) last access: 146.0338 seconds
I0304 08:26:28.531948       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:28.531952       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:28.531959       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:28.531966       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:28.531970       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:28.531954395 +0000 UTC m=+146.152176820]
I0304 08:26:28.531993       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3637, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:28.531999       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:28.532046       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3637
I0304 08:26:28.532055       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:28.532072       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.532080       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.532085       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.532089       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.532093       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:28.532101       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:28.532110       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:28.532122       1 prefix_cache_and_load.go:584] latency, Route, 0.0505
I0304 08:26:28.532136       1 gateway.go:415] latency, selectTargetPod, 0.0505, target pod, 10.0.0.6:8000
I0304 08:26:28.532147       1 gateway.go:235] latency, HandleRequestBody, 0.0507
I0304 08:26:28.548218       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="37c6ab7c-48f7-4cbc-9461-dc3ece9a4bcb"
I0304 08:26:28.593626       1 gateway.go:608] "First token received" requestID="37c6ab7c-48f7-4cbc-9461-dc3ece9a4bcb" ttft_ms=112
I0304 08:26:28.769032       1 gateway.go:562] latency, 0.0000, summary, hash(request), 546e4c37, selectedpod, 10.0.0.6:8000, ttft, 112, tpot, 19, e2e, 287, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:28.769049       1 gateway.go:748] "Request completed" requestID="37c6ab7c-48f7-4cbc-9461-dc3ece9a4bcb" targetPod="10.0.0.6:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:28.769058       1 gateway.go:764] "HandleResponseBody completed" requestID="37c6ab7c-48f7-4cbc-9461-dc3ece9a4bcb" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:29.174615       1 gateway.go:207] "Processing request" requestID="d0eca9a8-c9b0-4272-b01f-9d8d4cec44a3"
I0304 08:26:29.174650       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d0eca9a8-c9b0-4272-b01f-9d8d4cec44a3"
I0304 08:26:29.174659       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:29.216999       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d0eca9a8-c9b0-4272-b01f-9d8d4cec44a3"
I0304 08:26:29.217139       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d0eca9a8-c9b0-4272-b01f-9d8d4cec44a3" model="deepseek-llm-7b-chat"
I0304 08:26:29.217191       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:29.217198       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:29.217201       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:29.217390       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:29.217424       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:29.217431       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:29.267260       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0498, numInputTokens, 3753
I0304 08:26:29.267282       1 tree.go:471] Updated node(0) last access: 146.7691 seconds
I0304 08:26:29.267288       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:29.267291       1 tree.go:471] Updated node(2) last access: 146.7692 seconds
I0304 08:26:29.267300       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:29.267304       1 tree.go:471] Updated node(30) last access: 146.7692 seconds
I0304 08:26:29.267312       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:29.267319       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:29.267328       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:29.267338       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:29.267347       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:29.267321613 +0000 UTC m=+146.887544039]
I0304 08:26:29.267366       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3633, Matching ratio: 0.9680, # Matched pods: 0, Matched pods: []
I0304 08:26:29.267375       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9680 > 0.5000)
I0304 08:26:29.267435       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3633
I0304 08:26:29.267445       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:29.267454       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.267461       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.267467       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.267472       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.267479       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:29.267488       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:29.267498       1 prefix_cache_and_load.go:584] latency, Route, 0.0503
I0304 08:26:29.267518       1 gateway.go:415] latency, selectTargetPod, 0.0503, target pod, 10.0.0.13:8000
I0304 08:26:29.267536       1 gateway.go:235] latency, HandleRequestBody, 0.0505
I0304 08:26:29.285065       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d0eca9a8-c9b0-4272-b01f-9d8d4cec44a3"
I0304 08:26:29.316261       1 gateway.go:608] "First token received" requestID="d0eca9a8-c9b0-4272-b01f-9d8d4cec44a3" ttft_ms=99
I0304 08:26:29.491708       1 gateway.go:562] latency, 0.0000, summary, hash(request), 18dd85d7, selectedpod, 10.0.0.13:8000, ttft, 99, tpot, 19, e2e, 274, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:29.491728       1 gateway.go:748] "Request completed" requestID="d0eca9a8-c9b0-4272-b01f-9d8d4cec44a3" targetPod="10.0.0.13:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:29.491738       1 gateway.go:764] "HandleResponseBody completed" requestID="d0eca9a8-c9b0-4272-b01f-9d8d4cec44a3" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:29.564892       1 gateway.go:207] "Processing request" requestID="40d82168-040c-4ac4-aea9-be1602d23b75"
I0304 08:26:29.564919       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="40d82168-040c-4ac4-aea9-be1602d23b75"
I0304 08:26:29.564929       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:29.609888       1 gateway.go:207] "Processing request" requestID="1886b48c-3185-446b-9505-60fc4050ff84"
I0304 08:26:29.609921       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1886b48c-3185-446b-9505-60fc4050ff84"
I0304 08:26:29.609928       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:29.620024       1 gateway.go:329] "-- In RequestBody processing ..." requestID="40d82168-040c-4ac4-aea9-be1602d23b75"
I0304 08:26:29.620150       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="40d82168-040c-4ac4-aea9-be1602d23b75" model="deepseek-llm-7b-chat"
I0304 08:26:29.620231       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:29.620238       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:29.620242       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:29.620388       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:29.620417       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:29.620423       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:29.667809       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0474, numInputTokens, 3757
I0304 08:26:29.667827       1 tree.go:471] Updated node(0) last access: 147.1697 seconds
I0304 08:26:29.667833       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:29.667836       1 tree.go:471] Updated node(2) last access: 147.1697 seconds
I0304 08:26:29.667844       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:29.667848       1 tree.go:471] Updated node(22) last access: 147.1697 seconds
I0304 08:26:29.667854       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:26:29.667860       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:26:29.667867       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:29.667873       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:29.667878       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:29.667862433 +0000 UTC m=+147.288084859]
I0304 08:26:29.667893       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:26:29.667902       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:26:29.667953       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:29.667963       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:29.667981       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.667988       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.667992       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.667997       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.668005       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:29.668016       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:29.668025       1 prefix_cache_and_load.go:584] latency, Route, 0.0478
I0304 08:26:29.668035       1 gateway.go:415] latency, selectTargetPod, 0.0478, target pod, 10.0.1.33:8000
I0304 08:26:29.668046       1 gateway.go:235] latency, HandleRequestBody, 0.0480
I0304 08:26:29.671088       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1886b48c-3185-446b-9505-60fc4050ff84"
I0304 08:26:29.671232       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1886b48c-3185-446b-9505-60fc4050ff84" model="deepseek-llm-7b-chat"
I0304 08:26:29.671275       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:29.671281       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:29.671284       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:29.671439       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:29.671469       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:29.671476       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:29.674245       1 gateway.go:207] "Processing request" requestID="0cffb291-b10d-43e2-8bd8-5ce482010025"
I0304 08:26:29.674273       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0cffb291-b10d-43e2-8bd8-5ce482010025"
I0304 08:26:29.674281       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:29.684702       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="40d82168-040c-4ac4-aea9-be1602d23b75"
I0304 08:26:29.718840       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0cffb291-b10d-43e2-8bd8-5ce482010025"
I0304 08:26:29.719125       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0cffb291-b10d-43e2-8bd8-5ce482010025" model="deepseek-llm-7b-chat"
I0304 08:26:29.721635       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0501, numInputTokens, 3751
I0304 08:26:29.721654       1 tree.go:471] Updated node(0) last access: 147.2235 seconds
I0304 08:26:29.721660       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:29.721665       1 tree.go:471] Updated node(2) last access: 147.2235 seconds
I0304 08:26:29.721676       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:29.721682       1 tree.go:471] Updated node(30) last access: 147.2235 seconds
I0304 08:26:29.721692       1 tree.go:667] Split complete - New node(234)
I0304 08:26:29.721697       1 tree.go:668] Split complete - Child node(114)
I0304 08:26:29.721702       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0304 08:26:29.721710       1 tree.go:471] Updated node(234) last access: 147.2236 seconds
I0304 08:26:29.721715       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0304 08:26:29.721718       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:26:29.721724       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:29.721731       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:29.721736       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:29.721720306 +0000 UTC m=+147.341942732]
I0304 08:26:29.721756       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3642, Matching ratio: 0.9709, # Matched pods: 0, Matched pods: []
I0304 08:26:29.721764       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9709 > 0.5000)
I0304 08:26:29.721815       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3642
I0304 08:26:29.721826       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:29.721836       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.721842       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.721846       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.721850       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.721856       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.721864       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:29.721873       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:29.721885       1 prefix_cache_and_load.go:584] latency, Route, 0.0506
I0304 08:26:29.721898       1 gateway.go:415] latency, selectTargetPod, 0.0506, target pod, 10.0.0.13:8000
I0304 08:26:29.721913       1 gateway.go:235] latency, HandleRequestBody, 0.0508
I0304 08:26:29.721943       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0027
I0304 08:26:29.721948       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:29.721951       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:29.722061       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:29.722097       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:29.722102       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:29.730104       1 gateway.go:608] "First token received" requestID="40d82168-040c-4ac4-aea9-be1602d23b75" ttft_ms=110
I0304 08:26:29.739395       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1886b48c-3185-446b-9505-60fc4050ff84"
I0304 08:26:29.769525       1 gateway.go:608] "First token received" requestID="1886b48c-3185-446b-9505-60fc4050ff84" ttft_ms=98
I0304 08:26:29.796368       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0743, numInputTokens, 3751
I0304 08:26:29.796385       1 tree.go:471] Updated node(0) last access: 147.2982 seconds
I0304 08:26:29.796391       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:29.796394       1 tree.go:471] Updated node(2) last access: 147.2983 seconds
I0304 08:26:29.796403       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:29.796409       1 tree.go:471] Updated node(9) last access: 147.2983 seconds
I0304 08:26:29.796414       1 tree.go:490] Partial tokens match child node(170). Continue to go deeper in the radix tree
I0304 08:26:29.796418       1 tree.go:471] Updated node(170) last access: 147.2983 seconds
I0304 08:26:29.796424       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:29.796428       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3751 tokens
I0304 08:26:29.796436       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:29.796441       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:29.796448       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:29.796431705 +0000 UTC m=+147.416654131]
I0304 08:26:29.796463       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3636, Matching ratio: 0.9693, # Matched pods: 0, Matched pods: []
I0304 08:26:29.796470       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9693 > 0.5000)
I0304 08:26:29.796530       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3636
I0304 08:26:29.796540       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:29.796548       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.796556       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.796563       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.796567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.796569       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:29.796577       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:29.796585       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:29.796596       1 prefix_cache_and_load.go:584] latency, Route, 0.0774
I0304 08:26:29.796603       1 gateway.go:415] latency, selectTargetPod, 0.0774, target pod, 10.0.0.34:8000
I0304 08:26:29.796613       1 gateway.go:235] latency, HandleRequestBody, 0.0778
I0304 08:26:29.812869       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0cffb291-b10d-43e2-8bd8-5ce482010025"
I0304 08:26:29.843995       1 gateway.go:608] "First token received" requestID="0cffb291-b10d-43e2-8bd8-5ce482010025" ttft_ms=125
I0304 08:26:29.905178       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0d92cecc, selectedpod, 10.0.1.33:8000, ttft, 110, tpot, 19, e2e, 285, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:29.905198       1 gateway.go:748] "Request completed" requestID="40d82168-040c-4ac4-aea9-be1602d23b75" targetPod="10.0.1.33:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:29.905211       1 gateway.go:764] "HandleResponseBody completed" requestID="40d82168-040c-4ac4-aea9-be1602d23b75" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:29.915789       1 gateway.go:207] "Processing request" requestID="9a75b6fa-7d78-4f7c-9b9d-ffa0404f1be1"
I0304 08:26:29.915814       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9a75b6fa-7d78-4f7c-9b9d-ffa0404f1be1"
I0304 08:26:29.915822       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:29.945133       1 gateway.go:562] latency, 0.0000, summary, hash(request), 772ed411, selectedpod, 10.0.0.13:8000, ttft, 98, tpot, 19, e2e, 274, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:29.945154       1 gateway.go:748] "Request completed" requestID="1886b48c-3185-446b-9505-60fc4050ff84" targetPod="10.0.0.13:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:29.945164       1 gateway.go:764] "HandleResponseBody completed" requestID="1886b48c-3185-446b-9505-60fc4050ff84" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:29.974104       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9a75b6fa-7d78-4f7c-9b9d-ffa0404f1be1"
I0304 08:26:29.974222       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9a75b6fa-7d78-4f7c-9b9d-ffa0404f1be1" model="deepseek-llm-7b-chat"
I0304 08:26:29.974286       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:29.974292       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:29.974295       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:29.974420       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:29.974453       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:29.974458       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:29.992058       1 gateway.go:207] "Processing request" requestID="507cfe69-7947-4368-ac2c-1e888bc16afb"
I0304 08:26:29.992097       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="507cfe69-7947-4368-ac2c-1e888bc16afb"
I0304 08:26:29.992108       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:30.019589       1 gateway.go:562] latency, 0.0000, summary, hash(request), ed9efc68, selectedpod, 10.0.0.34:8000, ttft, 125, tpot, 19, e2e, 300, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:30.019620       1 gateway.go:748] "Request completed" requestID="0cffb291-b10d-43e2-8bd8-5ce482010025" targetPod="10.0.0.34:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:30.019636       1 gateway.go:764] "HandleResponseBody completed" requestID="0cffb291-b10d-43e2-8bd8-5ce482010025" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:30.020186       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0457, numInputTokens, 3757
I0304 08:26:30.020205       1 tree.go:471] Updated node(0) last access: 147.5221 seconds
I0304 08:26:30.020212       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:30.020217       1 tree.go:471] Updated node(2) last access: 147.5221 seconds
I0304 08:26:30.020228       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:30.020232       1 tree.go:471] Updated node(30) last access: 147.5221 seconds
I0304 08:26:30.020242       1 tree.go:667] Split complete - New node(237)
I0304 08:26:30.020245       1 tree.go:668] Split complete - Child node(204)
I0304 08:26:30.020251       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0304 08:26:30.020256       1 tree.go:471] Updated node(237) last access: 147.5221 seconds
I0304 08:26:30.020264       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:30.020268       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:30.020275       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:30.020282       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:30.020288       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:30.020270558 +0000 UTC m=+147.640492990]
I0304 08:26:30.020305       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3637, Matching ratio: 0.9681, # Matched pods: 0, Matched pods: []
I0304 08:26:30.020313       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9681 > 0.5000)
I0304 08:26:30.020381       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3637
I0304 08:26:30.020392       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:30.020402       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.020410       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.020416       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.020422       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.020425       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.020437       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:30.020448       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:30.020459       1 prefix_cache_and_load.go:584] latency, Route, 0.0462
I0304 08:26:30.020469       1 gateway.go:415] latency, selectTargetPod, 0.0462, target pod, 10.0.0.13:8000
I0304 08:26:30.020481       1 gateway.go:235] latency, HandleRequestBody, 0.0464
I0304 08:26:30.031115       1 gateway.go:329] "-- In RequestBody processing ..." requestID="507cfe69-7947-4368-ac2c-1e888bc16afb"
I0304 08:26:30.031246       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="507cfe69-7947-4368-ac2c-1e888bc16afb" model="deepseek-llm-7b-chat"
I0304 08:26:30.031289       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:30.031296       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:30.031299       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:30.031446       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:30.031487       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:30.031493       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:30.037933       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9a75b6fa-7d78-4f7c-9b9d-ffa0404f1be1"
I0304 08:26:30.082776       1 gateway.go:608] "First token received" requestID="9a75b6fa-7d78-4f7c-9b9d-ffa0404f1be1" ttft_ms=108
I0304 08:26:30.097539       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0660, numInputTokens, 3756
I0304 08:26:30.097558       1 tree.go:471] Updated node(0) last access: 147.5994 seconds
I0304 08:26:30.097565       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:30.097569       1 tree.go:471] Updated node(2) last access: 147.5994 seconds
I0304 08:26:30.097578       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:30.097582       1 tree.go:471] Updated node(37) last access: 147.5994 seconds
I0304 08:26:30.097593       1 tree.go:667] Split complete - New node(239)
I0304 08:26:30.097597       1 tree.go:668] Split complete - Child node(42)
I0304 08:26:30.097602       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:30.097606       1 tree.go:471] Updated node(239) last access: 147.5995 seconds
I0304 08:26:30.097611       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:30.097616       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:30.097622       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:30.097627       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:30.097632       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:30.097617834 +0000 UTC m=+147.717840261]
I0304 08:26:30.097648       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3638, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:30.097655       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:30.097714       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3638
I0304 08:26:30.097723       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:30.097730       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.097735       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.097739       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.097745       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.097750       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.097758       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:30.097768       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:30.097779       1 prefix_cache_and_load.go:584] latency, Route, 0.0665
I0304 08:26:30.097789       1 gateway.go:415] latency, selectTargetPod, 0.0665, target pod, 10.0.1.47:8000
I0304 08:26:30.097802       1 gateway.go:235] latency, HandleRequestBody, 0.0667
I0304 08:26:30.115967       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="507cfe69-7947-4368-ac2c-1e888bc16afb"
I0304 08:26:30.149998       1 gateway.go:207] "Processing request" requestID="2712c45b-24db-4fbf-9719-ca9212ac3954"
I0304 08:26:30.150060       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2712c45b-24db-4fbf-9719-ca9212ac3954"
I0304 08:26:30.150074       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:30.161528       1 gateway.go:608] "First token received" requestID="507cfe69-7947-4368-ac2c-1e888bc16afb" ttft_ms=130
I0304 08:26:30.164810       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2712c45b-24db-4fbf-9719-ca9212ac3954"
I0304 08:26:30.164931       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2712c45b-24db-4fbf-9719-ca9212ac3954" model="deepseek-llm-7b-chat"
I0304 08:26:30.164986       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:30.164993       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:30.164996       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:30.165122       1 gateway.go:207] "Processing request" requestID="ae4ab2ee-0506-4b0d-9bb9-def0c78b5a15"
I0304 08:26:30.165145       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:30.165154       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ae4ab2ee-0506-4b0d-9bb9-def0c78b5a15"
I0304 08:26:30.165165       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:30.165177       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:30.165183       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:30.166784       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ae4ab2ee-0506-4b0d-9bb9-def0c78b5a15"
I0304 08:26:30.166902       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ae4ab2ee-0506-4b0d-9bb9-def0c78b5a15" model="deepseek-llm-7b-chat"
I0304 08:26:30.212830       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0476, numInputTokens, 3752
I0304 08:26:30.212847       1 tree.go:471] Updated node(0) last access: 147.7147 seconds
I0304 08:26:30.212853       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:30.212857       1 tree.go:471] Updated node(2) last access: 147.7147 seconds
I0304 08:26:30.212865       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:30.212870       1 tree.go:471] Updated node(40) last access: 147.7147 seconds
I0304 08:26:30.212873       1 tree.go:490] Partial tokens match child node(222). Continue to go deeper in the radix tree
I0304 08:26:30.212878       1 tree.go:471] Updated node(222) last access: 147.7147 seconds
I0304 08:26:30.212890       1 tree.go:667] Split complete - New node(241)
I0304 08:26:30.212894       1 tree.go:668] Split complete - Child node(223)
I0304 08:26:30.212899       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0304 08:26:30.212904       1 tree.go:471] Updated node(241) last access: 147.7148 seconds
I0304 08:26:30.212908       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:30.212912       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:30.212920       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:30.212927       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:30.212931       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:30.212915615 +0000 UTC m=+147.833138041]
I0304 08:26:30.212947       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3638, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:30.212954       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:30.213016       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3638
I0304 08:26:30.213025       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:30.213034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.213038       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.213042       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.213048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.213051       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.213055       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.213064       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:30.213073       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:30.213083       1 prefix_cache_and_load.go:584] latency, Route, 0.0481
I0304 08:26:30.213099       1 gateway.go:415] latency, selectTargetPod, 0.0481, target pod, 10.0.1.47:8000
I0304 08:26:30.213114       1 gateway.go:235] latency, HandleRequestBody, 0.0483
I0304 08:26:30.213112       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0462
I0304 08:26:30.213121       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:30.213128       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:30.213257       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:30.213296       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:30.213301       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:30.229283       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2712c45b-24db-4fbf-9719-ca9212ac3954"
I0304 08:26:30.258781       1 gateway.go:562] latency, 0.0000, summary, hash(request), ee6e8d4e, selectedpod, 10.0.0.13:8000, ttft, 108, tpot, 19, e2e, 284, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:30.258814       1 gateway.go:748] "Request completed" requestID="9a75b6fa-7d78-4f7c-9b9d-ffa0404f1be1" targetPod="10.0.0.13:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:30.258832       1 gateway.go:764] "HandleResponseBody completed" requestID="9a75b6fa-7d78-4f7c-9b9d-ffa0404f1be1" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:30.270099       1 gateway.go:608] "First token received" requestID="2712c45b-24db-4fbf-9719-ca9212ac3954" ttft_ms=105
I0304 08:26:30.288769       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0755, numInputTokens, 3751
I0304 08:26:30.288787       1 tree.go:471] Updated node(0) last access: 147.7906 seconds
I0304 08:26:30.288793       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:30.288796       1 tree.go:471] Updated node(2) last access: 147.7907 seconds
I0304 08:26:30.288804       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:30.288807       1 tree.go:471] Updated node(26) last access: 147.7907 seconds
I0304 08:26:30.288811       1 tree.go:490] Partial tokens match child node(149). Continue to go deeper in the radix tree
I0304 08:26:30.288814       1 tree.go:471] Updated node(149) last access: 147.7907 seconds
I0304 08:26:30.288820       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:30.288826       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3751 tokens
I0304 08:26:30.288833       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:30.288840       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:30.288844       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:30.288828189 +0000 UTC m=+147.909050615]
I0304 08:26:30.288860       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3635, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:30.288867       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:30.288923       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3635
I0304 08:26:30.288932       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:30.288941       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.288947       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.288953       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.288957       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.288962       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.288970       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:30.288988       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:30.288999       1 prefix_cache_and_load.go:584] latency, Route, 0.1220
I0304 08:26:30.289008       1 gateway.go:415] latency, selectTargetPod, 0.1221, target pod, 10.0.3.38:8000
I0304 08:26:30.289018       1 gateway.go:235] latency, HandleRequestBody, 0.1222
I0304 08:26:30.304228       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ae4ab2ee-0506-4b0d-9bb9-def0c78b5a15"
I0304 08:26:30.335445       1 gateway.go:608] "First token received" requestID="ae4ab2ee-0506-4b0d-9bb9-def0c78b5a15" ttft_ms=168
I0304 08:26:30.379504       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0ca3d331, selectedpod, 10.0.1.47:8000, ttft, 130, tpot, 24, e2e, 348, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:30.379536       1 gateway.go:748] "Request completed" requestID="507cfe69-7947-4368-ac2c-1e888bc16afb" targetPod="10.0.1.47:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:30.379547       1 gateway.go:764] "HandleResponseBody completed" requestID="507cfe69-7947-4368-ac2c-1e888bc16afb" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:30.459970       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1cf55e59, selectedpod, 10.0.1.47:8000, ttft, 105, tpot, 21, e2e, 295, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:30.459998       1 gateway.go:748] "Request completed" requestID="2712c45b-24db-4fbf-9719-ca9212ac3954" targetPod="10.0.1.47:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:30.460006       1 gateway.go:764] "HandleResponseBody completed" requestID="2712c45b-24db-4fbf-9719-ca9212ac3954" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:30.473844       1 gateway.go:207] "Processing request" requestID="00fcfa41-e236-423e-9ca2-bd8ff840b153"
I0304 08:26:30.473869       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="00fcfa41-e236-423e-9ca2-bd8ff840b153"
I0304 08:26:30.473878       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:30.511137       1 gateway.go:562] latency, 0.0000, summary, hash(request), b9fb6614, selectedpod, 10.0.3.38:8000, ttft, 168, tpot, 19, e2e, 344, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:30.511157       1 gateway.go:748] "Request completed" requestID="ae4ab2ee-0506-4b0d-9bb9-def0c78b5a15" targetPod="10.0.3.38:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:30.511167       1 gateway.go:764] "HandleResponseBody completed" requestID="ae4ab2ee-0506-4b0d-9bb9-def0c78b5a15" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:30.527438       1 gateway.go:329] "-- In RequestBody processing ..." requestID="00fcfa41-e236-423e-9ca2-bd8ff840b153"
I0304 08:26:30.533159       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="00fcfa41-e236-423e-9ca2-bd8ff840b153" model="deepseek-llm-7b-chat"
I0304 08:26:30.533211       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:30.533216       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:30.533220       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:30.533413       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:30.533444       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:30.533450       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:30.560487       1 gateway.go:207] "Processing request" requestID="07992c01-4190-416a-817b-583dd148ddc3"
I0304 08:26:30.560529       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="07992c01-4190-416a-817b-583dd148ddc3"
I0304 08:26:30.560540       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:30.562727       1 gateway.go:329] "-- In RequestBody processing ..." requestID="07992c01-4190-416a-817b-583dd148ddc3"
I0304 08:26:30.562860       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="07992c01-4190-416a-817b-583dd148ddc3" model="deepseek-llm-7b-chat"
I0304 08:26:30.583560       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0501, numInputTokens, 3756
I0304 08:26:30.583575       1 tree.go:471] Updated node(0) last access: 148.0854 seconds
I0304 08:26:30.583581       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:30.583585       1 tree.go:471] Updated node(2) last access: 148.0854 seconds
I0304 08:26:30.583592       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:30.583595       1 tree.go:471] Updated node(30) last access: 148.0855 seconds
I0304 08:26:30.583601       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:30.583607       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:30.583614       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:30.583621       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:30.583626       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:30.583609429 +0000 UTC m=+148.203831855]
I0304 08:26:30.583646       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:30.583652       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:30.583705       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3633
I0304 08:26:30.583719       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:30.583732       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.583742       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.583749       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.583756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.583764       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:30.583773       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:30.583782       1 prefix_cache_and_load.go:584] latency, Route, 0.0506
I0304 08:26:30.583801       1 gateway.go:415] latency, selectTargetPod, 0.0506, target pod, 10.0.0.13:8000
I0304 08:26:30.583813       1 gateway.go:235] latency, HandleRequestBody, 0.0564
I0304 08:26:30.583841       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0209
I0304 08:26:30.583845       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:30.583848       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:30.583962       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:30.584002       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:30.584007       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:30.600100       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="00fcfa41-e236-423e-9ca2-bd8ff840b153"
I0304 08:26:30.622023       1 gateway.go:207] "Processing request" requestID="7c754fe9-964a-4274-b7e3-1b2b5365ee51"
I0304 08:26:30.622052       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7c754fe9-964a-4274-b7e3-1b2b5365ee51"
I0304 08:26:30.622060       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:30.623191       1 gateway.go:207] "Processing request" requestID="3a78ebfb-4920-40af-9710-af42657419ec"
I0304 08:26:30.623225       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3a78ebfb-4920-40af-9710-af42657419ec"
I0304 08:26:30.623236       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:30.625395       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3a78ebfb-4920-40af-9710-af42657419ec"
I0304 08:26:30.625540       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3a78ebfb-4920-40af-9710-af42657419ec" model="deepseek-llm-7b-chat"
I0304 08:26:30.630618       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0466, numInputTokens, 3758
I0304 08:26:30.630633       1 tree.go:471] Updated node(0) last access: 148.1325 seconds
I0304 08:26:30.630639       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:30.630643       1 tree.go:471] Updated node(2) last access: 148.1325 seconds
I0304 08:26:30.630652       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:30.630656       1 tree.go:471] Updated node(26) last access: 148.1325 seconds
I0304 08:26:30.630664       1 tree.go:667] Split complete - New node(245)
I0304 08:26:30.630671       1 tree.go:668] Split complete - Child node(101)
I0304 08:26:30.630677       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0304 08:26:30.630683       1 tree.go:471] Updated node(245) last access: 148.1325 seconds
I0304 08:26:30.630689       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:30.630693       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3758 tokens
I0304 08:26:30.630699       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:30.630706       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:30.630711       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:30.630695235 +0000 UTC m=+148.250917660]
I0304 08:26:30.630726       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3640, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:30.630733       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:30.630788       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3640
I0304 08:26:30.630797       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:30.630805       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.630811       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.630815       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.630819       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.630827       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.630838       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:30.630846       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:30.630856       1 prefix_cache_and_load.go:584] latency, Route, 0.0679
I0304 08:26:30.630868       1 gateway.go:415] latency, selectTargetPod, 0.0680, target pod, 10.0.3.38:8000
I0304 08:26:30.630878       1 gateway.go:235] latency, HandleRequestBody, 0.0682
I0304 08:26:30.630901       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0053
I0304 08:26:30.630907       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:30.630911       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:30.631020       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:30.631049       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:30.631055       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:30.645822       1 gateway.go:608] "First token received" requestID="00fcfa41-e236-423e-9ca2-bd8ff840b153" ttft_ms=118
I0304 08:26:30.646002       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="07992c01-4190-416a-817b-583dd148ddc3"
I0304 08:26:30.669751       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7c754fe9-964a-4274-b7e3-1b2b5365ee51"
I0304 08:26:30.669881       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7c754fe9-964a-4274-b7e3-1b2b5365ee51" model="deepseek-llm-7b-chat"
I0304 08:26:30.675132       1 gateway.go:207] "Processing request" requestID="8d59bbd1-74a1-49bc-9e6f-65a1b0eb38d5"
I0304 08:26:30.675163       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8d59bbd1-74a1-49bc-9e6f-65a1b0eb38d5"
I0304 08:26:30.675174       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:30.690700       1 gateway.go:608] "First token received" requestID="07992c01-4190-416a-817b-583dd148ddc3" ttft_ms=127
I0304 08:26:30.703770       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0727, numInputTokens, 3754
I0304 08:26:30.703787       1 tree.go:471] Updated node(0) last access: 148.2056 seconds
I0304 08:26:30.703793       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:30.703796       1 tree.go:471] Updated node(2) last access: 148.2057 seconds
I0304 08:26:30.703805       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:30.703808       1 tree.go:471] Updated node(12) last access: 148.2057 seconds
I0304 08:26:30.703814       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:30.703820       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:30.703826       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:30.703833       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:30.703839       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:30.703822637 +0000 UTC m=+148.324045063]
I0304 08:26:30.703854       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:30.703860       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:30.703916       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3633
I0304 08:26:30.703925       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:30.703932       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.703938       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.703944       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.703948       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.703957       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:30.703968       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:30.703983       1 prefix_cache_and_load.go:584] latency, Route, 0.0784
I0304 08:26:30.703996       1 gateway.go:415] latency, selectTargetPod, 0.0784, target pod, 10.0.0.6:8000
I0304 08:26:30.704008       1 gateway.go:235] latency, HandleRequestBody, 0.0786
I0304 08:26:30.704038       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0341
I0304 08:26:30.704045       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:30.704048       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:30.704154       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:30.704184       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:30.704188       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:30.724466       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3a78ebfb-4920-40af-9710-af42657419ec"
I0304 08:26:30.728588       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8d59bbd1-74a1-49bc-9e6f-65a1b0eb38d5"
I0304 08:26:30.728766       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8d59bbd1-74a1-49bc-9e6f-65a1b0eb38d5" model="deepseek-llm-7b-chat"
I0304 08:26:30.749653       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0455, numInputTokens, 3755
I0304 08:26:30.749667       1 tree.go:471] Updated node(0) last access: 148.2515 seconds
I0304 08:26:30.749673       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:30.749676       1 tree.go:471] Updated node(2) last access: 148.2515 seconds
I0304 08:26:30.749684       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:30.749689       1 tree.go:471] Updated node(5) last access: 148.2516 seconds
I0304 08:26:30.749692       1 tree.go:490] Partial tokens match child node(178). Continue to go deeper in the radix tree
I0304 08:26:30.749695       1 tree.go:471] Updated node(178) last access: 148.2516 seconds
I0304 08:26:30.749700       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:30.749706       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:30.749713       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:30.749718       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:30.749723       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:30.749708816 +0000 UTC m=+148.369931242]
I0304 08:26:30.749737       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3639, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:30.749745       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:30.749796       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3639
I0304 08:26:30.749805       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:30.749812       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.749819       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.749824       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.749827       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.749833       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.749840       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:30.749853       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:30.749861       1 prefix_cache_and_load.go:584] latency, Route, 0.0799
I0304 08:26:30.749873       1 gateway.go:415] latency, selectTargetPod, 0.0799, target pod, 10.0.3.28:8000
I0304 08:26:30.749882       1 gateway.go:235] latency, HandleRequestBody, 0.0801
I0304 08:26:30.749883       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0211
I0304 08:26:30.749892       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:30.749900       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:30.750084       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:30.750124       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:30.750132       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:30.755591       1 gateway.go:608] "First token received" requestID="3a78ebfb-4920-40af-9710-af42657419ec" ttft_ms=130
I0304 08:26:30.764916       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7c754fe9-964a-4274-b7e3-1b2b5365ee51"
I0304 08:26:30.810496       1 gateway.go:608] "First token received" requestID="7c754fe9-964a-4274-b7e3-1b2b5365ee51" ttft_ms=140
I0304 08:26:30.814473       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0643, numInputTokens, 3754
I0304 08:26:30.814493       1 tree.go:471] Updated node(0) last access: 148.3164 seconds
I0304 08:26:30.814499       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:30.814502       1 tree.go:471] Updated node(2) last access: 148.3164 seconds
I0304 08:26:30.814520       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:30.814523       1 tree.go:471] Updated node(26) last access: 148.3164 seconds
I0304 08:26:30.814529       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:30.814535       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:30.814542       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:30.814549       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:30.814554       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:30.814537329 +0000 UTC m=+148.434759755]
I0304 08:26:30.814568       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:30.814577       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:30.814626       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3633
I0304 08:26:30.814635       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:30.814643       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.814650       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.814655       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.814661       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:30.814669       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:30.814677       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:30.814688       1 prefix_cache_and_load.go:584] latency, Route, 0.0859
I0304 08:26:30.814698       1 gateway.go:415] latency, selectTargetPod, 0.0859, target pod, 10.0.3.38:8000
I0304 08:26:30.814714       1 gateway.go:235] latency, HandleRequestBody, 0.0861
I0304 08:26:30.821857       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6b1a440a, selectedpod, 10.0.0.13:8000, ttft, 118, tpot, 19, e2e, 294, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:30.821878       1 gateway.go:748] "Request completed" requestID="00fcfa41-e236-423e-9ca2-bd8ff840b153" targetPod="10.0.0.13:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:30.821887       1 gateway.go:764] "HandleResponseBody completed" requestID="00fcfa41-e236-423e-9ca2-bd8ff840b153" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:30.829521       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8d59bbd1-74a1-49bc-9e6f-65a1b0eb38d5"
I0304 08:26:30.875184       1 gateway.go:608] "First token received" requestID="8d59bbd1-74a1-49bc-9e6f-65a1b0eb38d5" ttft_ms=146
I0304 08:26:30.898171       1 gateway.go:562] latency, 0.0000, summary, hash(request), 87b17898, selectedpod, 10.0.3.38:8000, ttft, 127, tpot, 23, e2e, 335, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:30.898191       1 gateway.go:748] "Request completed" requestID="07992c01-4190-416a-817b-583dd148ddc3" targetPod="10.0.3.38:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:30.898200       1 gateway.go:764] "HandleResponseBody completed" requestID="07992c01-4190-416a-817b-583dd148ddc3" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:30.931004       1 gateway.go:562] latency, 0.0000, summary, hash(request), e6fbb824, selectedpod, 10.0.0.6:8000, ttft, 130, tpot, 19, e2e, 305, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:30.931016       1 gateway.go:748] "Request completed" requestID="3a78ebfb-4920-40af-9710-af42657419ec" targetPod="10.0.0.6:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:30.931023       1 gateway.go:764] "HandleResponseBody completed" requestID="3a78ebfb-4920-40af-9710-af42657419ec" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:30.986051       1 gateway.go:562] latency, 0.0000, summary, hash(request), 93a42581, selectedpod, 10.0.3.28:8000, ttft, 140, tpot, 19, e2e, 316, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:30.986072       1 gateway.go:748] "Request completed" requestID="7c754fe9-964a-4274-b7e3-1b2b5365ee51" targetPod="10.0.3.28:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:30.986084       1 gateway.go:764] "HandleResponseBody completed" requestID="7c754fe9-964a-4274-b7e3-1b2b5365ee51" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:31.054285       1 gateway.go:562] latency, 0.0000, summary, hash(request), d31fbd58, selectedpod, 10.0.3.38:8000, ttft, 146, tpot, 19, e2e, 325, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:31.054301       1 gateway.go:748] "Request completed" requestID="8d59bbd1-74a1-49bc-9e6f-65a1b0eb38d5" targetPod="10.0.3.38:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:31.054311       1 gateway.go:764] "HandleResponseBody completed" requestID="8d59bbd1-74a1-49bc-9e6f-65a1b0eb38d5" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:31.138106       1 gateway.go:207] "Processing request" requestID="ec742616-ed36-4668-8467-a6d55e438fe9"
I0304 08:26:31.138137       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ec742616-ed36-4668-8467-a6d55e438fe9"
I0304 08:26:31.138145       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:31.181340       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ec742616-ed36-4668-8467-a6d55e438fe9"
I0304 08:26:31.181459       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ec742616-ed36-4668-8467-a6d55e438fe9" model="deepseek-llm-7b-chat"
I0304 08:26:31.181503       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:31.181509       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:31.181519       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:31.181684       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:31.181725       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:31.181730       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:31.228697       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0470, numInputTokens, 3751
I0304 08:26:31.228717       1 tree.go:471] Updated node(0) last access: 148.7306 seconds
I0304 08:26:31.228724       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:31.228729       1 tree.go:471] Updated node(2) last access: 148.7306 seconds
I0304 08:26:31.228740       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:31.228745       1 tree.go:471] Updated node(24) last access: 148.7306 seconds
I0304 08:26:31.228758       1 tree.go:667] Split complete - New node(250)
I0304 08:26:31.228764       1 tree.go:668] Split complete - Child node(216)
I0304 08:26:31.228771       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0304 08:26:31.228778       1 tree.go:471] Updated node(250) last access: 148.7306 seconds
I0304 08:26:31.228785       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:31.228791       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:26:31.228799       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:31.228806       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:31.228811       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:31.228794898 +0000 UTC m=+148.849017323]
I0304 08:26:31.228827       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3635, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:31.228836       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:31.228893       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3635
I0304 08:26:31.228902       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:31.228910       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.228915       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.228921       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.228925       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.228931       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.228938       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:31.228948       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:31.228957       1 prefix_cache_and_load.go:584] latency, Route, 0.0475
I0304 08:26:31.228966       1 gateway.go:415] latency, selectTargetPod, 0.0475, target pod, 10.0.1.53:8000
I0304 08:26:31.228987       1 gateway.go:235] latency, HandleRequestBody, 0.0476
I0304 08:26:31.245465       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ec742616-ed36-4668-8467-a6d55e438fe9"
I0304 08:26:31.276457       1 gateway.go:608] "First token received" requestID="ec742616-ed36-4668-8467-a6d55e438fe9" ttft_ms=95
I0304 08:26:31.376875       1 gateway.go:207] "Processing request" requestID="ba8224ec-fc26-4ebe-b668-631b45a64bfd"
I0304 08:26:31.376905       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ba8224ec-fc26-4ebe-b668-631b45a64bfd"
I0304 08:26:31.376912       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:31.430912       1 gateway.go:207] "Processing request" requestID="c4570e6d-d94c-4874-8c63-0fc46698c5b7"
I0304 08:26:31.430938       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c4570e6d-d94c-4874-8c63-0fc46698c5b7"
I0304 08:26:31.430946       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:31.439203       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ba8224ec-fc26-4ebe-b668-631b45a64bfd"
I0304 08:26:31.439388       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ba8224ec-fc26-4ebe-b668-631b45a64bfd" model="deepseek-llm-7b-chat"
I0304 08:26:31.439434       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:31.439440       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:31.439444       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:31.439610       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:31.439651       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:31.439657       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:31.451864       1 gateway.go:562] latency, 0.0000, summary, hash(request), f090ce07, selectedpod, 10.0.1.53:8000, ttft, 95, tpot, 19, e2e, 270, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:31.451886       1 gateway.go:748] "Request completed" requestID="ec742616-ed36-4668-8467-a6d55e438fe9" targetPod="10.0.1.53:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:31.451895       1 gateway.go:764] "HandleResponseBody completed" requestID="ec742616-ed36-4668-8467-a6d55e438fe9" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:31.464221       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c4570e6d-d94c-4874-8c63-0fc46698c5b7"
I0304 08:26:31.464345       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c4570e6d-d94c-4874-8c63-0fc46698c5b7" model="deepseek-llm-7b-chat"
I0304 08:26:31.488252       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0486, numInputTokens, 3753
I0304 08:26:31.488269       1 tree.go:471] Updated node(0) last access: 148.9901 seconds
I0304 08:26:31.488275       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:31.488279       1 tree.go:471] Updated node(2) last access: 148.9901 seconds
I0304 08:26:31.488286       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:31.488291       1 tree.go:471] Updated node(22) last access: 148.9902 seconds
I0304 08:26:31.488299       1 tree.go:667] Split complete - New node(252)
I0304 08:26:31.488303       1 tree.go:668] Split complete - Child node(210)
I0304 08:26:31.488308       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:31.488313       1 tree.go:471] Updated node(252) last access: 148.9902 seconds
I0304 08:26:31.488317       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:31.488322       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:31.488328       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:31.488335       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:31.488339       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:31.488324552 +0000 UTC m=+149.108546977]
I0304 08:26:31.488356       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3635, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:31.488366       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:31.488438       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3635
I0304 08:26:31.488452       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:31.488464       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.488469       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.488474       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.488480       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.488484       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.488492       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:31.488500       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:31.488521       1 prefix_cache_and_load.go:584] latency, Route, 0.0491
I0304 08:26:31.488537       1 gateway.go:415] latency, selectTargetPod, 0.0491, target pod, 10.0.1.33:8000
I0304 08:26:31.488550       1 gateway.go:235] latency, HandleRequestBody, 0.0494
I0304 08:26:31.488585       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0242
I0304 08:26:31.488590       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:31.488593       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:31.488700       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:31.488743       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:31.488750       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:31.505421       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ba8224ec-fc26-4ebe-b668-631b45a64bfd"
I0304 08:26:31.511485       1 gateway.go:207] "Processing request" requestID="2700d721-d715-4c47-a29f-7b39a917067f"
I0304 08:26:31.511508       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2700d721-d715-4c47-a29f-7b39a917067f"
I0304 08:26:31.511524       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:31.519811       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2700d721-d715-4c47-a29f-7b39a917067f"
I0304 08:26:31.533084       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2700d721-d715-4c47-a29f-7b39a917067f" model="deepseek-llm-7b-chat"
I0304 08:26:31.534603       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0458, numInputTokens, 3759
I0304 08:26:31.534621       1 tree.go:471] Updated node(0) last access: 149.0365 seconds
I0304 08:26:31.534627       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:31.534631       1 tree.go:471] Updated node(2) last access: 149.0365 seconds
I0304 08:26:31.534638       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:31.534641       1 tree.go:471] Updated node(22) last access: 149.0365 seconds
I0304 08:26:31.534644       1 tree.go:490] Partial tokens match child node(131). Continue to go deeper in the radix tree
I0304 08:26:31.534647       1 tree.go:471] Updated node(131) last access: 149.0365 seconds
I0304 08:26:31.534653       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:31.534659       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3759 tokens
I0304 08:26:31.534665       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3759 tokens
I0304 08:26:31.534672       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:31.534677       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:31.53466081 +0000 UTC m=+149.154883245]
I0304 08:26:31.534691       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3759, Matched tokens: 3637, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:31.534698       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:31.534754       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3637
I0304 08:26:31.534786       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:31.534795       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.534799       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.534803       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.534807       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.534813       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.534821       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:31.534830       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:31.534841       1 prefix_cache_and_load.go:584] latency, Route, 0.0704
I0304 08:26:31.534855       1 gateway.go:415] latency, selectTargetPod, 0.0705, target pod, 10.0.1.33:8000
I0304 08:26:31.534866       1 gateway.go:235] latency, HandleRequestBody, 0.0706
I0304 08:26:31.534887       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0017
I0304 08:26:31.534896       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:31.534899       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:31.535069       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:31.535103       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:31.535109       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:31.536722       1 gateway.go:608] "First token received" requestID="ba8224ec-fc26-4ebe-b668-631b45a64bfd" ttft_ms=97
I0304 08:26:31.551926       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c4570e6d-d94c-4874-8c63-0fc46698c5b7"
I0304 08:26:31.598627       1 gateway.go:608] "First token received" requestID="c4570e6d-d94c-4874-8c63-0fc46698c5b7" ttft_ms=134
I0304 08:26:31.610145       1 gateway.go:207] "Processing request" requestID="9cf1d9e9-f6af-4fbb-9055-fba65ad2e15c"
I0304 08:26:31.610163       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9cf1d9e9-f6af-4fbb-9055-fba65ad2e15c"
I0304 08:26:31.610171       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:31.611761       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0766, numInputTokens, 3752
I0304 08:26:31.611780       1 tree.go:471] Updated node(0) last access: 149.1136 seconds
I0304 08:26:31.611787       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:31.611790       1 tree.go:471] Updated node(2) last access: 149.1137 seconds
I0304 08:26:31.611799       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:31.611803       1 tree.go:471] Updated node(5) last access: 149.1137 seconds
I0304 08:26:31.611809       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:31.611814       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:31.611820       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:31.611827       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:31.611833       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:31.611816176 +0000 UTC m=+149.232038609]
I0304 08:26:31.611848       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3633, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:31.611854       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:31.611903       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3633
I0304 08:26:31.611912       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:31.611919       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.611925       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.611930       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.611934       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.611941       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:31.611950       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:31.611961       1 prefix_cache_and_load.go:584] latency, Route, 0.0788
I0304 08:26:31.611970       1 gateway.go:415] latency, selectTargetPod, 0.0788, target pod, 10.0.3.28:8000
I0304 08:26:31.611991       1 gateway.go:235] latency, HandleRequestBody, 0.0922
I0304 08:26:31.626711       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2700d721-d715-4c47-a29f-7b39a917067f"
I0304 08:26:31.660954       1 gateway.go:608] "First token received" requestID="2700d721-d715-4c47-a29f-7b39a917067f" ttft_ms=141
I0304 08:26:31.664117       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9cf1d9e9-f6af-4fbb-9055-fba65ad2e15c"
I0304 08:26:31.664236       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9cf1d9e9-f6af-4fbb-9055-fba65ad2e15c" model="deepseek-llm-7b-chat"
I0304 08:26:31.664295       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:31.664301       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:31.664303       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:31.664420       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:31.664452       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:31.664457       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:31.709551       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0451, numInputTokens, 3757
I0304 08:26:31.709566       1 tree.go:471] Updated node(0) last access: 149.2114 seconds
I0304 08:26:31.709572       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:31.709575       1 tree.go:471] Updated node(2) last access: 149.2114 seconds
I0304 08:26:31.709583       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:31.709588       1 tree.go:471] Updated node(40) last access: 149.2115 seconds
I0304 08:26:31.709596       1 tree.go:667] Split complete - New node(256)
I0304 08:26:31.709601       1 tree.go:668] Split complete - Child node(92)
I0304 08:26:31.709606       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0304 08:26:31.709611       1 tree.go:471] Updated node(256) last access: 149.2115 seconds
I0304 08:26:31.709616       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:31.709621       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:31.709626       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:31.709633       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:31.709638       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:31.709622959 +0000 UTC m=+149.329845385]
I0304 08:26:31.709652       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3641, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:31.709659       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:31.709705       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3641
I0304 08:26:31.709714       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:31.709721       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.709728       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.709731       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.709736       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.709741       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.709748       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:31.709758       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:31.709767       1 prefix_cache_and_load.go:584] latency, Route, 0.0455
I0304 08:26:31.709775       1 gateway.go:415] latency, selectTargetPod, 0.0455, target pod, 10.0.1.47:8000
I0304 08:26:31.709784       1 gateway.go:235] latency, HandleRequestBody, 0.0457
I0304 08:26:31.726087       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9cf1d9e9-f6af-4fbb-9055-fba65ad2e15c"
I0304 08:26:31.768628       1 gateway.go:562] latency, 0.0000, summary, hash(request), 95427ecf, selectedpod, 10.0.1.33:8000, ttft, 97, tpot, 25, e2e, 329, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:31.768647       1 gateway.go:748] "Request completed" requestID="ba8224ec-fc26-4ebe-b668-631b45a64bfd" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:31.768657       1 gateway.go:764] "HandleResponseBody completed" requestID="ba8224ec-fc26-4ebe-b668-631b45a64bfd" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:31.771553       1 gateway.go:608] "First token received" requestID="9cf1d9e9-f6af-4fbb-9055-fba65ad2e15c" ttft_ms=107
I0304 08:26:31.788370       1 gateway.go:207] "Processing request" requestID="aefe8d33-febc-43b7-87a3-f00d69ecbd09"
I0304 08:26:31.788402       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="aefe8d33-febc-43b7-87a3-f00d69ecbd09"
I0304 08:26:31.788410       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:31.790067       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6f9d8ad6, selectedpod, 10.0.1.33:8000, ttft, 134, tpot, 21, e2e, 325, numInputTokens, 3974, numOutputTokens, 10, numTotalTokens, 3984
I0304 08:26:31.790080       1 gateway.go:748] "Request completed" requestID="c4570e6d-d94c-4874-8c63-0fc46698c5b7" targetPod="10.0.1.33:8000" promptTokens=3974 completionTokens=10 totalTokens=3984
I0304 08:26:31.790087       1 gateway.go:764] "HandleResponseBody completed" requestID="c4570e6d-d94c-4874-8c63-0fc46698c5b7" promptTokens=3974 completionTokens=10 stream=true
I0304 08:26:31.798760       1 gateway.go:329] "-- In RequestBody processing ..." requestID="aefe8d33-febc-43b7-87a3-f00d69ecbd09"
I0304 08:26:31.798895       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="aefe8d33-febc-43b7-87a3-f00d69ecbd09" model="deepseek-llm-7b-chat"
I0304 08:26:31.798939       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:31.798945       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:31.798949       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:31.799090       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:31.799125       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:31.799131       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:31.833575       1 gateway.go:562] latency, 0.0000, summary, hash(request), f3df2c31, selectedpod, 10.0.3.28:8000, ttft, 141, tpot, 19, e2e, 313, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:31.833599       1 gateway.go:748] "Request completed" requestID="2700d721-d715-4c47-a29f-7b39a917067f" targetPod="10.0.3.28:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:31.833613       1 gateway.go:764] "HandleResponseBody completed" requestID="2700d721-d715-4c47-a29f-7b39a917067f" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:31.842142       1 gateway.go:207] "Processing request" requestID="2d54018e-0dcf-4c0a-9232-dea9f7f7006c"
I0304 08:26:31.842166       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2d54018e-0dcf-4c0a-9232-dea9f7f7006c"
I0304 08:26:31.842175       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:31.848367       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 3757
I0304 08:26:31.848389       1 tree.go:471] Updated node(0) last access: 149.3502 seconds
I0304 08:26:31.848398       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:31.848404       1 tree.go:471] Updated node(2) last access: 149.3503 seconds
I0304 08:26:31.848416       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:31.848420       1 tree.go:471] Updated node(12) last access: 149.3503 seconds
I0304 08:26:31.848425       1 tree.go:490] Partial tokens match child node(144). Continue to go deeper in the radix tree
I0304 08:26:31.848430       1 tree.go:471] Updated node(144) last access: 149.3503 seconds
I0304 08:26:31.848438       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:31.848444       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:31.848454       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:31.848464       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:31.848472       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:31.848447655 +0000 UTC m=+149.468670101]
I0304 08:26:31.848491       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3640, Matching ratio: 0.9689, # Matched pods: 0, Matched pods: []
I0304 08:26:31.848503       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9689 > 0.5000)
I0304 08:26:31.848581       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3640
I0304 08:26:31.848591       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:31.848600       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.848606       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.848611       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.848614       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.848619       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.848629       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:31.848637       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:31.848647       1 prefix_cache_and_load.go:584] latency, Route, 0.0497
I0304 08:26:31.848657       1 gateway.go:415] latency, selectTargetPod, 0.0497, target pod, 10.0.0.6:8000
I0304 08:26:31.848668       1 gateway.go:235] latency, HandleRequestBody, 0.0499
I0304 08:26:31.864839       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="aefe8d33-febc-43b7-87a3-f00d69ecbd09"
I0304 08:26:31.892401       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2d54018e-0dcf-4c0a-9232-dea9f7f7006c"
I0304 08:26:31.892535       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2d54018e-0dcf-4c0a-9232-dea9f7f7006c" model="deepseek-llm-7b-chat"
I0304 08:26:31.892580       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:31.892586       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:31.892590       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:31.892722       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:31.892755       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:31.892761       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:31.909616       1 gateway.go:608] "First token received" requestID="aefe8d33-febc-43b7-87a3-f00d69ecbd09" ttft_ms=110
I0304 08:26:31.937811       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0450, numInputTokens, 3753
I0304 08:26:31.937828       1 tree.go:471] Updated node(0) last access: 149.4397 seconds
I0304 08:26:31.937835       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:31.937839       1 tree.go:471] Updated node(2) last access: 149.4397 seconds
I0304 08:26:31.937850       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:31.937853       1 tree.go:471] Updated node(22) last access: 149.4397 seconds
I0304 08:26:31.937864       1 tree.go:667] Split complete - New node(259)
I0304 08:26:31.937869       1 tree.go:668] Split complete - Child node(20)
I0304 08:26:31.937876       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:31.937882       1 tree.go:471] Updated node(259) last access: 149.4397 seconds
I0304 08:26:31.937890       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:31.937895       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:31.937902       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:31.937909       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:31.937916       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:31.937897134 +0000 UTC m=+149.558119565]
I0304 08:26:31.937932       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3635, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:31.937942       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:31.938004       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3635
I0304 08:26:31.938016       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:31.938026       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.938034       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.938042       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.938048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.938054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:31.938065       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:31.938078       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:31.938090       1 prefix_cache_and_load.go:584] latency, Route, 0.0455
I0304 08:26:31.938100       1 gateway.go:415] latency, selectTargetPod, 0.0455, target pod, 10.0.1.33:8000
I0304 08:26:31.938111       1 gateway.go:235] latency, HandleRequestBody, 0.0457
I0304 08:26:31.947103       1 gateway.go:562] latency, 0.0000, summary, hash(request), f8df1636, selectedpod, 10.0.1.47:8000, ttft, 107, tpot, 19, e2e, 282, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:31.947125       1 gateway.go:748] "Request completed" requestID="9cf1d9e9-f6af-4fbb-9055-fba65ad2e15c" targetPod="10.0.1.47:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:31.947137       1 gateway.go:764] "HandleResponseBody completed" requestID="9cf1d9e9-f6af-4fbb-9055-fba65ad2e15c" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:31.955460       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2d54018e-0dcf-4c0a-9232-dea9f7f7006c"
I0304 08:26:31.985760       1 gateway.go:608] "First token received" requestID="2d54018e-0dcf-4c0a-9232-dea9f7f7006c" ttft_ms=93
I0304 08:26:32.085162       1 gateway.go:562] latency, 0.0000, summary, hash(request), 19462435, selectedpod, 10.0.0.6:8000, ttft, 110, tpot, 19, e2e, 286, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:32.085181       1 gateway.go:748] "Request completed" requestID="aefe8d33-febc-43b7-87a3-f00d69ecbd09" targetPod="10.0.0.6:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:32.085190       1 gateway.go:764] "HandleResponseBody completed" requestID="aefe8d33-febc-43b7-87a3-f00d69ecbd09" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:32.161286       1 gateway.go:562] latency, 0.0000, summary, hash(request), da0a6c43, selectedpod, 10.0.1.33:8000, ttft, 93, tpot, 19, e2e, 268, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:32.161305       1 gateway.go:748] "Request completed" requestID="2d54018e-0dcf-4c0a-9232-dea9f7f7006c" targetPod="10.0.1.33:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:32.161314       1 gateway.go:764] "HandleResponseBody completed" requestID="2d54018e-0dcf-4c0a-9232-dea9f7f7006c" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:32.386107       1 gateway.go:207] "Processing request" requestID="7aed4367-c2cc-4945-aee7-ca3333c2a9e5"
I0304 08:26:32.386164       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7aed4367-c2cc-4945-aee7-ca3333c2a9e5"
I0304 08:26:32.386174       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:32.440011       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7aed4367-c2cc-4945-aee7-ca3333c2a9e5"
I0304 08:26:32.440127       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7aed4367-c2cc-4945-aee7-ca3333c2a9e5" model="deepseek-llm-7b-chat"
I0304 08:26:32.440171       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:32.440178       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:32.440181       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:32.440345       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:32.440378       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:32.440384       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:32.489340       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0489, numInputTokens, 3749
I0304 08:26:32.489362       1 tree.go:471] Updated node(0) last access: 149.9912 seconds
I0304 08:26:32.489368       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:32.489371       1 tree.go:471] Updated node(2) last access: 149.9912 seconds
I0304 08:26:32.489380       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:32.489382       1 tree.go:471] Updated node(5) last access: 149.9912 seconds
I0304 08:26:32.489386       1 tree.go:490] Partial tokens match child node(178). Continue to go deeper in the radix tree
I0304 08:26:32.489388       1 tree.go:471] Updated node(178) last access: 149.9913 seconds
I0304 08:26:32.489399       1 tree.go:667] Split complete - New node(261)
I0304 08:26:32.489403       1 tree.go:668] Split complete - Child node(113)
I0304 08:26:32.489408       1 tree.go:501] latency, splitNode, 0.0000 seconds, 110 tokens:
I0304 08:26:32.489413       1 tree.go:471] Updated node(261) last access: 149.9913 seconds
I0304 08:26:32.489417       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 104 tokens:
I0304 08:26:32.489422       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3749 tokens
I0304 08:26:32.489428       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3749 tokens
I0304 08:26:32.489435       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:32.489440       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:32.489424677 +0000 UTC m=+150.109647104]
I0304 08:26:32.489456       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3749, Matched tokens: 3645, Matching ratio: 0.9723, # Matched pods: 0, Matched pods: []
I0304 08:26:32.489462       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9723 > 0.5000)
I0304 08:26:32.489526       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3645
I0304 08:26:32.489537       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:32.489544       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.489551       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.489555       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.489558       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.489562       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.489567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.489575       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:32.489585       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:32.489595       1 prefix_cache_and_load.go:584] latency, Route, 0.0494
I0304 08:26:32.489604       1 gateway.go:415] latency, selectTargetPod, 0.0494, target pod, 10.0.3.28:8000
I0304 08:26:32.489614       1 gateway.go:235] latency, HandleRequestBody, 0.0496
I0304 08:26:32.504789       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7aed4367-c2cc-4945-aee7-ca3333c2a9e5"
I0304 08:26:32.535650       1 gateway.go:608] "First token received" requestID="7aed4367-c2cc-4945-aee7-ca3333c2a9e5" ttft_ms=95
I0304 08:26:32.574991       1 gateway.go:207] "Processing request" requestID="1ee19a17-4cf4-4f2f-bf5d-4d97c33ad203"
I0304 08:26:32.575019       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1ee19a17-4cf4-4f2f-bf5d-4d97c33ad203"
I0304 08:26:32.575028       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:32.635747       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1ee19a17-4cf4-4f2f-bf5d-4d97c33ad203"
I0304 08:26:32.635857       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1ee19a17-4cf4-4f2f-bf5d-4d97c33ad203" model="deepseek-llm-7b-chat"
I0304 08:26:32.635899       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:32.635906       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:32.635909       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:32.636102       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:32.636142       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:32.636149       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:32.683486       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0473, numInputTokens, 3752
I0304 08:26:32.683518       1 tree.go:471] Updated node(0) last access: 150.1854 seconds
I0304 08:26:32.683525       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:32.683528       1 tree.go:471] Updated node(2) last access: 150.1854 seconds
I0304 08:26:32.683536       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:32.683540       1 tree.go:471] Updated node(12) last access: 150.1854 seconds
I0304 08:26:32.683558       1 tree.go:667] Split complete - New node(263)
I0304 08:26:32.683564       1 tree.go:668] Split complete - Child node(13)
I0304 08:26:32.683568       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:32.683574       1 tree.go:471] Updated node(263) last access: 150.1854 seconds
I0304 08:26:32.683585       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:32.683590       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:32.683596       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:32.683603       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:32.683608       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:32.683592187 +0000 UTC m=+150.303814613]
I0304 08:26:32.683630       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3638, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:32.683637       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:32.683722       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3638
I0304 08:26:32.683732       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:32.683739       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.683744       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.683748       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.683755       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.683764       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.683772       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:32.683783       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:32.683807       1 prefix_cache_and_load.go:584] latency, Route, 0.0479
I0304 08:26:32.683817       1 gateway.go:415] latency, selectTargetPod, 0.0479, target pod, 10.0.0.6:8000
I0304 08:26:32.683831       1 gateway.go:235] latency, HandleRequestBody, 0.0481
I0304 08:26:32.701385       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1ee19a17-4cf4-4f2f-bf5d-4d97c33ad203"
I0304 08:26:32.711394       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2f92c1b3, selectedpod, 10.0.3.28:8000, ttft, 95, tpot, 19, e2e, 271, numInputTokens, 3962, numOutputTokens, 10, numTotalTokens, 3972
I0304 08:26:32.711414       1 gateway.go:748] "Request completed" requestID="7aed4367-c2cc-4945-aee7-ca3333c2a9e5" targetPod="10.0.3.28:8000" promptTokens=3962 completionTokens=10 totalTokens=3972
I0304 08:26:32.711423       1 gateway.go:764] "HandleResponseBody completed" requestID="7aed4367-c2cc-4945-aee7-ca3333c2a9e5" promptTokens=3962 completionTokens=10 stream=true
I0304 08:26:32.729938       1 gateway.go:207] "Processing request" requestID="66f55e2a-de9e-401e-8e8d-89a74449da35"
I0304 08:26:32.729964       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="66f55e2a-de9e-401e-8e8d-89a74449da35"
I0304 08:26:32.729978       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:32.731898       1 gateway.go:608] "First token received" requestID="1ee19a17-4cf4-4f2f-bf5d-4d97c33ad203" ttft_ms=96
I0304 08:26:32.766473       1 gateway.go:329] "-- In RequestBody processing ..." requestID="66f55e2a-de9e-401e-8e8d-89a74449da35"
I0304 08:26:32.766604       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="66f55e2a-de9e-401e-8e8d-89a74449da35" model="deepseek-llm-7b-chat"
I0304 08:26:32.766651       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:32.766657       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:32.766661       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:32.766826       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:32.766860       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:32.766866       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:32.812444       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0456, numInputTokens, 3751
I0304 08:26:32.812462       1 tree.go:471] Updated node(0) last access: 150.3143 seconds
I0304 08:26:32.812469       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:32.812472       1 tree.go:471] Updated node(2) last access: 150.3143 seconds
I0304 08:26:32.812480       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:32.812484       1 tree.go:471] Updated node(37) last access: 150.3143 seconds
I0304 08:26:32.812488       1 tree.go:490] Partial tokens match child node(124). Continue to go deeper in the radix tree
I0304 08:26:32.812491       1 tree.go:471] Updated node(124) last access: 150.3144 seconds
I0304 08:26:32.812500       1 tree.go:667] Split complete - New node(265)
I0304 08:26:32.812503       1 tree.go:668] Split complete - Child node(125)
I0304 08:26:32.812507       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0304 08:26:32.812518       1 tree.go:471] Updated node(265) last access: 150.3144 seconds
I0304 08:26:32.812522       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:32.812526       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:26:32.812532       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:32.812536       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:32.812541       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:32.812527528 +0000 UTC m=+150.432749953]
I0304 08:26:32.812555       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3638, Matching ratio: 0.9699, # Matched pods: 0, Matched pods: []
I0304 08:26:32.812561       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9699 > 0.5000)
I0304 08:26:32.812616       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3638
I0304 08:26:32.812634       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:32.812641       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.812647       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.812651       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.812655       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.812659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.812665       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.812675       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:32.812683       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:32.812692       1 prefix_cache_and_load.go:584] latency, Route, 0.0460
I0304 08:26:32.812701       1 gateway.go:415] latency, selectTargetPod, 0.0461, target pod, 10.0.1.47:8000
I0304 08:26:32.812712       1 gateway.go:235] latency, HandleRequestBody, 0.0462
I0304 08:26:32.829233       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="66f55e2a-de9e-401e-8e8d-89a74449da35"
I0304 08:26:32.860585       1 gateway.go:608] "First token received" requestID="66f55e2a-de9e-401e-8e8d-89a74449da35" ttft_ms=94
I0304 08:26:32.907383       1 gateway.go:562] latency, 0.0000, summary, hash(request), 17557616, selectedpod, 10.0.0.6:8000, ttft, 96, tpot, 19, e2e, 271, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:32.907400       1 gateway.go:748] "Request completed" requestID="1ee19a17-4cf4-4f2f-bf5d-4d97c33ad203" targetPod="10.0.0.6:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:32.907411       1 gateway.go:764] "HandleResponseBody completed" requestID="1ee19a17-4cf4-4f2f-bf5d-4d97c33ad203" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:32.915779       1 gateway.go:207] "Processing request" requestID="152e6637-4696-486c-8d93-05714b2c8e6d"
I0304 08:26:32.915803       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="152e6637-4696-486c-8d93-05714b2c8e6d"
I0304 08:26:32.915812       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:32.923741       1 gateway.go:329] "-- In RequestBody processing ..." requestID="152e6637-4696-486c-8d93-05714b2c8e6d"
I0304 08:26:32.923851       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="152e6637-4696-486c-8d93-05714b2c8e6d" model="deepseek-llm-7b-chat"
I0304 08:26:32.923894       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:32.923901       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:32.923904       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:32.924050       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:32.924085       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:32.924092       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:32.971068       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0470, numInputTokens, 3756
I0304 08:26:32.971085       1 tree.go:471] Updated node(0) last access: 150.4729 seconds
I0304 08:26:32.971091       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:32.971094       1 tree.go:471] Updated node(2) last access: 150.4730 seconds
I0304 08:26:32.971102       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:32.971105       1 tree.go:471] Updated node(67) last access: 150.4730 seconds
I0304 08:26:32.971114       1 tree.go:667] Split complete - New node(267)
I0304 08:26:32.971119       1 tree.go:668] Split complete - Child node(68)
I0304 08:26:32.971123       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:32.971127       1 tree.go:471] Updated node(267) last access: 150.4730 seconds
I0304 08:26:32.971133       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:32.971138       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:32.971144       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:32.971151       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:32.971156       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:32.971140461 +0000 UTC m=+150.591362887]
I0304 08:26:32.971169       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3639, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:32.971176       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:32.971230       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3639
I0304 08:26:32.971239       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:32.971245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.971250       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.971255       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.971259       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.971264       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:32.971282       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:32.971299       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:32.971317       1 prefix_cache_and_load.go:584] latency, Route, 0.0474
I0304 08:26:32.971332       1 gateway.go:415] latency, selectTargetPod, 0.0474, target pod, 10.0.1.33:8000
I0304 08:26:32.971346       1 gateway.go:235] latency, HandleRequestBody, 0.0476
I0304 08:26:32.989456       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="152e6637-4696-486c-8d93-05714b2c8e6d"
I0304 08:26:33.034732       1 gateway.go:608] "First token received" requestID="152e6637-4696-486c-8d93-05714b2c8e6d" ttft_ms=110
I0304 08:26:33.035954       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3204a1fc, selectedpod, 10.0.1.47:8000, ttft, 94, tpot, 19, e2e, 269, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:33.035970       1 gateway.go:748] "Request completed" requestID="66f55e2a-de9e-401e-8e8d-89a74449da35" targetPod="10.0.1.47:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:33.035988       1 gateway.go:764] "HandleResponseBody completed" requestID="66f55e2a-de9e-401e-8e8d-89a74449da35" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:33.167945       1 gateway.go:207] "Processing request" requestID="d35c03f9-128d-4c37-b333-eacb4d0b450f"
I0304 08:26:33.167986       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d35c03f9-128d-4c37-b333-eacb4d0b450f"
I0304 08:26:33.167993       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:33.210175       1 gateway.go:562] latency, 0.0000, summary, hash(request), 94ee68ce, selectedpod, 10.0.1.33:8000, ttft, 110, tpot, 19, e2e, 286, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:33.210194       1 gateway.go:748] "Request completed" requestID="152e6637-4696-486c-8d93-05714b2c8e6d" targetPod="10.0.1.33:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:33.210207       1 gateway.go:764] "HandleResponseBody completed" requestID="152e6637-4696-486c-8d93-05714b2c8e6d" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:33.233539       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d35c03f9-128d-4c37-b333-eacb4d0b450f"
I0304 08:26:33.233676       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d35c03f9-128d-4c37-b333-eacb4d0b450f" model="deepseek-llm-7b-chat"
I0304 08:26:33.233734       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:33.233740       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:33.233744       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:33.233950       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:33.234004       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:33.234011       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:33.244238       1 gateway.go:207] "Processing request" requestID="4df6a60e-5281-4404-aa7e-03eebb15c9b3"
I0304 08:26:33.244271       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4df6a60e-5281-4404-aa7e-03eebb15c9b3"
I0304 08:26:33.244280       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:33.283081       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4df6a60e-5281-4404-aa7e-03eebb15c9b3"
I0304 08:26:33.283221       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4df6a60e-5281-4404-aa7e-03eebb15c9b3" model="deepseek-llm-7b-chat"
I0304 08:26:33.284944       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0509, numInputTokens, 3754
I0304 08:26:33.284964       1 tree.go:471] Updated node(0) last access: 150.7868 seconds
I0304 08:26:33.284970       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:33.284983       1 tree.go:471] Updated node(2) last access: 150.7868 seconds
I0304 08:26:33.284991       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:33.284996       1 tree.go:471] Updated node(37) last access: 150.7869 seconds
I0304 08:26:33.285003       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:33.285011       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:33.285018       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:33.285026       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:33.285031       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:33.285013441 +0000 UTC m=+150.905235878]
I0304 08:26:33.285048       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:33.285054       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:33.285112       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:33.285121       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:33.285129       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.285138       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.285145       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.285151       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.285159       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:33.285169       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:33.285180       1 prefix_cache_and_load.go:584] latency, Route, 0.0514
I0304 08:26:33.285195       1 gateway.go:415] latency, selectTargetPod, 0.0515, target pod, 10.0.1.47:8000
I0304 08:26:33.285207       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0019
I0304 08:26:33.285218       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:33.285224       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:33.285210       1 gateway.go:235] latency, HandleRequestBody, 0.0517
I0304 08:26:33.285394       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:33.285429       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:33.285436       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:33.302663       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d35c03f9-128d-4c37-b333-eacb4d0b450f"
I0304 08:26:33.331777       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0463, numInputTokens, 3754
I0304 08:26:33.331793       1 tree.go:471] Updated node(0) last access: 150.8337 seconds
I0304 08:26:33.331800       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:33.331804       1 tree.go:471] Updated node(2) last access: 150.8337 seconds
I0304 08:26:33.331812       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:33.331817       1 tree.go:471] Updated node(24) last access: 150.8337 seconds
I0304 08:26:33.331825       1 tree.go:667] Split complete - New node(270)
I0304 08:26:33.331830       1 tree.go:668] Split complete - Child node(78)
I0304 08:26:33.331835       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:33.331840       1 tree.go:471] Updated node(270) last access: 150.8337 seconds
I0304 08:26:33.331845       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:33.331850       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:33.331856       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:33.331862       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:33.331868       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:33.331852376 +0000 UTC m=+150.952074802]
I0304 08:26:33.331882       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3636, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:33.331890       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:33.331940       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3636
I0304 08:26:33.331950       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:33.331959       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.331964       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.331969       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.331987       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.331992       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.332000       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:33.332009       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:33.332018       1 prefix_cache_and_load.go:584] latency, Route, 0.0487
I0304 08:26:33.332027       1 gateway.go:415] latency, selectTargetPod, 0.0487, target pod, 10.0.1.53:8000
I0304 08:26:33.332038       1 gateway.go:235] latency, HandleRequestBody, 0.0490
I0304 08:26:33.332677       1 gateway.go:608] "First token received" requestID="d35c03f9-128d-4c37-b333-eacb4d0b450f" ttft_ms=99
I0304 08:26:33.347435       1 gateway.go:207] "Processing request" requestID="b98d05b1-09aa-4ccb-ad6f-5e33b20766fa"
I0304 08:26:33.347456       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b98d05b1-09aa-4ccb-ad6f-5e33b20766fa"
I0304 08:26:33.347463       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:33.350341       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4df6a60e-5281-4404-aa7e-03eebb15c9b3"
I0304 08:26:33.395591       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b98d05b1-09aa-4ccb-ad6f-5e33b20766fa"
I0304 08:26:33.395717       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b98d05b1-09aa-4ccb-ad6f-5e33b20766fa" model="deepseek-llm-7b-chat"
I0304 08:26:33.395756       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:33.395762       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:33.395767       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:33.395904       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:33.395935       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:33.395940       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:33.398668       1 gateway.go:608] "First token received" requestID="4df6a60e-5281-4404-aa7e-03eebb15c9b3" ttft_ms=115
I0304 08:26:33.406593       1 gateway.go:207] "Processing request" requestID="2a440f27-398f-42d9-9ba0-183d5f079c76"
I0304 08:26:33.406624       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2a440f27-398f-42d9-9ba0-183d5f079c76"
I0304 08:26:33.406632       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:33.445570       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0496, numInputTokens, 3754
I0304 08:26:33.445590       1 tree.go:471] Updated node(0) last access: 150.9475 seconds
I0304 08:26:33.445597       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:33.445601       1 tree.go:471] Updated node(2) last access: 150.9475 seconds
I0304 08:26:33.445610       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:33.445613       1 tree.go:471] Updated node(24) last access: 150.9475 seconds
I0304 08:26:33.445623       1 tree.go:667] Split complete - New node(272)
I0304 08:26:33.445629       1 tree.go:668] Split complete - Child node(99)
I0304 08:26:33.445635       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:33.445642       1 tree.go:471] Updated node(272) last access: 150.9475 seconds
I0304 08:26:33.445649       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:33.445654       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:33.445660       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:33.445667       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:33.445672       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:33.445656237 +0000 UTC m=+151.065878663]
I0304 08:26:33.445687       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3638, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:33.445695       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:33.445756       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3638
I0304 08:26:33.445766       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:33.445774       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.445783       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.445789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.445794       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.445798       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.445808       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:33.445842       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:33.445865       1 prefix_cache_and_load.go:584] latency, Route, 0.0501
I0304 08:26:33.445884       1 gateway.go:415] latency, selectTargetPod, 0.0501, target pod, 10.0.1.53:8000
I0304 08:26:33.445929       1 gateway.go:235] latency, HandleRequestBody, 0.0503
I0304 08:26:33.455014       1 gateway.go:207] "Processing request" requestID="e415f804-829c-4117-b815-89d75a0553e7"
I0304 08:26:33.455040       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e415f804-829c-4117-b815-89d75a0553e7"
I0304 08:26:33.455047       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:33.463048       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b98d05b1-09aa-4ccb-ad6f-5e33b20766fa"
I0304 08:26:33.463850       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2a440f27-398f-42d9-9ba0-183d5f079c76"
I0304 08:26:33.463969       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2a440f27-398f-42d9-9ba0-183d5f079c76" model="deepseek-llm-7b-chat"
I0304 08:26:33.464019       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:33.464027       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:33.464030       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:33.464205       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:33.464245       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:33.464253       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:33.494208       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e415f804-829c-4117-b815-89d75a0553e7"
I0304 08:26:33.494333       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e415f804-829c-4117-b815-89d75a0553e7" model="deepseek-llm-7b-chat"
I0304 08:26:33.502034       1 gateway.go:608] "First token received" requestID="b98d05b1-09aa-4ccb-ad6f-5e33b20766fa" ttft_ms=106
I0304 08:26:33.508310       1 gateway.go:562] latency, 0.0000, summary, hash(request), b94d420c, selectedpod, 10.0.1.47:8000, ttft, 99, tpot, 19, e2e, 274, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:33.508337       1 gateway.go:748] "Request completed" requestID="d35c03f9-128d-4c37-b333-eacb4d0b450f" targetPod="10.0.1.47:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:33.508354       1 gateway.go:764] "HandleResponseBody completed" requestID="d35c03f9-128d-4c37-b333-eacb4d0b450f" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:33.510118       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0459, numInputTokens, 3746
I0304 08:26:33.510133       1 tree.go:471] Updated node(0) last access: 151.0120 seconds
I0304 08:26:33.510139       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:33.510142       1 tree.go:471] Updated node(2) last access: 151.0120 seconds
I0304 08:26:33.510150       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:33.510154       1 tree.go:471] Updated node(12) last access: 151.0120 seconds
I0304 08:26:33.510163       1 tree.go:667] Split complete - New node(274)
I0304 08:26:33.510166       1 tree.go:668] Split complete - Child node(1)
I0304 08:26:33.510171       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0304 08:26:33.510175       1 tree.go:471] Updated node(274) last access: 151.0120 seconds
I0304 08:26:33.510182       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0304 08:26:33.510186       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3746 tokens
I0304 08:26:33.510191       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3746 tokens
I0304 08:26:33.510198       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:33.510202       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:33.510188038 +0000 UTC m=+151.130410463]
I0304 08:26:33.510216       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3746, Matched tokens: 3638, Matching ratio: 0.9712, # Matched pods: 0, Matched pods: []
I0304 08:26:33.510224       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9712 > 0.5000)
I0304 08:26:33.510276       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3638
I0304 08:26:33.510285       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:33.510297       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.510305       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.510312       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.510316       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.510322       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.510330       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:33.510341       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:33.510351       1 prefix_cache_and_load.go:584] latency, Route, 0.0463
I0304 08:26:33.510366       1 gateway.go:415] latency, selectTargetPod, 0.0463, target pod, 10.0.0.6:8000
I0304 08:26:33.510378       1 gateway.go:235] latency, HandleRequestBody, 0.0465
I0304 08:26:33.510402       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0160
I0304 08:26:33.510405       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:33.510409       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:33.510562       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:33.510594       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:33.510599       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:33.530483       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2a440f27-398f-42d9-9ba0-183d5f079c76"
I0304 08:26:33.578706       1 gateway.go:608] "First token received" requestID="2a440f27-398f-42d9-9ba0-183d5f079c76" ttft_ms=114
I0304 08:26:33.591268       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0807, numInputTokens, 3754
I0304 08:26:33.591289       1 tree.go:471] Updated node(0) last access: 151.0931 seconds
I0304 08:26:33.591296       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:33.591299       1 tree.go:471] Updated node(2) last access: 151.0932 seconds
I0304 08:26:33.591306       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:33.591309       1 tree.go:471] Updated node(24) last access: 151.0932 seconds
I0304 08:26:33.591317       1 tree.go:667] Split complete - New node(276)
I0304 08:26:33.591321       1 tree.go:668] Split complete - Child node(272)
I0304 08:26:33.591326       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:33.591330       1 tree.go:471] Updated node(276) last access: 151.0932 seconds
I0304 08:26:33.591337       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:33.591342       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:33.591348       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:33.591355       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:33.591361       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:33.591344401 +0000 UTC m=+151.211566827]
I0304 08:26:33.591375       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3634, Matching ratio: 0.9680, # Matched pods: 0, Matched pods: []
I0304 08:26:33.591382       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9680 > 0.5000)
I0304 08:26:33.591440       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3634
I0304 08:26:33.591449       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:33.591458       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.591463       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.591469       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.591473       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.591485       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:33.591496       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:33.591508       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:33.591533       1 prefix_cache_and_load.go:584] latency, Route, 0.0972
I0304 08:26:33.591548       1 gateway.go:415] latency, selectTargetPod, 0.0972, target pod, 10.0.1.53:8000
I0304 08:26:33.591559       1 gateway.go:235] latency, HandleRequestBody, 0.0974
I0304 08:26:33.609323       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e415f804-829c-4117-b815-89d75a0553e7"
I0304 08:26:33.609577       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3a669adf, selectedpod, 10.0.1.53:8000, ttft, 115, tpot, 23, e2e, 326, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:33.609595       1 gateway.go:748] "Request completed" requestID="4df6a60e-5281-4404-aa7e-03eebb15c9b3" targetPod="10.0.1.53:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:33.609603       1 gateway.go:764] "HandleResponseBody completed" requestID="4df6a60e-5281-4404-aa7e-03eebb15c9b3" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:33.657310       1 gateway.go:608] "First token received" requestID="e415f804-829c-4117-b815-89d75a0553e7" ttft_ms=163
I0304 08:26:33.721379       1 gateway.go:562] latency, 0.0000, summary, hash(request), e44bc8e6, selectedpod, 10.0.1.53:8000, ttft, 106, tpot, 24, e2e, 325, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:33.721400       1 gateway.go:748] "Request completed" requestID="b98d05b1-09aa-4ccb-ad6f-5e33b20766fa" targetPod="10.0.1.53:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:33.721412       1 gateway.go:764] "HandleResponseBody completed" requestID="b98d05b1-09aa-4ccb-ad6f-5e33b20766fa" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:33.736857       1 gateway.go:562] latency, 0.0000, summary, hash(request), 460ac246, selectedpod, 10.0.0.6:8000, ttft, 114, tpot, 17, e2e, 272, numInputTokens, 3959, numOutputTokens, 10, numTotalTokens, 3969
I0304 08:26:33.736877       1 gateway.go:748] "Request completed" requestID="2a440f27-398f-42d9-9ba0-183d5f079c76" targetPod="10.0.0.6:8000" promptTokens=3959 completionTokens=10 totalTokens=3969
I0304 08:26:33.736887       1 gateway.go:764] "HandleResponseBody completed" requestID="2a440f27-398f-42d9-9ba0-183d5f079c76" promptTokens=3959 completionTokens=10 stream=true
I0304 08:26:33.840119       1 gateway.go:562] latency, 0.0000, summary, hash(request), 59b18b02, selectedpod, 10.0.1.53:8000, ttft, 163, tpot, 20, e2e, 345, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:33.840139       1 gateway.go:748] "Request completed" requestID="e415f804-829c-4117-b815-89d75a0553e7" targetPod="10.0.1.53:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:33.840148       1 gateway.go:764] "HandleResponseBody completed" requestID="e415f804-829c-4117-b815-89d75a0553e7" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:34.013233       1 gateway.go:207] "Processing request" requestID="88cb4804-07f6-4f1a-9b05-2206ba4375c2"
I0304 08:26:34.013258       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="88cb4804-07f6-4f1a-9b05-2206ba4375c2"
I0304 08:26:34.013267       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:34.040043       1 gateway.go:329] "-- In RequestBody processing ..." requestID="88cb4804-07f6-4f1a-9b05-2206ba4375c2"
I0304 08:26:34.040173       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="88cb4804-07f6-4f1a-9b05-2206ba4375c2" model="deepseek-llm-7b-chat"
I0304 08:26:34.040224       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:34.040231       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:34.040234       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:34.040399       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:34.040448       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:34.040455       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:34.088082       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0476, numInputTokens, 3756
I0304 08:26:34.088103       1 tree.go:471] Updated node(0) last access: 151.5900 seconds
I0304 08:26:34.088111       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:34.088115       1 tree.go:471] Updated node(2) last access: 151.5900 seconds
I0304 08:26:34.088125       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:34.088130       1 tree.go:471] Updated node(24) last access: 151.5900 seconds
I0304 08:26:34.088142       1 tree.go:667] Split complete - New node(278)
I0304 08:26:34.088147       1 tree.go:668] Split complete - Child node(180)
I0304 08:26:34.088151       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:34.088156       1 tree.go:471] Updated node(278) last access: 151.5900 seconds
I0304 08:26:34.088162       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:34.088168       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:34.088173       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:34.088178       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:34.088185       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:34.088169558 +0000 UTC m=+151.708391984]
I0304 08:26:34.088204       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3643, Matching ratio: 0.9699, # Matched pods: 0, Matched pods: []
I0304 08:26:34.088213       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9699 > 0.5000)
I0304 08:26:34.088270       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3643
I0304 08:26:34.088280       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:34.088290       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.088294       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.088298       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.088304       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.088309       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.088318       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:34.088327       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:34.088339       1 prefix_cache_and_load.go:584] latency, Route, 0.0481
I0304 08:26:34.088349       1 gateway.go:415] latency, selectTargetPod, 0.0481, target pod, 10.0.1.53:8000
I0304 08:26:34.088359       1 gateway.go:235] latency, HandleRequestBody, 0.0483
I0304 08:26:34.107878       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="88cb4804-07f6-4f1a-9b05-2206ba4375c2"
I0304 08:26:34.152465       1 gateway.go:608] "First token received" requestID="88cb4804-07f6-4f1a-9b05-2206ba4375c2" ttft_ms=112
I0304 08:26:34.282633       1 gateway.go:207] "Processing request" requestID="95b1f62b-9a40-48e8-8e77-14d9ded1288e"
I0304 08:26:34.282663       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="95b1f62b-9a40-48e8-8e77-14d9ded1288e"
I0304 08:26:34.282670       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:34.327823       1 gateway.go:562] latency, 0.0000, summary, hash(request), a2c69f4d, selectedpod, 10.0.1.53:8000, ttft, 112, tpot, 19, e2e, 287, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:34.327847       1 gateway.go:748] "Request completed" requestID="88cb4804-07f6-4f1a-9b05-2206ba4375c2" targetPod="10.0.1.53:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:34.327856       1 gateway.go:764] "HandleResponseBody completed" requestID="88cb4804-07f6-4f1a-9b05-2206ba4375c2" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:34.336325       1 gateway.go:329] "-- In RequestBody processing ..." requestID="95b1f62b-9a40-48e8-8e77-14d9ded1288e"
I0304 08:26:34.336450       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="95b1f62b-9a40-48e8-8e77-14d9ded1288e" model="deepseek-llm-7b-chat"
I0304 08:26:34.336519       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:34.336526       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:34.336529       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:34.336679       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:34.336713       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:34.336719       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:34.385557       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 3753
I0304 08:26:34.385576       1 tree.go:471] Updated node(0) last access: 151.8874 seconds
I0304 08:26:34.385582       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:34.385586       1 tree.go:471] Updated node(2) last access: 151.8874 seconds
I0304 08:26:34.385594       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:34.385597       1 tree.go:471] Updated node(67) last access: 151.8875 seconds
I0304 08:26:34.385605       1 tree.go:667] Split complete - New node(280)
I0304 08:26:34.385611       1 tree.go:668] Split complete - Child node(267)
I0304 08:26:34.385617       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:34.385622       1 tree.go:471] Updated node(280) last access: 151.8875 seconds
I0304 08:26:34.385627       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:34.385631       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:34.385637       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:34.385643       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:34.385648       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:34.385632618 +0000 UTC m=+152.005855044]
I0304 08:26:34.385665       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3636, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:34.385676       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:34.385755       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3636
I0304 08:26:34.385770       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:34.385781       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.385793       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.385800       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.385811       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.385820       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.385835       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:34.385846       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:34.385857       1 prefix_cache_and_load.go:584] latency, Route, 0.0493
I0304 08:26:34.385866       1 gateway.go:415] latency, selectTargetPod, 0.0494, target pod, 10.0.1.33:8000
I0304 08:26:34.385877       1 gateway.go:235] latency, HandleRequestBody, 0.0496
I0304 08:26:34.402639       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="95b1f62b-9a40-48e8-8e77-14d9ded1288e"
I0304 08:26:34.430523       1 gateway.go:207] "Processing request" requestID="4032e90e-e5a7-440e-8b59-1523e50af9a9"
I0304 08:26:34.430555       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4032e90e-e5a7-440e-8b59-1523e50af9a9"
I0304 08:26:34.430563       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:34.433936       1 gateway.go:608] "First token received" requestID="95b1f62b-9a40-48e8-8e77-14d9ded1288e" ttft_ms=97
I0304 08:26:34.471237       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4032e90e-e5a7-440e-8b59-1523e50af9a9"
I0304 08:26:34.471358       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4032e90e-e5a7-440e-8b59-1523e50af9a9" model="deepseek-llm-7b-chat"
I0304 08:26:34.471413       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:34.471419       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:34.471422       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:34.471592       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:34.471633       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:34.471639       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:34.480043       1 gateway.go:207] "Processing request" requestID="8d5ee066-add7-40b8-b55b-9ad7a4afab6f"
I0304 08:26:34.480077       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8d5ee066-add7-40b8-b55b-9ad7a4afab6f"
I0304 08:26:34.480086       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:34.518640       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0470, numInputTokens, 3753
I0304 08:26:34.518656       1 tree.go:471] Updated node(0) last access: 152.0205 seconds
I0304 08:26:34.518662       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:34.518665       1 tree.go:471] Updated node(2) last access: 152.0205 seconds
I0304 08:26:34.518674       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:34.518679       1 tree.go:471] Updated node(40) last access: 152.0205 seconds
I0304 08:26:34.518682       1 tree.go:490] Partial tokens match child node(256). Continue to go deeper in the radix tree
I0304 08:26:34.518685       1 tree.go:471] Updated node(256) last access: 152.0205 seconds
I0304 08:26:34.518690       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:34.518696       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:34.518703       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:34.518709       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:34.518714       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:34.518697957 +0000 UTC m=+152.138920383]
I0304 08:26:34.518728       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3641, Matching ratio: 0.9702, # Matched pods: 0, Matched pods: []
I0304 08:26:34.518736       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9702 > 0.5000)
I0304 08:26:34.518791       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3641
I0304 08:26:34.518800       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:34.518807       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.518812       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.518817       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.518822       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.518825       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.518833       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:34.518843       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:34.518850       1 prefix_cache_and_load.go:584] latency, Route, 0.0474
I0304 08:26:34.518865       1 gateway.go:415] latency, selectTargetPod, 0.0475, target pod, 10.0.1.47:8000
I0304 08:26:34.518877       1 gateway.go:235] latency, HandleRequestBody, 0.0476
I0304 08:26:34.522624       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8d5ee066-add7-40b8-b55b-9ad7a4afab6f"
I0304 08:26:34.533903       1 gateway.go:207] "Processing request" requestID="04e42a4c-ad28-45bf-b1e8-d41c7ae6048b"
I0304 08:26:34.533933       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="04e42a4c-ad28-45bf-b1e8-d41c7ae6048b"
I0304 08:26:34.533942       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:34.535570       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4032e90e-e5a7-440e-8b59-1523e50af9a9"
I0304 08:26:34.537746       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8d5ee066-add7-40b8-b55b-9ad7a4afab6f" model="deepseek-llm-7b-chat"
I0304 08:26:34.537799       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:34.537805       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:34.537808       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:34.537980       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:34.538018       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:34.538023       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:34.566481       1 gateway.go:608] "First token received" requestID="4032e90e-e5a7-440e-8b59-1523e50af9a9" ttft_ms=95
I0304 08:26:34.586982       1 gateway.go:329] "-- In RequestBody processing ..." requestID="04e42a4c-ad28-45bf-b1e8-d41c7ae6048b"
I0304 08:26:34.587111       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="04e42a4c-ad28-45bf-b1e8-d41c7ae6048b" model="deepseek-llm-7b-chat"
I0304 08:26:34.587826       1 gateway.go:207] "Processing request" requestID="8324a5f2-9a57-4415-b357-0a0bd2add626"
I0304 08:26:34.587849       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8324a5f2-9a57-4415-b357-0a0bd2add626"
I0304 08:26:34.587856       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:34.597614       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0596, numInputTokens, 3750
I0304 08:26:34.597630       1 tree.go:471] Updated node(0) last access: 152.0995 seconds
I0304 08:26:34.597637       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:34.597640       1 tree.go:471] Updated node(2) last access: 152.0995 seconds
I0304 08:26:34.597649       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:34.597653       1 tree.go:471] Updated node(22) last access: 152.0995 seconds
I0304 08:26:34.597657       1 tree.go:490] Partial tokens match child node(259). Continue to go deeper in the radix tree
I0304 08:26:34.597660       1 tree.go:471] Updated node(259) last access: 152.0995 seconds
I0304 08:26:34.597668       1 tree.go:667] Split complete - New node(283)
I0304 08:26:34.597672       1 tree.go:668] Split complete - Child node(260)
I0304 08:26:34.597677       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0304 08:26:34.597681       1 tree.go:471] Updated node(283) last access: 152.0995 seconds
I0304 08:26:34.597688       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:34.597692       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3750 tokens
I0304 08:26:34.597698       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:34.597704       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:34.597710       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:34.597694696 +0000 UTC m=+152.217917122]
I0304 08:26:34.597725       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3637, Matching ratio: 0.9699, # Matched pods: 0, Matched pods: []
I0304 08:26:34.597732       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9699 > 0.5000)
I0304 08:26:34.597785       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3637
I0304 08:26:34.597797       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:34.597804       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.597809       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.597813       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.597816       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.597820       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.597824       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.597834       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:34.597843       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:34.597853       1 prefix_cache_and_load.go:584] latency, Route, 0.0601
I0304 08:26:34.597867       1 gateway.go:415] latency, selectTargetPod, 0.0601, target pod, 10.0.1.33:8000
I0304 08:26:34.597878       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0107
I0304 08:26:34.597888       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:34.597889       1 gateway.go:235] latency, HandleRequestBody, 0.0753
I0304 08:26:34.597894       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:34.598082       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:34.598131       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:34.598139       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:34.611700       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1b809e63, selectedpod, 10.0.1.33:8000, ttft, 97, tpot, 19, e2e, 275, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:34.611722       1 gateway.go:748] "Request completed" requestID="95b1f62b-9a40-48e8-8e77-14d9ded1288e" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:34.611732       1 gateway.go:764] "HandleResponseBody completed" requestID="95b1f62b-9a40-48e8-8e77-14d9ded1288e" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:34.613846       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8d5ee066-add7-40b8-b55b-9ad7a4afab6f"
I0304 08:26:34.620850       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8324a5f2-9a57-4415-b357-0a0bd2add626"
I0304 08:26:34.620984       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8324a5f2-9a57-4415-b357-0a0bd2add626" model="deepseek-llm-7b-chat"
I0304 08:26:34.646650       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0485, numInputTokens, 3750
I0304 08:26:34.646668       1 tree.go:471] Updated node(0) last access: 152.1485 seconds
I0304 08:26:34.646675       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:34.646679       1 tree.go:471] Updated node(2) last access: 152.1485 seconds
I0304 08:26:34.646688       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:34.646694       1 tree.go:471] Updated node(26) last access: 152.1486 seconds
I0304 08:26:34.646704       1 tree.go:667] Split complete - New node(285)
I0304 08:26:34.646708       1 tree.go:668] Split complete - Child node(200)
I0304 08:26:34.646712       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0304 08:26:34.646717       1 tree.go:471] Updated node(285) last access: 152.1486 seconds
I0304 08:26:34.646722       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0304 08:26:34.646727       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3750 tokens
I0304 08:26:34.646733       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:34.646740       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:34.646746       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:34.646729116 +0000 UTC m=+152.266951541]
I0304 08:26:34.646759       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3639, Matching ratio: 0.9704, # Matched pods: 0, Matched pods: []
I0304 08:26:34.646770       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9704 > 0.5000)
I0304 08:26:34.646823       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3639
I0304 08:26:34.646832       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:34.646843       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.646851       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.646855       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.646861       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.646867       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.646876       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:34.646885       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:34.646897       1 prefix_cache_and_load.go:584] latency, Route, 0.0597
I0304 08:26:34.646911       1 gateway.go:415] latency, selectTargetPod, 0.0597, target pod, 10.0.3.38:8000
I0304 08:26:34.646930       1 gateway.go:235] latency, HandleRequestBody, 0.0600
I0304 08:26:34.646961       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0259
I0304 08:26:34.646979       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:34.646983       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:34.647147       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:34.647186       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:34.647192       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:34.650858       1 gateway.go:207] "Processing request" requestID="95c5d3f5-390e-46f9-b9bf-262b2551b14e"
I0304 08:26:34.650887       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="95c5d3f5-390e-46f9-b9bf-262b2551b14e"
I0304 08:26:34.650895       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:34.657152       1 gateway.go:608] "First token received" requestID="8d5ee066-add7-40b8-b55b-9ad7a4afab6f" ttft_ms=134
I0304 08:26:34.661755       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="04e42a4c-ad28-45bf-b1e8-d41c7ae6048b"
I0304 08:26:34.670397       1 gateway.go:329] "-- In RequestBody processing ..." requestID="95c5d3f5-390e-46f9-b9bf-262b2551b14e"
I0304 08:26:34.670527       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="95c5d3f5-390e-46f9-b9bf-262b2551b14e" model="deepseek-llm-7b-chat"
I0304 08:26:34.692622       1 gateway.go:608] "First token received" requestID="04e42a4c-ad28-45bf-b1e8-d41c7ae6048b" ttft_ms=105
I0304 08:26:34.718333       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0711, numInputTokens, 3752
I0304 08:26:34.718351       1 tree.go:471] Updated node(0) last access: 152.2202 seconds
I0304 08:26:34.718357       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:34.718361       1 tree.go:471] Updated node(2) last access: 152.2202 seconds
I0304 08:26:34.718369       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:34.718373       1 tree.go:471] Updated node(40) last access: 152.2202 seconds
I0304 08:26:34.718383       1 tree.go:667] Split complete - New node(287)
I0304 08:26:34.718388       1 tree.go:668] Split complete - Child node(77)
I0304 08:26:34.718393       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:34.718400       1 tree.go:471] Updated node(287) last access: 152.2203 seconds
I0304 08:26:34.718406       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:34.718412       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:34.718420       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:34.718430       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:34.718438       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:34.718414957 +0000 UTC m=+152.338637388]
I0304 08:26:34.718457       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3637, Matching ratio: 0.9693, # Matched pods: 0, Matched pods: []
I0304 08:26:34.718467       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9693 > 0.5000)
I0304 08:26:34.718542       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3637
I0304 08:26:34.718553       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:34.718560       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.718566       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.718570       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.718575       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.718580       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.718589       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:34.718598       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:34.718609       1 prefix_cache_and_load.go:584] latency, Route, 0.0976
I0304 08:26:34.718628       1 gateway.go:415] latency, selectTargetPod, 0.0976, target pod, 10.0.1.47:8000
I0304 08:26:34.718642       1 gateway.go:235] latency, HandleRequestBody, 0.0978
I0304 08:26:34.718671       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0481
I0304 08:26:34.718677       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:34.718681       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:34.718821       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:34.718859       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:34.718864       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:34.731976       1 gateway.go:207] "Processing request" requestID="0da6d615-8a9b-4477-841e-fb76578b661d"
I0304 08:26:34.732007       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0da6d615-8a9b-4477-841e-fb76578b661d"
I0304 08:26:34.732017       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:34.734681       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8324a5f2-9a57-4415-b357-0a0bd2add626"
I0304 08:26:34.750232       1 gateway.go:562] latency, 0.0000, summary, hash(request), a11139d9, selectedpod, 10.0.1.47:8000, ttft, 95, tpot, 20, e2e, 278, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:34.750255       1 gateway.go:748] "Request completed" requestID="4032e90e-e5a7-440e-8b59-1523e50af9a9" targetPod="10.0.1.47:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:34.750268       1 gateway.go:764] "HandleResponseBody completed" requestID="4032e90e-e5a7-440e-8b59-1523e50af9a9" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:34.763313       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0da6d615-8a9b-4477-841e-fb76578b661d"
I0304 08:26:34.763433       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0da6d615-8a9b-4477-841e-fb76578b661d" model="deepseek-llm-7b-chat"
I0304 08:26:34.769781       1 gateway.go:608] "First token received" requestID="8324a5f2-9a57-4415-b357-0a0bd2add626" ttft_ms=148
I0304 08:26:34.795780       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0769, numInputTokens, 3756
I0304 08:26:34.795797       1 tree.go:471] Updated node(0) last access: 152.2977 seconds
I0304 08:26:34.795803       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:34.795807       1 tree.go:471] Updated node(2) last access: 152.2977 seconds
I0304 08:26:34.795815       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:34.795818       1 tree.go:471] Updated node(22) last access: 152.2977 seconds
I0304 08:26:34.795822       1 tree.go:490] Partial tokens match child node(131). Continue to go deeper in the radix tree
I0304 08:26:34.795826       1 tree.go:471] Updated node(131) last access: 152.2977 seconds
I0304 08:26:34.795831       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:34.795837       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:34.795844       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:34.795851       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:34.795857       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:34.795839088 +0000 UTC m=+152.416061521]
I0304 08:26:34.795871       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3637, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:34.795878       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:34.795934       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3637
I0304 08:26:34.795943       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:34.795951       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.795957       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.795963       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.795968       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.795979       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.795991       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:34.796000       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:34.796022       1 prefix_cache_and_load.go:584] latency, Route, 0.1255
I0304 08:26:34.796035       1 gateway.go:415] latency, selectTargetPod, 0.1255, target pod, 10.0.1.33:8000
I0304 08:26:34.796049       1 gateway.go:235] latency, HandleRequestBody, 0.1257
I0304 08:26:34.796076       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0326
I0304 08:26:34.796081       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:34.796084       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:34.796190       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:34.796222       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0001
I0304 08:26:34.796227       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:34.812877       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="95c5d3f5-390e-46f9-b9bf-262b2551b14e"
I0304 08:26:34.840915       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0447, numInputTokens, 3752
I0304 08:26:34.840929       1 tree.go:471] Updated node(0) last access: 152.3428 seconds
I0304 08:26:34.840935       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:34.840938       1 tree.go:471] Updated node(2) last access: 152.3428 seconds
I0304 08:26:34.840947       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:34.840950       1 tree.go:471] Updated node(26) last access: 152.3428 seconds
I0304 08:26:34.840959       1 tree.go:667] Split complete - New node(290)
I0304 08:26:34.840963       1 tree.go:668] Split complete - Child node(60)
I0304 08:26:34.840968       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:34.840978       1 tree.go:471] Updated node(290) last access: 152.3428 seconds
I0304 08:26:34.840984       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:34.840990       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:34.840995       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:34.841002       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:34.841007       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:34.840991792 +0000 UTC m=+152.461214218]
I0304 08:26:34.841019       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3638, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:34.841025       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:34.841078       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3638
I0304 08:26:34.841088       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:34.841095       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.841100       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.841105       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.841109       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.841113       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:34.841121       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:34.841131       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:34.841140       1 prefix_cache_and_load.go:584] latency, Route, 0.0777
I0304 08:26:34.841149       1 gateway.go:415] latency, selectTargetPod, 0.0777, target pod, 10.0.3.38:8000
I0304 08:26:34.841158       1 gateway.go:235] latency, HandleRequestBody, 0.0778
I0304 08:26:34.841452       1 gateway.go:562] latency, 0.0000, summary, hash(request), c361c22f, selectedpod, 10.0.1.33:8000, ttft, 134, tpot, 20, e2e, 318, numInputTokens, 3964, numOutputTokens, 10, numTotalTokens, 3974
I0304 08:26:34.841469       1 gateway.go:748] "Request completed" requestID="8d5ee066-add7-40b8-b55b-9ad7a4afab6f" targetPod="10.0.1.33:8000" promptTokens=3964 completionTokens=10 totalTokens=3974
I0304 08:26:34.841480       1 gateway.go:764] "HandleResponseBody completed" requestID="8d5ee066-add7-40b8-b55b-9ad7a4afab6f" promptTokens=3964 completionTokens=10 stream=true
I0304 08:26:34.855652       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0da6d615-8a9b-4477-841e-fb76578b661d"
I0304 08:26:34.874775       1 gateway.go:608] "First token received" requestID="95c5d3f5-390e-46f9-b9bf-262b2551b14e" ttft_ms=204
I0304 08:26:34.876473       1 gateway.go:562] latency, 0.0000, summary, hash(request), acaa360d, selectedpod, 10.0.3.38:8000, ttft, 105, tpot, 20, e2e, 289, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:34.876485       1 gateway.go:748] "Request completed" requestID="04e42a4c-ad28-45bf-b1e8-d41c7ae6048b" targetPod="10.0.3.38:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:34.876492       1 gateway.go:764] "HandleResponseBody completed" requestID="04e42a4c-ad28-45bf-b1e8-d41c7ae6048b" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:34.896008       1 gateway.go:608] "First token received" requestID="0da6d615-8a9b-4477-841e-fb76578b661d" ttft_ms=132
I0304 08:26:34.945569       1 gateway.go:562] latency, 0.0000, summary, hash(request), aa3dae7f, selectedpod, 10.0.1.47:8000, ttft, 148, tpot, 19, e2e, 324, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:34.945589       1 gateway.go:748] "Request completed" requestID="8324a5f2-9a57-4415-b357-0a0bd2add626" targetPod="10.0.1.47:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:34.945600       1 gateway.go:764] "HandleResponseBody completed" requestID="8324a5f2-9a57-4415-b357-0a0bd2add626" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:34.959463       1 gateway.go:207] "Processing request" requestID="8fd24e6b-a0dd-4495-8c7d-96e39b5905a1"
I0304 08:26:34.959481       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8fd24e6b-a0dd-4495-8c7d-96e39b5905a1"
I0304 08:26:34.959491       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:34.967961       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8fd24e6b-a0dd-4495-8c7d-96e39b5905a1"
I0304 08:26:34.968123       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8fd24e6b-a0dd-4495-8c7d-96e39b5905a1" model="deepseek-llm-7b-chat"
I0304 08:26:34.968169       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:34.968176       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:34.968179       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:34.968387       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:34.968424       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:34.968430       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:35.017773       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0493, numInputTokens, 3751
I0304 08:26:35.017793       1 tree.go:471] Updated node(0) last access: 152.5197 seconds
I0304 08:26:35.017799       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:35.017802       1 tree.go:471] Updated node(2) last access: 152.5197 seconds
I0304 08:26:35.017810       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:35.017814       1 tree.go:471] Updated node(12) last access: 152.5197 seconds
I0304 08:26:35.017822       1 tree.go:667] Split complete - New node(292)
I0304 08:26:35.017827       1 tree.go:668] Split complete - Child node(182)
I0304 08:26:35.017832       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0304 08:26:35.017837       1 tree.go:471] Updated node(292) last access: 152.5197 seconds
I0304 08:26:35.017843       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:35.017847       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:26:35.017853       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:35.017859       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:35.017864       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:35.017849564 +0000 UTC m=+152.638071990]
I0304 08:26:35.017878       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3635, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:35.017886       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:35.017939       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3635
I0304 08:26:35.017948       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:35.017956       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.017962       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.017967       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.017981       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.017984       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.017992       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:35.018001       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:35.018009       1 prefix_cache_and_load.go:584] latency, Route, 0.0498
I0304 08:26:35.018018       1 gateway.go:415] latency, selectTargetPod, 0.0499, target pod, 10.0.0.6:8000
I0304 08:26:35.018028       1 gateway.go:235] latency, HandleRequestBody, 0.0501
I0304 08:26:35.034297       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8fd24e6b-a0dd-4495-8c7d-96e39b5905a1"
I0304 08:26:35.050647       1 gateway.go:562] latency, 0.0000, summary, hash(request), 89a1afe3, selectedpod, 10.0.1.33:8000, ttft, 204, tpot, 19, e2e, 380, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:35.050669       1 gateway.go:748] "Request completed" requestID="95c5d3f5-390e-46f9-b9bf-262b2551b14e" targetPod="10.0.1.33:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:35.050680       1 gateway.go:764] "HandleResponseBody completed" requestID="95c5d3f5-390e-46f9-b9bf-262b2551b14e" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:35.062823       1 gateway.go:207] "Processing request" requestID="ef47620b-4226-4c38-9d22-8886cc30cba4"
I0304 08:26:35.062843       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ef47620b-4226-4c38-9d22-8886cc30cba4"
I0304 08:26:35.062850       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:35.067163       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ef47620b-4226-4c38-9d22-8886cc30cba4"
I0304 08:26:35.067279       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ef47620b-4226-4c38-9d22-8886cc30cba4" model="deepseek-llm-7b-chat"
I0304 08:26:35.067317       1 gateway.go:608] "First token received" requestID="8fd24e6b-a0dd-4495-8c7d-96e39b5905a1" ttft_ms=99
I0304 08:26:35.067322       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:35.067328       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:35.067331       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:35.067471       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:35.067507       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:35.067525       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:35.071787       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1899ac52, selectedpod, 10.0.3.38:8000, ttft, 132, tpot, 19, e2e, 308, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:35.071810       1 gateway.go:748] "Request completed" requestID="0da6d615-8a9b-4477-841e-fb76578b661d" targetPod="10.0.3.38:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:35.071823       1 gateway.go:764] "HandleResponseBody completed" requestID="0da6d615-8a9b-4477-841e-fb76578b661d" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:35.102369       1 gateway.go:207] "Processing request" requestID="a2b8e379-536b-4a05-9f5c-718384eab23f"
I0304 08:26:35.102398       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a2b8e379-536b-4a05-9f5c-718384eab23f"
I0304 08:26:35.102407       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:35.112763       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0452, numInputTokens, 3757
I0304 08:26:35.112780       1 tree.go:471] Updated node(0) last access: 152.6146 seconds
I0304 08:26:35.112786       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:35.112789       1 tree.go:471] Updated node(2) last access: 152.6147 seconds
I0304 08:26:35.112796       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:35.112801       1 tree.go:471] Updated node(26) last access: 152.6147 seconds
I0304 08:26:35.112804       1 tree.go:490] Partial tokens match child node(151). Continue to go deeper in the radix tree
I0304 08:26:35.112807       1 tree.go:471] Updated node(151) last access: 152.6147 seconds
I0304 08:26:35.112816       1 tree.go:667] Split complete - New node(294)
I0304 08:26:35.112821       1 tree.go:668] Split complete - Child node(91)
I0304 08:26:35.112825       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:35.112830       1 tree.go:471] Updated node(294) last access: 152.6147 seconds
I0304 08:26:35.112835       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:35.112840       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:35.112846       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:35.112851       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:35.112857       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:35.112842019 +0000 UTC m=+152.733064444]
I0304 08:26:35.112871       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3640, Matching ratio: 0.9689, # Matched pods: 0, Matched pods: []
I0304 08:26:35.112877       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9689 > 0.5000)
I0304 08:26:35.112932       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3640
I0304 08:26:35.112941       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:35.112949       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.112956       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.112962       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.112968       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.112979       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.112984       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.112993       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:35.113003       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:35.113013       1 prefix_cache_and_load.go:584] latency, Route, 0.0457
I0304 08:26:35.113022       1 gateway.go:415] latency, selectTargetPod, 0.0457, target pod, 10.0.3.38:8000
I0304 08:26:35.113033       1 gateway.go:235] latency, HandleRequestBody, 0.0459
I0304 08:26:35.127395       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ef47620b-4226-4c38-9d22-8886cc30cba4"
I0304 08:26:35.171859       1 gateway.go:608] "First token received" requestID="ef47620b-4226-4c38-9d22-8886cc30cba4" ttft_ms=104
I0304 08:26:35.175246       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a2b8e379-536b-4a05-9f5c-718384eab23f"
I0304 08:26:35.175366       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a2b8e379-536b-4a05-9f5c-718384eab23f" model="deepseek-llm-7b-chat"
I0304 08:26:35.175406       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:35.175412       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:35.175414       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:35.175542       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:35.175578       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:35.175583       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:35.223055       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0475, numInputTokens, 3754
I0304 08:26:35.223075       1 tree.go:471] Updated node(0) last access: 152.7249 seconds
I0304 08:26:35.223081       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:35.223085       1 tree.go:471] Updated node(2) last access: 152.7249 seconds
I0304 08:26:35.223093       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:35.223096       1 tree.go:471] Updated node(40) last access: 152.7250 seconds
I0304 08:26:35.223099       1 tree.go:490] Partial tokens match child node(94). Continue to go deeper in the radix tree
I0304 08:26:35.223102       1 tree.go:471] Updated node(94) last access: 152.7250 seconds
I0304 08:26:35.223108       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:35.223114       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:35.223121       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:35.223128       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:35.223134       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:35.223116252 +0000 UTC m=+152.843338676]
I0304 08:26:35.223148       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3636, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:35.223156       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:35.223212       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3636
I0304 08:26:35.223222       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:35.223230       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.223235       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.223239       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.223243       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.223248       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.223256       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:35.223264       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:35.223274       1 prefix_cache_and_load.go:584] latency, Route, 0.0479
I0304 08:26:35.223283       1 gateway.go:415] latency, selectTargetPod, 0.0479, target pod, 10.0.1.47:8000
I0304 08:26:35.223293       1 gateway.go:235] latency, HandleRequestBody, 0.0480
I0304 08:26:35.223936       1 gateway.go:207] "Processing request" requestID="e51f2b43-cca8-453a-87b0-abf4db29d49f"
I0304 08:26:35.223966       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e51f2b43-cca8-453a-87b0-abf4db29d49f"
I0304 08:26:35.223982       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:35.231645       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e51f2b43-cca8-453a-87b0-abf4db29d49f"
I0304 08:26:35.231765       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e51f2b43-cca8-453a-87b0-abf4db29d49f" model="deepseek-llm-7b-chat"
I0304 08:26:35.231809       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:35.231814       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:35.231816       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:35.231949       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:35.231991       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:35.231999       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:35.240606       1 gateway.go:562] latency, 0.0000, summary, hash(request), bef53f0b, selectedpod, 10.0.0.6:8000, ttft, 99, tpot, 19, e2e, 272, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:35.240623       1 gateway.go:748] "Request completed" requestID="8fd24e6b-a0dd-4495-8c7d-96e39b5905a1" targetPod="10.0.0.6:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:35.240632       1 gateway.go:764] "HandleResponseBody completed" requestID="8fd24e6b-a0dd-4495-8c7d-96e39b5905a1" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:35.240871       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a2b8e379-536b-4a05-9f5c-718384eab23f"
I0304 08:26:35.276487       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0445, numInputTokens, 3754
I0304 08:26:35.276504       1 tree.go:471] Updated node(0) last access: 152.7784 seconds
I0304 08:26:35.276509       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:35.276519       1 tree.go:471] Updated node(2) last access: 152.7784 seconds
I0304 08:26:35.276528       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:35.276532       1 tree.go:471] Updated node(37) last access: 152.7784 seconds
I0304 08:26:35.276535       1 tree.go:490] Partial tokens match child node(124). Continue to go deeper in the radix tree
I0304 08:26:35.276538       1 tree.go:471] Updated node(124) last access: 152.7784 seconds
I0304 08:26:35.276541       1 tree.go:490] Partial tokens match child node(117). Continue to go deeper in the radix tree
I0304 08:26:35.276543       1 tree.go:471] Updated node(117) last access: 152.7784 seconds
I0304 08:26:35.276549       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:35.276554       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:35.276561       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:35.276568       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:35.276572       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:35.276555773 +0000 UTC m=+152.896778208]
I0304 08:26:35.276587       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3638, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:35.276594       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:35.276648       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3638
I0304 08:26:35.276657       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:35.276664       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.276668       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.276672       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.276678       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.276684       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.276688       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.276696       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:35.276704       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:35.276712       1 prefix_cache_and_load.go:584] latency, Route, 0.0449
I0304 08:26:35.276719       1 gateway.go:415] latency, selectTargetPod, 0.0449, target pod, 10.0.1.47:8000
I0304 08:26:35.276731       1 gateway.go:235] latency, HandleRequestBody, 0.0451
I0304 08:26:35.285165       1 gateway.go:608] "First token received" requestID="a2b8e379-536b-4a05-9f5c-718384eab23f" ttft_ms=109
I0304 08:26:35.292633       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e51f2b43-cca8-453a-87b0-abf4db29d49f"
I0304 08:26:35.333286       1 gateway.go:608] "First token received" requestID="e51f2b43-cca8-453a-87b0-abf4db29d49f" ttft_ms=101
I0304 08:26:35.347471       1 gateway.go:562] latency, 0.0000, summary, hash(request), 052a794a, selectedpod, 10.0.3.38:8000, ttft, 104, tpot, 19, e2e, 280, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:35.347493       1 gateway.go:748] "Request completed" requestID="ef47620b-4226-4c38-9d22-8886cc30cba4" targetPod="10.0.3.38:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:35.347506       1 gateway.go:764] "HandleResponseBody completed" requestID="ef47620b-4226-4c38-9d22-8886cc30cba4" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:35.350227       1 gateway.go:207] "Processing request" requestID="f2c1db22-d91c-439d-b400-8b1a2926a261"
I0304 08:26:35.350262       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f2c1db22-d91c-439d-b400-8b1a2926a261"
I0304 08:26:35.350273       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:35.397136       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f2c1db22-d91c-439d-b400-8b1a2926a261"
I0304 08:26:35.397251       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f2c1db22-d91c-439d-b400-8b1a2926a261" model="deepseek-llm-7b-chat"
I0304 08:26:35.397305       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:35.397311       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:35.397315       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:35.397457       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:35.397490       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:35.397496       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:35.445923       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0484, numInputTokens, 3749
I0304 08:26:35.445943       1 tree.go:471] Updated node(0) last access: 152.9478 seconds
I0304 08:26:35.445949       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:35.445953       1 tree.go:471] Updated node(2) last access: 152.9478 seconds
I0304 08:26:35.445962       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:35.445965       1 tree.go:471] Updated node(30) last access: 152.9478 seconds
I0304 08:26:35.445981       1 tree.go:667] Split complete - New node(298)
I0304 08:26:35.445987       1 tree.go:668] Split complete - Child node(76)
I0304 08:26:35.445991       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0304 08:26:35.445995       1 tree.go:471] Updated node(298) last access: 152.9479 seconds
I0304 08:26:35.446000       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0304 08:26:35.446005       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3749 tokens
I0304 08:26:35.446011       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3749 tokens
I0304 08:26:35.446018       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:35.446023       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:35.446008163 +0000 UTC m=+153.066230597]
I0304 08:26:35.446038       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3749, Matched tokens: 3638, Matching ratio: 0.9704, # Matched pods: 0, Matched pods: []
I0304 08:26:35.446044       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9704 > 0.5000)
I0304 08:26:35.446102       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3638
I0304 08:26:35.446112       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:35.446119       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.446124       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.446128       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.446132       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.446138       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.446146       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:35.446156       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:35.446166       1 prefix_cache_and_load.go:584] latency, Route, 0.0489
I0304 08:26:35.446175       1 gateway.go:415] latency, selectTargetPod, 0.0489, target pod, 10.0.0.13:8000
I0304 08:26:35.446184       1 gateway.go:235] latency, HandleRequestBody, 0.0491
I0304 08:26:35.462475       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f2c1db22-d91c-439d-b400-8b1a2926a261"
I0304 08:26:35.470645       1 gateway.go:207] "Processing request" requestID="73def086-71f5-4260-9573-3763e6465e82"
I0304 08:26:35.470680       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="73def086-71f5-4260-9573-3763e6465e82"
I0304 08:26:35.470691       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:35.482776       1 gateway.go:329] "-- In RequestBody processing ..." requestID="73def086-71f5-4260-9573-3763e6465e82"
I0304 08:26:35.482898       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="73def086-71f5-4260-9573-3763e6465e82" model="deepseek-llm-7b-chat"
I0304 08:26:35.482942       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:35.482949       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:35.482952       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:35.483134       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:35.483173       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:35.483180       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:35.493552       1 gateway.go:608] "First token received" requestID="f2c1db22-d91c-439d-b400-8b1a2926a261" ttft_ms=96
I0304 08:26:35.512338       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2e7c4f44, selectedpod, 10.0.1.47:8000, ttft, 109, tpot, 25, e2e, 337, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:35.512358       1 gateway.go:748] "Request completed" requestID="a2b8e379-536b-4a05-9f5c-718384eab23f" targetPod="10.0.1.47:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:35.512368       1 gateway.go:764] "HandleResponseBody completed" requestID="a2b8e379-536b-4a05-9f5c-718384eab23f" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:35.530774       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0476, numInputTokens, 3755
I0304 08:26:35.530791       1 tree.go:471] Updated node(0) last access: 153.0327 seconds
I0304 08:26:35.530798       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:35.530801       1 tree.go:471] Updated node(2) last access: 153.0327 seconds
I0304 08:26:35.530809       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:35.530812       1 tree.go:471] Updated node(67) last access: 153.0327 seconds
I0304 08:26:35.530823       1 tree.go:667] Split complete - New node(300)
I0304 08:26:35.530827       1 tree.go:668] Split complete - Child node(107)
I0304 08:26:35.530832       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:35.530841       1 tree.go:471] Updated node(300) last access: 153.0327 seconds
I0304 08:26:35.530847       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:35.530852       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:35.530858       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:35.530866       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:35.530872       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:35.530854461 +0000 UTC m=+153.151076887]
I0304 08:26:35.530889       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3634, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:35.530895       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:35.531010       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3634
I0304 08:26:35.531021       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:35.531028       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.531037       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.531041       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.531049       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.531056       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.531068       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:35.531076       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:35.531086       1 prefix_cache_and_load.go:584] latency, Route, 0.0481
I0304 08:26:35.531099       1 gateway.go:415] latency, selectTargetPod, 0.0482, target pod, 10.0.1.33:8000
I0304 08:26:35.531186       1 gateway.go:235] latency, HandleRequestBody, 0.0484
I0304 08:26:35.533888       1 gateway.go:562] latency, 0.0000, summary, hash(request), 46639750, selectedpod, 10.0.1.47:8000, ttft, 101, tpot, 22, e2e, 302, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:35.533917       1 gateway.go:748] "Request completed" requestID="e51f2b43-cca8-453a-87b0-abf4db29d49f" targetPod="10.0.1.47:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:35.533935       1 gateway.go:764] "HandleResponseBody completed" requestID="e51f2b43-cca8-453a-87b0-abf4db29d49f" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:35.547808       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="73def086-71f5-4260-9573-3763e6465e82"
I0304 08:26:35.592804       1 gateway.go:608] "First token received" requestID="73def086-71f5-4260-9573-3763e6465e82" ttft_ms=109
I0304 08:26:35.623099       1 gateway.go:207] "Processing request" requestID="88ecb7df-bf8d-4904-b1d0-b283aeb92022"
I0304 08:26:35.623125       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="88ecb7df-bf8d-4904-b1d0-b283aeb92022"
I0304 08:26:35.623135       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:35.669547       1 gateway.go:562] latency, 0.0000, summary, hash(request), aa05766d, selectedpod, 10.0.0.13:8000, ttft, 96, tpot, 19, e2e, 272, numInputTokens, 3961, numOutputTokens, 10, numTotalTokens, 3971
I0304 08:26:35.669566       1 gateway.go:748] "Request completed" requestID="f2c1db22-d91c-439d-b400-8b1a2926a261" targetPod="10.0.0.13:8000" promptTokens=3961 completionTokens=10 totalTokens=3971
I0304 08:26:35.669577       1 gateway.go:764] "HandleResponseBody completed" requestID="f2c1db22-d91c-439d-b400-8b1a2926a261" promptTokens=3961 completionTokens=10 stream=true
I0304 08:26:35.677764       1 gateway.go:329] "-- In RequestBody processing ..." requestID="88ecb7df-bf8d-4904-b1d0-b283aeb92022"
I0304 08:26:35.677877       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="88ecb7df-bf8d-4904-b1d0-b283aeb92022" model="deepseek-llm-7b-chat"
I0304 08:26:35.677920       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:35.677928       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:35.677931       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:35.678121       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:35.678156       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:35.678161       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:35.727001       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 3756
I0304 08:26:35.727018       1 tree.go:471] Updated node(0) last access: 153.2289 seconds
I0304 08:26:35.727024       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:35.727028       1 tree.go:471] Updated node(2) last access: 153.2289 seconds
I0304 08:26:35.727036       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:35.727039       1 tree.go:471] Updated node(5) last access: 153.2289 seconds
I0304 08:26:35.727042       1 tree.go:490] Partial tokens match child node(105). Continue to go deeper in the radix tree
I0304 08:26:35.727045       1 tree.go:471] Updated node(105) last access: 153.2289 seconds
I0304 08:26:35.727052       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:35.727057       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:35.727064       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:35.727071       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:35.727077       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:35.727059701 +0000 UTC m=+153.347282134]
I0304 08:26:35.727093       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3637, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:35.727101       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:35.727160       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3637
I0304 08:26:35.727169       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:35.727176       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.727182       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.727188       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.727191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.727196       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.727204       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:35.727212       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:35.727221       1 prefix_cache_and_load.go:584] latency, Route, 0.0493
I0304 08:26:35.727228       1 gateway.go:415] latency, selectTargetPod, 0.0493, target pod, 10.0.3.28:8000
I0304 08:26:35.727238       1 gateway.go:235] latency, HandleRequestBody, 0.0495
I0304 08:26:35.738126       1 gateway.go:207] "Processing request" requestID="8d7917c9-2ffd-4f9d-9cfd-819086737cb7"
I0304 08:26:35.738165       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8d7917c9-2ffd-4f9d-9cfd-819086737cb7"
I0304 08:26:35.738184       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:35.740385       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8d7917c9-2ffd-4f9d-9cfd-819086737cb7"
I0304 08:26:35.740541       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8d7917c9-2ffd-4f9d-9cfd-819086737cb7" model="deepseek-llm-7b-chat"
I0304 08:26:35.740581       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:35.740588       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:35.740592       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:35.740754       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:35.740790       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:35.740796       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:35.742495       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="88ecb7df-bf8d-4904-b1d0-b283aeb92022"
I0304 08:26:35.771300       1 gateway.go:562] latency, 0.0000, summary, hash(request), fabac966, selectedpod, 10.0.1.33:8000, ttft, 109, tpot, 19, e2e, 288, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:35.771321       1 gateway.go:748] "Request completed" requestID="73def086-71f5-4260-9573-3763e6465e82" targetPod="10.0.1.33:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:35.771339       1 gateway.go:764] "HandleResponseBody completed" requestID="73def086-71f5-4260-9573-3763e6465e82" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:35.787547       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0467, numInputTokens, 3756
I0304 08:26:35.787564       1 tree.go:471] Updated node(0) last access: 153.2894 seconds
I0304 08:26:35.787570       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:35.787574       1 tree.go:471] Updated node(2) last access: 153.2894 seconds
I0304 08:26:35.787582       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:35.787586       1 tree.go:471] Updated node(40) last access: 153.2894 seconds
I0304 08:26:35.787589       1 tree.go:490] Partial tokens match child node(94). Continue to go deeper in the radix tree
I0304 08:26:35.787592       1 tree.go:471] Updated node(94) last access: 153.2895 seconds
I0304 08:26:35.787600       1 tree.go:667] Split complete - New node(303)
I0304 08:26:35.787603       1 tree.go:668] Split complete - Child node(95)
I0304 08:26:35.787608       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:35.787612       1 tree.go:471] Updated node(303) last access: 153.2895 seconds
I0304 08:26:35.787621       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:35.787625       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:35.787635       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:35.787644       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:35.787650       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:35.787628897 +0000 UTC m=+153.407851326]
I0304 08:26:35.787669       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3639, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:35.787679       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:35.787757       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3639
I0304 08:26:35.787767       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:35.787774       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.787779       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.787783       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.787787       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.787794       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.787799       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:35.787834       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:35.787844       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:35.787854       1 prefix_cache_and_load.go:584] latency, Route, 0.0473
I0304 08:26:35.787875       1 gateway.go:415] latency, selectTargetPod, 0.0473, target pod, 10.0.1.47:8000
I0304 08:26:35.787885       1 gateway.go:235] latency, HandleRequestBody, 0.0475
I0304 08:26:35.788007       1 gateway.go:608] "First token received" requestID="88ecb7df-bf8d-4904-b1d0-b283aeb92022" ttft_ms=110
I0304 08:26:35.805925       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8d7917c9-2ffd-4f9d-9cfd-819086737cb7"
I0304 08:26:35.851024       1 gateway.go:608] "First token received" requestID="8d7917c9-2ffd-4f9d-9cfd-819086737cb7" ttft_ms=110
I0304 08:26:35.963478       1 gateway.go:562] latency, 0.0000, summary, hash(request), b2f48221, selectedpod, 10.0.3.28:8000, ttft, 110, tpot, 19, e2e, 285, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:35.963495       1 gateway.go:748] "Request completed" requestID="88ecb7df-bf8d-4904-b1d0-b283aeb92022" targetPod="10.0.3.28:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:35.963507       1 gateway.go:764] "HandleResponseBody completed" requestID="88ecb7df-bf8d-4904-b1d0-b283aeb92022" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:36.026399       1 gateway.go:562] latency, 0.0000, summary, hash(request), f001a974, selectedpod, 10.0.1.47:8000, ttft, 110, tpot, 19, e2e, 285, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:36.026418       1 gateway.go:748] "Request completed" requestID="8d7917c9-2ffd-4f9d-9cfd-819086737cb7" targetPod="10.0.1.47:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:36.026427       1 gateway.go:764] "HandleResponseBody completed" requestID="8d7917c9-2ffd-4f9d-9cfd-819086737cb7" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:36.073579       1 gateway.go:207] "Processing request" requestID="0012e52b-842b-4604-b2ca-399dc255f06d"
I0304 08:26:36.073610       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0012e52b-842b-4604-b2ca-399dc255f06d"
I0304 08:26:36.073619       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:36.112574       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0012e52b-842b-4604-b2ca-399dc255f06d"
I0304 08:26:36.112700       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0012e52b-842b-4604-b2ca-399dc255f06d" model="deepseek-llm-7b-chat"
I0304 08:26:36.112759       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:36.112765       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:36.112769       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:36.112961       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:36.113016       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:36.113024       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:36.163294       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0503, numInputTokens, 3754
I0304 08:26:36.163315       1 tree.go:471] Updated node(0) last access: 153.6652 seconds
I0304 08:26:36.163321       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:36.163325       1 tree.go:471] Updated node(2) last access: 153.6652 seconds
I0304 08:26:36.163333       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:36.163337       1 tree.go:471] Updated node(12) last access: 153.6652 seconds
I0304 08:26:36.163347       1 tree.go:667] Split complete - New node(305)
I0304 08:26:36.163352       1 tree.go:668] Split complete - Child node(195)
I0304 08:26:36.163357       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:36.163362       1 tree.go:471] Updated node(305) last access: 153.6652 seconds
I0304 08:26:36.163367       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:36.163371       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:36.163377       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:36.163384       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:36.163388       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:36.163373165 +0000 UTC m=+153.783595591]
I0304 08:26:36.163403       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3642, Matching ratio: 0.9702, # Matched pods: 0, Matched pods: []
I0304 08:26:36.163411       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9702 > 0.5000)
I0304 08:26:36.163502       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3642
I0304 08:26:36.163527       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:36.163538       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:36.163545       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:36.163551       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:36.163559       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:36.163567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:36.163584       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:36.163599       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:36.163612       1 prefix_cache_and_load.go:584] latency, Route, 0.0508
I0304 08:26:36.163629       1 gateway.go:415] latency, selectTargetPod, 0.0509, target pod, 10.0.0.6:8000
I0304 08:26:36.163641       1 gateway.go:235] latency, HandleRequestBody, 0.0511
I0304 08:26:36.179908       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0012e52b-842b-4604-b2ca-399dc255f06d"
I0304 08:26:36.225179       1 gateway.go:608] "First token received" requestID="0012e52b-842b-4604-b2ca-399dc255f06d" ttft_ms=112
I0304 08:26:36.400336       1 gateway.go:562] latency, 0.0000, summary, hash(request), 270c1a80, selectedpod, 10.0.0.6:8000, ttft, 112, tpot, 19, e2e, 287, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:36.400355       1 gateway.go:748] "Request completed" requestID="0012e52b-842b-4604-b2ca-399dc255f06d" targetPod="10.0.0.6:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:36.400364       1 gateway.go:764] "HandleResponseBody completed" requestID="0012e52b-842b-4604-b2ca-399dc255f06d" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:37.004243       1 gateway.go:207] "Processing request" requestID="98c968bb-3341-4f1f-84e4-2a63ae58e5df"
I0304 08:26:37.004285       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="98c968bb-3341-4f1f-84e4-2a63ae58e5df"
I0304 08:26:37.004294       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:37.062789       1 gateway.go:207] "Processing request" requestID="1c5e0b49-69ee-4efd-aea2-ddd9f9a251d2"
I0304 08:26:37.062827       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1c5e0b49-69ee-4efd-aea2-ddd9f9a251d2"
I0304 08:26:37.062836       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:37.066137       1 gateway.go:329] "-- In RequestBody processing ..." requestID="98c968bb-3341-4f1f-84e4-2a63ae58e5df"
I0304 08:26:37.066262       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="98c968bb-3341-4f1f-84e4-2a63ae58e5df" model="deepseek-llm-7b-chat"
I0304 08:26:37.066308       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:37.066314       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:37.066318       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:37.066540       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:37.066577       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:37.066582       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:37.105087       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1c5e0b49-69ee-4efd-aea2-ddd9f9a251d2"
I0304 08:26:37.105217       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1c5e0b49-69ee-4efd-aea2-ddd9f9a251d2" model="deepseek-llm-7b-chat"
I0304 08:26:37.116715       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0501, numInputTokens, 3753
I0304 08:26:37.116734       1 tree.go:471] Updated node(0) last access: 154.6186 seconds
I0304 08:26:37.116740       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:37.116743       1 tree.go:471] Updated node(2) last access: 154.6186 seconds
I0304 08:26:37.116751       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:37.116754       1 tree.go:471] Updated node(9) last access: 154.6186 seconds
I0304 08:26:37.116757       1 tree.go:490] Partial tokens match child node(170). Continue to go deeper in the radix tree
I0304 08:26:37.116760       1 tree.go:471] Updated node(170) last access: 154.6186 seconds
I0304 08:26:37.116766       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:37.116772       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:37.116778       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:37.116785       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:37.116790       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:37.11677373 +0000 UTC m=+154.736996166]
I0304 08:26:37.116808       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3636, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:37.116815       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:37.116884       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3636
I0304 08:26:37.116893       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:37.116901       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.116907       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.116911       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.116916       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.116920       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.116931       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:37.116941       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:37.116951       1 prefix_cache_and_load.go:584] latency, Route, 0.0506
I0304 08:26:37.116964       1 gateway.go:415] latency, selectTargetPod, 0.0507, target pod, 10.0.0.34:8000
I0304 08:26:37.117011       1 gateway.go:235] latency, HandleRequestBody, 0.0509
I0304 08:26:37.117032       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0118
I0304 08:26:37.117045       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:37.117049       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:37.117230       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:37.117268       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:37.117274       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:37.134591       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="98c968bb-3341-4f1f-84e4-2a63ae58e5df"
I0304 08:26:37.166029       1 gateway.go:608] "First token received" requestID="98c968bb-3341-4f1f-84e4-2a63ae58e5df" ttft_ms=99
I0304 08:26:37.191049       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0738, numInputTokens, 3753
I0304 08:26:37.191064       1 tree.go:471] Updated node(0) last access: 154.6929 seconds
I0304 08:26:37.191071       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:37.191075       1 tree.go:471] Updated node(2) last access: 154.6929 seconds
I0304 08:26:37.191083       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:37.191088       1 tree.go:471] Updated node(5) last access: 154.6930 seconds
I0304 08:26:37.191104       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:37.191109       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:37.191116       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:37.191121       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:37.191126       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:37.191111489 +0000 UTC m=+154.811333915]
I0304 08:26:37.191140       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3633, Matching ratio: 0.9680, # Matched pods: 0, Matched pods: []
I0304 08:26:37.191146       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9680 > 0.5000)
I0304 08:26:37.191219       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3633
I0304 08:26:37.191229       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:37.191237       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.191245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.191251       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.191255       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.191267       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:37.191276       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:37.191284       1 prefix_cache_and_load.go:584] latency, Route, 0.0860
I0304 08:26:37.191294       1 gateway.go:415] latency, selectTargetPod, 0.0860, target pod, 10.0.3.28:8000
I0304 08:26:37.191304       1 gateway.go:235] latency, HandleRequestBody, 0.0862
I0304 08:26:37.206263       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1c5e0b49-69ee-4efd-aea2-ddd9f9a251d2"
I0304 08:26:37.237560       1 gateway.go:608] "First token received" requestID="1c5e0b49-69ee-4efd-aea2-ddd9f9a251d2" ttft_ms=132
I0304 08:26:37.273502       1 gateway.go:207] "Processing request" requestID="6644ac4a-c730-4b91-9e2e-afa3d175d354"
I0304 08:26:37.273532       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6644ac4a-c730-4b91-9e2e-afa3d175d354"
I0304 08:26:37.273542       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:37.317673       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6644ac4a-c730-4b91-9e2e-afa3d175d354"
I0304 08:26:37.317799       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6644ac4a-c730-4b91-9e2e-afa3d175d354" model="deepseek-llm-7b-chat"
I0304 08:26:37.317850       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:37.317858       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:37.317863       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:37.318065       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:37.318111       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:37.318119       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:37.340720       1 gateway.go:207] "Processing request" requestID="87617c7c-6891-45a6-b6b3-f36132e842b2"
I0304 08:26:37.340755       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="87617c7c-6891-45a6-b6b3-f36132e842b2"
I0304 08:26:37.340766       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:37.342050       1 gateway.go:562] latency, 0.0000, summary, hash(request), 508c975c, selectedpod, 10.0.0.34:8000, ttft, 99, tpot, 19, e2e, 275, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:37.342071       1 gateway.go:748] "Request completed" requestID="98c968bb-3341-4f1f-84e4-2a63ae58e5df" targetPod="10.0.0.34:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:37.342084       1 gateway.go:764] "HandleResponseBody completed" requestID="98c968bb-3341-4f1f-84e4-2a63ae58e5df" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:37.365814       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0477, numInputTokens, 3752
I0304 08:26:37.365832       1 tree.go:471] Updated node(0) last access: 154.8677 seconds
I0304 08:26:37.365839       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:37.365846       1 tree.go:471] Updated node(2) last access: 154.8677 seconds
I0304 08:26:37.365855       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:37.365860       1 tree.go:471] Updated node(67) last access: 154.8677 seconds
I0304 08:26:37.365870       1 tree.go:667] Split complete - New node(309)
I0304 08:26:37.365875       1 tree.go:668] Split complete - Child node(202)
I0304 08:26:37.365879       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:37.365883       1 tree.go:471] Updated node(309) last access: 154.8677 seconds
I0304 08:26:37.365888       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:37.365893       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:37.365899       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:37.365904       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:37.365910       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:37.365895584 +0000 UTC m=+154.986118009]
I0304 08:26:37.365929       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3638, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:37.365938       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:37.366016       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3638
I0304 08:26:37.366025       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:37.366032       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.366038       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.366048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.366054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.366058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.366074       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:37.366085       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:37.366093       1 prefix_cache_and_load.go:584] latency, Route, 0.0482
I0304 08:26:37.366104       1 gateway.go:415] latency, selectTargetPod, 0.0483, target pod, 10.0.1.33:8000
I0304 08:26:37.366117       1 gateway.go:235] latency, HandleRequestBody, 0.0484
I0304 08:26:37.376689       1 gateway.go:207] "Processing request" requestID="906b9797-b173-4000-b164-55eda3c9c6d7"
I0304 08:26:37.376718       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="906b9797-b173-4000-b164-55eda3c9c6d7"
I0304 08:26:37.376725       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:37.382558       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6644ac4a-c730-4b91-9e2e-afa3d175d354"
I0304 08:26:37.383813       1 gateway.go:329] "-- In RequestBody processing ..." requestID="87617c7c-6891-45a6-b6b3-f36132e842b2"
I0304 08:26:37.383962       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="87617c7c-6891-45a6-b6b3-f36132e842b2" model="deepseek-llm-7b-chat"
I0304 08:26:37.384022       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:37.384031       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:37.384034       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:37.384196       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:37.384233       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:37.384240       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:37.413228       1 gateway.go:562] latency, 0.0000, summary, hash(request), aab814dd, selectedpod, 10.0.3.28:8000, ttft, 132, tpot, 19, e2e, 308, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:37.413249       1 gateway.go:748] "Request completed" requestID="1c5e0b49-69ee-4efd-aea2-ddd9f9a251d2" targetPod="10.0.3.28:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:37.413259       1 gateway.go:764] "HandleResponseBody completed" requestID="1c5e0b49-69ee-4efd-aea2-ddd9f9a251d2" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:37.413859       1 gateway.go:608] "First token received" requestID="6644ac4a-c730-4b91-9e2e-afa3d175d354" ttft_ms=96
I0304 08:26:37.433449       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0492, numInputTokens, 3750
I0304 08:26:37.433467       1 tree.go:471] Updated node(0) last access: 154.9353 seconds
I0304 08:26:37.433474       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:37.433478       1 tree.go:471] Updated node(2) last access: 154.9353 seconds
I0304 08:26:37.433487       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:37.433491       1 tree.go:471] Updated node(9) last access: 154.9354 seconds
I0304 08:26:37.433501       1 tree.go:667] Split complete - New node(311)
I0304 08:26:37.433506       1 tree.go:668] Split complete - Child node(39)
I0304 08:26:37.433521       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0304 08:26:37.433529       1 tree.go:471] Updated node(311) last access: 154.9354 seconds
I0304 08:26:37.433536       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:37.433543       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3750 tokens
I0304 08:26:37.433551       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:37.433559       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:37.433564       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:37.43354618 +0000 UTC m=+155.053768605]
I0304 08:26:37.433580       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3638, Matching ratio: 0.9701, # Matched pods: 0, Matched pods: []
I0304 08:26:37.433588       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9701 > 0.5000)
I0304 08:26:37.433652       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3638
I0304 08:26:37.433661       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:37.433668       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.433675       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.433680       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.433684       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.433689       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.433700       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:37.433710       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:37.433719       1 prefix_cache_and_load.go:584] latency, Route, 0.0497
I0304 08:26:37.433733       1 gateway.go:415] latency, selectTargetPod, 0.0497, target pod, 10.0.0.34:8000
I0304 08:26:37.433743       1 gateway.go:235] latency, HandleRequestBody, 0.0499
I0304 08:26:37.436366       1 gateway.go:329] "-- In RequestBody processing ..." requestID="906b9797-b173-4000-b164-55eda3c9c6d7"
I0304 08:26:37.436477       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="906b9797-b173-4000-b164-55eda3c9c6d7" model="deepseek-llm-7b-chat"
I0304 08:26:37.436524       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:37.436530       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:37.436533       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:37.436713       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:37.436787       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:37.436793       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:37.451039       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="87617c7c-6891-45a6-b6b3-f36132e842b2"
I0304 08:26:37.481245       1 gateway.go:608] "First token received" requestID="87617c7c-6891-45a6-b6b3-f36132e842b2" ttft_ms=97
I0304 08:26:37.501488       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0647, numInputTokens, 3757
I0304 08:26:37.501505       1 tree.go:471] Updated node(0) last access: 155.0034 seconds
I0304 08:26:37.501520       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:37.501525       1 tree.go:471] Updated node(2) last access: 155.0034 seconds
I0304 08:26:37.501536       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:37.501540       1 tree.go:471] Updated node(5) last access: 155.0034 seconds
I0304 08:26:37.501544       1 tree.go:490] Partial tokens match child node(122). Continue to go deeper in the radix tree
I0304 08:26:37.501548       1 tree.go:471] Updated node(122) last access: 155.0034 seconds
I0304 08:26:37.501554       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:37.501559       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:37.501566       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:37.501572       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:37.501577       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:37.50156134 +0000 UTC m=+155.121783765]
I0304 08:26:37.501591       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3644, Matching ratio: 0.9699, # Matched pods: 0, Matched pods: []
I0304 08:26:37.501598       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9699 > 0.5000)
I0304 08:26:37.501661       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3644
I0304 08:26:37.501670       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:37.501678       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.501685       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.501691       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.501695       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.501701       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.501712       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:37.501721       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:37.501730       1 prefix_cache_and_load.go:584] latency, Route, 0.0652
I0304 08:26:37.501749       1 gateway.go:415] latency, selectTargetPod, 0.0652, target pod, 10.0.3.28:8000
I0304 08:26:37.501761       1 gateway.go:235] latency, HandleRequestBody, 0.0654
I0304 08:26:37.516460       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="906b9797-b173-4000-b164-55eda3c9c6d7"
I0304 08:26:37.546811       1 gateway.go:608] "First token received" requestID="906b9797-b173-4000-b164-55eda3c9c6d7" ttft_ms=110
I0304 08:26:37.589798       1 gateway.go:562] latency, 0.0000, summary, hash(request), 37e021cc, selectedpod, 10.0.1.33:8000, ttft, 96, tpot, 19, e2e, 272, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:37.589819       1 gateway.go:748] "Request completed" requestID="6644ac4a-c730-4b91-9e2e-afa3d175d354" targetPod="10.0.1.33:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:37.589832       1 gateway.go:764] "HandleResponseBody completed" requestID="6644ac4a-c730-4b91-9e2e-afa3d175d354" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:37.619226       1 gateway.go:207] "Processing request" requestID="ce6a0cac-f626-4670-b915-fb4e276b3cd9"
I0304 08:26:37.619244       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ce6a0cac-f626-4670-b915-fb4e276b3cd9"
I0304 08:26:37.619251       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:37.656936       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3deb21df, selectedpod, 10.0.0.34:8000, ttft, 97, tpot, 19, e2e, 273, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:37.656958       1 gateway.go:748] "Request completed" requestID="87617c7c-6891-45a6-b6b3-f36132e842b2" targetPod="10.0.0.34:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:37.656969       1 gateway.go:764] "HandleResponseBody completed" requestID="87617c7c-6891-45a6-b6b3-f36132e842b2" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:37.678000       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ce6a0cac-f626-4670-b915-fb4e276b3cd9"
I0304 08:26:37.678118       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ce6a0cac-f626-4670-b915-fb4e276b3cd9" model="deepseek-llm-7b-chat"
I0304 08:26:37.678165       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:37.678171       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:37.678174       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:37.678376       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:37.678412       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:37.678417       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:37.700655       1 gateway.go:207] "Processing request" requestID="664ec547-fc6c-4a17-b442-19b87daaad55"
I0304 08:26:37.700677       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="664ec547-fc6c-4a17-b442-19b87daaad55"
I0304 08:26:37.700684       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:37.722488       1 gateway.go:562] latency, 0.0000, summary, hash(request), 99349e37, selectedpod, 10.0.3.28:8000, ttft, 110, tpot, 19, e2e, 286, numInputTokens, 3973, numOutputTokens, 10, numTotalTokens, 3983
I0304 08:26:37.722506       1 gateway.go:748] "Request completed" requestID="906b9797-b173-4000-b164-55eda3c9c6d7" targetPod="10.0.3.28:8000" promptTokens=3973 completionTokens=10 totalTokens=3983
I0304 08:26:37.722525       1 gateway.go:764] "HandleResponseBody completed" requestID="906b9797-b173-4000-b164-55eda3c9c6d7" promptTokens=3973 completionTokens=10 stream=true
I0304 08:26:37.725488       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0471, numInputTokens, 3755
I0304 08:26:37.725508       1 tree.go:471] Updated node(0) last access: 155.2274 seconds
I0304 08:26:37.725522       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:37.725526       1 tree.go:471] Updated node(2) last access: 155.2274 seconds
I0304 08:26:37.725535       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:37.725539       1 tree.go:471] Updated node(67) last access: 155.2274 seconds
I0304 08:26:37.725551       1 tree.go:667] Split complete - New node(314)
I0304 08:26:37.725556       1 tree.go:668] Split complete - Child node(217)
I0304 08:26:37.725561       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:37.725566       1 tree.go:471] Updated node(314) last access: 155.2274 seconds
I0304 08:26:37.725572       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0304 08:26:37.725577       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:37.725583       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:37.725592       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:37.725600       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:37.725578827 +0000 UTC m=+155.345801253]
I0304 08:26:37.725619       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3645, Matching ratio: 0.9707, # Matched pods: 0, Matched pods: []
I0304 08:26:37.725629       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9707 > 0.5000)
I0304 08:26:37.725724       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3645
I0304 08:26:37.725733       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:37.725741       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.725746       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.725751       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.725756       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.725762       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.725774       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:37.725782       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:37.725794       1 prefix_cache_and_load.go:584] latency, Route, 0.0476
I0304 08:26:37.725805       1 gateway.go:415] latency, selectTargetPod, 0.0476, target pod, 10.0.1.33:8000
I0304 08:26:37.725816       1 gateway.go:235] latency, HandleRequestBody, 0.0478
I0304 08:26:37.743441       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ce6a0cac-f626-4670-b915-fb4e276b3cd9"
I0304 08:26:37.750682       1 gateway.go:329] "-- In RequestBody processing ..." requestID="664ec547-fc6c-4a17-b442-19b87daaad55"
I0304 08:26:37.750802       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="664ec547-fc6c-4a17-b442-19b87daaad55" model="deepseek-llm-7b-chat"
I0304 08:26:37.750871       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:37.750878       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:37.750881       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:37.751125       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:37.751179       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:37.751187       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:37.773882       1 gateway.go:608] "First token received" requestID="ce6a0cac-f626-4670-b915-fb4e276b3cd9" ttft_ms=95
I0304 08:26:37.790656       1 gateway.go:207] "Processing request" requestID="27892d2f-b2a4-4d87-86fe-906c4ed6db8c"
I0304 08:26:37.790686       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="27892d2f-b2a4-4d87-86fe-906c4ed6db8c"
I0304 08:26:37.790694       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:37.802914       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0517, numInputTokens, 3757
I0304 08:26:37.802935       1 tree.go:471] Updated node(0) last access: 155.3048 seconds
I0304 08:26:37.802941       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:37.802945       1 tree.go:471] Updated node(2) last access: 155.3048 seconds
I0304 08:26:37.802953       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:37.802958       1 tree.go:471] Updated node(30) last access: 155.3048 seconds
I0304 08:26:37.802967       1 tree.go:667] Split complete - New node(316)
I0304 08:26:37.802970       1 tree.go:668] Split complete - Child node(298)
I0304 08:26:37.802980       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0304 08:26:37.802986       1 tree.go:471] Updated node(316) last access: 155.3048 seconds
I0304 08:26:37.802992       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:37.802996       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:37.803001       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:37.803009       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:37.803016       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:37.802997945 +0000 UTC m=+155.423220371]
I0304 08:26:37.803035       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3634, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:37.803042       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:37.803106       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3634
I0304 08:26:37.803116       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:37.803124       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.803129       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.803133       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.803136       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.803141       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.803152       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:37.803164       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:37.803175       1 prefix_cache_and_load.go:584] latency, Route, 0.0523
I0304 08:26:37.803186       1 gateway.go:415] latency, selectTargetPod, 0.0523, target pod, 10.0.0.13:8000
I0304 08:26:37.803200       1 gateway.go:235] latency, HandleRequestBody, 0.0525
I0304 08:26:37.819201       1 gateway.go:329] "-- In RequestBody processing ..." requestID="27892d2f-b2a4-4d87-86fe-906c4ed6db8c"
I0304 08:26:37.819335       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="27892d2f-b2a4-4d87-86fe-906c4ed6db8c" model="deepseek-llm-7b-chat"
I0304 08:26:37.819376       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:37.819383       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:37.819387       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:37.819602       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:37.819652       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:37.819659       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:37.821267       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="664ec547-fc6c-4a17-b442-19b87daaad55"
I0304 08:26:37.866273       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0466, numInputTokens, 3749
I0304 08:26:37.866291       1 tree.go:471] Updated node(0) last access: 155.3682 seconds
I0304 08:26:37.866298       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:37.866301       1 tree.go:471] Updated node(2) last access: 155.3682 seconds
I0304 08:26:37.866310       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:37.866314       1 tree.go:471] Updated node(12) last access: 155.3682 seconds
I0304 08:26:37.866317       1 tree.go:490] Partial tokens match child node(161). Continue to go deeper in the radix tree
I0304 08:26:37.866320       1 tree.go:471] Updated node(161) last access: 155.3682 seconds
I0304 08:26:37.866329       1 tree.go:667] Split complete - New node(318)
I0304 08:26:37.866334       1 tree.go:668] Split complete - Child node(162)
I0304 08:26:37.866339       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0304 08:26:37.866346       1 tree.go:471] Updated node(318) last access: 155.3682 seconds
I0304 08:26:37.866352       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0304 08:26:37.866358       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3749 tokens
I0304 08:26:37.866363       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3749 tokens
I0304 08:26:37.866370       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:37.866378       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:37.866359863 +0000 UTC m=+155.486582289]
I0304 08:26:37.866396       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3749, Matched tokens: 3639, Matching ratio: 0.9707, # Matched pods: 0, Matched pods: []
I0304 08:26:37.866406       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9707 > 0.5000)
I0304 08:26:37.866524       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3639
I0304 08:26:37.866541       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:37.866552       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.866559       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.866568       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.866575       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.866580       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.866588       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:37.866602       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:37.866610       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:37.866623       1 prefix_cache_and_load.go:584] latency, Route, 0.0472
I0304 08:26:37.866639       1 gateway.go:415] latency, selectTargetPod, 0.0473, target pod, 10.0.0.6:8000
I0304 08:26:37.866650       1 gateway.go:235] latency, HandleRequestBody, 0.0475
I0304 08:26:37.866656       1 gateway.go:608] "First token received" requestID="664ec547-fc6c-4a17-b442-19b87daaad55" ttft_ms=115
I0304 08:26:37.887251       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="27892d2f-b2a4-4d87-86fe-906c4ed6db8c"
I0304 08:26:37.918115       1 gateway.go:608] "First token received" requestID="27892d2f-b2a4-4d87-86fe-906c4ed6db8c" ttft_ms=98
I0304 08:26:37.949378       1 gateway.go:562] latency, 0.0000, summary, hash(request), 456568e4, selectedpod, 10.0.1.33:8000, ttft, 95, tpot, 19, e2e, 271, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:37.949393       1 gateway.go:748] "Request completed" requestID="ce6a0cac-f626-4670-b915-fb4e276b3cd9" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:37.949403       1 gateway.go:764] "HandleResponseBody completed" requestID="ce6a0cac-f626-4670-b915-fb4e276b3cd9" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:37.976017       1 gateway.go:207] "Processing request" requestID="b28bea35-00fc-4aa4-88a4-80967dc62a8a"
I0304 08:26:37.976041       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b28bea35-00fc-4aa4-88a4-80967dc62a8a"
I0304 08:26:37.976049       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:38.028818       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b28bea35-00fc-4aa4-88a4-80967dc62a8a"
I0304 08:26:38.028941       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b28bea35-00fc-4aa4-88a4-80967dc62a8a" model="deepseek-llm-7b-chat"
I0304 08:26:38.029005       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:38.029012       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:38.029017       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:38.029233       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:38.029284       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:38.029293       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:38.042318       1 gateway.go:562] latency, 0.0000, summary, hash(request), f8d5a87f, selectedpod, 10.0.0.13:8000, ttft, 115, tpot, 19, e2e, 291, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:38.042339       1 gateway.go:748] "Request completed" requestID="664ec547-fc6c-4a17-b442-19b87daaad55" targetPod="10.0.0.13:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:38.042353       1 gateway.go:764] "HandleResponseBody completed" requestID="664ec547-fc6c-4a17-b442-19b87daaad55" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:38.078093       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 3755
I0304 08:26:38.078112       1 tree.go:471] Updated node(0) last access: 155.5800 seconds
I0304 08:26:38.078118       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:38.078122       1 tree.go:471] Updated node(2) last access: 155.5800 seconds
I0304 08:26:38.078130       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:38.078135       1 tree.go:471] Updated node(40) last access: 155.5800 seconds
I0304 08:26:38.078141       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:38.078147       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:38.078153       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:38.078160       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:38.078166       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:38.078149136 +0000 UTC m=+155.698371562]
I0304 08:26:38.078181       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3633, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:38.078188       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:38.078251       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:38.078260       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:38.078266       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.078272       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.078277       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.078280       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.078290       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:38.078299       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:38.078310       1 prefix_cache_and_load.go:584] latency, Route, 0.0493
I0304 08:26:38.078319       1 gateway.go:415] latency, selectTargetPod, 0.0493, target pod, 10.0.1.47:8000
I0304 08:26:38.078330       1 gateway.go:235] latency, HandleRequestBody, 0.0495
I0304 08:26:38.093441       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8327ff95, selectedpod, 10.0.0.6:8000, ttft, 98, tpot, 19, e2e, 274, numInputTokens, 3961, numOutputTokens, 10, numTotalTokens, 3971
I0304 08:26:38.093456       1 gateway.go:748] "Request completed" requestID="27892d2f-b2a4-4d87-86fe-906c4ed6db8c" targetPod="10.0.0.6:8000" promptTokens=3961 completionTokens=10 totalTokens=3971
I0304 08:26:38.093464       1 gateway.go:764] "HandleResponseBody completed" requestID="27892d2f-b2a4-4d87-86fe-906c4ed6db8c" promptTokens=3961 completionTokens=10 stream=true
I0304 08:26:38.095498       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b28bea35-00fc-4aa4-88a4-80967dc62a8a"
I0304 08:26:38.140840       1 gateway.go:608] "First token received" requestID="b28bea35-00fc-4aa4-88a4-80967dc62a8a" ttft_ms=111
I0304 08:26:38.316081       1 gateway.go:562] latency, 0.0000, summary, hash(request), 34535c67, selectedpod, 10.0.1.47:8000, ttft, 111, tpot, 19, e2e, 287, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:38.316103       1 gateway.go:748] "Request completed" requestID="b28bea35-00fc-4aa4-88a4-80967dc62a8a" targetPod="10.0.1.47:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:38.316113       1 gateway.go:764] "HandleResponseBody completed" requestID="b28bea35-00fc-4aa4-88a4-80967dc62a8a" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:38.329061       1 gateway.go:207] "Processing request" requestID="76e0eb43-5d67-4e62-a4c3-bcc32751862f"
I0304 08:26:38.329089       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="76e0eb43-5d67-4e62-a4c3-bcc32751862f"
I0304 08:26:38.329098       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:38.346048       1 gateway.go:329] "-- In RequestBody processing ..." requestID="76e0eb43-5d67-4e62-a4c3-bcc32751862f"
I0304 08:26:38.346173       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="76e0eb43-5d67-4e62-a4c3-bcc32751862f" model="deepseek-llm-7b-chat"
I0304 08:26:38.346217       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:38.346224       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:38.346227       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:38.346391       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:38.346426       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:38.346432       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:38.392114       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0457, numInputTokens, 3757
I0304 08:26:38.392130       1 tree.go:471] Updated node(0) last access: 155.8940 seconds
I0304 08:26:38.392136       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:38.392141       1 tree.go:471] Updated node(2) last access: 155.8940 seconds
I0304 08:26:38.392150       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:38.392153       1 tree.go:471] Updated node(40) last access: 155.8940 seconds
I0304 08:26:38.392162       1 tree.go:667] Split complete - New node(321)
I0304 08:26:38.392165       1 tree.go:668] Split complete - Child node(135)
I0304 08:26:38.392170       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0304 08:26:38.392174       1 tree.go:471] Updated node(321) last access: 155.8940 seconds
I0304 08:26:38.392180       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:38.392185       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:38.392190       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:38.392196       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:38.392202       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:38.392187227 +0000 UTC m=+156.012409654]
I0304 08:26:38.392215       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3637, Matching ratio: 0.9681, # Matched pods: 0, Matched pods: []
I0304 08:26:38.392221       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9681 > 0.5000)
I0304 08:26:38.392282       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3637
I0304 08:26:38.392292       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:38.392300       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.392304       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.392308       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.392311       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.392317       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.392327       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:38.392336       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:38.392345       1 prefix_cache_and_load.go:584] latency, Route, 0.0461
I0304 08:26:38.392354       1 gateway.go:415] latency, selectTargetPod, 0.0461, target pod, 10.0.1.47:8000
I0304 08:26:38.392364       1 gateway.go:235] latency, HandleRequestBody, 0.0463
I0304 08:26:38.408646       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="76e0eb43-5d67-4e62-a4c3-bcc32751862f"
I0304 08:26:38.453172       1 gateway.go:608] "First token received" requestID="76e0eb43-5d67-4e62-a4c3-bcc32751862f" ttft_ms=107
I0304 08:26:38.531836       1 gateway.go:207] "Processing request" requestID="eb926c94-7257-4a92-b44f-19397836567b"
I0304 08:26:38.531865       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="eb926c94-7257-4a92-b44f-19397836567b"
I0304 08:26:38.531873       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:38.555803       1 gateway.go:329] "-- In RequestBody processing ..." requestID="eb926c94-7257-4a92-b44f-19397836567b"
I0304 08:26:38.555922       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="eb926c94-7257-4a92-b44f-19397836567b" model="deepseek-llm-7b-chat"
I0304 08:26:38.555970       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:38.555988       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:38.555992       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:38.556166       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:38.556211       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:38.556217       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:38.601759       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0455, numInputTokens, 3758
I0304 08:26:38.601775       1 tree.go:471] Updated node(0) last access: 156.1036 seconds
I0304 08:26:38.601782       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:38.601785       1 tree.go:471] Updated node(2) last access: 156.1036 seconds
I0304 08:26:38.601795       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:38.601801       1 tree.go:471] Updated node(5) last access: 156.1037 seconds
I0304 08:26:38.601806       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0304 08:26:38.601811       1 tree.go:471] Updated node(85) last access: 156.1037 seconds
I0304 08:26:38.601815       1 tree.go:490] Partial tokens match child node(193). Continue to go deeper in the radix tree
I0304 08:26:38.601818       1 tree.go:471] Updated node(193) last access: 156.1037 seconds
I0304 08:26:38.601826       1 tree.go:667] Split complete - New node(323)
I0304 08:26:38.601830       1 tree.go:668] Split complete - Child node(194)
I0304 08:26:38.601836       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0304 08:26:38.601841       1 tree.go:471] Updated node(323) last access: 156.1037 seconds
I0304 08:26:38.601846       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:38.601851       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3758 tokens
I0304 08:26:38.601860       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:38.601866       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:38.601871       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:38.601854962 +0000 UTC m=+156.222077388]
I0304 08:26:38.601889       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3643, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:38.601899       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:38.601963       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3643
I0304 08:26:38.601984       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:38.601993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.601998       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.602003       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.602009       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.602014       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.602017       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.602021       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:38.602031       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:38.602041       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:38.602049       1 prefix_cache_and_load.go:584] latency, Route, 0.0461
I0304 08:26:38.602063       1 gateway.go:415] latency, selectTargetPod, 0.0461, target pod, 10.0.3.28:8000
I0304 08:26:38.602075       1 gateway.go:235] latency, HandleRequestBody, 0.0463
I0304 08:26:38.617434       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="eb926c94-7257-4a92-b44f-19397836567b"
I0304 08:26:38.628714       1 gateway.go:562] latency, 0.0000, summary, hash(request), 634053e9, selectedpod, 10.0.1.47:8000, ttft, 107, tpot, 19, e2e, 282, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:38.628733       1 gateway.go:748] "Request completed" requestID="76e0eb43-5d67-4e62-a4c3-bcc32751862f" targetPod="10.0.1.47:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:38.628744       1 gateway.go:764] "HandleResponseBody completed" requestID="76e0eb43-5d67-4e62-a4c3-bcc32751862f" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:38.662854       1 gateway.go:608] "First token received" requestID="eb926c94-7257-4a92-b44f-19397836567b" ttft_ms=107
I0304 08:26:38.838222       1 gateway.go:562] latency, 0.0000, summary, hash(request), d6aa0c73, selectedpod, 10.0.3.28:8000, ttft, 107, tpot, 19, e2e, 282, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:38.838245       1 gateway.go:748] "Request completed" requestID="eb926c94-7257-4a92-b44f-19397836567b" targetPod="10.0.3.28:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:38.838260       1 gateway.go:764] "HandleResponseBody completed" requestID="eb926c94-7257-4a92-b44f-19397836567b" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:38.939501       1 gateway.go:207] "Processing request" requestID="70503d6f-0e10-40d9-be2a-95553071559d"
I0304 08:26:38.939544       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="70503d6f-0e10-40d9-be2a-95553071559d"
I0304 08:26:38.939558       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:38.987288       1 gateway.go:329] "-- In RequestBody processing ..." requestID="70503d6f-0e10-40d9-be2a-95553071559d"
I0304 08:26:38.987410       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="70503d6f-0e10-40d9-be2a-95553071559d" model="deepseek-llm-7b-chat"
I0304 08:26:38.987470       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:38.987476       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:38.987480       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:38.987676       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:38.987711       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:38.987717       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:39.006850       1 gateway.go:207] "Processing request" requestID="f73d6e7d-552e-4776-bc9c-d54c884ea847"
I0304 08:26:39.006884       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f73d6e7d-552e-4776-bc9c-d54c884ea847"
I0304 08:26:39.006893       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:39.037413       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0497, numInputTokens, 3752
I0304 08:26:39.037433       1 tree.go:471] Updated node(0) last access: 156.5393 seconds
I0304 08:26:39.037439       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:39.037443       1 tree.go:471] Updated node(2) last access: 156.5393 seconds
I0304 08:26:39.037452       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:39.037455       1 tree.go:471] Updated node(24) last access: 156.5393 seconds
I0304 08:26:39.037459       1 tree.go:490] Partial tokens match child node(87). Continue to go deeper in the radix tree
I0304 08:26:39.037462       1 tree.go:471] Updated node(87) last access: 156.5393 seconds
I0304 08:26:39.037468       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:39.037474       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:39.037481       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:39.037489       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:39.037494       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:39.037476229 +0000 UTC m=+156.657698654]
I0304 08:26:39.037522       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3640, Matching ratio: 0.9701, # Matched pods: 0, Matched pods: []
I0304 08:26:39.037529       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9701 > 0.5000)
I0304 08:26:39.037605       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3640
I0304 08:26:39.037615       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:39.037623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.037628       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.037634       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.037639       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.037644       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.037659       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:39.037676       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:39.037685       1 prefix_cache_and_load.go:584] latency, Route, 0.0502
I0304 08:26:39.037695       1 gateway.go:415] latency, selectTargetPod, 0.0502, target pod, 10.0.1.53:8000
I0304 08:26:39.037706       1 gateway.go:235] latency, HandleRequestBody, 0.0504
I0304 08:26:39.054249       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="70503d6f-0e10-40d9-be2a-95553071559d"
I0304 08:26:39.057069       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f73d6e7d-552e-4776-bc9c-d54c884ea847"
I0304 08:26:39.057193       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f73d6e7d-552e-4776-bc9c-d54c884ea847" model="deepseek-llm-7b-chat"
I0304 08:26:39.057240       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:39.057248       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:39.057252       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:39.057468       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:39.057526       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:39.057532       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:39.085271       1 gateway.go:608] "First token received" requestID="70503d6f-0e10-40d9-be2a-95553071559d" ttft_ms=97
I0304 08:26:39.104673       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0471, numInputTokens, 3753
I0304 08:26:39.104691       1 tree.go:471] Updated node(0) last access: 156.6066 seconds
I0304 08:26:39.104697       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:39.104701       1 tree.go:471] Updated node(2) last access: 156.6066 seconds
I0304 08:26:39.104711       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:39.104717       1 tree.go:471] Updated node(40) last access: 156.6066 seconds
I0304 08:26:39.104726       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:39.104730       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:39.104736       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:39.104743       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:39.104748       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:39.10473223 +0000 UTC m=+156.724954656]
I0304 08:26:39.104760       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3633, Matching ratio: 0.9680, # Matched pods: 0, Matched pods: []
I0304 08:26:39.104767       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9680 > 0.5000)
I0304 08:26:39.104854       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:39.104864       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:39.104872       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.104879       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.104884       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.104890       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.104899       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:39.104909       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:39.104918       1 prefix_cache_and_load.go:584] latency, Route, 0.0477
I0304 08:26:39.104927       1 gateway.go:415] latency, selectTargetPod, 0.0477, target pod, 10.0.1.47:8000
I0304 08:26:39.104937       1 gateway.go:235] latency, HandleRequestBody, 0.0479
I0304 08:26:39.121205       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f73d6e7d-552e-4776-bc9c-d54c884ea847"
I0304 08:26:39.151354       1 gateway.go:608] "First token received" requestID="f73d6e7d-552e-4776-bc9c-d54c884ea847" ttft_ms=94
I0304 08:26:39.260691       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7a01ecdd, selectedpod, 10.0.1.53:8000, ttft, 97, tpot, 19, e2e, 273, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:39.260712       1 gateway.go:748] "Request completed" requestID="70503d6f-0e10-40d9-be2a-95553071559d" targetPod="10.0.1.53:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:39.260724       1 gateway.go:764] "HandleResponseBody completed" requestID="70503d6f-0e10-40d9-be2a-95553071559d" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:39.324877       1 gateway.go:207] "Processing request" requestID="8ada2fef-8e09-4731-9c1c-9d447cf866e2"
I0304 08:26:39.324908       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8ada2fef-8e09-4731-9c1c-9d447cf866e2"
I0304 08:26:39.324917       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:39.326699       1 gateway.go:562] latency, 0.0000, summary, hash(request), 24bc5542, selectedpod, 10.0.1.47:8000, ttft, 94, tpot, 19, e2e, 269, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:39.326717       1 gateway.go:748] "Request completed" requestID="f73d6e7d-552e-4776-bc9c-d54c884ea847" targetPod="10.0.1.47:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:39.326726       1 gateway.go:764] "HandleResponseBody completed" requestID="f73d6e7d-552e-4776-bc9c-d54c884ea847" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:39.356629       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8ada2fef-8e09-4731-9c1c-9d447cf866e2"
I0304 08:26:39.356769       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8ada2fef-8e09-4731-9c1c-9d447cf866e2" model="deepseek-llm-7b-chat"
I0304 08:26:39.356842       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:39.356849       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:39.356852       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:39.357057       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:39.357095       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:39.357101       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:39.360666       1 gateway.go:207] "Processing request" requestID="8bc472d9-cb87-47a4-aecc-5a5a8c8165c1"
I0304 08:26:39.360706       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8bc472d9-cb87-47a4-aecc-5a5a8c8165c1"
I0304 08:26:39.360716       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:39.375926       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8bc472d9-cb87-47a4-aecc-5a5a8c8165c1"
I0304 08:26:39.376054       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8bc472d9-cb87-47a4-aecc-5a5a8c8165c1" model="deepseek-llm-7b-chat"
I0304 08:26:39.408154       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0510, numInputTokens, 3756
I0304 08:26:39.408173       1 tree.go:471] Updated node(0) last access: 156.9100 seconds
I0304 08:26:39.408179       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:39.408183       1 tree.go:471] Updated node(2) last access: 156.9100 seconds
I0304 08:26:39.408191       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:39.408196       1 tree.go:471] Updated node(9) last access: 156.9101 seconds
I0304 08:26:39.408200       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0304 08:26:39.408204       1 tree.go:471] Updated node(63) last access: 156.9101 seconds
I0304 08:26:39.408215       1 tree.go:667] Split complete - New node(327)
I0304 08:26:39.408219       1 tree.go:668] Split complete - Child node(10)
I0304 08:26:39.408224       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:39.408229       1 tree.go:471] Updated node(327) last access: 156.9101 seconds
I0304 08:26:39.408235       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:39.408240       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:39.408246       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:39.408253       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:39.408257       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:39.408242341 +0000 UTC m=+157.028464766]
I0304 08:26:39.408271       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3639, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:39.408278       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:39.408343       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3639
I0304 08:26:39.408353       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:39.408360       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.408365       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.408369       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.408373       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.408377       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.408383       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.408394       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:39.408401       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:39.408413       1 prefix_cache_and_load.go:584] latency, Route, 0.0516
I0304 08:26:39.408427       1 gateway.go:415] latency, selectTargetPod, 0.0516, target pod, 10.0.0.34:8000
I0304 08:26:39.408437       1 gateway.go:235] latency, HandleRequestBody, 0.0518
I0304 08:26:39.408464       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0324
I0304 08:26:39.408469       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:39.408472       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:39.408619       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:39.408656       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:39.408661       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:39.425902       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8ada2fef-8e09-4731-9c1c-9d447cf866e2"
I0304 08:26:39.454589       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0459, numInputTokens, 3751
I0304 08:26:39.454606       1 tree.go:471] Updated node(0) last access: 156.9565 seconds
I0304 08:26:39.454612       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:39.454616       1 tree.go:471] Updated node(2) last access: 156.9565 seconds
I0304 08:26:39.454625       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:39.454628       1 tree.go:471] Updated node(37) last access: 156.9565 seconds
I0304 08:26:39.454638       1 tree.go:667] Split complete - New node(329)
I0304 08:26:39.454644       1 tree.go:668] Split complete - Child node(269)
I0304 08:26:39.454651       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0304 08:26:39.454656       1 tree.go:471] Updated node(329) last access: 156.9565 seconds
I0304 08:26:39.454663       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 106 tokens:
I0304 08:26:39.454668       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:26:39.454677       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:39.454684       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:39.454691       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:39.45467128 +0000 UTC m=+157.074893710]
I0304 08:26:39.454711       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3645, Matching ratio: 0.9717, # Matched pods: 0, Matched pods: []
I0304 08:26:39.454718       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9717 > 0.5000)
I0304 08:26:39.454801       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3645
I0304 08:26:39.454811       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:39.454821       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.454830       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.454836       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.454843       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.454849       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:39.454860       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:39.454868       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:39.454876       1 prefix_cache_and_load.go:584] latency, Route, 0.0788
I0304 08:26:39.454887       1 gateway.go:415] latency, selectTargetPod, 0.0788, target pod, 10.0.1.47:8000
I0304 08:26:39.454900       1 gateway.go:235] latency, HandleRequestBody, 0.0790
I0304 08:26:39.470930       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8bc472d9-cb87-47a4-aecc-5a5a8c8165c1"
I0304 08:26:39.471313       1 gateway.go:608] "First token received" requestID="8ada2fef-8e09-4731-9c1c-9d447cf866e2" ttft_ms=114
I0304 08:26:39.500819       1 gateway.go:608] "First token received" requestID="8bc472d9-cb87-47a4-aecc-5a5a8c8165c1" ttft_ms=124
I0304 08:26:39.647010       1 gateway.go:562] latency, 0.0000, summary, hash(request), 63d164be, selectedpod, 10.0.0.34:8000, ttft, 114, tpot, 19, e2e, 290, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:39.647032       1 gateway.go:748] "Request completed" requestID="8ada2fef-8e09-4731-9c1c-9d447cf866e2" targetPod="10.0.0.34:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:39.647043       1 gateway.go:764] "HandleResponseBody completed" requestID="8ada2fef-8e09-4731-9c1c-9d447cf866e2" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:39.676435       1 gateway.go:562] latency, 0.0000, summary, hash(request), 133e158d, selectedpod, 10.0.1.47:8000, ttft, 124, tpot, 19, e2e, 300, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:39.676451       1 gateway.go:748] "Request completed" requestID="8bc472d9-cb87-47a4-aecc-5a5a8c8165c1" targetPod="10.0.1.47:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:39.676461       1 gateway.go:764] "HandleResponseBody completed" requestID="8bc472d9-cb87-47a4-aecc-5a5a8c8165c1" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:39.972952       1 gateway.go:207] "Processing request" requestID="9526a6de-3e84-412a-b8c9-5df89bd656db"
I0304 08:26:39.973001       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9526a6de-3e84-412a-b8c9-5df89bd656db"
I0304 08:26:39.973011       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:40.031127       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9526a6de-3e84-412a-b8c9-5df89bd656db"
I0304 08:26:40.031250       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9526a6de-3e84-412a-b8c9-5df89bd656db" model="deepseek-llm-7b-chat"
I0304 08:26:40.031294       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:40.031300       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:40.031304       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:40.031571       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:40.031613       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:40.031619       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:40.078587       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0470, numInputTokens, 3756
I0304 08:26:40.078604       1 tree.go:471] Updated node(0) last access: 157.5805 seconds
I0304 08:26:40.078610       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:40.078614       1 tree.go:471] Updated node(2) last access: 157.5805 seconds
I0304 08:26:40.078623       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:40.078628       1 tree.go:471] Updated node(67) last access: 157.5805 seconds
I0304 08:26:40.078632       1 tree.go:490] Partial tokens match child node(280). Continue to go deeper in the radix tree
I0304 08:26:40.078635       1 tree.go:471] Updated node(280) last access: 157.5805 seconds
I0304 08:26:40.078641       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:40.078648       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:40.078658       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:40.078665       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:40.078672       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:40.07865146 +0000 UTC m=+157.698873886]
I0304 08:26:40.078693       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3636, Matching ratio: 0.9681, # Matched pods: 0, Matched pods: []
I0304 08:26:40.078703       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9681 > 0.5000)
I0304 08:26:40.078828       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3636
I0304 08:26:40.078841       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:40.078853       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.078859       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.078866       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.078873       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.078877       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.078893       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:40.078903       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:40.078913       1 prefix_cache_and_load.go:584] latency, Route, 0.0476
I0304 08:26:40.078925       1 gateway.go:415] latency, selectTargetPod, 0.0476, target pod, 10.0.1.33:8000
I0304 08:26:40.078937       1 gateway.go:235] latency, HandleRequestBody, 0.0478
I0304 08:26:40.095535       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9526a6de-3e84-412a-b8c9-5df89bd656db"
I0304 08:26:40.141180       1 gateway.go:608] "First token received" requestID="9526a6de-3e84-412a-b8c9-5df89bd656db" ttft_ms=110
I0304 08:26:40.218925       1 gateway.go:207] "Processing request" requestID="6cda3fa9-804b-4197-afb5-bd6f5c783168"
I0304 08:26:40.218958       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6cda3fa9-804b-4197-afb5-bd6f5c783168"
I0304 08:26:40.218969       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:40.266305       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6cda3fa9-804b-4197-afb5-bd6f5c783168"
I0304 08:26:40.266431       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6cda3fa9-804b-4197-afb5-bd6f5c783168" model="deepseek-llm-7b-chat"
I0304 08:26:40.266480       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:40.266487       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:40.266490       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:40.266740       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:40.266782       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:40.266788       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:40.268212       1 gateway.go:207] "Processing request" requestID="42720b50-3373-4cc9-9b4e-73cee188d59f"
I0304 08:26:40.268239       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="42720b50-3373-4cc9-9b4e-73cee188d59f"
I0304 08:26:40.268247       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:40.311934       1 gateway.go:329] "-- In RequestBody processing ..." requestID="42720b50-3373-4cc9-9b4e-73cee188d59f"
I0304 08:26:40.312058       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="42720b50-3373-4cc9-9b4e-73cee188d59f" model="deepseek-llm-7b-chat"
I0304 08:26:40.315562       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 3752
I0304 08:26:40.315584       1 tree.go:471] Updated node(0) last access: 157.8174 seconds
I0304 08:26:40.315591       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:40.315595       1 tree.go:471] Updated node(2) last access: 157.8175 seconds
I0304 08:26:40.315604       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:40.315608       1 tree.go:471] Updated node(9) last access: 157.8175 seconds
I0304 08:26:40.315617       1 tree.go:667] Split complete - New node(332)
I0304 08:26:40.315619       1 tree.go:668] Split complete - Child node(197)
I0304 08:26:40.315624       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:40.315627       1 tree.go:471] Updated node(332) last access: 157.8175 seconds
I0304 08:26:40.315633       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:40.315636       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:40.315642       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:40.315647       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:40.315654       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:40.315638039 +0000 UTC m=+157.935860465]
I0304 08:26:40.315671       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3637, Matching ratio: 0.9693, # Matched pods: 0, Matched pods: []
I0304 08:26:40.315678       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9693 > 0.5000)
I0304 08:26:40.315748       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3637
I0304 08:26:40.315757       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:40.315764       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.315771       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.315775       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.315781       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.315785       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.315797       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:40.315805       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:40.315817       1 prefix_cache_and_load.go:584] latency, Route, 0.0493
I0304 08:26:40.315834       1 gateway.go:415] latency, selectTargetPod, 0.0494, target pod, 10.0.0.34:8000
I0304 08:26:40.315847       1 gateway.go:235] latency, HandleRequestBody, 0.0495
I0304 08:26:40.315865       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0038
I0304 08:26:40.315878       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:40.315882       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:40.316098       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:40.316139       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:40.316145       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:40.316733       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d39af44, selectedpod, 10.0.1.33:8000, ttft, 110, tpot, 19, e2e, 285, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:40.316754       1 gateway.go:748] "Request completed" requestID="9526a6de-3e84-412a-b8c9-5df89bd656db" targetPod="10.0.1.33:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:40.316768       1 gateway.go:764] "HandleResponseBody completed" requestID="9526a6de-3e84-412a-b8c9-5df89bd656db" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:40.331914       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6cda3fa9-804b-4197-afb5-bd6f5c783168"
I0304 08:26:40.363325       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0472, numInputTokens, 3751
I0304 08:26:40.363343       1 tree.go:471] Updated node(0) last access: 157.8652 seconds
I0304 08:26:40.363349       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:40.363352       1 tree.go:471] Updated node(2) last access: 157.8652 seconds
I0304 08:26:40.363361       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:40.363364       1 tree.go:471] Updated node(37) last access: 157.8652 seconds
I0304 08:26:40.363374       1 tree.go:667] Split complete - New node(334)
I0304 08:26:40.363386       1 tree.go:668] Split complete - Child node(329)
I0304 08:26:40.363394       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0304 08:26:40.363399       1 tree.go:471] Updated node(334) last access: 157.8653 seconds
I0304 08:26:40.363408       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:40.363413       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:26:40.363421       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:40.363428       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:40.363437       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:40.363416026 +0000 UTC m=+157.983638452]
I0304 08:26:40.363458       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3635, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:40.363470       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:40.363547       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3635
I0304 08:26:40.363557       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:40.363564       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.363569       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.363573       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.363578       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.363583       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.363597       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:40.363605       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:40.363618       1 prefix_cache_and_load.go:584] latency, Route, 0.0515
I0304 08:26:40.363633       1 gateway.go:415] latency, selectTargetPod, 0.0515, target pod, 10.0.1.47:8000
I0304 08:26:40.363644       1 gateway.go:235] latency, HandleRequestBody, 0.0517
I0304 08:26:40.365519       1 gateway.go:608] "First token received" requestID="6cda3fa9-804b-4197-afb5-bd6f5c783168" ttft_ms=99
I0304 08:26:40.380263       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="42720b50-3373-4cc9-9b4e-73cee188d59f"
I0304 08:26:40.411153       1 gateway.go:608] "First token received" requestID="42720b50-3373-4cc9-9b4e-73cee188d59f" ttft_ms=99
I0304 08:26:40.538584       1 gateway.go:562] latency, 0.0000, summary, hash(request), 73cda46e, selectedpod, 10.0.0.34:8000, ttft, 99, tpot, 19, e2e, 272, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:40.538612       1 gateway.go:748] "Request completed" requestID="6cda3fa9-804b-4197-afb5-bd6f5c783168" targetPod="10.0.0.34:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:40.538628       1 gateway.go:764] "HandleResponseBody completed" requestID="6cda3fa9-804b-4197-afb5-bd6f5c783168" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:40.586654       1 gateway.go:562] latency, 0.0000, summary, hash(request), b2248bb6, selectedpod, 10.0.1.47:8000, ttft, 99, tpot, 19, e2e, 274, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:40.586676       1 gateway.go:748] "Request completed" requestID="42720b50-3373-4cc9-9b4e-73cee188d59f" targetPod="10.0.1.47:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:40.586688       1 gateway.go:764] "HandleResponseBody completed" requestID="42720b50-3373-4cc9-9b4e-73cee188d59f" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:40.844537       1 gateway.go:207] "Processing request" requestID="c0bbd7a8-408e-4b7a-8d22-b2c469a95b3a"
I0304 08:26:40.844570       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c0bbd7a8-408e-4b7a-8d22-b2c469a95b3a"
I0304 08:26:40.844579       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:40.901841       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c0bbd7a8-408e-4b7a-8d22-b2c469a95b3a"
I0304 08:26:40.902025       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c0bbd7a8-408e-4b7a-8d22-b2c469a95b3a" model="deepseek-llm-7b-chat"
I0304 08:26:40.902096       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:40.902104       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:40.902108       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:40.902386       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:40.902428       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:40.902435       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:40.948926       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0465, numInputTokens, 3752
I0304 08:26:40.948946       1 tree.go:471] Updated node(0) last access: 158.4508 seconds
I0304 08:26:40.948954       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:40.948958       1 tree.go:471] Updated node(2) last access: 158.4508 seconds
I0304 08:26:40.948967       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:40.948981       1 tree.go:471] Updated node(9) last access: 158.4508 seconds
I0304 08:26:40.948994       1 tree.go:667] Split complete - New node(336)
I0304 08:26:40.948998       1 tree.go:668] Split complete - Child node(8)
I0304 08:26:40.949003       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:40.949008       1 tree.go:471] Updated node(336) last access: 158.4509 seconds
I0304 08:26:40.949014       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:40.949018       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:40.949024       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:40.949030       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:40.949035       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:40.949020192 +0000 UTC m=+158.569242626]
I0304 08:26:40.949052       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3635, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:40.949059       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:40.949133       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3635
I0304 08:26:40.949143       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:40.949153       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.949159       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.949165       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.949170       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.949175       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:40.949186       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:40.949195       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:40.949205       1 prefix_cache_and_load.go:584] latency, Route, 0.0471
I0304 08:26:40.949216       1 gateway.go:415] latency, selectTargetPod, 0.0471, target pod, 10.0.0.34:8000
I0304 08:26:40.949228       1 gateway.go:235] latency, HandleRequestBody, 0.0474
I0304 08:26:40.968709       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c0bbd7a8-408e-4b7a-8d22-b2c469a95b3a"
I0304 08:26:40.996873       1 gateway.go:608] "First token received" requestID="c0bbd7a8-408e-4b7a-8d22-b2c469a95b3a" ttft_ms=94
I0304 08:26:41.105616       1 gateway.go:207] "Processing request" requestID="a77a6f9c-988a-434c-858a-a2ead4c45905"
I0304 08:26:41.105636       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a77a6f9c-988a-434c-858a-a2ead4c45905"
I0304 08:26:41.105643       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:41.161701       1 gateway.go:207] "Processing request" requestID="c4b9aff0-ada5-44ec-b26b-1a6b4806beaf"
I0304 08:26:41.161721       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c4b9aff0-ada5-44ec-b26b-1a6b4806beaf"
I0304 08:26:41.161729       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:41.161765       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a77a6f9c-988a-434c-858a-a2ead4c45905"
I0304 08:26:41.161952       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a77a6f9c-988a-434c-858a-a2ead4c45905" model="deepseek-llm-7b-chat"
I0304 08:26:41.162009       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:41.162017       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:41.162020       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:41.162239       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:41.162279       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:41.162285       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:41.172719       1 gateway.go:562] latency, 0.0000, summary, hash(request), 2767b330, selectedpod, 10.0.0.34:8000, ttft, 94, tpot, 19, e2e, 270, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:41.172745       1 gateway.go:748] "Request completed" requestID="c0bbd7a8-408e-4b7a-8d22-b2c469a95b3a" targetPod="10.0.0.34:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:41.172759       1 gateway.go:764] "HandleResponseBody completed" requestID="c0bbd7a8-408e-4b7a-8d22-b2c469a95b3a" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:41.205318       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c4b9aff0-ada5-44ec-b26b-1a6b4806beaf"
I0304 08:26:41.205431       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c4b9aff0-ada5-44ec-b26b-1a6b4806beaf" model="deepseek-llm-7b-chat"
I0304 08:26:41.208620       1 gateway.go:207] "Processing request" requestID="6aab4d53-bfed-4b15-bf50-f33df4fb6048"
I0304 08:26:41.208650       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="6aab4d53-bfed-4b15-bf50-f33df4fb6048"
I0304 08:26:41.208657       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:41.212853       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0506, numInputTokens, 3754
I0304 08:26:41.212874       1 tree.go:471] Updated node(0) last access: 158.7147 seconds
I0304 08:26:41.212881       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:41.212886       1 tree.go:471] Updated node(2) last access: 158.7147 seconds
I0304 08:26:41.212894       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:41.212899       1 tree.go:471] Updated node(30) last access: 158.7148 seconds
I0304 08:26:41.212902       1 tree.go:490] Partial tokens match child node(316). Continue to go deeper in the radix tree
I0304 08:26:41.212905       1 tree.go:471] Updated node(316) last access: 158.7148 seconds
I0304 08:26:41.212908       1 tree.go:490] Partial tokens match child node(298). Continue to go deeper in the radix tree
I0304 08:26:41.212912       1 tree.go:471] Updated node(298) last access: 158.7148 seconds
I0304 08:26:41.212946       1 tree.go:667] Split complete - New node(338)
I0304 08:26:41.212953       1 tree.go:668] Split complete - Child node(299)
I0304 08:26:41.212959       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0304 08:26:41.212966       1 tree.go:471] Updated node(338) last access: 158.7148 seconds
I0304 08:26:41.212983       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:41.212988       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:41.212995       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:41.213002       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:41.213008       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:41.212990655 +0000 UTC m=+158.833213081]
I0304 08:26:41.213028       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3639, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:41.213037       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:41.213112       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3639
I0304 08:26:41.213121       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:41.213128       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.213139       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.213145       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.213149       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.213153       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.213157       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.213163       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.213174       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:41.213184       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:41.213196       1 prefix_cache_and_load.go:584] latency, Route, 0.0512
I0304 08:26:41.213216       1 gateway.go:415] latency, selectTargetPod, 0.0512, target pod, 10.0.0.13:8000
I0304 08:26:41.213230       1 gateway.go:235] latency, HandleRequestBody, 0.0515
I0304 08:26:41.213254       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0078
I0304 08:26:41.213258       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:41.213262       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:41.213439       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:41.213478       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:41.213483       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:41.229673       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a77a6f9c-988a-434c-858a-a2ead4c45905"
I0304 08:26:41.259162       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0457, numInputTokens, 3752
I0304 08:26:41.259178       1 tree.go:471] Updated node(0) last access: 158.7610 seconds
I0304 08:26:41.259185       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:41.259188       1 tree.go:471] Updated node(2) last access: 158.7611 seconds
I0304 08:26:41.259196       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:41.259201       1 tree.go:471] Updated node(12) last access: 158.7611 seconds
I0304 08:26:41.259206       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:41.259212       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:41.259218       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:41.259225       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:41.259229       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:41.259213811 +0000 UTC m=+158.879436237]
I0304 08:26:41.259244       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3633, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:41.259251       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:41.259311       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3633
I0304 08:26:41.259323       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:41.259334       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.259341       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.259348       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.259353       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.259368       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:41.259382       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:41.259395       1 prefix_cache_and_load.go:584] latency, Route, 0.0539
I0304 08:26:41.259410       1 gateway.go:415] latency, selectTargetPod, 0.0539, target pod, 10.0.0.6:8000
I0304 08:26:41.259420       1 gateway.go:235] latency, HandleRequestBody, 0.0541
I0304 08:26:41.261034       1 gateway.go:608] "First token received" requestID="a77a6f9c-988a-434c-858a-a2ead4c45905" ttft_ms=99
I0304 08:26:41.271392       1 gateway.go:329] "-- In RequestBody processing ..." requestID="6aab4d53-bfed-4b15-bf50-f33df4fb6048"
I0304 08:26:41.271545       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="6aab4d53-bfed-4b15-bf50-f33df4fb6048" model="deepseek-llm-7b-chat"
I0304 08:26:41.271588       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:41.271593       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:41.271597       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:41.271776       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:41.271822       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:41.271830       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:41.277114       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c4b9aff0-ada5-44ec-b26b-1a6b4806beaf"
I0304 08:26:41.308526       1 gateway.go:608] "First token received" requestID="c4b9aff0-ada5-44ec-b26b-1a6b4806beaf" ttft_ms=103
I0304 08:26:41.322613       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0508, numInputTokens, 3757
I0304 08:26:41.322631       1 tree.go:471] Updated node(0) last access: 158.8245 seconds
I0304 08:26:41.322637       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:41.322641       1 tree.go:471] Updated node(2) last access: 158.8245 seconds
I0304 08:26:41.322649       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:41.322652       1 tree.go:471] Updated node(22) last access: 158.8245 seconds
I0304 08:26:41.322663       1 tree.go:667] Split complete - New node(341)
I0304 08:26:41.322667       1 tree.go:668] Split complete - Child node(147)
I0304 08:26:41.322672       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0304 08:26:41.322676       1 tree.go:471] Updated node(341) last access: 158.8245 seconds
I0304 08:26:41.322685       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:41.322690       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:41.322697       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:41.322706       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:41.322713       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:41.322692065 +0000 UTC m=+158.942914497]
I0304 08:26:41.322729       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3637, Matching ratio: 0.9681, # Matched pods: 0, Matched pods: []
I0304 08:26:41.322739       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9681 > 0.5000)
I0304 08:26:41.322824       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3637
I0304 08:26:41.322839       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:41.322850       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.322861       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.322870       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.322879       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.322885       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.322896       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:41.322904       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:41.322915       1 prefix_cache_and_load.go:584] latency, Route, 0.0513
I0304 08:26:41.322924       1 gateway.go:415] latency, selectTargetPod, 0.0513, target pod, 10.0.1.33:8000
I0304 08:26:41.322935       1 gateway.go:235] latency, HandleRequestBody, 0.0515
I0304 08:26:41.340873       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="6aab4d53-bfed-4b15-bf50-f33df4fb6048"
I0304 08:26:41.369609       1 gateway.go:207] "Processing request" requestID="fc51c040-9b70-42c7-9273-03aeebea9d76"
I0304 08:26:41.369635       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fc51c040-9b70-42c7-9273-03aeebea9d76"
I0304 08:26:41.369644       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:41.386265       1 gateway.go:608] "First token received" requestID="6aab4d53-bfed-4b15-bf50-f33df4fb6048" ttft_ms=114
I0304 08:26:41.409892       1 gateway.go:207] "Processing request" requestID="baf621fd-29ac-4f86-b0e8-0c5605a879ab"
I0304 08:26:41.409916       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="baf621fd-29ac-4f86-b0e8-0c5605a879ab"
I0304 08:26:41.409923       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:41.416437       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fc51c040-9b70-42c7-9273-03aeebea9d76"
I0304 08:26:41.416589       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fc51c040-9b70-42c7-9273-03aeebea9d76" model="deepseek-llm-7b-chat"
I0304 08:26:41.416633       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:41.416640       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:41.416643       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:41.416843       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:41.416892       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:41.416900       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:41.436925       1 gateway.go:562] latency, 0.0000, summary, hash(request), fac1a6f3, selectedpod, 10.0.0.13:8000, ttft, 99, tpot, 19, e2e, 275, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:41.436945       1 gateway.go:748] "Request completed" requestID="a77a6f9c-988a-434c-858a-a2ead4c45905" targetPod="10.0.0.13:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:41.436956       1 gateway.go:764] "HandleResponseBody completed" requestID="a77a6f9c-988a-434c-858a-a2ead4c45905" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:41.462193       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0453, numInputTokens, 3753
I0304 08:26:41.462210       1 tree.go:471] Updated node(0) last access: 158.9641 seconds
I0304 08:26:41.462217       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:41.462221       1 tree.go:471] Updated node(2) last access: 158.9641 seconds
I0304 08:26:41.462230       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:41.462234       1 tree.go:471] Updated node(5) last access: 158.9641 seconds
I0304 08:26:41.462238       1 tree.go:490] Partial tokens match child node(85). Continue to go deeper in the radix tree
I0304 08:26:41.462242       1 tree.go:471] Updated node(85) last access: 158.9641 seconds
I0304 08:26:41.462248       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:41.462253       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:41.462260       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:41.462267       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:41.462273       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:41.462255856 +0000 UTC m=+159.082478281]
I0304 08:26:41.462288       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3636, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:41.462296       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:41.462354       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3636
I0304 08:26:41.462363       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:41.462371       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.462376       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.462382       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.462388       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.462392       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.462400       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:41.462407       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:41.462417       1 prefix_cache_and_load.go:584] latency, Route, 0.0458
I0304 08:26:41.462424       1 gateway.go:415] latency, selectTargetPod, 0.0458, target pod, 10.0.3.28:8000
I0304 08:26:41.462434       1 gateway.go:235] latency, HandleRequestBody, 0.0460
I0304 08:26:41.464284       1 gateway.go:329] "-- In RequestBody processing ..." requestID="baf621fd-29ac-4f86-b0e8-0c5605a879ab"
I0304 08:26:41.464422       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="baf621fd-29ac-4f86-b0e8-0c5605a879ab" model="deepseek-llm-7b-chat"
I0304 08:26:41.464463       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:41.464470       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:41.464473       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:41.464696       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:41.464742       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:41.464749       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:41.473761       1 gateway.go:207] "Processing request" requestID="76f8484f-5376-423a-861d-f0060ab59073"
I0304 08:26:41.473795       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="76f8484f-5376-423a-861d-f0060ab59073"
I0304 08:26:41.473804       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:41.477243       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fc51c040-9b70-42c7-9273-03aeebea9d76"
I0304 08:26:41.483965       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7c035a5b, selectedpod, 10.0.0.6:8000, ttft, 103, tpot, 19, e2e, 278, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:41.483995       1 gateway.go:748] "Request completed" requestID="c4b9aff0-ada5-44ec-b26b-1a6b4806beaf" targetPod="10.0.0.6:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:41.484008       1 gateway.go:764] "HandleResponseBody completed" requestID="c4b9aff0-ada5-44ec-b26b-1a6b4806beaf" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:41.512773       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0480, numInputTokens, 3754
I0304 08:26:41.512790       1 tree.go:471] Updated node(0) last access: 159.0147 seconds
I0304 08:26:41.512796       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:41.512799       1 tree.go:471] Updated node(2) last access: 159.0147 seconds
I0304 08:26:41.512808       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:41.512811       1 tree.go:471] Updated node(30) last access: 159.0147 seconds
I0304 08:26:41.512816       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:41.512822       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:41.512828       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:41.512834       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:41.512839       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:41.512824122 +0000 UTC m=+159.133046556]
I0304 08:26:41.512854       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:41.512860       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:41.512944       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3633
I0304 08:26:41.512958       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:41.512980       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.512990       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.512996       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.513003       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.513013       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:41.513022       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:41.513033       1 prefix_cache_and_load.go:584] latency, Route, 0.0486
I0304 08:26:41.513046       1 gateway.go:415] latency, selectTargetPod, 0.0486, target pod, 10.0.0.13:8000
I0304 08:26:41.513060       1 gateway.go:235] latency, HandleRequestBody, 0.0488
I0304 08:26:41.522295       1 gateway.go:329] "-- In RequestBody processing ..." requestID="76f8484f-5376-423a-861d-f0060ab59073"
I0304 08:26:41.522602       1 gateway.go:608] "First token received" requestID="fc51c040-9b70-42c7-9273-03aeebea9d76" ttft_ms=106
I0304 08:26:41.532897       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="baf621fd-29ac-4f86-b0e8-0c5605a879ab"
I0304 08:26:41.532962       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="76f8484f-5376-423a-861d-f0060ab59073" model="deepseek-llm-7b-chat"
I0304 08:26:41.533037       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:41.533043       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:41.533047       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:41.533208       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:41.533245       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:41.533250       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:41.562069       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5aa65354, selectedpod, 10.0.1.33:8000, ttft, 114, tpot, 19, e2e, 290, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:41.562090       1 gateway.go:748] "Request completed" requestID="6aab4d53-bfed-4b15-bf50-f33df4fb6048" targetPod="10.0.1.33:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:41.562101       1 gateway.go:764] "HandleResponseBody completed" requestID="6aab4d53-bfed-4b15-bf50-f33df4fb6048" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:41.577634       1 gateway.go:608] "First token received" requestID="baf621fd-29ac-4f86-b0e8-0c5605a879ab" ttft_ms=113
I0304 08:26:41.597817       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0646, numInputTokens, 3749
I0304 08:26:41.597836       1 tree.go:471] Updated node(0) last access: 159.0997 seconds
I0304 08:26:41.597842       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:41.597846       1 tree.go:471] Updated node(2) last access: 159.0997 seconds
I0304 08:26:41.597855       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:41.597859       1 tree.go:471] Updated node(26) last access: 159.0997 seconds
I0304 08:26:41.597863       1 tree.go:490] Partial tokens match child node(149). Continue to go deeper in the radix tree
I0304 08:26:41.597865       1 tree.go:471] Updated node(149) last access: 159.0997 seconds
I0304 08:26:41.597876       1 tree.go:667] Split complete - New node(345)
I0304 08:26:41.597880       1 tree.go:668] Split complete - Child node(243)
I0304 08:26:41.597885       1 tree.go:501] latency, splitNode, 0.0000 seconds, 114 tokens:
I0304 08:26:41.597889       1 tree.go:471] Updated node(345) last access: 159.0998 seconds
I0304 08:26:41.597894       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0304 08:26:41.597899       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3749 tokens
I0304 08:26:41.597905       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3749 tokens
I0304 08:26:41.597911       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:41.597916       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:41.59790117 +0000 UTC m=+159.218123596]
I0304 08:26:41.597931       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3749, Matched tokens: 3638, Matching ratio: 0.9704, # Matched pods: 0, Matched pods: []
I0304 08:26:41.597939       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9704 > 0.5000)
I0304 08:26:41.598027       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3638
I0304 08:26:41.598037       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:41.598044       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.598050       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.598056       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.598061       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.598065       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.598069       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.598077       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:41.598087       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:41.598097       1 prefix_cache_and_load.go:584] latency, Route, 0.0651
I0304 08:26:41.598105       1 gateway.go:415] latency, selectTargetPod, 0.0651, target pod, 10.0.3.38:8000
I0304 08:26:41.598114       1 gateway.go:235] latency, HandleRequestBody, 0.0758
I0304 08:26:41.613091       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="76f8484f-5376-423a-861d-f0060ab59073"
I0304 08:26:41.644153       1 gateway.go:608] "First token received" requestID="76f8484f-5376-423a-861d-f0060ab59073" ttft_ms=121
I0304 08:26:41.697875       1 gateway.go:562] latency, 0.0000, summary, hash(request), a447462a, selectedpod, 10.0.3.28:8000, ttft, 106, tpot, 19, e2e, 281, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:41.697893       1 gateway.go:748] "Request completed" requestID="fc51c040-9b70-42c7-9273-03aeebea9d76" targetPod="10.0.3.28:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:41.697902       1 gateway.go:764] "HandleResponseBody completed" requestID="fc51c040-9b70-42c7-9273-03aeebea9d76" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:41.753390       1 gateway.go:562] latency, 0.0000, summary, hash(request), fa4059aa, selectedpod, 10.0.0.13:8000, ttft, 113, tpot, 19, e2e, 289, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:41.753411       1 gateway.go:748] "Request completed" requestID="baf621fd-29ac-4f86-b0e8-0c5605a879ab" targetPod="10.0.0.13:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:41.753420       1 gateway.go:764] "HandleResponseBody completed" requestID="baf621fd-29ac-4f86-b0e8-0c5605a879ab" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:41.758484       1 gateway.go:207] "Processing request" requestID="d09e9224-b514-462a-9729-fcc73524e93a"
I0304 08:26:41.758526       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d09e9224-b514-462a-9729-fcc73524e93a"
I0304 08:26:41.758538       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:41.815137       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d09e9224-b514-462a-9729-fcc73524e93a"
I0304 08:26:41.815260       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d09e9224-b514-462a-9729-fcc73524e93a" model="deepseek-llm-7b-chat"
I0304 08:26:41.815305       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:41.815312       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:41.815316       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:41.815491       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:41.815540       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:41.815547       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:41.822775       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9829759a, selectedpod, 10.0.3.38:8000, ttft, 121, tpot, 19, e2e, 300, numInputTokens, 3964, numOutputTokens, 10, numTotalTokens, 3974
I0304 08:26:41.822797       1 gateway.go:748] "Request completed" requestID="76f8484f-5376-423a-861d-f0060ab59073" targetPod="10.0.3.38:8000" promptTokens=3964 completionTokens=10 totalTokens=3974
I0304 08:26:41.822809       1 gateway.go:764] "HandleResponseBody completed" requestID="76f8484f-5376-423a-861d-f0060ab59073" promptTokens=3964 completionTokens=10 stream=true
I0304 08:26:41.835301       1 gateway.go:207] "Processing request" requestID="b73cec33-a6d7-4c72-a8c9-51caaff06664"
I0304 08:26:41.835321       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b73cec33-a6d7-4c72-a8c9-51caaff06664"
I0304 08:26:41.835329       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:41.861223       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0457, numInputTokens, 3754
I0304 08:26:41.861239       1 tree.go:471] Updated node(0) last access: 159.3631 seconds
I0304 08:26:41.861245       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:41.861249       1 tree.go:471] Updated node(2) last access: 159.3631 seconds
I0304 08:26:41.861257       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:41.861260       1 tree.go:471] Updated node(37) last access: 159.3631 seconds
I0304 08:26:41.861264       1 tree.go:490] Partial tokens match child node(165). Continue to go deeper in the radix tree
I0304 08:26:41.861269       1 tree.go:471] Updated node(165) last access: 159.3631 seconds
I0304 08:26:41.861277       1 tree.go:667] Split complete - New node(347)
I0304 08:26:41.861284       1 tree.go:668] Split complete - Child node(166)
I0304 08:26:41.861288       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0304 08:26:41.861292       1 tree.go:471] Updated node(347) last access: 159.3632 seconds
I0304 08:26:41.861297       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:41.861300       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:41.861306       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:41.861310       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:41.861315       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:41.861301883 +0000 UTC m=+159.481524309]
I0304 08:26:41.861327       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3640, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:41.861333       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:41.861392       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3640
I0304 08:26:41.861399       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:41.861406       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.861412       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.861417       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.861420       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.861424       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.861431       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.861440       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:41.861449       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:41.861459       1 prefix_cache_and_load.go:584] latency, Route, 0.0462
I0304 08:26:41.861468       1 gateway.go:415] latency, selectTargetPod, 0.0462, target pod, 10.0.1.47:8000
I0304 08:26:41.861478       1 gateway.go:235] latency, HandleRequestBody, 0.0463
I0304 08:26:41.863506       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b73cec33-a6d7-4c72-a8c9-51caaff06664"
I0304 08:26:41.863633       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b73cec33-a6d7-4c72-a8c9-51caaff06664" model="deepseek-llm-7b-chat"
I0304 08:26:41.863674       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:41.863680       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:41.863683       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:41.863879       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:41.863917       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:41.863922       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:41.878361       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d09e9224-b514-462a-9729-fcc73524e93a"
I0304 08:26:41.912046       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0481, numInputTokens, 3758
I0304 08:26:41.912065       1 tree.go:471] Updated node(0) last access: 159.4139 seconds
I0304 08:26:41.912071       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:41.912075       1 tree.go:471] Updated node(2) last access: 159.4139 seconds
I0304 08:26:41.912084       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:41.912089       1 tree.go:471] Updated node(22) last access: 159.4140 seconds
I0304 08:26:41.912099       1 tree.go:667] Split complete - New node(349)
I0304 08:26:41.912104       1 tree.go:668] Split complete - Child node(233)
I0304 08:26:41.912108       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0304 08:26:41.912113       1 tree.go:471] Updated node(349) last access: 159.4140 seconds
I0304 08:26:41.912118       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:41.912123       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3758 tokens
I0304 08:26:41.912129       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:41.912138       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:41.912146       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:41.912125222 +0000 UTC m=+159.532347647]
I0304 08:26:41.912162       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3640, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:41.912168       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:41.912229       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3640
I0304 08:26:41.912238       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:41.912246       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.912252       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.912256       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.912262       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.912266       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:41.912274       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:41.912282       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:41.912292       1 prefix_cache_and_load.go:584] latency, Route, 0.0486
I0304 08:26:41.912303       1 gateway.go:415] latency, selectTargetPod, 0.0486, target pod, 10.0.1.33:8000
I0304 08:26:41.912316       1 gateway.go:235] latency, HandleRequestBody, 0.0488
I0304 08:26:41.923744       1 gateway.go:608] "First token received" requestID="d09e9224-b514-462a-9729-fcc73524e93a" ttft_ms=108
I0304 08:26:41.928690       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b73cec33-a6d7-4c72-a8c9-51caaff06664"
I0304 08:26:41.973462       1 gateway.go:608] "First token received" requestID="b73cec33-a6d7-4c72-a8c9-51caaff06664" ttft_ms=109
I0304 08:26:41.978442       1 gateway.go:207] "Processing request" requestID="c6e573b6-780f-4d85-b4c1-fe20cf7243f1"
I0304 08:26:41.978467       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c6e573b6-780f-4d85-b4c1-fe20cf7243f1"
I0304 08:26:41.978475       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:42.033918       1 gateway.go:207] "Processing request" requestID="ee95d715-dde6-4555-9d1b-9532209937dc"
I0304 08:26:42.033945       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ee95d715-dde6-4555-9d1b-9532209937dc"
I0304 08:26:42.033953       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:42.036210       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ee95d715-dde6-4555-9d1b-9532209937dc"
I0304 08:26:42.036339       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ee95d715-dde6-4555-9d1b-9532209937dc" model="deepseek-llm-7b-chat"
I0304 08:26:42.036384       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:42.036392       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:42.036397       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:42.036621       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:42.036668       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:42.036675       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:42.041478       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c6e573b6-780f-4d85-b4c1-fe20cf7243f1"
I0304 08:26:42.041598       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c6e573b6-780f-4d85-b4c1-fe20cf7243f1" model="deepseek-llm-7b-chat"
I0304 08:26:42.083968       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0473, numInputTokens, 3751
I0304 08:26:42.083994       1 tree.go:471] Updated node(0) last access: 159.5859 seconds
I0304 08:26:42.084000       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:42.084003       1 tree.go:471] Updated node(2) last access: 159.5859 seconds
I0304 08:26:42.084012       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:42.084015       1 tree.go:471] Updated node(5) last access: 159.5859 seconds
I0304 08:26:42.084022       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:42.084027       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3751 tokens
I0304 08:26:42.084035       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:42.084045       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:42.084051       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:42.084030109 +0000 UTC m=+159.704252545]
I0304 08:26:42.084067       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3633, Matching ratio: 0.9685, # Matched pods: 0, Matched pods: []
I0304 08:26:42.084074       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9685 > 0.5000)
I0304 08:26:42.084182       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3633
I0304 08:26:42.084191       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:42.084205       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.084212       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.084217       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.084222       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.084230       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:42.084242       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:42.084272       1 prefix_cache_and_load.go:584] latency, Route, 0.0479
I0304 08:26:42.084286       1 gateway.go:415] latency, selectTargetPod, 0.0479, target pod, 10.0.3.28:8000
I0304 08:26:42.084298       1 gateway.go:235] latency, HandleRequestBody, 0.0481
I0304 08:26:42.084336       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0427
I0304 08:26:42.084354       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:42.084358       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:42.084789       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:42.084855       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0005
I0304 08:26:42.084860       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:42.099286       1 gateway.go:562] latency, 0.0000, summary, hash(request), f3e449aa, selectedpod, 10.0.1.47:8000, ttft, 108, tpot, 19, e2e, 284, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:42.099305       1 gateway.go:748] "Request completed" requestID="d09e9224-b514-462a-9729-fcc73524e93a" targetPod="10.0.1.47:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:42.099317       1 gateway.go:764] "HandleResponseBody completed" requestID="d09e9224-b514-462a-9729-fcc73524e93a" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:42.099687       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ee95d715-dde6-4555-9d1b-9532209937dc"
I0304 08:26:42.130457       1 gateway.go:608] "First token received" requestID="ee95d715-dde6-4555-9d1b-9532209937dc" ttft_ms=94
I0304 08:26:42.130935       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0461, numInputTokens, 3751
I0304 08:26:42.130949       1 tree.go:471] Updated node(0) last access: 159.6328 seconds
I0304 08:26:42.130956       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:42.130960       1 tree.go:471] Updated node(2) last access: 159.6328 seconds
I0304 08:26:42.130967       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:42.130982       1 tree.go:471] Updated node(5) last access: 159.6328 seconds
I0304 08:26:42.130986       1 tree.go:490] Partial tokens match child node(16). Continue to go deeper in the radix tree
I0304 08:26:42.130989       1 tree.go:471] Updated node(16) last access: 159.6329 seconds
I0304 08:26:42.130998       1 tree.go:667] Split complete - New node(352)
I0304 08:26:42.131002       1 tree.go:668] Split complete - Child node(6)
I0304 08:26:42.131007       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0304 08:26:42.131011       1 tree.go:471] Updated node(352) last access: 159.6329 seconds
I0304 08:26:42.131017       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:42.131022       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:26:42.131028       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:42.131034       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:42.131039       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:42.13102447 +0000 UTC m=+159.751246896]
I0304 08:26:42.131053       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3637, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:42.131059       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:42.131117       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3637
I0304 08:26:42.131126       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:42.131133       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.131158       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.131170       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.131175       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.131178       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.131184       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.131191       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:42.131201       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:42.131210       1 prefix_cache_and_load.go:584] latency, Route, 0.0896
I0304 08:26:42.131219       1 gateway.go:415] latency, selectTargetPod, 0.0896, target pod, 10.0.3.28:8000
I0304 08:26:42.131244       1 gateway.go:235] latency, HandleRequestBody, 0.0898
I0304 08:26:42.131745       1 gateway.go:207] "Processing request" requestID="dba9ff36-3195-4fe5-9322-18f1f3227314"
I0304 08:26:42.131769       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dba9ff36-3195-4fe5-9322-18f1f3227314"
I0304 08:26:42.131776       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:42.139552       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dba9ff36-3195-4fe5-9322-18f1f3227314"
I0304 08:26:42.139676       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dba9ff36-3195-4fe5-9322-18f1f3227314" model="deepseek-llm-7b-chat"
I0304 08:26:42.139754       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:42.139761       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:42.139764       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:42.139958       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:42.140005       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:42.140011       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:42.146383       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c6e573b6-780f-4d85-b4c1-fe20cf7243f1"
I0304 08:26:42.149066       1 gateway.go:562] latency, 0.0000, summary, hash(request), 29134b01, selectedpod, 10.0.1.33:8000, ttft, 109, tpot, 19, e2e, 285, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:42.149083       1 gateway.go:748] "Request completed" requestID="b73cec33-a6d7-4c72-a8c9-51caaff06664" targetPod="10.0.1.33:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:42.149092       1 gateway.go:764] "HandleResponseBody completed" requestID="b73cec33-a6d7-4c72-a8c9-51caaff06664" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:42.178209       1 gateway.go:608] "First token received" requestID="c6e573b6-780f-4d85-b4c1-fe20cf7243f1" ttft_ms=136
I0304 08:26:42.211859       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0718, numInputTokens, 3752
I0304 08:26:42.211893       1 tree.go:471] Updated node(0) last access: 159.7138 seconds
I0304 08:26:42.211901       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:42.211906       1 tree.go:471] Updated node(2) last access: 159.7138 seconds
I0304 08:26:42.211916       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:42.211920       1 tree.go:471] Updated node(26) last access: 159.7138 seconds
I0304 08:26:42.211937       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:42.211944       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:42.211957       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:42.211977       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:42.211984       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:42.211946905 +0000 UTC m=+159.832169344]
I0304 08:26:42.212004       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3633, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:42.212013       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:42.212206       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3633
I0304 08:26:42.212246       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0304 08:26:42.212256       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.212262       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.212268       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.212277       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.212288       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:42.212302       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:42.212317       1 prefix_cache_and_load.go:584] latency, Route, 0.0726
I0304 08:26:42.212328       1 gateway.go:415] latency, selectTargetPod, 0.0726, target pod, 10.0.3.38:8000
I0304 08:26:42.212341       1 gateway.go:235] latency, HandleRequestBody, 0.0728
I0304 08:26:42.227549       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dba9ff36-3195-4fe5-9322-18f1f3227314"
I0304 08:26:42.258194       1 gateway.go:608] "First token received" requestID="dba9ff36-3195-4fe5-9322-18f1f3227314" ttft_ms=118
I0304 08:26:42.347957       1 gateway.go:562] latency, 0.0000, summary, hash(request), 8c383de1, selectedpod, 10.0.3.28:8000, ttft, 94, tpot, 24, e2e, 311, numInputTokens, 3962, numOutputTokens, 10, numTotalTokens, 3972
I0304 08:26:42.347985       1 gateway.go:748] "Request completed" requestID="ee95d715-dde6-4555-9d1b-9532209937dc" targetPod="10.0.3.28:8000" promptTokens=3962 completionTokens=10 totalTokens=3972
I0304 08:26:42.347997       1 gateway.go:764] "HandleResponseBody completed" requestID="ee95d715-dde6-4555-9d1b-9532209937dc" promptTokens=3962 completionTokens=10 stream=true
I0304 08:26:42.369560       1 gateway.go:562] latency, 0.0000, summary, hash(request), d5042e9b, selectedpod, 10.0.3.28:8000, ttft, 136, tpot, 21, e2e, 328, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:42.369575       1 gateway.go:748] "Request completed" requestID="c6e573b6-780f-4d85-b4c1-fe20cf7243f1" targetPod="10.0.3.28:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:42.369583       1 gateway.go:764] "HandleResponseBody completed" requestID="c6e573b6-780f-4d85-b4c1-fe20cf7243f1" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:42.378790       1 gateway.go:207] "Processing request" requestID="0140ae18-45e0-429d-b7de-b32762d3ab16"
I0304 08:26:42.378816       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0140ae18-45e0-429d-b7de-b32762d3ab16"
I0304 08:26:42.378824       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:42.427639       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0140ae18-45e0-429d-b7de-b32762d3ab16"
I0304 08:26:42.427764       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0140ae18-45e0-429d-b7de-b32762d3ab16" model="deepseek-llm-7b-chat"
I0304 08:26:42.427809       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:42.427815       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:42.427819       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:42.428028       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:42.428070       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:42.428077       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:42.433560       1 gateway.go:562] latency, 0.0000, summary, hash(request), bd1a0484, selectedpod, 10.0.3.38:8000, ttft, 118, tpot, 19, e2e, 293, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:42.433573       1 gateway.go:748] "Request completed" requestID="dba9ff36-3195-4fe5-9322-18f1f3227314" targetPod="10.0.3.38:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:42.433581       1 gateway.go:764] "HandleResponseBody completed" requestID="dba9ff36-3195-4fe5-9322-18f1f3227314" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:42.437086       1 gateway.go:207] "Processing request" requestID="161da61a-ff6b-4919-95b8-be1895dccfe5"
I0304 08:26:42.437105       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="161da61a-ff6b-4919-95b8-be1895dccfe5"
I0304 08:26:42.437113       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:42.473474       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0454, numInputTokens, 3756
I0304 08:26:42.473492       1 tree.go:471] Updated node(0) last access: 159.9754 seconds
I0304 08:26:42.473498       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:42.473501       1 tree.go:471] Updated node(2) last access: 159.9754 seconds
I0304 08:26:42.473518       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:42.473521       1 tree.go:471] Updated node(9) last access: 159.9754 seconds
I0304 08:26:42.473526       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:42.473530       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:42.473537       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:42.473544       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:42.473549       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:42.473533059 +0000 UTC m=+160.093755485]
I0304 08:26:42.473567       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:42.473576       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:42.473661       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3633
I0304 08:26:42.473676       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:42.473689       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.473697       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.473707       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.473714       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.473727       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:42.473742       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:42.473755       1 prefix_cache_and_load.go:584] latency, Route, 0.0459
I0304 08:26:42.473766       1 gateway.go:415] latency, selectTargetPod, 0.0460, target pod, 10.0.0.34:8000
I0304 08:26:42.473776       1 gateway.go:235] latency, HandleRequestBody, 0.0461
I0304 08:26:42.489768       1 gateway.go:329] "-- In RequestBody processing ..." requestID="161da61a-ff6b-4919-95b8-be1895dccfe5"
I0304 08:26:42.489899       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="161da61a-ff6b-4919-95b8-be1895dccfe5" model="deepseek-llm-7b-chat"
I0304 08:26:42.489940       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:42.489947       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:42.489952       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:42.490039       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0140ae18-45e0-429d-b7de-b32762d3ab16"
I0304 08:26:42.490155       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:42.490201       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:42.490206       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:42.535616       1 gateway.go:608] "First token received" requestID="0140ae18-45e0-429d-b7de-b32762d3ab16" ttft_ms=107
I0304 08:26:42.538924       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0487, numInputTokens, 3757
I0304 08:26:42.538943       1 tree.go:471] Updated node(0) last access: 160.0408 seconds
I0304 08:26:42.538949       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:42.538953       1 tree.go:471] Updated node(2) last access: 160.0408 seconds
I0304 08:26:42.538961       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:42.538965       1 tree.go:471] Updated node(30) last access: 160.0408 seconds
I0304 08:26:42.538969       1 tree.go:490] Partial tokens match child node(53). Continue to go deeper in the radix tree
I0304 08:26:42.538981       1 tree.go:471] Updated node(53) last access: 160.0408 seconds
I0304 08:26:42.538994       1 tree.go:667] Split complete - New node(356)
I0304 08:26:42.538999       1 tree.go:668] Split complete - Child node(31)
I0304 08:26:42.539004       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:42.539009       1 tree.go:471] Updated node(356) last access: 160.0409 seconds
I0304 08:26:42.539015       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:42.539020       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:42.539026       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:42.539033       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:42.539037       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:42.539022317 +0000 UTC m=+160.159244743]
I0304 08:26:42.539052       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3638, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:42.539060       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:42.539127       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3638
I0304 08:26:42.539137       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:42.539144       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.539152       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.539154       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.539158       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.539162       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.539166       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.539173       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:42.539182       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:42.539192       1 prefix_cache_and_load.go:584] latency, Route, 0.0493
I0304 08:26:42.539203       1 gateway.go:415] latency, selectTargetPod, 0.0493, target pod, 10.0.0.13:8000
I0304 08:26:42.539215       1 gateway.go:235] latency, HandleRequestBody, 0.0494
I0304 08:26:42.549998       1 gateway.go:207] "Processing request" requestID="74d0ed46-074f-4eec-99a6-ae3f53a739c3"
I0304 08:26:42.550027       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="74d0ed46-074f-4eec-99a6-ae3f53a739c3"
I0304 08:26:42.550035       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:42.555923       1 gateway.go:329] "-- In RequestBody processing ..." requestID="74d0ed46-074f-4eec-99a6-ae3f53a739c3"
I0304 08:26:42.556059       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="74d0ed46-074f-4eec-99a6-ae3f53a739c3" model="deepseek-llm-7b-chat"
I0304 08:26:42.556128       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:42.556135       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:42.556138       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:42.556215       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="161da61a-ff6b-4919-95b8-be1895dccfe5"
I0304 08:26:42.556338       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:42.556378       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:42.556384       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:42.594788       1 gateway.go:207] "Processing request" requestID="9d8c7382-7894-40e7-8a93-0b26cbb37299"
I0304 08:26:42.594815       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9d8c7382-7894-40e7-8a93-0b26cbb37299"
I0304 08:26:42.594823       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:42.600591       1 gateway.go:608] "First token received" requestID="161da61a-ff6b-4919-95b8-be1895dccfe5" ttft_ms=110
I0304 08:26:42.613436       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0570, numInputTokens, 3754
I0304 08:26:42.613453       1 tree.go:471] Updated node(0) last access: 160.1153 seconds
I0304 08:26:42.613460       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:42.613465       1 tree.go:471] Updated node(2) last access: 160.1153 seconds
I0304 08:26:42.613476       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:42.613481       1 tree.go:471] Updated node(12) last access: 160.1153 seconds
I0304 08:26:42.613488       1 tree.go:667] Split complete - New node(358)
I0304 08:26:42.613493       1 tree.go:668] Split complete - Child node(305)
I0304 08:26:42.613497       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:42.613501       1 tree.go:471] Updated node(358) last access: 160.1154 seconds
I0304 08:26:42.613506       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:42.613520       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:42.613528       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:42.613534       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:42.613539       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:42.613522798 +0000 UTC m=+160.233745227]
I0304 08:26:42.613560       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3640, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:42.613567       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:42.613649       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3640
I0304 08:26:42.613660       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:42.613669       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.613676       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.613680       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.613685       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.613698       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.613707       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:42.613715       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:42.613723       1 prefix_cache_and_load.go:584] latency, Route, 0.0576
I0304 08:26:42.613732       1 gateway.go:415] latency, selectTargetPod, 0.0576, target pod, 10.0.0.6:8000
I0304 08:26:42.613743       1 gateway.go:235] latency, HandleRequestBody, 0.0578
I0304 08:26:42.629744       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="74d0ed46-074f-4eec-99a6-ae3f53a739c3"
I0304 08:26:42.646517       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9d8c7382-7894-40e7-8a93-0b26cbb37299"
I0304 08:26:42.646645       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9d8c7382-7894-40e7-8a93-0b26cbb37299" model="deepseek-llm-7b-chat"
I0304 08:26:42.646696       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:42.646703       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:42.646707       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:42.646921       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:42.646963       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:42.646969       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:42.660361       1 gateway.go:608] "First token received" requestID="74d0ed46-074f-4eec-99a6-ae3f53a739c3" ttft_ms=104
I0304 08:26:42.692499       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0455, numInputTokens, 3755
I0304 08:26:42.692524       1 tree.go:471] Updated node(0) last access: 160.1944 seconds
I0304 08:26:42.692531       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:42.692537       1 tree.go:471] Updated node(2) last access: 160.1944 seconds
I0304 08:26:42.692546       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:42.692550       1 tree.go:471] Updated node(22) last access: 160.1944 seconds
I0304 08:26:42.692554       1 tree.go:490] Partial tokens match child node(252). Continue to go deeper in the radix tree
I0304 08:26:42.692556       1 tree.go:471] Updated node(252) last access: 160.1944 seconds
I0304 08:26:42.692561       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:42.692567       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:42.692573       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:42.692581       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:42.692586       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:42.692568619 +0000 UTC m=+160.312791045]
I0304 08:26:42.692603       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3635, Matching ratio: 0.9680, # Matched pods: 0, Matched pods: []
I0304 08:26:42.692615       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9680 > 0.5000)
I0304 08:26:42.692681       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3635
I0304 08:26:42.692692       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:42.692705       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.692712       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.692717       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.692723       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.692726       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.692758       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:42.692768       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:42.692780       1 prefix_cache_and_load.go:584] latency, Route, 0.0461
I0304 08:26:42.692790       1 gateway.go:415] latency, selectTargetPod, 0.0461, target pod, 10.0.1.33:8000
I0304 08:26:42.692801       1 gateway.go:235] latency, HandleRequestBody, 0.0463
I0304 08:26:42.710890       1 gateway.go:562] latency, 0.0000, summary, hash(request), fe186f61, selectedpod, 10.0.0.34:8000, ttft, 107, tpot, 19, e2e, 283, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:42.710909       1 gateway.go:748] "Request completed" requestID="0140ae18-45e0-429d-b7de-b32762d3ab16" targetPod="10.0.0.34:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:42.710920       1 gateway.go:764] "HandleResponseBody completed" requestID="0140ae18-45e0-429d-b7de-b32762d3ab16" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:42.712986       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9d8c7382-7894-40e7-8a93-0b26cbb37299"
I0304 08:26:42.758220       1 gateway.go:608] "First token received" requestID="9d8c7382-7894-40e7-8a93-0b26cbb37299" ttft_ms=111
I0304 08:26:42.776668       1 gateway.go:562] latency, 0.0000, summary, hash(request), c9e49cd6, selectedpod, 10.0.0.13:8000, ttft, 110, tpot, 19, e2e, 286, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:42.776683       1 gateway.go:748] "Request completed" requestID="161da61a-ff6b-4919-95b8-be1895dccfe5" targetPod="10.0.0.13:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:42.776694       1 gateway.go:764] "HandleResponseBody completed" requestID="161da61a-ff6b-4919-95b8-be1895dccfe5" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:42.827772       1 gateway.go:207] "Processing request" requestID="5c15e25e-ee8d-4f00-b23a-bda3fbdc124b"
I0304 08:26:42.827801       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5c15e25e-ee8d-4f00-b23a-bda3fbdc124b"
I0304 08:26:42.827811       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:42.836103       1 gateway.go:562] latency, 0.0000, summary, hash(request), 828491f3, selectedpod, 10.0.0.6:8000, ttft, 104, tpot, 19, e2e, 280, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:42.836122       1 gateway.go:748] "Request completed" requestID="74d0ed46-074f-4eec-99a6-ae3f53a739c3" targetPod="10.0.0.6:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:42.836131       1 gateway.go:764] "HandleResponseBody completed" requestID="74d0ed46-074f-4eec-99a6-ae3f53a739c3" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:42.839861       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5c15e25e-ee8d-4f00-b23a-bda3fbdc124b"
I0304 08:26:42.839998       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5c15e25e-ee8d-4f00-b23a-bda3fbdc124b" model="deepseek-llm-7b-chat"
I0304 08:26:42.840054       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:42.840063       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:42.840066       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:42.840308       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:42.840376       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:42.840386       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:42.891938       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0515, numInputTokens, 3750
I0304 08:26:42.891960       1 tree.go:471] Updated node(0) last access: 160.3938 seconds
I0304 08:26:42.891966       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:42.891975       1 tree.go:471] Updated node(2) last access: 160.3938 seconds
I0304 08:26:42.891985       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:42.891988       1 tree.go:471] Updated node(37) last access: 160.3939 seconds
I0304 08:26:42.891991       1 tree.go:490] Partial tokens match child node(165). Continue to go deeper in the radix tree
I0304 08:26:42.891995       1 tree.go:471] Updated node(165) last access: 160.3939 seconds
I0304 08:26:42.892001       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:42.892006       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3750 tokens
I0304 08:26:42.892013       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:42.892021       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:42.892025       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:42.892008514 +0000 UTC m=+160.512230941]
I0304 08:26:42.892041       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3636, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:42.892049       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:42.892122       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3636
I0304 08:26:42.892132       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:42.892139       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.892144       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.892148       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.892151       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.892156       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:42.892165       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:42.892175       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:42.892192       1 prefix_cache_and_load.go:584] latency, Route, 0.0521
I0304 08:26:42.892201       1 gateway.go:415] latency, selectTargetPod, 0.0521, target pod, 10.0.1.47:8000
I0304 08:26:42.892212       1 gateway.go:235] latency, HandleRequestBody, 0.0524
I0304 08:26:42.908922       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5c15e25e-ee8d-4f00-b23a-bda3fbdc124b"
I0304 08:26:42.927773       1 gateway.go:207] "Processing request" requestID="64e3468a-7eb5-4f23-b764-7abbcc6a67a9"
I0304 08:26:42.927799       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="64e3468a-7eb5-4f23-b764-7abbcc6a67a9"
I0304 08:26:42.927807       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:42.933735       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9b17873b, selectedpod, 10.0.1.33:8000, ttft, 111, tpot, 19, e2e, 287, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:42.933753       1 gateway.go:748] "Request completed" requestID="9d8c7382-7894-40e7-8a93-0b26cbb37299" targetPod="10.0.1.33:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:42.933765       1 gateway.go:764] "HandleResponseBody completed" requestID="9d8c7382-7894-40e7-8a93-0b26cbb37299" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:42.939959       1 gateway.go:608] "First token received" requestID="5c15e25e-ee8d-4f00-b23a-bda3fbdc124b" ttft_ms=100
I0304 08:26:42.961863       1 gateway.go:329] "-- In RequestBody processing ..." requestID="64e3468a-7eb5-4f23-b764-7abbcc6a67a9"
I0304 08:26:42.961983       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="64e3468a-7eb5-4f23-b764-7abbcc6a67a9" model="deepseek-llm-7b-chat"
I0304 08:26:42.962027       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:42.962033       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:42.962037       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:42.962225       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:42.962293       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:42.962299       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:43.007617       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0453, numInputTokens, 3755
I0304 08:26:43.007633       1 tree.go:471] Updated node(0) last access: 160.5095 seconds
I0304 08:26:43.007639       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:43.007642       1 tree.go:471] Updated node(2) last access: 160.5095 seconds
I0304 08:26:43.007651       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:43.007654       1 tree.go:471] Updated node(24) last access: 160.5095 seconds
I0304 08:26:43.007657       1 tree.go:490] Partial tokens match child node(270). Continue to go deeper in the radix tree
I0304 08:26:43.007661       1 tree.go:471] Updated node(270) last access: 160.5095 seconds
I0304 08:26:43.007667       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:43.007673       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:43.007680       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:43.007687       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:43.007692       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:43.007675441 +0000 UTC m=+160.627897867]
I0304 08:26:43.007706       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3636, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:43.007713       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:43.007773       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3636
I0304 08:26:43.007782       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:43.007790       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.007796       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.007801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.007806       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.007810       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.007843       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:43.007852       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:43.007866       1 prefix_cache_and_load.go:584] latency, Route, 0.0458
I0304 08:26:43.007876       1 gateway.go:415] latency, selectTargetPod, 0.0458, target pod, 10.0.1.53:8000
I0304 08:26:43.007885       1 gateway.go:235] latency, HandleRequestBody, 0.0460
I0304 08:26:43.024407       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="64e3468a-7eb5-4f23-b764-7abbcc6a67a9"
I0304 08:26:43.070041       1 gateway.go:608] "First token received" requestID="64e3468a-7eb5-4f23-b764-7abbcc6a67a9" ttft_ms=108
I0304 08:26:43.102300       1 gateway.go:207] "Processing request" requestID="b89d543f-714d-4a00-8116-e6c449460c58"
I0304 08:26:43.102324       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b89d543f-714d-4a00-8116-e6c449460c58"
I0304 08:26:43.102333       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:43.115324       1 gateway.go:562] latency, 0.0000, summary, hash(request), 1353b146, selectedpod, 10.0.1.47:8000, ttft, 100, tpot, 19, e2e, 275, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:43.115338       1 gateway.go:748] "Request completed" requestID="5c15e25e-ee8d-4f00-b23a-bda3fbdc124b" targetPod="10.0.1.47:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:43.115347       1 gateway.go:764] "HandleResponseBody completed" requestID="5c15e25e-ee8d-4f00-b23a-bda3fbdc124b" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:43.176456       1 gateway.go:207] "Processing request" requestID="5f901e73-a0d2-475c-be86-658d6d17f505"
I0304 08:26:43.176484       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5f901e73-a0d2-475c-be86-658d6d17f505"
I0304 08:26:43.176495       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:43.176497       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b89d543f-714d-4a00-8116-e6c449460c58"
I0304 08:26:43.176629       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b89d543f-714d-4a00-8116-e6c449460c58" model="deepseek-llm-7b-chat"
I0304 08:26:43.176682       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:43.176690       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:43.176695       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:43.176893       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:43.176936       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:43.176943       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:43.217782       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5f901e73-a0d2-475c-be86-658d6d17f505"
I0304 08:26:43.217902       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5f901e73-a0d2-475c-be86-658d6d17f505" model="deepseek-llm-7b-chat"
I0304 08:26:43.223346       1 gateway.go:207] "Processing request" requestID="f4e4e439-e111-49ad-aa81-66fa101df398"
I0304 08:26:43.223373       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f4e4e439-e111-49ad-aa81-66fa101df398"
I0304 08:26:43.223382       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:43.226785       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0498, numInputTokens, 3754
I0304 08:26:43.226803       1 tree.go:471] Updated node(0) last access: 160.7287 seconds
I0304 08:26:43.226810       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:43.226815       1 tree.go:471] Updated node(2) last access: 160.7287 seconds
I0304 08:26:43.226825       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:43.226829       1 tree.go:471] Updated node(67) last access: 160.7287 seconds
I0304 08:26:43.226832       1 tree.go:490] Partial tokens match child node(300). Continue to go deeper in the radix tree
I0304 08:26:43.226834       1 tree.go:471] Updated node(300) last access: 160.7287 seconds
I0304 08:26:43.226844       1 tree.go:667] Split complete - New node(363)
I0304 08:26:43.226849       1 tree.go:668] Split complete - Child node(107)
I0304 08:26:43.226853       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:43.226858       1 tree.go:471] Updated node(363) last access: 160.7287 seconds
I0304 08:26:43.226864       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:43.226868       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:43.226874       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:43.226881       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:43.226886       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:43.226870102 +0000 UTC m=+160.847092528]
I0304 08:26:43.226901       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3639, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:43.226908       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:43.226970       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3639
I0304 08:26:43.226986       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:43.226993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.226997       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.227002       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.227008       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.227012       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.227016       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.227024       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:43.227033       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:43.227043       1 prefix_cache_and_load.go:584] latency, Route, 0.0504
I0304 08:26:43.227060       1 gateway.go:415] latency, selectTargetPod, 0.0504, target pod, 10.0.1.33:8000
I0304 08:26:43.227072       1 gateway.go:235] latency, HandleRequestBody, 0.0506
I0304 08:26:43.227101       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0092
I0304 08:26:43.227107       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:43.227111       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:43.227304       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:43.227358       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:43.227365       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:43.243421       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b89d543f-714d-4a00-8116-e6c449460c58"
I0304 08:26:43.245337       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9aec447b, selectedpod, 10.0.1.53:8000, ttft, 108, tpot, 19, e2e, 283, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:43.245354       1 gateway.go:748] "Request completed" requestID="64e3468a-7eb5-4f23-b764-7abbcc6a67a9" targetPod="10.0.1.53:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:43.245366       1 gateway.go:764] "HandleResponseBody completed" requestID="64e3468a-7eb5-4f23-b764-7abbcc6a67a9" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:43.270375       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f4e4e439-e111-49ad-aa81-66fa101df398"
I0304 08:26:43.270529       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f4e4e439-e111-49ad-aa81-66fa101df398" model="deepseek-llm-7b-chat"
I0304 08:26:43.273210       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0458, numInputTokens, 3753
I0304 08:26:43.273228       1 tree.go:471] Updated node(0) last access: 160.7751 seconds
I0304 08:26:43.273234       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:43.273240       1 tree.go:471] Updated node(2) last access: 160.7751 seconds
I0304 08:26:43.273247       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:43.273251       1 tree.go:471] Updated node(40) last access: 160.7751 seconds
I0304 08:26:43.273261       1 tree.go:667] Split complete - New node(365)
I0304 08:26:43.273266       1 tree.go:668] Split complete - Child node(196)
I0304 08:26:43.273271       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:43.273277       1 tree.go:471] Updated node(365) last access: 160.7751 seconds
I0304 08:26:43.273281       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:43.273286       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:43.273292       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:43.273298       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:43.273303       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:43.27328819 +0000 UTC m=+160.893510615]
I0304 08:26:43.273318       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3638, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:43.273325       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:43.273405       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3638
I0304 08:26:43.273414       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:43.273421       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.273425       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.273429       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.273432       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.273436       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.273444       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:43.273452       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:43.273466       1 prefix_cache_and_load.go:584] latency, Route, 0.0555
I0304 08:26:43.273480       1 gateway.go:415] latency, selectTargetPod, 0.0555, target pod, 10.0.1.47:8000
I0304 08:26:43.273487       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0029
I0304 08:26:43.273493       1 gateway.go:235] latency, HandleRequestBody, 0.0557
I0304 08:26:43.273495       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:43.273499       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:43.273722       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:43.273764       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:43.273770       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:43.278584       1 gateway.go:608] "First token received" requestID="b89d543f-714d-4a00-8116-e6c449460c58" ttft_ms=99
I0304 08:26:43.289853       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5f901e73-a0d2-475c-be86-658d6d17f505"
I0304 08:26:43.318461       1 gateway.go:207] "Processing request" requestID="27a8466e-36a5-4150-bb21-4cf86f494075"
I0304 08:26:43.318487       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="27a8466e-36a5-4150-bb21-4cf86f494075"
I0304 08:26:43.318496       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:43.320139       1 gateway.go:608] "First token received" requestID="5f901e73-a0d2-475c-be86-658d6d17f505" ttft_ms=102
I0304 08:26:43.324602       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0508, numInputTokens, 3754
I0304 08:26:43.324621       1 tree.go:471] Updated node(0) last access: 160.8265 seconds
I0304 08:26:43.324628       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:43.324631       1 tree.go:471] Updated node(2) last access: 160.8265 seconds
I0304 08:26:43.324639       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:43.324644       1 tree.go:471] Updated node(37) last access: 160.8265 seconds
I0304 08:26:43.324649       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:43.324655       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:43.324661       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:43.324669       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:43.324675       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:43.324657304 +0000 UTC m=+160.944879738]
I0304 08:26:43.324689       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:43.324695       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:43.324755       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:43.324764       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:43.324770       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.324776       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.324780       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.324785       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.324794       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:43.324803       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:43.324813       1 prefix_cache_and_load.go:584] latency, Route, 0.0542
I0304 08:26:43.324821       1 gateway.go:415] latency, selectTargetPod, 0.0542, target pod, 10.0.1.47:8000
I0304 08:26:43.324832       1 gateway.go:235] latency, HandleRequestBody, 0.0545
I0304 08:26:43.345202       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f4e4e439-e111-49ad-aa81-66fa101df398"
I0304 08:26:43.366821       1 gateway.go:329] "-- In RequestBody processing ..." requestID="27a8466e-36a5-4150-bb21-4cf86f494075"
I0304 08:26:43.366937       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="27a8466e-36a5-4150-bb21-4cf86f494075" model="deepseek-llm-7b-chat"
I0304 08:26:43.366988       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:43.366994       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:43.366997       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:43.367156       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:43.367193       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:43.367198       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:43.387791       1 gateway.go:608] "First token received" requestID="f4e4e439-e111-49ad-aa81-66fa101df398" ttft_ms=117
I0304 08:26:43.390085       1 gateway.go:207] "Processing request" requestID="b7166869-4f8c-4a03-994d-f1c089987bbb"
I0304 08:26:43.390110       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b7166869-4f8c-4a03-994d-f1c089987bbb"
I0304 08:26:43.390119       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:43.413586       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0464, numInputTokens, 3755
I0304 08:26:43.413605       1 tree.go:471] Updated node(0) last access: 160.9155 seconds
I0304 08:26:43.413611       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:43.413614       1 tree.go:471] Updated node(2) last access: 160.9155 seconds
I0304 08:26:43.413627       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:43.413631       1 tree.go:471] Updated node(40) last access: 160.9155 seconds
I0304 08:26:43.413635       1 tree.go:490] Partial tokens match child node(94). Continue to go deeper in the radix tree
I0304 08:26:43.413638       1 tree.go:471] Updated node(94) last access: 160.9155 seconds
I0304 08:26:43.413647       1 tree.go:667] Split complete - New node(368)
I0304 08:26:43.413650       1 tree.go:668] Split complete - Child node(296)
I0304 08:26:43.413656       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:43.413661       1 tree.go:471] Updated node(368) last access: 160.9155 seconds
I0304 08:26:43.413666       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:43.413670       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:43.413676       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:43.413682       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:43.413686       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:43.413672275 +0000 UTC m=+161.033894701]
I0304 08:26:43.413703       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3639, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:43.413712       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:43.413772       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3639
I0304 08:26:43.413785       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:43.413797       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.413803       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.413808       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.413812       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.413817       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.413821       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.413829       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:43.413838       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:43.413848       1 prefix_cache_and_load.go:584] latency, Route, 0.0469
I0304 08:26:43.413857       1 gateway.go:415] latency, selectTargetPod, 0.0469, target pod, 10.0.1.47:8000
I0304 08:26:43.413869       1 gateway.go:235] latency, HandleRequestBody, 0.0470
I0304 08:26:43.434318       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="27a8466e-36a5-4150-bb21-4cf86f494075"
I0304 08:26:43.449443       1 gateway.go:562] latency, 0.0000, summary, hash(request), 69808d0f, selectedpod, 10.0.1.33:8000, ttft, 99, tpot, 19, e2e, 272, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:43.449458       1 gateway.go:748] "Request completed" requestID="b89d543f-714d-4a00-8116-e6c449460c58" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:43.449469       1 gateway.go:764] "HandleResponseBody completed" requestID="b89d543f-714d-4a00-8116-e6c449460c58" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:43.458086       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b7166869-4f8c-4a03-994d-f1c089987bbb"
I0304 08:26:43.458209       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b7166869-4f8c-4a03-994d-f1c089987bbb" model="deepseek-llm-7b-chat"
I0304 08:26:43.458252       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:43.458257       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:43.458261       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:43.458432       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:43.458472       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:43.458478       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:43.497503       1 gateway.go:608] "First token received" requestID="27a8466e-36a5-4150-bb21-4cf86f494075" ttft_ms=130
I0304 08:26:43.505419       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0469, numInputTokens, 3752
I0304 08:26:43.505440       1 tree.go:471] Updated node(0) last access: 161.0073 seconds
I0304 08:26:43.505447       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:43.505452       1 tree.go:471] Updated node(2) last access: 161.0073 seconds
I0304 08:26:43.505462       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:43.505466       1 tree.go:471] Updated node(26) last access: 161.0073 seconds
I0304 08:26:43.505472       1 tree.go:490] Partial tokens match child node(285). Continue to go deeper in the radix tree
I0304 08:26:43.505477       1 tree.go:471] Updated node(285) last access: 161.0073 seconds
I0304 08:26:43.505488       1 tree.go:667] Split complete - New node(370)
I0304 08:26:43.505492       1 tree.go:668] Split complete - Child node(286)
I0304 08:26:43.505499       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0304 08:26:43.505505       1 tree.go:471] Updated node(370) last access: 161.0074 seconds
I0304 08:26:43.505520       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0304 08:26:43.505525       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:43.505532       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:43.505540       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:43.505546       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:43.505527086 +0000 UTC m=+161.125749518]
I0304 08:26:43.505563       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3644, Matching ratio: 0.9712, # Matched pods: 0, Matched pods: []
I0304 08:26:43.505574       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9712 > 0.5000)
I0304 08:26:43.505642       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3644
I0304 08:26:43.505654       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:43.505665       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.505672       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.505679       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.505687       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.505695       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.505704       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:43.505715       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:43.505726       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:43.505738       1 prefix_cache_and_load.go:584] latency, Route, 0.0475
I0304 08:26:43.505757       1 gateway.go:415] latency, selectTargetPod, 0.0475, target pod, 10.0.3.38:8000
I0304 08:26:43.505776       1 gateway.go:235] latency, HandleRequestBody, 0.0477
I0304 08:26:43.523628       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b7166869-4f8c-4a03-994d-f1c089987bbb"
I0304 08:26:43.554424       1 gateway.go:608] "First token received" requestID="b7166869-4f8c-4a03-994d-f1c089987bbb" ttft_ms=96
I0304 08:26:43.596452       1 gateway.go:562] latency, 0.0000, summary, hash(request), fbfb2aa0, selectedpod, 10.0.1.47:8000, ttft, 102, tpot, 30, e2e, 378, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:43.596471       1 gateway.go:748] "Request completed" requestID="5f901e73-a0d2-475c-be86-658d6d17f505" targetPod="10.0.1.47:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:43.596480       1 gateway.go:764] "HandleResponseBody completed" requestID="5f901e73-a0d2-475c-be86-658d6d17f505" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:43.643676       1 gateway.go:562] latency, 0.0000, summary, hash(request), 62396013, selectedpod, 10.0.1.47:8000, ttft, 117, tpot, 28, e2e, 373, numInputTokens, 3964, numOutputTokens, 10, numTotalTokens, 3974
I0304 08:26:43.643690       1 gateway.go:748] "Request completed" requestID="f4e4e439-e111-49ad-aa81-66fa101df398" targetPod="10.0.1.47:8000" promptTokens=3964 completionTokens=10 totalTokens=3974
I0304 08:26:43.643697       1 gateway.go:764] "HandleResponseBody completed" requestID="f4e4e439-e111-49ad-aa81-66fa101df398" promptTokens=3964 completionTokens=10 stream=true
I0304 08:26:43.704269       1 gateway.go:562] latency, 0.0000, summary, hash(request), d9b63196, selectedpod, 10.0.1.47:8000, ttft, 130, tpot, 22, e2e, 337, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:43.704289       1 gateway.go:748] "Request completed" requestID="27a8466e-36a5-4150-bb21-4cf86f494075" targetPod="10.0.1.47:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:43.704302       1 gateway.go:764] "HandleResponseBody completed" requestID="27a8466e-36a5-4150-bb21-4cf86f494075" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:43.730016       1 gateway.go:562] latency, 0.0000, summary, hash(request), b23bccaa, selectedpod, 10.0.3.38:8000, ttft, 96, tpot, 19, e2e, 271, numInputTokens, 3964, numOutputTokens, 10, numTotalTokens, 3974
I0304 08:26:43.730030       1 gateway.go:748] "Request completed" requestID="b7166869-4f8c-4a03-994d-f1c089987bbb" targetPod="10.0.3.38:8000" promptTokens=3964 completionTokens=10 totalTokens=3974
I0304 08:26:43.730039       1 gateway.go:764] "HandleResponseBody completed" requestID="b7166869-4f8c-4a03-994d-f1c089987bbb" promptTokens=3964 completionTokens=10 stream=true
I0304 08:26:43.960508       1 gateway.go:207] "Processing request" requestID="68d2fbe7-d603-421f-9cd7-ff57fa0b95a5"
I0304 08:26:43.960543       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="68d2fbe7-d603-421f-9cd7-ff57fa0b95a5"
I0304 08:26:43.960553       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:43.967930       1 gateway.go:329] "-- In RequestBody processing ..." requestID="68d2fbe7-d603-421f-9cd7-ff57fa0b95a5"
I0304 08:26:43.968057       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="68d2fbe7-d603-421f-9cd7-ff57fa0b95a5" model="deepseek-llm-7b-chat"
I0304 08:26:43.968100       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:43.968106       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:43.968110       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:43.968316       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:43.968356       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:43.968361       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:44.017735       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0494, numInputTokens, 3757
I0304 08:26:44.017755       1 tree.go:471] Updated node(0) last access: 161.5196 seconds
I0304 08:26:44.017762       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:44.017765       1 tree.go:471] Updated node(2) last access: 161.5196 seconds
I0304 08:26:44.017774       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:44.017778       1 tree.go:471] Updated node(30) last access: 161.5196 seconds
I0304 08:26:44.017788       1 tree.go:667] Split complete - New node(372)
I0304 08:26:44.017793       1 tree.go:668] Split complete - Child node(344)
I0304 08:26:44.017797       1 tree.go:501] latency, splitNode, 0.0000 seconds, 124 tokens:
I0304 08:26:44.017801       1 tree.go:471] Updated node(372) last access: 161.5197 seconds
I0304 08:26:44.017807       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:44.017812       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:44.017818       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:44.017824       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:44.017829       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:44.01781405 +0000 UTC m=+161.638036475]
I0304 08:26:44.017849       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3637, Matching ratio: 0.9681, # Matched pods: 0, Matched pods: []
I0304 08:26:44.017857       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9681 > 0.5000)
I0304 08:26:44.017944       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3637
I0304 08:26:44.017953       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:44.017961       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.017967       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.017983       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.017990       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.018001       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.018015       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:44.018029       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:44.018044       1 prefix_cache_and_load.go:584] latency, Route, 0.0499
I0304 08:26:44.018057       1 gateway.go:415] latency, selectTargetPod, 0.0500, target pod, 10.0.0.13:8000
I0304 08:26:44.018072       1 gateway.go:235] latency, HandleRequestBody, 0.0501
I0304 08:26:44.036734       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="68d2fbe7-d603-421f-9cd7-ff57fa0b95a5"
I0304 08:26:44.082390       1 gateway.go:608] "First token received" requestID="68d2fbe7-d603-421f-9cd7-ff57fa0b95a5" ttft_ms=114
I0304 08:26:44.244616       1 gateway.go:207] "Processing request" requestID="bb8df117-a7de-4e62-8d71-2cbfe3d26faa"
I0304 08:26:44.244649       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bb8df117-a7de-4e62-8d71-2cbfe3d26faa"
I0304 08:26:44.244656       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:44.257910       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3eae4a73, selectedpod, 10.0.0.13:8000, ttft, 114, tpot, 19, e2e, 289, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:44.257932       1 gateway.go:748] "Request completed" requestID="68d2fbe7-d603-421f-9cd7-ff57fa0b95a5" targetPod="10.0.0.13:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:44.257946       1 gateway.go:764] "HandleResponseBody completed" requestID="68d2fbe7-d603-421f-9cd7-ff57fa0b95a5" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:44.300036       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bb8df117-a7de-4e62-8d71-2cbfe3d26faa"
I0304 08:26:44.300163       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bb8df117-a7de-4e62-8d71-2cbfe3d26faa" model="deepseek-llm-7b-chat"
I0304 08:26:44.300209       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:44.300216       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:44.300219       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:44.300435       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:44.300474       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:44.300480       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:44.348030       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0475, numInputTokens, 3755
I0304 08:26:44.348048       1 tree.go:471] Updated node(0) last access: 161.8499 seconds
I0304 08:26:44.348055       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:44.348059       1 tree.go:471] Updated node(2) last access: 161.8499 seconds
I0304 08:26:44.348068       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:44.348073       1 tree.go:471] Updated node(26) last access: 161.8499 seconds
I0304 08:26:44.348076       1 tree.go:490] Partial tokens match child node(151). Continue to go deeper in the radix tree
I0304 08:26:44.348080       1 tree.go:471] Updated node(151) last access: 161.8499 seconds
I0304 08:26:44.348090       1 tree.go:667] Split complete - New node(374)
I0304 08:26:44.348095       1 tree.go:668] Split complete - Child node(184)
I0304 08:26:44.348100       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:44.348105       1 tree.go:471] Updated node(374) last access: 161.8500 seconds
I0304 08:26:44.348110       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:44.348115       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:44.348121       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:44.348128       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:44.348133       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:44.348117244 +0000 UTC m=+161.968339669]
I0304 08:26:44.348149       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3639, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:44.348155       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:44.348224       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3639
I0304 08:26:44.348233       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:44.348242       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.348248       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.348252       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.348257       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.348263       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.348268       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.348277       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:44.348285       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:44.348294       1 prefix_cache_and_load.go:584] latency, Route, 0.0481
I0304 08:26:44.348302       1 gateway.go:415] latency, selectTargetPod, 0.0481, target pod, 10.0.3.38:8000
I0304 08:26:44.348311       1 gateway.go:235] latency, HandleRequestBody, 0.0483
I0304 08:26:44.366022       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bb8df117-a7de-4e62-8d71-2cbfe3d26faa"
I0304 08:26:44.411352       1 gateway.go:608] "First token received" requestID="bb8df117-a7de-4e62-8d71-2cbfe3d26faa" ttft_ms=111
I0304 08:26:44.522822       1 gateway.go:207] "Processing request" requestID="271e20f5-0c99-4f0d-858c-6a0e04944e09"
I0304 08:26:44.522853       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="271e20f5-0c99-4f0d-858c-6a0e04944e09"
I0304 08:26:44.522863       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:44.561385       1 gateway.go:329] "-- In RequestBody processing ..." requestID="271e20f5-0c99-4f0d-858c-6a0e04944e09"
I0304 08:26:44.561532       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="271e20f5-0c99-4f0d-858c-6a0e04944e09" model="deepseek-llm-7b-chat"
I0304 08:26:44.561614       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:44.561622       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:44.561627       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:44.561866       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:44.561915       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:44.561921       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:44.586840       1 gateway.go:562] latency, 0.0000, summary, hash(request), 248cf894, selectedpod, 10.0.3.38:8000, ttft, 111, tpot, 19, e2e, 286, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:44.586861       1 gateway.go:748] "Request completed" requestID="bb8df117-a7de-4e62-8d71-2cbfe3d26faa" targetPod="10.0.3.38:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:44.586871       1 gateway.go:764] "HandleResponseBody completed" requestID="bb8df117-a7de-4e62-8d71-2cbfe3d26faa" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:44.611215       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0493, numInputTokens, 3753
I0304 08:26:44.611235       1 tree.go:471] Updated node(0) last access: 162.1131 seconds
I0304 08:26:44.611242       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:44.611245       1 tree.go:471] Updated node(2) last access: 162.1131 seconds
I0304 08:26:44.611254       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:44.611257       1 tree.go:471] Updated node(67) last access: 162.1131 seconds
I0304 08:26:44.611266       1 tree.go:667] Split complete - New node(376)
I0304 08:26:44.611271       1 tree.go:668] Split complete - Child node(309)
I0304 08:26:44.611276       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:44.611281       1 tree.go:471] Updated node(376) last access: 162.1131 seconds
I0304 08:26:44.611286       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:44.611291       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:44.611297       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:44.611303       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:44.611308       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:44.611293332 +0000 UTC m=+162.231515759]
I0304 08:26:44.611324       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3635, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:44.611332       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:44.611405       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3635
I0304 08:26:44.611418       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:44.611429       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.611437       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.611444       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.611452       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.611457       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:44.611469       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:44.611484       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:44.611501       1 prefix_cache_and_load.go:584] latency, Route, 0.0499
I0304 08:26:44.611523       1 gateway.go:415] latency, selectTargetPod, 0.0499, target pod, 10.0.1.33:8000
I0304 08:26:44.611537       1 gateway.go:235] latency, HandleRequestBody, 0.0502
I0304 08:26:44.628236       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="271e20f5-0c99-4f0d-858c-6a0e04944e09"
I0304 08:26:44.659145       1 gateway.go:608] "First token received" requestID="271e20f5-0c99-4f0d-858c-6a0e04944e09" ttft_ms=97
I0304 08:26:44.834417       1 gateway.go:562] latency, 0.0000, summary, hash(request), 76f82af8, selectedpod, 10.0.1.33:8000, ttft, 97, tpot, 19, e2e, 272, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:44.834438       1 gateway.go:748] "Request completed" requestID="271e20f5-0c99-4f0d-858c-6a0e04944e09" targetPod="10.0.1.33:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:44.834450       1 gateway.go:764] "HandleResponseBody completed" requestID="271e20f5-0c99-4f0d-858c-6a0e04944e09" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:44.992793       1 gateway.go:207] "Processing request" requestID="114ebf55-bb2d-4926-b844-80c7326030e7"
I0304 08:26:44.992814       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="114ebf55-bb2d-4926-b844-80c7326030e7"
I0304 08:26:44.992822       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:45.047247       1 gateway.go:329] "-- In RequestBody processing ..." requestID="114ebf55-bb2d-4926-b844-80c7326030e7"
I0304 08:26:45.047368       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="114ebf55-bb2d-4926-b844-80c7326030e7" model="deepseek-llm-7b-chat"
I0304 08:26:45.047414       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:45.047421       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:45.047424       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:45.047671       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:45.047721       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:45.047727       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:45.048237       1 gateway.go:207] "Processing request" requestID="a750f805-6eca-4764-af97-78c2ff0f3260"
I0304 08:26:45.048257       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a750f805-6eca-4764-af97-78c2ff0f3260"
I0304 08:26:45.048263       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:45.094094       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0464, numInputTokens, 3753
I0304 08:26:45.094112       1 tree.go:471] Updated node(0) last access: 162.5960 seconds
I0304 08:26:45.094118       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:45.094121       1 tree.go:471] Updated node(2) last access: 162.5960 seconds
I0304 08:26:45.094131       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:45.094134       1 tree.go:471] Updated node(26) last access: 162.5960 seconds
I0304 08:26:45.094137       1 tree.go:490] Partial tokens match child node(149). Continue to go deeper in the radix tree
I0304 08:26:45.094141       1 tree.go:471] Updated node(149) last access: 162.5960 seconds
I0304 08:26:45.094150       1 tree.go:667] Split complete - New node(378)
I0304 08:26:45.094153       1 tree.go:668] Split complete - Child node(27)
I0304 08:26:45.094157       1 tree.go:501] latency, splitNode, 0.0000 seconds, 118 tokens:
I0304 08:26:45.094161       1 tree.go:471] Updated node(378) last access: 162.5960 seconds
I0304 08:26:45.094168       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:45.094173       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:45.094182       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:45.094189       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:45.094194       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:45.094176673 +0000 UTC m=+162.714399105]
I0304 08:26:45.094211       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3638, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:45.094219       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:45.094285       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3638
I0304 08:26:45.094295       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:45.094302       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.094308       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.094313       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.094319       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.094324       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.094330       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.094339       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:45.094353       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:45.094365       1 prefix_cache_and_load.go:584] latency, Route, 0.0469
I0304 08:26:45.094376       1 gateway.go:415] latency, selectTargetPod, 0.0470, target pod, 10.0.3.38:8000
I0304 08:26:45.094388       1 gateway.go:235] latency, HandleRequestBody, 0.0471
I0304 08:26:45.095110       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a750f805-6eca-4764-af97-78c2ff0f3260"
I0304 08:26:45.095241       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a750f805-6eca-4764-af97-78c2ff0f3260" model="deepseek-llm-7b-chat"
I0304 08:26:45.095284       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:45.095291       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:45.095294       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:45.095506       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:45.095555       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:45.095561       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:45.111070       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="114ebf55-bb2d-4926-b844-80c7326030e7"
I0304 08:26:45.141599       1 gateway.go:608] "First token received" requestID="114ebf55-bb2d-4926-b844-80c7326030e7" ttft_ms=94
I0304 08:26:45.144080       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0485, numInputTokens, 3748
I0304 08:26:45.144094       1 tree.go:471] Updated node(0) last access: 162.6460 seconds
I0304 08:26:45.144102       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:45.144106       1 tree.go:471] Updated node(2) last access: 162.6460 seconds
I0304 08:26:45.144116       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:45.144120       1 tree.go:471] Updated node(37) last access: 162.6460 seconds
I0304 08:26:45.144124       1 tree.go:490] Partial tokens match child node(239). Continue to go deeper in the radix tree
I0304 08:26:45.144128       1 tree.go:471] Updated node(239) last access: 162.6460 seconds
I0304 08:26:45.144138       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0304 08:26:45.144143       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3748 tokens
I0304 08:26:45.144153       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3748 tokens
I0304 08:26:45.144161       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:45.144168       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:45.144145895 +0000 UTC m=+162.764368324]
I0304 08:26:45.144185       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3748, Matched tokens: 3638, Matching ratio: 0.9707, # Matched pods: 0, Matched pods: []
I0304 08:26:45.144194       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9707 > 0.5000)
I0304 08:26:45.144269       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3638
I0304 08:26:45.144281       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:45.144292       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.144300       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.144306       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.144314       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.144319       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.144331       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:45.144344       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:45.144355       1 prefix_cache_and_load.go:584] latency, Route, 0.0491
I0304 08:26:45.144365       1 gateway.go:415] latency, selectTargetPod, 0.0491, target pod, 10.0.1.47:8000
I0304 08:26:45.144378       1 gateway.go:235] latency, HandleRequestBody, 0.0493
I0304 08:26:45.160945       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a750f805-6eca-4764-af97-78c2ff0f3260"
I0304 08:26:45.173066       1 gateway.go:207] "Processing request" requestID="fa38c1a2-64b9-4b92-afb7-d4a32c153408"
I0304 08:26:45.173092       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fa38c1a2-64b9-4b92-afb7-d4a32c153408"
I0304 08:26:45.173103       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:45.194697       1 gateway.go:608] "First token received" requestID="a750f805-6eca-4764-af97-78c2ff0f3260" ttft_ms=99
I0304 08:26:45.220852       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fa38c1a2-64b9-4b92-afb7-d4a32c153408"
I0304 08:26:45.220989       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fa38c1a2-64b9-4b92-afb7-d4a32c153408" model="deepseek-llm-7b-chat"
I0304 08:26:45.221034       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:45.221042       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:45.221046       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:45.221256       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:45.221306       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:45.221314       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:45.266376       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0451, numInputTokens, 3753
I0304 08:26:45.266392       1 tree.go:471] Updated node(0) last access: 162.7683 seconds
I0304 08:26:45.266399       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:45.266403       1 tree.go:471] Updated node(2) last access: 162.7683 seconds
I0304 08:26:45.266411       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:45.266415       1 tree.go:471] Updated node(26) last access: 162.7683 seconds
I0304 08:26:45.266419       1 tree.go:490] Partial tokens match child node(149). Continue to go deeper in the radix tree
I0304 08:26:45.266422       1 tree.go:471] Updated node(149) last access: 162.7683 seconds
I0304 08:26:45.266426       1 tree.go:490] Partial tokens match child node(345). Continue to go deeper in the radix tree
I0304 08:26:45.266429       1 tree.go:471] Updated node(345) last access: 162.7683 seconds
I0304 08:26:45.266439       1 tree.go:667] Split complete - New node(381)
I0304 08:26:45.266443       1 tree.go:668] Split complete - Child node(346)
I0304 08:26:45.266448       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0304 08:26:45.266453       1 tree.go:471] Updated node(381) last access: 162.7683 seconds
I0304 08:26:45.266458       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 107 tokens:
I0304 08:26:45.266465       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:45.266473       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:45.266482       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:45.266488       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:45.266467418 +0000 UTC m=+162.886689850]
I0304 08:26:45.266504       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3646, Matching ratio: 0.9715, # Matched pods: 0, Matched pods: []
I0304 08:26:45.266521       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9715 > 0.5000)
I0304 08:26:45.266589       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3646
I0304 08:26:45.266599       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:45.266608       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.266616       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.266623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.266634       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.266643       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.266648       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.266655       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.266668       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:45.266681       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:45.266694       1 prefix_cache_and_load.go:584] latency, Route, 0.0457
I0304 08:26:45.266707       1 gateway.go:415] latency, selectTargetPod, 0.0457, target pod, 10.0.3.38:8000
I0304 08:26:45.266722       1 gateway.go:235] latency, HandleRequestBody, 0.0459
I0304 08:26:45.280951       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fa38c1a2-64b9-4b92-afb7-d4a32c153408"
I0304 08:26:45.325844       1 gateway.go:608] "First token received" requestID="fa38c1a2-64b9-4b92-afb7-d4a32c153408" ttft_ms=104
I0304 08:26:45.347454       1 gateway.go:562] latency, 0.0000, summary, hash(request), d47e078b, selectedpod, 10.0.3.38:8000, ttft, 94, tpot, 22, e2e, 300, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:45.347472       1 gateway.go:748] "Request completed" requestID="114ebf55-bb2d-4926-b844-80c7326030e7" targetPod="10.0.3.38:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:45.347487       1 gateway.go:764] "HandleResponseBody completed" requestID="114ebf55-bb2d-4926-b844-80c7326030e7" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:45.360818       1 gateway.go:207] "Processing request" requestID="fced5eea-3da6-447c-a067-dde37cd18ccd"
I0304 08:26:45.360847       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fced5eea-3da6-447c-a067-dde37cd18ccd"
I0304 08:26:45.360856       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:45.370321       1 gateway.go:562] latency, 0.0000, summary, hash(request), 98727c12, selectedpod, 10.0.1.47:8000, ttft, 99, tpot, 19, e2e, 275, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:45.370340       1 gateway.go:748] "Request completed" requestID="a750f805-6eca-4764-af97-78c2ff0f3260" targetPod="10.0.1.47:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:45.370351       1 gateway.go:764] "HandleResponseBody completed" requestID="a750f805-6eca-4764-af97-78c2ff0f3260" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:45.399440       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fced5eea-3da6-447c-a067-dde37cd18ccd"
I0304 08:26:45.399573       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fced5eea-3da6-447c-a067-dde37cd18ccd" model="deepseek-llm-7b-chat"
I0304 08:26:45.399643       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:45.399649       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:45.399652       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:45.399850       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:45.399906       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:45.399914       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:45.447760       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0478, numInputTokens, 3755
I0304 08:26:45.447782       1 tree.go:471] Updated node(0) last access: 162.9496 seconds
I0304 08:26:45.447789       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:45.447792       1 tree.go:471] Updated node(2) last access: 162.9497 seconds
I0304 08:26:45.447800       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:45.447805       1 tree.go:471] Updated node(26) last access: 162.9497 seconds
I0304 08:26:45.447808       1 tree.go:490] Partial tokens match child node(290). Continue to go deeper in the radix tree
I0304 08:26:45.447814       1 tree.go:471] Updated node(290) last access: 162.9497 seconds
I0304 08:26:45.447823       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:45.447828       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:45.447835       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:45.447841       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:45.447848       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:45.447830569 +0000 UTC m=+163.068052994]
I0304 08:26:45.447862       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3638, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:45.447870       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:45.448004       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3638
I0304 08:26:45.448019       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:45.448033       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.448041       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.448051       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.448061       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.448068       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:45.448080       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:45.448094       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:45.448114       1 prefix_cache_and_load.go:584] latency, Route, 0.0485
I0304 08:26:45.448124       1 gateway.go:415] latency, selectTargetPod, 0.0485, target pod, 10.0.3.38:8000
I0304 08:26:45.448137       1 gateway.go:235] latency, HandleRequestBody, 0.0487
I0304 08:26:45.465305       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fced5eea-3da6-447c-a067-dde37cd18ccd"
I0304 08:26:45.516068       1 gateway.go:608] "First token received" requestID="fced5eea-3da6-447c-a067-dde37cd18ccd" ttft_ms=116
I0304 08:26:45.535277       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5e4507e9, selectedpod, 10.0.3.38:8000, ttft, 104, tpot, 23, e2e, 314, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:45.535296       1 gateway.go:748] "Request completed" requestID="fa38c1a2-64b9-4b92-afb7-d4a32c153408" targetPod="10.0.3.38:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:45.535304       1 gateway.go:764] "HandleResponseBody completed" requestID="fa38c1a2-64b9-4b92-afb7-d4a32c153408" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:45.692608       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0ef1dd3c, selectedpod, 10.0.3.38:8000, ttft, 116, tpot, 19, e2e, 293, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:45.692633       1 gateway.go:748] "Request completed" requestID="fced5eea-3da6-447c-a067-dde37cd18ccd" targetPod="10.0.3.38:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:45.692648       1 gateway.go:764] "HandleResponseBody completed" requestID="fced5eea-3da6-447c-a067-dde37cd18ccd" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:46.001399       1 gateway.go:207] "Processing request" requestID="1f0a8427-21de-4955-9e39-17d807fd16d1"
I0304 08:26:46.001446       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1f0a8427-21de-4955-9e39-17d807fd16d1"
I0304 08:26:46.001456       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:46.055192       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1f0a8427-21de-4955-9e39-17d807fd16d1"
I0304 08:26:46.055329       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1f0a8427-21de-4955-9e39-17d807fd16d1" model="deepseek-llm-7b-chat"
I0304 08:26:46.055413       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:46.055421       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:46.055426       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:46.055781       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:46.055834       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0304 08:26:46.055840       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:46.068684       1 gateway.go:207] "Processing request" requestID="c8266a25-5b91-42d8-a272-96e895d1a9fd"
I0304 08:26:46.068713       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c8266a25-5b91-42d8-a272-96e895d1a9fd"
I0304 08:26:46.068722       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:46.103126       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0473, numInputTokens, 3755
I0304 08:26:46.103144       1 tree.go:471] Updated node(0) last access: 163.6050 seconds
I0304 08:26:46.103151       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:46.103155       1 tree.go:471] Updated node(2) last access: 163.6050 seconds
I0304 08:26:46.103163       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:46.103168       1 tree.go:471] Updated node(67) last access: 163.6050 seconds
I0304 08:26:46.103172       1 tree.go:490] Partial tokens match child node(280). Continue to go deeper in the radix tree
I0304 08:26:46.103175       1 tree.go:471] Updated node(280) last access: 163.6050 seconds
I0304 08:26:46.103178       1 tree.go:490] Partial tokens match child node(267). Continue to go deeper in the radix tree
I0304 08:26:46.103181       1 tree.go:471] Updated node(267) last access: 163.6050 seconds
I0304 08:26:46.103187       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:46.103192       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:46.103200       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:46.103207       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:46.103212       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:46.103194254 +0000 UTC m=+163.723416680]
I0304 08:26:46.103230       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3639, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:46.103238       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:46.103338       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3639
I0304 08:26:46.103347       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:46.103355       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.103360       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.103365       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.103370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.103373       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.103378       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.103386       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:46.103395       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:46.103403       1 prefix_cache_and_load.go:584] latency, Route, 0.0480
I0304 08:26:46.103413       1 gateway.go:415] latency, selectTargetPod, 0.0480, target pod, 10.0.1.33:8000
I0304 08:26:46.103426       1 gateway.go:235] latency, HandleRequestBody, 0.0482
I0304 08:26:46.119862       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1f0a8427-21de-4955-9e39-17d807fd16d1"
I0304 08:26:46.165409       1 gateway.go:608] "First token received" requestID="1f0a8427-21de-4955-9e39-17d807fd16d1" ttft_ms=110
I0304 08:26:46.324633       1 gateway.go:207] "Processing request" requestID="ab9d7f1c-32db-4c26-b873-2259ea78fb5b"
I0304 08:26:46.324672       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ab9d7f1c-32db-4c26-b873-2259ea78fb5b"
I0304 08:26:46.324682       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:46.325630       1 gateway.go:207] "Processing request" requestID="ea4ed687-d9fc-4917-a0ab-6a2c30e59d41"
I0304 08:26:46.325659       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ea4ed687-d9fc-4917-a0ab-6a2c30e59d41"
I0304 08:26:46.325667       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:46.326720       1 gateway.go:207] "Processing request" requestID="4e8c8782-e850-40ae-8240-d6e49dfcb994"
I0304 08:26:46.326760       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="4e8c8782-e850-40ae-8240-d6e49dfcb994"
I0304 08:26:46.326769       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:46.330847       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c8266a25-5b91-42d8-a272-96e895d1a9fd"
I0304 08:26:46.330988       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c8266a25-5b91-42d8-a272-96e895d1a9fd" model="deepseek-llm-7b-chat"
I0304 08:26:46.331054       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:46.331061       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:46.331064       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:46.331346       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:46.331393       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:46.331401       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:46.332933       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ea4ed687-d9fc-4917-a0ab-6a2c30e59d41"
I0304 08:26:46.333068       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ea4ed687-d9fc-4917-a0ab-6a2c30e59d41" model="deepseek-llm-7b-chat"
I0304 08:26:46.333525       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ab9d7f1c-32db-4c26-b873-2259ea78fb5b"
I0304 08:26:46.333536       1 gateway.go:329] "-- In RequestBody processing ..." requestID="4e8c8782-e850-40ae-8240-d6e49dfcb994"
I0304 08:26:46.333637       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="4e8c8782-e850-40ae-8240-d6e49dfcb994" model="deepseek-llm-7b-chat"
I0304 08:26:46.333650       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ab9d7f1c-32db-4c26-b873-2259ea78fb5b" model="deepseek-llm-7b-chat"
I0304 08:26:46.340856       1 gateway.go:562] latency, 0.0000, summary, hash(request), 916dca96, selectedpod, 10.0.1.33:8000, ttft, 110, tpot, 19, e2e, 285, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:46.340873       1 gateway.go:748] "Request completed" requestID="1f0a8427-21de-4955-9e39-17d807fd16d1" targetPod="10.0.1.33:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:46.340884       1 gateway.go:764] "HandleResponseBody completed" requestID="1f0a8427-21de-4955-9e39-17d807fd16d1" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:46.380248       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0488, numInputTokens, 3750
I0304 08:26:46.380271       1 tree.go:471] Updated node(0) last access: 163.8821 seconds
I0304 08:26:46.380277       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:46.380280       1 tree.go:471] Updated node(2) last access: 163.8821 seconds
I0304 08:26:46.380289       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:46.380293       1 tree.go:471] Updated node(24) last access: 163.8822 seconds
I0304 08:26:46.380297       1 tree.go:490] Partial tokens match child node(276). Continue to go deeper in the radix tree
I0304 08:26:46.380303       1 tree.go:471] Updated node(276) last access: 163.8822 seconds
I0304 08:26:46.380320       1 tree.go:667] Split complete - New node(385)
I0304 08:26:46.380324       1 tree.go:668] Split complete - Child node(277)
I0304 08:26:46.380329       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0304 08:26:46.380334       1 tree.go:471] Updated node(385) last access: 163.8822 seconds
I0304 08:26:46.380340       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0304 08:26:46.380345       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3750 tokens
I0304 08:26:46.380352       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:46.380359       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:46.380367       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:46.380347247 +0000 UTC m=+164.000569673]
I0304 08:26:46.380385       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3639, Matching ratio: 0.9704, # Matched pods: 0, Matched pods: []
I0304 08:26:46.380393       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9704 > 0.5000)
I0304 08:26:46.380517       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3639
I0304 08:26:46.380527       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:46.380534       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.380539       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.380543       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.380548       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.380551       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.380556       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.380566       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:46.380574       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:46.380588       1 prefix_cache_and_load.go:584] latency, Route, 0.0495
I0304 08:26:46.380603       1 gateway.go:415] latency, selectTargetPod, 0.0495, target pod, 10.0.1.53:8000
I0304 08:26:46.380614       1 gateway.go:235] latency, HandleRequestBody, 0.0498
I0304 08:26:46.380682       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0475
I0304 08:26:46.380707       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:46.380711       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:46.381313       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:46.381494       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0008
I0304 08:26:46.381506       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:46.398584       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c8266a25-5b91-42d8-a272-96e895d1a9fd"
I0304 08:26:46.428993       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0475, numInputTokens, 3754
I0304 08:26:46.429011       1 tree.go:471] Updated node(0) last access: 163.9309 seconds
I0304 08:26:46.429017       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:46.429021       1 tree.go:471] Updated node(2) last access: 163.9309 seconds
I0304 08:26:46.429030       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:46.429034       1 tree.go:471] Updated node(5) last access: 163.9309 seconds
I0304 08:26:46.429044       1 tree.go:667] Split complete - New node(387)
I0304 08:26:46.429049       1 tree.go:668] Split complete - Child node(351)
I0304 08:26:46.429053       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:46.429059       1 tree.go:471] Updated node(387) last access: 163.9309 seconds
I0304 08:26:46.429063       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:46.429068       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:46.429074       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:46.429079       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:46.429084       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:46.429070508 +0000 UTC m=+164.049292934]
I0304 08:26:46.429097       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3635, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:46.429104       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:46.429165       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3635
I0304 08:26:46.429174       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:46.429182       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.429189       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.429194       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.429200       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.429205       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.429219       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:46.429228       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:46.429243       1 prefix_cache_and_load.go:584] latency, Route, 0.0961
I0304 08:26:46.429260       1 gateway.go:415] latency, selectTargetPod, 0.0961, target pod, 10.0.3.28:8000
I0304 08:26:46.429269       1 gateway.go:235] latency, HandleRequestBody, 0.0963
I0304 08:26:46.429297       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0956
I0304 08:26:46.429302       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:46.429306       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:46.429482       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:46.429532       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:46.429537       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:46.429788       1 gateway.go:608] "First token received" requestID="c8266a25-5b91-42d8-a272-96e895d1a9fd" ttft_ms=98
I0304 08:26:46.444779       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ea4ed687-d9fc-4917-a0ab-6a2c30e59d41"
I0304 08:26:46.475389       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0458, numInputTokens, 3749
I0304 08:26:46.475405       1 tree.go:471] Updated node(0) last access: 163.9773 seconds
I0304 08:26:46.475412       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:46.475415       1 tree.go:471] Updated node(2) last access: 163.9773 seconds
I0304 08:26:46.475424       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:46.475426       1 tree.go:471] Updated node(9) last access: 163.9773 seconds
I0304 08:26:46.475436       1 tree.go:667] Split complete - New node(389)
I0304 08:26:46.475441       1 tree.go:668] Split complete - Child node(207)
I0304 08:26:46.475446       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0304 08:26:46.475451       1 tree.go:471] Updated node(389) last access: 163.9773 seconds
I0304 08:26:46.475456       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0304 08:26:46.475459       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3749 tokens
I0304 08:26:46.475465       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3749 tokens
I0304 08:26:46.475471       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:46.475476       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:46.475461429 +0000 UTC m=+164.095683855]
I0304 08:26:46.475490       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3749, Matched tokens: 3638, Matching ratio: 0.9704, # Matched pods: 0, Matched pods: []
I0304 08:26:46.475496       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9704 > 0.5000)
I0304 08:26:46.478571       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3638
I0304 08:26:46.478581       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0031
I0304 08:26:46.478589       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.478594       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.478598       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.478603       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.478605       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.478613       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:46.478623       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:46.478630       1 prefix_cache_and_load.go:584] latency, Route, 0.1450
I0304 08:26:46.478648       1 gateway.go:415] latency, selectTargetPod, 0.1450, target pod, 10.0.0.34:8000
I0304 08:26:46.478659       1 gateway.go:235] latency, HandleRequestBody, 0.1451
I0304 08:26:46.478688       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.1450
I0304 08:26:46.478693       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:46.478695       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:46.478877       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:46.478917       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:46.478922       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:46.490883       1 gateway.go:608] "First token received" requestID="ea4ed687-d9fc-4917-a0ab-6a2c30e59d41" ttft_ms=157
I0304 08:26:46.496018       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="4e8c8782-e850-40ae-8240-d6e49dfcb994"
I0304 08:26:46.527544       1 gateway.go:608] "First token received" requestID="4e8c8782-e850-40ae-8240-d6e49dfcb994" ttft_ms=193
I0304 08:26:46.528827       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 3756
I0304 08:26:46.528844       1 tree.go:471] Updated node(0) last access: 164.0307 seconds
I0304 08:26:46.528850       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:46.528853       1 tree.go:471] Updated node(2) last access: 164.0307 seconds
I0304 08:26:46.528863       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:46.528868       1 tree.go:471] Updated node(24) last access: 164.0307 seconds
I0304 08:26:46.528881       1 tree.go:667] Split complete - New node(391)
I0304 08:26:46.528887       1 tree.go:668] Split complete - Child node(104)
I0304 08:26:46.528894       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:46.528901       1 tree.go:471] Updated node(391) last access: 164.0308 seconds
I0304 08:26:46.528906       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0304 08:26:46.528912       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:46.528918       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:46.528927       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:46.528933       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:46.528914401 +0000 UTC m=+164.149136826]
I0304 08:26:46.528948       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3645, Matching ratio: 0.9704, # Matched pods: 0, Matched pods: []
I0304 08:26:46.528955       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9704 > 0.5000)
I0304 08:26:46.529032       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3645
I0304 08:26:46.529041       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:46.529048       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.529054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.529060       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.529067       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.529073       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:46.529084       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:46.529096       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:46.529107       1 prefix_cache_and_load.go:584] latency, Route, 0.1954
I0304 08:26:46.529121       1 gateway.go:415] latency, selectTargetPod, 0.1954, target pod, 10.0.1.53:8000
I0304 08:26:46.529137       1 gateway.go:235] latency, HandleRequestBody, 0.1956
I0304 08:26:46.549507       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ab9d7f1c-32db-4c26-b873-2259ea78fb5b"
I0304 08:26:46.610584       1 gateway.go:608] "First token received" requestID="ab9d7f1c-32db-4c26-b873-2259ea78fb5b" ttft_ms=277
I0304 08:26:46.651143       1 gateway.go:562] latency, 0.0000, summary, hash(request), 9e20af55, selectedpod, 10.0.1.53:8000, ttft, 98, tpot, 24, e2e, 320, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:46.651159       1 gateway.go:748] "Request completed" requestID="c8266a25-5b91-42d8-a272-96e895d1a9fd" targetPod="10.0.1.53:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:46.651168       1 gateway.go:764] "HandleResponseBody completed" requestID="c8266a25-5b91-42d8-a272-96e895d1a9fd" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:46.666172       1 gateway.go:562] latency, 0.0000, summary, hash(request), cb422763, selectedpod, 10.0.3.28:8000, ttft, 157, tpot, 19, e2e, 333, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:46.666186       1 gateway.go:748] "Request completed" requestID="ea4ed687-d9fc-4917-a0ab-6a2c30e59d41" targetPod="10.0.3.28:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:46.666194       1 gateway.go:764] "HandleResponseBody completed" requestID="ea4ed687-d9fc-4917-a0ab-6a2c30e59d41" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:46.670715       1 gateway.go:207] "Processing request" requestID="5d4b0873-525d-406e-bca1-415bcd77959a"
I0304 08:26:46.670742       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="5d4b0873-525d-406e-bca1-415bcd77959a"
I0304 08:26:46.670751       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:46.703093       1 gateway.go:562] latency, 0.0000, summary, hash(request), 618129ef, selectedpod, 10.0.0.34:8000, ttft, 193, tpot, 19, e2e, 369, numInputTokens, 3961, numOutputTokens, 10, numTotalTokens, 3971
I0304 08:26:46.703111       1 gateway.go:748] "Request completed" requestID="4e8c8782-e850-40ae-8240-d6e49dfcb994" targetPod="10.0.0.34:8000" promptTokens=3961 completionTokens=10 totalTokens=3971
I0304 08:26:46.703124       1 gateway.go:764] "HandleResponseBody completed" requestID="4e8c8782-e850-40ae-8240-d6e49dfcb994" promptTokens=3961 completionTokens=10 stream=true
I0304 08:26:46.789314       1 gateway.go:562] latency, 0.0000, summary, hash(request), 91691350, selectedpod, 10.0.1.53:8000, ttft, 277, tpot, 19, e2e, 455, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:46.789333       1 gateway.go:748] "Request completed" requestID="ab9d7f1c-32db-4c26-b873-2259ea78fb5b" targetPod="10.0.1.53:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:46.789343       1 gateway.go:764] "HandleResponseBody completed" requestID="ab9d7f1c-32db-4c26-b873-2259ea78fb5b" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:47.332283       1 gateway.go:207] "Processing request" requestID="ce303eb5-2853-420f-aa61-d4dff571fd60"
I0304 08:26:47.332319       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ce303eb5-2853-420f-aa61-d4dff571fd60"
I0304 08:26:47.332329       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:47.341191       1 gateway.go:329] "-- In RequestBody processing ..." requestID="5d4b0873-525d-406e-bca1-415bcd77959a"
I0304 08:26:47.341315       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="5d4b0873-525d-406e-bca1-415bcd77959a" model="deepseek-llm-7b-chat"
I0304 08:26:47.341390       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:47.341399       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:47.341403       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:47.341726       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:47.341772       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0304 08:26:47.341778       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:47.392958       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0512, numInputTokens, 3754
I0304 08:26:47.392989       1 tree.go:471] Updated node(0) last access: 164.8949 seconds
I0304 08:26:47.392996       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:47.392999       1 tree.go:471] Updated node(2) last access: 164.8949 seconds
I0304 08:26:47.393007       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:47.393010       1 tree.go:471] Updated node(67) last access: 164.8949 seconds
I0304 08:26:47.393016       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:47.393021       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:47.393028       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:47.393036       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:47.393041       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:47.39302316 +0000 UTC m=+165.013245586]
I0304 08:26:47.393061       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:47.393069       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:47.393154       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:47.393163       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:47.393170       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.393176       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.393182       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.393187       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.393197       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:47.393207       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:47.393217       1 prefix_cache_and_load.go:584] latency, Route, 0.0518
I0304 08:26:47.393227       1 gateway.go:415] latency, selectTargetPod, 0.0518, target pod, 10.0.1.33:8000
I0304 08:26:47.393239       1 gateway.go:235] latency, HandleRequestBody, 0.0521
I0304 08:26:47.404096       1 gateway.go:207] "Processing request" requestID="dd314cda-c349-4ad4-9553-8f7b268c5aac"
I0304 08:26:47.404134       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ce303eb5-2853-420f-aa61-d4dff571fd60"
I0304 08:26:47.404261       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ce303eb5-2853-420f-aa61-d4dff571fd60" model="deepseek-llm-7b-chat"
I0304 08:26:47.404309       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:47.404314       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:47.404317       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:47.404531       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:47.404576       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:47.404582       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:47.404877       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="dd314cda-c349-4ad4-9553-8f7b268c5aac"
I0304 08:26:47.404896       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:47.412377       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="5d4b0873-525d-406e-bca1-415bcd77959a"
I0304 08:26:47.443485       1 gateway.go:608] "First token received" requestID="5d4b0873-525d-406e-bca1-415bcd77959a" ttft_ms=102
I0304 08:26:47.451098       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0465, numInputTokens, 3748
I0304 08:26:47.451116       1 tree.go:471] Updated node(0) last access: 164.9530 seconds
I0304 08:26:47.451122       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:47.451125       1 tree.go:471] Updated node(2) last access: 164.9530 seconds
I0304 08:26:47.451134       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:47.451139       1 tree.go:471] Updated node(24) last access: 164.9530 seconds
I0304 08:26:47.451145       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:47.451149       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3748 tokens
I0304 08:26:47.451157       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3748 tokens
I0304 08:26:47.451165       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:47.451172       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:47.451151213 +0000 UTC m=+165.071373639]
I0304 08:26:47.451190       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3748, Matched tokens: 3633, Matching ratio: 0.9693, # Matched pods: 0, Matched pods: []
I0304 08:26:47.451200       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9693 > 0.5000)
I0304 08:26:47.451289       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3633
I0304 08:26:47.451299       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:47.451307       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.451312       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.451319       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.451323       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.451335       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:47.451347       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:47.451358       1 prefix_cache_and_load.go:584] latency, Route, 0.0470
I0304 08:26:47.451369       1 gateway.go:415] latency, selectTargetPod, 0.0471, target pod, 10.0.1.53:8000
I0304 08:26:47.451381       1 gateway.go:235] latency, HandleRequestBody, 0.0473
I0304 08:26:47.469921       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ce303eb5-2853-420f-aa61-d4dff571fd60"
I0304 08:26:47.501351       1 gateway.go:608] "First token received" requestID="ce303eb5-2853-420f-aa61-d4dff571fd60" ttft_ms=97
I0304 08:26:47.551466       1 gateway.go:207] "Processing request" requestID="fa1768b2-9ecf-490b-8edc-01058aa61d76"
I0304 08:26:47.551506       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fa1768b2-9ecf-490b-8edc-01058aa61d76"
I0304 08:26:47.551523       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:47.556280       1 gateway.go:329] "-- In RequestBody processing ..." requestID="dd314cda-c349-4ad4-9553-8f7b268c5aac"
I0304 08:26:47.556432       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="dd314cda-c349-4ad4-9553-8f7b268c5aac" model="deepseek-llm-7b-chat"
I0304 08:26:47.556487       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:47.556496       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:47.556501       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:47.556789       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:47.556836       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:47.556842       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:47.605190       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0483, numInputTokens, 3750
I0304 08:26:47.605209       1 tree.go:471] Updated node(0) last access: 165.1071 seconds
I0304 08:26:47.605216       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:47.605220       1 tree.go:471] Updated node(2) last access: 165.1071 seconds
I0304 08:26:47.605228       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:47.605231       1 tree.go:471] Updated node(12) last access: 165.1071 seconds
I0304 08:26:47.605240       1 tree.go:667] Split complete - New node(395)
I0304 08:26:47.605245       1 tree.go:668] Split complete - Child node(340)
I0304 08:26:47.605250       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0304 08:26:47.605255       1 tree.go:471] Updated node(395) last access: 165.1071 seconds
I0304 08:26:47.605260       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:47.605265       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3750 tokens
I0304 08:26:47.605271       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:47.605277       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:47.605282       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:47.60526731 +0000 UTC m=+165.225489735]
I0304 08:26:47.605297       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3638, Matching ratio: 0.9701, # Matched pods: 0, Matched pods: []
I0304 08:26:47.605305       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9701 > 0.5000)
I0304 08:26:47.605373       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3638
I0304 08:26:47.605382       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:47.605392       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.605397       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.605401       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.605406       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.605409       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.605417       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:47.605425       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:47.605434       1 prefix_cache_and_load.go:584] latency, Route, 0.0489
I0304 08:26:47.605443       1 gateway.go:415] latency, selectTargetPod, 0.0490, target pod, 10.0.0.6:8000
I0304 08:26:47.605453       1 gateway.go:235] latency, HandleRequestBody, 0.0492
I0304 08:26:47.609687       1 gateway.go:207] "Processing request" requestID="e699d416-3fd4-453e-9ada-9664b354c5fe"
I0304 08:26:47.609713       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e699d416-3fd4-453e-9ada-9664b354c5fe"
I0304 08:26:47.609721       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:47.618599       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fa1768b2-9ecf-490b-8edc-01058aa61d76"
I0304 08:26:47.618744       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fa1768b2-9ecf-490b-8edc-01058aa61d76" model="deepseek-llm-7b-chat"
I0304 08:26:47.618789       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:47.618797       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:47.618800       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:47.619027       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:47.619070       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:47.619076       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:47.619094       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3e9ee82e, selectedpod, 10.0.1.33:8000, ttft, 102, tpot, 19, e2e, 277, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:47.619123       1 gateway.go:748] "Request completed" requestID="5d4b0873-525d-406e-bca1-415bcd77959a" targetPod="10.0.1.33:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:47.619140       1 gateway.go:764] "HandleResponseBody completed" requestID="5d4b0873-525d-406e-bca1-415bcd77959a" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:47.621502       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="dd314cda-c349-4ad4-9553-8f7b268c5aac"
I0304 08:26:47.652628       1 gateway.go:608] "First token received" requestID="dd314cda-c349-4ad4-9553-8f7b268c5aac" ttft_ms=96
I0304 08:26:47.666360       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0473, numInputTokens, 3755
I0304 08:26:47.666377       1 tree.go:471] Updated node(0) last access: 165.1682 seconds
I0304 08:26:47.666383       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:47.666387       1 tree.go:471] Updated node(2) last access: 165.1682 seconds
I0304 08:26:47.666395       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:47.666401       1 tree.go:471] Updated node(37) last access: 165.1683 seconds
I0304 08:26:47.666405       1 tree.go:490] Partial tokens match child node(239). Continue to go deeper in the radix tree
I0304 08:26:47.666408       1 tree.go:471] Updated node(239) last access: 165.1683 seconds
I0304 08:26:47.666420       1 tree.go:667] Split complete - New node(397)
I0304 08:26:47.666426       1 tree.go:668] Split complete - Child node(240)
I0304 08:26:47.666433       1 tree.go:501] latency, splitNode, 0.0000 seconds, 117 tokens:
I0304 08:26:47.666440       1 tree.go:471] Updated node(397) last access: 165.1683 seconds
I0304 08:26:47.666448       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:47.666453       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:47.666462       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:47.666471       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:47.666480       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:47.666456085 +0000 UTC m=+165.286678512]
I0304 08:26:47.666499       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3641, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:47.666519       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:47.666608       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3641
I0304 08:26:47.666623       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:47.666637       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.666645       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.666653       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.666659       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.666665       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.666675       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.666689       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:47.666702       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:47.666714       1 prefix_cache_and_load.go:584] latency, Route, 0.0479
I0304 08:26:47.666722       1 gateway.go:415] latency, selectTargetPod, 0.0479, target pod, 10.0.1.47:8000
I0304 08:26:47.666733       1 gateway.go:235] latency, HandleRequestBody, 0.0481
I0304 08:26:47.677014       1 gateway.go:562] latency, 0.0000, summary, hash(request), 17b510ea, selectedpod, 10.0.1.53:8000, ttft, 97, tpot, 19, e2e, 272, numInputTokens, 3960, numOutputTokens, 10, numTotalTokens, 3970
I0304 08:26:47.677035       1 gateway.go:748] "Request completed" requestID="ce303eb5-2853-420f-aa61-d4dff571fd60" targetPod="10.0.1.53:8000" promptTokens=3960 completionTokens=10 totalTokens=3970
I0304 08:26:47.677047       1 gateway.go:764] "HandleResponseBody completed" requestID="ce303eb5-2853-420f-aa61-d4dff571fd60" promptTokens=3960 completionTokens=10 stream=true
I0304 08:26:47.683432       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fa1768b2-9ecf-490b-8edc-01058aa61d76"
I0304 08:26:47.714873       1 gateway.go:608] "First token received" requestID="fa1768b2-9ecf-490b-8edc-01058aa61d76" ttft_ms=96
I0304 08:26:47.773020       1 gateway.go:207] "Processing request" requestID="db5fe416-bd3a-43dc-8d48-88bcf94ac7b7"
I0304 08:26:47.773047       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="db5fe416-bd3a-43dc-8d48-88bcf94ac7b7"
I0304 08:26:47.773056       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:47.781885       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e699d416-3fd4-453e-9ada-9664b354c5fe"
I0304 08:26:47.782031       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e699d416-3fd4-453e-9ada-9664b354c5fe" model="deepseek-llm-7b-chat"
I0304 08:26:47.782093       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:47.782101       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:47.782106       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:47.782321       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:47.782398       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:47.782405       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:47.790791       1 gateway.go:207] "Processing request" requestID="922b1688-b608-4b18-b9d1-aa24aa574390"
I0304 08:26:47.790824       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="922b1688-b608-4b18-b9d1-aa24aa574390"
I0304 08:26:47.790834       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:47.798447       1 gateway.go:329] "-- In RequestBody processing ..." requestID="db5fe416-bd3a-43dc-8d48-88bcf94ac7b7"
I0304 08:26:47.798579       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="db5fe416-bd3a-43dc-8d48-88bcf94ac7b7" model="deepseek-llm-7b-chat"
I0304 08:26:47.828336       1 gateway.go:562] latency, 0.0000, summary, hash(request), 50ca055c, selectedpod, 10.0.0.6:8000, ttft, 96, tpot, 19, e2e, 272, numInputTokens, 3963, numOutputTokens, 10, numTotalTokens, 3973
I0304 08:26:47.828352       1 gateway.go:748] "Request completed" requestID="dd314cda-c349-4ad4-9553-8f7b268c5aac" targetPod="10.0.0.6:8000" promptTokens=3963 completionTokens=10 totalTokens=3973
I0304 08:26:47.828362       1 gateway.go:764] "HandleResponseBody completed" requestID="dd314cda-c349-4ad4-9553-8f7b268c5aac" promptTokens=3963 completionTokens=10 stream=true
I0304 08:26:47.833293       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0509, numInputTokens, 3757
I0304 08:26:47.833314       1 tree.go:471] Updated node(0) last access: 165.3352 seconds
I0304 08:26:47.833320       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:47.833325       1 tree.go:471] Updated node(2) last access: 165.3352 seconds
I0304 08:26:47.833332       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:47.833336       1 tree.go:471] Updated node(22) last access: 165.3352 seconds
I0304 08:26:47.833340       1 tree.go:490] Partial tokens match child node(153). Continue to go deeper in the radix tree
I0304 08:26:47.833342       1 tree.go:471] Updated node(153) last access: 165.3352 seconds
I0304 08:26:47.833352       1 tree.go:667] Split complete - New node(399)
I0304 08:26:47.833357       1 tree.go:668] Split complete - Child node(177)
I0304 08:26:47.833362       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:47.833367       1 tree.go:471] Updated node(399) last access: 165.3352 seconds
I0304 08:26:47.833373       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:47.833377       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:47.833383       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:47.833390       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:47.833395       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:47.833379085 +0000 UTC m=+165.453601521]
I0304 08:26:47.833410       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3639, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:47.833418       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:47.833497       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3639
I0304 08:26:47.833506       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:47.833522       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.833528       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.833533       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.833538       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.833542       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.833547       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.833555       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:47.833563       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:47.833574       1 prefix_cache_and_load.go:584] latency, Route, 0.0515
I0304 08:26:47.833588       1 gateway.go:415] latency, selectTargetPod, 0.0515, target pod, 10.0.1.33:8000
I0304 08:26:47.833599       1 gateway.go:235] latency, HandleRequestBody, 0.0517
I0304 08:26:47.833622       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0350
I0304 08:26:47.833626       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:47.833629       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:47.833787       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:47.833832       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:47.833838       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:47.849941       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e699d416-3fd4-453e-9ada-9664b354c5fe"
I0304 08:26:47.890349       1 gateway.go:562] latency, 0.0000, summary, hash(request), 411996c2, selectedpod, 10.0.1.47:8000, ttft, 96, tpot, 19, e2e, 271, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:47.890365       1 gateway.go:748] "Request completed" requestID="fa1768b2-9ecf-490b-8edc-01058aa61d76" targetPod="10.0.1.47:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:47.890374       1 gateway.go:764] "HandleResponseBody completed" requestID="fa1768b2-9ecf-490b-8edc-01058aa61d76" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:47.894347       1 gateway.go:608] "First token received" requestID="e699d416-3fd4-453e-9ada-9664b354c5fe" ttft_ms=112
I0304 08:26:47.898591       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0647, numInputTokens, 3754
I0304 08:26:47.898608       1 tree.go:471] Updated node(0) last access: 165.4005 seconds
I0304 08:26:47.898614       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:47.898618       1 tree.go:471] Updated node(2) last access: 165.4005 seconds
I0304 08:26:47.898627       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:47.898631       1 tree.go:471] Updated node(40) last access: 165.4005 seconds
I0304 08:26:47.898637       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:47.898643       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:47.898649       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:47.898656       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:47.898660       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:47.898645027 +0000 UTC m=+165.518867453]
I0304 08:26:47.898674       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3633, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:47.898682       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:47.898757       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:47.898766       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:47.898773       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.898779       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.898783       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.898789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:47.898796       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:47.898805       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:47.898815       1 prefix_cache_and_load.go:584] latency, Route, 0.1002
I0304 08:26:47.898825       1 gateway.go:415] latency, selectTargetPod, 0.1002, target pod, 10.0.1.47:8000
I0304 08:26:47.898835       1 gateway.go:235] latency, HandleRequestBody, 0.1004
I0304 08:26:47.917371       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="db5fe416-bd3a-43dc-8d48-88bcf94ac7b7"
I0304 08:26:47.947447       1 gateway.go:608] "First token received" requestID="db5fe416-bd3a-43dc-8d48-88bcf94ac7b7" ttft_ms=148
I0304 08:26:47.960323       1 gateway.go:329] "-- In RequestBody processing ..." requestID="922b1688-b608-4b18-b9d1-aa24aa574390"
I0304 08:26:47.960448       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="922b1688-b608-4b18-b9d1-aa24aa574390" model="deepseek-llm-7b-chat"
I0304 08:26:47.960495       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:47.960502       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:47.960505       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:47.960743       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:47.960795       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:47.960803       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:48.010085       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0493, numInputTokens, 3756
I0304 08:26:48.010106       1 tree.go:471] Updated node(0) last access: 165.5120 seconds
I0304 08:26:48.010112       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:48.010116       1 tree.go:471] Updated node(2) last access: 165.5120 seconds
I0304 08:26:48.010125       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:48.010127       1 tree.go:471] Updated node(9) last access: 165.5120 seconds
I0304 08:26:48.010131       1 tree.go:490] Partial tokens match child node(63). Continue to go deeper in the radix tree
I0304 08:26:48.010135       1 tree.go:471] Updated node(63) last access: 165.5120 seconds
I0304 08:26:48.010145       1 tree.go:667] Split complete - New node(402)
I0304 08:26:48.010150       1 tree.go:668] Split complete - Child node(64)
I0304 08:26:48.010156       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:48.010161       1 tree.go:471] Updated node(402) last access: 165.5120 seconds
I0304 08:26:48.010167       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:48.010172       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:48.010179       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:48.010186       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:48.010192       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:48.01017461 +0000 UTC m=+165.630397036]
I0304 08:26:48.010206       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3641, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:48.010213       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:48.010294       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3641
I0304 08:26:48.010304       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:48.010311       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.010316       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.010319       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.010323       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.010327       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.010333       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.010341       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:48.010351       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:48.010388       1 prefix_cache_and_load.go:584] latency, Route, 0.0499
I0304 08:26:48.010398       1 gateway.go:415] latency, selectTargetPod, 0.0499, target pod, 10.0.0.34:8000
I0304 08:26:48.010407       1 gateway.go:235] latency, HandleRequestBody, 0.0501
I0304 08:26:48.026720       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="922b1688-b608-4b18-b9d1-aa24aa574390"
I0304 08:26:48.069943       1 gateway.go:562] latency, 0.0000, summary, hash(request), ed709c73, selectedpod, 10.0.1.33:8000, ttft, 112, tpot, 19, e2e, 288, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:48.069961       1 gateway.go:748] "Request completed" requestID="e699d416-3fd4-453e-9ada-9664b354c5fe" targetPod="10.0.1.33:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:48.069969       1 gateway.go:764] "HandleResponseBody completed" requestID="e699d416-3fd4-453e-9ada-9664b354c5fe" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:48.072020       1 gateway.go:608] "First token received" requestID="922b1688-b608-4b18-b9d1-aa24aa574390" ttft_ms=111
I0304 08:26:48.123259       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7fe74978, selectedpod, 10.0.1.47:8000, ttft, 148, tpot, 19, e2e, 324, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:48.123278       1 gateway.go:748] "Request completed" requestID="db5fe416-bd3a-43dc-8d48-88bcf94ac7b7" targetPod="10.0.1.47:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:48.123288       1 gateway.go:764] "HandleResponseBody completed" requestID="db5fe416-bd3a-43dc-8d48-88bcf94ac7b7" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:48.247666       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4796afed, selectedpod, 10.0.0.34:8000, ttft, 111, tpot, 19, e2e, 287, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:48.247687       1 gateway.go:748] "Request completed" requestID="922b1688-b608-4b18-b9d1-aa24aa574390" targetPod="10.0.0.34:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:48.247697       1 gateway.go:764] "HandleResponseBody completed" requestID="922b1688-b608-4b18-b9d1-aa24aa574390" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:48.351082       1 gateway.go:207] "Processing request" requestID="09716aa4-d0bc-4285-a37b-c7f498dcb12b"
I0304 08:26:48.351116       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="09716aa4-d0bc-4285-a37b-c7f498dcb12b"
I0304 08:26:48.351123       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:48.409372       1 gateway.go:329] "-- In RequestBody processing ..." requestID="09716aa4-d0bc-4285-a37b-c7f498dcb12b"
I0304 08:26:48.409495       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="09716aa4-d0bc-4285-a37b-c7f498dcb12b" model="deepseek-llm-7b-chat"
I0304 08:26:48.409556       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:48.409564       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:48.409568       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:48.409847       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:48.409896       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:48.409903       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:48.457088       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0472, numInputTokens, 3757
I0304 08:26:48.457106       1 tree.go:471] Updated node(0) last access: 165.9590 seconds
I0304 08:26:48.457112       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:48.457116       1 tree.go:471] Updated node(2) last access: 165.9590 seconds
I0304 08:26:48.457123       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:48.457127       1 tree.go:471] Updated node(40) last access: 165.9590 seconds
I0304 08:26:48.457133       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 124 tokens:
I0304 08:26:48.457139       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:26:48.457145       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:48.457154       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:48.457162       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:48.45714087 +0000 UTC m=+166.077363294]
I0304 08:26:48.457179       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3633, Matching ratio: 0.9670, # Matched pods: 0, Matched pods: []
I0304 08:26:48.457188       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9670 > 0.5000)
I0304 08:26:48.457275       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3633
I0304 08:26:48.457284       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:48.457291       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.457299       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.457306       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.457314       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.457323       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:48.457333       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:48.457341       1 prefix_cache_and_load.go:584] latency, Route, 0.0478
I0304 08:26:48.457349       1 gateway.go:415] latency, selectTargetPod, 0.0478, target pod, 10.0.1.47:8000
I0304 08:26:48.457359       1 gateway.go:235] latency, HandleRequestBody, 0.0480
I0304 08:26:48.474932       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="09716aa4-d0bc-4285-a37b-c7f498dcb12b"
I0304 08:26:48.522183       1 gateway.go:608] "First token received" requestID="09716aa4-d0bc-4285-a37b-c7f498dcb12b" ttft_ms=112
I0304 08:26:48.695053       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6c2272e0, selectedpod, 10.0.1.47:8000, ttft, 112, tpot, 19, e2e, 285, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:48.695071       1 gateway.go:748] "Request completed" requestID="09716aa4-d0bc-4285-a37b-c7f498dcb12b" targetPod="10.0.1.47:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:48.695082       1 gateway.go:764] "HandleResponseBody completed" requestID="09716aa4-d0bc-4285-a37b-c7f498dcb12b" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:48.769290       1 gateway.go:207] "Processing request" requestID="44c5a665-2d1a-4915-960c-f646cd08b5a0"
I0304 08:26:48.769311       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="44c5a665-2d1a-4915-960c-f646cd08b5a0"
I0304 08:26:48.769319       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:48.804181       1 gateway.go:329] "-- In RequestBody processing ..." requestID="44c5a665-2d1a-4915-960c-f646cd08b5a0"
I0304 08:26:48.804323       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="44c5a665-2d1a-4915-960c-f646cd08b5a0" model="deepseek-llm-7b-chat"
I0304 08:26:48.804389       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:48.804398       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:48.804404       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:48.804708       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:48.804768       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0304 08:26:48.804778       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:48.851535       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0467, numInputTokens, 3755
I0304 08:26:48.851555       1 tree.go:471] Updated node(0) last access: 166.3534 seconds
I0304 08:26:48.851563       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:48.851567       1 tree.go:471] Updated node(2) last access: 166.3534 seconds
I0304 08:26:48.851577       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:48.851581       1 tree.go:471] Updated node(67) last access: 166.3534 seconds
I0304 08:26:48.851593       1 tree.go:667] Split complete - New node(405)
I0304 08:26:48.851598       1 tree.go:668] Split complete - Child node(108)
I0304 08:26:48.851605       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:48.851610       1 tree.go:471] Updated node(405) last access: 166.3535 seconds
I0304 08:26:48.851618       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:48.851624       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:48.851633       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:48.851640       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:48.851648       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:48.851626273 +0000 UTC m=+166.471848699]
I0304 08:26:48.851667       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3640, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:48.851678       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:48.851767       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3640
I0304 08:26:48.851780       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:48.851790       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.851797       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.851805       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.851813       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.851816       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.851828       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:48.851840       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:48.851854       1 prefix_cache_and_load.go:584] latency, Route, 0.0475
I0304 08:26:48.851864       1 gateway.go:415] latency, selectTargetPod, 0.0475, target pod, 10.0.1.33:8000
I0304 08:26:48.851888       1 gateway.go:235] latency, HandleRequestBody, 0.0477
I0304 08:26:48.862692       1 gateway.go:207] "Processing request" requestID="32313213-e153-4601-9433-81ab423f80f3"
I0304 08:26:48.862711       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="32313213-e153-4601-9433-81ab423f80f3"
I0304 08:26:48.862719       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:48.869887       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="44c5a665-2d1a-4915-960c-f646cd08b5a0"
I0304 08:26:48.900385       1 gateway.go:608] "First token received" requestID="44c5a665-2d1a-4915-960c-f646cd08b5a0" ttft_ms=96
I0304 08:26:48.904370       1 gateway.go:329] "-- In RequestBody processing ..." requestID="32313213-e153-4601-9433-81ab423f80f3"
I0304 08:26:48.904487       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="32313213-e153-4601-9433-81ab423f80f3" model="deepseek-llm-7b-chat"
I0304 08:26:48.904538       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:48.904545       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:48.904548       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:48.904771       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:48.904811       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:48.904817       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:48.954287       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0495, numInputTokens, 3755
I0304 08:26:48.954314       1 tree.go:471] Updated node(0) last access: 166.4562 seconds
I0304 08:26:48.954321       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:48.954324       1 tree.go:471] Updated node(2) last access: 166.4562 seconds
I0304 08:26:48.954332       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:48.954336       1 tree.go:471] Updated node(40) last access: 166.4562 seconds
I0304 08:26:48.954340       1 tree.go:490] Partial tokens match child node(94). Continue to go deeper in the radix tree
I0304 08:26:48.954343       1 tree.go:471] Updated node(94) last access: 166.4562 seconds
I0304 08:26:48.954352       1 tree.go:667] Split complete - New node(407)
I0304 08:26:48.954359       1 tree.go:668] Split complete - Child node(58)
I0304 08:26:48.954364       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:48.954370       1 tree.go:471] Updated node(407) last access: 166.4562 seconds
I0304 08:26:48.954376       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:48.954381       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:48.954389       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:48.954397       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:48.954404       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:48.954383819 +0000 UTC m=+166.574606246]
I0304 08:26:48.954423       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3639, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:48.954434       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:48.954533       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3639
I0304 08:26:48.954548       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:48.954561       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.954568       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.954574       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.954579       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.954587       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.954595       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:48.954608       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:48.954622       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:48.954638       1 prefix_cache_and_load.go:584] latency, Route, 0.0501
I0304 08:26:48.954649       1 gateway.go:415] latency, selectTargetPod, 0.0501, target pod, 10.0.1.47:8000
I0304 08:26:48.954663       1 gateway.go:235] latency, HandleRequestBody, 0.0503
I0304 08:26:48.970937       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="32313213-e153-4601-9433-81ab423f80f3"
I0304 08:26:49.015629       1 gateway.go:608] "First token received" requestID="32313213-e153-4601-9433-81ab423f80f3" ttft_ms=111
I0304 08:26:49.075867       1 gateway.go:562] latency, 0.0000, summary, hash(request), 08050baa, selectedpod, 10.0.1.33:8000, ttft, 96, tpot, 19, e2e, 271, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:49.075882       1 gateway.go:748] "Request completed" requestID="44c5a665-2d1a-4915-960c-f646cd08b5a0" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:49.075893       1 gateway.go:764] "HandleResponseBody completed" requestID="44c5a665-2d1a-4915-960c-f646cd08b5a0" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:49.191211       1 gateway.go:562] latency, 0.0000, summary, hash(request), 41f7d01a, selectedpod, 10.0.1.47:8000, ttft, 111, tpot, 19, e2e, 286, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:49.191233       1 gateway.go:748] "Request completed" requestID="32313213-e153-4601-9433-81ab423f80f3" targetPod="10.0.1.47:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:49.191246       1 gateway.go:764] "HandleResponseBody completed" requestID="32313213-e153-4601-9433-81ab423f80f3" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:49.511483       1 gateway.go:207] "Processing request" requestID="b792d987-ed90-4676-8b65-c5f77361a75c"
I0304 08:26:49.511527       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b792d987-ed90-4676-8b65-c5f77361a75c"
I0304 08:26:49.511536       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:49.565193       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b792d987-ed90-4676-8b65-c5f77361a75c"
I0304 08:26:49.565325       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b792d987-ed90-4676-8b65-c5f77361a75c" model="deepseek-llm-7b-chat"
I0304 08:26:49.565377       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:49.565383       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:49.565386       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:49.565709       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:49.565754       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0304 08:26:49.565759       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:49.569841       1 gateway.go:207] "Processing request" requestID="24477d6f-d26c-413d-bdd1-69caf555f1f1"
I0304 08:26:49.569873       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="24477d6f-d26c-413d-bdd1-69caf555f1f1"
I0304 08:26:49.569881       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:49.606964       1 gateway.go:329] "-- In RequestBody processing ..." requestID="24477d6f-d26c-413d-bdd1-69caf555f1f1"
I0304 08:26:49.607160       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="24477d6f-d26c-413d-bdd1-69caf555f1f1" model="deepseek-llm-7b-chat"
I0304 08:26:49.616137       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0504, numInputTokens, 3749
I0304 08:26:49.616155       1 tree.go:471] Updated node(0) last access: 167.1180 seconds
I0304 08:26:49.616162       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:49.616165       1 tree.go:471] Updated node(2) last access: 167.1180 seconds
I0304 08:26:49.616173       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:49.616177       1 tree.go:471] Updated node(24) last access: 167.1180 seconds
I0304 08:26:49.616180       1 tree.go:490] Partial tokens match child node(270). Continue to go deeper in the radix tree
I0304 08:26:49.616182       1 tree.go:471] Updated node(270) last access: 167.1180 seconds
I0304 08:26:49.616186       1 tree.go:490] Partial tokens match child node(78). Continue to go deeper in the radix tree
I0304 08:26:49.616190       1 tree.go:471] Updated node(78) last access: 167.1181 seconds
I0304 08:26:49.616197       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0304 08:26:49.616202       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3749 tokens
I0304 08:26:49.616210       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3749 tokens
I0304 08:26:49.616217       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:49.616224       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:49.616204646 +0000 UTC m=+167.236427082]
I0304 08:26:49.616246       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3749, Matched tokens: 3639, Matching ratio: 0.9707, # Matched pods: 0, Matched pods: []
I0304 08:26:49.616253       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9707 > 0.5000)
I0304 08:26:49.616329       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3639
I0304 08:26:49.616338       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:49.616346       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.616351       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.616356       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.616361       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.616365       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.616370       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.616380       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:49.616389       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:49.616396       1 prefix_cache_and_load.go:584] latency, Route, 0.0510
I0304 08:26:49.616413       1 gateway.go:415] latency, selectTargetPod, 0.0510, target pod, 10.0.1.53:8000
I0304 08:26:49.616424       1 gateway.go:235] latency, HandleRequestBody, 0.0512
I0304 08:26:49.616429       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0091
I0304 08:26:49.616441       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:49.616446       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:49.616691       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:49.616740       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:49.616746       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:49.634468       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b792d987-ed90-4676-8b65-c5f77361a75c"
I0304 08:26:49.665967       1 gateway.go:608] "First token received" requestID="b792d987-ed90-4676-8b65-c5f77361a75c" ttft_ms=100
I0304 08:26:49.685463       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0687, numInputTokens, 3758
I0304 08:26:49.685480       1 tree.go:471] Updated node(0) last access: 167.1873 seconds
I0304 08:26:49.685486       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:49.685490       1 tree.go:471] Updated node(2) last access: 167.1874 seconds
I0304 08:26:49.685499       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:49.685504       1 tree.go:471] Updated node(26) last access: 167.1874 seconds
I0304 08:26:49.685508       1 tree.go:490] Partial tokens match child node(151). Continue to go deeper in the radix tree
I0304 08:26:49.685519       1 tree.go:471] Updated node(151) last access: 167.1874 seconds
I0304 08:26:49.685523       1 tree.go:490] Partial tokens match child node(374). Continue to go deeper in the radix tree
I0304 08:26:49.685526       1 tree.go:471] Updated node(374) last access: 167.1874 seconds
I0304 08:26:49.685536       1 tree.go:667] Split complete - New node(410)
I0304 08:26:49.685540       1 tree.go:668] Split complete - Child node(184)
I0304 08:26:49.685544       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:49.685548       1 tree.go:471] Updated node(410) last access: 167.1874 seconds
I0304 08:26:49.685554       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:49.685559       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3758 tokens
I0304 08:26:49.685565       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:49.685572       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:49.685578       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:49.6855611 +0000 UTC m=+167.305783526]
I0304 08:26:49.685591       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3642, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:49.685598       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:49.685666       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3642
I0304 08:26:49.685674       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:49.685682       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.685689       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.685693       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.685699       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.685705       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.685713       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.685719       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:49.685729       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:49.685742       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:49.685754       1 prefix_cache_and_load.go:584] latency, Route, 0.0785
I0304 08:26:49.685764       1 gateway.go:415] latency, selectTargetPod, 0.0785, target pod, 10.0.3.38:8000
I0304 08:26:49.685774       1 gateway.go:235] latency, HandleRequestBody, 0.0788
I0304 08:26:49.700612       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="24477d6f-d26c-413d-bdd1-69caf555f1f1"
I0304 08:26:49.748867       1 gateway.go:608] "First token received" requestID="24477d6f-d26c-413d-bdd1-69caf555f1f1" ttft_ms=141
I0304 08:26:49.841291       1 gateway.go:562] latency, 0.0000, summary, hash(request), c4c03c3c, selectedpod, 10.0.1.53:8000, ttft, 100, tpot, 19, e2e, 276, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:49.841312       1 gateway.go:748] "Request completed" requestID="b792d987-ed90-4676-8b65-c5f77361a75c" targetPod="10.0.1.53:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:49.841327       1 gateway.go:764] "HandleResponseBody completed" requestID="b792d987-ed90-4676-8b65-c5f77361a75c" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:49.924170       1 gateway.go:562] latency, 0.0000, summary, hash(request), be064c03, selectedpod, 10.0.3.38:8000, ttft, 141, tpot, 19, e2e, 317, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:49.924184       1 gateway.go:748] "Request completed" requestID="24477d6f-d26c-413d-bdd1-69caf555f1f1" targetPod="10.0.3.38:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:49.924192       1 gateway.go:764] "HandleResponseBody completed" requestID="24477d6f-d26c-413d-bdd1-69caf555f1f1" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:50.155576       1 gateway.go:207] "Processing request" requestID="a9a60741-f8c8-428e-867f-7294a31fbd05"
I0304 08:26:50.155605       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="a9a60741-f8c8-428e-867f-7294a31fbd05"
I0304 08:26:50.155613       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:50.199151       1 gateway.go:329] "-- In RequestBody processing ..." requestID="a9a60741-f8c8-428e-867f-7294a31fbd05"
I0304 08:26:50.199270       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="a9a60741-f8c8-428e-867f-7294a31fbd05" model="deepseek-llm-7b-chat"
I0304 08:26:50.199314       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:50.199321       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:50.199324       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:50.199612       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:50.199666       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:50.199673       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:50.250548       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0509, numInputTokens, 3755
I0304 08:26:50.250569       1 tree.go:471] Updated node(0) last access: 167.7524 seconds
I0304 08:26:50.250575       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:50.250578       1 tree.go:471] Updated node(2) last access: 167.7524 seconds
I0304 08:26:50.250587       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:50.250591       1 tree.go:471] Updated node(26) last access: 167.7525 seconds
I0304 08:26:50.250594       1 tree.go:490] Partial tokens match child node(149). Continue to go deeper in the radix tree
I0304 08:26:50.250597       1 tree.go:471] Updated node(149) last access: 167.7525 seconds
I0304 08:26:50.250607       1 tree.go:667] Split complete - New node(412)
I0304 08:26:50.250612       1 tree.go:668] Split complete - Child node(150)
I0304 08:26:50.250616       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:50.250621       1 tree.go:471] Updated node(412) last access: 167.7525 seconds
I0304 08:26:50.250626       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:50.250630       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:50.250636       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:50.250642       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:50.250650       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:50.250632362 +0000 UTC m=+167.870854787]
I0304 08:26:50.250669       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3639, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:50.250676       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:50.250756       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3639
I0304 08:26:50.250766       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:50.250777       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:50.250786       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:50.250793       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:50.250798       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:50.250808       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:50.250815       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:50.250827       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:50.250837       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:50.250849       1 prefix_cache_and_load.go:584] latency, Route, 0.0515
I0304 08:26:50.250859       1 gateway.go:415] latency, selectTargetPod, 0.0515, target pod, 10.0.3.38:8000
I0304 08:26:50.250869       1 gateway.go:235] latency, HandleRequestBody, 0.0517
I0304 08:26:50.265540       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="a9a60741-f8c8-428e-867f-7294a31fbd05"
I0304 08:26:50.310329       1 gateway.go:608] "First token received" requestID="a9a60741-f8c8-428e-867f-7294a31fbd05" ttft_ms=111
I0304 08:26:50.485913       1 gateway.go:562] latency, 0.0000, summary, hash(request), af70bc2e, selectedpod, 10.0.3.38:8000, ttft, 111, tpot, 19, e2e, 286, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:50.485934       1 gateway.go:748] "Request completed" requestID="a9a60741-f8c8-428e-867f-7294a31fbd05" targetPod="10.0.3.38:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:50.485945       1 gateway.go:764] "HandleResponseBody completed" requestID="a9a60741-f8c8-428e-867f-7294a31fbd05" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:50.720738       1 gateway.go:207] "Processing request" requestID="8db91a7d-8df0-4e03-b43a-612ee9171e66"
I0304 08:26:50.720787       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8db91a7d-8df0-4e03-b43a-612ee9171e66"
I0304 08:26:50.720797       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:50.736476       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8db91a7d-8df0-4e03-b43a-612ee9171e66"
I0304 08:26:50.736624       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8db91a7d-8df0-4e03-b43a-612ee9171e66" model="deepseek-llm-7b-chat"
I0304 08:26:50.736673       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:50.736680       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:50.736683       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:50.737054       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:50.737099       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0304 08:26:50.737104       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:50.784874       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0478, numInputTokens, 3758
I0304 08:26:50.784896       1 tree.go:471] Updated node(0) last access: 168.2868 seconds
I0304 08:26:50.784903       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:50.784907       1 tree.go:471] Updated node(2) last access: 168.2868 seconds
I0304 08:26:50.784917       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:50.784922       1 tree.go:471] Updated node(24) last access: 168.2868 seconds
I0304 08:26:50.784935       1 tree.go:667] Split complete - New node(414)
I0304 08:26:50.784942       1 tree.go:668] Split complete - Child node(72)
I0304 08:26:50.784950       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0304 08:26:50.784955       1 tree.go:471] Updated node(414) last access: 168.2868 seconds
I0304 08:26:50.784964       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:50.784969       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3758 tokens
I0304 08:26:50.784991       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:50.784998       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:50.785005       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:50.784984662 +0000 UTC m=+168.405207090]
I0304 08:26:50.785023       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3637, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:50.785032       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:50.785151       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3637
I0304 08:26:50.785161       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:50.785171       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:50.785181       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:50.785186       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:50.785193       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:50.785197       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:50.785208       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:50.785217       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:50.785227       1 prefix_cache_and_load.go:584] latency, Route, 0.0486
I0304 08:26:50.785238       1 gateway.go:415] latency, selectTargetPod, 0.0486, target pod, 10.0.1.53:8000
I0304 08:26:50.785255       1 gateway.go:235] latency, HandleRequestBody, 0.0488
I0304 08:26:50.803814       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8db91a7d-8df0-4e03-b43a-612ee9171e66"
I0304 08:26:50.849121       1 gateway.go:608] "First token received" requestID="8db91a7d-8df0-4e03-b43a-612ee9171e66" ttft_ms=112
I0304 08:26:51.024480       1 gateway.go:562] latency, 0.0000, summary, hash(request), e913ed6b, selectedpod, 10.0.1.53:8000, ttft, 112, tpot, 19, e2e, 287, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:51.024503       1 gateway.go:748] "Request completed" requestID="8db91a7d-8df0-4e03-b43a-612ee9171e66" targetPod="10.0.1.53:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:51.024540       1 gateway.go:764] "HandleResponseBody completed" requestID="8db91a7d-8df0-4e03-b43a-612ee9171e66" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:51.053382       1 gateway.go:207] "Processing request" requestID="0346b7f0-057e-48a0-97cc-c058d86ac8e3"
I0304 08:26:51.053404       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0346b7f0-057e-48a0-97cc-c058d86ac8e3"
I0304 08:26:51.053413       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:51.099577       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0346b7f0-057e-48a0-97cc-c058d86ac8e3"
I0304 08:26:51.099699       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0346b7f0-057e-48a0-97cc-c058d86ac8e3" model="deepseek-llm-7b-chat"
I0304 08:26:51.099741       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:51.099747       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:51.099751       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:51.100088       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:51.100134       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0304 08:26:51.100140       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:51.149625       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0495, numInputTokens, 3755
I0304 08:26:51.149645       1 tree.go:471] Updated node(0) last access: 168.6515 seconds
I0304 08:26:51.149651       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:51.149655       1 tree.go:471] Updated node(2) last access: 168.6515 seconds
I0304 08:26:51.149662       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:51.149665       1 tree.go:471] Updated node(22) last access: 168.6515 seconds
I0304 08:26:51.149673       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:51.149706       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:51.149715       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:51.149722       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:51.149726       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:51.149710218 +0000 UTC m=+168.769932644]
I0304 08:26:51.149744       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3633, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:51.149751       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:51.149829       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:51.149838       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:51.149846       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.149852       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.149857       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.149861       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.149869       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:51.149879       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:51.149890       1 prefix_cache_and_load.go:584] latency, Route, 0.0501
I0304 08:26:51.149900       1 gateway.go:415] latency, selectTargetPod, 0.0502, target pod, 10.0.1.33:8000
I0304 08:26:51.149912       1 gateway.go:235] latency, HandleRequestBody, 0.0503
I0304 08:26:51.166755       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0346b7f0-057e-48a0-97cc-c058d86ac8e3"
I0304 08:26:51.212325       1 gateway.go:608] "First token received" requestID="0346b7f0-057e-48a0-97cc-c058d86ac8e3" ttft_ms=112
I0304 08:26:51.239049       1 gateway.go:207] "Processing request" requestID="141c04ad-b693-4b5f-afa0-a75f793fa67f"
I0304 08:26:51.239071       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="141c04ad-b693-4b5f-afa0-a75f793fa67f"
I0304 08:26:51.239079       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:51.253908       1 gateway.go:329] "-- In RequestBody processing ..." requestID="141c04ad-b693-4b5f-afa0-a75f793fa67f"
I0304 08:26:51.254035       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="141c04ad-b693-4b5f-afa0-a75f793fa67f" model="deepseek-llm-7b-chat"
I0304 08:26:51.254082       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:51.254088       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:51.254091       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:51.254328       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:51.254379       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:51.254386       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:51.300277       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0459, numInputTokens, 3755
I0304 08:26:51.300296       1 tree.go:471] Updated node(0) last access: 168.8022 seconds
I0304 08:26:51.300303       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:51.300307       1 tree.go:471] Updated node(2) last access: 168.8022 seconds
I0304 08:26:51.300316       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:51.300319       1 tree.go:471] Updated node(12) last access: 168.8022 seconds
I0304 08:26:51.300327       1 tree.go:667] Split complete - New node(417)
I0304 08:26:51.300331       1 tree.go:668] Split complete - Child node(247)
I0304 08:26:51.300336       1 tree.go:501] latency, splitNode, 0.0000 seconds, 122 tokens:
I0304 08:26:51.300340       1 tree.go:471] Updated node(417) last access: 168.8022 seconds
I0304 08:26:51.300344       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:51.300348       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:51.300354       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:51.300359       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:51.300364       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:51.300350398 +0000 UTC m=+168.920572824]
I0304 08:26:51.300379       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3641, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:51.300386       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:51.300453       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3641
I0304 08:26:51.300461       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:51.300468       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.300475       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.300480       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.300484       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.300488       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.300496       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:51.300504       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:51.300526       1 prefix_cache_and_load.go:584] latency, Route, 0.0464
I0304 08:26:51.300540       1 gateway.go:415] latency, selectTargetPod, 0.0465, target pod, 10.0.0.6:8000
I0304 08:26:51.300552       1 gateway.go:235] latency, HandleRequestBody, 0.0466
I0304 08:26:51.319771       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="141c04ad-b693-4b5f-afa0-a75f793fa67f"
I0304 08:26:51.350797       1 gateway.go:608] "First token received" requestID="141c04ad-b693-4b5f-afa0-a75f793fa67f" ttft_ms=96
I0304 08:26:51.387586       1 gateway.go:562] latency, 0.0000, summary, hash(request), ef527ee1, selectedpod, 10.0.1.33:8000, ttft, 112, tpot, 19, e2e, 287, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:51.387605       1 gateway.go:748] "Request completed" requestID="0346b7f0-057e-48a0-97cc-c058d86ac8e3" targetPod="10.0.1.33:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:51.387615       1 gateway.go:764] "HandleResponseBody completed" requestID="0346b7f0-057e-48a0-97cc-c058d86ac8e3" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:51.527383       1 gateway.go:562] latency, 0.0000, summary, hash(request), 4dafe19a, selectedpod, 10.0.0.6:8000, ttft, 96, tpot, 19, e2e, 273, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:51.527401       1 gateway.go:748] "Request completed" requestID="141c04ad-b693-4b5f-afa0-a75f793fa67f" targetPod="10.0.0.6:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:51.527411       1 gateway.go:764] "HandleResponseBody completed" requestID="141c04ad-b693-4b5f-afa0-a75f793fa67f" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:51.653485       1 gateway.go:207] "Processing request" requestID="ddd10afa-6ad7-4412-b826-9ca0e5ba64fe"
I0304 08:26:51.653518       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ddd10afa-6ad7-4412-b826-9ca0e5ba64fe"
I0304 08:26:51.653528       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:51.720381       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ddd10afa-6ad7-4412-b826-9ca0e5ba64fe"
I0304 08:26:51.720538       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ddd10afa-6ad7-4412-b826-9ca0e5ba64fe" model="deepseek-llm-7b-chat"
I0304 08:26:51.720587       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:51.720594       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:51.720597       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:51.720838       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:51.720888       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:51.720894       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:51.728718       1 gateway.go:207] "Processing request" requestID="94d615c8-d31d-49c8-9f87-1185c45e125e"
I0304 08:26:51.728743       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="94d615c8-d31d-49c8-9f87-1185c45e125e"
I0304 08:26:51.728751       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:51.768658       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0478, numInputTokens, 3756
I0304 08:26:51.768681       1 tree.go:471] Updated node(0) last access: 169.2705 seconds
I0304 08:26:51.768687       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:51.768692       1 tree.go:471] Updated node(2) last access: 169.2706 seconds
I0304 08:26:51.768700       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:51.768703       1 tree.go:471] Updated node(5) last access: 169.2706 seconds
I0304 08:26:51.768706       1 tree.go:490] Partial tokens match child node(105). Continue to go deeper in the radix tree
I0304 08:26:51.768709       1 tree.go:471] Updated node(105) last access: 169.2706 seconds
I0304 08:26:51.768724       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:51.768731       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:51.768739       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:51.768747       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:51.768752       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:51.768733293 +0000 UTC m=+169.388955718]
I0304 08:26:51.768767       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3637, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:51.768774       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:51.768891       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3637
I0304 08:26:51.768901       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:51.768908       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.768916       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.768920       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.768923       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.768929       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.768941       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:51.768951       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:51.768963       1 prefix_cache_and_load.go:584] latency, Route, 0.0484
I0304 08:26:51.768982       1 gateway.go:415] latency, selectTargetPod, 0.0484, target pod, 10.0.3.28:8000
I0304 08:26:51.769000       1 gateway.go:235] latency, HandleRequestBody, 0.0486
I0304 08:26:51.772226       1 gateway.go:329] "-- In RequestBody processing ..." requestID="94d615c8-d31d-49c8-9f87-1185c45e125e"
I0304 08:26:51.772358       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="94d615c8-d31d-49c8-9f87-1185c45e125e" model="deepseek-llm-7b-chat"
I0304 08:26:51.772404       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:51.772411       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:51.772414       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:51.772626       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:51.772670       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:51.772675       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:51.784658       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ddd10afa-6ad7-4412-b826-9ca0e5ba64fe"
I0304 08:26:51.817918       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0452, numInputTokens, 3753
I0304 08:26:51.817936       1 tree.go:471] Updated node(0) last access: 169.3198 seconds
I0304 08:26:51.817943       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:51.817947       1 tree.go:471] Updated node(2) last access: 169.3198 seconds
I0304 08:26:51.817957       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:51.817961       1 tree.go:471] Updated node(40) last access: 169.3198 seconds
I0304 08:26:51.817965       1 tree.go:490] Partial tokens match child node(222). Continue to go deeper in the radix tree
I0304 08:26:51.817969       1 tree.go:471] Updated node(222) last access: 169.3198 seconds
I0304 08:26:51.817980       1 tree.go:490] Partial tokens match child node(241). Continue to go deeper in the radix tree
I0304 08:26:51.817983       1 tree.go:471] Updated node(241) last access: 169.3198 seconds
I0304 08:26:51.817996       1 tree.go:667] Split complete - New node(420)
I0304 08:26:51.818001       1 tree.go:668] Split complete - Child node(242)
I0304 08:26:51.818009       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0304 08:26:51.818016       1 tree.go:471] Updated node(420) last access: 169.3199 seconds
I0304 08:26:51.818022       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:51.818029       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:51.818038       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:51.818046       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:51.818053       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:51.818031868 +0000 UTC m=+169.438254294]
I0304 08:26:51.818071       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3641, Matching ratio: 0.9702, # Matched pods: 0, Matched pods: []
I0304 08:26:51.818080       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9702 > 0.5000)
I0304 08:26:51.818152       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3641
I0304 08:26:51.818164       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:51.818175       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.818185       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.818194       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.818198       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.818204       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.818210       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.818218       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:51.818229       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:51.818240       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:51.818252       1 prefix_cache_and_load.go:584] latency, Route, 0.0458
I0304 08:26:51.818263       1 gateway.go:415] latency, selectTargetPod, 0.0459, target pod, 10.0.1.47:8000
I0304 08:26:51.818275       1 gateway.go:235] latency, HandleRequestBody, 0.0461
I0304 08:26:51.829919       1 gateway.go:608] "First token received" requestID="ddd10afa-6ad7-4412-b826-9ca0e5ba64fe" ttft_ms=109
I0304 08:26:51.835115       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="94d615c8-d31d-49c8-9f87-1185c45e125e"
I0304 08:26:51.866267       1 gateway.go:608] "First token received" requestID="94d615c8-d31d-49c8-9f87-1185c45e125e" ttft_ms=93
I0304 08:26:52.005269       1 gateway.go:562] latency, 0.0000, summary, hash(request), e35dd078, selectedpod, 10.0.3.28:8000, ttft, 109, tpot, 19, e2e, 284, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:52.005285       1 gateway.go:748] "Request completed" requestID="ddd10afa-6ad7-4412-b826-9ca0e5ba64fe" targetPod="10.0.3.28:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:52.005296       1 gateway.go:764] "HandleResponseBody completed" requestID="ddd10afa-6ad7-4412-b826-9ca0e5ba64fe" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:52.044157       1 gateway.go:562] latency, 0.0000, summary, hash(request), 3cc54a2f, selectedpod, 10.0.1.47:8000, ttft, 93, tpot, 19, e2e, 271, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:52.044179       1 gateway.go:748] "Request completed" requestID="94d615c8-d31d-49c8-9f87-1185c45e125e" targetPod="10.0.1.47:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:52.044191       1 gateway.go:764] "HandleResponseBody completed" requestID="94d615c8-d31d-49c8-9f87-1185c45e125e" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:52.106762       1 gateway.go:207] "Processing request" requestID="ba22cb8c-641f-4b3f-ab14-c466eaec51a2"
I0304 08:26:52.106788       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ba22cb8c-641f-4b3f-ab14-c466eaec51a2"
I0304 08:26:52.106798       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:52.148323       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ba22cb8c-641f-4b3f-ab14-c466eaec51a2"
I0304 08:26:52.148445       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ba22cb8c-641f-4b3f-ab14-c466eaec51a2" model="deepseek-llm-7b-chat"
I0304 08:26:52.148493       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:52.148500       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:52.148504       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:52.148742       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:52.148786       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:52.148792       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:52.194757       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0460, numInputTokens, 3754
I0304 08:26:52.194776       1 tree.go:471] Updated node(0) last access: 169.6966 seconds
I0304 08:26:52.194781       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:52.194786       1 tree.go:471] Updated node(2) last access: 169.6966 seconds
I0304 08:26:52.194796       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:52.194799       1 tree.go:471] Updated node(26) last access: 169.6967 seconds
I0304 08:26:52.194811       1 tree.go:667] Split complete - New node(422)
I0304 08:26:52.194818       1 tree.go:668] Split complete - Child node(203)
I0304 08:26:52.194823       1 tree.go:501] latency, splitNode, 0.0000 seconds, 121 tokens:
I0304 08:26:52.194827       1 tree.go:471] Updated node(422) last access: 169.6967 seconds
I0304 08:26:52.194834       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 110 tokens:
I0304 08:26:52.194839       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:52.194846       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:52.194851       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:52.194856       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:52.194841313 +0000 UTC m=+169.815063739]
I0304 08:26:52.194874       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3644, Matching ratio: 0.9707, # Matched pods: 0, Matched pods: []
I0304 08:26:52.194883       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9707 > 0.5000)
I0304 08:26:52.194954       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3644
I0304 08:26:52.194968       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:52.194987       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.194993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.194996       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.195001       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.195006       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.195013       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:52.195023       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:52.195033       1 prefix_cache_and_load.go:584] latency, Route, 0.0465
I0304 08:26:52.195042       1 gateway.go:415] latency, selectTargetPod, 0.0465, target pod, 10.0.3.38:8000
I0304 08:26:52.195055       1 gateway.go:235] latency, HandleRequestBody, 0.0467
I0304 08:26:52.209891       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ba22cb8c-641f-4b3f-ab14-c466eaec51a2"
I0304 08:26:52.241144       1 gateway.go:608] "First token received" requestID="ba22cb8c-641f-4b3f-ab14-c466eaec51a2" ttft_ms=92
I0304 08:26:52.291474       1 gateway.go:207] "Processing request" requestID="7d9153ad-8f64-4bb2-aaec-94ef964ec5dd"
I0304 08:26:52.291503       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="7d9153ad-8f64-4bb2-aaec-94ef964ec5dd"
I0304 08:26:52.291521       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:52.340911       1 gateway.go:207] "Processing request" requestID="19af31ac-5468-44fd-8d11-3f64a01d8027"
I0304 08:26:52.340935       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="19af31ac-5468-44fd-8d11-3f64a01d8027"
I0304 08:26:52.340943       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:52.347239       1 gateway.go:329] "-- In RequestBody processing ..." requestID="7d9153ad-8f64-4bb2-aaec-94ef964ec5dd"
I0304 08:26:52.347383       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="7d9153ad-8f64-4bb2-aaec-94ef964ec5dd" model="deepseek-llm-7b-chat"
I0304 08:26:52.347443       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:52.347452       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:52.347457       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:52.347730       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:52.347783       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:52.347790       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:52.373456       1 gateway.go:329] "-- In RequestBody processing ..." requestID="19af31ac-5468-44fd-8d11-3f64a01d8027"
I0304 08:26:52.373678       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="19af31ac-5468-44fd-8d11-3f64a01d8027" model="deepseek-llm-7b-chat"
I0304 08:26:52.390088       1 gateway.go:207] "Processing request" requestID="eb58b18f-5d46-4d84-814c-1b870e0494f5"
I0304 08:26:52.390118       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="eb58b18f-5d46-4d84-814c-1b870e0494f5"
I0304 08:26:52.390126       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:52.399008       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0512, numInputTokens, 3754
I0304 08:26:52.399026       1 tree.go:471] Updated node(0) last access: 169.9009 seconds
I0304 08:26:52.399032       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:52.399035       1 tree.go:471] Updated node(2) last access: 169.9009 seconds
I0304 08:26:52.399044       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:52.399048       1 tree.go:471] Updated node(37) last access: 169.9009 seconds
I0304 08:26:52.399052       1 tree.go:490] Partial tokens match child node(165). Continue to go deeper in the radix tree
I0304 08:26:52.399054       1 tree.go:471] Updated node(165) last access: 169.9009 seconds
I0304 08:26:52.399058       1 tree.go:490] Partial tokens match child node(347). Continue to go deeper in the radix tree
I0304 08:26:52.399061       1 tree.go:471] Updated node(347) last access: 169.9009 seconds
I0304 08:26:52.399066       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:52.399071       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3754 tokens
I0304 08:26:52.399079       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:52.399086       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:52.399090       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:52.399073588 +0000 UTC m=+170.019296014]
I0304 08:26:52.399106       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3640, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:52.399137       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:52.399223       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3640
I0304 08:26:52.399236       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:52.399245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.399249       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.399253       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.399256       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.399260       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.399270       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.399278       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:52.399286       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:52.399301       1 prefix_cache_and_load.go:584] latency, Route, 0.0519
I0304 08:26:52.399316       1 gateway.go:415] latency, selectTargetPod, 0.0519, target pod, 10.0.1.47:8000
I0304 08:26:52.399329       1 gateway.go:235] latency, HandleRequestBody, 0.0521
I0304 08:26:52.399354       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0256
I0304 08:26:52.399359       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:52.399362       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:52.399575       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:52.399624       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:52.399629       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:52.415609       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="7d9153ad-8f64-4bb2-aaec-94ef964ec5dd"
I0304 08:26:52.416559       1 gateway.go:562] latency, 0.0000, summary, hash(request), 29d3c506, selectedpod, 10.0.3.38:8000, ttft, 92, tpot, 19, e2e, 268, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:52.416590       1 gateway.go:748] "Request completed" requestID="ba22cb8c-641f-4b3f-ab14-c466eaec51a2" targetPod="10.0.3.38:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:52.416605       1 gateway.go:764] "HandleResponseBody completed" requestID="ba22cb8c-641f-4b3f-ab14-c466eaec51a2" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:52.437953       1 gateway.go:329] "-- In RequestBody processing ..." requestID="eb58b18f-5d46-4d84-814c-1b870e0494f5"
I0304 08:26:52.438094       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="eb58b18f-5d46-4d84-814c-1b870e0494f5" model="deepseek-llm-7b-chat"
I0304 08:26:52.446354       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0467, numInputTokens, 3757
I0304 08:26:52.446369       1 tree.go:471] Updated node(0) last access: 169.9482 seconds
I0304 08:26:52.446375       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:52.446379       1 tree.go:471] Updated node(2) last access: 169.9482 seconds
I0304 08:26:52.446387       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:52.446392       1 tree.go:471] Updated node(40) last access: 169.9483 seconds
I0304 08:26:52.446395       1 tree.go:490] Partial tokens match child node(256). Continue to go deeper in the radix tree
I0304 08:26:52.446398       1 tree.go:471] Updated node(256) last access: 169.9483 seconds
I0304 08:26:52.446404       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:52.446411       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:26:52.446418       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:52.446425       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:52.446430       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:52.446414027 +0000 UTC m=+170.066636453]
I0304 08:26:52.446444       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3641, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:52.446451       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:52.446525       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3641
I0304 08:26:52.446535       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:52.446567       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.446576       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.446581       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.446586       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.446591       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.446599       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:52.446617       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:52.446627       1 prefix_cache_and_load.go:584] latency, Route, 0.0729
I0304 08:26:52.446641       1 gateway.go:415] latency, selectTargetPod, 0.0729, target pod, 10.0.1.47:8000
I0304 08:26:52.446650       1 gateway.go:235] latency, HandleRequestBody, 0.0732
I0304 08:26:52.446660       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0085
I0304 08:26:52.446669       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:52.446674       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:52.446936       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:52.446992       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:52.446998       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:52.478842       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="19af31ac-5468-44fd-8d11-3f64a01d8027"
I0304 08:26:52.478966       1 gateway.go:608] "First token received" requestID="7d9153ad-8f64-4bb2-aaec-94ef964ec5dd" ttft_ms=131
I0304 08:26:52.508759       1 gateway.go:608] "First token received" requestID="19af31ac-5468-44fd-8d11-3f64a01d8027" ttft_ms=135
I0304 08:26:52.519570       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0726, numInputTokens, 3752
I0304 08:26:52.519588       1 tree.go:471] Updated node(0) last access: 170.0215 seconds
I0304 08:26:52.519594       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:52.519600       1 tree.go:471] Updated node(2) last access: 170.0215 seconds
I0304 08:26:52.519609       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:52.519615       1 tree.go:471] Updated node(40) last access: 170.0215 seconds
I0304 08:26:52.519628       1 tree.go:667] Split complete - New node(426)
I0304 08:26:52.519634       1 tree.go:668] Split complete - Child node(320)
I0304 08:26:52.519641       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:52.519648       1 tree.go:471] Updated node(426) last access: 170.0215 seconds
I0304 08:26:52.519655       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:52.519661       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:52.519668       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:52.519677       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:52.519684       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:52.519663681 +0000 UTC m=+170.139886112]
I0304 08:26:52.519702       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3635, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:52.519712       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:52.519795       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3635
I0304 08:26:52.519805       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:52.519813       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.519822       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.519830       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.519840       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.519849       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.519862       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:52.519872       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:52.519881       1 prefix_cache_and_load.go:584] latency, Route, 0.0817
I0304 08:26:52.519895       1 gateway.go:415] latency, selectTargetPod, 0.0817, target pod, 10.0.1.47:8000
I0304 08:26:52.519907       1 gateway.go:235] latency, HandleRequestBody, 0.0820
I0304 08:26:52.534011       1 gateway.go:207] "Processing request" requestID="b873e3a3-e8e3-43ac-bb49-81cfa931455b"
I0304 08:26:52.534037       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="b873e3a3-e8e3-43ac-bb49-81cfa931455b"
I0304 08:26:52.534046       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:52.544925       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="eb58b18f-5d46-4d84-814c-1b870e0494f5"
I0304 08:26:52.548814       1 gateway.go:329] "-- In RequestBody processing ..." requestID="b873e3a3-e8e3-43ac-bb49-81cfa931455b"
I0304 08:26:52.548945       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="b873e3a3-e8e3-43ac-bb49-81cfa931455b" model="deepseek-llm-7b-chat"
I0304 08:26:52.548997       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:52.549005       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:52.549010       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:52.549285       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:52.549337       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:52.549344       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:52.582305       1 gateway.go:608] "First token received" requestID="eb58b18f-5d46-4d84-814c-1b870e0494f5" ttft_ms=144
I0304 08:26:52.596742       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0474, numInputTokens, 3754
I0304 08:26:52.596769       1 tree.go:471] Updated node(0) last access: 170.0986 seconds
I0304 08:26:52.596778       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:52.596781       1 tree.go:471] Updated node(2) last access: 170.0986 seconds
I0304 08:26:52.596789       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:52.596794       1 tree.go:471] Updated node(67) last access: 170.0987 seconds
I0304 08:26:52.596798       1 tree.go:490] Partial tokens match child node(376). Continue to go deeper in the radix tree
I0304 08:26:52.596801       1 tree.go:471] Updated node(376) last access: 170.0987 seconds
I0304 08:26:52.596806       1 tree.go:490] Partial tokens match child node(309). Continue to go deeper in the radix tree
I0304 08:26:52.596808       1 tree.go:471] Updated node(309) last access: 170.0987 seconds
I0304 08:26:52.596815       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:52.596822       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3754 tokens
I0304 08:26:52.596833       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3754 tokens
I0304 08:26:52.596843       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:52.596850       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:52.596824894 +0000 UTC m=+170.217047329]
I0304 08:26:52.596866       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3754, Matched tokens: 3638, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:52.596872       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:52.597007       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3638
I0304 08:26:52.597017       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:52.597025       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.597031       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.597035       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.597042       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.597047       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.597054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:52.597065       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:52.597079       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:52.597097       1 prefix_cache_and_load.go:584] latency, Route, 0.0481
I0304 08:26:52.597113       1 gateway.go:415] latency, selectTargetPod, 0.0481, target pod, 10.0.1.33:8000
I0304 08:26:52.597131       1 gateway.go:235] latency, HandleRequestBody, 0.0483
I0304 08:26:52.613953       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="b873e3a3-e8e3-43ac-bb49-81cfa931455b"
I0304 08:26:52.645081       1 gateway.go:608] "First token received" requestID="b873e3a3-e8e3-43ac-bb49-81cfa931455b" ttft_ms=96
I0304 08:26:52.726674       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0286e27c, selectedpod, 10.0.1.47:8000, ttft, 131, tpot, 27, e2e, 379, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:52.726693       1 gateway.go:748] "Request completed" requestID="7d9153ad-8f64-4bb2-aaec-94ef964ec5dd" targetPod="10.0.1.47:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:52.726703       1 gateway.go:764] "HandleResponseBody completed" requestID="7d9153ad-8f64-4bb2-aaec-94ef964ec5dd" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:52.750750       1 gateway.go:562] latency, 0.0000, summary, hash(request), 0403687c, selectedpod, 10.0.1.47:8000, ttft, 135, tpot, 26, e2e, 377, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:52.750770       1 gateway.go:748] "Request completed" requestID="19af31ac-5468-44fd-8d11-3f64a01d8027" targetPod="10.0.1.47:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:52.750786       1 gateway.go:764] "HandleResponseBody completed" requestID="19af31ac-5468-44fd-8d11-3f64a01d8027" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:52.791394       1 gateway.go:562] latency, 0.0000, summary, hash(request), 19090019, selectedpod, 10.0.1.47:8000, ttft, 144, tpot, 23, e2e, 353, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:52.791412       1 gateway.go:748] "Request completed" requestID="eb58b18f-5d46-4d84-814c-1b870e0494f5" targetPod="10.0.1.47:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:52.791422       1 gateway.go:764] "HandleResponseBody completed" requestID="eb58b18f-5d46-4d84-814c-1b870e0494f5" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:52.820527       1 gateway.go:562] latency, 0.0000, summary, hash(request), f9965432, selectedpod, 10.0.1.33:8000, ttft, 96, tpot, 19, e2e, 271, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:52.820548       1 gateway.go:748] "Request completed" requestID="b873e3a3-e8e3-43ac-bb49-81cfa931455b" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:52.820558       1 gateway.go:764] "HandleResponseBody completed" requestID="b873e3a3-e8e3-43ac-bb49-81cfa931455b" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:53.217641       1 gateway.go:207] "Processing request" requestID="bcfa21bc-3916-4096-b717-34ea95a059e6"
I0304 08:26:53.217672       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bcfa21bc-3916-4096-b717-34ea95a059e6"
I0304 08:26:53.217681       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:53.260116       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bcfa21bc-3916-4096-b717-34ea95a059e6"
I0304 08:26:53.260247       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bcfa21bc-3916-4096-b717-34ea95a059e6" model="deepseek-llm-7b-chat"
I0304 08:26:53.260296       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:53.260304       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:53.260308       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:53.260662       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:53.260708       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0304 08:26:53.260714       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:53.307771       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0470, numInputTokens, 3756
I0304 08:26:53.307789       1 tree.go:471] Updated node(0) last access: 170.8096 seconds
I0304 08:26:53.307795       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:53.307798       1 tree.go:471] Updated node(2) last access: 170.8097 seconds
I0304 08:26:53.307807       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:53.307812       1 tree.go:471] Updated node(24) last access: 170.8097 seconds
I0304 08:26:53.307816       1 tree.go:490] Partial tokens match child node(87). Continue to go deeper in the radix tree
I0304 08:26:53.307820       1 tree.go:471] Updated node(87) last access: 170.8097 seconds
I0304 08:26:53.307830       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:53.307837       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:53.307845       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:53.307855       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:53.307861       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:53.307839983 +0000 UTC m=+170.928062409]
I0304 08:26:53.307882       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3640, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:53.307894       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:53.308016       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3640
I0304 08:26:53.308026       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:53.308033       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.308042       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.308047       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.308054       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.308059       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.308072       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:53.308083       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:53.308097       1 prefix_cache_and_load.go:584] latency, Route, 0.0478
I0304 08:26:53.308108       1 gateway.go:415] latency, selectTargetPod, 0.0478, target pod, 10.0.1.53:8000
I0304 08:26:53.308124       1 gateway.go:235] latency, HandleRequestBody, 0.0480
I0304 08:26:53.324637       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bcfa21bc-3916-4096-b717-34ea95a059e6"
I0304 08:26:53.347063       1 gateway.go:207] "Processing request" requestID="69ddcafc-149e-427d-9dad-3389edeb0f5a"
I0304 08:26:53.347094       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="69ddcafc-149e-427d-9dad-3389edeb0f5a"
I0304 08:26:53.347102       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:53.370503       1 gateway.go:608] "First token received" requestID="bcfa21bc-3916-4096-b717-34ea95a059e6" ttft_ms=110
I0304 08:26:53.382920       1 gateway.go:329] "-- In RequestBody processing ..." requestID="69ddcafc-149e-427d-9dad-3389edeb0f5a"
I0304 08:26:53.383049       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="69ddcafc-149e-427d-9dad-3389edeb0f5a" model="deepseek-llm-7b-chat"
I0304 08:26:53.383099       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:53.383108       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:53.383112       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:53.383459       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:53.383534       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0304 08:26:53.383542       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:53.431737       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0482, numInputTokens, 3750
I0304 08:26:53.431755       1 tree.go:471] Updated node(0) last access: 170.9336 seconds
I0304 08:26:53.431762       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:53.431765       1 tree.go:471] Updated node(2) last access: 170.9336 seconds
I0304 08:26:53.431773       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:53.431776       1 tree.go:471] Updated node(40) last access: 170.9336 seconds
I0304 08:26:53.431780       1 tree.go:490] Partial tokens match child node(426). Continue to go deeper in the radix tree
I0304 08:26:53.431784       1 tree.go:471] Updated node(426) last access: 170.9336 seconds
I0304 08:26:53.431793       1 tree.go:667] Split complete - New node(430)
I0304 08:26:53.431798       1 tree.go:668] Split complete - Child node(320)
I0304 08:26:53.431803       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0304 08:26:53.431809       1 tree.go:471] Updated node(430) last access: 170.9337 seconds
I0304 08:26:53.431819       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0304 08:26:53.431827       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3750 tokens
I0304 08:26:53.431835       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:53.431844       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:53.431851       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:53.431829884 +0000 UTC m=+171.052052310]
I0304 08:26:53.431867       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3642, Matching ratio: 0.9712, # Matched pods: 0, Matched pods: []
I0304 08:26:53.431880       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9712 > 0.5000)
I0304 08:26:53.431969       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3642
I0304 08:26:53.431991       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:53.431998       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.432006       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.432009       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.432012       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.432015       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.432020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.432029       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:53.432038       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:53.432050       1 prefix_cache_and_load.go:584] latency, Route, 0.0490
I0304 08:26:53.432060       1 gateway.go:415] latency, selectTargetPod, 0.0490, target pod, 10.0.1.47:8000
I0304 08:26:53.432071       1 gateway.go:235] latency, HandleRequestBody, 0.0492
I0304 08:26:53.448340       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="69ddcafc-149e-427d-9dad-3389edeb0f5a"
I0304 08:26:53.478670       1 gateway.go:608] "First token received" requestID="69ddcafc-149e-427d-9dad-3389edeb0f5a" ttft_ms=95
I0304 08:26:53.482464       1 gateway.go:207] "Processing request" requestID="1086f748-5295-4fae-bdb1-a990dbcdc1c5"
I0304 08:26:53.482487       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1086f748-5295-4fae-bdb1-a990dbcdc1c5"
I0304 08:26:53.482495       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:53.539645       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1086f748-5295-4fae-bdb1-a990dbcdc1c5"
I0304 08:26:53.539772       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1086f748-5295-4fae-bdb1-a990dbcdc1c5" model="deepseek-llm-7b-chat"
I0304 08:26:53.539821       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:53.539827       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:53.539830       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:53.540080       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:53.540124       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:53.540129       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:53.545816       1 gateway.go:562] latency, 0.0000, summary, hash(request), 84c10551, selectedpod, 10.0.1.53:8000, ttft, 110, tpot, 19, e2e, 285, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:53.545846       1 gateway.go:748] "Request completed" requestID="bcfa21bc-3916-4096-b717-34ea95a059e6" targetPod="10.0.1.53:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:53.545861       1 gateway.go:764] "HandleResponseBody completed" requestID="bcfa21bc-3916-4096-b717-34ea95a059e6" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:53.587542       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0474, numInputTokens, 3748
I0304 08:26:53.587560       1 tree.go:471] Updated node(0) last access: 171.0894 seconds
I0304 08:26:53.587566       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:53.587570       1 tree.go:471] Updated node(2) last access: 171.0894 seconds
I0304 08:26:53.587580       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:53.587583       1 tree.go:471] Updated node(9) last access: 171.0894 seconds
I0304 08:26:53.587591       1 tree.go:667] Split complete - New node(432)
I0304 08:26:53.587596       1 tree.go:668] Split complete - Child node(311)
I0304 08:26:53.587602       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0304 08:26:53.587607       1 tree.go:471] Updated node(432) last access: 171.0895 seconds
I0304 08:26:53.587613       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:53.587618       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3748 tokens
I0304 08:26:53.587624       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3748 tokens
I0304 08:26:53.587631       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:53.587636       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:53.587620243 +0000 UTC m=+171.207842679]
I0304 08:26:53.587651       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3748, Matched tokens: 3635, Matching ratio: 0.9699, # Matched pods: 0, Matched pods: []
I0304 08:26:53.587658       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9699 > 0.5000)
I0304 08:26:53.587735       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3635
I0304 08:26:53.587748       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:53.587759       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.587768       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.587773       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.587777       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.587781       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.587789       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:53.587798       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:53.587808       1 prefix_cache_and_load.go:584] latency, Route, 0.0480
I0304 08:26:53.587817       1 gateway.go:415] latency, selectTargetPod, 0.0480, target pod, 10.0.0.34:8000
I0304 08:26:53.587828       1 gateway.go:235] latency, HandleRequestBody, 0.0482
I0304 08:26:53.606804       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1086f748-5295-4fae-bdb1-a990dbcdc1c5"
I0304 08:26:53.637999       1 gateway.go:608] "First token received" requestID="1086f748-5295-4fae-bdb1-a990dbcdc1c5" ttft_ms=98
I0304 08:26:53.654191       1 gateway.go:562] latency, 0.0000, summary, hash(request), b3072fbd, selectedpod, 10.0.1.47:8000, ttft, 95, tpot, 19, e2e, 271, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:53.654211       1 gateway.go:748] "Request completed" requestID="69ddcafc-149e-427d-9dad-3389edeb0f5a" targetPod="10.0.1.47:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:53.654225       1 gateway.go:764] "HandleResponseBody completed" requestID="69ddcafc-149e-427d-9dad-3389edeb0f5a" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:53.689052       1 gateway.go:207] "Processing request" requestID="705d7424-6fba-462e-b477-54db04ebad20"
I0304 08:26:53.689076       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="705d7424-6fba-462e-b477-54db04ebad20"
I0304 08:26:53.689083       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:53.732958       1 gateway.go:329] "-- In RequestBody processing ..." requestID="705d7424-6fba-462e-b477-54db04ebad20"
I0304 08:26:53.733079       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="705d7424-6fba-462e-b477-54db04ebad20" model="deepseek-llm-7b-chat"
I0304 08:26:53.733126       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:53.733132       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:53.733135       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:53.733365       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:53.733410       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:53.733416       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:53.783314       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 3756
I0304 08:26:53.783334       1 tree.go:471] Updated node(0) last access: 171.2852 seconds
I0304 08:26:53.783341       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:53.783344       1 tree.go:471] Updated node(2) last access: 171.2852 seconds
I0304 08:26:53.783352       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:53.783357       1 tree.go:471] Updated node(67) last access: 171.2852 seconds
I0304 08:26:53.783363       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 123 tokens:
I0304 08:26:53.783370       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3756 tokens
I0304 08:26:53.783377       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:53.783383       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:53.783388       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:53.783372214 +0000 UTC m=+171.403594640]
I0304 08:26:53.783402       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3633, Matching ratio: 0.9673, # Matched pods: 0, Matched pods: []
I0304 08:26:53.783410       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9673 > 0.5000)
I0304 08:26:53.783480       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:53.783490       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:53.783497       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.783502       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.783507       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.783523       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.783531       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:53.783540       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:53.783549       1 prefix_cache_and_load.go:584] latency, Route, 0.0504
I0304 08:26:53.783557       1 gateway.go:415] latency, selectTargetPod, 0.0504, target pod, 10.0.1.33:8000
I0304 08:26:53.783567       1 gateway.go:235] latency, HandleRequestBody, 0.0506
I0304 08:26:53.787602       1 gateway.go:207] "Processing request" requestID="783163f5-6cb2-408b-a91b-dad1947d3563"
I0304 08:26:53.787641       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="783163f5-6cb2-408b-a91b-dad1947d3563"
I0304 08:26:53.787650       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:53.801646       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="705d7424-6fba-462e-b477-54db04ebad20"
I0304 08:26:53.813792       1 gateway.go:562] latency, 0.0000, summary, hash(request), b68c1681, selectedpod, 10.0.0.34:8000, ttft, 98, tpot, 19, e2e, 274, numInputTokens, 3961, numOutputTokens, 10, numTotalTokens, 3971
I0304 08:26:53.813809       1 gateway.go:748] "Request completed" requestID="1086f748-5295-4fae-bdb1-a990dbcdc1c5" targetPod="10.0.0.34:8000" promptTokens=3961 completionTokens=10 totalTokens=3971
I0304 08:26:53.813821       1 gateway.go:764] "HandleResponseBody completed" requestID="1086f748-5295-4fae-bdb1-a990dbcdc1c5" promptTokens=3961 completionTokens=10 stream=true
I0304 08:26:53.816520       1 gateway.go:329] "-- In RequestBody processing ..." requestID="783163f5-6cb2-408b-a91b-dad1947d3563"
I0304 08:26:53.816643       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="783163f5-6cb2-408b-a91b-dad1947d3563" model="deepseek-llm-7b-chat"
I0304 08:26:53.816688       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:53.816694       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:53.816697       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:53.816932       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:53.816989       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:53.816996       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:53.819213       1 gateway.go:207] "Processing request" requestID="fcfece77-3951-4452-9c9a-936b7237a0d3"
I0304 08:26:53.819243       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fcfece77-3951-4452-9c9a-936b7237a0d3"
I0304 08:26:53.819250       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:53.833818       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fcfece77-3951-4452-9c9a-936b7237a0d3"
I0304 08:26:53.833946       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fcfece77-3951-4452-9c9a-936b7237a0d3" model="deepseek-llm-7b-chat"
I0304 08:26:53.847219       1 gateway.go:608] "First token received" requestID="705d7424-6fba-462e-b477-54db04ebad20" ttft_ms=114
I0304 08:26:53.863351       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0463, numInputTokens, 3757
I0304 08:26:53.863367       1 tree.go:471] Updated node(0) last access: 171.3652 seconds
I0304 08:26:53.863373       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:53.863376       1 tree.go:471] Updated node(2) last access: 171.3652 seconds
I0304 08:26:53.863387       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:53.863392       1 tree.go:471] Updated node(9) last access: 171.3653 seconds
I0304 08:26:53.863397       1 tree.go:490] Partial tokens match child node(185). Continue to go deeper in the radix tree
I0304 08:26:53.863402       1 tree.go:471] Updated node(185) last access: 171.3653 seconds
I0304 08:26:53.863410       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:53.863416       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3757 tokens
I0304 08:26:53.863424       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:53.863430       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:53.863436       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:53.8634193 +0000 UTC m=+171.483641727]
I0304 08:26:53.863451       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3641, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:53.863461       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:53.863544       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3641
I0304 08:26:53.863554       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:53.863561       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.863569       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.863572       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.863577       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.863583       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.863597       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:53.863610       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:53.863624       1 prefix_cache_and_load.go:584] latency, Route, 0.0469
I0304 08:26:53.863642       1 gateway.go:415] latency, selectTargetPod, 0.0470, target pod, 10.0.0.34:8000
I0304 08:26:53.863653       1 gateway.go:235] latency, HandleRequestBody, 0.0471
I0304 08:26:53.863681       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0297
I0304 08:26:53.863686       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:53.863689       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:53.863872       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:53.863923       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:53.863930       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:53.881662       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="783163f5-6cb2-408b-a91b-dad1947d3563"
I0304 08:26:53.915189       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0513, numInputTokens, 3751
I0304 08:26:53.915209       1 tree.go:471] Updated node(0) last access: 171.4171 seconds
I0304 08:26:53.915215       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:53.915219       1 tree.go:471] Updated node(2) last access: 171.4171 seconds
I0304 08:26:53.915227       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:53.915231       1 tree.go:471] Updated node(24) last access: 171.4171 seconds
I0304 08:26:53.915234       1 tree.go:490] Partial tokens match child node(270). Continue to go deeper in the radix tree
I0304 08:26:53.915237       1 tree.go:471] Updated node(270) last access: 171.4171 seconds
I0304 08:26:53.915242       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:53.915249       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3751 tokens
I0304 08:26:53.915256       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:53.915263       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:53.915268       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:53.915251158 +0000 UTC m=+171.535473594]
I0304 08:26:53.915284       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3636, Matching ratio: 0.9693, # Matched pods: 0, Matched pods: []
I0304 08:26:53.915295       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9693 > 0.5000)
I0304 08:26:53.915396       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3636
I0304 08:26:53.915407       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:53.915415       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.915420       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.915424       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.915428       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.915433       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:53.915441       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:53.915449       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:53.915459       1 prefix_cache_and_load.go:584] latency, Route, 0.0815
I0304 08:26:53.915469       1 gateway.go:415] latency, selectTargetPod, 0.0815, target pod, 10.0.1.53:8000
I0304 08:26:53.915481       1 gateway.go:235] latency, HandleRequestBody, 0.0817
I0304 08:26:53.926251       1 gateway.go:608] "First token received" requestID="783163f5-6cb2-408b-a91b-dad1947d3563" ttft_ms=109
I0304 08:26:53.933595       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fcfece77-3951-4452-9c9a-936b7237a0d3"
I0304 08:26:53.964466       1 gateway.go:608] "First token received" requestID="fcfece77-3951-4452-9c9a-936b7237a0d3" ttft_ms=130
I0304 08:26:54.022621       1 gateway.go:562] latency, 0.0000, summary, hash(request), 812a3d99, selectedpod, 10.0.1.33:8000, ttft, 114, tpot, 19, e2e, 289, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:54.022641       1 gateway.go:748] "Request completed" requestID="705d7424-6fba-462e-b477-54db04ebad20" targetPod="10.0.1.33:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:54.022651       1 gateway.go:764] "HandleResponseBody completed" requestID="705d7424-6fba-462e-b477-54db04ebad20" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:54.102032       1 gateway.go:562] latency, 0.0000, summary, hash(request), cd1f3503, selectedpod, 10.0.0.34:8000, ttft, 109, tpot, 19, e2e, 285, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:54.102049       1 gateway.go:748] "Request completed" requestID="783163f5-6cb2-408b-a91b-dad1947d3563" targetPod="10.0.0.34:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:54.102059       1 gateway.go:764] "HandleResponseBody completed" requestID="783163f5-6cb2-408b-a91b-dad1947d3563" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:54.140087       1 gateway.go:562] latency, 0.0000, summary, hash(request), 39612d0a, selectedpod, 10.0.1.53:8000, ttft, 130, tpot, 19, e2e, 306, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:54.140103       1 gateway.go:748] "Request completed" requestID="fcfece77-3951-4452-9c9a-936b7237a0d3" targetPod="10.0.1.53:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:54.140112       1 gateway.go:764] "HandleResponseBody completed" requestID="fcfece77-3951-4452-9c9a-936b7237a0d3" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:54.164654       1 gateway.go:207] "Processing request" requestID="1b9697ee-0e44-454a-9967-8fb7491f3d57"
I0304 08:26:54.164676       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1b9697ee-0e44-454a-9967-8fb7491f3d57"
I0304 08:26:54.164685       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:54.225316       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1b9697ee-0e44-454a-9967-8fb7491f3d57"
I0304 08:26:54.225438       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1b9697ee-0e44-454a-9967-8fb7491f3d57" model="deepseek-llm-7b-chat"
I0304 08:26:54.225480       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:54.225486       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:54.225490       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:54.225753       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:54.225806       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:54.225812       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:54.232206       1 gateway.go:207] "Processing request" requestID="bde0a7dd-9c41-42ff-8b2d-3c08c92fc73f"
I0304 08:26:54.232234       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="bde0a7dd-9c41-42ff-8b2d-3c08c92fc73f"
I0304 08:26:54.232242       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:54.271938       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0461, numInputTokens, 3756
I0304 08:26:54.271952       1 tree.go:471] Updated node(0) last access: 171.7738 seconds
I0304 08:26:54.271958       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:54.271962       1 tree.go:471] Updated node(2) last access: 171.7738 seconds
I0304 08:26:54.271976       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:54.271981       1 tree.go:471] Updated node(26) last access: 171.7738 seconds
I0304 08:26:54.271986       1 tree.go:490] Partial tokens match child node(151). Continue to go deeper in the radix tree
I0304 08:26:54.271991       1 tree.go:471] Updated node(151) last access: 171.7739 seconds
I0304 08:26:54.271994       1 tree.go:490] Partial tokens match child node(294). Continue to go deeper in the radix tree
I0304 08:26:54.271999       1 tree.go:471] Updated node(294) last access: 171.7739 seconds
I0304 08:26:54.272011       1 tree.go:667] Split complete - New node(437)
I0304 08:26:54.272015       1 tree.go:668] Split complete - Child node(91)
I0304 08:26:54.272020       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0304 08:26:54.272024       1 tree.go:471] Updated node(437) last access: 171.7739 seconds
I0304 08:26:54.272030       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:54.272034       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:54.272040       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:54.272048       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:54.272055       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:54.272036019 +0000 UTC m=+171.892258445]
I0304 08:26:54.272071       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3643, Matching ratio: 0.9699, # Matched pods: 0, Matched pods: []
I0304 08:26:54.272080       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9699 > 0.5000)
I0304 08:26:54.272165       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3643
I0304 08:26:54.272175       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:54.272182       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.272187       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.272192       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.272196       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.272201       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.272206       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.272213       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.272224       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:54.272238       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:54.272250       1 prefix_cache_and_load.go:584] latency, Route, 0.0468
I0304 08:26:54.272262       1 gateway.go:415] latency, selectTargetPod, 0.0468, target pod, 10.0.3.38:8000
I0304 08:26:54.272276       1 gateway.go:235] latency, HandleRequestBody, 0.0470
I0304 08:26:54.276229       1 gateway.go:329] "-- In RequestBody processing ..." requestID="bde0a7dd-9c41-42ff-8b2d-3c08c92fc73f"
I0304 08:26:54.276370       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="bde0a7dd-9c41-42ff-8b2d-3c08c92fc73f" model="deepseek-llm-7b-chat"
I0304 08:26:54.276416       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:54.276423       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:54.276426       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:54.276701       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:54.276746       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:54.276752       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:54.287220       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1b9697ee-0e44-454a-9967-8fb7491f3d57"
I0304 08:26:54.325706       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0489, numInputTokens, 3751
I0304 08:26:54.325726       1 tree.go:471] Updated node(0) last access: 171.8276 seconds
I0304 08:26:54.325732       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:54.325736       1 tree.go:471] Updated node(2) last access: 171.8276 seconds
I0304 08:26:54.325744       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:54.325746       1 tree.go:471] Updated node(30) last access: 171.8276 seconds
I0304 08:26:54.325750       1 tree.go:490] Partial tokens match child node(316). Continue to go deeper in the radix tree
I0304 08:26:54.325754       1 tree.go:471] Updated node(316) last access: 171.8276 seconds
I0304 08:26:54.325757       1 tree.go:490] Partial tokens match child node(298). Continue to go deeper in the radix tree
I0304 08:26:54.325760       1 tree.go:471] Updated node(298) last access: 171.8276 seconds
I0304 08:26:54.325771       1 tree.go:667] Split complete - New node(439)
I0304 08:26:54.325777       1 tree.go:668] Split complete - Child node(76)
I0304 08:26:54.325784       1 tree.go:501] latency, splitNode, 0.0000 seconds, 113 tokens:
I0304 08:26:54.325789       1 tree.go:471] Updated node(439) last access: 171.8277 seconds
I0304 08:26:54.325804       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 107 tokens:
I0304 08:26:54.325810       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:26:54.325817       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:54.325823       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:54.325827       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:54.32581236 +0000 UTC m=+171.946034786]
I0304 08:26:54.325842       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3644, Matching ratio: 0.9715, # Matched pods: 0, Matched pods: []
I0304 08:26:54.325857       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9715 > 0.5000)
I0304 08:26:54.325957       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3644
I0304 08:26:54.325982       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:54.325993       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.326000       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.326004       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.326007       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.326011       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.326016       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.326020       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.326029       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:54.326037       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:54.326050       1 prefix_cache_and_load.go:584] latency, Route, 0.0496
I0304 08:26:54.326061       1 gateway.go:415] latency, selectTargetPod, 0.0496, target pod, 10.0.0.13:8000
I0304 08:26:54.326075       1 gateway.go:235] latency, HandleRequestBody, 0.0498
I0304 08:26:54.332570       1 gateway.go:608] "First token received" requestID="1b9697ee-0e44-454a-9967-8fb7491f3d57" ttft_ms=107
I0304 08:26:54.341332       1 gateway.go:207] "Processing request" requestID="0f9b9c6b-55d6-4a9f-be4b-be0b7d146a11"
I0304 08:26:54.341354       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="0f9b9c6b-55d6-4a9f-be4b-be0b7d146a11"
I0304 08:26:54.341361       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:54.343733       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="bde0a7dd-9c41-42ff-8b2d-3c08c92fc73f"
I0304 08:26:54.374618       1 gateway.go:608] "First token received" requestID="bde0a7dd-9c41-42ff-8b2d-3c08c92fc73f" ttft_ms=98
I0304 08:26:54.412997       1 gateway.go:329] "-- In RequestBody processing ..." requestID="0f9b9c6b-55d6-4a9f-be4b-be0b7d146a11"
I0304 08:26:54.413128       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="0f9b9c6b-55d6-4a9f-be4b-be0b7d146a11" model="deepseek-llm-7b-chat"
I0304 08:26:54.413166       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:54.413173       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:54.413172       1 gateway.go:207] "Processing request" requestID="36090315-5a5d-4adc-98f4-ae96fd33de78"
I0304 08:26:54.413177       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:54.413199       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="36090315-5a5d-4adc-98f4-ae96fd33de78"
I0304 08:26:54.413209       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:54.413477       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:54.413552       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0304 08:26:54.413559       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:54.440233       1 gateway.go:207] "Processing request" requestID="51b9cbef-f552-4018-9e1a-c14741983d92"
I0304 08:26:54.440261       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="51b9cbef-f552-4018-9e1a-c14741983d92"
I0304 08:26:54.440270       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:54.446524       1 gateway.go:329] "-- In RequestBody processing ..." requestID="36090315-5a5d-4adc-98f4-ae96fd33de78"
I0304 08:26:54.446647       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="36090315-5a5d-4adc-98f4-ae96fd33de78" model="deepseek-llm-7b-chat"
I0304 08:26:54.459207       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0456, numInputTokens, 3753
I0304 08:26:54.459221       1 tree.go:471] Updated node(0) last access: 171.9611 seconds
I0304 08:26:54.459229       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:54.459235       1 tree.go:471] Updated node(2) last access: 171.9611 seconds
I0304 08:26:54.459244       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:54.459248       1 tree.go:471] Updated node(12) last access: 171.9611 seconds
I0304 08:26:54.459251       1 tree.go:490] Partial tokens match child node(144). Continue to go deeper in the radix tree
I0304 08:26:54.459254       1 tree.go:471] Updated node(144) last access: 171.9611 seconds
I0304 08:26:54.459261       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:54.459267       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:54.459273       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:54.459280       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:54.459285       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:54.459269128 +0000 UTC m=+172.079491553]
I0304 08:26:54.459300       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3640, Matching ratio: 0.9699, # Matched pods: 0, Matched pods: []
I0304 08:26:54.459311       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9699 > 0.5000)
I0304 08:26:54.459385       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3640
I0304 08:26:54.459397       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:54.459408       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.459413       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.459419       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.459424       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.459429       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.459437       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:54.459444       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:54.459453       1 prefix_cache_and_load.go:584] latency, Route, 0.0463
I0304 08:26:54.459466       1 gateway.go:415] latency, selectTargetPod, 0.0463, target pod, 10.0.0.6:8000
I0304 08:26:54.459476       1 gateway.go:235] latency, HandleRequestBody, 0.0465
I0304 08:26:54.459481       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0128
I0304 08:26:54.459491       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:54.459497       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:54.459770       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:54.459819       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:54.459826       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:54.464014       1 gateway.go:329] "-- In RequestBody processing ..." requestID="51b9cbef-f552-4018-9e1a-c14741983d92"
I0304 08:26:54.464158       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="51b9cbef-f552-4018-9e1a-c14741983d92" model="deepseek-llm-7b-chat"
I0304 08:26:54.475788       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="0f9b9c6b-55d6-4a9f-be4b-be0b7d146a11"
I0304 08:26:54.507159       1 gateway.go:608] "First token received" requestID="0f9b9c6b-55d6-4a9f-be4b-be0b7d146a11" ttft_ms=94
I0304 08:26:54.507767       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0479, numInputTokens, 3758
I0304 08:26:54.507786       1 tree.go:471] Updated node(0) last access: 172.0096 seconds
I0304 08:26:54.507792       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:54.507795       1 tree.go:471] Updated node(2) last access: 172.0097 seconds
I0304 08:26:54.507803       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:54.507808       1 tree.go:471] Updated node(67) last access: 172.0097 seconds
I0304 08:26:54.507816       1 tree.go:667] Split complete - New node(442)
I0304 08:26:54.507821       1 tree.go:668] Split complete - Child node(314)
I0304 08:26:54.507826       1 tree.go:501] latency, splitNode, 0.0000 seconds, 125 tokens:
I0304 08:26:54.507830       1 tree.go:471] Updated node(442) last access: 172.0097 seconds
I0304 08:26:54.507835       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 121 tokens:
I0304 08:26:54.507841       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3758 tokens
I0304 08:26:54.507847       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3758 tokens
I0304 08:26:54.507852       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:54.507850       1 gateway.go:562] latency, 0.0000, summary, hash(request), 96cfa15d, selectedpod, 10.0.3.38:8000, ttft, 107, tpot, 19, e2e, 282, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:54.507857       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:54.507842767 +0000 UTC m=+172.128065192]
I0304 08:26:54.507870       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3758, Matched tokens: 3637, Matching ratio: 0.9678, # Matched pods: 0, Matched pods: []
I0304 08:26:54.507869       1 gateway.go:748] "Request completed" requestID="1b9697ee-0e44-454a-9967-8fb7491f3d57" targetPod="10.0.3.38:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:54.507877       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9678 > 0.5000)
I0304 08:26:54.507884       1 gateway.go:764] "HandleResponseBody completed" requestID="1b9697ee-0e44-454a-9967-8fb7491f3d57" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:54.507956       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3637
I0304 08:26:54.507966       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:54.507984       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.507991       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.507994       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.507998       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.508001       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.508009       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:54.508018       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:54.508052       1 prefix_cache_and_load.go:584] latency, Route, 0.0613
I0304 08:26:54.508067       1 gateway.go:415] latency, selectTargetPod, 0.0614, target pod, 10.0.1.33:8000
I0304 08:26:54.508077       1 gateway.go:235] latency, HandleRequestBody, 0.0616
I0304 08:26:54.508107       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0439
I0304 08:26:54.508112       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:54.508116       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:54.508305       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:54.508349       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:54.508354       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:54.528409       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="36090315-5a5d-4adc-98f4-ae96fd33de78"
I0304 08:26:54.552921       1 gateway.go:562] latency, 0.0000, summary, hash(request), 708e2ec6, selectedpod, 10.0.0.13:8000, ttft, 98, tpot, 19, e2e, 276, numInputTokens, 3964, numOutputTokens, 10, numTotalTokens, 3974
I0304 08:26:54.552967       1 gateway.go:748] "Request completed" requestID="bde0a7dd-9c41-42ff-8b2d-3c08c92fc73f" targetPod="10.0.0.13:8000" promptTokens=3964 completionTokens=10 totalTokens=3974
I0304 08:26:54.552997       1 gateway.go:764] "HandleResponseBody completed" requestID="bde0a7dd-9c41-42ff-8b2d-3c08c92fc73f" promptTokens=3964 completionTokens=10 stream=true
I0304 08:26:54.573465       1 gateway.go:608] "First token received" requestID="36090315-5a5d-4adc-98f4-ae96fd33de78" ttft_ms=126
I0304 08:26:54.579527       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0712, numInputTokens, 3753
I0304 08:26:54.579544       1 tree.go:471] Updated node(0) last access: 172.0814 seconds
I0304 08:26:54.579551       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:54.579555       1 tree.go:471] Updated node(2) last access: 172.0814 seconds
I0304 08:26:54.579588       1 tree.go:490] Partial tokens match child node(5). Continue to go deeper in the radix tree
I0304 08:26:54.579593       1 tree.go:471] Updated node(5) last access: 172.0815 seconds
I0304 08:26:54.579597       1 tree.go:490] Partial tokens match child node(178). Continue to go deeper in the radix tree
I0304 08:26:54.579600       1 tree.go:471] Updated node(178) last access: 172.0815 seconds
I0304 08:26:54.579608       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:54.579615       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:54.579623       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:54.579633       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:54.579639       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:54.579617037 +0000 UTC m=+172.199839471]
I0304 08:26:54.579673       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3639, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:54.579703       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:54.579847       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-h8g6d from longest matching node with match length 3639
I0304 08:26:54.579875       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0304 08:26:54.579899       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.579908       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.579968       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.580134       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.580142       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.580153       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:54.580167       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-h8g6d="target_pod_ip" 10.0.3.28="(MISSING)"
I0304 08:26:54.580181       1 prefix_cache_and_load.go:584] latency, Route, 0.1160
I0304 08:26:54.580196       1 gateway.go:415] latency, selectTargetPod, 0.1160, target pod, 10.0.3.28:8000
I0304 08:26:54.580207       1 gateway.go:235] latency, HandleRequestBody, 0.1162
I0304 08:26:54.595322       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="51b9cbef-f552-4018-9e1a-c14741983d92"
I0304 08:26:54.626490       1 gateway.go:608] "First token received" requestID="51b9cbef-f552-4018-9e1a-c14741983d92" ttft_ms=162
I0304 08:26:54.682181       1 gateway.go:562] latency, 0.0000, summary, hash(request), 7d496cd2, selectedpod, 10.0.0.6:8000, ttft, 94, tpot, 19, e2e, 269, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:54.682203       1 gateway.go:748] "Request completed" requestID="0f9b9c6b-55d6-4a9f-be4b-be0b7d146a11" targetPod="10.0.0.6:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:54.682214       1 gateway.go:764] "HandleResponseBody completed" requestID="0f9b9c6b-55d6-4a9f-be4b-be0b7d146a11" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:54.748853       1 gateway.go:562] latency, 0.0000, summary, hash(request), b4285058, selectedpod, 10.0.1.33:8000, ttft, 126, tpot, 19, e2e, 302, numInputTokens, 3973, numOutputTokens, 10, numTotalTokens, 3983
I0304 08:26:54.748864       1 gateway.go:748] "Request completed" requestID="36090315-5a5d-4adc-98f4-ae96fd33de78" targetPod="10.0.1.33:8000" promptTokens=3973 completionTokens=10 totalTokens=3983
I0304 08:26:54.748871       1 gateway.go:764] "HandleResponseBody completed" requestID="36090315-5a5d-4adc-98f4-ae96fd33de78" promptTokens=3973 completionTokens=10 stream=true
I0304 08:26:54.801929       1 gateway.go:562] latency, 0.0000, summary, hash(request), a02c421d, selectedpod, 10.0.3.28:8000, ttft, 162, tpot, 19, e2e, 337, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:54.801953       1 gateway.go:748] "Request completed" requestID="51b9cbef-f552-4018-9e1a-c14741983d92" targetPod="10.0.3.28:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:54.801967       1 gateway.go:764] "HandleResponseBody completed" requestID="51b9cbef-f552-4018-9e1a-c14741983d92" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:54.808137       1 gateway.go:207] "Processing request" requestID="654675bf-29c5-400f-86f7-dae6a5289b97"
I0304 08:26:54.808161       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="654675bf-29c5-400f-86f7-dae6a5289b97"
I0304 08:26:54.808171       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:54.830487       1 gateway.go:329] "-- In RequestBody processing ..." requestID="654675bf-29c5-400f-86f7-dae6a5289b97"
I0304 08:26:54.830632       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="654675bf-29c5-400f-86f7-dae6a5289b97" model="deepseek-llm-7b-chat"
I0304 08:26:54.830715       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:54.830725       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:54.830730       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:54.830968       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:54.831023       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:54.831032       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:54.876796       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0458, numInputTokens, 3753
I0304 08:26:54.876813       1 tree.go:471] Updated node(0) last access: 172.3787 seconds
I0304 08:26:54.876819       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:54.876822       1 tree.go:471] Updated node(2) last access: 172.3787 seconds
I0304 08:26:54.876831       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:54.876836       1 tree.go:471] Updated node(37) last access: 172.3787 seconds
I0304 08:26:54.876840       1 tree.go:490] Partial tokens match child node(165). Continue to go deeper in the radix tree
I0304 08:26:54.876846       1 tree.go:471] Updated node(165) last access: 172.3787 seconds
I0304 08:26:54.876850       1 tree.go:490] Partial tokens match child node(347). Continue to go deeper in the radix tree
I0304 08:26:54.876855       1 tree.go:471] Updated node(347) last access: 172.3787 seconds
I0304 08:26:54.876863       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:54.876869       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:54.876879       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:54.876885       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:54.876893       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:54.876872312 +0000 UTC m=+172.497094741]
I0304 08:26:54.876910       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3640, Matching ratio: 0.9699, # Matched pods: 0, Matched pods: []
I0304 08:26:54.876921       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9699 > 0.5000)
I0304 08:26:54.877013       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3640
I0304 08:26:54.877023       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:54.877035       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.877043       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.877052       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.877061       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.877071       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.877077       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:54.877085       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:54.877095       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:54.877104       1 prefix_cache_and_load.go:584] latency, Route, 0.0464
I0304 08:26:54.877113       1 gateway.go:415] latency, selectTargetPod, 0.0464, target pod, 10.0.1.47:8000
I0304 08:26:54.877124       1 gateway.go:235] latency, HandleRequestBody, 0.0466
I0304 08:26:54.893742       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="654675bf-29c5-400f-86f7-dae6a5289b97"
I0304 08:26:54.924620       1 gateway.go:608] "First token received" requestID="654675bf-29c5-400f-86f7-dae6a5289b97" ttft_ms=94
I0304 08:26:55.102985       1 gateway.go:562] latency, 0.0000, summary, hash(request), 987a1b7d, selectedpod, 10.0.1.47:8000, ttft, 94, tpot, 19, e2e, 272, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:55.103004       1 gateway.go:748] "Request completed" requestID="654675bf-29c5-400f-86f7-dae6a5289b97" targetPod="10.0.1.47:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:55.103014       1 gateway.go:764] "HandleResponseBody completed" requestID="654675bf-29c5-400f-86f7-dae6a5289b97" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:55.536789       1 gateway.go:207] "Processing request" requestID="45c840c8-4831-4c5a-b62f-b0d461464e34"
I0304 08:26:55.536819       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="45c840c8-4831-4c5a-b62f-b0d461464e34"
I0304 08:26:55.536831       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:55.581104       1 gateway.go:329] "-- In RequestBody processing ..." requestID="45c840c8-4831-4c5a-b62f-b0d461464e34"
I0304 08:26:55.581224       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="45c840c8-4831-4c5a-b62f-b0d461464e34" model="deepseek-llm-7b-chat"
I0304 08:26:55.581270       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:55.581276       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:55.581279       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:55.581582       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:55.581632       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:55.581640       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:55.631148       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0495, numInputTokens, 3752
I0304 08:26:55.631173       1 tree.go:471] Updated node(0) last access: 173.1330 seconds
I0304 08:26:55.631180       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:55.631183       1 tree.go:471] Updated node(2) last access: 173.1330 seconds
I0304 08:26:55.631191       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:55.631194       1 tree.go:471] Updated node(26) last access: 173.1331 seconds
I0304 08:26:55.631219       1 tree.go:667] Split complete - New node(446)
I0304 08:26:55.631223       1 tree.go:668] Split complete - Child node(249)
I0304 08:26:55.631229       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:55.631235       1 tree.go:471] Updated node(446) last access: 173.1331 seconds
I0304 08:26:55.631241       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:55.631247       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:55.631252       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:55.631263       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:55.631269       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:55.631248837 +0000 UTC m=+173.251471262]
I0304 08:26:55.631287       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3635, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:55.631299       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:55.631418       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3635
I0304 08:26:55.631428       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:55.631435       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:55.631442       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:55.631452       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:55.631459       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:55.631463       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:55.631473       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:55.631481       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:55.631497       1 prefix_cache_and_load.go:584] latency, Route, 0.0502
I0304 08:26:55.631508       1 gateway.go:415] latency, selectTargetPod, 0.0502, target pod, 10.0.3.38:8000
I0304 08:26:55.631536       1 gateway.go:235] latency, HandleRequestBody, 0.0504
I0304 08:26:55.648589       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="45c840c8-4831-4c5a-b62f-b0d461464e34"
I0304 08:26:55.679632       1 gateway.go:608] "First token received" requestID="45c840c8-4831-4c5a-b62f-b0d461464e34" ttft_ms=98
I0304 08:26:55.854997       1 gateway.go:562] latency, 0.0000, summary, hash(request), 6ed8035f, selectedpod, 10.0.3.38:8000, ttft, 98, tpot, 19, e2e, 273, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:55.855018       1 gateway.go:748] "Request completed" requestID="45c840c8-4831-4c5a-b62f-b0d461464e34" targetPod="10.0.3.38:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:55.855030       1 gateway.go:764] "HandleResponseBody completed" requestID="45c840c8-4831-4c5a-b62f-b0d461464e34" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:56.190762       1 gateway.go:207] "Processing request" requestID="2a900c58-048a-4ca8-aee2-dfd0326ce7d4"
I0304 08:26:56.190794       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="2a900c58-048a-4ca8-aee2-dfd0326ce7d4"
I0304 08:26:56.190803       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:56.233018       1 gateway.go:329] "-- In RequestBody processing ..." requestID="2a900c58-048a-4ca8-aee2-dfd0326ce7d4"
I0304 08:26:56.233166       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="2a900c58-048a-4ca8-aee2-dfd0326ce7d4" model="deepseek-llm-7b-chat"
I0304 08:26:56.233227       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:56.233234       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:56.233237       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:56.233500       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:56.233560       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:56.233567       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:56.279821       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0462, numInputTokens, 3755
I0304 08:26:56.279839       1 tree.go:471] Updated node(0) last access: 173.7817 seconds
I0304 08:26:56.279846       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:56.279850       1 tree.go:471] Updated node(2) last access: 173.7817 seconds
I0304 08:26:56.279859       1 tree.go:490] Partial tokens match child node(26). Continue to go deeper in the radix tree
I0304 08:26:56.279862       1 tree.go:471] Updated node(26) last access: 173.7817 seconds
I0304 08:26:56.279869       1 tree.go:490] Partial tokens match child node(422). Continue to go deeper in the radix tree
I0304 08:26:56.279873       1 tree.go:471] Updated node(422) last access: 173.7817 seconds
I0304 08:26:56.279882       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 111 tokens:
I0304 08:26:56.279890       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3755 tokens
I0304 08:26:56.279897       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:56.279906       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:56.279914       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:56.279893028 +0000 UTC m=+173.900115464]
I0304 08:26:56.279932       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3644, Matching ratio: 0.9704, # Matched pods: 0, Matched pods: []
I0304 08:26:56.279941       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9704 > 0.5000)
I0304 08:26:56.280041       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-bqwpb from longest matching node with match length 3644
I0304 08:26:56.280052       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:56.280065       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:56.280071       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:56.280076       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:56.280083       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:56.280091       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:56.280100       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:56.280110       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-bqwpb="target_pod_ip" 10.0.3.38="(MISSING)"
I0304 08:26:56.280124       1 prefix_cache_and_load.go:584] latency, Route, 0.0469
I0304 08:26:56.280134       1 gateway.go:415] latency, selectTargetPod, 0.0469, target pod, 10.0.3.38:8000
I0304 08:26:56.280146       1 gateway.go:235] latency, HandleRequestBody, 0.0471
I0304 08:26:56.298139       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="2a900c58-048a-4ca8-aee2-dfd0326ce7d4"
I0304 08:26:56.328970       1 gateway.go:608] "First token received" requestID="2a900c58-048a-4ca8-aee2-dfd0326ce7d4" ttft_ms=95
I0304 08:26:56.507396       1 gateway.go:562] latency, 0.0000, summary, hash(request), 43e56277, selectedpod, 10.0.3.38:8000, ttft, 95, tpot, 19, e2e, 274, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:56.507414       1 gateway.go:748] "Request completed" requestID="2a900c58-048a-4ca8-aee2-dfd0326ce7d4" targetPod="10.0.3.38:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:56.507424       1 gateway.go:764] "HandleResponseBody completed" requestID="2a900c58-048a-4ca8-aee2-dfd0326ce7d4" promptTokens=3971 completionTokens=10 stream=true
I0304 08:26:56.653939       1 gateway.go:207] "Processing request" requestID="c2168f69-1e5f-4314-8f9f-10ed8becfb4b"
I0304 08:26:56.653977       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="c2168f69-1e5f-4314-8f9f-10ed8becfb4b"
I0304 08:26:56.653985       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:56.715543       1 gateway.go:329] "-- In RequestBody processing ..." requestID="c2168f69-1e5f-4314-8f9f-10ed8becfb4b"
I0304 08:26:56.715666       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="c2168f69-1e5f-4314-8f9f-10ed8becfb4b" model="deepseek-llm-7b-chat"
I0304 08:26:56.715712       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:56.715720       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:56.715725       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:56.716006       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:56.716073       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:56.716080       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:56.763175       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0470, numInputTokens, 3757
I0304 08:26:56.763279       1 tree.go:471] Updated node(0) last access: 174.2651 seconds
I0304 08:26:56.763297       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:56.763303       1 tree.go:471] Updated node(2) last access: 174.2652 seconds
I0304 08:26:56.763316       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:56.763321       1 tree.go:471] Updated node(30) last access: 174.2652 seconds
I0304 08:26:56.763327       1 tree.go:490] Partial tokens match child node(109). Continue to go deeper in the radix tree
I0304 08:26:56.763434       1 tree.go:471] Updated node(109) last access: 174.2652 seconds
I0304 08:26:56.763464       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:56.763479       1 tree.go:449] latency, insertHelper, 0.0002 seconds, 3757 tokens
I0304 08:26:56.763492       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:56.763518       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0002
I0304 08:26:56.763526       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:56.763482379 +0000 UTC m=+174.383704828]
I0304 08:26:56.763549       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3640, Matching ratio: 0.9689, # Matched pods: 0, Matched pods: []
I0304 08:26:56.763566       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9689 > 0.5000)
I0304 08:26:56.763764       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3640
I0304 08:26:56.763777       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0002
I0304 08:26:56.763789       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:56.763795       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:56.763801       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:56.763806       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:56.763813       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:56.763824       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:56.763835       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:56.763851       1 prefix_cache_and_load.go:584] latency, Route, 0.0481
I0304 08:26:56.763868       1 gateway.go:415] latency, selectTargetPod, 0.0482, target pod, 10.0.0.13:8000
I0304 08:26:56.763893       1 gateway.go:235] latency, HandleRequestBody, 0.0484
I0304 08:26:56.780441       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="c2168f69-1e5f-4314-8f9f-10ed8becfb4b"
I0304 08:26:56.826158       1 gateway.go:608] "First token received" requestID="c2168f69-1e5f-4314-8f9f-10ed8becfb4b" ttft_ms=110
I0304 08:26:56.951600       1 gateway.go:207] "Processing request" requestID="3a318c1e-3ea9-4359-bd07-35cfaaecce55"
I0304 08:26:56.951629       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3a318c1e-3ea9-4359-bd07-35cfaaecce55"
I0304 08:26:56.951639       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:57.001628       1 gateway.go:562] latency, 0.0000, summary, hash(request), a29dfa46, selectedpod, 10.0.0.13:8000, ttft, 110, tpot, 19, e2e, 286, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:57.001648       1 gateway.go:748] "Request completed" requestID="c2168f69-1e5f-4314-8f9f-10ed8becfb4b" targetPod="10.0.0.13:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:57.001659       1 gateway.go:764] "HandleResponseBody completed" requestID="c2168f69-1e5f-4314-8f9f-10ed8becfb4b" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:57.005837       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3a318c1e-3ea9-4359-bd07-35cfaaecce55"
I0304 08:26:57.005947       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3a318c1e-3ea9-4359-bd07-35cfaaecce55" model="deepseek-llm-7b-chat"
I0304 08:26:57.006001       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:57.006007       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:57.006011       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:57.006299       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:57.006343       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:57.006348       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:57.045766       1 gateway.go:207] "Processing request" requestID="befda01e-5d87-4d5a-a669-6a468d7407a2"
I0304 08:26:57.045791       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="befda01e-5d87-4d5a-a669-6a468d7407a2"
I0304 08:26:57.045800       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:57.053607       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0473, numInputTokens, 3752
I0304 08:26:57.053623       1 tree.go:471] Updated node(0) last access: 174.5555 seconds
I0304 08:26:57.053629       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:57.053632       1 tree.go:471] Updated node(2) last access: 174.5555 seconds
I0304 08:26:57.053640       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:57.053645       1 tree.go:471] Updated node(12) last access: 174.5555 seconds
I0304 08:26:57.053648       1 tree.go:490] Partial tokens match child node(292). Continue to go deeper in the radix tree
I0304 08:26:57.053651       1 tree.go:471] Updated node(292) last access: 174.5555 seconds
I0304 08:26:57.053657       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:57.053663       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:57.053670       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:57.053676       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:57.053681       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:57.053665482 +0000 UTC m=+174.673887908]
I0304 08:26:57.053695       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3635, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:57.053704       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:57.053786       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3635
I0304 08:26:57.053796       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:57.053803       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.053808       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.053815       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.053819       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.053822       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.053830       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:57.053840       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:57.053848       1 prefix_cache_and_load.go:584] latency, Route, 0.0478
I0304 08:26:57.053856       1 gateway.go:415] latency, selectTargetPod, 0.0479, target pod, 10.0.0.6:8000
I0304 08:26:57.053866       1 gateway.go:235] latency, HandleRequestBody, 0.0480
I0304 08:26:57.069993       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3a318c1e-3ea9-4359-bd07-35cfaaecce55"
I0304 08:26:57.088726       1 gateway.go:329] "-- In RequestBody processing ..." requestID="befda01e-5d87-4d5a-a669-6a468d7407a2"
I0304 08:26:57.088861       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="befda01e-5d87-4d5a-a669-6a468d7407a2" model="deepseek-llm-7b-chat"
I0304 08:26:57.088904       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:57.088911       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:57.088914       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:57.089209       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:57.089265       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:57.089271       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:57.092117       1 gateway.go:207] "Processing request" requestID="23dab3a8-fba1-452b-9067-a0ca8758a945"
I0304 08:26:57.092143       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="23dab3a8-fba1-452b-9067-a0ca8758a945"
I0304 08:26:57.092152       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:57.100984       1 gateway.go:608] "First token received" requestID="3a318c1e-3ea9-4359-bd07-35cfaaecce55" ttft_ms=95
I0304 08:26:57.130000       1 gateway.go:329] "-- In RequestBody processing ..." requestID="23dab3a8-fba1-452b-9067-a0ca8758a945"
I0304 08:26:57.130139       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="23dab3a8-fba1-452b-9067-a0ca8758a945" model="deepseek-llm-7b-chat"
I0304 08:26:57.138185       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0489, numInputTokens, 3755
I0304 08:26:57.138206       1 tree.go:471] Updated node(0) last access: 174.6401 seconds
I0304 08:26:57.138213       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:57.138216       1 tree.go:471] Updated node(2) last access: 174.6401 seconds
I0304 08:26:57.138226       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:57.138230       1 tree.go:471] Updated node(22) last access: 174.6401 seconds
I0304 08:26:57.138234       1 tree.go:490] Partial tokens match child node(127). Continue to go deeper in the radix tree
I0304 08:26:57.138237       1 tree.go:471] Updated node(127) last access: 174.6401 seconds
I0304 08:26:57.138245       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 117 tokens:
I0304 08:26:57.138250       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:57.138258       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:57.138264       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:57.138270       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:57.138252672 +0000 UTC m=+174.758475107]
I0304 08:26:57.138285       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3638, Matching ratio: 0.9688, # Matched pods: 0, Matched pods: []
I0304 08:26:57.138294       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9688 > 0.5000)
I0304 08:26:57.138382       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3638
I0304 08:26:57.138391       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:57.138398       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.138403       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.138408       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.138414       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.138419       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.138429       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:57.138439       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:57.138449       1 prefix_cache_and_load.go:584] latency, Route, 0.0495
I0304 08:26:57.138466       1 gateway.go:415] latency, selectTargetPod, 0.0496, target pod, 10.0.1.33:8000
I0304 08:26:57.138481       1 gateway.go:235] latency, HandleRequestBody, 0.0498
I0304 08:26:57.138482       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0083
I0304 08:26:57.138497       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:57.138503       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:57.138795       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:57.138853       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:57.138859       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:57.154945       1 gateway.go:207] "Processing request" requestID="8ea8a584-4234-459b-969d-e0a276bf62a8"
I0304 08:26:57.154987       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="8ea8a584-4234-459b-969d-e0a276bf62a8"
I0304 08:26:57.154997       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:57.156596       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="befda01e-5d87-4d5a-a669-6a468d7407a2"
I0304 08:26:57.187874       1 gateway.go:608] "First token received" requestID="befda01e-5d87-4d5a-a669-6a468d7407a2" ttft_ms=99
I0304 08:26:57.207878       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0690, numInputTokens, 3756
I0304 08:26:57.207898       1 tree.go:471] Updated node(0) last access: 174.7098 seconds
I0304 08:26:57.207904       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:57.207909       1 tree.go:471] Updated node(2) last access: 174.7098 seconds
I0304 08:26:57.207917       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:57.207922       1 tree.go:471] Updated node(30) last access: 174.7098 seconds
I0304 08:26:57.207931       1 tree.go:667] Split complete - New node(452)
I0304 08:26:57.207936       1 tree.go:668] Split complete - Child node(234)
I0304 08:26:57.207942       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:57.207947       1 tree.go:471] Updated node(452) last access: 174.7098 seconds
I0304 08:26:57.207953       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:57.207959       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:57.207964       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:57.207977       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:57.207982       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:57.20796072 +0000 UTC m=+174.828183145]
I0304 08:26:57.207998       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3638, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:57.208007       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:57.208120       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3638
I0304 08:26:57.208133       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:57.208146       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.208154       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.208161       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.208167       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.208174       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.208185       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:57.208197       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:57.208212       1 prefix_cache_and_load.go:584] latency, Route, 0.0780
I0304 08:26:57.208223       1 gateway.go:415] latency, selectTargetPod, 0.0780, target pod, 10.0.0.13:8000
I0304 08:26:57.208236       1 gateway.go:235] latency, HandleRequestBody, 0.0782
I0304 08:26:57.222272       1 gateway.go:329] "-- In RequestBody processing ..." requestID="8ea8a584-4234-459b-969d-e0a276bf62a8"
I0304 08:26:57.222406       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="8ea8a584-4234-459b-969d-e0a276bf62a8" model="deepseek-llm-7b-chat"
I0304 08:26:57.222481       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:57.222489       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:57.222492       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:57.222769       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:57.222817       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:57.222824       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:57.229043       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="23dab3a8-fba1-452b-9067-a0ca8758a945"
I0304 08:26:57.244766       1 gateway.go:207] "Processing request" requestID="3d3c2b7a-2ef1-4d37-919d-e8e76119d00c"
I0304 08:26:57.244799       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3d3c2b7a-2ef1-4d37-919d-e8e76119d00c"
I0304 08:26:57.244808       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:57.274499       1 gateway.go:608] "First token received" requestID="23dab3a8-fba1-452b-9067-a0ca8758a945" ttft_ms=144
I0304 08:26:57.276413       1 gateway.go:562] latency, 0.0000, summary, hash(request), 772fbec6, selectedpod, 10.0.0.6:8000, ttft, 95, tpot, 19, e2e, 270, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:57.276440       1 gateway.go:748] "Request completed" requestID="3a318c1e-3ea9-4359-bd07-35cfaaecce55" targetPod="10.0.0.6:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:57.276456       1 gateway.go:764] "HandleResponseBody completed" requestID="3a318c1e-3ea9-4359-bd07-35cfaaecce55" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:57.284984       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0622, numInputTokens, 3753
I0304 08:26:57.285003       1 tree.go:471] Updated node(0) last access: 174.7869 seconds
I0304 08:26:57.285009       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:57.285013       1 tree.go:471] Updated node(2) last access: 174.7869 seconds
I0304 08:26:57.285020       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:57.285025       1 tree.go:471] Updated node(22) last access: 174.7869 seconds
I0304 08:26:57.285028       1 tree.go:490] Partial tokens match child node(153). Continue to go deeper in the radix tree
I0304 08:26:57.285030       1 tree.go:471] Updated node(153) last access: 174.7869 seconds
I0304 08:26:57.285034       1 tree.go:490] Partial tokens match child node(399). Continue to go deeper in the radix tree
I0304 08:26:57.285037       1 tree.go:471] Updated node(399) last access: 174.7869 seconds
I0304 08:26:57.285043       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 114 tokens:
I0304 08:26:57.285049       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:57.285057       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:57.285063       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:57.285068       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:57.285051459 +0000 UTC m=+174.905273885]
I0304 08:26:57.285085       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3639, Matching ratio: 0.9696, # Matched pods: 0, Matched pods: []
I0304 08:26:57.285091       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9696 > 0.5000)
I0304 08:26:57.285169       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3639
I0304 08:26:57.285181       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:57.285191       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.285198       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.285203       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.285212       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.285218       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.285221       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.285230       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:57.285240       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:57.285252       1 prefix_cache_and_load.go:584] latency, Route, 0.0628
I0304 08:26:57.285261       1 gateway.go:415] latency, selectTargetPod, 0.0628, target pod, 10.0.1.33:8000
I0304 08:26:57.285271       1 gateway.go:235] latency, HandleRequestBody, 0.0630
I0304 08:26:57.292571       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3d3c2b7a-2ef1-4d37-919d-e8e76119d00c"
I0304 08:26:57.292760       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3d3c2b7a-2ef1-4d37-919d-e8e76119d00c" model="deepseek-llm-7b-chat"
I0304 08:26:57.292827       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:57.292836       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:57.292841       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:57.293107       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:57.293156       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:57.293162       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:57.301410       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="8ea8a584-4234-459b-969d-e0a276bf62a8"
I0304 08:26:57.333234       1 gateway.go:608] "First token received" requestID="8ea8a584-4234-459b-969d-e0a276bf62a8" ttft_ms=110
I0304 08:26:57.340809       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0476, numInputTokens, 3752
I0304 08:26:57.340827       1 tree.go:471] Updated node(0) last access: 174.8427 seconds
I0304 08:26:57.340834       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:57.340838       1 tree.go:471] Updated node(2) last access: 174.8427 seconds
I0304 08:26:57.340845       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:57.340848       1 tree.go:471] Updated node(30) last access: 174.8427 seconds
I0304 08:26:57.340851       1 tree.go:490] Partial tokens match child node(111). Continue to go deeper in the radix tree
I0304 08:26:57.340854       1 tree.go:471] Updated node(111) last access: 174.8427 seconds
I0304 08:26:57.340863       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:57.340869       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3752 tokens
I0304 08:26:57.340877       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:57.340886       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:57.340893       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:57.340871315 +0000 UTC m=+174.961093744]
I0304 08:26:57.340913       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3636, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:57.340922       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:57.341023       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3636
I0304 08:26:57.341034       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:57.341046       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.341051       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.341058       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.341067       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.341073       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.341085       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:57.341097       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:57.341111       1 prefix_cache_and_load.go:584] latency, Route, 0.0483
I0304 08:26:57.341120       1 gateway.go:415] latency, selectTargetPod, 0.0483, target pod, 10.0.0.13:8000
I0304 08:26:57.341135       1 gateway.go:235] latency, HandleRequestBody, 0.0486
I0304 08:26:57.356889       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3d3c2b7a-2ef1-4d37-919d-e8e76119d00c"
I0304 08:26:57.397147       1 gateway.go:562] latency, 0.0000, summary, hash(request), 308dd32e, selectedpod, 10.0.1.33:8000, ttft, 99, tpot, 23, e2e, 308, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:57.397169       1 gateway.go:748] "Request completed" requestID="befda01e-5d87-4d5a-a669-6a468d7407a2" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:57.397184       1 gateway.go:764] "HandleResponseBody completed" requestID="befda01e-5d87-4d5a-a669-6a468d7407a2" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:57.400704       1 gateway.go:608] "First token received" requestID="3d3c2b7a-2ef1-4d37-919d-e8e76119d00c" ttft_ms=108
I0304 08:26:57.485853       1 gateway.go:562] latency, 0.0000, summary, hash(request), 98725623, selectedpod, 10.0.0.13:8000, ttft, 144, tpot, 23, e2e, 355, numInputTokens, 3969, numOutputTokens, 10, numTotalTokens, 3979
I0304 08:26:57.485874       1 gateway.go:748] "Request completed" requestID="23dab3a8-fba1-452b-9067-a0ca8758a945" targetPod="10.0.0.13:8000" promptTokens=3969 completionTokens=10 totalTokens=3979
I0304 08:26:57.485884       1 gateway.go:764] "HandleResponseBody completed" requestID="23dab3a8-fba1-452b-9067-a0ca8758a945" promptTokens=3969 completionTokens=10 stream=true
I0304 08:26:57.510955       1 gateway.go:207] "Processing request" requestID="1c3f9bda-7e99-442d-90a3-3745954c8660"
I0304 08:26:57.510990       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1c3f9bda-7e99-442d-90a3-3745954c8660"
I0304 08:26:57.510999       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:57.516037       1 gateway.go:562] latency, 0.0000, summary, hash(request), ad8cb0b2, selectedpod, 10.0.1.33:8000, ttft, 110, tpot, 20, e2e, 293, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:57.516056       1 gateway.go:748] "Request completed" requestID="8ea8a584-4234-459b-969d-e0a276bf62a8" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:57.516066       1 gateway.go:764] "HandleResponseBody completed" requestID="8ea8a584-4234-459b-969d-e0a276bf62a8" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:57.553484       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1c3f9bda-7e99-442d-90a3-3745954c8660"
I0304 08:26:57.553680       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1c3f9bda-7e99-442d-90a3-3745954c8660" model="deepseek-llm-7b-chat"
I0304 08:26:57.553735       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:57.553746       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:57.553750       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:57.554088       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:57.554145       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0304 08:26:57.554153       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:57.585598       1 gateway.go:562] latency, 0.0000, summary, hash(request), a6ffb163, selectedpod, 10.0.0.13:8000, ttft, 108, tpot, 20, e2e, 292, numInputTokens, 3964, numOutputTokens, 10, numTotalTokens, 3974
I0304 08:26:57.585619       1 gateway.go:748] "Request completed" requestID="3d3c2b7a-2ef1-4d37-919d-e8e76119d00c" targetPod="10.0.0.13:8000" promptTokens=3964 completionTokens=10 totalTokens=3974
I0304 08:26:57.585629       1 gateway.go:764] "HandleResponseBody completed" requestID="3d3c2b7a-2ef1-4d37-919d-e8e76119d00c" promptTokens=3964 completionTokens=10 stream=true
I0304 08:26:57.606219       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0521, numInputTokens, 3753
I0304 08:26:57.606238       1 tree.go:471] Updated node(0) last access: 175.1081 seconds
I0304 08:26:57.606244       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:57.606248       1 tree.go:471] Updated node(2) last access: 175.1081 seconds
I0304 08:26:57.606256       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:57.606261       1 tree.go:471] Updated node(67) last access: 175.1081 seconds
I0304 08:26:57.606272       1 tree.go:667] Split complete - New node(456)
I0304 08:26:57.606276       1 tree.go:668] Split complete - Child node(190)
I0304 08:26:57.606282       1 tree.go:501] latency, splitNode, 0.0000 seconds, 120 tokens:
I0304 08:26:57.606287       1 tree.go:471] Updated node(456) last access: 175.1081 seconds
I0304 08:26:57.606293       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 113 tokens:
I0304 08:26:57.606298       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:57.606304       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:57.606311       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:57.606316       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:57.60630066 +0000 UTC m=+175.226523085]
I0304 08:26:57.606330       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3640, Matching ratio: 0.9699, # Matched pods: 0, Matched pods: []
I0304 08:26:57.606337       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9699 > 0.5000)
I0304 08:26:57.606409       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3640
I0304 08:26:57.606418       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:57.606426       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.606430       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.606436       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.606441       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.606446       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.606456       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:57.606465       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:57.606476       1 prefix_cache_and_load.go:584] latency, Route, 0.0527
I0304 08:26:57.606485       1 gateway.go:415] latency, selectTargetPod, 0.0528, target pod, 10.0.1.33:8000
I0304 08:26:57.606496       1 gateway.go:235] latency, HandleRequestBody, 0.0530
I0304 08:26:57.623794       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1c3f9bda-7e99-442d-90a3-3745954c8660"
I0304 08:26:57.653959       1 gateway.go:608] "First token received" requestID="1c3f9bda-7e99-442d-90a3-3745954c8660" ttft_ms=100
I0304 08:26:57.684582       1 gateway.go:207] "Processing request" requestID="71adc807-5631-4fad-a3f7-1612f36a06a2"
I0304 08:26:57.684605       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="71adc807-5631-4fad-a3f7-1612f36a06a2"
I0304 08:26:57.684613       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:57.686803       1 gateway.go:329] "-- In RequestBody processing ..." requestID="71adc807-5631-4fad-a3f7-1612f36a06a2"
I0304 08:26:57.686920       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="71adc807-5631-4fad-a3f7-1612f36a06a2" model="deepseek-llm-7b-chat"
I0304 08:26:57.686966       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:57.686980       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:57.686983       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:57.687212       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:57.687257       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:57.687262       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:57.732220       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0450, numInputTokens, 3753
I0304 08:26:57.732236       1 tree.go:471] Updated node(0) last access: 175.2341 seconds
I0304 08:26:57.732242       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:57.732245       1 tree.go:471] Updated node(2) last access: 175.2341 seconds
I0304 08:26:57.732253       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:57.732258       1 tree.go:471] Updated node(9) last access: 175.2341 seconds
I0304 08:26:57.732261       1 tree.go:490] Partial tokens match child node(170). Continue to go deeper in the radix tree
I0304 08:26:57.732264       1 tree.go:471] Updated node(170) last access: 175.2341 seconds
I0304 08:26:57.732268       1 tree.go:490] Partial tokens match child node(188). Continue to go deeper in the radix tree
I0304 08:26:57.732271       1 tree.go:471] Updated node(188) last access: 175.2341 seconds
I0304 08:26:57.732279       1 tree.go:667] Split complete - New node(458)
I0304 08:26:57.732282       1 tree.go:668] Split complete - Child node(189)
I0304 08:26:57.732287       1 tree.go:501] latency, splitNode, 0.0000 seconds, 110 tokens:
I0304 08:26:57.732293       1 tree.go:471] Updated node(458) last access: 175.2342 seconds
I0304 08:26:57.732298       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 109 tokens:
I0304 08:26:57.732301       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:57.732308       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:57.732314       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:57.732319       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:57.73230352 +0000 UTC m=+175.352525945]
I0304 08:26:57.732333       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3644, Matching ratio: 0.9710, # Matched pods: 0, Matched pods: []
I0304 08:26:57.732340       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9710 > 0.5000)
I0304 08:26:57.732408       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3644
I0304 08:26:57.732418       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:57.732424       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.732430       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.732433       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.732438       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.732442       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.732446       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.732452       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.732460       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:57.732471       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:57.732481       1 prefix_cache_and_load.go:584] latency, Route, 0.0455
I0304 08:26:57.732488       1 gateway.go:415] latency, selectTargetPod, 0.0455, target pod, 10.0.0.34:8000
I0304 08:26:57.732497       1 gateway.go:235] latency, HandleRequestBody, 0.0457
I0304 08:26:57.738278       1 gateway.go:207] "Processing request" requestID="103e8142-624d-4aa9-9a6b-7b34badc9c0e"
I0304 08:26:57.738308       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="103e8142-624d-4aa9-9a6b-7b34badc9c0e"
I0304 08:26:57.738315       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:57.740483       1 gateway.go:329] "-- In RequestBody processing ..." requestID="103e8142-624d-4aa9-9a6b-7b34badc9c0e"
I0304 08:26:57.740606       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="103e8142-624d-4aa9-9a6b-7b34badc9c0e" model="deepseek-llm-7b-chat"
I0304 08:26:57.740651       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:57.740656       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:57.740659       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:57.740847       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:57.740890       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:57.740895       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:57.750670       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="71adc807-5631-4fad-a3f7-1612f36a06a2"
I0304 08:26:57.781718       1 gateway.go:608] "First token received" requestID="71adc807-5631-4fad-a3f7-1612f36a06a2" ttft_ms=94
I0304 08:26:57.790822       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0499, numInputTokens, 3755
I0304 08:26:57.790844       1 tree.go:471] Updated node(0) last access: 175.2927 seconds
I0304 08:26:57.790850       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:57.790855       1 tree.go:471] Updated node(2) last access: 175.2927 seconds
I0304 08:26:57.790863       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:57.790865       1 tree.go:471] Updated node(67) last access: 175.2927 seconds
I0304 08:26:57.790871       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 122 tokens:
I0304 08:26:57.790875       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:57.790882       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:57.790889       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:57.790894       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:57.79087752 +0000 UTC m=+175.411099956]
I0304 08:26:57.790911       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3633, Matching ratio: 0.9675, # Matched pods: 0, Matched pods: []
I0304 08:26:57.790919       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9675 > 0.5000)
I0304 08:26:57.791005       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3633
I0304 08:26:57.791014       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:57.791021       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.791028       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.791033       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.791037       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.791046       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:57.791056       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:57.791066       1 prefix_cache_and_load.go:584] latency, Route, 0.0504
I0304 08:26:57.791076       1 gateway.go:415] latency, selectTargetPod, 0.0504, target pod, 10.0.1.33:8000
I0304 08:26:57.791085       1 gateway.go:235] latency, HandleRequestBody, 0.0506
I0304 08:26:57.799830       1 gateway.go:207] "Processing request" requestID="d497d776-9d78-4ccb-8b9d-5f0d85aaf853"
I0304 08:26:57.799864       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="d497d776-9d78-4ccb-8b9d-5f0d85aaf853"
I0304 08:26:57.799874       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:57.808211       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="103e8142-624d-4aa9-9a6b-7b34badc9c0e"
I0304 08:26:57.816451       1 gateway.go:329] "-- In RequestBody processing ..." requestID="d497d776-9d78-4ccb-8b9d-5f0d85aaf853"
I0304 08:26:57.816575       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="d497d776-9d78-4ccb-8b9d-5f0d85aaf853" model="deepseek-llm-7b-chat"
I0304 08:26:57.816617       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:57.816624       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:57.816627       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:57.816838       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:57.816891       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:57.816897       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:57.835813       1 gateway.go:207] "Processing request" requestID="3c634e23-907f-4e88-ad24-b9e20d31273a"
I0304 08:26:57.835839       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3c634e23-907f-4e88-ad24-b9e20d31273a"
I0304 08:26:57.835847       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:57.836828       1 gateway.go:562] latency, 0.0000, summary, hash(request), e500f3d0, selectedpod, 10.0.1.33:8000, ttft, 100, tpot, 20, e2e, 283, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:57.836855       1 gateway.go:748] "Request completed" requestID="1c3f9bda-7e99-442d-90a3-3745954c8660" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:57.836870       1 gateway.go:764] "HandleResponseBody completed" requestID="1c3f9bda-7e99-442d-90a3-3745954c8660" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:57.856243       1 gateway.go:608] "First token received" requestID="103e8142-624d-4aa9-9a6b-7b34badc9c0e" ttft_ms=115
I0304 08:26:57.862015       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0451, numInputTokens, 3751
I0304 08:26:57.862030       1 tree.go:471] Updated node(0) last access: 175.3639 seconds
I0304 08:26:57.862037       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:57.862040       1 tree.go:471] Updated node(2) last access: 175.3639 seconds
I0304 08:26:57.862047       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:57.862050       1 tree.go:471] Updated node(37) last access: 175.3639 seconds
I0304 08:26:57.862053       1 tree.go:490] Partial tokens match child node(165). Continue to go deeper in the radix tree
I0304 08:26:57.862057       1 tree.go:471] Updated node(165) last access: 175.3639 seconds
I0304 08:26:57.862066       1 tree.go:667] Split complete - New node(461)
I0304 08:26:57.862069       1 tree.go:668] Split complete - Child node(138)
I0304 08:26:57.862074       1 tree.go:501] latency, splitNode, 0.0000 seconds, 115 tokens:
I0304 08:26:57.862079       1 tree.go:471] Updated node(461) last access: 175.3639 seconds
I0304 08:26:57.862085       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:57.862090       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:26:57.862095       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:57.862102       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:57.862107       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:57.862091663 +0000 UTC m=+175.482314089]
I0304 08:26:57.862121       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3639, Matching ratio: 0.9701, # Matched pods: 0, Matched pods: []
I0304 08:26:57.862127       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9701 > 0.5000)
I0304 08:26:57.862195       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3639
I0304 08:26:57.862204       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:57.862211       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.862224       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.862230       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.862235       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.862239       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.862245       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.862253       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:57.862262       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:57.862270       1 prefix_cache_and_load.go:584] latency, Route, 0.0457
I0304 08:26:57.862278       1 gateway.go:415] latency, selectTargetPod, 0.0457, target pod, 10.0.1.47:8000
I0304 08:26:57.862288       1 gateway.go:235] latency, HandleRequestBody, 0.0458
I0304 08:26:57.878970       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="d497d776-9d78-4ccb-8b9d-5f0d85aaf853"
I0304 08:26:57.905650       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3c634e23-907f-4e88-ad24-b9e20d31273a"
I0304 08:26:57.905776       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3c634e23-907f-4e88-ad24-b9e20d31273a" model="deepseek-llm-7b-chat"
I0304 08:26:57.905817       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:57.905824       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:57.905827       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:57.906069       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:57.906113       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:57.906119       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:57.910154       1 gateway.go:608] "First token received" requestID="d497d776-9d78-4ccb-8b9d-5f0d85aaf853" ttft_ms=93
I0304 08:26:57.950787       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0447, numInputTokens, 3750
I0304 08:26:57.950802       1 tree.go:471] Updated node(0) last access: 175.4527 seconds
I0304 08:26:57.950809       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:57.950813       1 tree.go:471] Updated node(2) last access: 175.4527 seconds
I0304 08:26:57.950823       1 tree.go:490] Partial tokens match child node(12). Continue to go deeper in the radix tree
I0304 08:26:57.950827       1 tree.go:471] Updated node(12) last access: 175.4527 seconds
I0304 08:26:57.950832       1 tree.go:490] Partial tokens match child node(292). Continue to go deeper in the radix tree
I0304 08:26:57.950834       1 tree.go:471] Updated node(292) last access: 175.4527 seconds
I0304 08:26:57.950838       1 tree.go:490] Partial tokens match child node(182). Continue to go deeper in the radix tree
I0304 08:26:57.950840       1 tree.go:471] Updated node(182) last access: 175.4527 seconds
I0304 08:26:57.950849       1 tree.go:667] Split complete - New node(463)
I0304 08:26:57.950853       1 tree.go:668] Split complete - Child node(134)
I0304 08:26:57.950858       1 tree.go:501] latency, splitNode, 0.0000 seconds, 112 tokens:
I0304 08:26:57.950861       1 tree.go:471] Updated node(463) last access: 175.4527 seconds
I0304 08:26:57.950867       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 106 tokens:
I0304 08:26:57.950871       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3750 tokens
I0304 08:26:57.950878       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3750 tokens
I0304 08:26:57.950884       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:57.950889       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:57.950873608 +0000 UTC m=+175.571096034]
I0304 08:26:57.950902       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3750, Matched tokens: 3644, Matching ratio: 0.9717, # Matched pods: 0, Matched pods: []
I0304 08:26:57.950910       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9717 > 0.5000)
I0304 08:26:57.950987       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-2q5s7 from longest matching node with match length 3644
I0304 08:26:57.950998       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:57.951006       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.951011       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.951016       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.951022       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.951026       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.951032       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.951036       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:57.951045       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:57.951055       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-2q5s7="target_pod_ip" 10.0.0.6="(MISSING)"
I0304 08:26:57.951064       1 prefix_cache_and_load.go:584] latency, Route, 0.0452
I0304 08:26:57.951072       1 gateway.go:415] latency, selectTargetPod, 0.0453, target pod, 10.0.0.6:8000
I0304 08:26:57.951081       1 gateway.go:235] latency, HandleRequestBody, 0.0454
I0304 08:26:57.957393       1 gateway.go:562] latency, 0.0000, summary, hash(request), 221e23ff, selectedpod, 10.0.0.34:8000, ttft, 94, tpot, 19, e2e, 270, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:57.957407       1 gateway.go:748] "Request completed" requestID="71adc807-5631-4fad-a3f7-1612f36a06a2" targetPod="10.0.0.34:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:57.957416       1 gateway.go:764] "HandleResponseBody completed" requestID="71adc807-5631-4fad-a3f7-1612f36a06a2" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:57.968111       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3c634e23-907f-4e88-ad24-b9e20d31273a"
I0304 08:26:57.998863       1 gateway.go:608] "First token received" requestID="3c634e23-907f-4e88-ad24-b9e20d31273a" ttft_ms=93
I0304 08:26:58.031837       1 gateway.go:562] latency, 0.0000, summary, hash(request), a05330e6, selectedpod, 10.0.1.33:8000, ttft, 115, tpot, 19, e2e, 291, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:58.031853       1 gateway.go:748] "Request completed" requestID="103e8142-624d-4aa9-9a6b-7b34badc9c0e" targetPod="10.0.1.33:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:58.031863       1 gateway.go:764] "HandleResponseBody completed" requestID="103e8142-624d-4aa9-9a6b-7b34badc9c0e" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:58.034005       1 gateway.go:207] "Processing request" requestID="1c46b427-90a3-45fe-8965-a9743cd1cc06"
I0304 08:26:58.034024       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="1c46b427-90a3-45fe-8965-a9743cd1cc06"
I0304 08:26:58.034032       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:58.085618       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5ab9d082, selectedpod, 10.0.1.47:8000, ttft, 93, tpot, 19, e2e, 269, numInputTokens, 3965, numOutputTokens, 10, numTotalTokens, 3975
I0304 08:26:58.085632       1 gateway.go:748] "Request completed" requestID="d497d776-9d78-4ccb-8b9d-5f0d85aaf853" targetPod="10.0.1.47:8000" promptTokens=3965 completionTokens=10 totalTokens=3975
I0304 08:26:58.085640       1 gateway.go:764] "HandleResponseBody completed" requestID="d497d776-9d78-4ccb-8b9d-5f0d85aaf853" promptTokens=3965 completionTokens=10 stream=true
I0304 08:26:58.087781       1 gateway.go:207] "Processing request" requestID="9282a6b5-099a-432f-9930-8fd5da97e5f2"
I0304 08:26:58.087800       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="9282a6b5-099a-432f-9930-8fd5da97e5f2"
I0304 08:26:58.087806       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:58.088169       1 gateway.go:329] "-- In RequestBody processing ..." requestID="1c46b427-90a3-45fe-8965-a9743cd1cc06"
I0304 08:26:58.088287       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="1c46b427-90a3-45fe-8965-a9743cd1cc06" model="deepseek-llm-7b-chat"
I0304 08:26:58.088336       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:58.088341       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:58.088344       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:58.088583       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:58.088628       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:58.088634       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:58.137688       1 gateway.go:329] "-- In RequestBody processing ..." requestID="9282a6b5-099a-432f-9930-8fd5da97e5f2"
I0304 08:26:58.137813       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="9282a6b5-099a-432f-9930-8fd5da97e5f2" model="deepseek-llm-7b-chat"
I0304 08:26:58.139952       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0513, numInputTokens, 3753
I0304 08:26:58.139979       1 tree.go:471] Updated node(0) last access: 175.6418 seconds
I0304 08:26:58.139986       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:58.139989       1 tree.go:471] Updated node(2) last access: 175.6419 seconds
I0304 08:26:58.139997       1 tree.go:490] Partial tokens match child node(40). Continue to go deeper in the radix tree
I0304 08:26:58.140001       1 tree.go:471] Updated node(40) last access: 175.6419 seconds
I0304 08:26:58.140005       1 tree.go:490] Partial tokens match child node(222). Continue to go deeper in the radix tree
I0304 08:26:58.140007       1 tree.go:471] Updated node(222) last access: 175.6419 seconds
I0304 08:26:58.140011       1 tree.go:490] Partial tokens match child node(241). Continue to go deeper in the radix tree
I0304 08:26:58.140015       1 tree.go:471] Updated node(241) last access: 175.6419 seconds
I0304 08:26:58.140018       1 tree.go:490] Partial tokens match child node(420). Continue to go deeper in the radix tree
I0304 08:26:58.140020       1 tree.go:471] Updated node(420) last access: 175.6419 seconds
I0304 08:26:58.140030       1 tree.go:667] Split complete - New node(465)
I0304 08:26:58.140035       1 tree.go:668] Split complete - Child node(242)
I0304 08:26:58.140039       1 tree.go:501] latency, splitNode, 0.0000 seconds, 112 tokens:
I0304 08:26:58.140044       1 tree.go:471] Updated node(465) last access: 175.6419 seconds
I0304 08:26:58.140054       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 92 tokens:
I0304 08:26:58.140058       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3753 tokens
I0304 08:26:58.140065       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:58.140071       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:58.140075       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:58.140059735 +0000 UTC m=+175.760282161]
I0304 08:26:58.140090       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3661, Matching ratio: 0.9755, # Matched pods: 0, Matched pods: []
I0304 08:26:58.140098       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9755 > 0.5000)
I0304 08:26:58.140171       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3661
I0304 08:26:58.140181       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:58.140187       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.140193       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.140197       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.140201       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.140205       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.140207       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.140211       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.140214       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.140222       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:58.140231       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:58.140242       1 prefix_cache_and_load.go:584] latency, Route, 0.0519
I0304 08:26:58.140258       1 gateway.go:415] latency, selectTargetPod, 0.0519, target pod, 10.0.1.47:8000
I0304 08:26:58.140269       1 gateway.go:235] latency, HandleRequestBody, 0.0521
I0304 08:26:58.140298       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0024
I0304 08:26:58.140303       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:58.140306       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:58.140480       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:58.140533       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:58.140539       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:58.157755       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="1c46b427-90a3-45fe-8965-a9743cd1cc06"
I0304 08:26:58.173337       1 gateway.go:207] "Processing request" requestID="fd3a01ca-6a86-4a9b-9c2a-677e0828bcc6"
I0304 08:26:58.173363       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="fd3a01ca-6a86-4a9b-9c2a-677e0828bcc6"
I0304 08:26:58.173372       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:58.174309       1 gateway.go:562] latency, 0.0000, summary, hash(request), 833e2b9a, selectedpod, 10.0.0.6:8000, ttft, 93, tpot, 19, e2e, 268, numInputTokens, 3964, numOutputTokens, 10, numTotalTokens, 3974
I0304 08:26:58.174326       1 gateway.go:748] "Request completed" requestID="3c634e23-907f-4e88-ad24-b9e20d31273a" targetPod="10.0.0.6:8000" promptTokens=3964 completionTokens=10 totalTokens=3974
I0304 08:26:58.174338       1 gateway.go:764] "HandleResponseBody completed" requestID="3c634e23-907f-4e88-ad24-b9e20d31273a" promptTokens=3964 completionTokens=10 stream=true
I0304 08:26:58.181033       1 gateway.go:329] "-- In RequestBody processing ..." requestID="fd3a01ca-6a86-4a9b-9c2a-677e0828bcc6"
I0304 08:26:58.181246       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="fd3a01ca-6a86-4a9b-9c2a-677e0828bcc6" model="deepseek-llm-7b-chat"
I0304 08:26:58.187610       1 gateway.go:608] "First token received" requestID="1c46b427-90a3-45fe-8965-a9743cd1cc06" ttft_ms=99
I0304 08:26:58.191198       1 gateway.go:207] "Processing request" requestID="e4f44934-a2f1-4f10-b130-66ee38050bad"
I0304 08:26:58.191235       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="e4f44934-a2f1-4f10-b130-66ee38050bad"
I0304 08:26:58.191246       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:58.195046       1 gateway.go:329] "-- In RequestBody processing ..." requestID="e4f44934-a2f1-4f10-b130-66ee38050bad"
I0304 08:26:58.195249       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="e4f44934-a2f1-4f10-b130-66ee38050bad" model="deepseek-llm-7b-chat"
I0304 08:26:58.202812       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0623, numInputTokens, 3751
I0304 08:26:58.202829       1 tree.go:471] Updated node(0) last access: 175.7047 seconds
I0304 08:26:58.202834       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:58.202838       1 tree.go:471] Updated node(2) last access: 175.7047 seconds
I0304 08:26:58.202846       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:58.202850       1 tree.go:471] Updated node(24) last access: 175.7047 seconds
I0304 08:26:58.202853       1 tree.go:490] Partial tokens match child node(250). Continue to go deeper in the radix tree
I0304 08:26:58.202855       1 tree.go:471] Updated node(250) last access: 175.7047 seconds
I0304 08:26:58.202863       1 tree.go:667] Split complete - New node(467)
I0304 08:26:58.202868       1 tree.go:668] Split complete - Child node(216)
I0304 08:26:58.202873       1 tree.go:501] latency, splitNode, 0.0000 seconds, 116 tokens:
I0304 08:26:58.202878       1 tree.go:471] Updated node(467) last access: 175.7047 seconds
I0304 08:26:58.202882       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 108 tokens:
I0304 08:26:58.202886       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3751 tokens
I0304 08:26:58.202893       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3751 tokens
I0304 08:26:58.202899       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:58.202903       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:58.202889255 +0000 UTC m=+175.823111680]
I0304 08:26:58.202916       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3751, Matched tokens: 3643, Matching ratio: 0.9712, # Matched pods: 0, Matched pods: []
I0304 08:26:58.202923       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9712 > 0.5000)
I0304 08:26:58.203006       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3643
I0304 08:26:58.203016       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:58.203023       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.203028       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.203032       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.203037       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.203041       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.203046       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.203054       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:58.203064       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:58.203073       1 prefix_cache_and_load.go:584] latency, Route, 0.0652
I0304 08:26:58.203089       1 gateway.go:415] latency, selectTargetPod, 0.0652, target pod, 10.0.1.53:8000
I0304 08:26:58.203102       1 gateway.go:235] latency, HandleRequestBody, 0.0654
I0304 08:26:58.203103       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0218
I0304 08:26:58.203110       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:58.203114       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:58.203316       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:58.203360       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:58.203366       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:58.221134       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="9282a6b5-099a-432f-9930-8fd5da97e5f2"
I0304 08:26:58.251367       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0480, numInputTokens, 3753
I0304 08:26:58.251387       1 tree.go:471] Updated node(0) last access: 175.7532 seconds
I0304 08:26:58.251394       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:58.251397       1 tree.go:471] Updated node(2) last access: 175.7533 seconds
I0304 08:26:58.251405       1 tree.go:490] Partial tokens match child node(9). Continue to go deeper in the radix tree
I0304 08:26:58.251408       1 tree.go:471] Updated node(9) last access: 175.7533 seconds
I0304 08:26:58.251414       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:58.251419       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:58.251427       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:58.251435       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0000
I0304 08:26:58.251441       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:58.251421842 +0000 UTC m=+175.871644268]
I0304 08:26:58.251461       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3633, Matching ratio: 0.9680, # Matched pods: 0, Matched pods: []
I0304 08:26:58.251472       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9680 > 0.5000)
I0304 08:26:58.252327       1 gateway.go:608] "First token received" requestID="9282a6b5-099a-432f-9930-8fd5da97e5f2" ttft_ms=114
I0304 08:26:58.262879       1 gateway.go:207] "Processing request" requestID="ab324c9a-96c2-49db-aac0-6c9aa5536b9e"
I0304 08:26:58.262902       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ab324c9a-96c2-49db-aac0-6c9aa5536b9e"
I0304 08:26:58.262911       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:58.278600       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-4hfjk from longest matching node with match length 3633
I0304 08:26:58.278614       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0271
I0304 08:26:58.278623       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.278628       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.278632       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.278637       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.278644       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:58.278654       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-4hfjk="target_pod_ip" 10.0.0.34="(MISSING)"
I0304 08:26:58.278665       1 prefix_cache_and_load.go:584] latency, Route, 0.0974
I0304 08:26:58.278677       1 gateway.go:415] latency, selectTargetPod, 0.0974, target pod, 10.0.0.34:8000
I0304 08:26:58.278688       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0834
I0304 08:26:58.278699       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:58.278703       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:58.278692       1 gateway.go:235] latency, HandleRequestBody, 0.0977
I0304 08:26:58.279001       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:58.279066       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0004
I0304 08:26:58.279074       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:58.294864       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="fd3a01ca-6a86-4a9b-9c2a-677e0828bcc6"
I0304 08:26:58.304349       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ab324c9a-96c2-49db-aac0-6c9aa5536b9e"
I0304 08:26:58.304478       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ab324c9a-96c2-49db-aac0-6c9aa5536b9e" model="deepseek-llm-7b-chat"
I0304 08:26:58.325268       1 gateway.go:608] "First token received" requestID="fd3a01ca-6a86-4a9b-9c2a-677e0828bcc6" ttft_ms=144
I0304 08:26:58.325718       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0466, numInputTokens, 3753
I0304 08:26:58.325734       1 tree.go:471] Updated node(0) last access: 175.8276 seconds
I0304 08:26:58.325740       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:58.325743       1 tree.go:471] Updated node(2) last access: 175.8276 seconds
I0304 08:26:58.325752       1 tree.go:490] Partial tokens match child node(30). Continue to go deeper in the radix tree
I0304 08:26:58.325756       1 tree.go:471] Updated node(30) last access: 175.8276 seconds
I0304 08:26:58.325759       1 tree.go:490] Partial tokens match child node(237). Continue to go deeper in the radix tree
I0304 08:26:58.325764       1 tree.go:471] Updated node(237) last access: 175.8276 seconds
I0304 08:26:58.325769       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 116 tokens:
I0304 08:26:58.325774       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:58.325781       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:58.325788       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:58.325794       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:58.32577661 +0000 UTC m=+175.945999036]
I0304 08:26:58.325809       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3637, Matching ratio: 0.9691, # Matched pods: 0, Matched pods: []
I0304 08:26:58.325815       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9691 > 0.5000)
I0304 08:26:58.325889       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-7z4pz from longest matching node with match length 3637
I0304 08:26:58.325899       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:58.325907       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.325911       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.325916       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.325921       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.325926       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.325938       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:58.325948       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-7z4pz="target_pod_ip" 10.0.0.13="(MISSING)"
I0304 08:26:58.325956       1 prefix_cache_and_load.go:584] latency, Route, 0.1306
I0304 08:26:58.325977       1 gateway.go:415] latency, selectTargetPod, 0.1306, target pod, 10.0.0.13:8000
I0304 08:26:58.325988       1 gateway.go:235] latency, HandleRequestBody, 0.1309
I0304 08:26:58.326008       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0215
I0304 08:26:58.326013       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:58.326016       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:58.326202       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:58.326256       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0002
I0304 08:26:58.326261       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:58.343742       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="e4f44934-a2f1-4f10-b130-66ee38050bad"
I0304 08:26:58.363327       1 gateway.go:562] latency, 0.0000, summary, hash(request), f4126d47, selectedpod, 10.0.1.47:8000, ttft, 99, tpot, 19, e2e, 275, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:58.363348       1 gateway.go:748] "Request completed" requestID="1c46b427-90a3-45fe-8965-a9743cd1cc06" targetPod="10.0.1.47:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:58.363358       1 gateway.go:764] "HandleResponseBody completed" requestID="1c46b427-90a3-45fe-8965-a9743cd1cc06" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:58.375638       1 gateway.go:608] "First token received" requestID="e4f44934-a2f1-4f10-b130-66ee38050bad" ttft_ms=180
I0304 08:26:58.408357       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0821, numInputTokens, 3753
I0304 08:26:58.408372       1 tree.go:471] Updated node(0) last access: 175.9102 seconds
I0304 08:26:58.408378       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:58.408382       1 tree.go:471] Updated node(2) last access: 175.9102 seconds
I0304 08:26:58.408391       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:58.408395       1 tree.go:471] Updated node(67) last access: 175.9103 seconds
I0304 08:26:58.408398       1 tree.go:490] Partial tokens match child node(376). Continue to go deeper in the radix tree
I0304 08:26:58.408401       1 tree.go:471] Updated node(376) last access: 175.9103 seconds
I0304 08:26:58.408405       1 tree.go:490] Partial tokens match child node(309). Continue to go deeper in the radix tree
I0304 08:26:58.408408       1 tree.go:471] Updated node(309) last access: 175.9103 seconds
I0304 08:26:58.408414       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 115 tokens:
I0304 08:26:58.408419       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3753 tokens
I0304 08:26:58.408427       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3753 tokens
I0304 08:26:58.408433       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:58.408438       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:58.408421074 +0000 UTC m=+176.028643499]
I0304 08:26:58.408453       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3753, Matched tokens: 3638, Matching ratio: 0.9694, # Matched pods: 0, Matched pods: []
I0304 08:26:58.408459       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9694 > 0.5000)
I0304 08:26:58.408554       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3638
I0304 08:26:58.408563       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:58.408571       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.408576       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.408582       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.408587       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.408592       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.408596       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.408605       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:58.408613       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:58.408622       1 prefix_cache_and_load.go:584] latency, Route, 0.1041
I0304 08:26:58.408631       1 gateway.go:415] latency, selectTargetPod, 0.1041, target pod, 10.0.1.33:8000
I0304 08:26:58.408642       1 gateway.go:235] latency, HandleRequestBody, 0.1043
I0304 08:26:58.419409       1 gateway.go:207] "Processing request" requestID="ee466339-8ad2-435a-9e17-e661ea8b9659"
I0304 08:26:58.419433       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="ee466339-8ad2-435a-9e17-e661ea8b9659"
I0304 08:26:58.419440       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:58.426218       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ab324c9a-96c2-49db-aac0-6c9aa5536b9e"
I0304 08:26:58.426223       1 gateway.go:329] "-- In RequestBody processing ..." requestID="ee466339-8ad2-435a-9e17-e661ea8b9659"
I0304 08:26:58.426352       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="ee466339-8ad2-435a-9e17-e661ea8b9659" model="deepseek-llm-7b-chat"
I0304 08:26:58.426404       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:58.426411       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:58.426414       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:58.426693       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:58.426747       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:58.426753       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:58.427740       1 gateway.go:562] latency, 0.0000, summary, hash(request), 35eb5ecc, selectedpod, 10.0.1.53:8000, ttft, 114, tpot, 19, e2e, 290, numInputTokens, 3966, numOutputTokens, 10, numTotalTokens, 3976
I0304 08:26:58.427758       1 gateway.go:748] "Request completed" requestID="9282a6b5-099a-432f-9930-8fd5da97e5f2" targetPod="10.0.1.53:8000" promptTokens=3966 completionTokens=10 totalTokens=3976
I0304 08:26:58.427767       1 gateway.go:764] "HandleResponseBody completed" requestID="9282a6b5-099a-432f-9930-8fd5da97e5f2" promptTokens=3966 completionTokens=10 stream=true
I0304 08:26:58.456466       1 gateway.go:608] "First token received" requestID="ab324c9a-96c2-49db-aac0-6c9aa5536b9e" ttft_ms=152
I0304 08:26:58.462161       1 gateway.go:562] latency, 0.0000, summary, hash(request), ad1b5300, selectedpod, 10.0.0.34:8000, ttft, 144, tpot, 22, e2e, 281, numInputTokens, 3967, numOutputTokens, 8, numTotalTokens, 3975
I0304 08:26:58.462175       1 gateway.go:748] "Request completed" requestID="fd3a01ca-6a86-4a9b-9c2a-677e0828bcc6" targetPod="10.0.0.34:8000" promptTokens=3967 completionTokens=8 totalTokens=3975
I0304 08:26:58.462183       1 gateway.go:764] "HandleResponseBody completed" requestID="fd3a01ca-6a86-4a9b-9c2a-677e0828bcc6" promptTokens=3967 completionTokens=8 stream=true
I0304 08:26:58.473340       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0466, numInputTokens, 3757
I0304 08:26:58.473353       1 tree.go:471] Updated node(0) last access: 175.9752 seconds
I0304 08:26:58.473359       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:58.473362       1 tree.go:471] Updated node(2) last access: 175.9752 seconds
I0304 08:26:58.473371       1 tree.go:490] Partial tokens match child node(37). Continue to go deeper in the radix tree
I0304 08:26:58.473376       1 tree.go:471] Updated node(37) last access: 175.9752 seconds
I0304 08:26:58.473380       1 tree.go:490] Partial tokens match child node(61). Continue to go deeper in the radix tree
I0304 08:26:58.473382       1 tree.go:471] Updated node(61) last access: 175.9752 seconds
I0304 08:26:58.473388       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 120 tokens:
I0304 08:26:58.473392       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3757 tokens
I0304 08:26:58.473399       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3757 tokens
I0304 08:26:58.473405       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:58.473410       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:58.473393964 +0000 UTC m=+176.093616390]
I0304 08:26:58.473425       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3757, Matched tokens: 3637, Matching ratio: 0.9681, # Matched pods: 0, Matched pods: []
I0304 08:26:58.473432       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9681 > 0.5000)
I0304 08:26:58.473517       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-brzxp from longest matching node with match length 3637
I0304 08:26:58.473527       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:58.473535       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.473539       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.473544       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.473551       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.473555       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.473563       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:58.473572       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-brzxp="target_pod_ip" 10.0.1.47="(MISSING)"
I0304 08:26:58.473580       1 prefix_cache_and_load.go:584] latency, Route, 0.0472
I0304 08:26:58.473589       1 gateway.go:415] latency, selectTargetPod, 0.0472, target pod, 10.0.1.47:8000
I0304 08:26:58.473598       1 gateway.go:235] latency, HandleRequestBody, 0.0474
I0304 08:26:58.489369       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="ee466339-8ad2-435a-9e17-e661ea8b9659"
I0304 08:26:58.533776       1 gateway.go:608] "First token received" requestID="ee466339-8ad2-435a-9e17-e661ea8b9659" ttft_ms=107
I0304 08:26:58.551507       1 gateway.go:562] latency, 0.0000, summary, hash(request), 5eafc509, selectedpod, 10.0.0.13:8000, ttft, 180, tpot, 19, e2e, 356, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:58.551533       1 gateway.go:748] "Request completed" requestID="e4f44934-a2f1-4f10-b130-66ee38050bad" targetPod="10.0.0.13:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:58.551542       1 gateway.go:764] "HandleResponseBody completed" requestID="e4f44934-a2f1-4f10-b130-66ee38050bad" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:58.609876       1 gateway.go:207] "Processing request" requestID="f1693b8c-c976-4905-af7d-ed5f20d210bc"
I0304 08:26:58.609898       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="f1693b8c-c976-4905-af7d-ed5f20d210bc"
I0304 08:26:58.609904       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:58.612101       1 gateway.go:329] "-- In RequestBody processing ..." requestID="f1693b8c-c976-4905-af7d-ed5f20d210bc"
I0304 08:26:58.612221       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="f1693b8c-c976-4905-af7d-ed5f20d210bc" model="deepseek-llm-7b-chat"
I0304 08:26:58.612281       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:58.612288       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:58.612292       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:58.612561       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:58.612616       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:58.612626       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:58.631876       1 gateway.go:562] latency, 0.0000, summary, hash(request), 524bcdda, selectedpod, 10.0.1.33:8000, ttft, 152, tpot, 19, e2e, 327, numInputTokens, 3967, numOutputTokens, 10, numTotalTokens, 3977
I0304 08:26:58.631896       1 gateway.go:748] "Request completed" requestID="ab324c9a-96c2-49db-aac0-6c9aa5536b9e" targetPod="10.0.1.33:8000" promptTokens=3967 completionTokens=10 totalTokens=3977
I0304 08:26:58.631906       1 gateway.go:764] "HandleResponseBody completed" requestID="ab324c9a-96c2-49db-aac0-6c9aa5536b9e" promptTokens=3967 completionTokens=10 stream=true
I0304 08:26:58.659196       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0466, numInputTokens, 3752
I0304 08:26:58.659214       1 tree.go:471] Updated node(0) last access: 176.1611 seconds
I0304 08:26:58.659220       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:58.659224       1 tree.go:471] Updated node(2) last access: 176.1611 seconds
I0304 08:26:58.659232       1 tree.go:490] Partial tokens match child node(22). Continue to go deeper in the radix tree
I0304 08:26:58.659235       1 tree.go:471] Updated node(22) last access: 176.1611 seconds
I0304 08:26:58.659244       1 tree.go:667] Split complete - New node(473)
I0304 08:26:58.659249       1 tree.go:668] Split complete - Child node(73)
I0304 08:26:58.659255       1 tree.go:501] latency, splitNode, 0.0000 seconds, 119 tokens:
I0304 08:26:58.659260       1 tree.go:471] Updated node(473) last access: 176.1611 seconds
I0304 08:26:58.659265       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 112 tokens:
I0304 08:26:58.659270       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3752 tokens
I0304 08:26:58.659276       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3752 tokens
I0304 08:26:58.659283       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:58.659287       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:58.659272125 +0000 UTC m=+176.279494551]
I0304 08:26:58.659302       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3752, Matched tokens: 3640, Matching ratio: 0.9701, # Matched pods: 0, Matched pods: []
I0304 08:26:58.659309       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9701 > 0.5000)
I0304 08:26:58.659380       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3640
I0304 08:26:58.659390       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:58.659397       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.659402       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.659408       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.659412       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.659418       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.659427       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:58.659435       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:58.659445       1 prefix_cache_and_load.go:584] latency, Route, 0.0472
I0304 08:26:58.659454       1 gateway.go:415] latency, selectTargetPod, 0.0472, target pod, 10.0.1.33:8000
I0304 08:26:58.659465       1 gateway.go:235] latency, HandleRequestBody, 0.0474
I0304 08:26:58.676702       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="f1693b8c-c976-4905-af7d-ed5f20d210bc"
I0304 08:26:58.706726       1 gateway.go:608] "First token received" requestID="f1693b8c-c976-4905-af7d-ed5f20d210bc" ttft_ms=94
I0304 08:26:58.709642       1 gateway.go:562] latency, 0.0000, summary, hash(request), bc3b3a0f, selectedpod, 10.0.1.47:8000, ttft, 107, tpot, 19, e2e, 283, numInputTokens, 3970, numOutputTokens, 10, numTotalTokens, 3980
I0304 08:26:58.709656       1 gateway.go:748] "Request completed" requestID="ee466339-8ad2-435a-9e17-e661ea8b9659" targetPod="10.0.1.47:8000" promptTokens=3970 completionTokens=10 totalTokens=3980
I0304 08:26:58.709665       1 gateway.go:764] "HandleResponseBody completed" requestID="ee466339-8ad2-435a-9e17-e661ea8b9659" promptTokens=3970 completionTokens=10 stream=true
I0304 08:26:58.818853       1 gateway.go:207] "Processing request" requestID="3050afb2-30bc-4cf8-889d-bdd56d32367b"
I0304 08:26:58.818878       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="3050afb2-30bc-4cf8-889d-bdd56d32367b"
I0304 08:26:58.818886       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:58.825096       1 gateway.go:329] "-- In RequestBody processing ..." requestID="3050afb2-30bc-4cf8-889d-bdd56d32367b"
I0304 08:26:58.825220       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="3050afb2-30bc-4cf8-889d-bdd56d32367b" model="deepseek-llm-7b-chat"
I0304 08:26:58.825265       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:58.825271       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:58.825274       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:58.825494       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:58.825549       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:58.825555       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:58.875713       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0502, numInputTokens, 3755
I0304 08:26:58.875732       1 tree.go:471] Updated node(0) last access: 176.3776 seconds
I0304 08:26:58.875739       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:58.875743       1 tree.go:471] Updated node(2) last access: 176.3776 seconds
I0304 08:26:58.875752       1 tree.go:490] Partial tokens match child node(67). Continue to go deeper in the radix tree
I0304 08:26:58.875755       1 tree.go:471] Updated node(67) last access: 176.3776 seconds
I0304 08:26:58.875759       1 tree.go:490] Partial tokens match child node(280). Continue to go deeper in the radix tree
I0304 08:26:58.875763       1 tree.go:471] Updated node(280) last access: 176.3776 seconds
I0304 08:26:58.875769       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 119 tokens:
I0304 08:26:58.875775       1 tree.go:449] latency, insertHelper, 0.0000 seconds, 3755 tokens
I0304 08:26:58.875783       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3755 tokens
I0304 08:26:58.875790       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:58.875795       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:58.875777237 +0000 UTC m=+176.495999664]
I0304 08:26:58.875810       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3755, Matched tokens: 3636, Matching ratio: 0.9683, # Matched pods: 0, Matched pods: []
I0304 08:26:58.875818       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9683 > 0.5000)
I0304 08:26:58.875896       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-q5tzj from longest matching node with match length 3636
I0304 08:26:58.875906       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:58.875913       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.875920       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.875926       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.875932       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.875936       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:58.875946       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:58.875955       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-q5tzj="target_pod_ip" 10.0.1.33="(MISSING)"
I0304 08:26:58.875965       1 prefix_cache_and_load.go:584] latency, Route, 0.0507
I0304 08:26:58.875983       1 gateway.go:415] latency, selectTargetPod, 0.0507, target pod, 10.0.1.33:8000
I0304 08:26:58.875993       1 gateway.go:235] latency, HandleRequestBody, 0.0509
I0304 08:26:58.882245       1 gateway.go:562] latency, 0.0000, summary, hash(request), d0328f53, selectedpod, 10.0.1.33:8000, ttft, 94, tpot, 19, e2e, 270, numInputTokens, 3968, numOutputTokens, 10, numTotalTokens, 3978
I0304 08:26:58.882260       1 gateway.go:748] "Request completed" requestID="f1693b8c-c976-4905-af7d-ed5f20d210bc" targetPod="10.0.1.33:8000" promptTokens=3968 completionTokens=10 totalTokens=3978
I0304 08:26:58.882267       1 gateway.go:764] "HandleResponseBody completed" requestID="f1693b8c-c976-4905-af7d-ed5f20d210bc" promptTokens=3968 completionTokens=10 stream=true
I0304 08:26:58.892022       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="3050afb2-30bc-4cf8-889d-bdd56d32367b"
I0304 08:26:58.944057       1 gateway.go:608] "First token received" requestID="3050afb2-30bc-4cf8-889d-bdd56d32367b" ttft_ms=118
I0304 08:26:59.070099       1 gateway.go:207] "Processing request" requestID="28271a59-f7f4-4d58-9508-917ace6633e1"
I0304 08:26:59.070126       1 gateway.go:264] "-- In RequestHeaders processing ..." requestID="28271a59-f7f4-4d58-9508-917ace6633e1"
I0304 08:26:59.070133       1 gateway.go:230] latency, HandleRequestHeaders, 0.0000
I0304 08:26:59.119542       1 gateway.go:562] latency, 0.0000, summary, hash(request), 111ffe1b, selectedpod, 10.0.1.33:8000, ttft, 118, tpot, 19, e2e, 294, numInputTokens, 3972, numOutputTokens, 10, numTotalTokens, 3982
I0304 08:26:59.119561       1 gateway.go:748] "Request completed" requestID="3050afb2-30bc-4cf8-889d-bdd56d32367b" targetPod="10.0.1.33:8000" promptTokens=3972 completionTokens=10 totalTokens=3982
I0304 08:26:59.119573       1 gateway.go:764] "HandleResponseBody completed" requestID="3050afb2-30bc-4cf8-889d-bdd56d32367b" promptTokens=3972 completionTokens=10 stream=true
I0304 08:26:59.150553       1 gateway.go:329] "-- In RequestBody processing ..." requestID="28271a59-f7f4-4d58-9508-917ace6633e1"
I0304 08:26:59.150670       1 gateway.go:397] "request start" routing-strategy="prefix-cache-and-load" requestID="28271a59-f7f4-4d58-9508-917ace6633e1" model="deepseek-llm-7b-chat"
I0304 08:26:59.150711       1 prefix_cache_and_load.go:456] latency, lock acquire, 0.0000
I0304 08:26:59.150717       1 prefix_cache_and_load.go:460] num pods in data structure: 8
I0304 08:26:59.150721       1 prefix_cache_and_load.go:461] current actual ready pods: 8
I0304 08:26:59.151022       1 prefix_cache_and_load.go:397] "Pod set updated" old_count=8 new_count=8
I0304 08:26:59.151070       1 prefix_cache_and_load.go:464] latency, updatePodSet, 0.0003
I0304 08:26:59.151076       1 prefix_cache_and_load.go:465] num pods in data structure after updatePodSet: 8
I0304 08:26:59.197739       1 prefix_cache_and_load.go:471] latency, TokenizeInputText, 0.0467, numInputTokens, 3756
I0304 08:26:59.197757       1 tree.go:471] Updated node(0) last access: 176.6996 seconds
I0304 08:26:59.197763       1 tree.go:490] Partial tokens match child node(2). Continue to go deeper in the radix tree
I0304 08:26:59.197767       1 tree.go:471] Updated node(2) last access: 176.6996 seconds
I0304 08:26:59.197775       1 tree.go:490] Partial tokens match child node(24). Continue to go deeper in the radix tree
I0304 08:26:59.197779       1 tree.go:471] Updated node(24) last access: 176.6996 seconds
I0304 08:26:59.197789       1 tree.go:667] Split complete - New node(476)
I0304 08:26:59.197794       1 tree.go:668] Split complete - Child node(394)
I0304 08:26:59.197800       1 tree.go:501] latency, splitNode, 0.0000 seconds, 123 tokens:
I0304 08:26:59.197805       1 tree.go:471] Updated node(476) last access: 176.6997 seconds
I0304 08:26:59.197811       1 tree.go:516] latency, NewTreeNode, 0.0000 seconds, 118 tokens:
I0304 08:26:59.197816       1 tree.go:449] latency, insertHelper, 0.0001 seconds, 3756 tokens
I0304 08:26:59.197822       1 tree.go:458] latency, InitAndUpdateModelPod, 0.0000 seconds, 3756 tokens
I0304 08:26:59.197829       1 prefix_cache_and_load.go:478] latency, AddPrefix, 0.0001
I0304 08:26:59.197833       1 prefix_cache_and_load.go:483] node.ModelToPods[model]: map[:2025-03-04 08:26:59.197818412 +0000 UTC m=+176.818040839]
I0304 08:26:59.197849       1 prefix_cache_and_load.go:497] latency, machedPods, 0.0000, Total tokens: 3756, Matched tokens: 3638, Matching ratio: 0.9686, # Matched pods: 0, Matched pods: []
I0304 08:26:59.197855       1 prefix_cache_and_load.go:502] routing, Do prefix-aware routing! (matching ratio: 0.9686 > 0.5000)
I0304 08:26:59.197941       1 prefix_cache_and_load.go:542] Selected pod deepseek-llm-7b-chat-86bd78f77c-nh42j from longest matching node with match length 3638
I0304 08:26:59.197950       1 prefix_cache_and_load.go:543] latency, prefixawarerouting, 0.0001
I0304 08:26:59.197958       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:59.197964       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:59.197969       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:59.197981       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:59.197986       1 prefix_cache_and_load.go:576] latency, AddOrUpdatePodForModel, 0.0000
I0304 08:26:59.197995       1 prefix_cache_and_load.go:580] latency, histogram.update, 0.0000
I0304 08:26:59.198005       1 prefix_cache_and_load.go:582] "target_pod_name" deepseek-llm-7b-chat-86bd78f77c-nh42j="target_pod_ip" 10.0.1.53="(MISSING)"
I0304 08:26:59.198013       1 prefix_cache_and_load.go:584] latency, Route, 0.0473
I0304 08:26:59.198021       1 gateway.go:415] latency, selectTargetPod, 0.0473, target pod, 10.0.1.53:8000
I0304 08:26:59.198031       1 gateway.go:235] latency, HandleRequestBody, 0.0475
I0304 08:26:59.216145       1 gateway.go:455] "-- In ResponseHeaders processing ..." requestID="28271a59-f7f4-4d58-9508-917ace6633e1"
I0304 08:26:59.261616       1 gateway.go:608] "First token received" requestID="28271a59-f7f4-4d58-9508-917ace6633e1" ttft_ms=111
I0304 08:26:59.437169       1 gateway.go:562] latency, 0.0000, summary, hash(request), b94b2610, selectedpod, 10.0.1.53:8000, ttft, 111, tpot, 19, e2e, 286, numInputTokens, 3971, numOutputTokens, 10, numTotalTokens, 3981
I0304 08:26:59.437193       1 gateway.go:748] "Request completed" requestID="28271a59-f7f4-4d58-9508-917ace6633e1" targetPod="10.0.1.53:8000" promptTokens=3971 completionTokens=10 totalTokens=3981
I0304 08:26:59.437204       1 gateway.go:764] "HandleResponseBody completed" requestID="28271a59-f7f4-4d58-9508-917ace6633e1" promptTokens=3971 completionTokens=10 stream=true
